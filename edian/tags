!_TAG_FILE_FORMAT	2	/extended format; --format=1 will not append ;" to lines/
!_TAG_FILE_SORTED	1	/0=unsorted, 1=sorted, 2=foldcase/
!_TAG_PROGRAM_AUTHOR	Darren Hiebert	/dhiebert@users.sourceforge.net/
!_TAG_PROGRAM_NAME	Exuberant Ctags	//
!_TAG_PROGRAM_URL	http://ctags.sourceforge.net	/official site/
!_TAG_PROGRAM_VERSION	5.8	//
ADMIN	application/controllers/bg/home.php	/^        $this->ADMIN = 3;$/;"	v
ADMIN	application/controllers/bg/imglist.php	/^        $this->ADMIN = 3;$/;"	v
ADMIN	application/controllers/bg/item.php	/^        $this->ADMIN = 3;$/;"	v
ADMIN	application/controllers/bg/userlist.php	/^                $this->ADMIN = 3;$/;"	v
ADMIN	application/controllers/order.php	/^        $this->ADMIN = 3;\/\/管理员的权限是3$/;"	v
ADMIN	application/controllers/order.php	/^    var $ADMIN;$/;"	v
ALogin	js/home.js	/^function ALogin (user_name,user_id,passwd) {$/;"	f
ALogin	js/mainpage2.js	/^function ALogin (user_name,user_id,passwd) {$/;"	f
APPPATH	index.php	/^		define('APPPATH', $application_folder.'\/');$/;"	d
APPPATH	index.php	/^		define('APPPATH', BASEPATH.$application_folder.'\/');$/;"	d
APP_ID	application/controllers/dsconfig.class.php	/^define('APP_ID','2050');\/\/每个申请使用Comway云打印的用户即可分配一个唯一的appid号,此处填写您的appid$/;"	d
APP_ID	dsconfig.class.php	/^define('APP_ID','2050');\/\/每个申请使用Comway云打印的用户即可分配一个唯一的appid号,此处填写您的appid$/;"	d
AddText	application/views/printindex.php	/^function AddText(className) {$/;"	f
Array	js/xheditor_plugins/html2markdown.js	/^	Array.prototype.indexOf = function(obj, fromIndex) {$/;"	c
Array.indexOf	js/xheditor_plugins/html2markdown.js	/^	Array.prototype.indexOf = function(obj, fromIndex) {$/;"	m
Art	application/models/art.php	/^class Art extends Ci_Model$/;"	c
ArtOut	application/views/m-bg-home-leftdir-art.php	/^function ArtOut(node){$/;"	f
ArtOut	application/views/m-bg-home-leftdir-img.php	/^function ArtOut(node){$/;"	f
ArtOut	application/views/m-bg-home-leftdir-user.php	/^function ArtOut(node){$/;"	f
ArtOut	application/views/m-bg-home-leftdir.php	/^function ArtOut(node){$/;"	f
ArtOver	application/views/m-bg-home-leftdir-art.php	/^function ArtOver(node){$/;"	f
ArtOver	application/views/m-bg-home-leftdir-img.php	/^function ArtOver(node){$/;"	f
ArtOver	application/views/m-bg-home-leftdir-user.php	/^function ArtOver(node){$/;"	f
ArtOver	application/views/m-bg-home-leftdir.php	/^function ArtOver(node){$/;"	f
Art_list	application/controllers/art_list.php	/^class Art_list extends Controller{$/;"	c
B1	system/libraries/Image_lib.php	/^		$B1 = hexdec(substr($this->wm_font_color, 4, 2));$/;"	v
B2	system/libraries/Image_lib.php	/^		$B2 = hexdec(substr($this->wm_shadow_color, 4, 2));$/;"	v
BASEPATH	index.php	/^	define('BASEPATH', str_replace("\\\\", "\/", $system_path));$/;"	d
BM	system/core/CodeIgniter.php	/^	$BM =& load_class('Benchmark', 'core');$/;"	v
BUYER	application/controllers/bg/userlist.php	/^                $this->BUYER = 2;$/;"	v
Bgart	application/controllers/bg/bgart.php	/^class Bgart extends MY_Controller$/;"	c
Bghome	application/models/bghome.php	/^class Bghome extends Ci_Model{$/;"	c
Blocklist	application/controllers/bg/blocklist.php	/^		class Blocklist extends Ci_Controller{$/;"	c
Blog_model	application/models/blog.php	/^		class Blog_model extendss CI_Model{$/;"	c
Byte2String	application/controllers/dsconfig.class.php	/^function Byte2String($str)$/;"	f
Byte2String	dsconfig.class.php	/^function Byte2String($str)$/;"	f
CACHE	system/database/DB_driver.php	/^		$this->CACHE = new CI_DB_Cache($this); \/\/ pass db object to support multiple db connections and returned db objects$/;"	v
CACHE	system/database/DB_driver.php	/^	var $CACHE; \/\/ The cache class object$/;"	v
CCA	js/art.js	/^function CCA(cont,time,name,userId,photo,comId) {$/;"	f
CCA	js/messout.js	/^function CCA(cont,time,userId,photo,comId){$/;"	f
CFG	system/core/CodeIgniter.php	/^	$CFG =& load_class('Config', 'core');$/;"	v
CFG	system/core/Hooks.php	/^		$CFG =& load_class('Config', 'core');$/;"	v
CI	application/libraries/sms.php	/^        $this->CI =& get_instance();$/;"	v
CI	application/libraries/sms.php	/^    var $CI;$/;"	v
CI	system/core/CodeIgniter.php	/^					$CI = new $class();$/;"	v
CI	system/core/CodeIgniter.php	/^	$CI = new $class();$/;"	v
CI	system/core/Loader.php	/^						$CI =& get_instance();$/;"	v
CI	system/core/Loader.php	/^			$CI =& get_instance();$/;"	v
CI	system/core/Loader.php	/^		$CI =& get_instance();$/;"	v
CI	system/core/Model.php	/^		$CI =& get_instance();$/;"	v
CI	system/core/Output.php	/^			$CI =& get_instance();$/;"	v
CI	system/core/Output.php	/^		$CI =& get_instance();$/;"	v
CI	system/core/Output.php	/^		\/\/ Note:  We use globals because we can't use $CI =& get_instance()$/;"	v
CI	system/database/DB_cache.php	/^		$this->CI =& get_instance();$/;"	v
CI	system/database/DB_cache.php	/^	var $CI;$/;"	v
CI	system/database/DB_forge.php	/^		$CI =& get_instance();$/;"	v
CI	system/database/DB_utility.php	/^			$CI =& get_instance();$/;"	v
CI	system/database/DB_utility.php	/^		$CI =& get_instance();$/;"	v
CI	system/helpers/cookie_helper.php	/^		$CI =& get_instance();$/;"	v
CI	system/helpers/date_helper.php	/^		$CI =& get_instance();$/;"	v
CI	system/helpers/form_helper.php	/^		$CI =& get_instance();$/;"	v
CI	system/helpers/html_helper.php	/^				$CI =& get_instance();$/;"	v
CI	system/helpers/html_helper.php	/^		$CI =& get_instance();$/;"	v
CI	system/helpers/language_helper.php	/^		$CI =& get_instance();$/;"	v
CI	system/helpers/number_helper.php	/^		$CI =& get_instance();$/;"	v
CI	system/helpers/security_helper.php	/^		$CI =& get_instance();$/;"	v
CI	system/helpers/string_helper.php	/^						$CI =& get_instance();$/;"	v
CI	system/helpers/typography_helper.php	/^		$CI =& get_instance();$/;"	v
CI	system/helpers/url_helper.php	/^		$CI =& get_instance();$/;"	v
CI	system/libraries/Cache/drivers/Cache_file.php	/^		$CI =& get_instance();$/;"	v
CI	system/libraries/Cache/drivers/Cache_memcached.php	/^		$CI =& get_instance();$/;"	v
CI	system/libraries/Calendar.php	/^		$this->CI =& get_instance();$/;"	v
CI	system/libraries/Calendar.php	/^	var $CI;$/;"	v
CI	system/libraries/Cart.php	/^		$this->CI =& get_instance();$/;"	v
CI	system/libraries/Cart.php	/^	var $CI;$/;"	v
CI	system/libraries/Email.php	/^		$CI =& get_instance();$/;"	v
CI	system/libraries/Encrypt.php	/^			$CI =& get_instance();$/;"	v
CI	system/libraries/Encrypt.php	/^		$this->CI =& get_instance();$/;"	v
CI	system/libraries/Encrypt.php	/^	var $CI;$/;"	v
CI	system/libraries/Form_validation.php	/^		$this->CI =& get_instance();$/;"	v
CI	system/libraries/Form_validation.php	/^	protected $CI;$/;"	v
CI	system/libraries/Ftp.php	/^		$CI =& get_instance();$/;"	v
CI	system/libraries/Image_lib.php	/^		$CI =& get_instance();$/;"	v
CI	system/libraries/Javascript.php	/^		$this->CI =& get_instance();$/;"	v
CI	system/libraries/Pagination.php	/^		$CI =& get_instance();$/;"	v
CI	system/libraries/Parser.php	/^			$CI =& get_instance();$/;"	v
CI	system/libraries/Parser.php	/^		$CI =& get_instance();$/;"	v
CI	system/libraries/Profiler.php	/^		$this->CI =& get_instance();$/;"	v
CI	system/libraries/Profiler.php	/^	protected $CI;$/;"	v
CI	system/libraries/Session.php	/^		$this->CI =& get_instance();$/;"	v
CI	system/libraries/Session.php	/^	var $CI;$/;"	v
CI	system/libraries/Unit_test.php	/^		$CI =& get_instance();$/;"	v
CI	system/libraries/Upload.php	/^		$CI =& get_instance();$/;"	v
CI	system/libraries/Xmlrpc.php	/^		$CI =& get_instance();$/;"	v
CI	system/libraries/Xmlrpcs.php	/^					$CI =& get_instance();$/;"	v
CI	system/libraries/Zip.php	/^		$CI =& get_instance();$/;"	v
CI	system/libraries/javascript/Jquery.php	/^		$this->CI =& get_instance();	$/;"	v
CI_Benchmark	system/core/Benchmark.php	/^class CI_Benchmark {$/;"	c
CI_CORE	system/core/CodeIgniter.php	/^	define('CI_CORE', FALSE);$/;"	d
CI_Cache	system/libraries/Cache/Cache.php	/^class CI_Cache extends CI_Driver_Library {$/;"	c
CI_Cache_apc	system/libraries/Cache/drivers/Cache_apc.php	/^class CI_Cache_apc extends CI_Driver {$/;"	c
CI_Cache_dummy	system/libraries/Cache/drivers/Cache_dummy.php	/^class CI_Cache_dummy extends CI_Driver {$/;"	c
CI_Cache_file	system/libraries/Cache/drivers/Cache_file.php	/^class CI_Cache_file extends CI_Driver {$/;"	c
CI_Cache_memcached	system/libraries/Cache/drivers/Cache_memcached.php	/^class CI_Cache_memcached extends CI_Driver {$/;"	c
CI_Calendar	system/libraries/Calendar.php	/^class CI_Calendar {$/;"	c
CI_Cart	system/libraries/Cart.php	/^class CI_Cart {$/;"	c
CI_Config	system/core/Config.php	/^class CI_Config {$/;"	c
CI_Controller	system/core/Controller.php	/^class CI_Controller {$/;"	c
CI_DB_Cache	system/database/DB_cache.php	/^class CI_DB_Cache {$/;"	c
CI_DB_active_record	system/database/DB_active_rec.php	/^class CI_DB_active_record extends CI_DB_driver {$/;"	c
CI_DB_cubrid_driver	system/database/drivers/cubrid/cubrid_driver.php	/^class CI_DB_cubrid_driver extends CI_DB {$/;"	c
CI_DB_cubrid_forge	system/database/drivers/cubrid/cubrid_forge.php	/^class CI_DB_cubrid_forge extends CI_DB_forge {$/;"	c
CI_DB_cubrid_result	system/database/drivers/cubrid/cubrid_result.php	/^class CI_DB_cubrid_result extends CI_DB_result {$/;"	c
CI_DB_cubrid_utility	system/database/drivers/cubrid/cubrid_utility.php	/^class CI_DB_cubrid_utility extends CI_DB_utility {$/;"	c
CI_DB_driver	system/database/DB_driver.php	/^class CI_DB_driver {$/;"	c
CI_DB_forge	system/database/DB_forge.php	/^class CI_DB_forge {$/;"	c
CI_DB_mssql_driver	system/database/drivers/mssql/mssql_driver.php	/^class CI_DB_mssql_driver extends CI_DB {$/;"	c
CI_DB_mssql_forge	system/database/drivers/mssql/mssql_forge.php	/^class CI_DB_mssql_forge extends CI_DB_forge {$/;"	c
CI_DB_mssql_result	system/database/drivers/mssql/mssql_result.php	/^class CI_DB_mssql_result extends CI_DB_result {$/;"	c
CI_DB_mssql_utility	system/database/drivers/mssql/mssql_utility.php	/^class CI_DB_mssql_utility extends CI_DB_utility {$/;"	c
CI_DB_mysql_driver	system/database/drivers/mysql/mysql_driver.php	/^class CI_DB_mysql_driver extends CI_DB {$/;"	c
CI_DB_mysql_forge	system/database/drivers/mysql/mysql_forge.php	/^class CI_DB_mysql_forge extends CI_DB_forge {$/;"	c
CI_DB_mysql_result	system/database/drivers/mysql/mysql_result.php	/^class CI_DB_mysql_result extends CI_DB_result {$/;"	c
CI_DB_mysql_utility	system/database/drivers/mysql/mysql_utility.php	/^class CI_DB_mysql_utility extends CI_DB_utility {$/;"	c
CI_DB_mysqli_driver	system/database/drivers/mysqli/mysqli_driver.php	/^class CI_DB_mysqli_driver extends CI_DB {$/;"	c
CI_DB_mysqli_forge	system/database/drivers/mysqli/mysqli_forge.php	/^class CI_DB_mysqli_forge extends CI_DB_forge {$/;"	c
CI_DB_mysqli_result	system/database/drivers/mysqli/mysqli_result.php	/^class CI_DB_mysqli_result extends CI_DB_result {$/;"	c
CI_DB_mysqli_utility	system/database/drivers/mysqli/mysqli_utility.php	/^class CI_DB_mysqli_utility extends CI_DB_utility {$/;"	c
CI_DB_oci8_driver	system/database/drivers/oci8/oci8_driver.php	/^class CI_DB_oci8_driver extends CI_DB {$/;"	c
CI_DB_oci8_forge	system/database/drivers/oci8/oci8_forge.php	/^class CI_DB_oci8_forge extends CI_DB_forge {$/;"	c
CI_DB_oci8_result	system/database/drivers/oci8/oci8_result.php	/^class CI_DB_oci8_result extends CI_DB_result {$/;"	c
CI_DB_oci8_utility	system/database/drivers/oci8/oci8_utility.php	/^class CI_DB_oci8_utility extends CI_DB_utility {$/;"	c
CI_DB_odbc_driver	system/database/drivers/odbc/odbc_driver.php	/^class CI_DB_odbc_driver extends CI_DB {$/;"	c
CI_DB_odbc_forge	system/database/drivers/odbc/odbc_forge.php	/^class CI_DB_odbc_forge extends CI_DB_forge {$/;"	c
CI_DB_odbc_result	system/database/drivers/odbc/odbc_result.php	/^class CI_DB_odbc_result extends CI_DB_result {$/;"	c
CI_DB_odbc_utility	system/database/drivers/odbc/odbc_utility.php	/^class CI_DB_odbc_utility extends CI_DB_utility {$/;"	c
CI_DB_pdo_driver	system/database/drivers/pdo/pdo_driver.php	/^class CI_DB_pdo_driver extends CI_DB {$/;"	c
CI_DB_pdo_forge	system/database/drivers/pdo/pdo_forge.php	/^class CI_DB_pdo_forge extends CI_DB_forge {$/;"	c
CI_DB_pdo_result	system/database/drivers/pdo/pdo_result.php	/^class CI_DB_pdo_result extends CI_DB_result {$/;"	c
CI_DB_pdo_utility	system/database/drivers/pdo/pdo_utility.php	/^class CI_DB_pdo_utility extends CI_DB_utility {$/;"	c
CI_DB_postgre_driver	system/database/drivers/postgre/postgre_driver.php	/^class CI_DB_postgre_driver extends CI_DB {$/;"	c
CI_DB_postgre_forge	system/database/drivers/postgre/postgre_forge.php	/^class CI_DB_postgre_forge extends CI_DB_forge {$/;"	c
CI_DB_postgre_result	system/database/drivers/postgre/postgre_result.php	/^class CI_DB_postgre_result extends CI_DB_result {$/;"	c
CI_DB_postgre_utility	system/database/drivers/postgre/postgre_utility.php	/^class CI_DB_postgre_utility extends CI_DB_utility {$/;"	c
CI_DB_result	system/database/DB_result.php	/^class CI_DB_result {$/;"	c
CI_DB_sqlite_driver	system/database/drivers/sqlite/sqlite_driver.php	/^class CI_DB_sqlite_driver extends CI_DB {$/;"	c
CI_DB_sqlite_forge	system/database/drivers/sqlite/sqlite_forge.php	/^class CI_DB_sqlite_forge extends CI_DB_forge {$/;"	c
CI_DB_sqlite_result	system/database/drivers/sqlite/sqlite_result.php	/^class CI_DB_sqlite_result extends CI_DB_result {$/;"	c
CI_DB_sqlite_utility	system/database/drivers/sqlite/sqlite_utility.php	/^class CI_DB_sqlite_utility extends CI_DB_utility {$/;"	c
CI_DB_sqlsrv_driver	system/database/drivers/sqlsrv/sqlsrv_driver.php	/^class CI_DB_sqlsrv_driver extends CI_DB {$/;"	c
CI_DB_sqlsrv_forge	system/database/drivers/sqlsrv/sqlsrv_forge.php	/^class CI_DB_sqlsrv_forge extends CI_DB_forge {$/;"	c
CI_DB_sqlsrv_result	system/database/drivers/sqlsrv/sqlsrv_result.php	/^class CI_DB_sqlsrv_result extends CI_DB_result {$/;"	c
CI_DB_sqlsrv_utility	system/database/drivers/sqlsrv/sqlsrv_utility.php	/^class CI_DB_sqlsrv_utility extends CI_DB_utility {$/;"	c
CI_DB_utility	system/database/DB_utility.php	/^class CI_DB_utility extends CI_DB_forge {$/;"	c
CI_Driver	system/libraries/Driver.php	/^class CI_Driver {$/;"	c
CI_Driver_Library	system/libraries/Driver.php	/^class CI_Driver_Library {$/;"	c
CI_Email	system/libraries/Email.php	/^class CI_Email {$/;"	c
CI_Encrypt	system/libraries/Encrypt.php	/^class CI_Encrypt {$/;"	c
CI_Exceptions	system/core/Exceptions.php	/^class CI_Exceptions {$/;"	c
CI_FTP	system/libraries/Ftp.php	/^class CI_FTP {$/;"	c
CI_Form_validation	system/libraries/Form_validation.php	/^class CI_Form_validation {$/;"	c
CI_Hooks	system/core/Hooks.php	/^class CI_Hooks {$/;"	c
CI_Image_lib	system/libraries/Image_lib.php	/^class CI_Image_lib {$/;"	c
CI_Input	system/core/Input.php	/^class CI_Input {$/;"	c
CI_Javascript	system/libraries/Javascript.php	/^class CI_Javascript {$/;"	c
CI_Jquery	system/libraries/javascript/Jquery.php	/^class CI_Jquery extends CI_Javascript {$/;"	c
CI_Lang	system/core/Lang.php	/^class CI_Lang {$/;"	c
CI_Loader	system/core/Loader.php	/^class CI_Loader {$/;"	c
CI_Log	system/libraries/Log.php	/^class CI_Log {$/;"	c
CI_Migration	system/libraries/Migration.php	/^class CI_Migration {$/;"	c
CI_Model	system/core/Model.php	/^class CI_Model {$/;"	c
CI_Output	system/core/Output.php	/^class CI_Output {$/;"	c
CI_Pagination	system/libraries/Pagination.php	/^class CI_Pagination {$/;"	c
CI_Parser	system/libraries/Parser.php	/^class CI_Parser {$/;"	c
CI_Profiler	system/libraries/Profiler.php	/^class CI_Profiler {$/;"	c
CI_Router	system/core/Router.php	/^class CI_Router {$/;"	c
CI_SHA1	system/libraries/Sha1.php	/^class CI_SHA1 {$/;"	c
CI_Security	system/core/Security.php	/^class CI_Security {$/;"	c
CI_Session	system/libraries/Session.php	/^class CI_Session {$/;"	c
CI_Sms	application/libraries/sms.php	/^class CI_Sms{$/;"	c
CI_Table	system/libraries/Table.php	/^class CI_Table {$/;"	c
CI_Trackback	system/libraries/Trackback.php	/^class CI_Trackback {$/;"	c
CI_Typography	system/libraries/Typography.php	/^class CI_Typography {$/;"	c
CI_URI	system/core/URI.php	/^class CI_URI {$/;"	c
CI_Unit_test	system/libraries/Unit_test.php	/^class CI_Unit_test {$/;"	c
CI_Upload	system/libraries/Upload.php	/^class CI_Upload {$/;"	c
CI_User_agent	system/libraries/User_agent.php	/^class CI_User_agent {$/;"	c
CI_Utf8	system/core/Utf8.php	/^class CI_Utf8 {$/;"	c
CI_VERSION	system/core/CodeIgniter.php	/^	define('CI_VERSION', '2.1.1');$/;"	d
CI_Xmlrpc	system/libraries/Xmlrpc.php	/^class CI_Xmlrpc {$/;"	c
CI_Xmlrpcs	system/libraries/Xmlrpcs.php	/^class CI_Xmlrpcs extends CI_Xmlrpc$/;"	c
CI_Zip	system/libraries/Zip.php	/^class CI_Zip  {$/;"	c
CKEditor	system/libraries/ckeditor.php	/^	 * $CKEditor = new CKEditor();$/;"	v
CKEditor	system/libraries/ckeditor.php	/^ * $CKEditor = new CKEditor();$/;"	v
CKEditor	system/libraries/ckeditor.php	/^class CKEditor$/;"	c
CR	system/database/DB_driver.php	/^			$CR = new CI_DB_result();$/;"	v
Checkcode	application/controllers/checkcode.php	/^class Checkcode  extends MY_Controller{$/;"	c
Chome	application/controllers/chome.php	/^class Chome extends MY_Controller{$/;"	c
ComItem	application/models/comitem.php	/^class ComItem extends Ci_Model{$/;"	c
Comment	application/models/comment.php	/^	class Comment extends Ci_Model$/;"	c
ComplexCustomOverlay	js/msea.js	/^    ComplexCustomOverlay.prototype = new BMap.Overlay();$/;"	c
ComplexCustomOverlay.draw	js/msea.js	/^    ComplexCustomOverlay.prototype.draw = function(){$/;"	m
ComplexCustomOverlay.initialize	js/msea.js	/^    ComplexCustomOverlay.prototype.initialize = function(map){$/;"	m
Cut	js/xheditor.min.js	/^(function(){var e={};window.XHEDITOR=e})(),function(e,t){e.mapLang={},e.setLang=function(i,s){s===t&&(s=i,i=""),""!==i&&(i+=".");var a,n;for(var o in s)n=s[o],a=i+o,"string"==typeof n||n instanceof Array?e.mapLang[a]=n:e.setLang(a,n)},e.getLang=function(i){var s=e.mapLang[i];if(s===t&&(s=i.replace(\/{#([^{}]+)}\/g,function(t,i){var s=e.mapLang[i];return s?s:i})),"string"==typeof s){var a=arguments;s=s.replace(\/{\\$(\\d+)}\/g,function(e,i){var s=a[parseInt(i,10)+1];return s!==t?s:e})}return s}}(XHEDITOR),function(XHEDITOR,$,undefined){var agent=navigator.userAgent.toLowerCase(),bMobile=\/mobile\/i.test(agent),browser=$.browser,browerVer=parseFloat(browser.version),isIE=browser.msie,isMozilla=browser.mozilla,isWebkit=browser.webkit,isOpera=browser.opera,isChrome=browser.chrome,bAir=agent.indexOf(" adobeair\/")>-1,xCount=0,bShowPanel=!1,bClickCancel=!0,bShowModal=!1,bCheckEscInit=!1,_jPanel,_jShadow,_jCntLine,_jPanelButton,jModal,jModalShadow,layerShadow,jOverlay,jHideSelect,onModalRemove,editorRoot,getLang=XHEDITOR.getLang;if($("script[src*=xheditor]").each(function(){var e=this.src;return e.match(\/xheditor[^\\\/]*\\.js\/i)?(editorRoot=e.replace(\/[\\?#].*$\/,"").replace(\/(^|[\\\/\\\\])[^\\\/]*$\/,"$1"),!1):undefined}),isIE){try{document.execCommand("BackgroundImageCache",!1,!0)}catch(e){}var jqueryVer=$.fn.jquery;jqueryVer&&jqueryVer.match(\/^1\\.[67]\/)&&($.attrHooks.width=$.attrHooks.height=null)}var specialKeys={27:"esc",9:"tab",32:"space",13:"enter",8:"backspace",145:"scroll",20:"capslock",144:"numlock",19:"pause",45:"insert",36:"home",46:"del",35:"end",33:"pageup",34:"pagedown",37:"left",38:"up",39:"right",40:"down",112:"f1",113:"f2",114:"f3",115:"f4",116:"f5",117:"f6",118:"f7",119:"f8",120:"f9",121:"f10",122:"f11",123:"f12"},arrAlign=[{v:"justifyleft"},{v:"justifycenter"},{v:"justifyright"},{v:"justifyfull"}],arrList=[{v:"insertOrderedList"},{v:"insertUnorderedList"}],htmlPastetext='<div><label for="xhePastetextValue">{#PastetextTip}<\/label><\/div><div><textarea id="xhePastetextValue" wrap="soft" spellcheck="false" style="width:300px;height:100px;" \/><\/div><div style="text-align:right;"><input type="button" id="xheSave" value="{#dialogOk}" \/><\/div>',htmlLink='<div><label for="xheLinkUrl">{#link.url}<\/label><input type="text" id="xheLinkUrl" value="http:\/\/" class="xheText" \/><\/div><div><label for="xheLinkTarget">{#link.target}<\/label><select id="xheLinkTarget"><option selected="selected" value="">{#default}<\/option><option value="_blank">{#link.targetBlank}<\/option><option value="_self">{#link.targetSelf}<\/option><option value="_parent">{#link.targetParent}<\/option><\/select><\/div><div style="display:none"><label for="xheLinkText">{#link.linkText}<\/label><input type="text" id="xheLinkText" value="" class="xheText" \/><\/div><div style="text-align:right;"><input type="button" id="xheSave" value="{#dialogOk}" \/><\/div>',htmlAnchor='<div><label for="xheAnchorName">{#anchor.name}<\/label><input type="text" id="xheAnchorName" value="" class="xheText" \/><\/div><div style="text-align:right;"><input type="button" id="xheSave" value="{#dialogOk}" \/><\/div>',htmlImg='<div><label for="xheImgUrl">{#img.url}<\/label><input type="text" id="xheImgUrl" value="http:\/\/" class="xheText" \/><\/div><div><div><label for="xheImgAlt">{#img.alt}<\/label><input type="text" id="xheImgAlt" \/><\/div><div><label for="xheImgAlign">{#img.align}<\/label><select id="xheImgAlign"><option selected="selected" value="">{#default}<\/option><option value="left">{#img.alignLeft}<\/option><option value="right">{#img.alignRight}<\/option><option value="top">{#img.alignTop}<\/option><option value="middle">{#img.alignMiddle}<\/option><option value="baseline">{#img.alignBaseline}<\/option><option value="bottom">{#img.alignBottom}<\/option><\/select><\/div><div><label for="xheImgWidth">{#img.width}<\/label><input type="text" id="xheImgWidth" style="width:40px;" \/> <label for="xheImgHeight">{#img.height}<\/label><input type="text" id="xheImgHeight" style="width:40px;" \/><\/div><div><label for="xheImgBorder">{#img.border}<\/label><input type="text" id="xheImgBorder" style="width:40px;" \/><\/div><div><label for="xheImgHspace">{#img.hspace}<\/label><input type="text" id="xheImgHspace" style="width:40px;" \/> <label for="xheImgVspace">{#img.vspace}<\/label><input type="text" id="xheImgVspace" style="width:40px;" \/><\/div><div style="text-align:right;"><input type="button" id="xheSave" value="{#dialogOk}" \/><\/div>',htmlFlash='<div><label for="xheFlashUrl">{#flash.url}<\/label><input type="text" id="xheFlashUrl" value="http:\/\/" class="xheText" \/><\/div><div><label for="xheFlashWidth">{#flash.width}<\/label><input type="text" id="xheFlashWidth" style="width:40px;" value="480" \/> <label for="xheFlashHeight">{#flash.height}<\/label><input type="text" id="xheFlashHeight" style="width:40px;" value="400" \/><\/div><div style="text-align:right;"><input type="button" id="xheSave" value="{#dialogOk}" \/><\/div>',htmlMedia='<div><label for="xheMediaUrl">{#media.url}<\/label><input type="text" id="xheMediaUrl" value="http:\/\/" class="xheText" \/><\/div><div><label for="xheMediaWidth">{#media.width}<\/label><input type="text" id="xheMediaWidth" style="width:40px;" value="480" \/> <label for="xheMediaHeight">{#media.height}<\/label><input type="text" id="xheMediaHeight" style="width:40px;" value="400" \/><\/div><div style="text-align:right;"><input type="button" id="xheSave" value="{#dialogOk}" \/><\/div>',htmlTable='<div><label for="xheTableRows">{#table.rows}<\/label><input type="text" id="xheTableRows" style="width:40px;" value="3" \/> <label for="xheTableColumns">{#table.columns}<\/label><input type="text" id="xheTableColumns" style="width:40px;" value="2" \/><\/div><div><label for="xheTableHeaders">{#table.headers}<\/label><select id="xheTableHeaders"><option selected="selected" value="">{#none}<\/option><option value="row">{#table.headersRow}<\/option><option value="col">{#table.headersCol}<\/option><option value="both">{#table.headersBoth}<\/option><\/select><\/div><div><label for="xheTableWidth">{#table.width}<\/label><input type="text" id="xheTableWidth" style="width:40px;" value="200" \/> <label for="xheTableHeight">{#table.height}<\/label><input type="text" id="xheTableHeight" style="width:40px;" value="" \/><\/div><div><label for="xheTableBorder">{#table.border}<\/label><input type="text" id="xheTableBorder" style="width:40px;" value="1" \/><\/div><div><label for="xheTableCellSpacing">{#table.cellSpacing}<\/label><input type="text" id="xheTableCellSpacing" style="width:40px;" value="1" \/> <label for="xheTableCellPadding">{#table.cellPadding}<\/label><input type="text" id="xheTableCellPadding" style="width:40px;" value="1" \/><\/div><div><label for="xheTableAlign">{#table.align}<\/label><select id="xheTableAlign"><option selected="selected" value="">{#default}<\/option><option value="left">{#table.alignLeft}<\/option><option value="center">{#table.alignCenter}<\/option><option value="right">{#table.alignRight}<\/option><\/select><\/div><div><label for="xheTableCaption">{#table.caption}<\/label><input type="text" id="xheTableCaption" \/><\/div><div style="text-align:right;"><input type="button" id="xheSave" value="{#dialogOk}" \/><\/div>',htmlAbout='<div style="font:12px Arial;width:245px;word-wrap:break-word;word-break:break-all;outline:none;" role="dialog" tabindex="-1"><p><span style="font-size:20px;color:#1997DF;">xhEditor<\/span><br \/>v1.2.1 (build 130225)<\/p><p>{#aboutXheditor}<\/p><p>Copyright &copy; <a href="http:\/\/xheditor.com\/" target="_blank">xhEditor.com<\/a>. All rights reserved.<\/p><\/div>',itemEmots={"default":{name:"{#default}",width:24,height:24,line:7,list:["smile","tongue","titter","laugh","sad","wronged","fastcry","cry","wail","mad","knock","curse","crazy","angry","ohmy","awkward","panic","shy","cute","envy","proud","struggle","quiet","shutup","doubt","despise","sleep","bye"]}},arrTools={Cut:{t:"Cut"},Copy:{t:"Copy"},Paste:{t:"Paste"},Pastetext:{t:"Pastetext",h:isIE?0:1},Blocktag:{t:"Blocktag",h:1},Fontface:{t:"Fontface",h:1},FontSize:{t:"FontSize",h:1},Bold:{t:"Bold",s:"Ctrl+B"},Italic:{t:"Italic",s:"Ctrl+I"},Underline:{t:"Underline",s:"Ctrl+U"},Strikethrough:{t:"Strikethrough"},FontColor:{t:"FontColor",h:1},BackColor:{t:"BackColor",h:1},SelectAll:{t:"SelectAll"},Removeformat:{t:"Removeformat"},Align:{t:"Align",h:1},List:{t:"List",h:1},Outdent:{t:"Outdent"},Indent:{t:"Indent"},Link:{t:"Link",s:"Ctrl+L",h:1},Unlink:{t:"Unlink"},Anchor:{t:"Anchor",h:1},Img:{t:"Img",h:1},Flash:{t:"Flash",h:1},Media:{t:"Media",h:1},Hr:{t:"Hr"},Emot:{t:"Emot",s:"ctrl+e",h:1},Table:{t:"Table",h:1},Source:{t:"Source"},Preview:{t:"Preview"},Print:{t:"Print",s:"Ctrl+P"},Fullscreen:{t:"Fullscreen",s:"Esc"},About:{t:"About"}},toolsThemes={mini:"Bold,Italic,Underline,Strikethrough,|,Align,List,|,Link,Img",simple:"Blocktag,Fontface,FontSize,Bold,Italic,Underline,Strikethrough,FontColor,BackColor,|,Align,List,Outdent,Indent,|,Link,Img,Emot",full:"Cut,Copy,Paste,Pastetext,|,Blocktag,Fontface,FontSize,Bold,Italic,Underline,Strikethrough,FontColor,BackColor,SelectAll,Removeformat,|,Align,List,Outdent,Indent,|,Link,Unlink,Anchor,Img,Flash,Media,Hr,Emot,Table,|,Source,Preview,Print,Fullscreen"};toolsThemes.mfull=toolsThemes.full.replace(\/\\|(,Align)\/i,"\/$1");var arrDbClick={a:"Link",img:"Img",embed:"Embed"},uploadInputname="filedata",arrEntities={"<":"&lt;",">":"&gt;",'"':"&quot;","\\u00ae":"&reg;","\\u00a9":"&copy;"},regEntities=\/[<>"\\u00ae\\u00a9]\/g,Xheditor=function(textarea,options){function checkDblClick(e){var t=e.target,i=arrDbClick[t.tagName.toLowerCase()];if(i){if("Embed"===i){var s={"application\/x-shockwave-flash":"Flash","application\/x-mplayer2":"Media"};i=s[t.type.toLowerCase()]}_this.exec(i)}}function checkEsc(e){return 27===e.which?(bShowModal?_this.removeModal():bShowPanel&&_this.hidePanel(),!1):undefined}function loadReset(){setTimeout(_this.setSource,10)}function saveResult(){_this.getSource()}function cleanPaste(e){var t,i,s;if(e&&(t=e.originalEvent.clipboardData)&&(i=t.items)&&(s=i[0])&&"file"==s.kind&&s.type.match(\/^image\\\/\/i)){var a=s.getAsFile(),n=new FileReader;return n.onload=function(){var e='<img src="'+event.target.result+'">';e=replaceRemoteImg(e),_this.pasteHTML(e)},n.readAsDataURL(a),!1}var o=settings.cleanPaste;if(0===o||bSource||bCleanPaste)return!0;bCleanPaste=!0,_this.saveBookmark();var l=isIE?"pre":"div",r=$("<"+l+' class="xhe-paste">\\ufeff\\ufeff<\/'+l+">",_doc).appendTo(_doc.body),h=r[0],c=_this.getSel(),d=_this.getRng(!0);r.css("top",_jWin.scrollTop()),isIE?(d.moveToElementText(h),d.select()):(d.selectNodeContents(h),c.removeAllRanges(),c.addRange(d)),setTimeout(function(){var e,t=3===o;if(t)r.html(r.html().replace(\/<br(\\s+[^<>]*)?>\/gi,"\\n")),e=r.text();else{var i=$(".xhe-paste",_doc.body),s=[];i.each(function(e,t){0==$(t).find(".xhe-paste").length&&s.push(t.innerHTML)}),e=s.join("<br \/>")}r.remove(),_this.loadBookmark(),e=e.replace(\/^[\\s\\uFEFF]+|[\\s\\uFEFF]+$\/g,""),e&&(t?_this.pasteText(e):(e=_this.cleanHTML(e),e=_this.cleanWord(e),e=_this.formatXHTML(e),(!settings.onPaste||settings.onPaste&&(e=settings.onPaste(e))!==!1)&&(e=replaceRemoteImg(e),_this.pasteHTML(e)))),bCleanPaste=!1},0)}function replaceRemoteImg(e){var t=settings.localUrlTest,i=settings.remoteImgSaveUrl;if(t&&i){var s=[],a=0;e=e.replace(\/(<img)((?:\\s+[^>]*?)?(?:\\s+src="\\s*([^"]+)\\s*")(?: [^>]*)?)(\\\/?>)\/gi,function(e,i,n,o,l){return!\/^(https?|data:image)\/i.test(o)||\/_xhe_temp\/.test(n)||t.test(o)||(s[a]=o,n=n.replace(\/\\s+(width|height)="[^"]*"\/gi,"").replace(\/\\s+src="[^"]*"\/gi,' src="'+skinPath+'img\/waiting.gif" remoteimg="'+a++ +'"')),i+n+l}),s.length>0&&$.post(i,{urls:s.join("|")},function(e){e=e.split("|"),$("img[remoteimg]",_this.doc).each(function(){var t=$(this);xheAttr(t,"src",e[t.attr("remoteimg")]),t.removeAttr("remoteimg")})})}return e}function setCSS(e){try{_this._exec("styleWithCSS",e,!0)}catch(t){try{_this._exec("useCSS",!e,!0)}catch(t){}}}function setOpts(){if(bInit&&!bSource){setCSS(!1);try{_this._exec("enableObjectResizing",!0,!0)}catch(e){}if(isIE)try{_this._exec("BackgroundImageCache",!0,!0)}catch(e){}}}function forcePtag(e){if(bSource||13!==e.which||e.shiftKey||e.ctrlKey||e.altKey)return!0;var t=_this.getParent("p,h1,h2,h3,h4,h5,h6,pre,address,div,li");return t.is("li")?!0:settings.forcePtag?(0===t.length&&_this._exec("formatblock","<p>"),undefined):(_this.pasteHTML("<br \/>"),isIE&&t.length>0&&2===_this.getRng().parentElement().childNodes.length&&_this.pasteHTML("<br \/>"),!1)}function fixFullHeight(){isMozilla||isWebkit||(bFullscreen&&_jArea.height("100%").css("height",_jArea.outerHeight()-_jTools.outerHeight()),isIE&&_jTools.hide().show())}function fixAppleSel(e){if(e=e.target,e.tagName.match(\/(img|embed)\/i)){var t=_this.getSel(),i=_this.getRng(!0);i.selectNode(e),t.removeAllRanges(),t.addRange(i)}}function xheAttr(e,t,i){if(!t)return!1;var s="_xhe_"+t;return i&&(urlType&&(i=getLocalUrl(i,urlType,urlBase)),e.attr(t,urlBase?getLocalUrl(i,"abs",urlBase):i).removeAttr(s).attr(s,i)),e.attr(s)||e.attr(t)}function clickCancelPanel(){bClickCancel&&_this.hidePanel()}function checkShortcuts(e){if(bSource)return!0;var t=e.which,i=specialKeys[t],s=i?i:String.fromCharCode(t).toLowerCase();sKey="",sKey+=e.ctrlKey?"ctrl+":"",sKey+=e.altKey?"alt+":"",sKey+=e.shiftKey?"shift+":"",sKey+=s;var a,n=arrShortCuts[sKey];for(a in n){if(a=n[a],!$.isFunction(a))return _this.exec(a),!1;if(a.call(_this)===!1)return!1}}function is(e,t){var i=typeof e;return t?"array"===t&&e.hasOwnProperty&&e instanceof Array?!0:i===t:"undefined"!=i}function getLocalUrl(e,t,i){if(e.match(\/^(\\w+):\\\/\\\/\/i)&&!e.match(\/^https?:\/i)||\/^#\/i.test(e)||\/^data:\/i.test(e))return e;var s=i?$('<a href="'+i+'" \/>')[0]:location,a=s.protocol,n=s.host,o=s.hostname,l=s.port,r=s.pathname.replace(\/\\\\\/g,"\/").replace(\/[^\\\/]+$\/i,"");if(""===l&&(l="80"),""===r?r="\/":"\/"!==r.charAt(0)&&(r="\/"+r),e=$.trim(e),"abs"!==t&&(e=e.replace(RegExp(a+"\\\\\/\\\\\/"+o.replace(\/\\.\/g,"\\\\.")+"(?::"+l+")"+("80"===l?"?":"")+"(\/|$)","i"),"\/")),"rel"===t&&(e=e.replace(RegExp("^"+r.replace(\/([\\\/\\.\\+\\[\\]\\(\\)])\/g,"\\\\$1"),"i"),"")),"rel"!==t&&(e.match(\/^(https?:\\\/\\\/|\\\/)\/i)||(e=r+e),"\/"===e.charAt(0))){var h,c,d=[],u=e.split("\/"),p=u.length;for(c=0;p>c;c++)h=u[c],".."===h?d.pop():""!==h&&"."!==h&&d.push(h);""===u[p-1]&&d.push(""),e="\/"+d.join("\/")}return"abs"!==t||e.match(\/^https?:\\\/\\\/\/i)||(e=a+"\/\/"+n+e),e=e.replace(\/(https?:\\\/\\\/[^:\\\/?#]+):80(\\\/|$)\/i,"$1$2")}function checkFileExt(e,t){return"*"===t||e.match(RegExp(".("+t.replace(\/,\/g,"|")+")$","i"))?!0:(alert(getLang("upload.extLimit",t)),!1)}function formatBytes(e){var t=["Byte","KB","MB","GB","TB","PB"],i=Math.floor(Math.log(e)\/Math.log(1024));return(e\/Math.pow(1024,Math.floor(i))).toFixed(2)+t[i]}function returnFalse(){return!1}var _this=this,_text=textarea,_jText=$(_text),_jForm=_jText.closest("form"),_jTools,_jArea,_win,_jWin,_doc,_jDoc,bookmark,bInit=!1,bSource=!1,bFullscreen=!1,bCleanPaste=!1,outerScroll,bShowBlocktag=!1,sLayoutStyle="",ev=null,timer,bDisableHoverExec=!1,bQuickHoverExec=!1,lastPoint=null,lastAngle=null,editorHeight=0,settings=_this.settings=$.extend({},XHEDITOR.settings,options),plugins=settings.plugins,strPlugins=[];if(plugins&&(arrTools=$.extend({},arrTools,plugins),$.each(plugins,function(e){strPlugins.push(e)}),strPlugins=strPlugins.join(",")),settings.tools.match(\/^\\s*(m?full|simple|mini)\\s*$\/i)){var toolsTheme=toolsThemes[$.trim(settings.tools)];settings.tools=settings.tools.match(\/m?full\/i)&&plugins?toolsTheme.replace("Table","Table,"+strPlugins):toolsTheme}settings.tools.match(\/(^|,)\\s*About\\s*(,|$)\/i)||(settings.tools+=",About"),settings.tools=settings.tools.split(","),settings.editorRoot&&(editorRoot=settings.editorRoot),bAir===!1&&(editorRoot=getLocalUrl(editorRoot,"abs")),settings.urlBase&&(settings.urlBase=getLocalUrl(settings.urlBase,"abs"));var idCSS="xheCSS_"+settings.skin,idContainer="xhe"+xCount+"_container",idTools="xhe"+xCount+"_Tool",idIframeArea="xhe"+xCount+"_iframearea",idIframe="xhe"+xCount+"_iframe",idFixFFCursor="xhe"+xCount+"_fixffcursor",headHTML="",bodyClass="",skinPath=editorRoot+"xheditor_skin\/"+settings.skin+"\/",arrEmots=itemEmots,urlType=settings.urlType,urlBase=settings.urlBase,emotPath=settings.emotPath,emotPath=emotPath?emotPath:editorRoot+"xheditor_emot\/",selEmotGroup="";arrEmots=$.extend({},arrEmots,settings.emots),emotPath=getLocalUrl(emotPath,"rel",urlBase?urlBase:null),bShowBlocktag=settings.showBlocktag,bShowBlocktag&&(bodyClass+=" showBlocktag");var arrShortCuts=[];this.init=function(){function e(e){var t,i=$(e.target);(t=i.css("width"))&&i.css("width","").attr("width",t.replace(\/[^0-9%]+\/g,"")),(t=i.css("height"))&&i.css("height","").attr("height",t.replace(\/[^0-9%]+\/g,""))}0===$("#"+idCSS).length&&$("head").append('<link id="'+idCSS+'" rel="stylesheet" type="text\/css" href="'+skinPath+'ui.css" \/>');var t=_jText.outerWidth(),i=_jText.outerHeight(),s=settings.width||_text.style.width||(t>10?t:0);editorHeight=settings.height||_text.style.height||(i>10?i:150),\/^\\d+(?:\\.\\d+)?$\/.test(s)&&(s+="px"),is(editorHeight,"string")&&(editorHeight=editorHeight.replace(\/[^\\d]+\/g,""));var a,n,o=settings.background||_text.style.background,l=['<span class="xheGStart"\/>'],r=\/\\||\\\/\/i;$.each(settings.tools,function(e,t){if(t.match(r)&&l.push('<span class="xheGEnd"\/>'),"|"===t)l.push('<span class="xheSeparator"\/>');else if("\/"===t)l.push("<br \/>");else{if(a=arrTools[t],!a)return;n=a.c?a.c:"xheIcon xheBtn"+t,l.push('<span><a href="#" title="{#'+a.t+'}" cmd="'+t+'" class="xheButton xheEnabled" tabindex="-1" role="button"><span class="'+n+'" unselectable="on" style="font-size:0;color:transparent;text-indent:-999px;">'+a.t+"<\/span><\/a><\/span>"),a.s&&_this.addShortcuts(a.s,t)}t.match(r)&&l.push('<span class="xheGStart"\/>')}),l.push('<span class="xheGEnd"\/><br \/>'),_jText.after($('<input type="text" id="'+idFixFFCursor+'" style="position:absolute;display:none;" \/><span id="'+idContainer+'" class="xhe_'+settings.skin+'" style="display:none"><table cellspacing="0" cellpadding="0" class="xheLayout" style="'+("0px"!=s?"width:"+s+";":"")+"height:"+editorHeight+'px;" role="presentation"><tr><td id="'+idTools+'" class="xheTool" unselectable="on" style="height:1px;" role="presentation"><\/td><\/tr><tr><td id="'+idIframeArea+'" class="xheIframeArea" role="presentation"><iframe frameborder="0" id="'+idIframe+'" src="javascript:;" style="width:100%;"><\/iframe><\/td><\/tr><\/table><\/span>')),_jTools=$("#"+idTools),_jArea=$("#"+idIframeArea),headHTML='<meta http-equiv="Content-Type" content="text\/html; charset=utf-8" \/><link rel="stylesheet" href="'+skinPath+'iframe.css"\/>';var h=settings.loadCSS;if(h)if(is(h,"array"))for(var c in h)headHTML+='<link rel="stylesheet" href="'+h[c]+'"\/>';else headHTML+=h.match(\/\\s*<style(\\s+[^>]*?)?>[\\s\\S]+?<\\\/style>\\s*\/i)?h:'<link rel="stylesheet" href="'+h+'"\/>';var d='<!DOCTYPE html><html xmlns="http:\/\/www.w3.org\/1999\/xhtml"><head>'+headHTML+"<title>{#defaultReadTip} "+(settings.readTip?settings.readTip:"")+"<\/title>";o&&(d+="<style>html{background:"+o+";}<\/style>"),d+='<\/head><body spellcheck="0" class="editMode'+bodyClass+'"><\/body><\/html>',_this.win=_win=$("#"+idIframe)[0].contentWindow,_jWin=$(_win);try{this.doc=_doc=_win.document,_jDoc=$(_doc),_doc.open(),_doc.write(getLang(d)),_doc.close(),isIE?_doc.body.contentEditable="true":_doc.designMode="On"}catch(u){}setTimeout(setOpts,300),_this.setSource(),_win.setInterval=null,_jTools.append(getLang(l.join(""))).bind("mousedown contextmenu",returnFalse).click(function(e){var t=$(e.target).closest("a");return t.is(".xheEnabled")&&(clearTimeout(timer),_jTools.find("a").attr("tabindex","-1"),ev=e,_this.exec(t.attr("cmd"))),!1}),_jTools.find(".xheButton").hover(function(e){var t=$(this),i=settings.hoverExecDelay,s=lastAngle;if(lastAngle=null,-1===i||bDisableHoverExec||!t.is(".xheEnabled"))return!1;if(s&&s>10)return bDisableHoverExec=!0,setTimeout(function(){bDisableHoverExec=!1},100),!1;var a=t.attr("cmd"),n=1===arrTools[a].h;return n?(bQuickHoverExec&&(i=0),i>=0&&(timer=setTimeout(function(){ev=e,lastPoint={x:ev.clientX,y:ev.clientY},_this.exec(a)},i)),undefined):(_this.hidePanel(),!1)},function(){lastPoint=null,timer&&clearTimeout(timer)}).mousemove(function(e){if(lastPoint){var t={x:e.clientX-lastPoint.x,y:e.clientY-lastPoint.y};if(Math.abs(t.x)>1||Math.abs(t.y)>1){if(t.x>0&&t.y>0){var i=Math.round(Math.atan(t.y\/t.x)\/.017453293);lastAngle=lastAngle?(lastAngle+i)\/2:i}else lastAngle=null;lastPoint={x:e.clientX,y:e.clientY}}}}),_jPanel=$("#xhePanel"),_jShadow=$("#xheShadow"),_jCntLine=$("#xheCntLine"),0===_jPanel.length&&(_jPanel=$('<div id="xhePanel"><\/div>').mousedown(function(e){e.stopPropagation()}),_jShadow=$('<div id="xheShadow"><\/div>'),_jCntLine=$('<div id="xheCntLine"><\/div>'),setTimeout(function(){$(document.body).append(_jPanel).append(_jShadow).append(_jCntLine)},10)),$("#"+idContainer).show(),_jText.hide(),_jArea.css("height",editorHeight-_jTools.outerHeight()),isIE&8>browerVer&&setTimeout(function(){_jArea.css("height",editorHeight-_jTools.outerHeight())},1),_jText.focus(_this.focus),_jForm.submit(saveResult).bind("reset",loadReset),settings.submitID&&$("#"+settings.submitID).mousedown(saveResult),$(window).bind("unload beforeunload",saveResult).bind("resize",fixFullHeight),$(document).mousedown(clickCancelPanel),bCheckEscInit||($(document).keydown(checkEsc),bCheckEscInit=!0),_jWin.focus(function(){settings.focus&&settings.focus()}).blur(function(){settings.blur&&settings.blur()}),isWebkit&&_jWin.click(fixAppleSel),_jDoc.mousedown(clickCancelPanel).keydown(checkShortcuts).keypress(forcePtag).dblclick(checkDblClick).bind("mousedown click",function(e){_jText.trigger(e.type)}),isIE&&(_jDoc.keydown(function(e){var t=_this.getRng();return 8===e.which&&t.item?($(t.item(0)).remove(),!1):undefined}),_jDoc.bind("controlselect",function(t){t=t.target,$.nodeName(t,"IMG")&&$(t).unbind("resizeend",e).bind("resizeend",e)})),_jDoc.keydown(function(e){var t=e.which;return e.altKey&&t>=49&&57>=t?(_jTools.find("a").attr("tabindex","0"),_jTools.find(".xheGStart").eq(t-49).next().find("a").focus(),_doc.title="\\ufeff\\ufeff",!1):undefined}).click(function(){_jTools.find("a").attr("tabindex","-1")}),_jTools.keydown(function(e){var t=e.which;if(27==t)_jTools.find("a").attr("tabindex","-1"),_this.focus();else if(e.altKey&&t>=49&&57>=t)return _jTools.find(".xheGStart").eq(t-49).next().find("a").focus(),!1});var p=$(_doc.documentElement);isOpera?p.bind("keydown",function(e){e.ctrlKey&&86===e.which&&cleanPaste()}):p.bind(isIE?"beforepaste":"paste",cleanPaste),settings.disableContextmenu&&p.bind("contextmenu",returnFalse),settings.html5Upload&&p.bind("dragenter dragover",function(e){var t;return(t=e.originalEvent.dataTransfer.types)&&-1!==$.inArray("Files",t)?!1:undefined}).bind("drop",function(e){function t(e){var t,i,s;for(a=0;e.length>a;a++){if(i=e[a].name.replace(\/.+\\.\/,""),!(t=o.match(RegExp("(\\\\w+):[^:]*,"+i+"(?:,|$)","i"))))return 1;if(s){if(s!==t[1])return 2}else s=t[1]}return s}var i,s=e.originalEvent.dataTransfer;if(s&&(i=s.files)&&i.length>0){var a,n,o,l=["Link","Img","Flash","Media"],r=[];for(a in l)n=l[a],settings["up"+n+"Url"]&&settings["up"+n+"Url"].match(\/^[^!].*\/i)&&r.push(n+":,"+settings["up"+n+"Ext"]);return 0===r.length?!1:(o=r.join(","),n=t(i),1===n?alert(getLang("upload.extLimit",o.replace(\/\\w+:,\/g,""))):2===n?alert(getLang("upload.typeLimit")):n&&_this.startUpload(i,settings["up"+n+"Url"],"*",function(e){var t,i=[],s=settings.onUpload;s&&s(e);for(var a=0,o=e.length;o>a;a++)t=e[a],url=is(t,"string")?t:t.url,"!"===url.substr(0,1)&&(url=url.substr(1)),i.push(url);_this.exec(n),$("#xhe"+n+"Url").val(i.join(" ")),$("#xheSave").click()}),!1)}});var g=settings.shortcuts;g&&$.each(g,function(e,t){_this.addShortcuts(e,t)}),xCount++,bInit=!0,settings.fullscreen?_this.toggleFullscreen():settings.sourceMode&&setTimeout(_this.toggleSource,20);var f=settings.plugins;return f&&$.each(f,function(e,t){var i=t.i;i!==undefined&&i(_this)}),!0},this.remove=function(){_this.hidePanel(),saveResult(),_jText.unbind("focus",_this.focus),_jForm.unbind("submit",saveResult).unbind("reset",loadReset),settings.submitID&&$("#"+settings.submitID).unbind("mousedown",saveResult),$(window).unbind("unload beforeunload",saveResult).unbind("resize",fixFullHeight),$(document).unbind("mousedown",clickCancelPanel),$("#"+idContainer).remove(),$("#"+idFixFFCursor).remove(),_jText.show(),bInit=!1},this.saveBookmark=function(){if(!bSource){_this.focus();var e=_this.getRng();e=e.cloneRange?e.cloneRange():e,bookmark={top:_jWin.scrollTop(),rng:e}}},this.loadBookmark=function(){if(!bSource&&bookmark){_this.focus();var e=bookmark.rng;if(isIE)e.select();else{var t=_this.getSel();t.removeAllRanges(),t.addRange(e)}_jWin.scrollTop(bookmark.top),bookmark=null}},this.focus=function(){if(bSource?$("#sourceCode",_doc).focus():_win.focus(),isIE){var e=_this.getRng();e.parentElement&&e.parentElement().ownerDocument!==_doc&&_this.setTextCursor()}return!1},this.setTextCursor=function(e){var t=_this.getRng(!0),i=_doc.body;if(isIE)t.moveToElementText(i);else{for(var s=e?"lastChild":"firstChild";3!=i.nodeType&&i[s];)i=i[s];t.selectNode(i)}if(t.collapse(e?!1:!0),isIE)t.select();else{var a=_this.getSel();a.removeAllRanges(),a.addRange(t)}},this.getSel=function(){return _doc.selection?_doc.selection:_win.getSelection()},this.getRng=function(e){var t,i;try{e||(t=_this.getSel(),i=t.createRange?t.createRange():t.rangeCount>0?t.getRangeAt(0):null),i||(i=_doc.body.createTextRange?_doc.body.createTextRange():_doc.createRange())}catch(s){}return i},this.getParent=function(e){var t,i=_this.getRng();return isIE?t=i.item?i.item(0):i.parentElement():(t=i.commonAncestorContainer,i.collapsed||i.startContainer===i.endContainer&&2>i.startOffset-i.endOffset&&i.startContainer.hasChildNodes()&&(t=i.startContainer.childNodes[i.startOffset])),e=e?e:"*",t=$(t),t.is(e)||(t=$(t).closest(e)),t},this.getSelect=function(e){var t=_this.getSel(),i=_this.getRng(),s=!0;if(s=!i||i.item?!1:!t||0===i.boundingWidth||i.collapsed,"text"===e)return s?"":i.text||(t.toString?""+t:"");var a;if(i.cloneContents){var n,o=$("<div><\/div>");n=i.cloneContents(),n&&o.append(n),a=o.html()}else a=is(i.item)?i.item(0).outerHTML:is(i.htmlText)?i.htmlText:""+i;return s&&(a=""),a=_this.processHTML(a,"read"),a=_this.cleanHTML(a),a=_this.formatXHTML(a)},this.pasteHTML=function(e,t){if(bSource)return!1;_this.focus(),e=_this.processHTML(e,"write");var i=_this.getSel(),s=_this.getRng();if(t!==undefined){if(s.item){var a=s.item(0);s=_this.getRng(!0),s.moveToElementText(a),s.select()}s.collapse(t)}if(e+="<"+(isIE?"img":"span")+' id="_xhe_temp" width="0" height="0" \/>',s.insertNode){if($(s.startContainer).closest("style,script").length>0)return!1;s.deleteContents(),s.insertNode(s.createContextualFragment(e))}else"control"===i.type.toLowerCase()&&(i.clear(),s=_this.getRng()),s.pasteHTML(e);var n=$("#_xhe_temp",_doc),o=n[0];isIE?(s.moveToElementText(o),s.select()):(s.selectNode(o),i.removeAllRanges(),i.addRange(s)),n.remove()},this.pasteText=function(e,t){e||(e=""),e=_this.domEncode(e),e=e.replace(\/\\r?\\n\/g,"<br \/>"),_this.pasteHTML(e,t)},this.appendHTML=function(e){return bSource?!1:(_this.focus(),e=_this.processHTML(e,"write"),$(_doc.body).append(e),_this.setTextCursor(!0),undefined)},this.domEncode=function(e){return e.replace(regEntities,function(e){return arrEntities[e]})},this.setSource=function(e){bookmark=null,"string"!=typeof e&&""!==e&&(e=_text.value),bSource?$("#sourceCode",_doc).val(e):(settings.beforeSetSource&&(e=settings.beforeSetSource(e)),e=_this.cleanHTML(e),e=_this.formatXHTML(e),e=_this.processHTML(e,"write"),isIE?(_doc.body.innerHTML='<img id="_xhe_temp" width="0" height="0" \/>'+e,$("#_xhe_temp",_doc).remove()):_doc.body.innerHTML=e)},this.processHTML=function(e,t){function i(e,t,i,s,a,o){var l,r,h,c,d="";if(l=s.match(\/font-family\\s*:\\s*([^;"]+)\/i),l&&(d+=' face="'+l[1]+'"'),r=s.match(\/font-size\\s*:\\s*([^;"]+)\/i)){r=r[1].toLowerCase();for(var u=0;n.length>u;u++)if(r===n[u].n||r===n[u].s){h=u+1;break}h&&(d+=' size="'+h+'"',s=s.replace(\/(^|;)(\\s*font-size\\s*:\\s*[^;"]+;?)+\/gi,"$1"))}if(c=s.match(\/(?:^|[\\s;])color\\s*:\\s*([^;"]+)\/i)){var p;if(p=c[1].match(\/\\s*rgb\\s*\\(\\s*(\\d+)\\s*,\\s*(\\d+)\\s*,\\s*(\\d+)\\s*\\)\/i)){c[1]="#";for(var g=1;3>=g;g++)c[1]+=("0"+(p[g]-0).toString(16)).slice(-2)}c[1]=c[1].replace(\/^#([0-9a-f])([0-9a-f])([0-9a-f])$\/i,"#$1$1$2$2$3$3"),d+=' color="'+c[1]+'"'}return s=s.replace(\/(^|;)(\\s*(font-family|color)\\s*:\\s*[^;"]+;?)+\/gi,"$1"),""!==d?(s&&(d+=' style="'+s+'"'),"<font"+(i?i:"")+d+(a?a:"")+">"+o+"<\/font>"):e}function s(e,t,i,s,a){for(var n,l,r=(i?i:"")+(s?s:""),h=[],c=[],d=0;o.length>d;d++)n=o[d].r,l=o[d].t,r=r.replace(n,function(){return h.push("<"+l+">"),c.push("<\/"+l+">"),""});return r=r.replace(\/\\s+style\\s*=\\s*"\\s*"\/i,""),(r?"<span"+r+">":"")+h.join("")+a+c.join("")+(r?"<\/span>":"")}var a=' class="Apple-style-span"',n=settings.listFontsize;if("write"===t)e=e.replace(\/(<(\\\/?)(\\w+))((?:\\s+[\\w\\-:]+\\s*=\\s*(?:"[^"]*"|'[^']*'|[^>\\s]+))*)\\s*((\\\/?)>)\/g,function(e,t,i,s,n,o,l){s=s.toLowerCase(),isMozilla?"strong"===s?s="b":"em"===s&&(s="i"):isWebkit&&("strong"===s?(s="span",i||(n+=a+' style="font-weight: bold;"')):"em"===s?(s="span",i||(n+=a+' style="font-style: italic;"')):"u"===s?(s="span",i||(n+=a+' style="text-decoration: underline;"')):"strike"===s&&(s="span",i||(n+=a+' style="text-decoration: line-through;"')));var r,h="";if("del"===s)s="strike";else if("img"===s)n=n.replace(\/\\s+emot\\s*=\\s*("[^"]*"|'[^']*'|[^>\\s]+)\/i,function(e,t){return r=t.match(\/^(["']?)(.*)\\1\/)[2],r=r.split(","),r[1]||(r[1]=r[0],r[0]=""),"default"===r[0]&&(r[0]=""),settings.emotMark?e:""});else if("a"===s)!n.match(\/ href=[^ ]\/i)&&n.match(\/ name=[^ ]\/i)&&(h+=" xhe-anchor"),l&&(o="><\/a>");else if("table"===s&&!i){var c=n.match(\/\\s+border\\s*=\\s*("[^"]*"|'[^']*'|[^>\\s]+)\/i);(!c||c[1].match(\/^(["']?)\\s*0\\s*\\1$\/))&&(h+=" xhe-border")}var d;if(n=n.replace(\/\\s+([\\w\\-:]+)\\s*=\\s*("[^"]*"|'[^']*'|[^>\\s]+)\/g,function(e,t,i){return t=t.toLowerCase(),i=i.match(\/^(["']?)(.*)\\1\/)[2],aft="",isIE&&t.match(\/^(disabled|checked|readonly|selected)$\/)&&i.match(\/^(false|0)$\/i)?"":"img"===s&&r&&"src"===t?"":(t.match(\/^(src|href)$\/)&&(aft=" _xhe_"+t+'="'+i+'"',urlBase&&(i=getLocalUrl(i,"abs",urlBase))),h&&"class"===t&&(i+=" "+h,h=""),isWebkit&&"style"===t&&"span"===s&&i.match(\/(^|;)\\s*(font-family|font-size|color|background-color)\\s*:\\s*[^;]+\\s*(;|$)\/i)&&(d=!0)," "+t+'="'+i+'"'+aft)}),r){var u=emotPath+(r[0]?r[0]:"default")+"\/"+r[1]+".gif";n+=' src="'+u+'" _xhe_src="'+u+'"'}return d&&(n+=a),h&&(n+=' class="'+h+'"'),"<"+i+s+n+o}),isIE&&(e=e.replace(\/&apos;\/gi,"&#39;")),isWebkit||(e=e.replace(\/<(span)(\\s+[^>]*?)?\\s+style\\s*=\\s*"((?:[^"]*?;)?\\s*(?:font-family|font-size|color)\\s*:[^"]*)"( [^>]*)?>(((?!<\\1(\\s+[^>]*?)?>)[\\s\\S]|<\\1(\\s+[^>]*?)?>((?!<\\1(\\s+[^>]*?)?>)[\\s\\S]|<\\1(\\s+[^>]*?)?>((?!<\\1(\\s+[^>]*?)?>)[\\s\\S])*?<\\\/\\1>)*?<\\\/\\1>)*?)<\\\/\\1>\/gi,i),e=e.replace(\/<(span)(\\s+[^>]*?)?\\s+style\\s*=\\s*"((?:[^"]*?;)?\\s*(?:font-family|font-size|color)\\s*:[^"]*)"( [^>]*)?>(((?!<\\1(\\s+[^>]*?)?>)[\\s\\S]|<\\1(\\s+[^>]*?)?>((?!<\\1(\\s+[^>]*?)?>)[\\s\\S])*?<\\\/\\1>)*?)<\\\/\\1>\/gi,i),e=e.replace(\/<(span)(\\s+[^>]*?)?\\s+style\\s*=\\s*"((?:[^"]*?;)?\\s*(?:font-family|font-size|color)\\s*:[^"]*)"( [^>]*)?>(((?!<\\1(\\s+[^>]*?)?>)[\\s\\S])*?)<\\\/\\1>\/gi,i)),e=e.replace(\/<(td|th)(\\s+[^>]*?)?>(\\s|&nbsp;)*<\\\/\\1>\/gi,"<$1$2>"+(isIE?"":"<br \/>")+"<\/$1>");else{if(isWebkit)for(var o=[{r:\/font-weight\\s*:\\s*bold;?\/gi,t:"strong"},{r:\/font-style\\s*:\\s*italic;?\/gi,t:"em"},{r:\/text-decoration\\s*:\\s*underline;?\/gi,t:"u"},{r:\/text-decoration\\s*:\\s*line-through;?\/gi,t:"strike"}],l=0;2>l;l++)e=e.replace(\/<(span)(\\s+[^>]*?)?\\s+class\\s*=\\s*"Apple-style-span"(\\s+[^>]*?)?>(((?!<\\1(\\s+[^>]*?)?>)[\\s\\S]|<\\1(\\s+[^>]*?)?>((?!<\\1(\\s+[^>]*?)?>)[\\s\\S]|<\\1(\\s+[^>]*?)?>((?!<\\1(\\s+[^>]*?)?>)[\\s\\S])*?<\\\/\\1>)*?<\\\/\\1>)*?)<\\\/\\1>\/gi,s),e=e.replace(\/<(span)(\\s+[^>]*?)?\\s+class\\s*=\\s*"Apple-style-span"(\\s+[^>]*?)?>(((?!<\\1(\\s+[^>]*?)?>)[\\s\\S]|<\\1(\\s+[^>]*?)?>((?!<\\1(\\s+[^>]*?)?>)[\\s\\S])*?<\\\/\\1>)*?)<\\\/\\1>\/gi,s),e=e.replace(\/<(span)(\\s+[^>]*?)?\\s+class\\s*=\\s*"Apple-style-span"(\\s+[^>]*?)?>(((?!<\\1(\\s+[^>]*?)?>)[\\s\\S])*?)<\\\/\\1>\/gi,s);e=e.replace(\/(<(\\w+))((?:\\s+[\\w\\-:]+\\s*=\\s*(?:"[^"]*"|'[^']*'|[^>\\s]+))*)\\s*(\\\/?>)\/g,function(e,t,i,s,a){i=i.toLowerCase();$/;"	p
D	system/libraries/Upload.php	/^			$D = @getimagesize($this->file_temp);$/;"	v
DB	system/database/DB.php	/^	$DB = new $driver($params);$/;"	v
DB	system/database/DB.php	/^function &DB($params = '', $active_record_override = NULL)$/;"	f
DIR_READ_MODE	application/config/constants.php	/^define('DIR_READ_MODE', 0755);$/;"	d
DIR_WRITE_MODE	application/config/constants.php	/^define('DIR_WRITE_MODE', 0777);$/;"	d
DSUSERID	application/controllers/dsconfig.class.php	/^define('DSUSERID','1264310280@qq.com');\/\/无线串口登录用户名，此处填写您的userid$/;"	d
DSUSERID	dsconfig.class.php	/^define('DSUSERID','1264310280@qq.com');\/\/无线串口登录用户名，此处填写您的userid$/;"	d
Destory	application/controllers/destory.php	/^class Destory extends MY_Controller$/;"	c
DsPrintSend	application/controllers/dsprint.class.php	/^	function DsPrintSend($password=PASSWORD,$app_id=APP_ID) {$/;"	f
DsPrintSend	application/controllers/dsprint.class.php	/^class DsPrintSend {$/;"	c
ENVIRONMENT	index.php	/^	define('ENVIRONMENT', 'development');$/;"	d
EXT	index.php	/^	define('EXT', '.php');$/;"	d
EXT	system/core/CodeIgniter.php	/^	$EXT =& load_class('Hooks', 'core');$/;"	v
F	system/database/drivers/cubrid/cubrid_result.php	/^			$F				= new stdClass();$/;"	v
F	system/database/drivers/mssql/mssql_result.php	/^			$F				= new stdClass();$/;"	v
F	system/database/drivers/mysql/mysql_result.php	/^			$F				= new stdClass();$/;"	v
F	system/database/drivers/mysqli/mysqli_result.php	/^			$F				= new stdClass();$/;"	v
F	system/database/drivers/oci8/oci8_result.php	/^			$F			= new stdClass();$/;"	v
F	system/database/drivers/odbc/odbc_result.php	/^			$F				= new stdClass();$/;"	v
F	system/database/drivers/postgre/postgre_result.php	/^			$F				= new stdClass();$/;"	v
F	system/database/drivers/sqlite/sqlite_result.php	/^			$F				= new stdClass();$/;"	v
F	system/database/drivers/sqlsrv/sqlsrv_result.php	/^			$F 				= new stdClass();$/;"	v
FCPATH	index.php	/^	define('FCPATH', str_replace(SELF, '', __FILE__));$/;"	d
FILE_READ_MODE	application/config/constants.php	/^define('FILE_READ_MODE', 0644);$/;"	d
FILE_WRITE_MODE	application/config/constants.php	/^define('FILE_WRITE_MODE', 0666);$/;"	d
FOPEN_READ	application/config/constants.php	/^define('FOPEN_READ',							'rb');$/;"	d
FOPEN_READ_WRITE	application/config/constants.php	/^define('FOPEN_READ_WRITE',						'r+b');$/;"	d
FOPEN_READ_WRITE_CREATE	application/config/constants.php	/^define('FOPEN_READ_WRITE_CREATE',				'a+b');$/;"	d
FOPEN_READ_WRITE_CREATE_DESTRUCTIVE	application/config/constants.php	/^define('FOPEN_READ_WRITE_CREATE_DESTRUCTIVE',	'w+b'); \/\/ truncates existing file data, use with care$/;"	d
FOPEN_READ_WRITE_CREATE_STRICT	application/config/constants.php	/^define('FOPEN_READ_WRITE_CREATE_STRICT',		'x+b');$/;"	d
FOPEN_WRITE_CREATE	application/config/constants.php	/^define('FOPEN_WRITE_CREATE',					'ab');$/;"	d
FOPEN_WRITE_CREATE_DESTRUCTIVE	application/config/constants.php	/^define('FOPEN_WRITE_CREATE_DESTRUCTIVE',		'wb'); \/\/ truncates existing file data, use with care$/;"	d
FOPEN_WRITE_CREATE_STRICT	application/config/constants.php	/^define('FOPEN_WRITE_CREATE_STRICT',				'xb');$/;"	d
Fun	application/controllers/fun.php	/^class Fun extends My_Controller$/;"	c
G1	system/libraries/Image_lib.php	/^		$G1 = hexdec(substr($this->wm_font_color, 2, 2));$/;"	v
G2	system/libraries/Image_lib.php	/^		$G2 = hexdec(substr($this->wm_shadow_color, 2, 2));$/;"	v
HOOK	system/core/Hooks.php	/^			$HOOK = new $class;$/;"	v
HTML2Markdown	js/xheditor_plugins/html2markdown.js	/^function HTML2Markdown(html, opts) {$/;"	f
HTML2Markdown.block	js/xheditor_plugins/html2markdown.js	/^	function block(isEndBlock) {$/;"	f
HTML2Markdown.convertAttrs	js/xheditor_plugins/html2markdown.js	/^	function convertAttrs(attrs) {$/;"	f
HTML2Markdown.getListMarkdownTag	js/xheditor_plugins/html2markdown.js	/^	function getListMarkdownTag() {$/;"	f
HTML2Markdown.listBlock	js/xheditor_plugins/html2markdown.js	/^	function listBlock() {$/;"	f
HTML2Markdown.markdownTags.b	js/xheditor_plugins/html2markdown.js	/^		"b": "**",$/;"	p
HTML2Markdown.markdownTags.blockquote	js/xheditor_plugins/html2markdown.js	/^		"blockquote": "> "$/;"	p
HTML2Markdown.markdownTags.br	js/xheditor_plugins/html2markdown.js	/^		"br": "  \\n",$/;"	p
HTML2Markdown.markdownTags.cite	js/xheditor_plugins/html2markdown.js	/^		"cite": "_",$/;"	p
HTML2Markdown.markdownTags.dfn	js/xheditor_plugins/html2markdown.js	/^		"dfn": "_",$/;"	p
HTML2Markdown.markdownTags.dl	js/xheditor_plugins/html2markdown.js	/^		"dl": "- ",$/;"	p
HTML2Markdown.markdownTags.em	js/xheditor_plugins/html2markdown.js	/^		"em": "_",$/;"	p
HTML2Markdown.markdownTags.h1	js/xheditor_plugins/html2markdown.js	/^		"h1": "# ",$/;"	p
HTML2Markdown.markdownTags.h2	js/xheditor_plugins/html2markdown.js	/^		"h2": "## ",$/;"	p
HTML2Markdown.markdownTags.h3	js/xheditor_plugins/html2markdown.js	/^		"h3": "### ",$/;"	p
HTML2Markdown.markdownTags.h4	js/xheditor_plugins/html2markdown.js	/^		"h4": "#### ",$/;"	p
HTML2Markdown.markdownTags.h5	js/xheditor_plugins/html2markdown.js	/^		"h5": "##### ",$/;"	p
HTML2Markdown.markdownTags.h6	js/xheditor_plugins/html2markdown.js	/^		"h6": "###### ",$/;"	p
HTML2Markdown.markdownTags.hr	js/xheditor_plugins/html2markdown.js	/^		"hr": "- - -\\n\\n",$/;"	p
HTML2Markdown.markdownTags.i	js/xheditor_plugins/html2markdown.js	/^		"i": "_",$/;"	p
HTML2Markdown.markdownTags.ol	js/xheditor_plugins/html2markdown.js	/^		"ol": "1. ",$/;"	p
HTML2Markdown.markdownTags.span	js/xheditor_plugins/html2markdown.js	/^		"span": " ",$/;"	p
HTML2Markdown.markdownTags.strong	js/xheditor_plugins/html2markdown.js	/^		"strong": "**",$/;"	p
HTML2Markdown.markdownTags.title	js/xheditor_plugins/html2markdown.js	/^		"title": "# ",$/;"	p
HTML2Markdown.markdownTags.ul	js/xheditor_plugins/html2markdown.js	/^		"ul": "* ",$/;"	p
HTML2Markdown.markdownTags.var	js/xheditor_plugins/html2markdown.js	/^		"var": "_",	$/;"	p
HTML2Markdown.peek	js/xheditor_plugins/html2markdown.js	/^	function peek(list) {$/;"	f
HTML2Markdown.peekTillNotEmpty	js/xheditor_plugins/html2markdown.js	/^	function peekTillNotEmpty(list) {$/;"	f
HTML2Markdown.removeIfEmptyTag	js/xheditor_plugins/html2markdown.js	/^	function removeIfEmptyTag(start) {$/;"	f
HTML2Markdown.sliceText	js/xheditor_plugins/html2markdown.js	/^	function sliceText(start) {$/;"	f
HTMLParser	js/xheditor_plugins/htmldomparser.js	/^var HTMLParser = function(node, handler, opts) {$/;"	f
Home	application/controllers/bg/home.php	/^class Home extends MY_Controller{$/;"	c
Home	application/controllers/home.php	/^class Home extends MY_Controller$/;"	c
HttpClient	application/controllers/HttpClient.class.php	/^    function HttpClient($host, $port=80) {$/;"	f
HttpClient	application/controllers/HttpClient.class.php	/^class HttpClient {$/;"	c
IN	system/core/CodeIgniter.php	/^	$IN	=& load_class('Input', 'core');$/;"	v
Img	application/models/img.php	/^class Img extends Ci_Model$/;"	c
Imgcomment	application/models/imgcomment.php	/^class Imgcomment extends Ci_Model$/;"	c
Imglist	application/controllers/bg/imglist.php	/^class Imglist extends MY_Controller{$/;"	c
Info	application/controllers/info.php	/^class Info extends MY_Controller$/;"	c
LANG	system/core/CodeIgniter.php	/^	$LANG =& load_class('Lang', 'core');$/;"	v
LANG	system/database/DB_driver.php	/^		$LANG =& load_class('Lang', 'core');$/;"	v
Linear	application/views/donghua.php	/^            Linear: function(initPos, targetPos, currentCount, count) {$/;"	j
MB_ENABLED	system/core/Utf8.php	/^				define('MB_ENABLED', FALSE);$/;"	d
MB_ENABLED	system/core/Utf8.php	/^				define('MB_ENABLED', TRUE);$/;"	d
MY_Controller	application/core/MY_Controller.php	/^class MY_Controller extends  CI_Controller$/;"	c
Mainpage	application/controllers/mainpage.php	/^class Mainpage extends MY_Controller$/;"	c
Map	application/controllers/map.php	/^class Map extends MY_Controller{$/;"	c
Mar_list	application/models/mar_list.php	/^class Mar_list extends Ci_Model{$/;"	c
Mbgblocklist	application/models/mbgblocklist.php	/^class Mbgblocklist extends Ci_Model{$/;"	c
Mbgimglist	application/models/mbgimglist.php	/^class Mbgimglist extends Ci_Model{$/;"	c
Mbgnewreg	application/models/mbgnewreg.php	/^class Mbgnewreg extends Ci_Model{$/;"	c
Mbguserlist	application/models/mbguserlist.php	/^		class Mbguserlist extends Ci_Model{$/;"	c
Meditor	application/models/meditor.php	/^class Meditor extends Ci_Model{$/;"	c
Mess	application/models/mess.php	/^class Mess extends Ci_Model$/;"	c
Message	application/controllers/message.php	/^class Message extends MY_Controller{$/;"	c
Mhome	application/models/mhome.php	/^class Mhome extends Ci_Model {$/;"	c
Mitem	application/models/mitem.php	/^class Mitem extends Ci_Model$/;"	c
Monline_user	application/models/monline_user.php	/^class Monline_user extends CI_Model$/;"	c
Morder	application/models/morder.php	/^class Morder extends Ci_Model$/;"	c
Morder	application/models/order.php	/^class Morder extends Ci_Model$/;"	c
Mphoto	application/models/mphoto.php	/^class Mphoto extends Ci_Model{$/;"	c
Mreg	application/models/mreg.php	/^		class Mreg extends Ci_Model{\/\/目前应该算是被放弃的文件了吧，虽说删除后又找回来，只是功能已经差不多被代替了$/;"	c
Mshowart	application/models/mshowart.php	/^		class Mshowart extends Model{$/;"	c
Muser_home	application/models/muser_home.php	/^class Muser_home extends Ci_Model{$/;"	c
Mwrong	application/models/mwrong.php	/^class Mwrong extends Ci_Model$/;"	c
Newreg	application/controllers/bg/newreg.php	/^class Newreg extends Ci_Controller{$/;"	c
OBJ	system/helpers/form_helper.php	/^		$OBJ =& _get_validation_object();$/;"	v
OUT	system/core/CodeIgniter.php	/^	$OUT =& load_class('Output', 'core');$/;"	v
Order	application/controllers/bg/order.php	/^class Order extends MY_Controller$/;"	c
Order	application/controllers/order.php	/^class Order extends My_Controller{$/;"	c
Ordered	application/controllers/order.php	/^        $this->Ordered = 1;\/\/下单完毕$/;"	v
Ordered	application/models/morder.php	/^        $this->Ordered = 1;\/\/下单完毕$/;"	v
PASSWORD	application/controllers/dsconfig.class.php	/^define('PASSWORD','1e13cb1c5281c812');\/\/无线串口用户登录密码，此处填写您的密码$/;"	d
PASSWORD	dsconfig.class.php	/^define('PASSWORD','1e13cb1c5281c812');\/\/无线串口用户登录密码，此处填写您的密码$/;"	d
Pc	js/art.js	/^function Pc () {$/;"	f
QUERY_PRINTER	application/controllers/dsconfig.class.php	/^define('QUERY_PRINTER',"\\x1B\\x76");\/\/各个打印机可能查询纸状态指令不同0x1B,0x76,默认为：0x1B,0x76,佳博打印机的查询指令$/;"	d
QUERY_PRINTER	dsconfig.class.php	/^define('QUERY_PRINTER',"\\x1B\\x76");\/\/各个打印机可能查询纸状态指令不同0x1B,0x76,默认为：0x1B,0x76,佳博打印机的查询指令$/;"	d
R1	system/libraries/Image_lib.php	/^		$R1 = hexdec(substr($this->wm_font_color, 0, 2));$/;"	v
R2	system/libraries/Image_lib.php	/^		$R2 = hexdec(substr($this->wm_shadow_color, 0, 2));$/;"	v
RES	system/database/DB_driver.php	/^		$RES			= new $driver();$/;"	v
RTR	system/core/CodeIgniter.php	/^	$RTR =& load_class('Router', 'core');$/;"	v
Reg	application/controllers/reg.php	/^class Reg extends MY_Controller{$/;"	c
SEC	system/core/CodeIgniter.php	/^	$SEC =& load_class('Security', 'core');$/;"	v
SELF	index.php	/^	define('SELF', pathinfo(__FILE__, PATHINFO_BASENAME));$/;"	d
SELLER	application/controllers/bg/home.php	/^        $this->SELLER = 1;$/;"	v
SELLER	application/controllers/bg/userlist.php	/^                $this->SELLER = 1;$/;"	v
SH	system/libraries/Encrypt.php	/^				$SH = new CI_SHA;$/;"	v
SWFUpload	js/xheditor_plugins/multiupload/swfupload/swfupload.js	/^	SWFUpload = function (settings) {$/;"	c
SWFUpload	js/xheditor_plugins/multiupload/swfupload/swfupload.js	/^var SWFUpload;$/;"	v
SWFUpload.BUTTON_ACTION.SELECT_FILE	js/xheditor_plugins/multiupload/swfupload/swfupload.js	/^	SELECT_FILE  : -100,$/;"	p
SWFUpload.CURSOR.ARROW	js/xheditor_plugins/multiupload/swfupload/swfupload.js	/^	ARROW : -1,$/;"	p
SWFUpload.FILE_STATUS.QUEUED	js/xheditor_plugins/multiupload/swfupload/swfupload.js	/^	QUEUED		 : -1,$/;"	p
SWFUpload.QUEUE_ERROR.QUEUE_LIMIT_EXCEEDED	js/xheditor_plugins/multiupload/swfupload/swfupload.js	/^	QUEUE_LIMIT_EXCEEDED	  		: -100,$/;"	p
SWFUpload.UPLOAD_ERROR.HTTP_ERROR	js/xheditor_plugins/multiupload/swfupload/swfupload.js	/^	HTTP_ERROR				  		: -200,$/;"	p
SWFUpload.WINDOW_MODE.OPAQUE	js/xheditor_plugins/multiupload/swfupload/swfupload.js	/^	OPAQUE : "opaque"$/;"	p
SWFUpload.WINDOW_MODE.TRANSPARENT	js/xheditor_plugins/multiupload/swfupload/swfupload.js	/^	TRANSPARENT : "transparent",$/;"	p
SWFUpload.WINDOW_MODE.WINDOW	js/xheditor_plugins/multiupload/swfupload/swfupload.js	/^	WINDOW : "window",$/;"	p
SWFUpload.initSWFUpload	js/xheditor_plugins/multiupload/swfupload/swfupload.js	/^SWFUpload.prototype.initSWFUpload = function (settings) {$/;"	m
SYSDIR	index.php	/^	define('SYSDIR', trim(strrchr(trim(BASEPATH, '\/'), '\/'), '\/'));$/;"	d
Sea	application/controllers/sea.php	/^class Sea extends MY_Controller$/;"	c
Search	application/controllers/search.php	/^class Search extends MY_Controller$/;"	c
Sec	application/controllers/sec.php	/^class Sec extends MY_Controller$/;"	c
SetOpacity	application/views/donghua.php	/^            SetOpacity: function(obj, n) {$/;"	j
Showart	application/controllers/showart.php	/^class Showart extends MY_Controller$/;"	c
Showdown.converter.makeHtml	js/xheditor_plugins/showdown.js	/^var Showdown={extensions:{}},forEach=Showdown.forEach=function(a,b){if(typeof a.forEach=="function")a.forEach(b);else{var c,d=a.length;for(c=0;c<d;c++)b(a[c],c,a)}},stdExtName=function(a){return a.replace(\/[_-]||\\s\/g,"").toLowerCase()};Showdown.converter=function(a){var b,c,d,e=0,f=[],g=[];if(typeof module!="undefind"&&typeof exports!="undefined"&&typeof require!="undefind"){var h=require("fs");if(h){var i=h.readdirSync((__dirname||".")+"\/extensions").filter(function(a){return~a.indexOf(".js")}).map(function(a){return a.replace(\/\\.js$\/,"")});Showdown.forEach(i,function(a){var b=stdExtName(a);Showdown.extensions[b]=require(".\/extensions\/"+a)})}}this.makeHtml=function(a){return b={},c={},d=[],a=a.replace(\/~\/g,"~T"),a=a.replace(\/\\$\/g,"~D"),a=a.replace(\/\\r\\n\/g,"\\n"),a=a.replace(\/\\r\/g,"\\n"),a="\\n\\n"+a+"\\n\\n",a=M(a),a=a.replace(\/^[ \\t]+$\/mg,""),Showdown.forEach(f,function(b){a=k(b,a)}),a=z(a),a=m(a),a=l(a),a=o(a),a=K(a),a=a.replace(\/~D\/g,"$$"),a=a.replace(\/~T\/g,"~"),Showdown.forEach(g,function(b){a=k(b,a)}),a};if(a&&a.extensions){var j=this;Showdown.forEach(a.extensions,function(a){typeof a=="string"&&(a=Showdown.extensions[stdExtName(a)]);if(typeof a!="function")throw"Extension '"+a+"' could not be loaded.  It was either not found or is not a valid extension.";Showdown.forEach(a(j),function(a){a.type?a.type==="language"||a.type==="lang"?f.push(a):(a.type==="output"||a.type==="html")&&g.push(a):g.push(a)})})}var k=function(a,b){if(a.regex){var c=new RegExp(a.regex,"g");return b.replace(c,a.replace)}if(a.filter)return a.filter(b)},l=function(a){return a+="~0",a=a.replace(\/^[ ]{0,3}\\[(.+)\\]:[ \\t]*\\n?[ \\t]*<?(\\S+?)>?[ \\t]*\\n?[ \\t]*(?:(\\n*)["(](.+?)[")][ \\t]*)?(?:\\n+|(?=~0))\/gm,function(a,d,e,f,g){return d=d.toLowerCase(),b[d]=G(e),f?f+g:(g&&(c[d]=g.replace(\/"\/g,"&quot;")),"")}),a=a.replace(\/~0\/,""),a},m=function(a){a=a.replace(\/\\n\/g,"\\n\\n");var b="p|div|h[1-6]|blockquote|pre|table|dl|ol|ul|script|noscript|form|fieldset|iframe|math|ins|del|style|section|header|footer|nav|article|aside",c="p|div|h[1-6]|blockquote|pre|table|dl|ol|ul|script|noscript|form|fieldset|iframe|math|style|section|header|footer|nav|article|aside";return a=a.replace(\/^(<(p|div|h[1-6]|blockquote|pre|table|dl|ol|ul|script|noscript|form|fieldset|iframe|math|ins|del)\\b[^\\r]*?\\n<\\\/\\2>[ \\t]*(?=\\n+))\/gm,n),a=a.replace(\/^(<(p|div|h[1-6]|blockquote|pre|table|dl|ol|ul|script|noscript|form|fieldset|iframe|math|style|section|header|footer|nav|article|aside)\\b[^\\r]*?<\\\/\\2>[ \\t]*(?=\\n+)\\n)\/gm,n),a=a.replace(\/(\\n[ ]{0,3}(<(hr)\\b([^<>])*?\\\/?>)[ \\t]*(?=\\n{2,}))\/g,n),a=a.replace(\/(\\n\\n[ ]{0,3}<!(--[^\\r]*?--\\s*)+>[ \\t]*(?=\\n{2,}))\/g,n),a=a.replace(\/(?:\\n\\n)([ ]{0,3}(?:<([?%])[^\\r]*?\\2>)[ \\t]*(?=\\n{2,}))\/g,n),a=a.replace(\/\\n\\n\/g,"\\n"),a},n=function(a,b){var c=b;return c=c.replace(\/\\n\\n\/g,"\\n"),c=c.replace(\/^\\n\/,""),c=c.replace(\/\\n+$\/g,""),c="\\n\\n~K"+(d.push(c)-1)+"K\\n\\n",c},o=function(a){a=v(a);var b=A("<hr \/>");return a=a.replace(\/^[ ]{0,2}([ ]?\\*[ ]?){3,}[ \\t]*$\/gm,b),a=a.replace(\/^[ ]{0,2}([ ]?\\-[ ]?){3,}[ \\t]*$\/gm,b),a=a.replace(\/^[ ]{0,2}([ ]?\\_[ ]?){3,}[ \\t]*$\/gm,b),a=x(a),a=y(a),a=E(a),a=m(a),a=F(a),a},p=function(a){return a=B(a),a=q(a),a=H(a),a=t(a),a=r(a),a=I(a),a=G(a),a=D(a),a=a.replace(\/  +\\n\/g," <br \/>\\n"),a},q=function(a){var b=\/(<[a-z\\\/!$]("[^"]*"|'[^']*'|[^'">])*>|<!(--.*?--\\s*)+>)\/gi;return a=a.replace(b,function(a){var b=a.replace(\/(.)<\\\/?code>(?=.)\/g,"$1`");return b=N(b,"\\\\`*_"),b}),a},r=function(a){return a=a.replace(\/(\\[((?:\\[[^\\]]*\\]|[^\\[\\]])*)\\][ ]?(?:\\n[ ]*)?\\[(.*?)\\])()()()()\/g,s),a=a.replace(\/(\\[((?:\\[[^\\]]*\\]|[^\\[\\]])*)\\]\\([ \\t]*()<?(.*?(?:\\(.*?\\).*?)?)>?[ \\t]*((['"])(.*?)\\6[ \\t]*)?\\))\/g,s),a=a.replace(\/(\\[([^\\[\\]]+)\\])()()()()()\/g,s),a},s=function(a,d,e,f,g,h,i,j){j==undefined&&(j="");var k=d,l=e,m=f.toLowerCase(),n=g,o=j;if(n==""){m==""&&(m=l.toLowerCase().replace(\/ ?\\n\/g," ")),n="#"+m;if(b[m]!=undefined)n=b[m],c[m]!=undefined&&(o=c[m]);else{if(!(k.search(\/\\(\\s*\\)$\/m)>-1))return k;n=""}}n=N(n,"*_");var p='<a href="'+n+'"';return o!=""&&(o=o.replace(\/"\/g,"&quot;"),o=N(o,"*_"),p+=' title="'+o+'"'),p+=">"+l+"<\/a>",p},t=function(a){return a=a.replace(\/(!\\[(.*?)\\][ ]?(?:\\n[ ]*)?\\[(.*?)\\])()()()()\/g,u),a=a.replace(\/(!\\[(.*?)\\]\\s?\\([ \\t]*()<?(\\S+?)>?[ \\t]*((['"])(.*?)\\6[ \\t]*)?\\))\/g,u),a},u=function(a,d,e,f,g,h,i,j){var k=d,l=e,m=f.toLowerCase(),n=g,o=j;o||(o="");if(n==""){m==""&&(m=l.toLowerCase().replace(\/ ?\\n\/g," ")),n="#"+m;if(b[m]==undefined)return k;n=b[m],c[m]!=undefined&&(o=c[m])}l=l.replace(\/"\/g,"&quot;"),n=N(n,"*_");var p='<img src="'+n+'" alt="'+l+'"';return o=o.replace(\/"\/g,"&quot;"),o=N(o,"*_"),p+=' title="'+o+'"',p+=" \/>",p},v=function(a){function b(a){return a.replace(\/[^\\w]\/g,"").toLowerCase()}return a=a.replace(\/^(.+)[ \\t]*\\n=+[ \\t]*\\n+\/gm,function(a,c){return A('<h1 id="'+b(c)+'">'+p(c)+"<\/h1>")}),a=a.replace(\/^(.+)[ \\t]*\\n-+[ \\t]*\\n+\/gm,function(a,c){return A('<h2 id="'+b(c)+'">'+p(c)+"<\/h2>")}),a=a.replace(\/^(\\#{1,6})[ \\t]*(.+?)[ \\t]*\\#*\\n+\/gm,function(a,c,d){var e=c.length;return A("<h"+e+' id="'+b(d)+'">'+p(d)+"<\/h"+e+">")}),a},w,x=function(a){a+="~0";var b=\/^(([ ]{0,3}([*+-]|\\d+[.])[ \\t]+)[^\\r]+?(~0|\\n{2,}(?=\\S)(?![ \\t]*(?:[*+-]|\\d+[.])[ \\t]+)))\/gm;return e?a=a.replace(b,function(a,b,c){var d=b,e=c.search(\/[*+-]\/g)>-1?"ul":"ol";d=d.replace(\/\\n{2,}\/g,"\\n\\n\\n");var f=w(d);return f=f.replace(\/\\s+$\/,""),f="<"+e+">"+f+"<\/"+e+">\\n",f}):(b=\/(\\n\\n|^\\n?)(([ ]{0,3}([*+-]|\\d+[.])[ \\t]+)[^\\r]+?(~0|\\n{2,}(?=\\S)(?![ \\t]*(?:[*+-]|\\d+[.])[ \\t]+)))\/g,a=a.replace(b,function(a,b,c,d){var e=b,f=c,g=d.search(\/[*+-]\/g)>-1?"ul":"ol",f=f.replace(\/\\n{2,}\/g,"\\n\\n\\n"),h=w(f);return h=e+"<"+g+">\\n"+h+"<\/"+g+">\\n",h})),a=a.replace(\/~0\/,""),a};w=function(a){return e++,a=a.replace(\/\\n{2,}$\/,"\\n"),a+="~0",a=a.replace(\/(\\n)?(^[ \\t]*)([*+-]|\\d+[.])[ \\t]+([^\\r]+?(\\n{1,2}))(?=\\n*(~0|\\2([*+-]|\\d+[.])[ \\t]+))\/gm,function(a,b,c,d,e){var f=e,g=b,h=c;return g||f.search(\/\\n{2,}\/)>-1?f=o(L(f)):(f=x(L(f)),f=f.replace(\/\\n$\/,""),f=p(f)),"<li>"+f+"<\/li>\\n"}),a=a.replace(\/~0\/g,""),e--,a};var y=function(a){return a+="~0",a=a.replace(\/(?:\\n\\n|^)((?:(?:[ ]{4}|\\t).*\\n+)+)(\\n*[ ]{0,3}[^ \\t\\n]|(?=~0))\/g,function(a,b,c){var d=b,e=c;return d=C(L(d)),d=M(d),d=d.replace(\/^\\n+\/g,""),d=d.replace(\/\\n+$\/g,""),d="<pre>"+d+"\\n<\/pre>",A(d)+e}),a=a.replace(\/~0\/,""),a},z=function(a){return a+="~0",a=a.replace(\/(?:^|\\n)```(.*)\\n([\\s\\S]*?)\\n```\/g,function(a,b,c){var d=b,e=c;return e=C(e),e=M(e),e=e.replace(\/^\\n+\/g,""),e=e.replace(\/\\n+$\/g,""),e="<pre>"+e+"\\n<\/pre>",A(e)}),a=a.replace(\/~0\/,""),a},A=function(a){return a=a.replace(\/(^\\n+|\\n+$)\/g,""),"\\n\\n~K"+(d.push(a)-1)+"K\\n\\n"},B=function(a){return a=a.replace(\/(^|[^\\\\])(`+)([^\\r]*?[^`])\\2(?!`)\/gm,function(a,b,c,d,e){var f=d;return f=f.replace(\/^([ \\t]*)\/g,""),f=f.replace(\/[ \\t]*$\/g,""),f=C(f),b+"<code>"+f+"<\/code>"}),a},C=function(a){return a=a.replace(\/&\/g,"&amp;"),a=a.replace(\/<\/g,"&lt;"),a=a.replace(\/>\/g,"&gt;"),a=N(a,"*_{}[]\\\\",!1),a},D=function(a){return a=a.replace(\/(\\*\\*|__)(?=\\S)([^\\r]*?\\S[*_]*)\\1\/g,"<strong>$2<\/strong>"),a=a.replace(\/(\\*|_)(?=\\S)([^\\r]*?\\S)\\1\/g,"<em>$2<\/em>"),a},E=function(a){return a=a.replace(\/((^[ \\t]*>[ \\t]?.+\\n(.+\\n)*\\n*)+)\/gm,function(a,b){var c=b;return c=c.replace(\/^[ \\t]*>[ \\t]?\/gm,"~0"),c=c.replace(\/~0\/g,""),c=c.replace(\/^[ \\t]+$\/gm,""),c=o(c),c=c.replace(\/(^|\\n)\/g,"$1  "),c=c.replace(\/(\\s*<pre>[^\\r]+?<\\\/pre>)\/gm,function(a,b){var c=b;return c=c.replace(\/^  \/mg,"~0"),c=c.replace(\/~0\/g,""),c}),A("<blockquote>\\n"+c+"\\n<\/blockquote>")}),a},F=function(a){a=a.replace(\/^\\n+\/g,""),a=a.replace(\/\\n+$\/g,"");var b=a.split(\/\\n{2,}\/g),c=[],e=b.length;for(var f=0;f<e;f++){var g=b[f];g.search(\/~K(\\d+)K\/g)>=0?c.push(g):g.search(\/\\S\/)>=0&&(g=p(g),g=g.replace(\/^([ \\t]*)\/g,"<p>"),g+="<\/p>",c.push(g))}e=c.length;for(var f=0;f<e;f++)while(c[f].search(\/~K(\\d+)K\/)>=0){var h=d[RegExp.$1];h=h.replace(\/\\$\/g,"$$$$"),c[f]=c[f].replace(\/~K\\d+K\/,h)}return c.join("\\n\\n")},G=function(a){return a=a.replace(\/&(?!#?[xX]?(?:[0-9a-fA-F]+|\\w+);)\/g,"&amp;"),a=a.replace(\/<(?![a-z\\\/?\\$!])\/gi,"&lt;"),a},H=function(a){return a=a.replace(\/\\\\(\\\\)\/g,O),a=a.replace(\/\\\\([`*_{}\\[\\]()>#+-.!])\/g,O),a},I=function(a){return a=a.replace(\/<((https?|ftp|dict):[^'">\\s]+)>\/gi,'<a href="$1">$1<\/a>'),a=a.replace(\/<(?:mailto:)?([-.\\w]+\\@[-a-z0-9]+(\\.[-a-z0-9]+)*\\.[a-z]+)>\/gi,function(a,b){return J(K(b))}),a},J=function(a){var b=[function(a){return"&#"+a.charCodeAt(0)+";"},function(a){return"&#x"+a.charCodeAt(0).toString(16)+";"},function(a){return a}];return a="mailto:"+a,a=a.replace(\/.\/g,function(a){if(a=="@")a=b[Math.floor(Math.random()*2)](a);else if(a!=":"){var c=Math.random();a=c>.9?b[2](a):c>.45?b[1](a):b[0](a)}return a}),a='<a href="'+a+'">'+a+"<\/a>",a=a.replace(\/">.+:\/g,'">'),a},K=function(a){return a=a.replace(\/~E(\\d+)E\/g,function(a,b){var c=parseInt(b);return String.fromCharCode(c)}),a},L=function(a){return a=a.replace(\/^(\\t|[ ]{1,4})\/gm,"~0"),a=a.replace(\/~0\/g,""),a},M=function(a){return a=a.replace(\/\\t(?=\\t)\/g,"    "),a=a.replace(\/\\t\/g,"~A~B"),a=a.replace(\/~B(.+?)~A\/g,function(a,b,c){var d=b,e=4-d.length%4;for(var f=0;f<e;f++)d+=" ";return d}),a=a.replace(\/~A\/g,"    "),a=a.replace(\/~B\/g,""),a},N=function(a,b,c){var d="(["+b.replace(\/([\\[\\]\\\\])\/g,"\\\\$1")+"])";c&&(d="\\\\\\\\"+d);var e=new RegExp(d,"g");return a=a.replace(e,O),a},O=function(a,b){var c=b.charCodeAt(0);return"~E"+c+"E"}},typeof module!="undefined"&&(module.exports=Showdown),typeof define=="function"&&define.amd&&define("showdown",function(){return Showdown});/;"	m
Showdown.converter.makeHtml.k	js/xheditor_plugins/showdown.js	/^var Showdown={extensions:{}},forEach=Showdown.forEach=function(a,b){if(typeof a.forEach=="function")a.forEach(b);else{var c,d=a.length;for(c=0;c<d;c++)b(a[c],c,a)}},stdExtName=function(a){return a.replace(\/[_-]||\\s\/g,"").toLowerCase()};Showdown.converter=function(a){var b,c,d,e=0,f=[],g=[];if(typeof module!="undefind"&&typeof exports!="undefined"&&typeof require!="undefind"){var h=require("fs");if(h){var i=h.readdirSync((__dirname||".")+"\/extensions").filter(function(a){return~a.indexOf(".js")}).map(function(a){return a.replace(\/\\.js$\/,"")});Showdown.forEach(i,function(a){var b=stdExtName(a);Showdown.extensions[b]=require(".\/extensions\/"+a)})}}this.makeHtml=function(a){return b={},c={},d=[],a=a.replace(\/~\/g,"~T"),a=a.replace(\/\\$\/g,"~D"),a=a.replace(\/\\r\\n\/g,"\\n"),a=a.replace(\/\\r\/g,"\\n"),a="\\n\\n"+a+"\\n\\n",a=M(a),a=a.replace(\/^[ \\t]+$\/mg,""),Showdown.forEach(f,function(b){a=k(b,a)}),a=z(a),a=m(a),a=l(a),a=o(a),a=K(a),a=a.replace(\/~D\/g,"$$"),a=a.replace(\/~T\/g,"~"),Showdown.forEach(g,function(b){a=k(b,a)}),a};if(a&&a.extensions){var j=this;Showdown.forEach(a.extensions,function(a){typeof a=="string"&&(a=Showdown.extensions[stdExtName(a)]);if(typeof a!="function")throw"Extension '"+a+"' could not be loaded.  It was either not found or is not a valid extension.";Showdown.forEach(a(j),function(a){a.type?a.type==="language"||a.type==="lang"?f.push(a):(a.type==="output"||a.type==="html")&&g.push(a):g.push(a)})})}var k=function(a,b){if(a.regex){var c=new RegExp(a.regex,"g");return b.replace(c,a.replace)}if(a.filter)return a.filter(b)},l=function(a){return a+="~0",a=a.replace(\/^[ ]{0,3}\\[(.+)\\]:[ \\t]*\\n?[ \\t]*<?(\\S+?)>?[ \\t]*\\n?[ \\t]*(?:(\\n*)["(](.+?)[")][ \\t]*)?(?:\\n+|(?=~0))\/gm,function(a,d,e,f,g){return d=d.toLowerCase(),b[d]=G(e),f?f+g:(g&&(c[d]=g.replace(\/"\/g,"&quot;")),"")}),a=a.replace(\/~0\/,""),a},m=function(a){a=a.replace(\/\\n\/g,"\\n\\n");var b="p|div|h[1-6]|blockquote|pre|table|dl|ol|ul|script|noscript|form|fieldset|iframe|math|ins|del|style|section|header|footer|nav|article|aside",c="p|div|h[1-6]|blockquote|pre|table|dl|ol|ul|script|noscript|form|fieldset|iframe|math|style|section|header|footer|nav|article|aside";return a=a.replace(\/^(<(p|div|h[1-6]|blockquote|pre|table|dl|ol|ul|script|noscript|form|fieldset|iframe|math|ins|del)\\b[^\\r]*?\\n<\\\/\\2>[ \\t]*(?=\\n+))\/gm,n),a=a.replace(\/^(<(p|div|h[1-6]|blockquote|pre|table|dl|ol|ul|script|noscript|form|fieldset|iframe|math|style|section|header|footer|nav|article|aside)\\b[^\\r]*?<\\\/\\2>[ \\t]*(?=\\n+)\\n)\/gm,n),a=a.replace(\/(\\n[ ]{0,3}(<(hr)\\b([^<>])*?\\\/?>)[ \\t]*(?=\\n{2,}))\/g,n),a=a.replace(\/(\\n\\n[ ]{0,3}<!(--[^\\r]*?--\\s*)+>[ \\t]*(?=\\n{2,}))\/g,n),a=a.replace(\/(?:\\n\\n)([ ]{0,3}(?:<([?%])[^\\r]*?\\2>)[ \\t]*(?=\\n{2,}))\/g,n),a=a.replace(\/\\n\\n\/g,"\\n"),a},n=function(a,b){var c=b;return c=c.replace(\/\\n\\n\/g,"\\n"),c=c.replace(\/^\\n\/,""),c=c.replace(\/\\n+$\/g,""),c="\\n\\n~K"+(d.push(c)-1)+"K\\n\\n",c},o=function(a){a=v(a);var b=A("<hr \/>");return a=a.replace(\/^[ ]{0,2}([ ]?\\*[ ]?){3,}[ \\t]*$\/gm,b),a=a.replace(\/^[ ]{0,2}([ ]?\\-[ ]?){3,}[ \\t]*$\/gm,b),a=a.replace(\/^[ ]{0,2}([ ]?\\_[ ]?){3,}[ \\t]*$\/gm,b),a=x(a),a=y(a),a=E(a),a=m(a),a=F(a),a},p=function(a){return a=B(a),a=q(a),a=H(a),a=t(a),a=r(a),a=I(a),a=G(a),a=D(a),a=a.replace(\/  +\\n\/g," <br \/>\\n"),a},q=function(a){var b=\/(<[a-z\\\/!$]("[^"]*"|'[^']*'|[^'">])*>|<!(--.*?--\\s*)+>)\/gi;return a=a.replace(b,function(a){var b=a.replace(\/(.)<\\\/?code>(?=.)\/g,"$1`");return b=N(b,"\\\\`*_"),b}),a},r=function(a){return a=a.replace(\/(\\[((?:\\[[^\\]]*\\]|[^\\[\\]])*)\\][ ]?(?:\\n[ ]*)?\\[(.*?)\\])()()()()\/g,s),a=a.replace(\/(\\[((?:\\[[^\\]]*\\]|[^\\[\\]])*)\\]\\([ \\t]*()<?(.*?(?:\\(.*?\\).*?)?)>?[ \\t]*((['"])(.*?)\\6[ \\t]*)?\\))\/g,s),a=a.replace(\/(\\[([^\\[\\]]+)\\])()()()()()\/g,s),a},s=function(a,d,e,f,g,h,i,j){j==undefined&&(j="");var k=d,l=e,m=f.toLowerCase(),n=g,o=j;if(n==""){m==""&&(m=l.toLowerCase().replace(\/ ?\\n\/g," ")),n="#"+m;if(b[m]!=undefined)n=b[m],c[m]!=undefined&&(o=c[m]);else{if(!(k.search(\/\\(\\s*\\)$\/m)>-1))return k;n=""}}n=N(n,"*_");var p='<a href="'+n+'"';return o!=""&&(o=o.replace(\/"\/g,"&quot;"),o=N(o,"*_"),p+=' title="'+o+'"'),p+=">"+l+"<\/a>",p},t=function(a){return a=a.replace(\/(!\\[(.*?)\\][ ]?(?:\\n[ ]*)?\\[(.*?)\\])()()()()\/g,u),a=a.replace(\/(!\\[(.*?)\\]\\s?\\([ \\t]*()<?(\\S+?)>?[ \\t]*((['"])(.*?)\\6[ \\t]*)?\\))\/g,u),a},u=function(a,d,e,f,g,h,i,j){var k=d,l=e,m=f.toLowerCase(),n=g,o=j;o||(o="");if(n==""){m==""&&(m=l.toLowerCase().replace(\/ ?\\n\/g," ")),n="#"+m;if(b[m]==undefined)return k;n=b[m],c[m]!=undefined&&(o=c[m])}l=l.replace(\/"\/g,"&quot;"),n=N(n,"*_");var p='<img src="'+n+'" alt="'+l+'"';return o=o.replace(\/"\/g,"&quot;"),o=N(o,"*_"),p+=' title="'+o+'"',p+=" \/>",p},v=function(a){function b(a){return a.replace(\/[^\\w]\/g,"").toLowerCase()}return a=a.replace(\/^(.+)[ \\t]*\\n=+[ \\t]*\\n+\/gm,function(a,c){return A('<h1 id="'+b(c)+'">'+p(c)+"<\/h1>")}),a=a.replace(\/^(.+)[ \\t]*\\n-+[ \\t]*\\n+\/gm,function(a,c){return A('<h2 id="'+b(c)+'">'+p(c)+"<\/h2>")}),a=a.replace(\/^(\\#{1,6})[ \\t]*(.+?)[ \\t]*\\#*\\n+\/gm,function(a,c,d){var e=c.length;return A("<h"+e+' id="'+b(d)+'">'+p(d)+"<\/h"+e+">")}),a},w,x=function(a){a+="~0";var b=\/^(([ ]{0,3}([*+-]|\\d+[.])[ \\t]+)[^\\r]+?(~0|\\n{2,}(?=\\S)(?![ \\t]*(?:[*+-]|\\d+[.])[ \\t]+)))\/gm;return e?a=a.replace(b,function(a,b,c){var d=b,e=c.search(\/[*+-]\/g)>-1?"ul":"ol";d=d.replace(\/\\n{2,}\/g,"\\n\\n\\n");var f=w(d);return f=f.replace(\/\\s+$\/,""),f="<"+e+">"+f+"<\/"+e+">\\n",f}):(b=\/(\\n\\n|^\\n?)(([ ]{0,3}([*+-]|\\d+[.])[ \\t]+)[^\\r]+?(~0|\\n{2,}(?=\\S)(?![ \\t]*(?:[*+-]|\\d+[.])[ \\t]+)))\/g,a=a.replace(b,function(a,b,c,d){var e=b,f=c,g=d.search(\/[*+-]\/g)>-1?"ul":"ol",f=f.replace(\/\\n{2,}\/g,"\\n\\n\\n"),h=w(f);return h=e+"<"+g+">\\n"+h+"<\/"+g+">\\n",h})),a=a.replace(\/~0\/,""),a};w=function(a){return e++,a=a.replace(\/\\n{2,}$\/,"\\n"),a+="~0",a=a.replace(\/(\\n)?(^[ \\t]*)([*+-]|\\d+[.])[ \\t]+([^\\r]+?(\\n{1,2}))(?=\\n*(~0|\\2([*+-]|\\d+[.])[ \\t]+))\/gm,function(a,b,c,d,e){var f=e,g=b,h=c;return g||f.search(\/\\n{2,}\/)>-1?f=o(L(f)):(f=x(L(f)),f=f.replace(\/\\n$\/,""),f=p(f)),"<li>"+f+"<\/li>\\n"}),a=a.replace(\/~0\/g,""),e--,a};var y=function(a){return a+="~0",a=a.replace(\/(?:\\n\\n|^)((?:(?:[ ]{4}|\\t).*\\n+)+)(\\n*[ ]{0,3}[^ \\t\\n]|(?=~0))\/g,function(a,b,c){var d=b,e=c;return d=C(L(d)),d=M(d),d=d.replace(\/^\\n+\/g,""),d=d.replace(\/\\n+$\/g,""),d="<pre>"+d+"\\n<\/pre>",A(d)+e}),a=a.replace(\/~0\/,""),a},z=function(a){return a+="~0",a=a.replace(\/(?:^|\\n)```(.*)\\n([\\s\\S]*?)\\n```\/g,function(a,b,c){var d=b,e=c;return e=C(e),e=M(e),e=e.replace(\/^\\n+\/g,""),e=e.replace(\/\\n+$\/g,""),e="<pre>"+e+"\\n<\/pre>",A(e)}),a=a.replace(\/~0\/,""),a},A=function(a){return a=a.replace(\/(^\\n+|\\n+$)\/g,""),"\\n\\n~K"+(d.push(a)-1)+"K\\n\\n"},B=function(a){return a=a.replace(\/(^|[^\\\\])(`+)([^\\r]*?[^`])\\2(?!`)\/gm,function(a,b,c,d,e){var f=d;return f=f.replace(\/^([ \\t]*)\/g,""),f=f.replace(\/[ \\t]*$\/g,""),f=C(f),b+"<code>"+f+"<\/code>"}),a},C=function(a){return a=a.replace(\/&\/g,"&amp;"),a=a.replace(\/<\/g,"&lt;"),a=a.replace(\/>\/g,"&gt;"),a=N(a,"*_{}[]\\\\",!1),a},D=function(a){return a=a.replace(\/(\\*\\*|__)(?=\\S)([^\\r]*?\\S[*_]*)\\1\/g,"<strong>$2<\/strong>"),a=a.replace(\/(\\*|_)(?=\\S)([^\\r]*?\\S)\\1\/g,"<em>$2<\/em>"),a},E=function(a){return a=a.replace(\/((^[ \\t]*>[ \\t]?.+\\n(.+\\n)*\\n*)+)\/gm,function(a,b){var c=b;return c=c.replace(\/^[ \\t]*>[ \\t]?\/gm,"~0"),c=c.replace(\/~0\/g,""),c=c.replace(\/^[ \\t]+$\/gm,""),c=o(c),c=c.replace(\/(^|\\n)\/g,"$1  "),c=c.replace(\/(\\s*<pre>[^\\r]+?<\\\/pre>)\/gm,function(a,b){var c=b;return c=c.replace(\/^  \/mg,"~0"),c=c.replace(\/~0\/g,""),c}),A("<blockquote>\\n"+c+"\\n<\/blockquote>")}),a},F=function(a){a=a.replace(\/^\\n+\/g,""),a=a.replace(\/\\n+$\/g,"");var b=a.split(\/\\n{2,}\/g),c=[],e=b.length;for(var f=0;f<e;f++){var g=b[f];g.search(\/~K(\\d+)K\/g)>=0?c.push(g):g.search(\/\\S\/)>=0&&(g=p(g),g=g.replace(\/^([ \\t]*)\/g,"<p>"),g+="<\/p>",c.push(g))}e=c.length;for(var f=0;f<e;f++)while(c[f].search(\/~K(\\d+)K\/)>=0){var h=d[RegExp.$1];h=h.replace(\/\\$\/g,"$$$$"),c[f]=c[f].replace(\/~K\\d+K\/,h)}return c.join("\\n\\n")},G=function(a){return a=a.replace(\/&(?!#?[xX]?(?:[0-9a-fA-F]+|\\w+);)\/g,"&amp;"),a=a.replace(\/<(?![a-z\\\/?\\$!])\/gi,"&lt;"),a},H=function(a){return a=a.replace(\/\\\\(\\\\)\/g,O),a=a.replace(\/\\\\([`*_{}\\[\\]()>#+-.!])\/g,O),a},I=function(a){return a=a.replace(\/<((https?|ftp|dict):[^'">\\s]+)>\/gi,'<a href="$1">$1<\/a>'),a=a.replace(\/<(?:mailto:)?([-.\\w]+\\@[-a-z0-9]+(\\.[-a-z0-9]+)*\\.[a-z]+)>\/gi,function(a,b){return J(K(b))}),a},J=function(a){var b=[function(a){return"&#"+a.charCodeAt(0)+";"},function(a){return"&#x"+a.charCodeAt(0).toString(16)+";"},function(a){return a}];return a="mailto:"+a,a=a.replace(\/.\/g,function(a){if(a=="@")a=b[Math.floor(Math.random()*2)](a);else if(a!=":"){var c=Math.random();a=c>.9?b[2](a):c>.45?b[1](a):b[0](a)}return a}),a='<a href="'+a+'">'+a+"<\/a>",a=a.replace(\/">.+:\/g,'">'),a},K=function(a){return a=a.replace(\/~E(\\d+)E\/g,function(a,b){var c=parseInt(b);return String.fromCharCode(c)}),a},L=function(a){return a=a.replace(\/^(\\t|[ ]{1,4})\/gm,"~0"),a=a.replace(\/~0\/g,""),a},M=function(a){return a=a.replace(\/\\t(?=\\t)\/g,"    "),a=a.replace(\/\\t\/g,"~A~B"),a=a.replace(\/~B(.+?)~A\/g,function(a,b,c){var d=b,e=4-d.length%4;for(var f=0;f<e;f++)d+=" ";return d}),a=a.replace(\/~A\/g,"    "),a=a.replace(\/~B\/g,""),a},N=function(a,b,c){var d="(["+b.replace(\/([\\[\\]\\\\])\/g,"\\\\$1")+"])";c&&(d="\\\\\\\\"+d);var e=new RegExp(d,"g");return a=a.replace(e,O),a},O=function(a,b){var c=b.charCodeAt(0);return"~E"+c+"E"}},typeof module!="undefined"&&(module.exports=Showdown),typeof define=="function"&&define.amd&&define("showdown",function(){return Showdown});/;"	f
Showdown.extensions	js/xheditor_plugins/showdown.js	/^var Showdown={extensions:{}},forEach=Showdown.forEach=function(a,b){if(typeof a.forEach=="function")a.forEach(b);else{var c,d=a.length;for(c=0;c<d;c++)b(a[c],c,a)}},stdExtName=function(a){return a.replace(\/[_-]||\\s\/g,"").toLowerCase()};Showdown.converter=function(a){var b,c,d,e=0,f=[],g=[];if(typeof module!="undefind"&&typeof exports!="undefined"&&typeof require!="undefind"){var h=require("fs");if(h){var i=h.readdirSync((__dirname||".")+"\/extensions").filter(function(a){return~a.indexOf(".js")}).map(function(a){return a.replace(\/\\.js$\/,"")});Showdown.forEach(i,function(a){var b=stdExtName(a);Showdown.extensions[b]=require(".\/extensions\/"+a)})}}this.makeHtml=function(a){return b={},c={},d=[],a=a.replace(\/~\/g,"~T"),a=a.replace(\/\\$\/g,"~D"),a=a.replace(\/\\r\\n\/g,"\\n"),a=a.replace(\/\\r\/g,"\\n"),a="\\n\\n"+a+"\\n\\n",a=M(a),a=a.replace(\/^[ \\t]+$\/mg,""),Showdown.forEach(f,function(b){a=k(b,a)}),a=z(a),a=m(a),a=l(a),a=o(a),a=K(a),a=a.replace(\/~D\/g,"$$"),a=a.replace(\/~T\/g,"~"),Showdown.forEach(g,function(b){a=k(b,a)}),a};if(a&&a.extensions){var j=this;Showdown.forEach(a.extensions,function(a){typeof a=="string"&&(a=Showdown.extensions[stdExtName(a)]);if(typeof a!="function")throw"Extension '"+a+"' could not be loaded.  It was either not found or is not a valid extension.";Showdown.forEach(a(j),function(a){a.type?a.type==="language"||a.type==="lang"?f.push(a):(a.type==="output"||a.type==="html")&&g.push(a):g.push(a)})})}var k=function(a,b){if(a.regex){var c=new RegExp(a.regex,"g");return b.replace(c,a.replace)}if(a.filter)return a.filter(b)},l=function(a){return a+="~0",a=a.replace(\/^[ ]{0,3}\\[(.+)\\]:[ \\t]*\\n?[ \\t]*<?(\\S+?)>?[ \\t]*\\n?[ \\t]*(?:(\\n*)["(](.+?)[")][ \\t]*)?(?:\\n+|(?=~0))\/gm,function(a,d,e,f,g){return d=d.toLowerCase(),b[d]=G(e),f?f+g:(g&&(c[d]=g.replace(\/"\/g,"&quot;")),"")}),a=a.replace(\/~0\/,""),a},m=function(a){a=a.replace(\/\\n\/g,"\\n\\n");var b="p|div|h[1-6]|blockquote|pre|table|dl|ol|ul|script|noscript|form|fieldset|iframe|math|ins|del|style|section|header|footer|nav|article|aside",c="p|div|h[1-6]|blockquote|pre|table|dl|ol|ul|script|noscript|form|fieldset|iframe|math|style|section|header|footer|nav|article|aside";return a=a.replace(\/^(<(p|div|h[1-6]|blockquote|pre|table|dl|ol|ul|script|noscript|form|fieldset|iframe|math|ins|del)\\b[^\\r]*?\\n<\\\/\\2>[ \\t]*(?=\\n+))\/gm,n),a=a.replace(\/^(<(p|div|h[1-6]|blockquote|pre|table|dl|ol|ul|script|noscript|form|fieldset|iframe|math|style|section|header|footer|nav|article|aside)\\b[^\\r]*?<\\\/\\2>[ \\t]*(?=\\n+)\\n)\/gm,n),a=a.replace(\/(\\n[ ]{0,3}(<(hr)\\b([^<>])*?\\\/?>)[ \\t]*(?=\\n{2,}))\/g,n),a=a.replace(\/(\\n\\n[ ]{0,3}<!(--[^\\r]*?--\\s*)+>[ \\t]*(?=\\n{2,}))\/g,n),a=a.replace(\/(?:\\n\\n)([ ]{0,3}(?:<([?%])[^\\r]*?\\2>)[ \\t]*(?=\\n{2,}))\/g,n),a=a.replace(\/\\n\\n\/g,"\\n"),a},n=function(a,b){var c=b;return c=c.replace(\/\\n\\n\/g,"\\n"),c=c.replace(\/^\\n\/,""),c=c.replace(\/\\n+$\/g,""),c="\\n\\n~K"+(d.push(c)-1)+"K\\n\\n",c},o=function(a){a=v(a);var b=A("<hr \/>");return a=a.replace(\/^[ ]{0,2}([ ]?\\*[ ]?){3,}[ \\t]*$\/gm,b),a=a.replace(\/^[ ]{0,2}([ ]?\\-[ ]?){3,}[ \\t]*$\/gm,b),a=a.replace(\/^[ ]{0,2}([ ]?\\_[ ]?){3,}[ \\t]*$\/gm,b),a=x(a),a=y(a),a=E(a),a=m(a),a=F(a),a},p=function(a){return a=B(a),a=q(a),a=H(a),a=t(a),a=r(a),a=I(a),a=G(a),a=D(a),a=a.replace(\/  +\\n\/g," <br \/>\\n"),a},q=function(a){var b=\/(<[a-z\\\/!$]("[^"]*"|'[^']*'|[^'">])*>|<!(--.*?--\\s*)+>)\/gi;return a=a.replace(b,function(a){var b=a.replace(\/(.)<\\\/?code>(?=.)\/g,"$1`");return b=N(b,"\\\\`*_"),b}),a},r=function(a){return a=a.replace(\/(\\[((?:\\[[^\\]]*\\]|[^\\[\\]])*)\\][ ]?(?:\\n[ ]*)?\\[(.*?)\\])()()()()\/g,s),a=a.replace(\/(\\[((?:\\[[^\\]]*\\]|[^\\[\\]])*)\\]\\([ \\t]*()<?(.*?(?:\\(.*?\\).*?)?)>?[ \\t]*((['"])(.*?)\\6[ \\t]*)?\\))\/g,s),a=a.replace(\/(\\[([^\\[\\]]+)\\])()()()()()\/g,s),a},s=function(a,d,e,f,g,h,i,j){j==undefined&&(j="");var k=d,l=e,m=f.toLowerCase(),n=g,o=j;if(n==""){m==""&&(m=l.toLowerCase().replace(\/ ?\\n\/g," ")),n="#"+m;if(b[m]!=undefined)n=b[m],c[m]!=undefined&&(o=c[m]);else{if(!(k.search(\/\\(\\s*\\)$\/m)>-1))return k;n=""}}n=N(n,"*_");var p='<a href="'+n+'"';return o!=""&&(o=o.replace(\/"\/g,"&quot;"),o=N(o,"*_"),p+=' title="'+o+'"'),p+=">"+l+"<\/a>",p},t=function(a){return a=a.replace(\/(!\\[(.*?)\\][ ]?(?:\\n[ ]*)?\\[(.*?)\\])()()()()\/g,u),a=a.replace(\/(!\\[(.*?)\\]\\s?\\([ \\t]*()<?(\\S+?)>?[ \\t]*((['"])(.*?)\\6[ \\t]*)?\\))\/g,u),a},u=function(a,d,e,f,g,h,i,j){var k=d,l=e,m=f.toLowerCase(),n=g,o=j;o||(o="");if(n==""){m==""&&(m=l.toLowerCase().replace(\/ ?\\n\/g," ")),n="#"+m;if(b[m]==undefined)return k;n=b[m],c[m]!=undefined&&(o=c[m])}l=l.replace(\/"\/g,"&quot;"),n=N(n,"*_");var p='<img src="'+n+'" alt="'+l+'"';return o=o.replace(\/"\/g,"&quot;"),o=N(o,"*_"),p+=' title="'+o+'"',p+=" \/>",p},v=function(a){function b(a){return a.replace(\/[^\\w]\/g,"").toLowerCase()}return a=a.replace(\/^(.+)[ \\t]*\\n=+[ \\t]*\\n+\/gm,function(a,c){return A('<h1 id="'+b(c)+'">'+p(c)+"<\/h1>")}),a=a.replace(\/^(.+)[ \\t]*\\n-+[ \\t]*\\n+\/gm,function(a,c){return A('<h2 id="'+b(c)+'">'+p(c)+"<\/h2>")}),a=a.replace(\/^(\\#{1,6})[ \\t]*(.+?)[ \\t]*\\#*\\n+\/gm,function(a,c,d){var e=c.length;return A("<h"+e+' id="'+b(d)+'">'+p(d)+"<\/h"+e+">")}),a},w,x=function(a){a+="~0";var b=\/^(([ ]{0,3}([*+-]|\\d+[.])[ \\t]+)[^\\r]+?(~0|\\n{2,}(?=\\S)(?![ \\t]*(?:[*+-]|\\d+[.])[ \\t]+)))\/gm;return e?a=a.replace(b,function(a,b,c){var d=b,e=c.search(\/[*+-]\/g)>-1?"ul":"ol";d=d.replace(\/\\n{2,}\/g,"\\n\\n\\n");var f=w(d);return f=f.replace(\/\\s+$\/,""),f="<"+e+">"+f+"<\/"+e+">\\n",f}):(b=\/(\\n\\n|^\\n?)(([ ]{0,3}([*+-]|\\d+[.])[ \\t]+)[^\\r]+?(~0|\\n{2,}(?=\\S)(?![ \\t]*(?:[*+-]|\\d+[.])[ \\t]+)))\/g,a=a.replace(b,function(a,b,c,d){var e=b,f=c,g=d.search(\/[*+-]\/g)>-1?"ul":"ol",f=f.replace(\/\\n{2,}\/g,"\\n\\n\\n"),h=w(f);return h=e+"<"+g+">\\n"+h+"<\/"+g+">\\n",h})),a=a.replace(\/~0\/,""),a};w=function(a){return e++,a=a.replace(\/\\n{2,}$\/,"\\n"),a+="~0",a=a.replace(\/(\\n)?(^[ \\t]*)([*+-]|\\d+[.])[ \\t]+([^\\r]+?(\\n{1,2}))(?=\\n*(~0|\\2([*+-]|\\d+[.])[ \\t]+))\/gm,function(a,b,c,d,e){var f=e,g=b,h=c;return g||f.search(\/\\n{2,}\/)>-1?f=o(L(f)):(f=x(L(f)),f=f.replace(\/\\n$\/,""),f=p(f)),"<li>"+f+"<\/li>\\n"}),a=a.replace(\/~0\/g,""),e--,a};var y=function(a){return a+="~0",a=a.replace(\/(?:\\n\\n|^)((?:(?:[ ]{4}|\\t).*\\n+)+)(\\n*[ ]{0,3}[^ \\t\\n]|(?=~0))\/g,function(a,b,c){var d=b,e=c;return d=C(L(d)),d=M(d),d=d.replace(\/^\\n+\/g,""),d=d.replace(\/\\n+$\/g,""),d="<pre>"+d+"\\n<\/pre>",A(d)+e}),a=a.replace(\/~0\/,""),a},z=function(a){return a+="~0",a=a.replace(\/(?:^|\\n)```(.*)\\n([\\s\\S]*?)\\n```\/g,function(a,b,c){var d=b,e=c;return e=C(e),e=M(e),e=e.replace(\/^\\n+\/g,""),e=e.replace(\/\\n+$\/g,""),e="<pre>"+e+"\\n<\/pre>",A(e)}),a=a.replace(\/~0\/,""),a},A=function(a){return a=a.replace(\/(^\\n+|\\n+$)\/g,""),"\\n\\n~K"+(d.push(a)-1)+"K\\n\\n"},B=function(a){return a=a.replace(\/(^|[^\\\\])(`+)([^\\r]*?[^`])\\2(?!`)\/gm,function(a,b,c,d,e){var f=d;return f=f.replace(\/^([ \\t]*)\/g,""),f=f.replace(\/[ \\t]*$\/g,""),f=C(f),b+"<code>"+f+"<\/code>"}),a},C=function(a){return a=a.replace(\/&\/g,"&amp;"),a=a.replace(\/<\/g,"&lt;"),a=a.replace(\/>\/g,"&gt;"),a=N(a,"*_{}[]\\\\",!1),a},D=function(a){return a=a.replace(\/(\\*\\*|__)(?=\\S)([^\\r]*?\\S[*_]*)\\1\/g,"<strong>$2<\/strong>"),a=a.replace(\/(\\*|_)(?=\\S)([^\\r]*?\\S)\\1\/g,"<em>$2<\/em>"),a},E=function(a){return a=a.replace(\/((^[ \\t]*>[ \\t]?.+\\n(.+\\n)*\\n*)+)\/gm,function(a,b){var c=b;return c=c.replace(\/^[ \\t]*>[ \\t]?\/gm,"~0"),c=c.replace(\/~0\/g,""),c=c.replace(\/^[ \\t]+$\/gm,""),c=o(c),c=c.replace(\/(^|\\n)\/g,"$1  "),c=c.replace(\/(\\s*<pre>[^\\r]+?<\\\/pre>)\/gm,function(a,b){var c=b;return c=c.replace(\/^  \/mg,"~0"),c=c.replace(\/~0\/g,""),c}),A("<blockquote>\\n"+c+"\\n<\/blockquote>")}),a},F=function(a){a=a.replace(\/^\\n+\/g,""),a=a.replace(\/\\n+$\/g,"");var b=a.split(\/\\n{2,}\/g),c=[],e=b.length;for(var f=0;f<e;f++){var g=b[f];g.search(\/~K(\\d+)K\/g)>=0?c.push(g):g.search(\/\\S\/)>=0&&(g=p(g),g=g.replace(\/^([ \\t]*)\/g,"<p>"),g+="<\/p>",c.push(g))}e=c.length;for(var f=0;f<e;f++)while(c[f].search(\/~K(\\d+)K\/)>=0){var h=d[RegExp.$1];h=h.replace(\/\\$\/g,"$$$$"),c[f]=c[f].replace(\/~K\\d+K\/,h)}return c.join("\\n\\n")},G=function(a){return a=a.replace(\/&(?!#?[xX]?(?:[0-9a-fA-F]+|\\w+);)\/g,"&amp;"),a=a.replace(\/<(?![a-z\\\/?\\$!])\/gi,"&lt;"),a},H=function(a){return a=a.replace(\/\\\\(\\\\)\/g,O),a=a.replace(\/\\\\([`*_{}\\[\\]()>#+-.!])\/g,O),a},I=function(a){return a=a.replace(\/<((https?|ftp|dict):[^'">\\s]+)>\/gi,'<a href="$1">$1<\/a>'),a=a.replace(\/<(?:mailto:)?([-.\\w]+\\@[-a-z0-9]+(\\.[-a-z0-9]+)*\\.[a-z]+)>\/gi,function(a,b){return J(K(b))}),a},J=function(a){var b=[function(a){return"&#"+a.charCodeAt(0)+";"},function(a){return"&#x"+a.charCodeAt(0).toString(16)+";"},function(a){return a}];return a="mailto:"+a,a=a.replace(\/.\/g,function(a){if(a=="@")a=b[Math.floor(Math.random()*2)](a);else if(a!=":"){var c=Math.random();a=c>.9?b[2](a):c>.45?b[1](a):b[0](a)}return a}),a='<a href="'+a+'">'+a+"<\/a>",a=a.replace(\/">.+:\/g,'">'),a},K=function(a){return a=a.replace(\/~E(\\d+)E\/g,function(a,b){var c=parseInt(b);return String.fromCharCode(c)}),a},L=function(a){return a=a.replace(\/^(\\t|[ ]{1,4})\/gm,"~0"),a=a.replace(\/~0\/g,""),a},M=function(a){return a=a.replace(\/\\t(?=\\t)\/g,"    "),a=a.replace(\/\\t\/g,"~A~B"),a=a.replace(\/~B(.+?)~A\/g,function(a,b,c){var d=b,e=4-d.length%4;for(var f=0;f<e;f++)d+=" ";return d}),a=a.replace(\/~A\/g,"    "),a=a.replace(\/~B\/g,""),a},N=function(a,b,c){var d="(["+b.replace(\/([\\[\\]\\\\])\/g,"\\\\$1")+"])";c&&(d="\\\\\\\\"+d);var e=new RegExp(d,"g");return a=a.replace(e,O),a},O=function(a,b){var c=b.charCodeAt(0);return"~E"+c+"E"}},typeof module!="undefined"&&(module.exports=Showdown),typeof define=="function"&&define.amd&&define("showdown",function(){return Showdown});/;"	p
SingleDecToHex	application/controllers/dsconfig.class.php	/^function SingleDecToHex($dec)$/;"	f
SingleDecToHex	dsconfig.class.php	/^function SingleDecToHex($dec)$/;"	f
SingleHexToDec	application/controllers/dsconfig.class.php	/^function SingleHexToDec($hex)$/;"	f
SingleHexToDec	dsconfig.class.php	/^function SingleHexToDec($hex)$/;"	f
Space	application/controllers/space.php	/^class Space extends MY_Controller$/;"	c
SpacePhoto	application/controllers/spacePhoto.php	/^class SpacePhoto extends MY_Controller$/;"	c
String	js/xheditor_plugins/html2markdown.js	/^	String.prototype.trim = function() {$/;"	c
String.endsWith	js/xheditor_plugins/html2markdown.js	/^	String.prototype.endsWith = function(suffix) {$/;"	m
String.isNotEmpty	js/xheditor_plugins/html2markdown.js	/^	String.prototype.isNotEmpty = function() {$/;"	m
String.replaceAll	js/xheditor_plugins/html2markdown.js	/^	String.prototype.replaceAll = function(stringToFind,stringToReplace){$/;"	m
String.startsWith	js/xheditor_plugins/html2markdown.js	/^	String.prototype.startsWith = function(str) {$/;"	m
String.trim	js/xheditor_plugins/html2markdown.js	/^	String.prototype.trim = function() {$/;"	m
String2Byte	application/controllers/dsconfig.class.php	/^function String2Byte($str)$/;"	f
String2Byte	dsconfig.class.php	/^function String2Byte($str)$/;"	f
THUMB	application/controllers/write.php	/^        define('THUMB',"upload\/");$/;"	d
Test	application/controllers/test.php	/^class Test extends MY_Controller{$/;"	c
UNI	system/core/CodeIgniter.php	/^	$UNI =& load_class('Utf8', 'core');$/;"	v
URI	system/core/CodeIgniter.php	/^	$URI =& load_class('URI', 'core');$/;"	v
UTF8_ENABLED	system/core/Utf8.php	/^			define('UTF8_ENABLED', FALSE);$/;"	d
UTF8_ENABLED	system/core/Utf8.php	/^			define('UTF8_ENABLED', TRUE);$/;"	d
User	application/models/user.php	/^class User extends Ci_Model$/;"	c
User_home	application/controllers/userspace/user_home.php	/^class User_home  extends Ci_Controller{$/;"	c
User_photo	application/controllers/userspace/user_photo.php	/^class User_photo extends Ci_Controller{$/;"	c
Userlist	application/controllers/bg/userlist.php	/^    class Userlist extends MY_CONTROLLER{$/;"	c
Waimai	application/controllers/waimai.php	/^class Waimai extends My_Controller$/;"	c
Welcome	application/controllers/welcome.php	/^class Welcome extends CI_Controller {$/;"	c
Write	application/controllers/write.php	/^class Write extends MY_Controller$/;"	c
Wrong	application/controllers/bg/wrong.php	/^class Wrong extends MY_Controller$/;"	c
XML_RPC_Client	system/libraries/Xmlrpc.php	/^class XML_RPC_Client extends CI_Xmlrpc$/;"	c
XML_RPC_Client	system/libraries/Xmlrpc.php	/^} \/\/ end class XML_RPC_Client$/;"	c
XML_RPC_Message	system/libraries/Xmlrpc.php	/^class XML_RPC_Message extends CI_Xmlrpc$/;"	c
XML_RPC_Response	system/libraries/Xmlrpc.php	/^class XML_RPC_Response$/;"	c
XML_RPC_Values	system/libraries/Xmlrpc.php	/^class XML_RPC_Values extends CI_Xmlrpc$/;"	c
_GET	system/core/Input.php	/^			$_GET = array();$/;"	v
_GET	system/core/URI.php	/^			$_GET = array();$/;"	v
_IP	system/libraries/Email.php	/^			$this->_IP = '0.0.0.0';$/;"	v
_IP	system/libraries/Email.php	/^			$this->_IP = end($x);$/;"	v
_IP	system/libraries/Email.php	/^		elseif ($cip)		$this->_IP = $cip;$/;"	v
_IP	system/libraries/Email.php	/^		elseif ($fip)		$this->_IP = $fip;$/;"	v
_IP	system/libraries/Email.php	/^		elseif ($rip)		$this->_IP = $rip;$/;"	v
_IP	system/libraries/Email.php	/^		if ($cip && $rip)	$this->_IP = $cip;$/;"	v
_IP	system/libraries/Email.php	/^	var $_IP			= FALSE;$/;"	v
__call	system/libraries/Driver.php	/^	public function __call($method, $args = array())$/;"	f
__construct	application/controllers/art_list.php	/^	function __construct()				{$/;"	f
__construct	application/controllers/bg/bgart.php	/^    public function __construct()$/;"	f
__construct	application/controllers/bg/blocklist.php	/^				function  __construct()				{$/;"	f
__construct	application/controllers/bg/home.php	/^    function __construct()              {$/;"	f
__construct	application/controllers/bg/imglist.php	/^    function __construct()              {$/;"	f
__construct	application/controllers/bg/item.php	/^     function __construct()$/;"	f
__construct	application/controllers/bg/newreg.php	/^		function __construct()				{$/;"	f
__construct	application/controllers/bg/order.php	/^     function __construct()$/;"	f
__construct	application/controllers/bg/userlist.php	/^        function __construct(){$/;"	f
__construct	application/controllers/bg/wrong.php	/^    public function __construct()$/;"	f
__construct	application/controllers/checkcode.php	/^   function __construct() {$/;"	f
__construct	application/controllers/chome.php	/^    function __construct(){$/;"	f
__construct	application/controllers/destory.php	/^	function __construct()$/;"	f
__construct	application/controllers/fun.php	/^     function __construct()$/;"	f
__construct	application/controllers/home.php	/^    function __construct()$/;"	f
__construct	application/controllers/info.php	/^    function __construct()$/;"	f
__construct	application/controllers/item.php	/^     function __construct()$/;"	f
__construct	application/controllers/mainpage.php	/^    function __construct()$/;"	f
__construct	application/controllers/map.php	/^	function __construct()$/;"	f
__construct	application/controllers/message.php	/^	function  __construct(){$/;"	f
__construct	application/controllers/order.php	/^    function __construct(){$/;"	f
__construct	application/controllers/reg.php	/^    function __construct(){$/;"	f
__construct	application/controllers/sea.php	/^    function __construct()$/;"	f
__construct	application/controllers/search.php	/^	function __construct()$/;"	f
__construct	application/controllers/sec.php	/^	function __construct()$/;"	f
__construct	application/controllers/showart.php	/^    function __construct()$/;"	f
__construct	application/controllers/space.php	/^    function __construct()$/;"	f
__construct	application/controllers/spacePhoto.php	/^	function __construct()$/;"	f
__construct	application/controllers/test.php	/^    function __construct(){$/;"	f
__construct	application/controllers/userspace/user_home.php	/^	function __construct()				{$/;"	f
__construct	application/controllers/userspace/user_photo.php	/^	function __construct()				{$/;"	f
__construct	application/controllers/waimai.php	/^     function __construct()$/;"	f
__construct	application/controllers/write.php	/^    function __construct()$/;"	f
__construct	application/core/MY_Controller.php	/^    function __construct()$/;"	f
__construct	application/libraries/sms.php	/^    public function __construct()$/;"	f
__construct	application/models/art.php	/^    function __construct()$/;"	f
__construct	application/models/bghome.php	/^		function __construct(){$/;"	f
__construct	application/models/blog.php	/^				function __construct()				{$/;"	f
__construct	application/models/comitem.php	/^    function __construct()$/;"	f
__construct	application/models/comment.php	/^		function __construct()$/;"	f
__construct	application/models/img.php	/^    function __construct()$/;"	f
__construct	application/models/imgcomment.php	/^	function __construct()$/;"	f
__construct	application/models/mar_list.php	/^	function __construct()				{$/;"	f
__construct	application/models/mbgblocklist.php	/^	function __construct()				{$/;"	f
__construct	application/models/mbgimglist.php	/^	function __construct()				{$/;"	f
__construct	application/models/mbgnewreg.php	/^		function __construct()				{$/;"	f
__construct	application/models/mbguserlist.php	/^				function __construct()				{$/;"	f
__construct	application/models/meditor.php	/^		function __construct(){$/;"	f
__construct	application/models/mess.php	/^	function __construct()$/;"	f
__construct	application/models/mhome.php	/^	function __construct(){$/;"	f
__construct	application/models/mitem.php	/^     function __construct()$/;"	f
__construct	application/models/monline_user.php	/^	function __construct()$/;"	f
__construct	application/models/morder.php	/^    function __construct()$/;"	f
__construct	application/models/mphoto.php	/^	function __construct(){$/;"	f
__construct	application/models/mreg.php	/^				function __construct()				{$/;"	f
__construct	application/models/mshowart.php	/^				function __construct()				{$/;"	f
__construct	application/models/muser_home.php	/^	function __construct(){$/;"	f
__construct	application/models/mwrong.php	/^     function __construct()$/;"	f
__construct	application/models/order.php	/^    function __construct()$/;"	f
__construct	application/models/user.php	/^    function __construct()$/;"	f
__construct	system/core/Config.php	/^	function __construct()$/;"	f
__construct	system/core/Controller.php	/^	public function __construct()$/;"	f
__construct	system/core/Exceptions.php	/^	public function __construct()$/;"	f
__construct	system/core/Hooks.php	/^	function __construct()$/;"	f
__construct	system/core/Input.php	/^	public function __construct()$/;"	f
__construct	system/core/Lang.php	/^	function __construct()$/;"	f
__construct	system/core/Loader.php	/^	public function __construct()$/;"	f
__construct	system/core/Model.php	/^	function __construct()$/;"	f
__construct	system/core/Output.php	/^	function __construct()$/;"	f
__construct	system/core/Router.php	/^	function __construct()$/;"	f
__construct	system/core/Security.php	/^	public function __construct()$/;"	f
__construct	system/core/URI.php	/^	function __construct()$/;"	f
__construct	system/core/Utf8.php	/^	function __construct()$/;"	f
__construct	system/database/DB_cache.php	/^	function __construct(&$db)$/;"	f
__construct	system/database/DB_driver.php	/^	function __construct($params)$/;"	f
__construct	system/database/DB_forge.php	/^	function __construct()$/;"	f
__construct	system/database/DB_utility.php	/^	function __construct()$/;"	f
__construct	system/database/drivers/odbc/odbc_driver.php	/^	function __construct($params)$/;"	f
__construct	system/database/drivers/pdo/pdo_driver.php	/^	function __construct($params)$/;"	f
__construct	system/libraries/Cache/Cache.php	/^	public function __construct($config = array())$/;"	f
__construct	system/libraries/Cache/drivers/Cache_file.php	/^	public function __construct()$/;"	f
__construct	system/libraries/Calendar.php	/^	public function __construct($config = array())$/;"	f
__construct	system/libraries/Cart.php	/^	public function __construct($params = array())$/;"	f
__construct	system/libraries/Email.php	/^	public function __construct($config = array())$/;"	f
__construct	system/libraries/Encrypt.php	/^	public function __construct()$/;"	f
__construct	system/libraries/Form_validation.php	/^	public function __construct($rules = array())$/;"	f
__construct	system/libraries/Ftp.php	/^	public function __construct($config = array())$/;"	f
__construct	system/libraries/Image_lib.php	/^	public function __construct($props = array())$/;"	f
__construct	system/libraries/Javascript.php	/^	public function __construct($params = array())$/;"	f
__construct	system/libraries/Log.php	/^	public function __construct()$/;"	f
__construct	system/libraries/Migration.php	/^	public function __construct($config = array())$/;"	f
__construct	system/libraries/Pagination.php	/^	public function __construct($params = array())$/;"	f
__construct	system/libraries/Profiler.php	/^	public function __construct($config = array())$/;"	f
__construct	system/libraries/Session.php	/^	public function __construct($params = array())$/;"	f
__construct	system/libraries/Sha1.php	/^	public function __construct()$/;"	f
__construct	system/libraries/Table.php	/^	public function __construct()$/;"	f
__construct	system/libraries/Trackback.php	/^	public function __construct()$/;"	f
__construct	system/libraries/Unit_test.php	/^	public function __construct()$/;"	f
__construct	system/libraries/Upload.php	/^	public function __construct($props = array())$/;"	f
__construct	system/libraries/User_agent.php	/^	public function __construct()$/;"	f
__construct	system/libraries/Xmlrpc.php	/^	public function __construct($config = array())$/;"	f
__construct	system/libraries/Xmlrpc.php	/^	public function __construct($method, $pars=0)$/;"	f
__construct	system/libraries/Xmlrpc.php	/^	public function __construct($path, $server, $port=80)$/;"	f
__construct	system/libraries/Xmlrpc.php	/^	public function __construct($val, $code = 0, $fstr = '')$/;"	f
__construct	system/libraries/Xmlrpc.php	/^	public function __construct($val=-1, $type='')$/;"	f
__construct	system/libraries/Xmlrpcs.php	/^	public function __construct($config=array())$/;"	f
__construct	system/libraries/Zip.php	/^	public function __construct()$/;"	f
__construct	system/libraries/ckeditor.php	/^	function __construct($basePath = null) {$/;"	f
__construct	system/libraries/javascript/Jquery.php	/^	public function __construct($params)$/;"	f
__get	system/core/Model.php	/^	function __get($key)$/;"	f
__get	system/libraries/Cache/Cache.php	/^	public function __get($child)$/;"	f
__get	system/libraries/Driver.php	/^	function __get($child)$/;"	f
__get	system/libraries/Driver.php	/^	public function __get($var)$/;"	f
__get	system/libraries/Migration.php	/^	public function __get($var)$/;"	f
__set	system/libraries/Driver.php	/^	public function __set($var, $val)$/;"	f
_adapter	system/libraries/Cache/Cache.php	/^			$this->_adapter = $this->_backup_driver;$/;"	v
_adapter	system/libraries/Cache/Cache.php	/^	protected $_adapter			= 'dummy';$/;"	v
_addClass	system/libraries/javascript/Jquery.php	/^	function _addClass($element = 'this', $class='')$/;"	f
_add_cipher_noise	system/libraries/Encrypt.php	/^	function _add_cipher_noise($data, $key)$/;"	f
_add_data	system/libraries/Zip.php	/^	function _add_data($filepath, $data, $file_mtime, $file_mdate)$/;"	f
_add_dir	system/libraries/Zip.php	/^	function _add_dir($dir, $file_mtime, $file_mdate)$/;"	f
_add_event	system/libraries/javascript/Jquery.php	/^	function _add_event($element, $js, $event)$/;"	f
_allow_get_array	system/core/Input.php	/^		$this->_allow_get_array	= (config_item('allow_get_array') === TRUE);$/;"	v
_allow_get_array	system/core/Input.php	/^	var $_allow_get_array		= TRUE;$/;"	v
_alt_boundary	system/libraries/Email.php	/^		$this->_alt_boundary = "B_ALT_".uniqid(''); \/\/ multipart\/alternative$/;"	v
_alt_boundary	system/libraries/Email.php	/^	var	$_alt_boundary	= "";$/;"	v
_alter_table	system/database/drivers/cubrid/cubrid_forge.php	/^	function _alter_table($alter_type, $table, $fields, $after_field = '')$/;"	f
_alter_table	system/database/drivers/mssql/mssql_forge.php	/^	function _alter_table($alter_type, $table, $column_name, $column_definition = '', $default_value = '', $null = '', $after_field = '')$/;"	f
_alter_table	system/database/drivers/mysql/mysql_forge.php	/^	function _alter_table($alter_type, $table, $fields, $after_field = '')$/;"	f
_alter_table	system/database/drivers/mysqli/mysqli_forge.php	/^	function _alter_table($alter_type, $table, $fields, $after_field = '')$/;"	f
_alter_table	system/database/drivers/oci8/oci8_forge.php	/^	function _alter_table($alter_type, $table, $column_name, $column_definition = '', $default_value = '', $null = '', $after_field = '')$/;"	f
_alter_table	system/database/drivers/odbc/odbc_forge.php	/^	function _alter_table($alter_type, $table, $column_name, $column_definition = '', $default_value = '', $null = '', $after_field = '')$/;"	f
_alter_table	system/database/drivers/pdo/pdo_forge.php	/^	function _alter_table($alter_type, $table, $column_name, $column_definition = '', $default_value = '', $null = '', $after_field = '')$/;"	f
_alter_table	system/database/drivers/postgre/postgre_forge.php	/^	function _alter_table($alter_type, $table, $column_name, $column_definition = '', $default_value = '', $null = '', $after_field = '')$/;"	f
_alter_table	system/database/drivers/sqlite/sqlite_forge.php	/^	function _alter_table($alter_type, $table, $column_name, $column_definition = '', $default_value = '', $null = '', $after_field = '')$/;"	f
_alter_table	system/database/drivers/sqlsrv/sqlsrv_forge.php	/^	function _alter_table($alter_type, $table, $column_name, $column_definition = '', $default_value = '', $null = '', $after_field = '')$/;"	f
_animate	system/libraries/javascript/Jquery.php	/^	function _animate($element = 'this', $params = array(), $speed = '', $extra = '')$/;"	f
_assign_to_config	system/core/Config.php	/^	function _assign_to_config($items = array())$/;"	f
_atc_boundary	system/libraries/Email.php	/^		$this->_atc_boundary = "B_ATC_".uniqid(''); \/\/ attachment boundary$/;"	v
_atc_boundary	system/libraries/Email.php	/^	var	$_atc_boundary	= "";$/;"	v
_attach_disp	system/libraries/Email.php	/^			$this->_attach_disp = array();$/;"	v
_attach_disp	system/libraries/Email.php	/^	var	$_attach_disp	= array();$/;"	v
_attach_name	system/libraries/Email.php	/^			$this->_attach_name = array();$/;"	v
_attach_name	system/libraries/Email.php	/^	var	$_attach_name	= array();$/;"	v
_attach_type	system/libraries/Email.php	/^			$this->_attach_type = array();$/;"	v
_attach_type	system/libraries/Email.php	/^	var	$_attach_type	= array();$/;"	v
_attributes_to_string	system/helpers/form_helper.php	/^	function _attributes_to_string($attributes, $formtag = FALSE)$/;"	f
_available_sections	system/libraries/Profiler.php	/^	protected $_available_sections = array($/;"	v
_backtrace	system/libraries/Unit_test.php	/^	function _backtrace()$/;"	f
_backup	system/database/drivers/cubrid/cubrid_utility.php	/^	function _backup($params = array())$/;"	f
_backup	system/database/drivers/mssql/mssql_utility.php	/^	function _backup($params = array())$/;"	f
_backup	system/database/drivers/mysql/mysql_utility.php	/^	function _backup($params = array())$/;"	f
_backup	system/database/drivers/mysqli/mysqli_utility.php	/^	function _backup($params = array())$/;"	f
_backup	system/database/drivers/oci8/oci8_utility.php	/^	function _backup($params = array())$/;"	f
_backup	system/database/drivers/odbc/odbc_utility.php	/^	function _backup($params = array())$/;"	f
_backup	system/database/drivers/pdo/pdo_utility.php	/^	function _backup($params = array())$/;"	f
_backup	system/database/drivers/postgre/postgre_utility.php	/^	function _backup($params = array())$/;"	f
_backup	system/database/drivers/sqlite/sqlite_utility.php	/^	function _backup($params = array())$/;"	f
_backup	system/database/drivers/sqlsrv/sqlsrv_utility.php	/^	function _backup($params = array())$/;"	f
_backup_driver	system/libraries/Cache/Cache.php	/^				$this->_backup_driver = $config['backup'];$/;"	v
_backup_driver	system/libraries/Cache/Cache.php	/^	protected $_backup_driver;$/;"	v
_base_charsets	system/libraries/Email.php	/^	var	$_base_charsets	= array('us-ascii', 'iso-2022-');	\/\/ 7-bit charsets (excluding language suffix)$/;"	v
_base_classes	system/core/Loader.php	/^		$this->_base_classes =& is_loaded();$/;"	v
_base_classes	system/core/Loader.php	/^	protected $_base_classes		= array(); \/\/ Set by the controller class$/;"	v
_bcc_array	system/libraries/Email.php	/^				$this->_bcc_array = $bcc;$/;"	v
_bcc_array	system/libraries/Email.php	/^			$this->_bcc_array = $bcc;$/;"	v
_bcc_array	system/libraries/Email.php	/^		$this->_bcc_array	= array();$/;"	v
_bcc_array	system/libraries/Email.php	/^	var	$_bcc_array		= array();$/;"	v
_bind_params	system/database/drivers/oci8/oci8_driver.php	/^	private function _bind_params($params)$/;"	f
_bit_depths	system/libraries/Email.php	/^	var	$_bit_depths	= array('7bit', '8bit');$/;"	v
_blur	system/libraries/javascript/Jquery.php	/^	function _blur($element = 'this', $js = '')$/;"	f
_body	system/libraries/Email.php	/^			$this->_body = $this->word_wrap($this->_body);$/;"	v
_body	system/libraries/Email.php	/^			$this->_body = stripslashes($this->_body);$/;"	v
_body	system/libraries/Email.php	/^		$this->_body		= "";$/;"	v
_body	system/libraries/Email.php	/^		$this->_body = rtrim(str_replace("\\r", "", $body));$/;"	v
_body	system/libraries/Email.php	/^	var	$_body			= "";$/;"	v
_build_headers	system/libraries/Email.php	/^	protected function _build_headers()$/;"	f
_build_message	system/libraries/Email.php	/^	protected function _build_message()$/;"	f
_cache_init	system/database/DB_driver.php	/^	function _cache_init()$/;"	f
_cache_path	system/libraries/Cache/Cache.php	/^	protected $_cache_path		= NULL;		\/\/ Path of cache files (if file-based cache)$/;"	v
_cache_path	system/libraries/Cache/drivers/Cache_file.php	/^		$this->_cache_path = ($path == '') ? APPPATH.'cache\/' : $path;$/;"	v
_cache_path	system/libraries/Cache/drivers/Cache_file.php	/^	protected $_cache_path;$/;"	v
_call_hook	system/core/Hooks.php	/^	function _call_hook($which = '')$/;"	f
_cart_contents	system/libraries/Cart.php	/^			$this->_cart_contents = $this->CI->session->userdata('cart_contents');$/;"	v
_cart_contents	system/libraries/Cart.php	/^	var $_cart_contents	= array();$/;"	v
_cc_array	system/libraries/Email.php	/^			$this->_cc_array = $cc;$/;"	v
_cc_array	system/libraries/Email.php	/^		$this->_cc_array	= array();$/;"	v
_cc_array	system/libraries/Email.php	/^	var	$_cc_array		= array();$/;"	v
_change	system/libraries/javascript/Jquery.php	/^	function _change($element = 'this', $js = '')$/;"	f
_ci_CI	system/core/Loader.php	/^		$_ci_CI =& get_instance();$/;"	v
_ci_autoloader	system/core/Loader.php	/^	private function _ci_autoloader()$/;"	f
_ci_cached_vars	system/core/Loader.php	/^			$this->_ci_cached_vars = array_merge($this->_ci_cached_vars, $_ci_vars);$/;"	v
_ci_cached_vars	system/core/Loader.php	/^	protected $_ci_cached_vars		= array();$/;"	v
_ci_classes	system/core/Loader.php	/^		$this->_ci_classes = array();$/;"	v
_ci_classes	system/core/Loader.php	/^	protected $_ci_classes			= array();$/;"	v
_ci_ext	system/core/Loader.php	/^			$_ci_ext = pathinfo($_ci_view, PATHINFO_EXTENSION);$/;"	v
_ci_file	system/core/Loader.php	/^			$_ci_file = ($_ci_ext == '') ? $_ci_view.'.php' : $_ci_view;$/;"	v
_ci_file	system/core/Loader.php	/^			$_ci_file = end($_ci_x);$/;"	v
_ci_get_component	system/core/Loader.php	/^	protected function &_ci_get_component($component)$/;"	f
_ci_helper_paths	system/core/Loader.php	/^		$this->_ci_helper_paths = array(APPPATH, BASEPATH);$/;"	v
_ci_helper_paths	system/core/Loader.php	/^		$this->_ci_helper_paths = array_unique(array_merge($this->_ci_helper_paths, array(APPPATH, BASEPATH)));$/;"	v
_ci_helper_paths	system/core/Loader.php	/^	protected $_ci_helper_paths		= array();$/;"	v
_ci_helpers	system/core/Loader.php	/^	protected $_ci_helpers			= array();$/;"	v
_ci_init_class	system/core/Loader.php	/^	protected function _ci_init_class($class, $prefix = '', $config = FALSE, $object_name = NULL)$/;"	f
_ci_key	system/core/Loader.php	/^		foreach (get_object_vars($_ci_CI) as $_ci_key => $_ci_var)$/;"	v
_ci_library_paths	system/core/Loader.php	/^		$this->_ci_library_paths = array(APPPATH, BASEPATH);$/;"	v
_ci_library_paths	system/core/Loader.php	/^		$this->_ci_library_paths = array_unique(array_merge($this->_ci_library_paths, array(APPPATH, BASEPATH)));$/;"	v
_ci_library_paths	system/core/Loader.php	/^	protected $_ci_library_paths	= array();$/;"	v
_ci_load	system/core/Loader.php	/^	protected function _ci_load($_ci_data)$/;"	f
_ci_load_class	system/core/Loader.php	/^	protected function _ci_load_class($class, $params = NULL, $object_name = NULL)$/;"	f
_ci_loaded_files	system/core/Loader.php	/^		$this->_ci_loaded_files = array();$/;"	v
_ci_loaded_files	system/core/Loader.php	/^	protected $_ci_loaded_files		= array();$/;"	v
_ci_model_paths	system/core/Loader.php	/^		$this->_ci_model_paths = array(APPPATH);$/;"	v
_ci_model_paths	system/core/Loader.php	/^		$this->_ci_model_paths = array_unique(array_merge($this->_ci_model_paths, array(APPPATH)));$/;"	v
_ci_model_paths	system/core/Loader.php	/^	protected $_ci_model_paths		= array();$/;"	v
_ci_models	system/core/Loader.php	/^		$this->_ci_models = array();$/;"	v
_ci_models	system/core/Loader.php	/^	protected $_ci_models			= array();$/;"	v
_ci_ob_level	system/core/Loader.php	/^		$this->_ci_ob_level  = ob_get_level();$/;"	v
_ci_ob_level	system/core/Loader.php	/^	protected $_ci_ob_level;$/;"	v
_ci_object_to_array	system/core/Loader.php	/^	protected function _ci_object_to_array($object)$/;"	f
_ci_path	system/core/Loader.php	/^					$_ci_path = $view_file.$_ci_file;$/;"	v
_ci_prep_filename	system/core/Loader.php	/^	protected function _ci_prep_filename($filename, $extension)$/;"	f
_ci_varmap	system/core/Loader.php	/^	protected $_ci_varmap			= array('unit_test' => 'unit',$/;"	v
_ci_view_paths	system/core/Loader.php	/^		$this->_ci_view_paths = array($path.'views\/' => $view_cascade) + $this->_ci_view_paths;$/;"	v
_ci_view_paths	system/core/Loader.php	/^		$this->_ci_view_paths = array(APPPATH.'views\/'	=> TRUE);$/;"	v
_ci_view_paths	system/core/Loader.php	/^		$this->_ci_view_paths = array_merge($this->_ci_view_paths, array(APPPATH.'views\/' => TRUE));$/;"	v
_ci_view_paths	system/core/Loader.php	/^	protected $_ci_view_paths		= array();$/;"	v
_ci_x	system/core/Loader.php	/^			$_ci_x = explode('\/', $_ci_path);$/;"	v
_classes	system/core/Common.php	/^		static $_classes = array();$/;"	v
_clean_input_data	system/core/Input.php	/^	function _clean_input_data($str)$/;"	f
_clean_input_keys	system/core/Input.php	/^	function _clean_input_keys($str)$/;"	f
_clear_compile	system/libraries/javascript/Jquery.php	/^	function _clear_compile()$/;"	f
_click	system/libraries/javascript/Jquery.php	/^	function _click($element = 'this', $js = '', $ret_false = TRUE)$/;"	f
_close	system/database/drivers/cubrid/cubrid_driver.php	/^	function _close($conn_id)$/;"	f
_close	system/database/drivers/mssql/mssql_driver.php	/^	function _close($conn_id)$/;"	f
_close	system/database/drivers/mysql/mysql_driver.php	/^	function _close($conn_id)$/;"	f
_close	system/database/drivers/mysqli/mysqli_driver.php	/^	function _close($conn_id)$/;"	f
_close	system/database/drivers/oci8/oci8_driver.php	/^	protected function _close($conn_id)$/;"	f
_close	system/database/drivers/odbc/odbc_driver.php	/^	function _close($conn_id)$/;"	f
_close	system/database/drivers/pdo/pdo_driver.php	/^	function _close($conn_id)$/;"	f
_close	system/database/drivers/postgre/postgre_driver.php	/^	function _close($conn_id)$/;"	f
_close	system/database/drivers/sqlite/sqlite_driver.php	/^	function _close($conn_id)$/;"	f
_close	system/database/drivers/sqlsrv/sqlsrv_driver.php	/^	function _close($conn_id)$/;"	f
_close_script	system/libraries/Javascript.php	/^	function _close_script($extra = "\\n")$/;"	f
_commit	system/database/drivers/oci8/oci8_driver.php	/^		$this->_commit = OCI_COMMIT_ON_SUCCESS;$/;"	v
_commit	system/database/drivers/oci8/oci8_driver.php	/^		$this->_commit = OCI_DEFAULT;$/;"	v
_commit	system/database/drivers/oci8/oci8_driver.php	/^	var $_commit = OCI_COMMIT_ON_SUCCESS;$/;"	v
_compact_exploded_words	system/core/Security.php	/^	protected function _compact_exploded_words($matches)$/;"	f
_compile	system/libraries/javascript/Jquery.php	/^	function _compile($view_var = 'script_foot', $script_tags = TRUE)$/;"	f
_compile_benchmarks	system/libraries/Profiler.php	/^	protected function _compile_benchmarks()$/;"	f
_compile_config	system/libraries/Profiler.php	/^	protected function _compile_config()$/;"	f
_compile_controller_info	system/libraries/Profiler.php	/^	protected function _compile_controller_info()$/;"	f
_compile_data	system/libraries/User_agent.php	/^	private function _compile_data()$/;"	f
_compile_get	system/libraries/Profiler.php	/^	protected function _compile_get()$/;"	f
_compile_http_headers	system/libraries/Profiler.php	/^	protected function _compile_http_headers()$/;"	f
_compile_memory_usage	system/libraries/Profiler.php	/^	protected function _compile_memory_usage()$/;"	f
_compile_post	system/libraries/Profiler.php	/^	protected function _compile_post()$/;"	f
_compile_queries	system/libraries/Profiler.php	/^	protected function _compile_queries()$/;"	f
_compile_select	system/database/DB_active_rec.php	/^	protected function _compile_select($select_override = FALSE)$/;"	f
_compile_session_data	system/libraries/Profiler.php	/^	private function _compile_session_data()$/;"	f
_compile_template	system/libraries/Table.php	/^	function _compile_template()$/;"	f
_compile_uri_string	system/libraries/Profiler.php	/^	protected function _compile_uri_string()$/;"	f
_config	system/core/Common.php	/^		static $_config;$/;"	v
_config	system/libraries/ckeditor.php	/^			$_config = array_merge($_config, $config);$/;"	v
_config	system/libraries/ckeditor.php	/^		$_config = $this->config;$/;"	v
_config	system/libraries/ckeditor.php	/^		$_config = $this->configSettings($config, $events);$/;"	v
_config	system/libraries/ckeditor.php	/^		$_config = $this->configSettings();$/;"	v
_config_item	system/core/Common.php	/^		static $_config_item = array();$/;"	v
_config_paths	system/core/Config.php	/^	var $_config_paths = array(APPPATH);$/;"	v
_config_rules	system/libraries/Form_validation.php	/^		$this->_config_rules = $rules;$/;"	v
_config_rules	system/libraries/Form_validation.php	/^	protected $_config_rules		= array();$/;"	v
_connect_string	system/database/drivers/postgre/postgre_driver.php	/^	function _connect_string()$/;"	f
_convert_attribute	system/core/Security.php	/^	protected function _convert_attribute($match)$/;"	f
_count_string	system/database/drivers/cubrid/cubrid_driver.php	/^	var $_count_string = 'SELECT COUNT(*) AS ';$/;"	v
_count_string	system/database/drivers/mssql/mssql_driver.php	/^	var $_count_string = "SELECT COUNT(*) AS ";$/;"	v
_count_string	system/database/drivers/mysql/mysql_driver.php	/^	var $_count_string = 'SELECT COUNT(*) AS ';$/;"	v
_count_string	system/database/drivers/mysqli/mysqli_driver.php	/^	var $_count_string = "SELECT COUNT(*) AS ";$/;"	v
_count_string	system/database/drivers/oci8/oci8_driver.php	/^	var $_count_string = "SELECT COUNT(1) AS ";$/;"	v
_count_string	system/database/drivers/odbc/odbc_driver.php	/^	var $_count_string = "SELECT COUNT(*) AS ";$/;"	v
_count_string	system/database/drivers/pdo/pdo_driver.php	/^	var $_count_string = "SELECT COUNT(*) AS ";$/;"	v
_count_string	system/database/drivers/postgre/postgre_driver.php	/^	var $_count_string = "SELECT COUNT(*) AS ";$/;"	v
_count_string	system/database/drivers/sqlite/sqlite_driver.php	/^	var $_count_string = "SELECT COUNT(*) AS ";$/;"	v
_count_string	system/database/drivers/sqlsrv/sqlsrv_driver.php	/^	var $_count_string = "SELECT COUNT(*) AS ";$/;"	v
_create_alias_from_table	system/database/DB_active_rec.php	/^	protected function _create_alias_from_table($item)$/;"	f
_create_database	system/database/drivers/cubrid/cubrid_forge.php	/^	function _create_database($name)$/;"	f
_create_database	system/database/drivers/mssql/mssql_forge.php	/^	function _create_database($name)$/;"	f
_create_database	system/database/drivers/mysql/mysql_forge.php	/^	function _create_database($name)$/;"	f
_create_database	system/database/drivers/mysqli/mysqli_forge.php	/^	function _create_database($name)$/;"	f
_create_database	system/database/drivers/oci8/oci8_forge.php	/^	function _create_database($name)$/;"	f
_create_database	system/database/drivers/odbc/odbc_forge.php	/^	function _create_database()$/;"	f
_create_database	system/database/drivers/pdo/pdo_forge.php	/^	function _create_database()$/;"	f
_create_database	system/database/drivers/postgre/postgre_forge.php	/^	function _create_database($name)$/;"	f
_create_database	system/database/drivers/sqlite/sqlite_forge.php	/^	function _create_database()$/;"	f
_create_database	system/database/drivers/sqlsrv/sqlsrv_forge.php	/^	function _create_database($name)$/;"	f
_create_table	system/database/drivers/cubrid/cubrid_forge.php	/^	function _create_table($table, $fields, $primary_keys, $keys, $if_not_exists)$/;"	f
_create_table	system/database/drivers/mssql/mssql_forge.php	/^	function _create_table($table, $fields, $primary_keys, $keys, $if_not_exists)$/;"	f
_create_table	system/database/drivers/mysql/mysql_forge.php	/^	function _create_table($table, $fields, $primary_keys, $keys, $if_not_exists)$/;"	f
_create_table	system/database/drivers/mysqli/mysqli_forge.php	/^	function _create_table($table, $fields, $primary_keys, $keys, $if_not_exists)$/;"	f
_create_table	system/database/drivers/oci8/oci8_forge.php	/^	function _create_table($table, $fields, $primary_keys, $keys, $if_not_exists)$/;"	f
_create_table	system/database/drivers/odbc/odbc_forge.php	/^	function _create_table($table, $fields, $primary_keys, $keys, $if_not_exists)$/;"	f
_create_table	system/database/drivers/pdo/pdo_forge.php	/^	function _create_table($table, $fields, $primary_keys, $keys, $if_not_exists)$/;"	f
_create_table	system/database/drivers/postgre/postgre_forge.php	/^	function _create_table($table, $fields, $primary_keys, $keys, $if_not_exists)$/;"	f
_create_table	system/database/drivers/sqlite/sqlite_forge.php	/^	function _create_table($table, $fields, $primary_keys, $keys, $if_not_exists)$/;"	f
_create_table	system/database/drivers/sqlsrv/sqlsrv_forge.php	/^	function _create_table($table, $fields, $primary_keys, $keys, $if_not_exists)$/;"	f
_csrf_cookie_name	system/core/Security.php	/^			$this->_csrf_cookie_name = config_item('cookie_prefix').$this->_csrf_cookie_name;$/;"	v
_csrf_cookie_name	system/core/Security.php	/^	protected $_csrf_cookie_name	= 'ci_csrf_token';$/;"	v
_csrf_expire	system/core/Security.php	/^	protected $_csrf_expire			= 7200;$/;"	v
_csrf_hash	system/core/Security.php	/^				return $this->_csrf_hash = $_COOKIE[$this->_csrf_cookie_name];$/;"	v
_csrf_hash	system/core/Security.php	/^			return $this->_csrf_hash = md5(uniqid(rand(), TRUE));$/;"	v
_csrf_hash	system/core/Security.php	/^	protected $_csrf_hash			= '';$/;"	v
_csrf_set_hash	system/core/Security.php	/^	protected function _csrf_set_hash()$/;"	f
_csrf_token_name	system/core/Security.php	/^	protected $_csrf_token_name		= 'ci_csrf_token';$/;"	v
_data_seek	system/database/DB_result.php	/^	protected function _data_seek() { return TRUE; }$/;"	f
_data_seek	system/database/drivers/cubrid/cubrid_result.php	/^	function _data_seek($n = 0)$/;"	f
_data_seek	system/database/drivers/mssql/mssql_result.php	/^	function _data_seek($n = 0)$/;"	f
_data_seek	system/database/drivers/mysql/mysql_result.php	/^	function _data_seek($n = 0)$/;"	f
_data_seek	system/database/drivers/mysqli/mysqli_result.php	/^	function _data_seek($n = 0)$/;"	f
_data_seek	system/database/drivers/oci8/oci8_result.php	/^	protected function _data_seek($n = 0)$/;"	f
_data_seek	system/database/drivers/odbc/odbc_result.php	/^	function _data_seek($n = 0)$/;"	f
_data_seek	system/database/drivers/pdo/pdo_result.php	/^	function _data_seek($n = 0)$/;"	f
_data_seek	system/database/drivers/postgre/postgre_result.php	/^	function _data_seek($n = 0)$/;"	f
_data_seek	system/database/drivers/sqlite/sqlite_result.php	/^	function _data_seek($n = 0)$/;"	f
_data_seek	system/database/drivers/sqlsrv/sqlsrv_result.php	/^	function _data_seek($n = 0)$/;"	f
_date_fmt	system/libraries/Log.php	/^			$this->_date_fmt = $config['log_date_format'];$/;"	v
_date_fmt	system/libraries/Log.php	/^	protected $_date_fmt	= 'Y-m-d H:i:s';$/;"	v
_db_set_charset	system/database/drivers/mysqli/mysqli_driver.php	/^	function _db_set_charset($charset, $collation)$/;"	f
_dblclick	system/libraries/javascript/Jquery.php	/^	function _dblclick($element = 'this', $js = '')$/;"	f
_debug_msg	system/libraries/Email.php	/^		$this->_debug_msg	= array();$/;"	v
_debug_msg	system/libraries/Email.php	/^	var	$_debug_msg		= array();$/;"	v
_decode_entity	system/core/Security.php	/^	protected function _decode_entity($match)$/;"	f
_default_template	system/libraries/Table.php	/^	function _default_template()$/;"	f
_default_template	system/libraries/Unit_test.php	/^	function _default_template()$/;"	f
_delete	system/database/drivers/cubrid/cubrid_driver.php	/^	function _delete($table, $where = array(), $like = array(), $limit = FALSE)$/;"	f
_delete	system/database/drivers/mssql/mssql_driver.php	/^	function _delete($table, $where = array(), $like = array(), $limit = FALSE)$/;"	f
_delete	system/database/drivers/mysql/mysql_driver.php	/^	function _delete($table, $where = array(), $like = array(), $limit = FALSE)$/;"	f
_delete	system/database/drivers/mysqli/mysqli_driver.php	/^	function _delete($table, $where = array(), $like = array(), $limit = FALSE)$/;"	f
_delete	system/database/drivers/oci8/oci8_driver.php	/^	protected function _delete($table, $where = array(), $like = array(), $limit = FALSE)$/;"	f
_delete	system/database/drivers/odbc/odbc_driver.php	/^	function _delete($table, $where = array(), $like = array(), $limit = FALSE)$/;"	f
_delete	system/database/drivers/pdo/pdo_driver.php	/^	function _delete($table, $where = array(), $like = array(), $limit = FALSE)$/;"	f
_delete	system/database/drivers/postgre/postgre_driver.php	/^	function _delete($table, $where = array(), $like = array(), $limit = FALSE)$/;"	f
_delete	system/database/drivers/sqlite/sqlite_driver.php	/^	function _delete($table, $where = array(), $like = array(), $limit = FALSE)$/;"	f
_delete	system/database/drivers/sqlsrv/sqlsrv_driver.php	/^	function _delete($table, $where)$/;"	f
_detect_uri	system/core/URI.php	/^	private function _detect_uri()$/;"	f
_display	system/core/Output.php	/^	function _display($output = '')$/;"	f
_display_cache	system/core/Output.php	/^	function _display_cache(&$CFG, &$URI)$/;"	f
_do_never_allowed	system/core/Security.php	/^	protected function _do_never_allowed($str)$/;"	f
_doctypes	application/config/doctypes.php	/^$_doctypes = array($/;"	v
_document_ready	system/libraries/javascript/Jquery.php	/^	function _document_ready($js)$/;"	f
_drop_database	system/database/drivers/cubrid/cubrid_forge.php	/^	function _drop_database($name)$/;"	f
_drop_database	system/database/drivers/mssql/mssql_forge.php	/^	function _drop_database($name)$/;"	f
_drop_database	system/database/drivers/mysql/mysql_forge.php	/^	function _drop_database($name)$/;"	f
_drop_database	system/database/drivers/mysqli/mysqli_forge.php	/^	function _drop_database($name)$/;"	f
_drop_database	system/database/drivers/oci8/oci8_forge.php	/^	function _drop_database($name)$/;"	f
_drop_database	system/database/drivers/odbc/odbc_forge.php	/^	function _drop_database($name)$/;"	f
_drop_database	system/database/drivers/pdo/pdo_forge.php	/^	function _drop_database($name)$/;"	f
_drop_database	system/database/drivers/postgre/postgre_forge.php	/^	function _drop_database($name)$/;"	f
_drop_database	system/database/drivers/sqlite/sqlite_forge.php	/^	function _drop_database($name)$/;"	f
_drop_database	system/database/drivers/sqlsrv/sqlsrv_forge.php	/^	function _drop_database($name)$/;"	f
_drop_table	system/database/drivers/cubrid/cubrid_forge.php	/^	function _drop_table($table)$/;"	f
_drop_table	system/database/drivers/mssql/mssql_forge.php	/^	function _drop_table($table)$/;"	f
_drop_table	system/database/drivers/mysql/mysql_forge.php	/^	function _drop_table($table)$/;"	f
_drop_table	system/database/drivers/mysqli/mysqli_forge.php	/^	function _drop_table($table)$/;"	f
_drop_table	system/database/drivers/oci8/oci8_forge.php	/^	function _drop_table($table)$/;"	f
_drop_table	system/database/drivers/odbc/odbc_forge.php	/^	function _drop_table($table)$/;"	f
_drop_table	system/database/drivers/pdo/pdo_forge.php	/^	function _drop_table($table)$/;"	f
_drop_table	system/database/drivers/postgre/postgre_forge.php	/^	function _drop_table($table)$/;"	f
_drop_table	system/database/drivers/sqlite/sqlite_forge.php	/^	function _drop_table($table)$/;"	f
_drop_table	system/database/drivers/sqlsrv/sqlsrv_forge.php	/^	function _drop_table($table)$/;"	f
_enable_csrf	system/core/Input.php	/^		$this->_enable_csrf		= (config_item('csrf_protection') === TRUE);$/;"	v
_enable_csrf	system/core/Input.php	/^	var $_enable_csrf			= FALSE;$/;"	v
_enable_xss	system/core/Input.php	/^		$this->_enable_xss		= (config_item('global_xss_filtering') === TRUE);$/;"	v
_enable_xss	system/core/Input.php	/^	var $_enable_xss			= FALSE;$/;"	v
_enabled	system/libraries/Log.php	/^			$this->_enabled = FALSE;$/;"	v
_enabled	system/libraries/Log.php	/^	protected $_enabled	= TRUE;$/;"	v
_encoding	system/libraries/Email.php	/^				$this->_encoding = '7bit';$/;"	v
_encoding	system/libraries/Email.php	/^		$this->_encoding = ( ! in_array($this->_encoding, $this->_bit_depths)) ? '8bit' : $this->_encoding;$/;"	v
_encoding	system/libraries/Email.php	/^	var	$_encoding		= "8bit";$/;"	v
_error	system/core/Common.php	/^		$_error =& load_class('Exceptions', 'core');$/;"	v
_error	system/libraries/Ftp.php	/^	function _error($line)$/;"	f
_error	system/libraries/javascript/Jquery.php	/^	function _error($element = 'this', $js = '')$/;"	f
_error_array	system/libraries/Form_validation.php	/^	protected $_error_array			= array();$/;"	v
_error_message	system/database/drivers/cubrid/cubrid_driver.php	/^	function _error_message()$/;"	f
_error_message	system/database/drivers/mssql/mssql_driver.php	/^	function _error_message()$/;"	f
_error_message	system/database/drivers/mysql/mysql_driver.php	/^	function _error_message()$/;"	f
_error_message	system/database/drivers/mysqli/mysqli_driver.php	/^	function _error_message()$/;"	f
_error_message	system/database/drivers/oci8/oci8_driver.php	/^	protected function _error_message()$/;"	f
_error_message	system/database/drivers/odbc/odbc_driver.php	/^	function _error_message()$/;"	f
_error_message	system/database/drivers/pdo/pdo_driver.php	/^	function _error_message()$/;"	f
_error_message	system/database/drivers/postgre/postgre_driver.php	/^	function _error_message()$/;"	f
_error_message	system/database/drivers/sqlite/sqlite_driver.php	/^	function _error_message()$/;"	f
_error_message	system/database/drivers/sqlsrv/sqlsrv_driver.php	/^	function _error_message()$/;"	f
_error_messages	system/libraries/Form_validation.php	/^		$this->_error_messages = array_merge($this->_error_messages, $lang);$/;"	v
_error_messages	system/libraries/Form_validation.php	/^	protected $_error_messages		= array();$/;"	v
_error_number	system/database/drivers/cubrid/cubrid_driver.php	/^	function _error_number()$/;"	f
_error_number	system/database/drivers/mssql/mssql_driver.php	/^	function _error_number()$/;"	f
_error_number	system/database/drivers/mysql/mysql_driver.php	/^	function _error_number()$/;"	f
_error_number	system/database/drivers/mysqli/mysqli_driver.php	/^	function _error_number()$/;"	f
_error_number	system/database/drivers/oci8/oci8_driver.php	/^	protected function _error_number()$/;"	f
_error_number	system/database/drivers/odbc/odbc_driver.php	/^	function _error_number()$/;"	f
_error_number	system/database/drivers/pdo/pdo_driver.php	/^	function _error_number()$/;"	f
_error_number	system/database/drivers/postgre/postgre_driver.php	/^	function _error_number()$/;"	f
_error_number	system/database/drivers/sqlite/sqlite_driver.php	/^	function _error_number()$/;"	f
_error_number	system/database/drivers/sqlsrv/sqlsrv_driver.php	/^	function _error_number()$/;"	f
_error_prefix	system/libraries/Form_validation.php	/^		$this->_error_prefix = $prefix;$/;"	v
_error_prefix	system/libraries/Form_validation.php	/^	protected $_error_prefix		= '<p>';$/;"	v
_error_string	system/libraries/Migration.php	/^					$this->_error_string = sprintf($this->lang->line('migration_class_doesnt_exist'), $class);$/;"	v
_error_string	system/libraries/Migration.php	/^					$this->_error_string = sprintf($this->lang->line('migration_missing_'.$method.'_method'), $class);$/;"	v
_error_string	system/libraries/Migration.php	/^					$this->_error_string = sprintf($this->lang->line('migration_multiple_version'), $match[1]);$/;"	v
_error_string	system/libraries/Migration.php	/^				$this->_error_string = sprintf($this->lang->line('migration_invalid_filename'), $file);$/;"	v
_error_string	system/libraries/Migration.php	/^				$this->_error_string = sprintf($this->lang->line('migration_multiple_version'), $i);$/;"	v
_error_string	system/libraries/Migration.php	/^				$this->_error_string = sprintf($this->lang->line('migration_not_found'), $i);$/;"	v
_error_string	system/libraries/Migration.php	/^			$this->_error_string = $this->line->lang('migration_none_found');$/;"	v
_error_string	system/libraries/Migration.php	/^	protected $_error_string = '';$/;"	v
_error_suffix	system/libraries/Form_validation.php	/^		$this->_error_suffix = $suffix;$/;"	v
_error_suffix	system/libraries/Form_validation.php	/^	protected $_error_suffix		= '<\/p>';$/;"	v
_escape_char	system/database/drivers/cubrid/cubrid_driver.php	/^	var	$_escape_char = '';$/;"	v
_escape_char	system/database/drivers/mssql/mssql_driver.php	/^	var $_escape_char = '';$/;"	v
_escape_char	system/database/drivers/mysql/mysql_driver.php	/^	var	$_escape_char = '`';$/;"	v
_escape_char	system/database/drivers/mysqli/mysqli_driver.php	/^	var $_escape_char = '`';$/;"	v
_escape_char	system/database/drivers/oci8/oci8_driver.php	/^	var $_escape_char = '"';$/;"	v
_escape_char	system/database/drivers/odbc/odbc_driver.php	/^	var $_escape_char = '';$/;"	v
_escape_char	system/database/drivers/pdo/pdo_driver.php	/^	var $_escape_char = '';$/;"	v
_escape_char	system/database/drivers/postgre/postgre_driver.php	/^	var $_escape_char = '"';$/;"	v
_escape_char	system/database/drivers/sqlite/sqlite_driver.php	/^	var $_escape_char = '';$/;"	v
_escape_char	system/database/drivers/sqlsrv/sqlsrv_driver.php	/^	var $_escape_char = '';$/;"	v
_escape_identifiers	system/database/drivers/cubrid/cubrid_driver.php	/^	function _escape_identifiers($item)$/;"	f
_escape_identifiers	system/database/drivers/mssql/mssql_driver.php	/^	function _escape_identifiers($item)$/;"	f
_escape_identifiers	system/database/drivers/mysql/mysql_driver.php	/^	function _escape_identifiers($item)$/;"	f
_escape_identifiers	system/database/drivers/mysqli/mysqli_driver.php	/^	function _escape_identifiers($item)$/;"	f
_escape_identifiers	system/database/drivers/oci8/oci8_driver.php	/^	protected function _escape_identifiers($item)$/;"	f
_escape_identifiers	system/database/drivers/odbc/odbc_driver.php	/^	function _escape_identifiers($item)$/;"	f
_escape_identifiers	system/database/drivers/pdo/pdo_driver.php	/^	function _escape_identifiers($item)$/;"	f
_escape_identifiers	system/database/drivers/postgre/postgre_driver.php	/^	function _escape_identifiers($item)$/;"	f
_escape_identifiers	system/database/drivers/sqlite/sqlite_driver.php	/^	function _escape_identifiers($item)$/;"	f
_escape_identifiers	system/database/drivers/sqlsrv/sqlsrv_driver.php	/^	function _escape_identifiers($item)$/;"	f
_escape_table	system/database/drivers/sqlsrv/sqlsrv_driver.php	/^	function _escape_table($table)$/;"	f
_events	system/libraries/ckeditor.php	/^		$_events = $this->events;$/;"	v
_exception_handler	system/core/Common.php	/^	function _exception_handler($severity, $message, $filepath, $line)$/;"	f
_execute	system/database/drivers/cubrid/cubrid_driver.php	/^	function _execute($sql)$/;"	f
_execute	system/database/drivers/mssql/mssql_driver.php	/^	function _execute($sql)$/;"	f
_execute	system/database/drivers/mysql/mysql_driver.php	/^	function _execute($sql)$/;"	f
_execute	system/database/drivers/mysqli/mysqli_driver.php	/^	function _execute($sql)$/;"	f
_execute	system/database/drivers/oci8/oci8_driver.php	/^	protected function _execute($sql)$/;"	f
_execute	system/database/drivers/odbc/odbc_driver.php	/^	function _execute($sql)$/;"	f
_execute	system/database/drivers/pdo/pdo_driver.php	/^	function _execute($sql)$/;"	f
_execute	system/database/drivers/postgre/postgre_driver.php	/^	function _execute($sql)$/;"	f
_execute	system/database/drivers/sqlite/sqlite_driver.php	/^	function _execute($sql)$/;"	f
_execute	system/database/drivers/sqlsrv/sqlsrv_driver.php	/^	function _execute($sql)$/;"	f
_execute	system/libraries/Form_validation.php	/^	protected function _execute($row, $rules, $postdata = NULL, $cycles = 0)$/;"	f
_execute	system/libraries/Xmlrpcs.php	/^	function _execute($m)$/;"	f
_explode_segments	system/core/URI.php	/^	function _explode_segments()$/;"	f
_fadeIn	system/libraries/javascript/Jquery.php	/^	function _fadeIn($element = 'this', $speed = '', $callback = '')$/;"	f
_fadeOut	system/libraries/javascript/Jquery.php	/^	function _fadeOut($element = 'this', $speed = '', $callback = '')$/;"	f
_fetch_assoc	system/database/DB_result.php	/^	protected function _fetch_assoc() { return array(); }$/;"	f
_fetch_assoc	system/database/drivers/cubrid/cubrid_result.php	/^	function _fetch_assoc()$/;"	f
_fetch_assoc	system/database/drivers/mssql/mssql_result.php	/^	function _fetch_assoc()$/;"	f
_fetch_assoc	system/database/drivers/mysql/mysql_result.php	/^	function _fetch_assoc()$/;"	f
_fetch_assoc	system/database/drivers/mysqli/mysqli_result.php	/^	function _fetch_assoc()$/;"	f
_fetch_assoc	system/database/drivers/oci8/oci8_result.php	/^	protected function _fetch_assoc()$/;"	f
_fetch_assoc	system/database/drivers/odbc/odbc_result.php	/^	function _fetch_assoc()$/;"	f
_fetch_assoc	system/database/drivers/pdo/pdo_result.php	/^	function _fetch_assoc()$/;"	f
_fetch_assoc	system/database/drivers/postgre/postgre_result.php	/^	function _fetch_assoc()$/;"	f
_fetch_assoc	system/database/drivers/sqlite/sqlite_result.php	/^	function _fetch_assoc()$/;"	f
_fetch_assoc	system/database/drivers/sqlsrv/sqlsrv_result.php	/^	function _fetch_assoc()$/;"	f
_fetch_from_array	system/core/Input.php	/^	function _fetch_from_array(&$array, $index = '', $xss_clean = FALSE)$/;"	f
_fetch_object	system/database/DB_result.php	/^	protected function _fetch_object() { return array(); }$/;"	f
_fetch_object	system/database/drivers/cubrid/cubrid_result.php	/^	function _fetch_object()$/;"	f
_fetch_object	system/database/drivers/mssql/mssql_result.php	/^	function _fetch_object()$/;"	f
_fetch_object	system/database/drivers/mysql/mysql_result.php	/^	function _fetch_object()$/;"	f
_fetch_object	system/database/drivers/mysqli/mysqli_result.php	/^	function _fetch_object()$/;"	f
_fetch_object	system/database/drivers/oci8/oci8_result.php	/^	protected function _fetch_object()$/;"	f
_fetch_object	system/database/drivers/odbc/odbc_result.php	/^	function _fetch_object()$/;"	f
_fetch_object	system/database/drivers/pdo/pdo_result.php	/^	function _fetch_object()$/;"	f
_fetch_object	system/database/drivers/postgre/postgre_result.php	/^	function _fetch_object()$/;"	f
_fetch_object	system/database/drivers/sqlite/sqlite_result.php	/^	function _fetch_object()$/;"	f
_fetch_object	system/database/drivers/sqlsrv/sqlsrv_result.php	/^	function _fetch_object()$/;"	f
_fetch_uri_string	system/core/URI.php	/^	function _fetch_uri_string()$/;"	f
_field_data	system/database/drivers/cubrid/cubrid_driver.php	/^	function _field_data($table)$/;"	f
_field_data	system/database/drivers/mssql/mssql_driver.php	/^	function _field_data($table)$/;"	f
_field_data	system/database/drivers/mysql/mysql_driver.php	/^	function _field_data($table)$/;"	f
_field_data	system/database/drivers/mysqli/mysqli_driver.php	/^	function _field_data($table)$/;"	f
_field_data	system/database/drivers/oci8/oci8_driver.php	/^	protected function _field_data($table)$/;"	f
_field_data	system/database/drivers/odbc/odbc_driver.php	/^	function _field_data($table)$/;"	f
_field_data	system/database/drivers/pdo/pdo_driver.php	/^	function _field_data($table)$/;"	f
_field_data	system/database/drivers/postgre/postgre_driver.php	/^	function _field_data($table)$/;"	f
_field_data	system/database/drivers/sqlite/sqlite_driver.php	/^	function _field_data($table)$/;"	f
_field_data	system/database/drivers/sqlsrv/sqlsrv_driver.php	/^	function _field_data($table)$/;"	f
_field_data	system/libraries/Form_validation.php	/^	protected $_field_data			= array();$/;"	v
_file_mime_type	system/libraries/Upload.php	/^	protected function _file_mime_type($file)$/;"	f
_file_name_override	system/libraries/Upload.php	/^		$this->_file_name_override = $this->file_name;$/;"	v
_file_name_override	system/libraries/Upload.php	/^	protected $_file_name_override	= '';$/;"	v
_filedata	system/helpers/file_helper.php	/^				$_filedata = array();$/;"	v
_filedata	system/helpers/file_helper.php	/^		static $_filedata = array();$/;"	v
_filter_attributes	system/core/Security.php	/^	protected function _filter_attributes($str)$/;"	f
_filter_uri	system/core/URI.php	/^	function _filter_uri($str)$/;"	f
_finalbody	system/libraries/Email.php	/^					$this->_finalbody = $hdr . $this->_finalbody;$/;"	v
_finalbody	system/libraries/Email.php	/^					$this->_finalbody = $hdr . $this->newline . $this->newline . $this->_body;$/;"	v
_finalbody	system/libraries/Email.php	/^					$this->_finalbody = $this->_body;$/;"	v
_finalbody	system/libraries/Email.php	/^				$this->_finalbody = $body . $this->_prep_quoted_printable($this->_body) . $this->newline . $this->newline;$/;"	v
_finalbody	system/libraries/Email.php	/^			$this->_finalbody = $body;$/;"	v
_finalbody	system/libraries/Email.php	/^			$this->_finalbody = $hdr . $body;$/;"	v
_finalbody	system/libraries/Email.php	/^		$this->_finalbody	= "";$/;"	v
_finalbody	system/libraries/Email.php	/^		$this->_finalbody = preg_replace_callback("\/\\{unwrap\\}(.*?)\\{\\\/unwrap\\}\/si", array($this, '_remove_nl_callback'), $this->_finalbody);$/;"	v
_finalbody	system/libraries/Email.php	/^	var	$_finalbody		= "";$/;"	v
_flashdata_mark	system/libraries/Session.php	/^	function _flashdata_mark()$/;"	f
_flashdata_sweep	system/libraries/Session.php	/^	function _flashdata_sweep()$/;"	f
_focus	system/libraries/javascript/Jquery.php	/^	function _focus($element = 'this', $js = '')$/;"	f
_format_newlines	system/libraries/Typography.php	/^	function _format_newlines($str)$/;"	f
_from_tables	system/database/drivers/cubrid/cubrid_driver.php	/^	function _from_tables($tables)$/;"	f
_from_tables	system/database/drivers/mssql/mssql_driver.php	/^	function _from_tables($tables)$/;"	f
_from_tables	system/database/drivers/mysql/mysql_driver.php	/^	function _from_tables($tables)$/;"	f
_from_tables	system/database/drivers/mysqli/mysqli_driver.php	/^	function _from_tables($tables)$/;"	f
_from_tables	system/database/drivers/oci8/oci8_driver.php	/^	protected function _from_tables($tables)$/;"	f
_from_tables	system/database/drivers/odbc/odbc_driver.php	/^	function _from_tables($tables)$/;"	f
_from_tables	system/database/drivers/pdo/pdo_driver.php	/^	function _from_tables($tables)$/;"	f
_from_tables	system/database/drivers/postgre/postgre_driver.php	/^	function _from_tables($tables)$/;"	f
_from_tables	system/database/drivers/sqlite/sqlite_driver.php	/^	function _from_tables($tables)$/;"	f
_from_tables	system/database/drivers/sqlsrv/sqlsrv_driver.php	/^	function _from_tables($tables)$/;"	f
_ft	system/libraries/Sha1.php	/^	function _ft($t, $b, $c, $d)$/;"	f
_getIndexData	application/controllers/sec.php	/^	private function _getIndexData($art_id)$/;"	f
_getIndexData	application/controllers/showart.php	/^    private function _getIndexData($art_id)$/;"	f
_get_alt_message	system/libraries/Email.php	/^	protected function _get_alt_message()$/;"	f
_get_cipher	system/libraries/Encrypt.php	/^	function _get_cipher()$/;"	f
_get_content_type	system/libraries/Email.php	/^	protected function _get_content_type()$/;"	f
_get_encoding	system/libraries/Email.php	/^	protected function _get_encoding($return = TRUE)$/;"	f
_get_hostname	system/libraries/Email.php	/^	protected function _get_hostname()$/;"	f
_get_ip	system/libraries/Email.php	/^	protected function _get_ip()$/;"	f
_get_message_id	system/libraries/Email.php	/^	protected function _get_message_id()$/;"	f
_get_mime_message	system/libraries/Email.php	/^	protected function _get_mime_message()$/;"	f
_get_mod_time	system/libraries/Zip.php	/^	function _get_mod_time($dir)$/;"	f
_get_mode	system/libraries/Encrypt.php	/^	function _get_mode()$/;"	f
_get_protocol	system/libraries/Email.php	/^	protected function _get_protocol($return = TRUE)$/;"	f
_get_smiley_array	system/helpers/smiley_helper.php	/^	function _get_smiley_array()$/;"	f
_get_smtp_data	system/libraries/Email.php	/^	protected function _get_smtp_data()$/;"	f
_get_time	system/libraries/Session.php	/^	function _get_time()$/;"	f
_get_validation_object	system/helpers/form_helper.php	/^	function &_get_validation_object()$/;"	f
_get_version	system/libraries/Migration.php	/^	protected function _get_version()$/;"	f
_getext	system/libraries/Ftp.php	/^	function _getext($filename)$/;"	f
_has_operator	system/database/DB_driver.php	/^	function _has_operator($str)$/;"	f
_hash_type	system/libraries/Encrypt.php	/^		$this->_hash_type = ($type != 'sha1' AND $type != 'md5') ? 'sha1' : $type;$/;"	v
_hash_type	system/libraries/Encrypt.php	/^	var $_hash_type	= 'sha1';$/;"	v
_having	system/database/DB_active_rec.php	/^	protected function _having($key, $value = '', $type = 'AND ', $escape = TRUE)$/;"	f
_header_str	system/libraries/Email.php	/^			$this->_header_str = rtrim($this->_header_str);$/;"	v
_header_str	system/libraries/Email.php	/^		$this->_header_str	= "";$/;"	v
_header_str	system/libraries/Email.php	/^		$this->_header_str = "";$/;"	v
_header_str	system/libraries/Email.php	/^	var	$_header_str	= "";$/;"	v
_headers	system/libraries/Email.php	/^		$this->_headers		= array();$/;"	v
_headers	system/libraries/Email.php	/^	var	$_headers		= array();$/;"	v
_hex	system/libraries/Sha1.php	/^	function _hex($str)$/;"	f
_hide	system/libraries/javascript/Jquery.php	/^	function _hide($element = 'this', $speed = '', $callback = '')$/;"	f
_hover	system/libraries/javascript/Jquery.php	/^	function _hover($element = 'this', $over, $out)$/;"	f
_in_array	system/libraries/Form_validation.php	/^				$_in_array = TRUE;$/;"	v
_in_array	system/libraries/Form_validation.php	/^			$_in_array = FALSE;$/;"	v
_initialize	system/core/Hooks.php	/^	function _initialize()$/;"	f
_initialize	system/libraries/Cache/Cache.php	/^	private function _initialize($config)$/;"	f
_insert	system/database/drivers/cubrid/cubrid_driver.php	/^	function _insert($table, $keys, $values)$/;"	f
_insert	system/database/drivers/mssql/mssql_driver.php	/^	function _insert($table, $keys, $values)$/;"	f
_insert	system/database/drivers/mysql/mysql_driver.php	/^	function _insert($table, $keys, $values)$/;"	f
_insert	system/database/drivers/mysqli/mysqli_driver.php	/^	function _insert($table, $keys, $values)$/;"	f
_insert	system/database/drivers/oci8/oci8_driver.php	/^	protected function _insert($table, $keys, $values)$/;"	f
_insert	system/database/drivers/odbc/odbc_driver.php	/^	function _insert($table, $keys, $values)$/;"	f
_insert	system/database/drivers/pdo/pdo_driver.php	/^	function _insert($table, $keys, $values)$/;"	f
_insert	system/database/drivers/postgre/postgre_driver.php	/^	function _insert($table, $keys, $values)$/;"	f
_insert	system/database/drivers/sqlite/sqlite_driver.php	/^	function _insert($table, $keys, $values)$/;"	f
_insert	system/database/drivers/sqlsrv/sqlsrv_driver.php	/^	function _insert($table, $keys, $values)$/;"	f
_insert	system/libraries/Cart.php	/^	function _insert($items = array())$/;"	f
_insert_batch	system/database/drivers/cubrid/cubrid_driver.php	/^	function _insert_batch($table, $keys, $values)$/;"	f
_insert_batch	system/database/drivers/mysql/mysql_driver.php	/^	function _insert_batch($table, $keys, $values)$/;"	f
_insert_batch	system/database/drivers/mysqli/mysqli_driver.php	/^	function _insert_batch($table, $keys, $values)$/;"	f
_insert_batch	system/database/drivers/oci8/oci8_driver.php	/^	protected function _insert_batch($table, $keys, $values)$/;"	f
_insert_batch	system/database/drivers/pdo/pdo_driver.php	/^	function _insert_batch($table, $keys, $values)$/;"	f
_insert_batch	system/database/drivers/postgre/postgre_driver.php	/^	function _insert_batch($table, $keys, $values)$/;"	f
_is_ascii	system/core/Utf8.php	/^	function _is_ascii($str)$/;"	f
_is_assoc	system/libraries/Javascript.php	/^			$_is_assoc = $this->_is_associative_array($json_result);$/;"	v
_is_assoc	system/libraries/Javascript.php	/^		$_is_assoc = TRUE;$/;"	v
_is_associative_array	system/libraries/Javascript.php	/^	function _is_associative_array($arr)$/;"	f
_is_conn	system/libraries/Ftp.php	/^	function _is_conn()$/;"	f
_is_loaded	system/core/Common.php	/^		static $_is_loaded = array();$/;"	v
_is_php	system/core/Common.php	/^		static $_is_php;$/;"	v
_javascript_folder	system/libraries/javascript/Jquery.php	/^	var $_javascript_folder = 'js';$/;"	v
_javascript_location	system/libraries/Javascript.php	/^				$this->_javascript_location = $this->CI->config->item('javascript_location');$/;"	v
_javascript_location	system/libraries/Javascript.php	/^			$this->_javascript_location = $external_file;$/;"	v
_javascript_location	system/libraries/Javascript.php	/^	var $_javascript_location = 'js';$/;"	v
_js_img_removal	system/core/Security.php	/^	protected function _js_img_removal($match)$/;"	f
_js_link_removal	system/core/Security.php	/^	protected function _js_link_removal($match)$/;"	f
_keydown	system/libraries/javascript/Jquery.php	/^	function _keydown($element = 'this', $js = '')$/;"	f
_keyup	system/libraries/javascript/Jquery.php	/^	function _keyup($element = 'this', $js = '')$/;"	f
_kt	system/libraries/Sha1.php	/^	function _kt($t)$/;"	f
_lSet	application/controllers/reg.php	/^    private  function _lSet($userId,$name)$/;"	f
_lSet	application/controllers/reg.php	/^    public  function _lSet($userId,$res)$/;"	f
_last_list_item	system/helpers/html_helper.php	/^			$_last_list_item = $key;$/;"	v
_last_list_item	system/helpers/html_helper.php	/^		static $_last_list_item = '';$/;"	v
_levels	system/libraries/Log.php	/^	protected $_levels	= array('ERROR' => '1', 'DEBUG' => '2',  'INFO' => '3', 'ALL' => '4');$/;"	v
_like	system/database/DB_active_rec.php	/^	protected function _like($field, $match = '', $type = 'AND ', $side = 'both', $not = '')$/;"	f
_like_escape_chr	system/database/drivers/cubrid/cubrid_driver.php	/^	var $_like_escape_chr = '';$/;"	v
_like_escape_chr	system/database/drivers/mssql/mssql_driver.php	/^	var $_like_escape_chr = '!';$/;"	v
_like_escape_chr	system/database/drivers/mysql/mysql_driver.php	/^	var $_like_escape_chr = '';$/;"	v
_like_escape_chr	system/database/drivers/mysqli/mysqli_driver.php	/^	var $_like_escape_chr = '';$/;"	v
_like_escape_chr	system/database/drivers/oci8/oci8_driver.php	/^	var $_like_escape_chr = '!';$/;"	v
_like_escape_chr	system/database/drivers/odbc/odbc_driver.php	/^	var $_like_escape_chr = '!';$/;"	v
_like_escape_chr	system/database/drivers/pdo/pdo_driver.php	/^			$this->_like_escape_chr = '!';$/;"	v
_like_escape_chr	system/database/drivers/pdo/pdo_driver.php	/^			$this->_like_escape_chr = '';$/;"	v
_like_escape_chr	system/database/drivers/pdo/pdo_driver.php	/^	var $_like_escape_chr;$/;"	v
_like_escape_chr	system/database/drivers/postgre/postgre_driver.php	/^	var $_like_escape_chr = '!';$/;"	v
_like_escape_chr	system/database/drivers/sqlite/sqlite_driver.php	/^	var $_like_escape_chr = '!';$/;"	v
_like_escape_chr	system/database/drivers/sqlsrv/sqlsrv_driver.php	/^	var $_like_escape_chr = '!';$/;"	v
_like_escape_str	system/database/drivers/cubrid/cubrid_driver.php	/^	var $_like_escape_str = '';$/;"	v
_like_escape_str	system/database/drivers/mssql/mssql_driver.php	/^	var $_like_escape_str = " ESCAPE '%s' ";$/;"	v
_like_escape_str	system/database/drivers/mysql/mysql_driver.php	/^	var $_like_escape_str = '';$/;"	v
_like_escape_str	system/database/drivers/mysqli/mysqli_driver.php	/^	var $_like_escape_str = '';$/;"	v
_like_escape_str	system/database/drivers/oci8/oci8_driver.php	/^	var $_like_escape_str = " escape '%s' ";$/;"	v
_like_escape_str	system/database/drivers/odbc/odbc_driver.php	/^	var $_like_escape_str = " {escape '%s'} ";$/;"	v
_like_escape_str	system/database/drivers/pdo/pdo_driver.php	/^			$this->_like_escape_str = " ESCAPE '%s' ";$/;"	v
_like_escape_str	system/database/drivers/pdo/pdo_driver.php	/^			$this->_like_escape_str = " {escape '%s'} ";$/;"	v
_like_escape_str	system/database/drivers/pdo/pdo_driver.php	/^			$this->_like_escape_str = '';$/;"	v
_like_escape_str	system/database/drivers/pdo/pdo_driver.php	/^	var $_like_escape_str;$/;"	v
_like_escape_str	system/database/drivers/postgre/postgre_driver.php	/^	var $_like_escape_str = " ESCAPE '%s' ";$/;"	v
_like_escape_str	system/database/drivers/sqlite/sqlite_driver.php	/^	var $_like_escape_str = " ESCAPE '%s' ";$/;"	v
_like_escape_str	system/database/drivers/sqlsrv/sqlsrv_driver.php	/^	var $_like_escape_str = " ESCAPE '%s' ";$/;"	v
_limit	system/database/drivers/cubrid/cubrid_driver.php	/^	function _limit($sql, $limit, $offset)$/;"	f
_limit	system/database/drivers/mssql/mssql_driver.php	/^	function _limit($sql, $limit, $offset)$/;"	f
_limit	system/database/drivers/mysql/mysql_driver.php	/^	function _limit($sql, $limit, $offset)$/;"	f
_limit	system/database/drivers/mysqli/mysqli_driver.php	/^	function _limit($sql, $limit, $offset)$/;"	f
_limit	system/database/drivers/oci8/oci8_driver.php	/^	protected function _limit($sql, $limit, $offset)$/;"	f
_limit	system/database/drivers/odbc/odbc_driver.php	/^	function _limit($sql, $limit, $offset)$/;"	f
_limit	system/database/drivers/pdo/pdo_driver.php	/^	function _limit($sql, $limit, $offset)$/;"	f
_limit	system/database/drivers/postgre/postgre_driver.php	/^	function _limit($sql, $limit, $offset)$/;"	f
_limit	system/database/drivers/sqlite/sqlite_driver.php	/^	function _limit($sql, $limit, $offset)$/;"	f
_limit	system/database/drivers/sqlsrv/sqlsrv_driver.php	/^	function _limit($sql, $limit, $offset)$/;"	f
_list	system/helpers/html_helper.php	/^	function _list($type = 'ul', $list, $attributes = '', $depth = 0)$/;"	f
_list_columns	system/database/drivers/cubrid/cubrid_driver.php	/^	function _list_columns($table = '')$/;"	f
_list_columns	system/database/drivers/mssql/mssql_driver.php	/^	function _list_columns($table = '')$/;"	f
_list_columns	system/database/drivers/mysql/mysql_driver.php	/^	function _list_columns($table = '')$/;"	f
_list_columns	system/database/drivers/mysqli/mysqli_driver.php	/^	function _list_columns($table = '')$/;"	f
_list_columns	system/database/drivers/oci8/oci8_driver.php	/^	protected function _list_columns($table = '')$/;"	f
_list_columns	system/database/drivers/odbc/odbc_driver.php	/^	function _list_columns($table = '')$/;"	f
_list_columns	system/database/drivers/pdo/pdo_driver.php	/^	function _list_columns($table = '')$/;"	f
_list_columns	system/database/drivers/postgre/postgre_driver.php	/^	function _list_columns($table = '')$/;"	f
_list_columns	system/database/drivers/sqlite/sqlite_driver.php	/^	function _list_columns($table = '')$/;"	f
_list_columns	system/database/drivers/sqlsrv/sqlsrv_driver.php	/^	function _list_columns($table = '')$/;"	f
_list_databases	system/database/drivers/cubrid/cubrid_utility.php	/^	function _list_databases()$/;"	f
_list_databases	system/database/drivers/mssql/mssql_utility.php	/^	function _list_databases()$/;"	f
_list_databases	system/database/drivers/mysql/mysql_utility.php	/^	function _list_databases()$/;"	f
_list_databases	system/database/drivers/mysqli/mysqli_utility.php	/^	function _list_databases()$/;"	f
_list_databases	system/database/drivers/oci8/oci8_utility.php	/^	function _list_databases()$/;"	f
_list_databases	system/database/drivers/odbc/odbc_utility.php	/^	function _list_databases()$/;"	f
_list_databases	system/database/drivers/pdo/pdo_utility.php	/^	function _list_databases()$/;"	f
_list_databases	system/database/drivers/postgre/postgre_utility.php	/^	function _list_databases()$/;"	f
_list_databases	system/database/drivers/sqlite/sqlite_utility.php	/^	function _list_databases()$/;"	f
_list_databases	system/database/drivers/sqlsrv/sqlsrv_utility.php	/^	function _list_databases()$/;"	f
_list_tables	system/database/drivers/cubrid/cubrid_driver.php	/^	function _list_tables($prefix_limit = FALSE)$/;"	f
_list_tables	system/database/drivers/mssql/mssql_driver.php	/^	function _list_tables($prefix_limit = FALSE)$/;"	f
_list_tables	system/database/drivers/mysql/mysql_driver.php	/^	function _list_tables($prefix_limit = FALSE)$/;"	f
_list_tables	system/database/drivers/mysqli/mysqli_driver.php	/^	function _list_tables($prefix_limit = FALSE)$/;"	f
_list_tables	system/database/drivers/oci8/oci8_driver.php	/^	protected function _list_tables($prefix_limit = FALSE)$/;"	f
_list_tables	system/database/drivers/odbc/odbc_driver.php	/^	function _list_tables($prefix_limit = FALSE)$/;"	f
_list_tables	system/database/drivers/pdo/pdo_driver.php	/^	function _list_tables($prefix_limit = FALSE)$/;"	f
_list_tables	system/database/drivers/postgre/postgre_driver.php	/^	function _list_tables($prefix_limit = FALSE)$/;"	f
_list_tables	system/database/drivers/sqlite/sqlite_driver.php	/^	function _list_tables($prefix_limit = FALSE)$/;"	f
_list_tables	system/database/drivers/sqlsrv/sqlsrv_driver.php	/^	function _list_tables($prefix_limit = FALSE)$/;"	f
_load	system/libraries/javascript/Jquery.php	/^	function _load($element = 'this', $js = '')$/;"	f
_load_agent_file	system/libraries/User_agent.php	/^	private function _load_agent_file()$/;"	f
_log	system/core/Common.php	/^		$_log =& load_class('Log');$/;"	v
_log	system/core/Common.php	/^		static $_log;$/;"	v
_log_path	system/libraries/Log.php	/^		$this->_log_path = ($config['log_path'] != '') ? $config['log_path'] : APPPATH.'logs\/';$/;"	v
_log_path	system/libraries/Log.php	/^	protected $_log_path;$/;"	v
_login	system/libraries/Ftp.php	/^	function _login()$/;"	f
_match_pair	system/libraries/Parser.php	/^	function _match_pair($string, $variable)$/;"	f
_max_min_avg_sum	system/database/DB_active_rec.php	/^	protected function _max_min_avg_sum($select = '', $alias = '', $type = 'MAX')$/;"	f
_mcrypt_cipher	system/libraries/Encrypt.php	/^			$this->_mcrypt_cipher = MCRYPT_RIJNDAEL_256;$/;"	v
_mcrypt_cipher	system/libraries/Encrypt.php	/^		$this->_mcrypt_cipher = $cipher;$/;"	v
_mcrypt_cipher	system/libraries/Encrypt.php	/^	var $_mcrypt_cipher;$/;"	v
_mcrypt_exists	system/libraries/Encrypt.php	/^		$this->_mcrypt_exists = ( ! function_exists('mcrypt_encrypt')) ? FALSE : TRUE;$/;"	v
_mcrypt_exists	system/libraries/Encrypt.php	/^	var $_mcrypt_exists = FALSE;$/;"	v
_mcrypt_mode	system/libraries/Encrypt.php	/^			$this->_mcrypt_mode = MCRYPT_MODE_CBC;$/;"	v
_mcrypt_mode	system/libraries/Encrypt.php	/^		$this->_mcrypt_mode = $mode;$/;"	v
_mcrypt_mode	system/libraries/Encrypt.php	/^	var $_mcrypt_mode;$/;"	v
_memcache_conf	system/libraries/Cache/drivers/Cache_memcached.php	/^				$this->_memcache_conf = NULL;$/;"	v
_memcache_conf	system/libraries/Cache/drivers/Cache_memcached.php	/^	protected $_memcache_conf 	= array($/;"	v
_memcached	system/libraries/Cache/drivers/Cache_memcached.php	/^		$this->_memcached = new Memcached();$/;"	v
_memcached	system/libraries/Cache/drivers/Cache_memcached.php	/^	private $_memcached;	\/\/ Holds the memcached object$/;"	v
_merge_cache	system/database/DB_active_rec.php	/^	protected function _merge_cache()$/;"	f
_migration_enabled	system/libraries/Migration.php	/^	protected $_migration_enabled = FALSE;$/;"	v
_migration_path	system/libraries/Migration.php	/^		$this->_migration_path = rtrim($this->_migration_path, '\/').'\/';$/;"	v
_migration_path	system/libraries/Migration.php	/^		$this->_migration_path == '' OR $this->_migration_path = APPPATH . 'migrations\/';$/;"	v
_migration_path	system/libraries/Migration.php	/^	protected $_migration_path = NULL;$/;"	v
_migration_version	system/libraries/Migration.php	/^	protected $_migration_version = 0;$/;"	v
_mime_types	system/libraries/Email.php	/^	protected function _mime_types($ext = "")$/;"	f
_mousedown	system/libraries/javascript/Jquery.php	/^	function _mousedown($element = 'this', $js = '')$/;"	f
_mouseout	system/libraries/javascript/Jquery.php	/^	function _mouseout($element = 'this', $js = '')$/;"	f
_mouseover	system/libraries/javascript/Jquery.php	/^	function _mouseover($element = 'this', $js = '')$/;"	f
_mouseup	system/libraries/javascript/Jquery.php	/^	function _mouseup($element = 'this', $js = '')$/;"	f
_never_allowed_regex	system/core/Security.php	/^	protected $_never_allowed_regex = array($/;"	v
_never_allowed_str	system/core/Security.php	/^	protected $_never_allowed_str = array($/;"	v
_object_to_array	system/database/DB_active_rec.php	/^	public function _object_to_array($object)$/;"	f
_object_to_array_batch	system/database/DB_active_rec.php	/^	public function _object_to_array_batch($object)$/;"	f
_odbc_fetch_array	system/database/drivers/odbc/odbc_result.php	/^	function _odbc_fetch_array(& $odbc_result) {$/;"	f
_odbc_fetch_object	system/database/drivers/odbc/odbc_result.php	/^	function _odbc_fetch_object(& $odbc_result) {$/;"	f
_open_script	system/libraries/Javascript.php	/^	function _open_script($src = '')$/;"	f
_optimize_table	system/database/drivers/cubrid/cubrid_utility.php	/^	function _optimize_table($table)$/;"	f
_optimize_table	system/database/drivers/mssql/mssql_utility.php	/^	function _optimize_table($table)$/;"	f
_optimize_table	system/database/drivers/mysql/mysql_utility.php	/^	function _optimize_table($table)$/;"	f
_optimize_table	system/database/drivers/mysqli/mysqli_utility.php	/^	function _optimize_table($table)$/;"	f
_optimize_table	system/database/drivers/oci8/oci8_utility.php	/^	function _optimize_table($table)$/;"	f
_optimize_table	system/database/drivers/odbc/odbc_utility.php	/^	function _optimize_table($table)$/;"	f
_optimize_table	system/database/drivers/pdo/pdo_utility.php	/^	function _optimize_table($table)$/;"	f
_optimize_table	system/database/drivers/postgre/postgre_utility.php	/^	function _optimize_table($table)$/;"	f
_optimize_table	system/database/drivers/sqlite/sqlite_utility.php	/^	function _optimize_table($table)$/;"	f
_optimize_table	system/database/drivers/sqlsrv/sqlsrv_utility.php	/^	function _optimize_table($table)$/;"	f
_output	system/libraries/javascript/Jquery.php	/^	function _output($array_js = '')$/;"	f
_parse	system/libraries/Parser.php	/^	function _parse($template, $data, $return = FALSE)$/;"	f
_parse_attributes	system/helpers/url_helper.php	/^	function _parse_attributes($attributes, $javascript = FALSE)$/;"	f
_parse_cli_args	system/core/URI.php	/^	private function _parse_cli_args()$/;"	f
_parse_form_attributes	system/helpers/form_helper.php	/^	function _parse_form_attributes($attributes, $default)$/;"	f
_parse_major_version	system/database/drivers/mssql/mssql_driver.php	/^	function _parse_major_version($version)$/;"	f
_parse_major_version	system/database/drivers/sqlsrv/sqlsrv_driver.php	/^	function _parse_major_version($version)$/;"	f
_parse_pair	system/libraries/Parser.php	/^	function _parse_pair($variable, $data, $string)$/;"	f
_parse_routes	system/core/Router.php	/^	function _parse_routes()$/;"	f
_parse_single	system/libraries/Parser.php	/^	function _parse_single($key, $val, $string)$/;"	f
_parse_template	system/libraries/Unit_test.php	/^	function _parse_template()$/;"	f
_prep_args	system/libraries/Javascript.php	/^	function _prep_args($result, $is_key = FALSE)$/;"	f
_prep_args	system/libraries/Table.php	/^	function _prep_args($args)$/;"	f
_prep_element	system/libraries/javascript/Jquery.php	/^	function _prep_element($element)$/;"	f
_prep_filename	system/libraries/Upload.php	/^	protected function _prep_filename($filename)$/;"	f
_prep_q_encoding	system/libraries/Email.php	/^	protected function _prep_q_encoding($str, $from = FALSE)$/;"	f
_prep_query	system/database/drivers/cubrid/cubrid_driver.php	/^	function _prep_query($sql)$/;"	f
_prep_query	system/database/drivers/mssql/mssql_driver.php	/^	function _prep_query($sql)$/;"	f
_prep_query	system/database/drivers/mysql/mysql_driver.php	/^	function _prep_query($sql)$/;"	f
_prep_query	system/database/drivers/mysqli/mysqli_driver.php	/^	function _prep_query($sql)$/;"	f
_prep_query	system/database/drivers/oci8/oci8_driver.php	/^	private function _prep_query($sql)$/;"	f
_prep_query	system/database/drivers/odbc/odbc_driver.php	/^	function _prep_query($sql)$/;"	f
_prep_query	system/database/drivers/pdo/pdo_driver.php	/^	function _prep_query($sql)$/;"	f
_prep_query	system/database/drivers/postgre/postgre_driver.php	/^	function _prep_query($sql)$/;"	f
_prep_query	system/database/drivers/sqlite/sqlite_driver.php	/^	function _prep_query($sql)$/;"	f
_prep_query	system/database/drivers/sqlsrv/sqlsrv_driver.php	/^	function _prep_query($sql)$/;"	f
_prep_quoted_printable	system/libraries/Email.php	/^	protected function _prep_quoted_printable($str, $charlim = '')$/;"	f
_priorities	system/libraries/Email.php	/^	var	$_priorities	= array('1 (Highest)', '2 (High)', '3 (Normal)', '4 (Low)', '5 (Lowest)');$/;"	v
_process_fields	system/database/drivers/cubrid/cubrid_forge.php	/^	function _process_fields($fields)$/;"	f
_process_fields	system/database/drivers/mysql/mysql_forge.php	/^	function _process_fields($fields)$/;"	f
_process_fields	system/database/drivers/mysqli/mysqli_forge.php	/^	function _process_fields($fields)$/;"	f
_profiler_sections	system/core/Output.php	/^	protected $_profiler_sections = array();$/;"	v
_protect_characters	system/libraries/Typography.php	/^	function _protect_characters($match)$/;"	f
_protect_identifiers	system/database/DB_driver.php	/^	function _protect_identifiers($item, $prefix_single = FALSE, $protect_identifiers = NULL, $field_exists = TRUE)$/;"	f
_protect_identifiers	system/database/DB_driver.php	/^	var $_protect_identifiers	= TRUE;$/;"	v
_protocols	system/libraries/Email.php	/^	var	$_protocols		= array('mail', 'sendmail', 'smtp');$/;"	v
_query_toggle_count	system/libraries/Profiler.php	/^			$this->_query_toggle_count = (int) $config['query_toggle_count'];$/;"	v
_query_toggle_count	system/libraries/Profiler.php	/^	protected $_query_toggle_count = 25;$/;"	v
_random_keyword	system/database/drivers/cubrid/cubrid_driver.php	/^	var $_random_keyword = ' RAND()'; \/\/ database specific random keyword$/;"	v
_random_keyword	system/database/drivers/mssql/mssql_driver.php	/^	var $_random_keyword = ' ASC'; \/\/ not currently supported$/;"	v
_random_keyword	system/database/drivers/mysql/mysql_driver.php	/^	var $_random_keyword = ' RAND()'; \/\/ database specific random keyword$/;"	v
_random_keyword	system/database/drivers/mysqli/mysqli_driver.php	/^	var $_random_keyword = ' RAND()'; \/\/ database specific random keyword$/;"	v
_random_keyword	system/database/drivers/oci8/oci8_driver.php	/^	var $_random_keyword = ' ASC'; \/\/ not currently supported$/;"	v
_random_keyword	system/database/drivers/odbc/odbc_driver.php	/^		$this->_random_keyword = ' RND('.time().')'; \/\/ database specific random keyword$/;"	v
_random_keyword	system/database/drivers/odbc/odbc_driver.php	/^	var $_random_keyword;$/;"	v
_random_keyword	system/database/drivers/pdo/pdo_driver.php	/^		$this->_random_keyword = ' RND('.time().')'; \/\/ database specific random keyword$/;"	v
_random_keyword	system/database/drivers/pdo/pdo_driver.php	/^	var $_random_keyword;$/;"	v
_random_keyword	system/database/drivers/postgre/postgre_driver.php	/^	var $_random_keyword = ' RANDOM()'; \/\/ database specific random keyword$/;"	v
_random_keyword	system/database/drivers/sqlite/sqlite_driver.php	/^	var $_random_keyword = ' Random()'; \/\/ database specific random keyword$/;"	v
_random_keyword	system/database/drivers/sqlsrv/sqlsrv_driver.php	/^	var $_random_keyword = ' ASC'; \/\/ not currently supported$/;"	v
_recipients	system/libraries/Email.php	/^				$this->_recipients = $to;$/;"	v
_recipients	system/libraries/Email.php	/^				$this->_recipients = implode(", ", $to);$/;"	v
_recipients	system/libraries/Email.php	/^		$this->_recipients	= array();$/;"	v
_recipients	system/libraries/Email.php	/^	var	$_recipients	= array();$/;"	v
_reduce_array	system/libraries/Form_validation.php	/^	protected function _reduce_array($array, $keys, $i = 0)$/;"	f
_reindex_segments	system/core/URI.php	/^	function _reindex_segments()$/;"	f
_removeClass	system/libraries/javascript/Jquery.php	/^	function _removeClass($element = 'this', $class='')$/;"	f
_remove_cipher_noise	system/libraries/Encrypt.php	/^	function _remove_cipher_noise($data, $key)$/;"	f
_remove_evil_attributes	system/core/Security.php	/^	protected function _remove_evil_attributes($str, $is_image)$/;"	f
_remove_nl_callback	system/libraries/Email.php	/^	protected function _remove_nl_callback($matches)$/;"	f
_remove_url_suffix	system/core/URI.php	/^	function _remove_url_suffix()$/;"	f
_rename_table	system/database/drivers/cubrid/cubrid_forge.php	/^	function _rename_table($table_name, $new_table_name)$/;"	f
_rename_table	system/database/drivers/mssql/mssql_forge.php	/^	function _rename_table($table_name, $new_table_name)$/;"	f
_rename_table	system/database/drivers/mysql/mysql_forge.php	/^	function _rename_table($table_name, $new_table_name)$/;"	f
_rename_table	system/database/drivers/mysqli/mysqli_forge.php	/^	function _rename_table($table_name, $new_table_name)$/;"	f
_rename_table	system/database/drivers/oci8/oci8_forge.php	/^	function _rename_table($table_name, $new_table_name)$/;"	f
_rename_table	system/database/drivers/odbc/odbc_forge.php	/^	function _rename_table($table_name, $new_table_name)$/;"	f
_rename_table	system/database/drivers/pdo/pdo_forge.php	/^	function _rename_table($table_name, $new_table_name)$/;"	f
_rename_table	system/database/drivers/postgre/postgre_forge.php	/^	function _rename_table($table_name, $new_table_name)$/;"	f
_rename_table	system/database/drivers/sqlite/sqlite_forge.php	/^	function _rename_table($table_name, $new_table_name)$/;"	f
_rename_table	system/database/drivers/sqlsrv/sqlsrv_forge.php	/^	function _rename_table($table_name, $new_table_name)$/;"	f
_repair_table	system/database/drivers/cubrid/cubrid_utility.php	/^	function _repair_table($table)$/;"	f
_repair_table	system/database/drivers/mssql/mssql_utility.php	/^	function _repair_table($table)$/;"	f
_repair_table	system/database/drivers/mysql/mysql_utility.php	/^	function _repair_table($table)$/;"	f
_repair_table	system/database/drivers/mysqli/mysqli_utility.php	/^	function _repair_table($table)$/;"	f
_repair_table	system/database/drivers/oci8/oci8_utility.php	/^	function _repair_table($table)$/;"	f
_repair_table	system/database/drivers/odbc/odbc_utility.php	/^	function _repair_table($table)$/;"	f
_repair_table	system/database/drivers/pdo/pdo_utility.php	/^	function _repair_table($table)$/;"	f
_repair_table	system/database/drivers/postgre/postgre_utility.php	/^	function _repair_table($table)$/;"	f
_repair_table	system/database/drivers/sqlite/sqlite_utility.php	/^	function _repair_table($table)$/;"	f
_repair_table	system/database/drivers/sqlsrv/sqlsrv_utility.php	/^	function _repair_table($table)$/;"	f
_replace	system/database/drivers/cubrid/cubrid_driver.php	/^	function _replace($table, $keys, $values)$/;"	f
_replace	system/database/drivers/mysql/mysql_driver.php	/^	function _replace($table, $keys, $values)$/;"	f
_replace	system/database/drivers/mysqli/mysqli_driver.php	/^	function _replace($table, $keys, $values)$/;"	f
_replyto_flag	system/libraries/Email.php	/^		$this->_replyto_flag = FALSE;$/;"	v
_replyto_flag	system/libraries/Email.php	/^		$this->_replyto_flag = TRUE;$/;"	v
_replyto_flag	system/libraries/Email.php	/^	var $_replyto_flag	= FALSE;$/;"	v
_reserved_identifiers	system/database/DB_driver.php	/^	var $_reserved_identifiers	= array('*'); \/\/ Identifiers that should NOT be escaped$/;"	v
_reset	system/database/DB_forge.php	/^	function _reset()$/;"	f
_reset_post_array	system/libraries/Form_validation.php	/^	protected function _reset_post_array()$/;"	f
_reset_run	system/database/DB_active_rec.php	/^	protected function _reset_run($ar_reset_items)$/;"	f
_reset_select	system/database/DB_active_rec.php	/^	protected function _reset_select()$/;"	f
_reset_select	system/database/DB_driver.php	/^	protected function _reset_select()$/;"	f
_reset_write	system/database/DB_active_rec.php	/^	protected function _reset_write()$/;"	f
_resize	system/libraries/javascript/Jquery.php	/^	function _resize($element = 'this', $js = '')$/;"	f
_rol	system/libraries/Sha1.php	/^	function _rol($num, $cnt)$/;"	f
_run_hook	system/core/Hooks.php	/^	function _run_hook($data)$/;"	f
_safe_add	system/libraries/Sha1.php	/^	function _safe_add($x, $y)$/;"	f
_safe_form_data	system/libraries/Form_validation.php	/^			$this->_safe_form_data = TRUE;$/;"	v
_safe_form_data	system/libraries/Form_validation.php	/^	protected $_safe_form_data		= FALSE;$/;"	v
_safe_mode	system/libraries/Email.php	/^			$this->_safe_mode = ((boolean)@ini_get("safe_mode") === FALSE) ? FALSE : TRUE;$/;"	v
_safe_mode	system/libraries/Email.php	/^		$this->_safe_mode = ((boolean)@ini_get("safe_mode") === FALSE) ? FALSE : TRUE;$/;"	v
_safe_mode	system/libraries/Email.php	/^	var $_safe_mode		= FALSE;$/;"	v
_sanitize_globals	system/core/Input.php	/^	function _sanitize_globals()$/;"	f
_sanitize_naughty_html	system/core/Security.php	/^	protected function _sanitize_naughty_html($matches)$/;"	f
_save_cart	system/libraries/Cart.php	/^	function _save_cart()$/;"	f
_scroll	system/libraries/javascript/Jquery.php	/^	function _scroll($element = 'this', $js = '')$/;"	f
_send_command	system/libraries/Email.php	/^	protected function _send_command($cmd, $data = '')$/;"	f
_send_data	system/libraries/Email.php	/^	protected function _send_data($data)$/;"	f
_send_with_mail	system/libraries/Email.php	/^	protected function _send_with_mail()$/;"	f
_send_with_sendmail	system/libraries/Email.php	/^	protected function _send_with_sendmail()$/;"	f
_send_with_smtp	system/libraries/Email.php	/^	protected function _send_with_smtp()$/;"	f
_serialize	system/libraries/Session.php	/^	function _serialize($data)$/;"	f
_sess_gc	system/libraries/Session.php	/^	function _sess_gc()$/;"	f
_set_boundaries	system/libraries/Email.php	/^	protected function _set_boundaries()$/;"	f
_set_browser	system/libraries/User_agent.php	/^	private function _set_browser()$/;"	f
_set_charsets	system/libraries/User_agent.php	/^	private function _set_charsets()$/;"	f
_set_cookie	system/libraries/Session.php	/^	function _set_cookie($cookie_data = NULL)$/;"	f
_set_date	system/libraries/Email.php	/^	protected function _set_date()$/;"	f
_set_default_controller	system/core/Router.php	/^	function _set_default_controller()$/;"	f
_set_error_message	system/libraries/Email.php	/^	protected function _set_error_message($msg, $val = '')$/;"	f
_set_from_array	system/libraries/Table.php	/^	function _set_from_array($data, $set_heading = TRUE)$/;"	f
_set_from_object	system/libraries/Table.php	/^	function _set_from_object($query)$/;"	f
_set_header	system/libraries/Email.php	/^	protected function _set_header($header, $value)$/;"	f
_set_languages	system/libraries/User_agent.php	/^	private function _set_languages()$/;"	f
_set_mobile	system/libraries/User_agent.php	/^	private function _set_mobile()$/;"	f
_set_overrides	system/core/Router.php	/^	function _set_overrides($routing)$/;"	f
_set_platform	system/libraries/User_agent.php	/^	private function _set_platform()$/;"	f
_set_request	system/core/Router.php	/^	function _set_request($segments = array())$/;"	f
_set_robot	system/libraries/User_agent.php	/^	private function _set_robot()$/;"	f
_set_routing	system/core/Router.php	/^	function _set_routing()$/;"	f
_set_stmt_id	system/database/drivers/oci8/oci8_driver.php	/^	private function _set_stmt_id($sql)$/;"	f
_set_uri_string	system/core/URI.php	/^	function _set_uri_string($str)$/;"	f
_settype	system/libraries/Ftp.php	/^	function _settype($ext)$/;"	f
_setup_memcached	system/libraries/Cache/drivers/Cache_memcached.php	/^	private function _setup_memcached()$/;"	f
_show	system/libraries/javascript/Jquery.php	/^	function _show($element = 'this', $speed = '', $callback = '')$/;"	f
_slash_segment	system/core/URI.php	/^	function _slash_segment($n, $where = 'trailing', $which = 'segment')$/;"	f
_slideDown	system/libraries/javascript/Jquery.php	/^	function _slideDown($element = 'this', $speed = '', $callback = '')$/;"	f
_slideToggle	system/libraries/javascript/Jquery.php	/^	function _slideToggle($element = 'this', $speed = '', $callback = '')$/;"	f
_slideUp	system/libraries/javascript/Jquery.php	/^	function _slideUp($element = 'this', $speed = '', $callback = '')$/;"	f
_smtp_auth	system/libraries/Email.php	/^			$this->_smtp_auth = ($this->smtp_user == '' AND $this->smtp_pass == '') ? FALSE : TRUE;$/;"	v
_smtp_auth	system/libraries/Email.php	/^		$this->_smtp_auth = ($this->smtp_user == '' AND $this->smtp_pass == '') ? FALSE : TRUE;$/;"	v
_smtp_auth	system/libraries/Email.php	/^	var	$_smtp_auth		= FALSE;$/;"	v
_smtp_authenticate	system/libraries/Email.php	/^	protected function _smtp_authenticate()$/;"	f
_smtp_connect	system/libraries/Email.php	/^		$this->_smtp_connect = fsockopen($ssl.$this->smtp_host,$/;"	v
_smtp_connect	system/libraries/Email.php	/^	protected function _smtp_connect()$/;"	f
_smtp_connect	system/libraries/Email.php	/^	var	$_smtp_connect	= "";$/;"	v
_spool_email	system/libraries/Email.php	/^	protected function _spool_email()$/;"	f
_standardize_newlines	system/core/Input.php	/^	var $_standardize_newlines	= TRUE;$/;"	v
_str_to_array	system/libraries/Email.php	/^	protected function _str_to_array($email)$/;"	f
_subject	system/libraries/Email.php	/^			$this->_subject = $this->_headers['Subject'];$/;"	v
_subject	system/libraries/Email.php	/^		$this->_subject		= "";$/;"	v
_subject	system/libraries/Email.php	/^	var	$_subject		= "";$/;"	v
_template	system/libraries/Unit_test.php	/^		$this->_template = "\\n".'<table style="width:100%; font-size:small; margin:10px 0; border-collapse:collapse; border:1px solid #CCC;">';$/;"	v
_template	system/libraries/Unit_test.php	/^		$this->_template = $template;$/;"	v
_template	system/libraries/Unit_test.php	/^		$this->_template = str_replace($match['0'], '{rows}', $this->_template);$/;"	v
_template	system/libraries/Unit_test.php	/^	var $_template				= NULL;$/;"	v
_template_rows	system/libraries/Unit_test.php	/^		$this->_template_rows = "\\n\\t".'<tr>';$/;"	v
_template_rows	system/libraries/Unit_test.php	/^		$this->_template_rows = $match['1'];$/;"	v
_template_rows	system/libraries/Unit_test.php	/^	var $_template_rows			= NULL;$/;"	v
_test_items_visible	system/libraries/Unit_test.php	/^			$this->_test_items_visible = $items;$/;"	v
_test_items_visible	system/libraries/Unit_test.php	/^		$this->_test_items_visible = array ($/;"	v
_test_items_visible	system/libraries/Unit_test.php	/^	var $_test_items_visible	= array();$/;"	v
_threshold	system/libraries/Log.php	/^			$this->_threshold = $config['log_threshold'];$/;"	v
_threshold	system/libraries/Log.php	/^	protected $_threshold	= 1;$/;"	v
_toggle	system/libraries/javascript/Jquery.php	/^	function _toggle($element = 'this')$/;"	f
_toggleClass	system/libraries/javascript/Jquery.php	/^	function _toggleClass($element = 'this', $class='')$/;"	f
_track_aliases	system/database/DB_active_rec.php	/^	protected function _track_aliases($table)$/;"	f
_trans_depth	system/database/DB_driver.php	/^	var $_trans_depth	= 0;$/;"	v
_trans_failure	system/database/drivers/cubrid/cubrid_driver.php	/^		$this->_trans_failure = ($test_mode === TRUE) ? TRUE : FALSE;$/;"	v
_trans_failure	system/database/drivers/mssql/mssql_driver.php	/^		$this->_trans_failure = ($test_mode === TRUE) ? TRUE : FALSE;$/;"	v
_trans_failure	system/database/drivers/mysql/mysql_driver.php	/^		$this->_trans_failure = ($test_mode === TRUE) ? TRUE : FALSE;$/;"	v
_trans_failure	system/database/drivers/mysqli/mysqli_driver.php	/^		$this->_trans_failure = ($test_mode === TRUE) ? TRUE : FALSE;$/;"	v
_trans_failure	system/database/drivers/oci8/oci8_driver.php	/^		$this->_trans_failure = ($test_mode === TRUE) ? TRUE : FALSE;$/;"	v
_trans_failure	system/database/drivers/odbc/odbc_driver.php	/^		$this->_trans_failure = ($test_mode === TRUE) ? TRUE : FALSE;$/;"	v
_trans_failure	system/database/drivers/pdo/pdo_driver.php	/^		$this->_trans_failure = (bool) ($test_mode === TRUE);$/;"	v
_trans_failure	system/database/drivers/postgre/postgre_driver.php	/^		$this->_trans_failure = ($test_mode === TRUE) ? TRUE : FALSE;$/;"	v
_trans_failure	system/database/drivers/sqlite/sqlite_driver.php	/^		$this->_trans_failure = ($test_mode === TRUE) ? TRUE : FALSE;$/;"	v
_trans_failure	system/database/drivers/sqlsrv/sqlsrv_driver.php	/^		$this->_trans_failure = ($test_mode === TRUE) ? TRUE : FALSE;$/;"	v
_trans_status	system/database/DB_driver.php	/^				$this->_trans_status = TRUE;$/;"	v
_trans_status	system/database/DB_driver.php	/^			$this->_trans_status = FALSE;$/;"	v
_trans_status	system/database/DB_driver.php	/^	var $_trans_status	= TRUE; \/\/ Used with transactions to determine if a rollback should occur$/;"	v
_translate_fieldname	system/libraries/Form_validation.php	/^	protected function _translate_fieldname($fieldname)$/;"	f
_truncate	system/database/drivers/cubrid/cubrid_driver.php	/^	function _truncate($table)$/;"	f
_truncate	system/database/drivers/mssql/mssql_driver.php	/^	function _truncate($table)$/;"	f
_truncate	system/database/drivers/mysql/mysql_driver.php	/^	function _truncate($table)$/;"	f
_truncate	system/database/drivers/mysqli/mysqli_driver.php	/^	function _truncate($table)$/;"	f
_truncate	system/database/drivers/oci8/oci8_driver.php	/^	protected function _truncate($table)$/;"	f
_truncate	system/database/drivers/odbc/odbc_driver.php	/^	function _truncate($table)$/;"	f
_truncate	system/database/drivers/pdo/pdo_driver.php	/^	function _truncate($table)$/;"	f
_truncate	system/database/drivers/postgre/postgre_driver.php	/^	function _truncate($table)$/;"	f
_truncate	system/database/drivers/sqlite/sqlite_driver.php	/^	function _truncate($table)$/;"	f
_truncate	system/database/drivers/sqlsrv/sqlsrv_driver.php	/^	function _truncate($table)$/;"	f
_unload	system/libraries/javascript/Jquery.php	/^	function _unload($element = 'this', $js = '')$/;"	f
_unserialize	system/libraries/Session.php	/^	function _unserialize($data)$/;"	f
_unwrap_specials	system/libraries/Email.php	/^	protected function _unwrap_specials()$/;"	f
_update	system/database/drivers/cubrid/cubrid_driver.php	/^	function _update($table, $values, $where, $orderby = array(), $limit = FALSE)$/;"	f
_update	system/database/drivers/mssql/mssql_driver.php	/^	function _update($table, $values, $where, $orderby = array(), $limit = FALSE)$/;"	f
_update	system/database/drivers/mysql/mysql_driver.php	/^	function _update($table, $values, $where, $orderby = array(), $limit = FALSE)$/;"	f
_update	system/database/drivers/mysqli/mysqli_driver.php	/^	function _update($table, $values, $where, $orderby = array(), $limit = FALSE)$/;"	f
_update	system/database/drivers/oci8/oci8_driver.php	/^	protected function _update($table, $values, $where, $orderby = array(), $limit = FALSE)$/;"	f
_update	system/database/drivers/odbc/odbc_driver.php	/^	function _update($table, $values, $where, $orderby = array(), $limit = FALSE)$/;"	f
_update	system/database/drivers/pdo/pdo_driver.php	/^	function _update($table, $values, $where, $orderby = array(), $limit = FALSE)$/;"	f
_update	system/database/drivers/postgre/postgre_driver.php	/^	function _update($table, $values, $where, $orderby = array(), $limit = FALSE)$/;"	f
_update	system/database/drivers/sqlite/sqlite_driver.php	/^	function _update($table, $values, $where, $orderby = array(), $limit = FALSE)$/;"	f
_update	system/database/drivers/sqlsrv/sqlsrv_driver.php	/^	function _update($table, $values, $where)$/;"	f
_update	system/libraries/Cart.php	/^	function _update($items = array())$/;"	f
_update_batch	system/database/drivers/cubrid/cubrid_driver.php	/^	function _update_batch($table, $values, $index, $where = NULL)$/;"	f
_update_batch	system/database/drivers/mysql/mysql_driver.php	/^	function _update_batch($table, $values, $index, $where = NULL)$/;"	f
_update_batch	system/database/drivers/mysqli/mysqli_driver.php	/^	function _update_batch($table, $values, $index, $where = NULL)$/;"	f
_update_batch	system/database/drivers/pdo/pdo_driver.php	/^	function _update_batch($table, $values, $index, $where = NULL)$/;"	f
_update_version	system/libraries/Migration.php	/^	protected function _update_version($migrations)$/;"	f
_updater	system/libraries/javascript/Jquery.php	/^	function _updater($container = 'this', $controller, $options = '')$/;"	f
_uri_string	system/core/Config.php	/^	protected function _uri_string($uri)$/;"	f
_uri_to_assoc	system/core/URI.php	/^	function _uri_to_assoc($n = 3, $default = array(), $which = 'segment')$/;"	f
_valid_ipv4	system/core/Input.php	/^	protected function _valid_ipv4($ip)$/;"	f
_valid_ipv6	system/core/Input.php	/^	protected function _valid_ipv6($str)$/;"	f
_validate_entities	system/core/Security.php	/^	protected function _validate_entities($str)$/;"	f
_validate_request	system/core/Router.php	/^	function _validate_request($segments)$/;"	f
_validate_speed	system/libraries/javascript/Jquery.php	/^	function _validate_speed($speed)$/;"	f
_version	system/database/drivers/cubrid/cubrid_driver.php	/^	function _version()$/;"	f
_version	system/database/drivers/mssql/mssql_driver.php	/^	function _version()$/;"	f
_version	system/database/drivers/mysql/mysql_driver.php	/^	function _version()$/;"	f
_version	system/database/drivers/mysqli/mysqli_driver.php	/^	function _version()$/;"	f
_version	system/database/drivers/oci8/oci8_driver.php	/^	protected function _version()$/;"	f
_version	system/database/drivers/odbc/odbc_driver.php	/^	function _version()$/;"	f
_version	system/database/drivers/pdo/pdo_driver.php	/^	function _version()$/;"	f
_version	system/database/drivers/postgre/postgre_driver.php	/^	function _version()$/;"	f
_version	system/database/drivers/sqlite/sqlite_driver.php	/^	function _version()$/;"	f
_version	system/database/drivers/sqlsrv/sqlsrv_driver.php	/^	function _version()$/;"	f
_where	system/database/DB_active_rec.php	/^	protected function _where($key, $value = NULL, $type = 'AND ', $escape = NULL)$/;"	f
_where_in	system/database/DB_active_rec.php	/^	protected function _where_in($key = NULL, $values = NULL, $not = FALSE, $type = 'AND ')$/;"	f
_write_cache	system/core/Output.php	/^	function _write_cache($output)$/;"	f
_write_headers	system/libraries/Email.php	/^	protected function _write_headers()$/;"	f
_xor_decode	system/libraries/Encrypt.php	/^	function _xor_decode($string, $key)$/;"	f
_xor_encode	system/libraries/Encrypt.php	/^	function _xor_encode($string, $key)$/;"	f
_xor_merge	system/libraries/Encrypt.php	/^	function _xor_merge($string, $key)$/;"	f
_xss_hash	system/core/Security.php	/^			$this->_xss_hash = md5(time() + mt_rand(0, 1999999999));$/;"	v
_xss_hash	system/core/Security.php	/^	protected $_xss_hash			= '';$/;"	v
_zebraTables	system/libraries/javascript/Jquery.php	/^	function _zebraTables($class = '', $odd = 'odd', $hover = '')$/;"	f
_zero_fill	system/libraries/Sha1.php	/^	function _zero_fill($a, $b)$/;"	f
_zlib_oc	system/core/Output.php	/^		$this->_zlib_oc = @ini_get('zlib.output_compression');$/;"	v
_zlib_oc	system/core/Output.php	/^		if ($CFG->item('compress_output') === TRUE && $this->_zlib_oc == FALSE)$/;"	v
_zlib_oc	system/core/Output.php	/^	protected $_zlib_oc			= FALSE;$/;"	v
a	system/libraries/Sha1.php	/^				$a = $t;$/;"	v
a	system/libraries/Sha1.php	/^			$a = $this->_safe_add($a, $olda);$/;"	v
a	system/libraries/Sha1.php	/^		$a =  1732584193;$/;"	v
a.addSlide	js/flexslider-min.js	/^f.controlNav.update("remove",a.last);c.directionNav&&f.directionNav.update()};a.addSlide=function(b,e){var f=d(b);a.count+=1;a.last=a.count-1;m&&n?void 0!==e?a.slides.eq(a.count-e).after(f):a.container.prepend(f):void 0!==e?a.slides.eq(e).before(f):a.container.append(f);a.update(e,"add");a.slides=d(c.selector+":not(.clone)",a);a.setup();c.added(a)};a.removeSlide=function(b){var e=isNaN(b)?a.slides.index(d(b)):b;a.count-=1;a.last=a.count-1;isNaN(b)?d(b,a.slides).remove():m&&n?a.slides.eq(a.last).remove():$/;"	f
a.animateSlides	js/flexslider-min.js	/^function(){a.wrapup(r)})}else a.container.animate(a.args,c.animationSpeed,c.easing,function(){a.wrapup(r)})}c.smoothHeight&&f.smoothHeight(c.animationSpeed)}};a.wrapup=function(b){!s&&!h&&(0===a.currentSlide&&a.animatingTo===a.last&&c.animationLoop?a.setProps(b,"jumpEnd"):a.currentSlide===a.last&&(0===a.animatingTo&&c.animationLoop)&&a.setProps(b,"jumpStart"));a.animating=!1;a.currentSlide=a.animatingTo;c.after(a)};a.animateSlides=function(){a.animating||a.flexAnimate(a.getTarget("next"))};a.pause=$/;"	f
a.canAdvance	js/flexslider-min.js	/^function(){clearInterval(a.animatedSlides);a.playing=!1;c.pausePlay&&f.pausePlay.update("play");a.syncExists&&f.sync("pause")};a.play=function(){a.animatedSlides=setInterval(a.animateSlides,c.slideshowSpeed);a.playing=!0;c.pausePlay&&f.pausePlay.update("pause");a.syncExists&&f.sync("play")};a.canAdvance=function(b,g){var d=t?a.pagingCount-1:a.last;return g?!0:t&&a.currentItem===a.count-1&&0===b&&"prev"===a.direction?!0:t&&0===a.currentItem&&b===a.pagingCount-1&&"next"!==a.direction?!1:b===a.currentSlide&&$/;"	f
a.doMath	js/flexslider-min.js	/^setTimeout(function(){a.newSlides.css({display:"block"});a.doMath();a.viewport.height(a.h);a.setProps(g*a.h,"init")},"init"===b?100:0)):(a.container.width(200*(a.count+a.cloneCount)+"%"),a.setProps(g*a.computedW,"init"),setTimeout(function(){a.doMath();a.newSlides.css({width:a.computedW,"float":"left",display:"block"});c.smoothHeight&&f.smoothHeight()},"init"===b?100:0))}h||a.slides.removeClass(e+"active-slide").eq(a.currentSlide).addClass(e+"active-slide")};a.doMath=function(){var b=a.slides.first(),$/;"	f
a.flexAnimate	js/flexslider-min.js	/^!g.asNav&&g.play();break;case "pause":g.pause()}}};a.flexAnimate=function(b,g,p,j,l){t&&1===a.pagingCount&&(a.direction=a.currentItem<b?"next":"prev");if(!a.animating&&(a.canAdvance(b,l)||p)&&a.is(":visible")){if(t&&j)if(p=d(c.asNavFor).data("flexslider"),a.atEnd=0===b||b===a.count-1,p.flexAnimate(b,!0,!1,!0,l),a.direction=a.currentItem<b?"next":"prev",p.direction=a.direction,Math.ceil((b+1)\/a.visible)-1!==a.currentSlide&&0!==b)a.currentItem=b,a.slides.removeClass(e+"active-slide").eq(b).addClass(e+$/;"	f
a.getTarget	js/flexslider-min.js	/^!t?!1:c.animationLoop?!0:a.atEnd&&0===a.currentSlide&&b===d&&"next"!==a.direction?!1:a.atEnd&&a.currentSlide===d&&0===b&&"next"===a.direction?!1:!0};a.getTarget=function(b){a.direction=b;return"next"===b?a.currentSlide===a.last?0:a.currentSlide+1:0===a.currentSlide?a.last:a.currentSlide-1};a.setProps=function(b,g,d){var e,f=b?b:(a.itemW+c.itemMargin)*a.move*a.animatingTo;e=-1*function(){if(h)return"setTouch"===g?b:n&&a.animatingTo===a.last?0:n?a.limit-(a.itemW+c.itemMargin)*a.move*a.animatingTo:a.animatingTo===$/;"	f
a.pause	js/flexslider-min.js	/^function(){a.wrapup(r)})}else a.container.animate(a.args,c.animationSpeed,c.easing,function(){a.wrapup(r)})}c.smoothHeight&&f.smoothHeight(c.animationSpeed)}};a.wrapup=function(b){!s&&!h&&(0===a.currentSlide&&a.animatingTo===a.last&&c.animationLoop?a.setProps(b,"jumpEnd"):a.currentSlide===a.last&&(0===a.animatingTo&&c.animationLoop)&&a.setProps(b,"jumpStart"));a.animating=!1;a.currentSlide=a.animatingTo;c.after(a)};a.animateSlides=function(){a.animating||a.flexAnimate(a.getTarget("next"))};a.pause=$/;"	f
a.play	js/flexslider-min.js	/^function(){clearInterval(a.animatedSlides);a.playing=!1;c.pausePlay&&f.pausePlay.update("play");a.syncExists&&f.sync("pause")};a.play=function(){a.animatedSlides=setInterval(a.animateSlides,c.slideshowSpeed);a.playing=!0;c.pausePlay&&f.pausePlay.update("pause");a.syncExists&&f.sync("play")};a.canAdvance=function(b,g){var d=t?a.pagingCount-1:a.last;return g?!0:t&&a.currentItem===a.count-1&&0===b&&"prev"===a.direction?!0:t&&0===a.currentItem&&b===a.pagingCount-1&&"next"!==a.direction?!1:b===a.currentSlide&&$/;"	f
a.removeSlide	js/flexslider-min.js	/^f.controlNav.update("remove",a.last);c.directionNav&&f.directionNav.update()};a.addSlide=function(b,e){var f=d(b);a.count+=1;a.last=a.count-1;m&&n?void 0!==e?a.slides.eq(a.count-e).after(f):a.container.prepend(f):void 0!==e?a.slides.eq(e).before(f):a.container.append(f);a.update(e,"add");a.slides=d(c.selector+":not(.clone)",a);a.setup();c.added(a)};a.removeSlide=function(b){var e=isNaN(b)?a.slides.index(d(b)):b;a.count-=1;a.last=a.count-1;isNaN(b)?d(b,a.slides).remove():m&&n?a.slides.eq(a.last).remove():$/;"	f
a.setProps	js/flexslider-min.js	/^!t?!1:c.animationLoop?!0:a.atEnd&&0===a.currentSlide&&b===d&&"next"!==a.direction?!1:a.atEnd&&a.currentSlide===d&&0===b&&"next"===a.direction?!1:!0};a.getTarget=function(b){a.direction=b;return"next"===b?a.currentSlide===a.last?0:a.currentSlide+1:0===a.currentSlide?a.last:a.currentSlide-1};a.setProps=function(b,g,d){var e,f=b?b:(a.itemW+c.itemMargin)*a.move*a.animatingTo;e=-1*function(){if(h)return"setTouch"===g?b:n&&a.animatingTo===a.last?0:n?a.limit-(a.itemW+c.itemMargin)*a.move*a.animatingTo:a.animatingTo===$/;"	f
a.setup	js/flexslider-min.js	/^a.last?a.limit:f;switch(g){case "setTotal":return n?(a.count-1-a.currentSlide+a.cloneOffset)*b:(a.currentSlide+a.cloneOffset)*b;case "setTouch":return b;case "jumpEnd":return n?b:a.count*b;case "jumpStart":return n?a.count*b:b;default:return b}}()+"px";a.transitions&&(e=m?"translate3d(0,"+e+",0)":"translate3d("+e+",0,0)",d=void 0!==d?d\/1E3+"s":"0s",a.container.css("-"+a.pfx+"-transition-duration",d));a.args[a.prop]=e;(a.transitions||void 0===d)&&a.container.css(a.args)};a.setup=function(b){if(s)a.slides.css({width:"100%",$/;"	f
a.update	js/flexslider-min.js	/^d:(a.itemW+d)*a.count-a.w-d):(a.itemW=a.w,a.pagingCount=a.count,a.last=a.count-1);a.computedW=a.itemW-a.boxPadding};a.update=function(b,d){a.doMath();h||(b<a.currentSlide?a.currentSlide+=1:b<=a.currentSlide&&0!==b&&(a.currentSlide-=1),a.animatingTo=a.currentSlide);if(c.controlNav&&!a.manualControls)if("add"===d&&!h||a.pagingCount>a.controlNav.length)f.controlNav.update("add");else if("remove"===d&&!h||a.pagingCount<a.controlNav.length)h&&a.currentSlide>a.last&&(a.currentSlide-=1,a.animatingTo-=1),$/;"	f
a.wrapup	js/flexslider-min.js	/^function(){a.wrapup(r)})}else a.container.animate(a.args,c.animationSpeed,c.easing,function(){a.wrapup(r)})}c.smoothHeight&&f.smoothHeight(c.animationSpeed)}};a.wrapup=function(b){!s&&!h&&(0===a.currentSlide&&a.animatingTo===a.last&&c.animationLoop?a.setProps(b,"jumpEnd"):a.currentSlide===a.last&&(0===a.animatingTo&&c.animationLoop)&&a.setProps(b,"jumpStart"));a.animating=!1;a.currentSlide=a.animatingTo;c.after(a)};a.animateSlides=function(){a.animating||a.flexAnimate(a.getTarget("next"))};a.pause=$/;"	f
a_param	system/libraries/Xmlrpc.php	/^				$a_param = $this->decode_message($this->params[$i]);$/;"	v
above	system/core/Common.php	/^* called by the load_class() function above$/;"	f
above	system/database/DB_active_rec.php	/^				\/\/ batch function above returns an error on an empty array$/;"	f
accept	application/controllers/HttpClient.class.php	/^    var $accept = 'text\/xml,application\/xml,application\/xhtml+xml,text\/html,text\/plain,image\/png,image\/jpeg,image\/gif,*\/*';$/;"	v
accept_charset	system/libraries/User_agent.php	/^	public function accept_charset($charset = 'utf-8')$/;"	f
accept_encoding	application/controllers/HttpClient.class.php	/^    var $accept_encoding = 'gzip';$/;"	v
accept_lang	system/libraries/User_agent.php	/^	public function accept_lang($lang = 'en')$/;"	f
accept_language	application/controllers/HttpClient.class.php	/^    var $accept_language = 'en-us';$/;"	v
action	system/core/Exceptions.php	/^	var $action;$/;"	v
action	system/helpers/form_helper.php	/^			$action = $CI->config->site_url($action);$/;"	v
action	system/helpers/form_helper.php	/^		$action OR $action = $CI->config->site_url($CI->uri->uri_string());$/;"	v
active	system/libraries/Unit_test.php	/^		$this->active = ($state == FALSE) ? FALSE : TRUE;$/;"	v
active	system/libraries/Unit_test.php	/^	function active($state = TRUE)$/;"	f
active	system/libraries/Unit_test.php	/^	var $active					= TRUE;$/;"	v
active_group	application/config/database.php	/^$active_group = 'default';$/;"	v
active_group	system/database/DB.php	/^			$active_group = $params;$/;"	v
active_record	application/config/database.php	/^$active_record = TRUE;$/;"	v
active_record	system/database/DB.php	/^		$active_record = $active_record_override;$/;"	v
active_record	system/database/DB.php	/^	if ( ! isset($active_record) OR $active_record == TRUE)$/;"	v
active_record_override	system/database/DB.php	/^function &DB($params = '', $active_record_override = NULL)$/;"	v
acts	system/core/Common.php	/^* This function acts as a singleton.  If the requested class does not$/;"	f
adDir	js/mainpage2.js	/^function adDir () {$/;"	f
add	application/controllers/message.php	/^	public function add($ajax  = 0){$/;"	f
add	application/controllers/order.php	/^    public function add($itemId = 0,$info = "",$buyNum = "",$price = ""){$/;"	f
add	application/controllers/sec.php	/^	public function add($art_id)$/;"	f
add	application/controllers/showart.php	/^    public function add($art_id)$/;"	f
add	application/models/mess.php	/^	public function add($data)$/;"	f
add	js/order.js	/^function add(){$/;"	f
addArray	system/libraries/Xmlrpc.php	/^	function addArray($vals)$/;"	f
addClass	system/libraries/Javascript.php	/^	function addClass($element = 'this', $class = '')$/;"	f
addCom	application/controllers/sec.php	/^	public function addCom($artId)$/;"	f
addCom	application/controllers/showart.php	/^    public function addCom($artId)$/;"	f
addComNum	application/models/art.php	/^    public function addComNum($artId,$comerId)$/;"	f
addComNum	application/models/mitem.php	/^    public function addComNum($artId)$/;"	f
addComNum	application/models/user.php	/^    public function addComNum($userId)$/;"	f
addError	application/controllers/write.php	/^    private function addError($error)$/;"	f
addEventHandler	system/libraries/ckeditor.php	/^	public function addEventHandler($event, $javascriptCode)$/;"	f
addGlobalEventHandler	system/libraries/ckeditor.php	/^	public function addGlobalEventHandler($event, $javascriptCode)$/;"	f
addInfo	js/msea.js	/^function addInfo (data,userId) {$/;"	f
addInfo.ComplexCustomOverlay	js/msea.js	/^    function ComplexCustomOverlay(point){$/;"	c
addInfo.markeOpt.title	js/msea.js	/^        title:data["user_name"]$/;"	p
addMailNum	application/models/user.php	/^    public function addMailNum($userId)$/;"	f
addOrDelFramePage	application/views/printindex.php	/^function addOrDelFramePage()$/;"	f
addParam	system/libraries/Xmlrpc.php	/^	function addParam($par) { $this->params[]=$par; }$/;"	f
addScalar	system/libraries/Xmlrpc.php	/^	function addScalar($val, $type='string')$/;"	f
addStruct	system/libraries/Xmlrpc.php	/^	function addStruct($vals)$/;"	f
addValue	application/models/mitem.php	/^    public function addValue($artId)$/;"	f
add_column	system/database/DB_forge.php	/^	function add_column($table = '', $field = array(), $after_field = '')$/;"	f
add_data	system/libraries/Zip.php	/^	function add_data($filepath, $data = NULL)$/;"	f
add_dir	system/libraries/Zip.php	/^	function add_dir($directory)$/;"	f
add_field	system/database/DB_forge.php	/^	function add_field($field = '')$/;"	f
add_key	system/database/DB_forge.php	/^	function add_key($key = '', $primary = FALSE)$/;"	f
add_package_path	system/core/Loader.php	/^	public function add_package_path($path, $view_cascade=TRUE)$/;"	f
add_row	system/libraries/Table.php	/^	function add_row()$/;"	f
add_to_map	system/libraries/Xmlrpcs.php	/^	function add_to_map($methodname, $function, $sig, $doc)$/;"	f
addr	application/controllers/order.php	/^        $addr = $this->input->post("addr");$/;"	v
addr	application/controllers/order.php	/^    public function addr()$/;"	f
addr	application/controllers/space.php	/^        $addr = explode("&",$addr);$/;"	v
addrDecode	application/controllers/order.php	/^    private function addrDecode($buyer)$/;"	f
adds	system/database/DB_driver.php	/^	 * This function adds backticks if appropriate based on db type$/;"	f
adds	system/database/drivers/sqlsrv/sqlsrv_driver.php	/^	 * This function adds backticks if the table name has a period$/;"	f
addvisitor	application/models/art.php	/^    public function addvisitor($artId)$/;"	f
addvisitor	application/models/mitem.php	/^    public function addvisitor($itemId)$/;"	f
adjust_date	system/libraries/Calendar.php	/^	function adjust_date($month, $year)$/;"	f
adjusted_date	system/libraries/Calendar.php	/^			$adjusted_date = $this->adjust_date($month + 1, $year);$/;"	v
adjusted_date	system/libraries/Calendar.php	/^			$adjusted_date = $this->adjust_date($month - 1, $year);$/;"	v
adjusted_date	system/libraries/Calendar.php	/^		$adjusted_date = $this->adjust_date($month, $year);$/;"	v
adminMail	application/core/MY_Controller.php	/^        $this->adminMail = "1264310280@qq.com";$/;"	v
adminMail	application/core/MY_Controller.php	/^    public $adminMail;$/;"	v
afDel	application/controllers/order.php	/^        $this->afDel = 7;\/\/下单后删除$/;"	v
afPnt	application/controllers/order.php	/^    private function afPnt($arr,$addr,$state)$/;"	f
affect_rows	system/database/drivers/pdo/pdo_driver.php	/^				$this->affect_rows = $result_id->rowCount();$/;"	v
affect_rows	system/database/drivers/pdo/pdo_driver.php	/^				$this->affect_rows = count($result_id->fetchAll());$/;"	v
affect_rows	system/database/drivers/pdo/pdo_driver.php	/^			$this->affect_rows = 0;$/;"	v
affected_rows	system/database/drivers/cubrid/cubrid_driver.php	/^	function affected_rows()$/;"	f
affected_rows	system/database/drivers/mssql/mssql_driver.php	/^	function affected_rows()$/;"	f
affected_rows	system/database/drivers/mysql/mysql_driver.php	/^	function affected_rows()$/;"	f
affected_rows	system/database/drivers/mysqli/mysqli_driver.php	/^	function affected_rows()$/;"	f
affected_rows	system/database/drivers/oci8/oci8_driver.php	/^	public function affected_rows()$/;"	f
affected_rows	system/database/drivers/odbc/odbc_driver.php	/^	function affected_rows()$/;"	f
affected_rows	system/database/drivers/pdo/pdo_driver.php	/^	function affected_rows()$/;"	f
affected_rows	system/database/drivers/postgre/postgre_driver.php	/^	function affected_rows()$/;"	f
affected_rows	system/database/drivers/sqlite/sqlite_driver.php	/^	function affected_rows()$/;"	f
affected_rows	system/database/drivers/sqlsrv/sqlsrv_driver.php	/^	function affected_rows()$/;"	f
after_field	system/database/drivers/cubrid/cubrid_forge.php	/^	function _alter_table($alter_type, $table, $fields, $after_field = '')$/;"	v
after_field	system/database/drivers/mysql/mysql_forge.php	/^	function _alter_table($alter_type, $table, $fields, $after_field = '')$/;"	v
after_field	system/database/drivers/mysqli/mysqli_forge.php	/^	function _alter_table($alter_type, $table, $fields, $after_field = '')$/;"	v
agent	system/libraries/User_agent.php	/^			$this->agent = trim($_SERVER['HTTP_USER_AGENT']);$/;"	v
agent	system/libraries/User_agent.php	/^	var $agent		= NULL;$/;"	v
agent_string	system/libraries/User_agent.php	/^	public function agent_string()$/;"	f
ajOper	js/cart.js	/^function ajOper(href,callback,node){$/;"	f
ajax	application/controllers/bg/item.php	/^        $ajax = 0;$/;"	v
alet	application/views/bgcom.php	/^jQuery.alet = function (cont) {\/\/给出各种提示的函数，和alert不同，这个过1s就消失$/;"	j
algorithms	system/libraries/Encrypt.php	/^	 * Takes an encoded string from the original Encryption class algorithms and$/;"	c
alias	system/database/DB_active_rec.php	/^			$alias = $this->_create_alias_from_table(trim($select));$/;"	v
alias	system/database/DB_active_rec.php	/^	protected function _max_min_avg_sum($select = '', $alias = '', $type = 'MAX')$/;"	v
alias	system/database/DB_active_rec.php	/^	public function select_avg($select = '', $alias = '')$/;"	v
alias	system/database/DB_active_rec.php	/^	public function select_max($select = '', $alias = '')$/;"	v
alias	system/database/DB_active_rec.php	/^	public function select_min($select = '', $alias = '')$/;"	v
alias	system/database/DB_active_rec.php	/^	public function select_sum($select = '', $alias = '')$/;"	v
alias	system/database/DB_driver.php	/^			$alias = '';$/;"	v
alias	system/database/DB_driver.php	/^			$alias = strstr($item, ' ');$/;"	v
alias	system/helpers/smiley_helper.php	/^			$alias = array($alias => $field_id);$/;"	v
alias	system/helpers/smiley_helper.php	/^	function get_clickable_smileys($image_url, $alias = '', $smileys = NULL)$/;"	v
all	system/helpers/text_helper.php	/^	function entities_to_ascii($str, $all = TRUE)$/;"	v
allMyOrder	application/models/morder.php	/^    public function allMyOrder($userId){$/;"	f
allTotal	application/models/art.php	/^    public function allTotal()$/;"	f
allWaiMai	application/models/user.php	/^    public function allWaiMai()$/;"	f
all_userdata	system/libraries/Session.php	/^	function all_userdata()$/;"	f
allowed	system/libraries/Image_lib.php	/^		$allowed = array('new_width', 'new_height', 'width', 'height');$/;"	v
allowed_types	system/libraries/Upload.php	/^			$this->allowed_types = '*';$/;"	v
allowed_types	system/libraries/Upload.php	/^		$this->allowed_types = explode('|', $types);$/;"	v
allowed_types	system/libraries/Upload.php	/^		if (strpos($filename, '.') === FALSE OR $this->allowed_types == '*')$/;"	v
allowed_types	system/libraries/Upload.php	/^	public $allowed_types			= "";$/;"	v
allows	system/libraries/Form_validation.php	/^	 * This function allows HTML to be safely shown in a form.$/;"	f
alogin	js/cart.js	/^function alogin(){$/;"	f
alpha	system/libraries/Form_validation.php	/^	public function alpha($str)$/;"	f
alpha	system/libraries/Image_lib.php	/^		$alpha = ($rgba & 0x7F000000) >> 24;$/;"	v
alpha_dash	system/libraries/Form_validation.php	/^	public function alpha_dash($str)$/;"	f
alpha_numeric	system/libraries/Form_validation.php	/^	public function alpha_numeric($str)$/;"	f
already	system/core/Loader.php	/^					log_message('debug', $class." class already loaded. Second attempt ignored.");$/;"	c
already	system/core/Loader.php	/^				\/\/ Safety:  Was the class already loaded by a previous call?$/;"	c
alt_message	system/libraries/Email.php	/^		$this->alt_message = $str;$/;"	v
alt_message	system/libraries/Email.php	/^	var $alt_message	= '';		\/\/ Alternative message for HTML emails$/;"	v
alternator	system/helpers/string_helper.php	/^	function alternator()$/;"	f
ampm	system/helpers/date_helper.php	/^			$ampm = strtolower($split['2']);$/;"	v
anchor	system/helpers/url_helper.php	/^	function anchor($uri = '', $title = '', $attributes = '')$/;"	f
anchor_class	system/libraries/Pagination.php	/^			$this->anchor_class = 'class="'.$this->anchor_class.'" ';$/;"	v
anchor_class	system/libraries/Pagination.php	/^	var $anchor_class		= '';$/;"	v
anchor_popup	system/helpers/url_helper.php	/^	function anchor_popup($uri = '', $title = '', $attributes = FALSE)$/;"	f
and	system/core/CodeIgniter.php	/^ *  Instantiate the routing class and set the routing$/;"	c
and	system/core/CodeIgniter.php	/^ *  Load the Input class and sanitize globals$/;"	c
and	system/core/Common.php	/^* This function lets us invoke the exception class and$/;"	c
and	system/core/Common.php	/^* class and send messages to be logged.$/;"	c
and	system/core/Hooks.php	/^		\/\/ Call the requested class and\/or function$/;"	c
and	system/core/Loader.php	/^	 * the controller class and its "view" files.$/;"	c
and	system/core/Output.php	/^		\/\/ If so, load the Profile class and run it.$/;"	c
and	system/database/DB_driver.php	/^		\/\/ we will load the caching class and return the previously$/;"	c
and	system/database/DB_utility.php	/^			\/\/ Load the Zip class and output it$/;"	c
and	system/libraries/Form_validation.php	/^				\/\/ Run the function and grab the result$/;"	f
angle	system/helpers/captcha_helper.php	/^		$angle	= ($length >= 6) ? rand(-($length-6), ($length-6)) : 0;$/;"	v
angle	system/libraries/Image_lib.php	/^				case 'hor'	:	$angle = 'lr';$/;"	v
angle	system/libraries/Image_lib.php	/^				case 'hor'	: $angle = '-flop';$/;"	v
angle	system/libraries/Image_lib.php	/^				case 'vrt'	:	$angle = 'tb';$/;"	v
angle	system/libraries/Image_lib.php	/^				case 'vrt'	: $angle = '-flip';$/;"	v
angle	system/libraries/Image_lib.php	/^				case 180	:	$angle = 'r180';$/;"	v
angle	system/libraries/Image_lib.php	/^				case 270	:	$angle = 'r90';$/;"	v
angle	system/libraries/Image_lib.php	/^				case 90		:	$angle = 'r270';$/;"	v
angle	system/libraries/Image_lib.php	/^				default		: $angle = '-rotate '.$this->rotation_angle;$/;"	v
animate	system/libraries/Javascript.php	/^	function animate($element = 'this', $params = array(), $speed = '', $extra = '')$/;"	f
animations	system/libraries/javascript/Jquery.php	/^		$animations = "\\t\\t\\t";$/;"	v
animations	system/libraries/javascript/Jquery.php	/^		$animations = substr($animations, 0, -2); \/\/ remove the last ", "$/;"	v
ans	application/controllers/chome.php	/^        $ans=$this->mar_list->listall(2);$/;"	v
ans	application/controllers/destory.php	/^		$ans = session_destroy();$/;"	v
ans	application/controllers/item.php	/^            $ans = "<p class = 'attr'><span class = 'item'>".$attr[1].":<\/span><br\/>";$/;"	v
ans	application/controllers/item.php	/^            $ans = "<p class = 'attr'><span class = 'item'>".$attr[2].":<\/span><br\/>";$/;"	v
ans	application/controllers/item.php	/^        $ans = "";$/;"	v
ans	application/controllers/item.php	/^        $ans = $this->comitem->append($data,$comId);$/;"	v
ans	application/controllers/item.php	/^        $ans = $this->comitem->insert($data);$/;"	v
ans	application/controllers/message.php	/^			$ans = $this->user->checkname($temp);$/;"	v
ans	application/controllers/message.php	/^		$ans = $this->mess->getById($messId);$/;"	v
ans	application/controllers/message.php	/^		$ans = preg_split("\/[\\(\\)]\/",$temp);$/;"	v
ans	application/controllers/order.php	/^            $ans = $this->morder->getAllToday();$/;"	v
ans	application/controllers/order.php	/^            $ans = $this->morder->getToday($this->user_id);$/;"	v
ans	application/controllers/order.php	/^        $ans = "&".$geter."|".$phone."|".$addr;$/;"	v
ans	application/controllers/order.php	/^        $ans = Array();$/;"	v
ans	application/controllers/reg.php	/^        $ans = preg_match("\/[\\[\\];\\"\\\/?:@=#&<>%{}\\\\\\|~`^]\/",$data["name"]);$/;"	v
ans	application/controllers/reg.php	/^        $ans = preg_match("\/[\\[\\];\\"\\\/?:@=#&<>%{}\\\\\\|~`^]\/",$name);$/;"	v
ans	application/controllers/reg.php	/^        $ans="<root>";$/;"	v
ans	application/controllers/reg.php	/^    $ans = $this->user->insertUser($data);$/;"	v
ans	application/controllers/sea.php	/^            $ans = $this->art->getSecTop($currentPage);$/;"	v
ans	application/controllers/sea.php	/^            $ans = $this->hotDel($currentPage);$/;"	v
ans	application/controllers/sea.php	/^            $ans = Array();$/;"	v
ans	application/controllers/sea.php	/^        $ans = $this->index(0,$keyword,1);$/;"	v
ans	application/controllers/search.php	/^		$ans = $this->index(0,$keyword,1);$/;"	v
ans	application/controllers/sec.php	/^		$ans = $this->art->getById($art_id);$/;"	v
ans	application/controllers/sec.php	/^		$ans = $this->comment->getCommentById($artId);$/;"	v
ans	application/controllers/sec.php	/^		$ans = array_merge($ans,$data2);$/;"	v
ans	application/controllers/showart.php	/^        $ans = $this->art->getById($art_id);$/;"	v
ans	application/controllers/showart.php	/^        $ans = $this->comment->getCommentById($artId);$/;"	v
ans	application/controllers/showart.php	/^        $ans = array_merge($ans,$data2);$/;"	v
ans	application/controllers/space.php	/^            $ans = $this->comment->getByUserId($userId);$/;"	v
ans	application/controllers/space.php	/^            $ans = ($this->fb_unique($ans));\/\/刚开始得到的是二维数组，整理成为1维，然后去重$/;"	v
ans	application/controllers/spacePhoto.php	/^		$ans = $this->img->getUserImg($user_id);$/;"	v
ans	application/models/comment.php	/^				$ans = mysql_fetch_array($ans);\/\/获取刚刚插入的id$/;"	v
ans	application/models/comment.php	/^				$ans = mysql_query("select last_insert_id()");$/;"	v
ans	application/models/comment.php	/^			else $ans = 0;$/;"	v
ans	application/models/img.php	/^        $ans = $this->db->query("select upload_time,upload_name,intro from img where img_id = '$imgId'");$/;"	v
ans	application/models/mess.php	/^		$ans = $this->db->query("select body,senderId,geterId,title,time,read_already from message where messageId = '$messId' || replyTo  = '$messId' order by time");$/;"	v
ans	application/models/mess.php	/^		$ans = $this->db->query("select body,senderId,geterId,title,time,read_already from message where messageId = '$messId'");$/;"	v
ans	application/models/mess.php	/^		$ans = $this->db->query("select body,senderId,geterId,title,time,read_already from message where replyTo  = '$messId' order by time");$/;"	v
ans	application/models/user.php	/^        $ans = $ans->result_array();$/;"	v
ans	application/models/user.php	/^        $ans = $this->db->query("select count(*) from art where  author_id  = '$userId' &&  new = 1");$/;"	v
ans_upload	application/controllers/reg.php	/^    public function ans_upload(){$/;"	f
ans_upload	application/core/MY_Controller.php	/^    function ans_upload($height = -1,$width = -1){$/;"	f
app	application/controllers/printapi.php	/^$app=$_REQUEST['appid'];$/;"	v
appNewItem	js/cart.js	/^function appNewItem(data,img,info,price,itemIdApp,buyNum) {$/;"	f
appaddr	application/models/user.php	/^    public function appaddr($addr,$userId)$/;"	f
appcom	application/controllers/item.php	/^    public function appcom($comId)$/;"	f
appcom	js/item.js	/^function appcom(cont,id){$/;"	f
append	application/models/comitem.php	/^    public function append($data,$comId)$/;"	f
append_output	system/core/Output.php	/^	function append_output($output)$/;"	f
appends	system/libraries/Upload.php	/^		 * This function appends an number onto the end of$/;"	f
appid	application/controllers/dsprint.class.php	/^	var $appid='';$/;"	v
appid	application/controllers/dsprint.class.php	/^        $this->appid = $app_id;$/;"	v
application_folder	index.php	/^	$application_folder = 'application';$/;"	v
ar	system/libraries/Xmlrpc.php	/^			$ar = $this->me['array'];$/;"	v
ar	system/libraries/Xmlrpc.php	/^		$ar = $o->me;$/;"	v
ar_aliased_tables	system/database/DB_active_rec.php	/^	var $ar_aliased_tables		= array();$/;"	v
ar_cache_exists	system/database/DB_active_rec.php	/^	var $ar_cache_exists		= array();$/;"	v
ar_cache_from	system/database/DB_active_rec.php	/^	var $ar_cache_from			= array();$/;"	v
ar_cache_groupby	system/database/DB_active_rec.php	/^	var $ar_cache_groupby		= array();$/;"	v
ar_cache_having	system/database/DB_active_rec.php	/^	var $ar_cache_having		= array();$/;"	v
ar_cache_join	system/database/DB_active_rec.php	/^	var $ar_cache_join			= array();$/;"	v
ar_cache_like	system/database/DB_active_rec.php	/^	var $ar_cache_like			= array();$/;"	v
ar_cache_no_escape	system/database/DB_active_rec.php	/^	var $ar_cache_no_escape     = array();$/;"	v
ar_cache_orderby	system/database/DB_active_rec.php	/^	var $ar_cache_orderby		= array();$/;"	v
ar_cache_select	system/database/DB_active_rec.php	/^	var $ar_cache_select		= array();$/;"	v
ar_cache_set	system/database/DB_active_rec.php	/^	var $ar_cache_set			= array();$/;"	v
ar_cache_var	system/database/DB_active_rec.php	/^			$ar_cache_var	= 'ar_cache_'.$val;$/;"	v
ar_cache_where	system/database/DB_active_rec.php	/^	var $ar_cache_where			= array();$/;"	v
ar_caching	system/database/DB_active_rec.php	/^		$this->ar_caching = FALSE;$/;"	v
ar_caching	system/database/DB_active_rec.php	/^		$this->ar_caching = TRUE;$/;"	v
ar_caching	system/database/DB_active_rec.php	/^	var $ar_caching				= FALSE;$/;"	v
ar_distinct	system/database/DB_active_rec.php	/^		$this->ar_distinct = (is_bool($val)) ? $val : TRUE;$/;"	v
ar_distinct	system/database/DB_active_rec.php	/^	var $ar_distinct			= FALSE;$/;"	v
ar_from	system/database/DB_active_rec.php	/^	var $ar_from				= array();$/;"	v
ar_groupby	system/database/DB_active_rec.php	/^	var $ar_groupby				= array();$/;"	v
ar_having	system/database/DB_active_rec.php	/^	var $ar_having				= array();$/;"	v
ar_join	system/database/DB_active_rec.php	/^	var $ar_join				= array();$/;"	v
ar_keys	system/database/DB_active_rec.php	/^	var $ar_keys				= array();$/;"	v
ar_like	system/database/DB_active_rec.php	/^	var $ar_like				= array();$/;"	v
ar_limit	system/database/DB_active_rec.php	/^		$this->ar_limit = (int) $value;$/;"	v
ar_limit	system/database/DB_active_rec.php	/^	var $ar_limit				= FALSE;$/;"	v
ar_no_escape	system/database/DB_active_rec.php	/^		$this->ar_no_escape = $this->ar_cache_no_escape;$/;"	v
ar_no_escape	system/database/DB_active_rec.php	/^	var $ar_no_escape 			= array();$/;"	v
ar_offset	system/database/DB_active_rec.php	/^			$this->ar_offset = (int) $offset;$/;"	v
ar_offset	system/database/DB_active_rec.php	/^		$this->ar_offset = $offset;$/;"	v
ar_offset	system/database/DB_active_rec.php	/^	var $ar_offset				= FALSE;$/;"	v
ar_order	system/database/DB_active_rec.php	/^	var $ar_order				= FALSE;$/;"	v
ar_orderby	system/database/DB_active_rec.php	/^	var $ar_orderby				= array();$/;"	v
ar_reset_items	system/database/DB_active_rec.php	/^		$ar_reset_items = array($/;"	v
ar_select	system/database/DB_active_rec.php	/^	var $ar_select				= array();$/;"	v
ar_set	system/database/DB_active_rec.php	/^	var $ar_set					= array();$/;"	v
ar_store_array	system/database/DB_active_rec.php	/^	var $ar_store_array			= array();$/;"	v
ar_variable	system/database/DB_active_rec.php	/^			$ar_variable	= 'ar_'.$val;$/;"	v
ar_where	system/database/DB_active_rec.php	/^	var $ar_where				= array();$/;"	v
ar_wherein	system/database/DB_active_rec.php	/^		$this->ar_wherein = array();$/;"	v
ar_wherein	system/database/DB_active_rec.php	/^	var $ar_wherein				= array();$/;"	v
archive	system/libraries/Zip.php	/^	function archive($filepath)$/;"	f
args	system/core/URI.php	/^		$args = array_slice($_SERVER['argv'], 1);$/;"	v
args	system/database/DB_driver.php	/^			$args = (func_num_args() > 1) ? array_splice(func_get_args(), 1) : null;$/;"	v
args	system/helpers/string_helper.php	/^		$args = func_get_args();$/;"	v
args	system/libraries/Driver.php	/^	public function __call($method, $args = array())$/;"	v
args	system/libraries/Table.php	/^		$args = func_get_args();$/;"	v
args	system/libraries/ckeditor.php	/^			$args = '?t=' . $this->timestamp;$/;"	v
args	system/libraries/ckeditor.php	/^		$args = "";$/;"	v
arr	application/controllers/dsconfig.class.php	/^    $arr=array("a","b","c","d","e","f");$/;"	v
arr	application/controllers/sec.php	/^		$arr = array($/;"	v
arr	application/controllers/showart.php	/^        $arr = array($/;"	v
arr	application/models/img.php	/^            $arr = $this->dataFb($arr);$/;"	v
arr	dsconfig.class.php	/^    $arr=array("a","b","c","d","e","f");$/;"	v
arr	system/database/drivers/sqlite/sqlite_result.php	/^			$arr = sqlite_fetch_array($this->result_id, SQLITE_ASSOC);$/;"	v
arr	system/libraries/Xmlrpc.php	/^			$arr = array();$/;"	v
arrDbClick.a	js/xheditor.min.js	/^(function(){var e={};window.XHEDITOR=e})(),function(e,t){e.mapLang={},e.setLang=function(i,s){s===t&&(s=i,i=""),""!==i&&(i+=".");var a,n;for(var o in s)n=s[o],a=i+o,"string"==typeof n||n instanceof Array?e.mapLang[a]=n:e.setLang(a,n)},e.getLang=function(i){var s=e.mapLang[i];if(s===t&&(s=i.replace(\/{#([^{}]+)}\/g,function(t,i){var s=e.mapLang[i];return s?s:i})),"string"==typeof s){var a=arguments;s=s.replace(\/{\\$(\\d+)}\/g,function(e,i){var s=a[parseInt(i,10)+1];return s!==t?s:e})}return s}}(XHEDITOR),function(XHEDITOR,$,undefined){var agent=navigator.userAgent.toLowerCase(),bMobile=\/mobile\/i.test(agent),browser=$.browser,browerVer=parseFloat(browser.version),isIE=browser.msie,isMozilla=browser.mozilla,isWebkit=browser.webkit,isOpera=browser.opera,isChrome=browser.chrome,bAir=agent.indexOf(" adobeair\/")>-1,xCount=0,bShowPanel=!1,bClickCancel=!0,bShowModal=!1,bCheckEscInit=!1,_jPanel,_jShadow,_jCntLine,_jPanelButton,jModal,jModalShadow,layerShadow,jOverlay,jHideSelect,onModalRemove,editorRoot,getLang=XHEDITOR.getLang;if($("script[src*=xheditor]").each(function(){var e=this.src;return e.match(\/xheditor[^\\\/]*\\.js\/i)?(editorRoot=e.replace(\/[\\?#].*$\/,"").replace(\/(^|[\\\/\\\\])[^\\\/]*$\/,"$1"),!1):undefined}),isIE){try{document.execCommand("BackgroundImageCache",!1,!0)}catch(e){}var jqueryVer=$.fn.jquery;jqueryVer&&jqueryVer.match(\/^1\\.[67]\/)&&($.attrHooks.width=$.attrHooks.height=null)}var specialKeys={27:"esc",9:"tab",32:"space",13:"enter",8:"backspace",145:"scroll",20:"capslock",144:"numlock",19:"pause",45:"insert",36:"home",46:"del",35:"end",33:"pageup",34:"pagedown",37:"left",38:"up",39:"right",40:"down",112:"f1",113:"f2",114:"f3",115:"f4",116:"f5",117:"f6",118:"f7",119:"f8",120:"f9",121:"f10",122:"f11",123:"f12"},arrAlign=[{v:"justifyleft"},{v:"justifycenter"},{v:"justifyright"},{v:"justifyfull"}],arrList=[{v:"insertOrderedList"},{v:"insertUnorderedList"}],htmlPastetext='<div><label for="xhePastetextValue">{#PastetextTip}<\/label><\/div><div><textarea id="xhePastetextValue" wrap="soft" spellcheck="false" style="width:300px;height:100px;" \/><\/div><div style="text-align:right;"><input type="button" id="xheSave" value="{#dialogOk}" \/><\/div>',htmlLink='<div><label for="xheLinkUrl">{#link.url}<\/label><input type="text" id="xheLinkUrl" value="http:\/\/" class="xheText" \/><\/div><div><label for="xheLinkTarget">{#link.target}<\/label><select id="xheLinkTarget"><option selected="selected" value="">{#default}<\/option><option value="_blank">{#link.targetBlank}<\/option><option value="_self">{#link.targetSelf}<\/option><option value="_parent">{#link.targetParent}<\/option><\/select><\/div><div style="display:none"><label for="xheLinkText">{#link.linkText}<\/label><input type="text" id="xheLinkText" value="" class="xheText" \/><\/div><div style="text-align:right;"><input type="button" id="xheSave" value="{#dialogOk}" \/><\/div>',htmlAnchor='<div><label for="xheAnchorName">{#anchor.name}<\/label><input type="text" id="xheAnchorName" value="" class="xheText" \/><\/div><div style="text-align:right;"><input type="button" id="xheSave" value="{#dialogOk}" \/><\/div>',htmlImg='<div><label for="xheImgUrl">{#img.url}<\/label><input type="text" id="xheImgUrl" value="http:\/\/" class="xheText" \/><\/div><div><div><label for="xheImgAlt">{#img.alt}<\/label><input type="text" id="xheImgAlt" \/><\/div><div><label for="xheImgAlign">{#img.align}<\/label><select id="xheImgAlign"><option selected="selected" value="">{#default}<\/option><option value="left">{#img.alignLeft}<\/option><option value="right">{#img.alignRight}<\/option><option value="top">{#img.alignTop}<\/option><option value="middle">{#img.alignMiddle}<\/option><option value="baseline">{#img.alignBaseline}<\/option><option value="bottom">{#img.alignBottom}<\/option><\/select><\/div><div><label for="xheImgWidth">{#img.width}<\/label><input type="text" id="xheImgWidth" style="width:40px;" \/> <label for="xheImgHeight">{#img.height}<\/label><input type="text" id="xheImgHeight" style="width:40px;" \/><\/div><div><label for="xheImgBorder">{#img.border}<\/label><input type="text" id="xheImgBorder" style="width:40px;" \/><\/div><div><label for="xheImgHspace">{#img.hspace}<\/label><input type="text" id="xheImgHspace" style="width:40px;" \/> <label for="xheImgVspace">{#img.vspace}<\/label><input type="text" id="xheImgVspace" style="width:40px;" \/><\/div><div style="text-align:right;"><input type="button" id="xheSave" value="{#dialogOk}" \/><\/div>',htmlFlash='<div><label for="xheFlashUrl">{#flash.url}<\/label><input type="text" id="xheFlashUrl" value="http:\/\/" class="xheText" \/><\/div><div><label for="xheFlashWidth">{#flash.width}<\/label><input type="text" id="xheFlashWidth" style="width:40px;" value="480" \/> <label for="xheFlashHeight">{#flash.height}<\/label><input type="text" id="xheFlashHeight" style="width:40px;" value="400" \/><\/div><div style="text-align:right;"><input type="button" id="xheSave" value="{#dialogOk}" \/><\/div>',htmlMedia='<div><label for="xheMediaUrl">{#media.url}<\/label><input type="text" id="xheMediaUrl" value="http:\/\/" class="xheText" \/><\/div><div><label for="xheMediaWidth">{#media.width}<\/label><input type="text" id="xheMediaWidth" style="width:40px;" value="480" \/> <label for="xheMediaHeight">{#media.height}<\/label><input type="text" id="xheMediaHeight" style="width:40px;" value="400" \/><\/div><div style="text-align:right;"><input type="button" id="xheSave" value="{#dialogOk}" \/><\/div>',htmlTable='<div><label for="xheTableRows">{#table.rows}<\/label><input type="text" id="xheTableRows" style="width:40px;" value="3" \/> <label for="xheTableColumns">{#table.columns}<\/label><input type="text" id="xheTableColumns" style="width:40px;" value="2" \/><\/div><div><label for="xheTableHeaders">{#table.headers}<\/label><select id="xheTableHeaders"><option selected="selected" value="">{#none}<\/option><option value="row">{#table.headersRow}<\/option><option value="col">{#table.headersCol}<\/option><option value="both">{#table.headersBoth}<\/option><\/select><\/div><div><label for="xheTableWidth">{#table.width}<\/label><input type="text" id="xheTableWidth" style="width:40px;" value="200" \/> <label for="xheTableHeight">{#table.height}<\/label><input type="text" id="xheTableHeight" style="width:40px;" value="" \/><\/div><div><label for="xheTableBorder">{#table.border}<\/label><input type="text" id="xheTableBorder" style="width:40px;" value="1" \/><\/div><div><label for="xheTableCellSpacing">{#table.cellSpacing}<\/label><input type="text" id="xheTableCellSpacing" style="width:40px;" value="1" \/> <label for="xheTableCellPadding">{#table.cellPadding}<\/label><input type="text" id="xheTableCellPadding" style="width:40px;" value="1" \/><\/div><div><label for="xheTableAlign">{#table.align}<\/label><select id="xheTableAlign"><option selected="selected" value="">{#default}<\/option><option value="left">{#table.alignLeft}<\/option><option value="center">{#table.alignCenter}<\/option><option value="right">{#table.alignRight}<\/option><\/select><\/div><div><label for="xheTableCaption">{#table.caption}<\/label><input type="text" id="xheTableCaption" \/><\/div><div style="text-align:right;"><input type="button" id="xheSave" value="{#dialogOk}" \/><\/div>',htmlAbout='<div style="font:12px Arial;width:245px;word-wrap:break-word;word-break:break-all;outline:none;" role="dialog" tabindex="-1"><p><span style="font-size:20px;color:#1997DF;">xhEditor<\/span><br \/>v1.2.1 (build 130225)<\/p><p>{#aboutXheditor}<\/p><p>Copyright &copy; <a href="http:\/\/xheditor.com\/" target="_blank">xhEditor.com<\/a>. All rights reserved.<\/p><\/div>',itemEmots={"default":{name:"{#default}",width:24,height:24,line:7,list:["smile","tongue","titter","laugh","sad","wronged","fastcry","cry","wail","mad","knock","curse","crazy","angry","ohmy","awkward","panic","shy","cute","envy","proud","struggle","quiet","shutup","doubt","despise","sleep","bye"]}},arrTools={Cut:{t:"Cut"},Copy:{t:"Copy"},Paste:{t:"Paste"},Pastetext:{t:"Pastetext",h:isIE?0:1},Blocktag:{t:"Blocktag",h:1},Fontface:{t:"Fontface",h:1},FontSize:{t:"FontSize",h:1},Bold:{t:"Bold",s:"Ctrl+B"},Italic:{t:"Italic",s:"Ctrl+I"},Underline:{t:"Underline",s:"Ctrl+U"},Strikethrough:{t:"Strikethrough"},FontColor:{t:"FontColor",h:1},BackColor:{t:"BackColor",h:1},SelectAll:{t:"SelectAll"},Removeformat:{t:"Removeformat"},Align:{t:"Align",h:1},List:{t:"List",h:1},Outdent:{t:"Outdent"},Indent:{t:"Indent"},Link:{t:"Link",s:"Ctrl+L",h:1},Unlink:{t:"Unlink"},Anchor:{t:"Anchor",h:1},Img:{t:"Img",h:1},Flash:{t:"Flash",h:1},Media:{t:"Media",h:1},Hr:{t:"Hr"},Emot:{t:"Emot",s:"ctrl+e",h:1},Table:{t:"Table",h:1},Source:{t:"Source"},Preview:{t:"Preview"},Print:{t:"Print",s:"Ctrl+P"},Fullscreen:{t:"Fullscreen",s:"Esc"},About:{t:"About"}},toolsThemes={mini:"Bold,Italic,Underline,Strikethrough,|,Align,List,|,Link,Img",simple:"Blocktag,Fontface,FontSize,Bold,Italic,Underline,Strikethrough,FontColor,BackColor,|,Align,List,Outdent,Indent,|,Link,Img,Emot",full:"Cut,Copy,Paste,Pastetext,|,Blocktag,Fontface,FontSize,Bold,Italic,Underline,Strikethrough,FontColor,BackColor,SelectAll,Removeformat,|,Align,List,Outdent,Indent,|,Link,Unlink,Anchor,Img,Flash,Media,Hr,Emot,Table,|,Source,Preview,Print,Fullscreen"};toolsThemes.mfull=toolsThemes.full.replace(\/\\|(,Align)\/i,"\/$1");var arrDbClick={a:"Link",img:"Img",embed:"Embed"},uploadInputname="filedata",arrEntities={"<":"&lt;",">":"&gt;",'"':"&quot;","\\u00ae":"&reg;","\\u00a9":"&copy;"},regEntities=\/[<>"\\u00ae\\u00a9]\/g,Xheditor=function(textarea,options){function checkDblClick(e){var t=e.target,i=arrDbClick[t.tagName.toLowerCase()];if(i){if("Embed"===i){var s={"application\/x-shockwave-flash":"Flash","application\/x-mplayer2":"Media"};i=s[t.type.toLowerCase()]}_this.exec(i)}}function checkEsc(e){return 27===e.which?(bShowModal?_this.removeModal():bShowPanel&&_this.hidePanel(),!1):undefined}function loadReset(){setTimeout(_this.setSource,10)}function saveResult(){_this.getSource()}function cleanPaste(e){var t,i,s;if(e&&(t=e.originalEvent.clipboardData)&&(i=t.items)&&(s=i[0])&&"file"==s.kind&&s.type.match(\/^image\\\/\/i)){var a=s.getAsFile(),n=new FileReader;return n.onload=function(){var e='<img src="'+event.target.result+'">';e=replaceRemoteImg(e),_this.pasteHTML(e)},n.readAsDataURL(a),!1}var o=settings.cleanPaste;if(0===o||bSource||bCleanPaste)return!0;bCleanPaste=!0,_this.saveBookmark();var l=isIE?"pre":"div",r=$("<"+l+' class="xhe-paste">\\ufeff\\ufeff<\/'+l+">",_doc).appendTo(_doc.body),h=r[0],c=_this.getSel(),d=_this.getRng(!0);r.css("top",_jWin.scrollTop()),isIE?(d.moveToElementText(h),d.select()):(d.selectNodeContents(h),c.removeAllRanges(),c.addRange(d)),setTimeout(function(){var e,t=3===o;if(t)r.html(r.html().replace(\/<br(\\s+[^<>]*)?>\/gi,"\\n")),e=r.text();else{var i=$(".xhe-paste",_doc.body),s=[];i.each(function(e,t){0==$(t).find(".xhe-paste").length&&s.push(t.innerHTML)}),e=s.join("<br \/>")}r.remove(),_this.loadBookmark(),e=e.replace(\/^[\\s\\uFEFF]+|[\\s\\uFEFF]+$\/g,""),e&&(t?_this.pasteText(e):(e=_this.cleanHTML(e),e=_this.cleanWord(e),e=_this.formatXHTML(e),(!settings.onPaste||settings.onPaste&&(e=settings.onPaste(e))!==!1)&&(e=replaceRemoteImg(e),_this.pasteHTML(e)))),bCleanPaste=!1},0)}function replaceRemoteImg(e){var t=settings.localUrlTest,i=settings.remoteImgSaveUrl;if(t&&i){var s=[],a=0;e=e.replace(\/(<img)((?:\\s+[^>]*?)?(?:\\s+src="\\s*([^"]+)\\s*")(?: [^>]*)?)(\\\/?>)\/gi,function(e,i,n,o,l){return!\/^(https?|data:image)\/i.test(o)||\/_xhe_temp\/.test(n)||t.test(o)||(s[a]=o,n=n.replace(\/\\s+(width|height)="[^"]*"\/gi,"").replace(\/\\s+src="[^"]*"\/gi,' src="'+skinPath+'img\/waiting.gif" remoteimg="'+a++ +'"')),i+n+l}),s.length>0&&$.post(i,{urls:s.join("|")},function(e){e=e.split("|"),$("img[remoteimg]",_this.doc).each(function(){var t=$(this);xheAttr(t,"src",e[t.attr("remoteimg")]),t.removeAttr("remoteimg")})})}return e}function setCSS(e){try{_this._exec("styleWithCSS",e,!0)}catch(t){try{_this._exec("useCSS",!e,!0)}catch(t){}}}function setOpts(){if(bInit&&!bSource){setCSS(!1);try{_this._exec("enableObjectResizing",!0,!0)}catch(e){}if(isIE)try{_this._exec("BackgroundImageCache",!0,!0)}catch(e){}}}function forcePtag(e){if(bSource||13!==e.which||e.shiftKey||e.ctrlKey||e.altKey)return!0;var t=_this.getParent("p,h1,h2,h3,h4,h5,h6,pre,address,div,li");return t.is("li")?!0:settings.forcePtag?(0===t.length&&_this._exec("formatblock","<p>"),undefined):(_this.pasteHTML("<br \/>"),isIE&&t.length>0&&2===_this.getRng().parentElement().childNodes.length&&_this.pasteHTML("<br \/>"),!1)}function fixFullHeight(){isMozilla||isWebkit||(bFullscreen&&_jArea.height("100%").css("height",_jArea.outerHeight()-_jTools.outerHeight()),isIE&&_jTools.hide().show())}function fixAppleSel(e){if(e=e.target,e.tagName.match(\/(img|embed)\/i)){var t=_this.getSel(),i=_this.getRng(!0);i.selectNode(e),t.removeAllRanges(),t.addRange(i)}}function xheAttr(e,t,i){if(!t)return!1;var s="_xhe_"+t;return i&&(urlType&&(i=getLocalUrl(i,urlType,urlBase)),e.attr(t,urlBase?getLocalUrl(i,"abs",urlBase):i).removeAttr(s).attr(s,i)),e.attr(s)||e.attr(t)}function clickCancelPanel(){bClickCancel&&_this.hidePanel()}function checkShortcuts(e){if(bSource)return!0;var t=e.which,i=specialKeys[t],s=i?i:String.fromCharCode(t).toLowerCase();sKey="",sKey+=e.ctrlKey?"ctrl+":"",sKey+=e.altKey?"alt+":"",sKey+=e.shiftKey?"shift+":"",sKey+=s;var a,n=arrShortCuts[sKey];for(a in n){if(a=n[a],!$.isFunction(a))return _this.exec(a),!1;if(a.call(_this)===!1)return!1}}function is(e,t){var i=typeof e;return t?"array"===t&&e.hasOwnProperty&&e instanceof Array?!0:i===t:"undefined"!=i}function getLocalUrl(e,t,i){if(e.match(\/^(\\w+):\\\/\\\/\/i)&&!e.match(\/^https?:\/i)||\/^#\/i.test(e)||\/^data:\/i.test(e))return e;var s=i?$('<a href="'+i+'" \/>')[0]:location,a=s.protocol,n=s.host,o=s.hostname,l=s.port,r=s.pathname.replace(\/\\\\\/g,"\/").replace(\/[^\\\/]+$\/i,"");if(""===l&&(l="80"),""===r?r="\/":"\/"!==r.charAt(0)&&(r="\/"+r),e=$.trim(e),"abs"!==t&&(e=e.replace(RegExp(a+"\\\\\/\\\\\/"+o.replace(\/\\.\/g,"\\\\.")+"(?::"+l+")"+("80"===l?"?":"")+"(\/|$)","i"),"\/")),"rel"===t&&(e=e.replace(RegExp("^"+r.replace(\/([\\\/\\.\\+\\[\\]\\(\\)])\/g,"\\\\$1"),"i"),"")),"rel"!==t&&(e.match(\/^(https?:\\\/\\\/|\\\/)\/i)||(e=r+e),"\/"===e.charAt(0))){var h,c,d=[],u=e.split("\/"),p=u.length;for(c=0;p>c;c++)h=u[c],".."===h?d.pop():""!==h&&"."!==h&&d.push(h);""===u[p-1]&&d.push(""),e="\/"+d.join("\/")}return"abs"!==t||e.match(\/^https?:\\\/\\\/\/i)||(e=a+"\/\/"+n+e),e=e.replace(\/(https?:\\\/\\\/[^:\\\/?#]+):80(\\\/|$)\/i,"$1$2")}function checkFileExt(e,t){return"*"===t||e.match(RegExp(".("+t.replace(\/,\/g,"|")+")$","i"))?!0:(alert(getLang("upload.extLimit",t)),!1)}function formatBytes(e){var t=["Byte","KB","MB","GB","TB","PB"],i=Math.floor(Math.log(e)\/Math.log(1024));return(e\/Math.pow(1024,Math.floor(i))).toFixed(2)+t[i]}function returnFalse(){return!1}var _this=this,_text=textarea,_jText=$(_text),_jForm=_jText.closest("form"),_jTools,_jArea,_win,_jWin,_doc,_jDoc,bookmark,bInit=!1,bSource=!1,bFullscreen=!1,bCleanPaste=!1,outerScroll,bShowBlocktag=!1,sLayoutStyle="",ev=null,timer,bDisableHoverExec=!1,bQuickHoverExec=!1,lastPoint=null,lastAngle=null,editorHeight=0,settings=_this.settings=$.extend({},XHEDITOR.settings,options),plugins=settings.plugins,strPlugins=[];if(plugins&&(arrTools=$.extend({},arrTools,plugins),$.each(plugins,function(e){strPlugins.push(e)}),strPlugins=strPlugins.join(",")),settings.tools.match(\/^\\s*(m?full|simple|mini)\\s*$\/i)){var toolsTheme=toolsThemes[$.trim(settings.tools)];settings.tools=settings.tools.match(\/m?full\/i)&&plugins?toolsTheme.replace("Table","Table,"+strPlugins):toolsTheme}settings.tools.match(\/(^|,)\\s*About\\s*(,|$)\/i)||(settings.tools+=",About"),settings.tools=settings.tools.split(","),settings.editorRoot&&(editorRoot=settings.editorRoot),bAir===!1&&(editorRoot=getLocalUrl(editorRoot,"abs")),settings.urlBase&&(settings.urlBase=getLocalUrl(settings.urlBase,"abs"));var idCSS="xheCSS_"+settings.skin,idContainer="xhe"+xCount+"_container",idTools="xhe"+xCount+"_Tool",idIframeArea="xhe"+xCount+"_iframearea",idIframe="xhe"+xCount+"_iframe",idFixFFCursor="xhe"+xCount+"_fixffcursor",headHTML="",bodyClass="",skinPath=editorRoot+"xheditor_skin\/"+settings.skin+"\/",arrEmots=itemEmots,urlType=settings.urlType,urlBase=settings.urlBase,emotPath=settings.emotPath,emotPath=emotPath?emotPath:editorRoot+"xheditor_emot\/",selEmotGroup="";arrEmots=$.extend({},arrEmots,settings.emots),emotPath=getLocalUrl(emotPath,"rel",urlBase?urlBase:null),bShowBlocktag=settings.showBlocktag,bShowBlocktag&&(bodyClass+=" showBlocktag");var arrShortCuts=[];this.init=function(){function e(e){var t,i=$(e.target);(t=i.css("width"))&&i.css("width","").attr("width",t.replace(\/[^0-9%]+\/g,"")),(t=i.css("height"))&&i.css("height","").attr("height",t.replace(\/[^0-9%]+\/g,""))}0===$("#"+idCSS).length&&$("head").append('<link id="'+idCSS+'" rel="stylesheet" type="text\/css" href="'+skinPath+'ui.css" \/>');var t=_jText.outerWidth(),i=_jText.outerHeight(),s=settings.width||_text.style.width||(t>10?t:0);editorHeight=settings.height||_text.style.height||(i>10?i:150),\/^\\d+(?:\\.\\d+)?$\/.test(s)&&(s+="px"),is(editorHeight,"string")&&(editorHeight=editorHeight.replace(\/[^\\d]+\/g,""));var a,n,o=settings.background||_text.style.background,l=['<span class="xheGStart"\/>'],r=\/\\||\\\/\/i;$.each(settings.tools,function(e,t){if(t.match(r)&&l.push('<span class="xheGEnd"\/>'),"|"===t)l.push('<span class="xheSeparator"\/>');else if("\/"===t)l.push("<br \/>");else{if(a=arrTools[t],!a)return;n=a.c?a.c:"xheIcon xheBtn"+t,l.push('<span><a href="#" title="{#'+a.t+'}" cmd="'+t+'" class="xheButton xheEnabled" tabindex="-1" role="button"><span class="'+n+'" unselectable="on" style="font-size:0;color:transparent;text-indent:-999px;">'+a.t+"<\/span><\/a><\/span>"),a.s&&_this.addShortcuts(a.s,t)}t.match(r)&&l.push('<span class="xheGStart"\/>')}),l.push('<span class="xheGEnd"\/><br \/>'),_jText.after($('<input type="text" id="'+idFixFFCursor+'" style="position:absolute;display:none;" \/><span id="'+idContainer+'" class="xhe_'+settings.skin+'" style="display:none"><table cellspacing="0" cellpadding="0" class="xheLayout" style="'+("0px"!=s?"width:"+s+";":"")+"height:"+editorHeight+'px;" role="presentation"><tr><td id="'+idTools+'" class="xheTool" unselectable="on" style="height:1px;" role="presentation"><\/td><\/tr><tr><td id="'+idIframeArea+'" class="xheIframeArea" role="presentation"><iframe frameborder="0" id="'+idIframe+'" src="javascript:;" style="width:100%;"><\/iframe><\/td><\/tr><\/table><\/span>')),_jTools=$("#"+idTools),_jArea=$("#"+idIframeArea),headHTML='<meta http-equiv="Content-Type" content="text\/html; charset=utf-8" \/><link rel="stylesheet" href="'+skinPath+'iframe.css"\/>';var h=settings.loadCSS;if(h)if(is(h,"array"))for(var c in h)headHTML+='<link rel="stylesheet" href="'+h[c]+'"\/>';else headHTML+=h.match(\/\\s*<style(\\s+[^>]*?)?>[\\s\\S]+?<\\\/style>\\s*\/i)?h:'<link rel="stylesheet" href="'+h+'"\/>';var d='<!DOCTYPE html><html xmlns="http:\/\/www.w3.org\/1999\/xhtml"><head>'+headHTML+"<title>{#defaultReadTip} "+(settings.readTip?settings.readTip:"")+"<\/title>";o&&(d+="<style>html{background:"+o+";}<\/style>"),d+='<\/head><body spellcheck="0" class="editMode'+bodyClass+'"><\/body><\/html>',_this.win=_win=$("#"+idIframe)[0].contentWindow,_jWin=$(_win);try{this.doc=_doc=_win.document,_jDoc=$(_doc),_doc.open(),_doc.write(getLang(d)),_doc.close(),isIE?_doc.body.contentEditable="true":_doc.designMode="On"}catch(u){}setTimeout(setOpts,300),_this.setSource(),_win.setInterval=null,_jTools.append(getLang(l.join(""))).bind("mousedown contextmenu",returnFalse).click(function(e){var t=$(e.target).closest("a");return t.is(".xheEnabled")&&(clearTimeout(timer),_jTools.find("a").attr("tabindex","-1"),ev=e,_this.exec(t.attr("cmd"))),!1}),_jTools.find(".xheButton").hover(function(e){var t=$(this),i=settings.hoverExecDelay,s=lastAngle;if(lastAngle=null,-1===i||bDisableHoverExec||!t.is(".xheEnabled"))return!1;if(s&&s>10)return bDisableHoverExec=!0,setTimeout(function(){bDisableHoverExec=!1},100),!1;var a=t.attr("cmd"),n=1===arrTools[a].h;return n?(bQuickHoverExec&&(i=0),i>=0&&(timer=setTimeout(function(){ev=e,lastPoint={x:ev.clientX,y:ev.clientY},_this.exec(a)},i)),undefined):(_this.hidePanel(),!1)},function(){lastPoint=null,timer&&clearTimeout(timer)}).mousemove(function(e){if(lastPoint){var t={x:e.clientX-lastPoint.x,y:e.clientY-lastPoint.y};if(Math.abs(t.x)>1||Math.abs(t.y)>1){if(t.x>0&&t.y>0){var i=Math.round(Math.atan(t.y\/t.x)\/.017453293);lastAngle=lastAngle?(lastAngle+i)\/2:i}else lastAngle=null;lastPoint={x:e.clientX,y:e.clientY}}}}),_jPanel=$("#xhePanel"),_jShadow=$("#xheShadow"),_jCntLine=$("#xheCntLine"),0===_jPanel.length&&(_jPanel=$('<div id="xhePanel"><\/div>').mousedown(function(e){e.stopPropagation()}),_jShadow=$('<div id="xheShadow"><\/div>'),_jCntLine=$('<div id="xheCntLine"><\/div>'),setTimeout(function(){$(document.body).append(_jPanel).append(_jShadow).append(_jCntLine)},10)),$("#"+idContainer).show(),_jText.hide(),_jArea.css("height",editorHeight-_jTools.outerHeight()),isIE&8>browerVer&&setTimeout(function(){_jArea.css("height",editorHeight-_jTools.outerHeight())},1),_jText.focus(_this.focus),_jForm.submit(saveResult).bind("reset",loadReset),settings.submitID&&$("#"+settings.submitID).mousedown(saveResult),$(window).bind("unload beforeunload",saveResult).bind("resize",fixFullHeight),$(document).mousedown(clickCancelPanel),bCheckEscInit||($(document).keydown(checkEsc),bCheckEscInit=!0),_jWin.focus(function(){settings.focus&&settings.focus()}).blur(function(){settings.blur&&settings.blur()}),isWebkit&&_jWin.click(fixAppleSel),_jDoc.mousedown(clickCancelPanel).keydown(checkShortcuts).keypress(forcePtag).dblclick(checkDblClick).bind("mousedown click",function(e){_jText.trigger(e.type)}),isIE&&(_jDoc.keydown(function(e){var t=_this.getRng();return 8===e.which&&t.item?($(t.item(0)).remove(),!1):undefined}),_jDoc.bind("controlselect",function(t){t=t.target,$.nodeName(t,"IMG")&&$(t).unbind("resizeend",e).bind("resizeend",e)})),_jDoc.keydown(function(e){var t=e.which;return e.altKey&&t>=49&&57>=t?(_jTools.find("a").attr("tabindex","0"),_jTools.find(".xheGStart").eq(t-49).next().find("a").focus(),_doc.title="\\ufeff\\ufeff",!1):undefined}).click(function(){_jTools.find("a").attr("tabindex","-1")}),_jTools.keydown(function(e){var t=e.which;if(27==t)_jTools.find("a").attr("tabindex","-1"),_this.focus();else if(e.altKey&&t>=49&&57>=t)return _jTools.find(".xheGStart").eq(t-49).next().find("a").focus(),!1});var p=$(_doc.documentElement);isOpera?p.bind("keydown",function(e){e.ctrlKey&&86===e.which&&cleanPaste()}):p.bind(isIE?"beforepaste":"paste",cleanPaste),settings.disableContextmenu&&p.bind("contextmenu",returnFalse),settings.html5Upload&&p.bind("dragenter dragover",function(e){var t;return(t=e.originalEvent.dataTransfer.types)&&-1!==$.inArray("Files",t)?!1:undefined}).bind("drop",function(e){function t(e){var t,i,s;for(a=0;e.length>a;a++){if(i=e[a].name.replace(\/.+\\.\/,""),!(t=o.match(RegExp("(\\\\w+):[^:]*,"+i+"(?:,|$)","i"))))return 1;if(s){if(s!==t[1])return 2}else s=t[1]}return s}var i,s=e.originalEvent.dataTransfer;if(s&&(i=s.files)&&i.length>0){var a,n,o,l=["Link","Img","Flash","Media"],r=[];for(a in l)n=l[a],settings["up"+n+"Url"]&&settings["up"+n+"Url"].match(\/^[^!].*\/i)&&r.push(n+":,"+settings["up"+n+"Ext"]);return 0===r.length?!1:(o=r.join(","),n=t(i),1===n?alert(getLang("upload.extLimit",o.replace(\/\\w+:,\/g,""))):2===n?alert(getLang("upload.typeLimit")):n&&_this.startUpload(i,settings["up"+n+"Url"],"*",function(e){var t,i=[],s=settings.onUpload;s&&s(e);for(var a=0,o=e.length;o>a;a++)t=e[a],url=is(t,"string")?t:t.url,"!"===url.substr(0,1)&&(url=url.substr(1)),i.push(url);_this.exec(n),$("#xhe"+n+"Url").val(i.join(" ")),$("#xheSave").click()}),!1)}});var g=settings.shortcuts;g&&$.each(g,function(e,t){_this.addShortcuts(e,t)}),xCount++,bInit=!0,settings.fullscreen?_this.toggleFullscreen():settings.sourceMode&&setTimeout(_this.toggleSource,20);var f=settings.plugins;return f&&$.each(f,function(e,t){var i=t.i;i!==undefined&&i(_this)}),!0},this.remove=function(){_this.hidePanel(),saveResult(),_jText.unbind("focus",_this.focus),_jForm.unbind("submit",saveResult).unbind("reset",loadReset),settings.submitID&&$("#"+settings.submitID).unbind("mousedown",saveResult),$(window).unbind("unload beforeunload",saveResult).unbind("resize",fixFullHeight),$(document).unbind("mousedown",clickCancelPanel),$("#"+idContainer).remove(),$("#"+idFixFFCursor).remove(),_jText.show(),bInit=!1},this.saveBookmark=function(){if(!bSource){_this.focus();var e=_this.getRng();e=e.cloneRange?e.cloneRange():e,bookmark={top:_jWin.scrollTop(),rng:e}}},this.loadBookmark=function(){if(!bSource&&bookmark){_this.focus();var e=bookmark.rng;if(isIE)e.select();else{var t=_this.getSel();t.removeAllRanges(),t.addRange(e)}_jWin.scrollTop(bookmark.top),bookmark=null}},this.focus=function(){if(bSource?$("#sourceCode",_doc).focus():_win.focus(),isIE){var e=_this.getRng();e.parentElement&&e.parentElement().ownerDocument!==_doc&&_this.setTextCursor()}return!1},this.setTextCursor=function(e){var t=_this.getRng(!0),i=_doc.body;if(isIE)t.moveToElementText(i);else{for(var s=e?"lastChild":"firstChild";3!=i.nodeType&&i[s];)i=i[s];t.selectNode(i)}if(t.collapse(e?!1:!0),isIE)t.select();else{var a=_this.getSel();a.removeAllRanges(),a.addRange(t)}},this.getSel=function(){return _doc.selection?_doc.selection:_win.getSelection()},this.getRng=function(e){var t,i;try{e||(t=_this.getSel(),i=t.createRange?t.createRange():t.rangeCount>0?t.getRangeAt(0):null),i||(i=_doc.body.createTextRange?_doc.body.createTextRange():_doc.createRange())}catch(s){}return i},this.getParent=function(e){var t,i=_this.getRng();return isIE?t=i.item?i.item(0):i.parentElement():(t=i.commonAncestorContainer,i.collapsed||i.startContainer===i.endContainer&&2>i.startOffset-i.endOffset&&i.startContainer.hasChildNodes()&&(t=i.startContainer.childNodes[i.startOffset])),e=e?e:"*",t=$(t),t.is(e)||(t=$(t).closest(e)),t},this.getSelect=function(e){var t=_this.getSel(),i=_this.getRng(),s=!0;if(s=!i||i.item?!1:!t||0===i.boundingWidth||i.collapsed,"text"===e)return s?"":i.text||(t.toString?""+t:"");var a;if(i.cloneContents){var n,o=$("<div><\/div>");n=i.cloneContents(),n&&o.append(n),a=o.html()}else a=is(i.item)?i.item(0).outerHTML:is(i.htmlText)?i.htmlText:""+i;return s&&(a=""),a=_this.processHTML(a,"read"),a=_this.cleanHTML(a),a=_this.formatXHTML(a)},this.pasteHTML=function(e,t){if(bSource)return!1;_this.focus(),e=_this.processHTML(e,"write");var i=_this.getSel(),s=_this.getRng();if(t!==undefined){if(s.item){var a=s.item(0);s=_this.getRng(!0),s.moveToElementText(a),s.select()}s.collapse(t)}if(e+="<"+(isIE?"img":"span")+' id="_xhe_temp" width="0" height="0" \/>',s.insertNode){if($(s.startContainer).closest("style,script").length>0)return!1;s.deleteContents(),s.insertNode(s.createContextualFragment(e))}else"control"===i.type.toLowerCase()&&(i.clear(),s=_this.getRng()),s.pasteHTML(e);var n=$("#_xhe_temp",_doc),o=n[0];isIE?(s.moveToElementText(o),s.select()):(s.selectNode(o),i.removeAllRanges(),i.addRange(s)),n.remove()},this.pasteText=function(e,t){e||(e=""),e=_this.domEncode(e),e=e.replace(\/\\r?\\n\/g,"<br \/>"),_this.pasteHTML(e,t)},this.appendHTML=function(e){return bSource?!1:(_this.focus(),e=_this.processHTML(e,"write"),$(_doc.body).append(e),_this.setTextCursor(!0),undefined)},this.domEncode=function(e){return e.replace(regEntities,function(e){return arrEntities[e]})},this.setSource=function(e){bookmark=null,"string"!=typeof e&&""!==e&&(e=_text.value),bSource?$("#sourceCode",_doc).val(e):(settings.beforeSetSource&&(e=settings.beforeSetSource(e)),e=_this.cleanHTML(e),e=_this.formatXHTML(e),e=_this.processHTML(e,"write"),isIE?(_doc.body.innerHTML='<img id="_xhe_temp" width="0" height="0" \/>'+e,$("#_xhe_temp",_doc).remove()):_doc.body.innerHTML=e)},this.processHTML=function(e,t){function i(e,t,i,s,a,o){var l,r,h,c,d="";if(l=s.match(\/font-family\\s*:\\s*([^;"]+)\/i),l&&(d+=' face="'+l[1]+'"'),r=s.match(\/font-size\\s*:\\s*([^;"]+)\/i)){r=r[1].toLowerCase();for(var u=0;n.length>u;u++)if(r===n[u].n||r===n[u].s){h=u+1;break}h&&(d+=' size="'+h+'"',s=s.replace(\/(^|;)(\\s*font-size\\s*:\\s*[^;"]+;?)+\/gi,"$1"))}if(c=s.match(\/(?:^|[\\s;])color\\s*:\\s*([^;"]+)\/i)){var p;if(p=c[1].match(\/\\s*rgb\\s*\\(\\s*(\\d+)\\s*,\\s*(\\d+)\\s*,\\s*(\\d+)\\s*\\)\/i)){c[1]="#";for(var g=1;3>=g;g++)c[1]+=("0"+(p[g]-0).toString(16)).slice(-2)}c[1]=c[1].replace(\/^#([0-9a-f])([0-9a-f])([0-9a-f])$\/i,"#$1$1$2$2$3$3"),d+=' color="'+c[1]+'"'}return s=s.replace(\/(^|;)(\\s*(font-family|color)\\s*:\\s*[^;"]+;?)+\/gi,"$1"),""!==d?(s&&(d+=' style="'+s+'"'),"<font"+(i?i:"")+d+(a?a:"")+">"+o+"<\/font>"):e}function s(e,t,i,s,a){for(var n,l,r=(i?i:"")+(s?s:""),h=[],c=[],d=0;o.length>d;d++)n=o[d].r,l=o[d].t,r=r.replace(n,function(){return h.push("<"+l+">"),c.push("<\/"+l+">"),""});return r=r.replace(\/\\s+style\\s*=\\s*"\\s*"\/i,""),(r?"<span"+r+">":"")+h.join("")+a+c.join("")+(r?"<\/span>":"")}var a=' class="Apple-style-span"',n=settings.listFontsize;if("write"===t)e=e.replace(\/(<(\\\/?)(\\w+))((?:\\s+[\\w\\-:]+\\s*=\\s*(?:"[^"]*"|'[^']*'|[^>\\s]+))*)\\s*((\\\/?)>)\/g,function(e,t,i,s,n,o,l){s=s.toLowerCase(),isMozilla?"strong"===s?s="b":"em"===s&&(s="i"):isWebkit&&("strong"===s?(s="span",i||(n+=a+' style="font-weight: bold;"')):"em"===s?(s="span",i||(n+=a+' style="font-style: italic;"')):"u"===s?(s="span",i||(n+=a+' style="text-decoration: underline;"')):"strike"===s&&(s="span",i||(n+=a+' style="text-decoration: line-through;"')));var r,h="";if("del"===s)s="strike";else if("img"===s)n=n.replace(\/\\s+emot\\s*=\\s*("[^"]*"|'[^']*'|[^>\\s]+)\/i,function(e,t){return r=t.match(\/^(["']?)(.*)\\1\/)[2],r=r.split(","),r[1]||(r[1]=r[0],r[0]=""),"default"===r[0]&&(r[0]=""),settings.emotMark?e:""});else if("a"===s)!n.match(\/ href=[^ ]\/i)&&n.match(\/ name=[^ ]\/i)&&(h+=" xhe-anchor"),l&&(o="><\/a>");else if("table"===s&&!i){var c=n.match(\/\\s+border\\s*=\\s*("[^"]*"|'[^']*'|[^>\\s]+)\/i);(!c||c[1].match(\/^(["']?)\\s*0\\s*\\1$\/))&&(h+=" xhe-border")}var d;if(n=n.replace(\/\\s+([\\w\\-:]+)\\s*=\\s*("[^"]*"|'[^']*'|[^>\\s]+)\/g,function(e,t,i){return t=t.toLowerCase(),i=i.match(\/^(["']?)(.*)\\1\/)[2],aft="",isIE&&t.match(\/^(disabled|checked|readonly|selected)$\/)&&i.match(\/^(false|0)$\/i)?"":"img"===s&&r&&"src"===t?"":(t.match(\/^(src|href)$\/)&&(aft=" _xhe_"+t+'="'+i+'"',urlBase&&(i=getLocalUrl(i,"abs",urlBase))),h&&"class"===t&&(i+=" "+h,h=""),isWebkit&&"style"===t&&"span"===s&&i.match(\/(^|;)\\s*(font-family|font-size|color|background-color)\\s*:\\s*[^;]+\\s*(;|$)\/i)&&(d=!0)," "+t+'="'+i+'"'+aft)}),r){var u=emotPath+(r[0]?r[0]:"default")+"\/"+r[1]+".gif";n+=' src="'+u+'" _xhe_src="'+u+'"'}return d&&(n+=a),h&&(n+=' class="'+h+'"'),"<"+i+s+n+o}),isIE&&(e=e.replace(\/&apos;\/gi,"&#39;")),isWebkit||(e=e.replace(\/<(span)(\\s+[^>]*?)?\\s+style\\s*=\\s*"((?:[^"]*?;)?\\s*(?:font-family|font-size|color)\\s*:[^"]*)"( [^>]*)?>(((?!<\\1(\\s+[^>]*?)?>)[\\s\\S]|<\\1(\\s+[^>]*?)?>((?!<\\1(\\s+[^>]*?)?>)[\\s\\S]|<\\1(\\s+[^>]*?)?>((?!<\\1(\\s+[^>]*?)?>)[\\s\\S])*?<\\\/\\1>)*?<\\\/\\1>)*?)<\\\/\\1>\/gi,i),e=e.replace(\/<(span)(\\s+[^>]*?)?\\s+style\\s*=\\s*"((?:[^"]*?;)?\\s*(?:font-family|font-size|color)\\s*:[^"]*)"( [^>]*)?>(((?!<\\1(\\s+[^>]*?)?>)[\\s\\S]|<\\1(\\s+[^>]*?)?>((?!<\\1(\\s+[^>]*?)?>)[\\s\\S])*?<\\\/\\1>)*?)<\\\/\\1>\/gi,i),e=e.replace(\/<(span)(\\s+[^>]*?)?\\s+style\\s*=\\s*"((?:[^"]*?;)?\\s*(?:font-family|font-size|color)\\s*:[^"]*)"( [^>]*)?>(((?!<\\1(\\s+[^>]*?)?>)[\\s\\S])*?)<\\\/\\1>\/gi,i)),e=e.replace(\/<(td|th)(\\s+[^>]*?)?>(\\s|&nbsp;)*<\\\/\\1>\/gi,"<$1$2>"+(isIE?"":"<br \/>")+"<\/$1>");else{if(isWebkit)for(var o=[{r:\/font-weight\\s*:\\s*bold;?\/gi,t:"strong"},{r:\/font-style\\s*:\\s*italic;?\/gi,t:"em"},{r:\/text-decoration\\s*:\\s*underline;?\/gi,t:"u"},{r:\/text-decoration\\s*:\\s*line-through;?\/gi,t:"strike"}],l=0;2>l;l++)e=e.replace(\/<(span)(\\s+[^>]*?)?\\s+class\\s*=\\s*"Apple-style-span"(\\s+[^>]*?)?>(((?!<\\1(\\s+[^>]*?)?>)[\\s\\S]|<\\1(\\s+[^>]*?)?>((?!<\\1(\\s+[^>]*?)?>)[\\s\\S]|<\\1(\\s+[^>]*?)?>((?!<\\1(\\s+[^>]*?)?>)[\\s\\S])*?<\\\/\\1>)*?<\\\/\\1>)*?)<\\\/\\1>\/gi,s),e=e.replace(\/<(span)(\\s+[^>]*?)?\\s+class\\s*=\\s*"Apple-style-span"(\\s+[^>]*?)?>(((?!<\\1(\\s+[^>]*?)?>)[\\s\\S]|<\\1(\\s+[^>]*?)?>((?!<\\1(\\s+[^>]*?)?>)[\\s\\S])*?<\\\/\\1>)*?)<\\\/\\1>\/gi,s),e=e.replace(\/<(span)(\\s+[^>]*?)?\\s+class\\s*=\\s*"Apple-style-span"(\\s+[^>]*?)?>(((?!<\\1(\\s+[^>]*?)?>)[\\s\\S])*?)<\\\/\\1>\/gi,s);e=e.replace(\/(<(\\w+))((?:\\s+[\\w\\-:]+\\s*=\\s*(?:"[^"]*"|'[^']*'|[^>\\s]+))*)\\s*(\\\/?>)\/g,function(e,t,i,s,a){i=i.toLowerCase();$/;"	p
arrDbClick.embed	js/xheditor.min.js	/^(function(){var e={};window.XHEDITOR=e})(),function(e,t){e.mapLang={},e.setLang=function(i,s){s===t&&(s=i,i=""),""!==i&&(i+=".");var a,n;for(var o in s)n=s[o],a=i+o,"string"==typeof n||n instanceof Array?e.mapLang[a]=n:e.setLang(a,n)},e.getLang=function(i){var s=e.mapLang[i];if(s===t&&(s=i.replace(\/{#([^{}]+)}\/g,function(t,i){var s=e.mapLang[i];return s?s:i})),"string"==typeof s){var a=arguments;s=s.replace(\/{\\$(\\d+)}\/g,function(e,i){var s=a[parseInt(i,10)+1];return s!==t?s:e})}return s}}(XHEDITOR),function(XHEDITOR,$,undefined){var agent=navigator.userAgent.toLowerCase(),bMobile=\/mobile\/i.test(agent),browser=$.browser,browerVer=parseFloat(browser.version),isIE=browser.msie,isMozilla=browser.mozilla,isWebkit=browser.webkit,isOpera=browser.opera,isChrome=browser.chrome,bAir=agent.indexOf(" adobeair\/")>-1,xCount=0,bShowPanel=!1,bClickCancel=!0,bShowModal=!1,bCheckEscInit=!1,_jPanel,_jShadow,_jCntLine,_jPanelButton,jModal,jModalShadow,layerShadow,jOverlay,jHideSelect,onModalRemove,editorRoot,getLang=XHEDITOR.getLang;if($("script[src*=xheditor]").each(function(){var e=this.src;return e.match(\/xheditor[^\\\/]*\\.js\/i)?(editorRoot=e.replace(\/[\\?#].*$\/,"").replace(\/(^|[\\\/\\\\])[^\\\/]*$\/,"$1"),!1):undefined}),isIE){try{document.execCommand("BackgroundImageCache",!1,!0)}catch(e){}var jqueryVer=$.fn.jquery;jqueryVer&&jqueryVer.match(\/^1\\.[67]\/)&&($.attrHooks.width=$.attrHooks.height=null)}var specialKeys={27:"esc",9:"tab",32:"space",13:"enter",8:"backspace",145:"scroll",20:"capslock",144:"numlock",19:"pause",45:"insert",36:"home",46:"del",35:"end",33:"pageup",34:"pagedown",37:"left",38:"up",39:"right",40:"down",112:"f1",113:"f2",114:"f3",115:"f4",116:"f5",117:"f6",118:"f7",119:"f8",120:"f9",121:"f10",122:"f11",123:"f12"},arrAlign=[{v:"justifyleft"},{v:"justifycenter"},{v:"justifyright"},{v:"justifyfull"}],arrList=[{v:"insertOrderedList"},{v:"insertUnorderedList"}],htmlPastetext='<div><label for="xhePastetextValue">{#PastetextTip}<\/label><\/div><div><textarea id="xhePastetextValue" wrap="soft" spellcheck="false" style="width:300px;height:100px;" \/><\/div><div style="text-align:right;"><input type="button" id="xheSave" value="{#dialogOk}" \/><\/div>',htmlLink='<div><label for="xheLinkUrl">{#link.url}<\/label><input type="text" id="xheLinkUrl" value="http:\/\/" class="xheText" \/><\/div><div><label for="xheLinkTarget">{#link.target}<\/label><select id="xheLinkTarget"><option selected="selected" value="">{#default}<\/option><option value="_blank">{#link.targetBlank}<\/option><option value="_self">{#link.targetSelf}<\/option><option value="_parent">{#link.targetParent}<\/option><\/select><\/div><div style="display:none"><label for="xheLinkText">{#link.linkText}<\/label><input type="text" id="xheLinkText" value="" class="xheText" \/><\/div><div style="text-align:right;"><input type="button" id="xheSave" value="{#dialogOk}" \/><\/div>',htmlAnchor='<div><label for="xheAnchorName">{#anchor.name}<\/label><input type="text" id="xheAnchorName" value="" class="xheText" \/><\/div><div style="text-align:right;"><input type="button" id="xheSave" value="{#dialogOk}" \/><\/div>',htmlImg='<div><label for="xheImgUrl">{#img.url}<\/label><input type="text" id="xheImgUrl" value="http:\/\/" class="xheText" \/><\/div><div><div><label for="xheImgAlt">{#img.alt}<\/label><input type="text" id="xheImgAlt" \/><\/div><div><label for="xheImgAlign">{#img.align}<\/label><select id="xheImgAlign"><option selected="selected" value="">{#default}<\/option><option value="left">{#img.alignLeft}<\/option><option value="right">{#img.alignRight}<\/option><option value="top">{#img.alignTop}<\/option><option value="middle">{#img.alignMiddle}<\/option><option value="baseline">{#img.alignBaseline}<\/option><option value="bottom">{#img.alignBottom}<\/option><\/select><\/div><div><label for="xheImgWidth">{#img.width}<\/label><input type="text" id="xheImgWidth" style="width:40px;" \/> <label for="xheImgHeight">{#img.height}<\/label><input type="text" id="xheImgHeight" style="width:40px;" \/><\/div><div><label for="xheImgBorder">{#img.border}<\/label><input type="text" id="xheImgBorder" style="width:40px;" \/><\/div><div><label for="xheImgHspace">{#img.hspace}<\/label><input type="text" id="xheImgHspace" style="width:40px;" \/> <label for="xheImgVspace">{#img.vspace}<\/label><input type="text" id="xheImgVspace" style="width:40px;" \/><\/div><div style="text-align:right;"><input type="button" id="xheSave" value="{#dialogOk}" \/><\/div>',htmlFlash='<div><label for="xheFlashUrl">{#flash.url}<\/label><input type="text" id="xheFlashUrl" value="http:\/\/" class="xheText" \/><\/div><div><label for="xheFlashWidth">{#flash.width}<\/label><input type="text" id="xheFlashWidth" style="width:40px;" value="480" \/> <label for="xheFlashHeight">{#flash.height}<\/label><input type="text" id="xheFlashHeight" style="width:40px;" value="400" \/><\/div><div style="text-align:right;"><input type="button" id="xheSave" value="{#dialogOk}" \/><\/div>',htmlMedia='<div><label for="xheMediaUrl">{#media.url}<\/label><input type="text" id="xheMediaUrl" value="http:\/\/" class="xheText" \/><\/div><div><label for="xheMediaWidth">{#media.width}<\/label><input type="text" id="xheMediaWidth" style="width:40px;" value="480" \/> <label for="xheMediaHeight">{#media.height}<\/label><input type="text" id="xheMediaHeight" style="width:40px;" value="400" \/><\/div><div style="text-align:right;"><input type="button" id="xheSave" value="{#dialogOk}" \/><\/div>',htmlTable='<div><label for="xheTableRows">{#table.rows}<\/label><input type="text" id="xheTableRows" style="width:40px;" value="3" \/> <label for="xheTableColumns">{#table.columns}<\/label><input type="text" id="xheTableColumns" style="width:40px;" value="2" \/><\/div><div><label for="xheTableHeaders">{#table.headers}<\/label><select id="xheTableHeaders"><option selected="selected" value="">{#none}<\/option><option value="row">{#table.headersRow}<\/option><option value="col">{#table.headersCol}<\/option><option value="both">{#table.headersBoth}<\/option><\/select><\/div><div><label for="xheTableWidth">{#table.width}<\/label><input type="text" id="xheTableWidth" style="width:40px;" value="200" \/> <label for="xheTableHeight">{#table.height}<\/label><input type="text" id="xheTableHeight" style="width:40px;" value="" \/><\/div><div><label for="xheTableBorder">{#table.border}<\/label><input type="text" id="xheTableBorder" style="width:40px;" value="1" \/><\/div><div><label for="xheTableCellSpacing">{#table.cellSpacing}<\/label><input type="text" id="xheTableCellSpacing" style="width:40px;" value="1" \/> <label for="xheTableCellPadding">{#table.cellPadding}<\/label><input type="text" id="xheTableCellPadding" style="width:40px;" value="1" \/><\/div><div><label for="xheTableAlign">{#table.align}<\/label><select id="xheTableAlign"><option selected="selected" value="">{#default}<\/option><option value="left">{#table.alignLeft}<\/option><option value="center">{#table.alignCenter}<\/option><option value="right">{#table.alignRight}<\/option><\/select><\/div><div><label for="xheTableCaption">{#table.caption}<\/label><input type="text" id="xheTableCaption" \/><\/div><div style="text-align:right;"><input type="button" id="xheSave" value="{#dialogOk}" \/><\/div>',htmlAbout='<div style="font:12px Arial;width:245px;word-wrap:break-word;word-break:break-all;outline:none;" role="dialog" tabindex="-1"><p><span style="font-size:20px;color:#1997DF;">xhEditor<\/span><br \/>v1.2.1 (build 130225)<\/p><p>{#aboutXheditor}<\/p><p>Copyright &copy; <a href="http:\/\/xheditor.com\/" target="_blank">xhEditor.com<\/a>. All rights reserved.<\/p><\/div>',itemEmots={"default":{name:"{#default}",width:24,height:24,line:7,list:["smile","tongue","titter","laugh","sad","wronged","fastcry","cry","wail","mad","knock","curse","crazy","angry","ohmy","awkward","panic","shy","cute","envy","proud","struggle","quiet","shutup","doubt","despise","sleep","bye"]}},arrTools={Cut:{t:"Cut"},Copy:{t:"Copy"},Paste:{t:"Paste"},Pastetext:{t:"Pastetext",h:isIE?0:1},Blocktag:{t:"Blocktag",h:1},Fontface:{t:"Fontface",h:1},FontSize:{t:"FontSize",h:1},Bold:{t:"Bold",s:"Ctrl+B"},Italic:{t:"Italic",s:"Ctrl+I"},Underline:{t:"Underline",s:"Ctrl+U"},Strikethrough:{t:"Strikethrough"},FontColor:{t:"FontColor",h:1},BackColor:{t:"BackColor",h:1},SelectAll:{t:"SelectAll"},Removeformat:{t:"Removeformat"},Align:{t:"Align",h:1},List:{t:"List",h:1},Outdent:{t:"Outdent"},Indent:{t:"Indent"},Link:{t:"Link",s:"Ctrl+L",h:1},Unlink:{t:"Unlink"},Anchor:{t:"Anchor",h:1},Img:{t:"Img",h:1},Flash:{t:"Flash",h:1},Media:{t:"Media",h:1},Hr:{t:"Hr"},Emot:{t:"Emot",s:"ctrl+e",h:1},Table:{t:"Table",h:1},Source:{t:"Source"},Preview:{t:"Preview"},Print:{t:"Print",s:"Ctrl+P"},Fullscreen:{t:"Fullscreen",s:"Esc"},About:{t:"About"}},toolsThemes={mini:"Bold,Italic,Underline,Strikethrough,|,Align,List,|,Link,Img",simple:"Blocktag,Fontface,FontSize,Bold,Italic,Underline,Strikethrough,FontColor,BackColor,|,Align,List,Outdent,Indent,|,Link,Img,Emot",full:"Cut,Copy,Paste,Pastetext,|,Blocktag,Fontface,FontSize,Bold,Italic,Underline,Strikethrough,FontColor,BackColor,SelectAll,Removeformat,|,Align,List,Outdent,Indent,|,Link,Unlink,Anchor,Img,Flash,Media,Hr,Emot,Table,|,Source,Preview,Print,Fullscreen"};toolsThemes.mfull=toolsThemes.full.replace(\/\\|(,Align)\/i,"\/$1");var arrDbClick={a:"Link",img:"Img",embed:"Embed"},uploadInputname="filedata",arrEntities={"<":"&lt;",">":"&gt;",'"':"&quot;","\\u00ae":"&reg;","\\u00a9":"&copy;"},regEntities=\/[<>"\\u00ae\\u00a9]\/g,Xheditor=function(textarea,options){function checkDblClick(e){var t=e.target,i=arrDbClick[t.tagName.toLowerCase()];if(i){if("Embed"===i){var s={"application\/x-shockwave-flash":"Flash","application\/x-mplayer2":"Media"};i=s[t.type.toLowerCase()]}_this.exec(i)}}function checkEsc(e){return 27===e.which?(bShowModal?_this.removeModal():bShowPanel&&_this.hidePanel(),!1):undefined}function loadReset(){setTimeout(_this.setSource,10)}function saveResult(){_this.getSource()}function cleanPaste(e){var t,i,s;if(e&&(t=e.originalEvent.clipboardData)&&(i=t.items)&&(s=i[0])&&"file"==s.kind&&s.type.match(\/^image\\\/\/i)){var a=s.getAsFile(),n=new FileReader;return n.onload=function(){var e='<img src="'+event.target.result+'">';e=replaceRemoteImg(e),_this.pasteHTML(e)},n.readAsDataURL(a),!1}var o=settings.cleanPaste;if(0===o||bSource||bCleanPaste)return!0;bCleanPaste=!0,_this.saveBookmark();var l=isIE?"pre":"div",r=$("<"+l+' class="xhe-paste">\\ufeff\\ufeff<\/'+l+">",_doc).appendTo(_doc.body),h=r[0],c=_this.getSel(),d=_this.getRng(!0);r.css("top",_jWin.scrollTop()),isIE?(d.moveToElementText(h),d.select()):(d.selectNodeContents(h),c.removeAllRanges(),c.addRange(d)),setTimeout(function(){var e,t=3===o;if(t)r.html(r.html().replace(\/<br(\\s+[^<>]*)?>\/gi,"\\n")),e=r.text();else{var i=$(".xhe-paste",_doc.body),s=[];i.each(function(e,t){0==$(t).find(".xhe-paste").length&&s.push(t.innerHTML)}),e=s.join("<br \/>")}r.remove(),_this.loadBookmark(),e=e.replace(\/^[\\s\\uFEFF]+|[\\s\\uFEFF]+$\/g,""),e&&(t?_this.pasteText(e):(e=_this.cleanHTML(e),e=_this.cleanWord(e),e=_this.formatXHTML(e),(!settings.onPaste||settings.onPaste&&(e=settings.onPaste(e))!==!1)&&(e=replaceRemoteImg(e),_this.pasteHTML(e)))),bCleanPaste=!1},0)}function replaceRemoteImg(e){var t=settings.localUrlTest,i=settings.remoteImgSaveUrl;if(t&&i){var s=[],a=0;e=e.replace(\/(<img)((?:\\s+[^>]*?)?(?:\\s+src="\\s*([^"]+)\\s*")(?: [^>]*)?)(\\\/?>)\/gi,function(e,i,n,o,l){return!\/^(https?|data:image)\/i.test(o)||\/_xhe_temp\/.test(n)||t.test(o)||(s[a]=o,n=n.replace(\/\\s+(width|height)="[^"]*"\/gi,"").replace(\/\\s+src="[^"]*"\/gi,' src="'+skinPath+'img\/waiting.gif" remoteimg="'+a++ +'"')),i+n+l}),s.length>0&&$.post(i,{urls:s.join("|")},function(e){e=e.split("|"),$("img[remoteimg]",_this.doc).each(function(){var t=$(this);xheAttr(t,"src",e[t.attr("remoteimg")]),t.removeAttr("remoteimg")})})}return e}function setCSS(e){try{_this._exec("styleWithCSS",e,!0)}catch(t){try{_this._exec("useCSS",!e,!0)}catch(t){}}}function setOpts(){if(bInit&&!bSource){setCSS(!1);try{_this._exec("enableObjectResizing",!0,!0)}catch(e){}if(isIE)try{_this._exec("BackgroundImageCache",!0,!0)}catch(e){}}}function forcePtag(e){if(bSource||13!==e.which||e.shiftKey||e.ctrlKey||e.altKey)return!0;var t=_this.getParent("p,h1,h2,h3,h4,h5,h6,pre,address,div,li");return t.is("li")?!0:settings.forcePtag?(0===t.length&&_this._exec("formatblock","<p>"),undefined):(_this.pasteHTML("<br \/>"),isIE&&t.length>0&&2===_this.getRng().parentElement().childNodes.length&&_this.pasteHTML("<br \/>"),!1)}function fixFullHeight(){isMozilla||isWebkit||(bFullscreen&&_jArea.height("100%").css("height",_jArea.outerHeight()-_jTools.outerHeight()),isIE&&_jTools.hide().show())}function fixAppleSel(e){if(e=e.target,e.tagName.match(\/(img|embed)\/i)){var t=_this.getSel(),i=_this.getRng(!0);i.selectNode(e),t.removeAllRanges(),t.addRange(i)}}function xheAttr(e,t,i){if(!t)return!1;var s="_xhe_"+t;return i&&(urlType&&(i=getLocalUrl(i,urlType,urlBase)),e.attr(t,urlBase?getLocalUrl(i,"abs",urlBase):i).removeAttr(s).attr(s,i)),e.attr(s)||e.attr(t)}function clickCancelPanel(){bClickCancel&&_this.hidePanel()}function checkShortcuts(e){if(bSource)return!0;var t=e.which,i=specialKeys[t],s=i?i:String.fromCharCode(t).toLowerCase();sKey="",sKey+=e.ctrlKey?"ctrl+":"",sKey+=e.altKey?"alt+":"",sKey+=e.shiftKey?"shift+":"",sKey+=s;var a,n=arrShortCuts[sKey];for(a in n){if(a=n[a],!$.isFunction(a))return _this.exec(a),!1;if(a.call(_this)===!1)return!1}}function is(e,t){var i=typeof e;return t?"array"===t&&e.hasOwnProperty&&e instanceof Array?!0:i===t:"undefined"!=i}function getLocalUrl(e,t,i){if(e.match(\/^(\\w+):\\\/\\\/\/i)&&!e.match(\/^https?:\/i)||\/^#\/i.test(e)||\/^data:\/i.test(e))return e;var s=i?$('<a href="'+i+'" \/>')[0]:location,a=s.protocol,n=s.host,o=s.hostname,l=s.port,r=s.pathname.replace(\/\\\\\/g,"\/").replace(\/[^\\\/]+$\/i,"");if(""===l&&(l="80"),""===r?r="\/":"\/"!==r.charAt(0)&&(r="\/"+r),e=$.trim(e),"abs"!==t&&(e=e.replace(RegExp(a+"\\\\\/\\\\\/"+o.replace(\/\\.\/g,"\\\\.")+"(?::"+l+")"+("80"===l?"?":"")+"(\/|$)","i"),"\/")),"rel"===t&&(e=e.replace(RegExp("^"+r.replace(\/([\\\/\\.\\+\\[\\]\\(\\)])\/g,"\\\\$1"),"i"),"")),"rel"!==t&&(e.match(\/^(https?:\\\/\\\/|\\\/)\/i)||(e=r+e),"\/"===e.charAt(0))){var h,c,d=[],u=e.split("\/"),p=u.length;for(c=0;p>c;c++)h=u[c],".."===h?d.pop():""!==h&&"."!==h&&d.push(h);""===u[p-1]&&d.push(""),e="\/"+d.join("\/")}return"abs"!==t||e.match(\/^https?:\\\/\\\/\/i)||(e=a+"\/\/"+n+e),e=e.replace(\/(https?:\\\/\\\/[^:\\\/?#]+):80(\\\/|$)\/i,"$1$2")}function checkFileExt(e,t){return"*"===t||e.match(RegExp(".("+t.replace(\/,\/g,"|")+")$","i"))?!0:(alert(getLang("upload.extLimit",t)),!1)}function formatBytes(e){var t=["Byte","KB","MB","GB","TB","PB"],i=Math.floor(Math.log(e)\/Math.log(1024));return(e\/Math.pow(1024,Math.floor(i))).toFixed(2)+t[i]}function returnFalse(){return!1}var _this=this,_text=textarea,_jText=$(_text),_jForm=_jText.closest("form"),_jTools,_jArea,_win,_jWin,_doc,_jDoc,bookmark,bInit=!1,bSource=!1,bFullscreen=!1,bCleanPaste=!1,outerScroll,bShowBlocktag=!1,sLayoutStyle="",ev=null,timer,bDisableHoverExec=!1,bQuickHoverExec=!1,lastPoint=null,lastAngle=null,editorHeight=0,settings=_this.settings=$.extend({},XHEDITOR.settings,options),plugins=settings.plugins,strPlugins=[];if(plugins&&(arrTools=$.extend({},arrTools,plugins),$.each(plugins,function(e){strPlugins.push(e)}),strPlugins=strPlugins.join(",")),settings.tools.match(\/^\\s*(m?full|simple|mini)\\s*$\/i)){var toolsTheme=toolsThemes[$.trim(settings.tools)];settings.tools=settings.tools.match(\/m?full\/i)&&plugins?toolsTheme.replace("Table","Table,"+strPlugins):toolsTheme}settings.tools.match(\/(^|,)\\s*About\\s*(,|$)\/i)||(settings.tools+=",About"),settings.tools=settings.tools.split(","),settings.editorRoot&&(editorRoot=settings.editorRoot),bAir===!1&&(editorRoot=getLocalUrl(editorRoot,"abs")),settings.urlBase&&(settings.urlBase=getLocalUrl(settings.urlBase,"abs"));var idCSS="xheCSS_"+settings.skin,idContainer="xhe"+xCount+"_container",idTools="xhe"+xCount+"_Tool",idIframeArea="xhe"+xCount+"_iframearea",idIframe="xhe"+xCount+"_iframe",idFixFFCursor="xhe"+xCount+"_fixffcursor",headHTML="",bodyClass="",skinPath=editorRoot+"xheditor_skin\/"+settings.skin+"\/",arrEmots=itemEmots,urlType=settings.urlType,urlBase=settings.urlBase,emotPath=settings.emotPath,emotPath=emotPath?emotPath:editorRoot+"xheditor_emot\/",selEmotGroup="";arrEmots=$.extend({},arrEmots,settings.emots),emotPath=getLocalUrl(emotPath,"rel",urlBase?urlBase:null),bShowBlocktag=settings.showBlocktag,bShowBlocktag&&(bodyClass+=" showBlocktag");var arrShortCuts=[];this.init=function(){function e(e){var t,i=$(e.target);(t=i.css("width"))&&i.css("width","").attr("width",t.replace(\/[^0-9%]+\/g,"")),(t=i.css("height"))&&i.css("height","").attr("height",t.replace(\/[^0-9%]+\/g,""))}0===$("#"+idCSS).length&&$("head").append('<link id="'+idCSS+'" rel="stylesheet" type="text\/css" href="'+skinPath+'ui.css" \/>');var t=_jText.outerWidth(),i=_jText.outerHeight(),s=settings.width||_text.style.width||(t>10?t:0);editorHeight=settings.height||_text.style.height||(i>10?i:150),\/^\\d+(?:\\.\\d+)?$\/.test(s)&&(s+="px"),is(editorHeight,"string")&&(editorHeight=editorHeight.replace(\/[^\\d]+\/g,""));var a,n,o=settings.background||_text.style.background,l=['<span class="xheGStart"\/>'],r=\/\\||\\\/\/i;$.each(settings.tools,function(e,t){if(t.match(r)&&l.push('<span class="xheGEnd"\/>'),"|"===t)l.push('<span class="xheSeparator"\/>');else if("\/"===t)l.push("<br \/>");else{if(a=arrTools[t],!a)return;n=a.c?a.c:"xheIcon xheBtn"+t,l.push('<span><a href="#" title="{#'+a.t+'}" cmd="'+t+'" class="xheButton xheEnabled" tabindex="-1" role="button"><span class="'+n+'" unselectable="on" style="font-size:0;color:transparent;text-indent:-999px;">'+a.t+"<\/span><\/a><\/span>"),a.s&&_this.addShortcuts(a.s,t)}t.match(r)&&l.push('<span class="xheGStart"\/>')}),l.push('<span class="xheGEnd"\/><br \/>'),_jText.after($('<input type="text" id="'+idFixFFCursor+'" style="position:absolute;display:none;" \/><span id="'+idContainer+'" class="xhe_'+settings.skin+'" style="display:none"><table cellspacing="0" cellpadding="0" class="xheLayout" style="'+("0px"!=s?"width:"+s+";":"")+"height:"+editorHeight+'px;" role="presentation"><tr><td id="'+idTools+'" class="xheTool" unselectable="on" style="height:1px;" role="presentation"><\/td><\/tr><tr><td id="'+idIframeArea+'" class="xheIframeArea" role="presentation"><iframe frameborder="0" id="'+idIframe+'" src="javascript:;" style="width:100%;"><\/iframe><\/td><\/tr><\/table><\/span>')),_jTools=$("#"+idTools),_jArea=$("#"+idIframeArea),headHTML='<meta http-equiv="Content-Type" content="text\/html; charset=utf-8" \/><link rel="stylesheet" href="'+skinPath+'iframe.css"\/>';var h=settings.loadCSS;if(h)if(is(h,"array"))for(var c in h)headHTML+='<link rel="stylesheet" href="'+h[c]+'"\/>';else headHTML+=h.match(\/\\s*<style(\\s+[^>]*?)?>[\\s\\S]+?<\\\/style>\\s*\/i)?h:'<link rel="stylesheet" href="'+h+'"\/>';var d='<!DOCTYPE html><html xmlns="http:\/\/www.w3.org\/1999\/xhtml"><head>'+headHTML+"<title>{#defaultReadTip} "+(settings.readTip?settings.readTip:"")+"<\/title>";o&&(d+="<style>html{background:"+o+";}<\/style>"),d+='<\/head><body spellcheck="0" class="editMode'+bodyClass+'"><\/body><\/html>',_this.win=_win=$("#"+idIframe)[0].contentWindow,_jWin=$(_win);try{this.doc=_doc=_win.document,_jDoc=$(_doc),_doc.open(),_doc.write(getLang(d)),_doc.close(),isIE?_doc.body.contentEditable="true":_doc.designMode="On"}catch(u){}setTimeout(setOpts,300),_this.setSource(),_win.setInterval=null,_jTools.append(getLang(l.join(""))).bind("mousedown contextmenu",returnFalse).click(function(e){var t=$(e.target).closest("a");return t.is(".xheEnabled")&&(clearTimeout(timer),_jTools.find("a").attr("tabindex","-1"),ev=e,_this.exec(t.attr("cmd"))),!1}),_jTools.find(".xheButton").hover(function(e){var t=$(this),i=settings.hoverExecDelay,s=lastAngle;if(lastAngle=null,-1===i||bDisableHoverExec||!t.is(".xheEnabled"))return!1;if(s&&s>10)return bDisableHoverExec=!0,setTimeout(function(){bDisableHoverExec=!1},100),!1;var a=t.attr("cmd"),n=1===arrTools[a].h;return n?(bQuickHoverExec&&(i=0),i>=0&&(timer=setTimeout(function(){ev=e,lastPoint={x:ev.clientX,y:ev.clientY},_this.exec(a)},i)),undefined):(_this.hidePanel(),!1)},function(){lastPoint=null,timer&&clearTimeout(timer)}).mousemove(function(e){if(lastPoint){var t={x:e.clientX-lastPoint.x,y:e.clientY-lastPoint.y};if(Math.abs(t.x)>1||Math.abs(t.y)>1){if(t.x>0&&t.y>0){var i=Math.round(Math.atan(t.y\/t.x)\/.017453293);lastAngle=lastAngle?(lastAngle+i)\/2:i}else lastAngle=null;lastPoint={x:e.clientX,y:e.clientY}}}}),_jPanel=$("#xhePanel"),_jShadow=$("#xheShadow"),_jCntLine=$("#xheCntLine"),0===_jPanel.length&&(_jPanel=$('<div id="xhePanel"><\/div>').mousedown(function(e){e.stopPropagation()}),_jShadow=$('<div id="xheShadow"><\/div>'),_jCntLine=$('<div id="xheCntLine"><\/div>'),setTimeout(function(){$(document.body).append(_jPanel).append(_jShadow).append(_jCntLine)},10)),$("#"+idContainer).show(),_jText.hide(),_jArea.css("height",editorHeight-_jTools.outerHeight()),isIE&8>browerVer&&setTimeout(function(){_jArea.css("height",editorHeight-_jTools.outerHeight())},1),_jText.focus(_this.focus),_jForm.submit(saveResult).bind("reset",loadReset),settings.submitID&&$("#"+settings.submitID).mousedown(saveResult),$(window).bind("unload beforeunload",saveResult).bind("resize",fixFullHeight),$(document).mousedown(clickCancelPanel),bCheckEscInit||($(document).keydown(checkEsc),bCheckEscInit=!0),_jWin.focus(function(){settings.focus&&settings.focus()}).blur(function(){settings.blur&&settings.blur()}),isWebkit&&_jWin.click(fixAppleSel),_jDoc.mousedown(clickCancelPanel).keydown(checkShortcuts).keypress(forcePtag).dblclick(checkDblClick).bind("mousedown click",function(e){_jText.trigger(e.type)}),isIE&&(_jDoc.keydown(function(e){var t=_this.getRng();return 8===e.which&&t.item?($(t.item(0)).remove(),!1):undefined}),_jDoc.bind("controlselect",function(t){t=t.target,$.nodeName(t,"IMG")&&$(t).unbind("resizeend",e).bind("resizeend",e)})),_jDoc.keydown(function(e){var t=e.which;return e.altKey&&t>=49&&57>=t?(_jTools.find("a").attr("tabindex","0"),_jTools.find(".xheGStart").eq(t-49).next().find("a").focus(),_doc.title="\\ufeff\\ufeff",!1):undefined}).click(function(){_jTools.find("a").attr("tabindex","-1")}),_jTools.keydown(function(e){var t=e.which;if(27==t)_jTools.find("a").attr("tabindex","-1"),_this.focus();else if(e.altKey&&t>=49&&57>=t)return _jTools.find(".xheGStart").eq(t-49).next().find("a").focus(),!1});var p=$(_doc.documentElement);isOpera?p.bind("keydown",function(e){e.ctrlKey&&86===e.which&&cleanPaste()}):p.bind(isIE?"beforepaste":"paste",cleanPaste),settings.disableContextmenu&&p.bind("contextmenu",returnFalse),settings.html5Upload&&p.bind("dragenter dragover",function(e){var t;return(t=e.originalEvent.dataTransfer.types)&&-1!==$.inArray("Files",t)?!1:undefined}).bind("drop",function(e){function t(e){var t,i,s;for(a=0;e.length>a;a++){if(i=e[a].name.replace(\/.+\\.\/,""),!(t=o.match(RegExp("(\\\\w+):[^:]*,"+i+"(?:,|$)","i"))))return 1;if(s){if(s!==t[1])return 2}else s=t[1]}return s}var i,s=e.originalEvent.dataTransfer;if(s&&(i=s.files)&&i.length>0){var a,n,o,l=["Link","Img","Flash","Media"],r=[];for(a in l)n=l[a],settings["up"+n+"Url"]&&settings["up"+n+"Url"].match(\/^[^!].*\/i)&&r.push(n+":,"+settings["up"+n+"Ext"]);return 0===r.length?!1:(o=r.join(","),n=t(i),1===n?alert(getLang("upload.extLimit",o.replace(\/\\w+:,\/g,""))):2===n?alert(getLang("upload.typeLimit")):n&&_this.startUpload(i,settings["up"+n+"Url"],"*",function(e){var t,i=[],s=settings.onUpload;s&&s(e);for(var a=0,o=e.length;o>a;a++)t=e[a],url=is(t,"string")?t:t.url,"!"===url.substr(0,1)&&(url=url.substr(1)),i.push(url);_this.exec(n),$("#xhe"+n+"Url").val(i.join(" ")),$("#xheSave").click()}),!1)}});var g=settings.shortcuts;g&&$.each(g,function(e,t){_this.addShortcuts(e,t)}),xCount++,bInit=!0,settings.fullscreen?_this.toggleFullscreen():settings.sourceMode&&setTimeout(_this.toggleSource,20);var f=settings.plugins;return f&&$.each(f,function(e,t){var i=t.i;i!==undefined&&i(_this)}),!0},this.remove=function(){_this.hidePanel(),saveResult(),_jText.unbind("focus",_this.focus),_jForm.unbind("submit",saveResult).unbind("reset",loadReset),settings.submitID&&$("#"+settings.submitID).unbind("mousedown",saveResult),$(window).unbind("unload beforeunload",saveResult).unbind("resize",fixFullHeight),$(document).unbind("mousedown",clickCancelPanel),$("#"+idContainer).remove(),$("#"+idFixFFCursor).remove(),_jText.show(),bInit=!1},this.saveBookmark=function(){if(!bSource){_this.focus();var e=_this.getRng();e=e.cloneRange?e.cloneRange():e,bookmark={top:_jWin.scrollTop(),rng:e}}},this.loadBookmark=function(){if(!bSource&&bookmark){_this.focus();var e=bookmark.rng;if(isIE)e.select();else{var t=_this.getSel();t.removeAllRanges(),t.addRange(e)}_jWin.scrollTop(bookmark.top),bookmark=null}},this.focus=function(){if(bSource?$("#sourceCode",_doc).focus():_win.focus(),isIE){var e=_this.getRng();e.parentElement&&e.parentElement().ownerDocument!==_doc&&_this.setTextCursor()}return!1},this.setTextCursor=function(e){var t=_this.getRng(!0),i=_doc.body;if(isIE)t.moveToElementText(i);else{for(var s=e?"lastChild":"firstChild";3!=i.nodeType&&i[s];)i=i[s];t.selectNode(i)}if(t.collapse(e?!1:!0),isIE)t.select();else{var a=_this.getSel();a.removeAllRanges(),a.addRange(t)}},this.getSel=function(){return _doc.selection?_doc.selection:_win.getSelection()},this.getRng=function(e){var t,i;try{e||(t=_this.getSel(),i=t.createRange?t.createRange():t.rangeCount>0?t.getRangeAt(0):null),i||(i=_doc.body.createTextRange?_doc.body.createTextRange():_doc.createRange())}catch(s){}return i},this.getParent=function(e){var t,i=_this.getRng();return isIE?t=i.item?i.item(0):i.parentElement():(t=i.commonAncestorContainer,i.collapsed||i.startContainer===i.endContainer&&2>i.startOffset-i.endOffset&&i.startContainer.hasChildNodes()&&(t=i.startContainer.childNodes[i.startOffset])),e=e?e:"*",t=$(t),t.is(e)||(t=$(t).closest(e)),t},this.getSelect=function(e){var t=_this.getSel(),i=_this.getRng(),s=!0;if(s=!i||i.item?!1:!t||0===i.boundingWidth||i.collapsed,"text"===e)return s?"":i.text||(t.toString?""+t:"");var a;if(i.cloneContents){var n,o=$("<div><\/div>");n=i.cloneContents(),n&&o.append(n),a=o.html()}else a=is(i.item)?i.item(0).outerHTML:is(i.htmlText)?i.htmlText:""+i;return s&&(a=""),a=_this.processHTML(a,"read"),a=_this.cleanHTML(a),a=_this.formatXHTML(a)},this.pasteHTML=function(e,t){if(bSource)return!1;_this.focus(),e=_this.processHTML(e,"write");var i=_this.getSel(),s=_this.getRng();if(t!==undefined){if(s.item){var a=s.item(0);s=_this.getRng(!0),s.moveToElementText(a),s.select()}s.collapse(t)}if(e+="<"+(isIE?"img":"span")+' id="_xhe_temp" width="0" height="0" \/>',s.insertNode){if($(s.startContainer).closest("style,script").length>0)return!1;s.deleteContents(),s.insertNode(s.createContextualFragment(e))}else"control"===i.type.toLowerCase()&&(i.clear(),s=_this.getRng()),s.pasteHTML(e);var n=$("#_xhe_temp",_doc),o=n[0];isIE?(s.moveToElementText(o),s.select()):(s.selectNode(o),i.removeAllRanges(),i.addRange(s)),n.remove()},this.pasteText=function(e,t){e||(e=""),e=_this.domEncode(e),e=e.replace(\/\\r?\\n\/g,"<br \/>"),_this.pasteHTML(e,t)},this.appendHTML=function(e){return bSource?!1:(_this.focus(),e=_this.processHTML(e,"write"),$(_doc.body).append(e),_this.setTextCursor(!0),undefined)},this.domEncode=function(e){return e.replace(regEntities,function(e){return arrEntities[e]})},this.setSource=function(e){bookmark=null,"string"!=typeof e&&""!==e&&(e=_text.value),bSource?$("#sourceCode",_doc).val(e):(settings.beforeSetSource&&(e=settings.beforeSetSource(e)),e=_this.cleanHTML(e),e=_this.formatXHTML(e),e=_this.processHTML(e,"write"),isIE?(_doc.body.innerHTML='<img id="_xhe_temp" width="0" height="0" \/>'+e,$("#_xhe_temp",_doc).remove()):_doc.body.innerHTML=e)},this.processHTML=function(e,t){function i(e,t,i,s,a,o){var l,r,h,c,d="";if(l=s.match(\/font-family\\s*:\\s*([^;"]+)\/i),l&&(d+=' face="'+l[1]+'"'),r=s.match(\/font-size\\s*:\\s*([^;"]+)\/i)){r=r[1].toLowerCase();for(var u=0;n.length>u;u++)if(r===n[u].n||r===n[u].s){h=u+1;break}h&&(d+=' size="'+h+'"',s=s.replace(\/(^|;)(\\s*font-size\\s*:\\s*[^;"]+;?)+\/gi,"$1"))}if(c=s.match(\/(?:^|[\\s;])color\\s*:\\s*([^;"]+)\/i)){var p;if(p=c[1].match(\/\\s*rgb\\s*\\(\\s*(\\d+)\\s*,\\s*(\\d+)\\s*,\\s*(\\d+)\\s*\\)\/i)){c[1]="#";for(var g=1;3>=g;g++)c[1]+=("0"+(p[g]-0).toString(16)).slice(-2)}c[1]=c[1].replace(\/^#([0-9a-f])([0-9a-f])([0-9a-f])$\/i,"#$1$1$2$2$3$3"),d+=' color="'+c[1]+'"'}return s=s.replace(\/(^|;)(\\s*(font-family|color)\\s*:\\s*[^;"]+;?)+\/gi,"$1"),""!==d?(s&&(d+=' style="'+s+'"'),"<font"+(i?i:"")+d+(a?a:"")+">"+o+"<\/font>"):e}function s(e,t,i,s,a){for(var n,l,r=(i?i:"")+(s?s:""),h=[],c=[],d=0;o.length>d;d++)n=o[d].r,l=o[d].t,r=r.replace(n,function(){return h.push("<"+l+">"),c.push("<\/"+l+">"),""});return r=r.replace(\/\\s+style\\s*=\\s*"\\s*"\/i,""),(r?"<span"+r+">":"")+h.join("")+a+c.join("")+(r?"<\/span>":"")}var a=' class="Apple-style-span"',n=settings.listFontsize;if("write"===t)e=e.replace(\/(<(\\\/?)(\\w+))((?:\\s+[\\w\\-:]+\\s*=\\s*(?:"[^"]*"|'[^']*'|[^>\\s]+))*)\\s*((\\\/?)>)\/g,function(e,t,i,s,n,o,l){s=s.toLowerCase(),isMozilla?"strong"===s?s="b":"em"===s&&(s="i"):isWebkit&&("strong"===s?(s="span",i||(n+=a+' style="font-weight: bold;"')):"em"===s?(s="span",i||(n+=a+' style="font-style: italic;"')):"u"===s?(s="span",i||(n+=a+' style="text-decoration: underline;"')):"strike"===s&&(s="span",i||(n+=a+' style="text-decoration: line-through;"')));var r,h="";if("del"===s)s="strike";else if("img"===s)n=n.replace(\/\\s+emot\\s*=\\s*("[^"]*"|'[^']*'|[^>\\s]+)\/i,function(e,t){return r=t.match(\/^(["']?)(.*)\\1\/)[2],r=r.split(","),r[1]||(r[1]=r[0],r[0]=""),"default"===r[0]&&(r[0]=""),settings.emotMark?e:""});else if("a"===s)!n.match(\/ href=[^ ]\/i)&&n.match(\/ name=[^ ]\/i)&&(h+=" xhe-anchor"),l&&(o="><\/a>");else if("table"===s&&!i){var c=n.match(\/\\s+border\\s*=\\s*("[^"]*"|'[^']*'|[^>\\s]+)\/i);(!c||c[1].match(\/^(["']?)\\s*0\\s*\\1$\/))&&(h+=" xhe-border")}var d;if(n=n.replace(\/\\s+([\\w\\-:]+)\\s*=\\s*("[^"]*"|'[^']*'|[^>\\s]+)\/g,function(e,t,i){return t=t.toLowerCase(),i=i.match(\/^(["']?)(.*)\\1\/)[2],aft="",isIE&&t.match(\/^(disabled|checked|readonly|selected)$\/)&&i.match(\/^(false|0)$\/i)?"":"img"===s&&r&&"src"===t?"":(t.match(\/^(src|href)$\/)&&(aft=" _xhe_"+t+'="'+i+'"',urlBase&&(i=getLocalUrl(i,"abs",urlBase))),h&&"class"===t&&(i+=" "+h,h=""),isWebkit&&"style"===t&&"span"===s&&i.match(\/(^|;)\\s*(font-family|font-size|color|background-color)\\s*:\\s*[^;]+\\s*(;|$)\/i)&&(d=!0)," "+t+'="'+i+'"'+aft)}),r){var u=emotPath+(r[0]?r[0]:"default")+"\/"+r[1]+".gif";n+=' src="'+u+'" _xhe_src="'+u+'"'}return d&&(n+=a),h&&(n+=' class="'+h+'"'),"<"+i+s+n+o}),isIE&&(e=e.replace(\/&apos;\/gi,"&#39;")),isWebkit||(e=e.replace(\/<(span)(\\s+[^>]*?)?\\s+style\\s*=\\s*"((?:[^"]*?;)?\\s*(?:font-family|font-size|color)\\s*:[^"]*)"( [^>]*)?>(((?!<\\1(\\s+[^>]*?)?>)[\\s\\S]|<\\1(\\s+[^>]*?)?>((?!<\\1(\\s+[^>]*?)?>)[\\s\\S]|<\\1(\\s+[^>]*?)?>((?!<\\1(\\s+[^>]*?)?>)[\\s\\S])*?<\\\/\\1>)*?<\\\/\\1>)*?)<\\\/\\1>\/gi,i),e=e.replace(\/<(span)(\\s+[^>]*?)?\\s+style\\s*=\\s*"((?:[^"]*?;)?\\s*(?:font-family|font-size|color)\\s*:[^"]*)"( [^>]*)?>(((?!<\\1(\\s+[^>]*?)?>)[\\s\\S]|<\\1(\\s+[^>]*?)?>((?!<\\1(\\s+[^>]*?)?>)[\\s\\S])*?<\\\/\\1>)*?)<\\\/\\1>\/gi,i),e=e.replace(\/<(span)(\\s+[^>]*?)?\\s+style\\s*=\\s*"((?:[^"]*?;)?\\s*(?:font-family|font-size|color)\\s*:[^"]*)"( [^>]*)?>(((?!<\\1(\\s+[^>]*?)?>)[\\s\\S])*?)<\\\/\\1>\/gi,i)),e=e.replace(\/<(td|th)(\\s+[^>]*?)?>(\\s|&nbsp;)*<\\\/\\1>\/gi,"<$1$2>"+(isIE?"":"<br \/>")+"<\/$1>");else{if(isWebkit)for(var o=[{r:\/font-weight\\s*:\\s*bold;?\/gi,t:"strong"},{r:\/font-style\\s*:\\s*italic;?\/gi,t:"em"},{r:\/text-decoration\\s*:\\s*underline;?\/gi,t:"u"},{r:\/text-decoration\\s*:\\s*line-through;?\/gi,t:"strike"}],l=0;2>l;l++)e=e.replace(\/<(span)(\\s+[^>]*?)?\\s+class\\s*=\\s*"Apple-style-span"(\\s+[^>]*?)?>(((?!<\\1(\\s+[^>]*?)?>)[\\s\\S]|<\\1(\\s+[^>]*?)?>((?!<\\1(\\s+[^>]*?)?>)[\\s\\S]|<\\1(\\s+[^>]*?)?>((?!<\\1(\\s+[^>]*?)?>)[\\s\\S])*?<\\\/\\1>)*?<\\\/\\1>)*?)<\\\/\\1>\/gi,s),e=e.replace(\/<(span)(\\s+[^>]*?)?\\s+class\\s*=\\s*"Apple-style-span"(\\s+[^>]*?)?>(((?!<\\1(\\s+[^>]*?)?>)[\\s\\S]|<\\1(\\s+[^>]*?)?>((?!<\\1(\\s+[^>]*?)?>)[\\s\\S])*?<\\\/\\1>)*?)<\\\/\\1>\/gi,s),e=e.replace(\/<(span)(\\s+[^>]*?)?\\s+class\\s*=\\s*"Apple-style-span"(\\s+[^>]*?)?>(((?!<\\1(\\s+[^>]*?)?>)[\\s\\S])*?)<\\\/\\1>\/gi,s);e=e.replace(\/(<(\\w+))((?:\\s+[\\w\\-:]+\\s*=\\s*(?:"[^"]*"|'[^']*'|[^>\\s]+))*)\\s*(\\\/?>)\/g,function(e,t,i,s,a){i=i.toLowerCase();$/;"	p
arrDbClick.img	js/xheditor.min.js	/^(function(){var e={};window.XHEDITOR=e})(),function(e,t){e.mapLang={},e.setLang=function(i,s){s===t&&(s=i,i=""),""!==i&&(i+=".");var a,n;for(var o in s)n=s[o],a=i+o,"string"==typeof n||n instanceof Array?e.mapLang[a]=n:e.setLang(a,n)},e.getLang=function(i){var s=e.mapLang[i];if(s===t&&(s=i.replace(\/{#([^{}]+)}\/g,function(t,i){var s=e.mapLang[i];return s?s:i})),"string"==typeof s){var a=arguments;s=s.replace(\/{\\$(\\d+)}\/g,function(e,i){var s=a[parseInt(i,10)+1];return s!==t?s:e})}return s}}(XHEDITOR),function(XHEDITOR,$,undefined){var agent=navigator.userAgent.toLowerCase(),bMobile=\/mobile\/i.test(agent),browser=$.browser,browerVer=parseFloat(browser.version),isIE=browser.msie,isMozilla=browser.mozilla,isWebkit=browser.webkit,isOpera=browser.opera,isChrome=browser.chrome,bAir=agent.indexOf(" adobeair\/")>-1,xCount=0,bShowPanel=!1,bClickCancel=!0,bShowModal=!1,bCheckEscInit=!1,_jPanel,_jShadow,_jCntLine,_jPanelButton,jModal,jModalShadow,layerShadow,jOverlay,jHideSelect,onModalRemove,editorRoot,getLang=XHEDITOR.getLang;if($("script[src*=xheditor]").each(function(){var e=this.src;return e.match(\/xheditor[^\\\/]*\\.js\/i)?(editorRoot=e.replace(\/[\\?#].*$\/,"").replace(\/(^|[\\\/\\\\])[^\\\/]*$\/,"$1"),!1):undefined}),isIE){try{document.execCommand("BackgroundImageCache",!1,!0)}catch(e){}var jqueryVer=$.fn.jquery;jqueryVer&&jqueryVer.match(\/^1\\.[67]\/)&&($.attrHooks.width=$.attrHooks.height=null)}var specialKeys={27:"esc",9:"tab",32:"space",13:"enter",8:"backspace",145:"scroll",20:"capslock",144:"numlock",19:"pause",45:"insert",36:"home",46:"del",35:"end",33:"pageup",34:"pagedown",37:"left",38:"up",39:"right",40:"down",112:"f1",113:"f2",114:"f3",115:"f4",116:"f5",117:"f6",118:"f7",119:"f8",120:"f9",121:"f10",122:"f11",123:"f12"},arrAlign=[{v:"justifyleft"},{v:"justifycenter"},{v:"justifyright"},{v:"justifyfull"}],arrList=[{v:"insertOrderedList"},{v:"insertUnorderedList"}],htmlPastetext='<div><label for="xhePastetextValue">{#PastetextTip}<\/label><\/div><div><textarea id="xhePastetextValue" wrap="soft" spellcheck="false" style="width:300px;height:100px;" \/><\/div><div style="text-align:right;"><input type="button" id="xheSave" value="{#dialogOk}" \/><\/div>',htmlLink='<div><label for="xheLinkUrl">{#link.url}<\/label><input type="text" id="xheLinkUrl" value="http:\/\/" class="xheText" \/><\/div><div><label for="xheLinkTarget">{#link.target}<\/label><select id="xheLinkTarget"><option selected="selected" value="">{#default}<\/option><option value="_blank">{#link.targetBlank}<\/option><option value="_self">{#link.targetSelf}<\/option><option value="_parent">{#link.targetParent}<\/option><\/select><\/div><div style="display:none"><label for="xheLinkText">{#link.linkText}<\/label><input type="text" id="xheLinkText" value="" class="xheText" \/><\/div><div style="text-align:right;"><input type="button" id="xheSave" value="{#dialogOk}" \/><\/div>',htmlAnchor='<div><label for="xheAnchorName">{#anchor.name}<\/label><input type="text" id="xheAnchorName" value="" class="xheText" \/><\/div><div style="text-align:right;"><input type="button" id="xheSave" value="{#dialogOk}" \/><\/div>',htmlImg='<div><label for="xheImgUrl">{#img.url}<\/label><input type="text" id="xheImgUrl" value="http:\/\/" class="xheText" \/><\/div><div><div><label for="xheImgAlt">{#img.alt}<\/label><input type="text" id="xheImgAlt" \/><\/div><div><label for="xheImgAlign">{#img.align}<\/label><select id="xheImgAlign"><option selected="selected" value="">{#default}<\/option><option value="left">{#img.alignLeft}<\/option><option value="right">{#img.alignRight}<\/option><option value="top">{#img.alignTop}<\/option><option value="middle">{#img.alignMiddle}<\/option><option value="baseline">{#img.alignBaseline}<\/option><option value="bottom">{#img.alignBottom}<\/option><\/select><\/div><div><label for="xheImgWidth">{#img.width}<\/label><input type="text" id="xheImgWidth" style="width:40px;" \/> <label for="xheImgHeight">{#img.height}<\/label><input type="text" id="xheImgHeight" style="width:40px;" \/><\/div><div><label for="xheImgBorder">{#img.border}<\/label><input type="text" id="xheImgBorder" style="width:40px;" \/><\/div><div><label for="xheImgHspace">{#img.hspace}<\/label><input type="text" id="xheImgHspace" style="width:40px;" \/> <label for="xheImgVspace">{#img.vspace}<\/label><input type="text" id="xheImgVspace" style="width:40px;" \/><\/div><div style="text-align:right;"><input type="button" id="xheSave" value="{#dialogOk}" \/><\/div>',htmlFlash='<div><label for="xheFlashUrl">{#flash.url}<\/label><input type="text" id="xheFlashUrl" value="http:\/\/" class="xheText" \/><\/div><div><label for="xheFlashWidth">{#flash.width}<\/label><input type="text" id="xheFlashWidth" style="width:40px;" value="480" \/> <label for="xheFlashHeight">{#flash.height}<\/label><input type="text" id="xheFlashHeight" style="width:40px;" value="400" \/><\/div><div style="text-align:right;"><input type="button" id="xheSave" value="{#dialogOk}" \/><\/div>',htmlMedia='<div><label for="xheMediaUrl">{#media.url}<\/label><input type="text" id="xheMediaUrl" value="http:\/\/" class="xheText" \/><\/div><div><label for="xheMediaWidth">{#media.width}<\/label><input type="text" id="xheMediaWidth" style="width:40px;" value="480" \/> <label for="xheMediaHeight">{#media.height}<\/label><input type="text" id="xheMediaHeight" style="width:40px;" value="400" \/><\/div><div style="text-align:right;"><input type="button" id="xheSave" value="{#dialogOk}" \/><\/div>',htmlTable='<div><label for="xheTableRows">{#table.rows}<\/label><input type="text" id="xheTableRows" style="width:40px;" value="3" \/> <label for="xheTableColumns">{#table.columns}<\/label><input type="text" id="xheTableColumns" style="width:40px;" value="2" \/><\/div><div><label for="xheTableHeaders">{#table.headers}<\/label><select id="xheTableHeaders"><option selected="selected" value="">{#none}<\/option><option value="row">{#table.headersRow}<\/option><option value="col">{#table.headersCol}<\/option><option value="both">{#table.headersBoth}<\/option><\/select><\/div><div><label for="xheTableWidth">{#table.width}<\/label><input type="text" id="xheTableWidth" style="width:40px;" value="200" \/> <label for="xheTableHeight">{#table.height}<\/label><input type="text" id="xheTableHeight" style="width:40px;" value="" \/><\/div><div><label for="xheTableBorder">{#table.border}<\/label><input type="text" id="xheTableBorder" style="width:40px;" value="1" \/><\/div><div><label for="xheTableCellSpacing">{#table.cellSpacing}<\/label><input type="text" id="xheTableCellSpacing" style="width:40px;" value="1" \/> <label for="xheTableCellPadding">{#table.cellPadding}<\/label><input type="text" id="xheTableCellPadding" style="width:40px;" value="1" \/><\/div><div><label for="xheTableAlign">{#table.align}<\/label><select id="xheTableAlign"><option selected="selected" value="">{#default}<\/option><option value="left">{#table.alignLeft}<\/option><option value="center">{#table.alignCenter}<\/option><option value="right">{#table.alignRight}<\/option><\/select><\/div><div><label for="xheTableCaption">{#table.caption}<\/label><input type="text" id="xheTableCaption" \/><\/div><div style="text-align:right;"><input type="button" id="xheSave" value="{#dialogOk}" \/><\/div>',htmlAbout='<div style="font:12px Arial;width:245px;word-wrap:break-word;word-break:break-all;outline:none;" role="dialog" tabindex="-1"><p><span style="font-size:20px;color:#1997DF;">xhEditor<\/span><br \/>v1.2.1 (build 130225)<\/p><p>{#aboutXheditor}<\/p><p>Copyright &copy; <a href="http:\/\/xheditor.com\/" target="_blank">xhEditor.com<\/a>. All rights reserved.<\/p><\/div>',itemEmots={"default":{name:"{#default}",width:24,height:24,line:7,list:["smile","tongue","titter","laugh","sad","wronged","fastcry","cry","wail","mad","knock","curse","crazy","angry","ohmy","awkward","panic","shy","cute","envy","proud","struggle","quiet","shutup","doubt","despise","sleep","bye"]}},arrTools={Cut:{t:"Cut"},Copy:{t:"Copy"},Paste:{t:"Paste"},Pastetext:{t:"Pastetext",h:isIE?0:1},Blocktag:{t:"Blocktag",h:1},Fontface:{t:"Fontface",h:1},FontSize:{t:"FontSize",h:1},Bold:{t:"Bold",s:"Ctrl+B"},Italic:{t:"Italic",s:"Ctrl+I"},Underline:{t:"Underline",s:"Ctrl+U"},Strikethrough:{t:"Strikethrough"},FontColor:{t:"FontColor",h:1},BackColor:{t:"BackColor",h:1},SelectAll:{t:"SelectAll"},Removeformat:{t:"Removeformat"},Align:{t:"Align",h:1},List:{t:"List",h:1},Outdent:{t:"Outdent"},Indent:{t:"Indent"},Link:{t:"Link",s:"Ctrl+L",h:1},Unlink:{t:"Unlink"},Anchor:{t:"Anchor",h:1},Img:{t:"Img",h:1},Flash:{t:"Flash",h:1},Media:{t:"Media",h:1},Hr:{t:"Hr"},Emot:{t:"Emot",s:"ctrl+e",h:1},Table:{t:"Table",h:1},Source:{t:"Source"},Preview:{t:"Preview"},Print:{t:"Print",s:"Ctrl+P"},Fullscreen:{t:"Fullscreen",s:"Esc"},About:{t:"About"}},toolsThemes={mini:"Bold,Italic,Underline,Strikethrough,|,Align,List,|,Link,Img",simple:"Blocktag,Fontface,FontSize,Bold,Italic,Underline,Strikethrough,FontColor,BackColor,|,Align,List,Outdent,Indent,|,Link,Img,Emot",full:"Cut,Copy,Paste,Pastetext,|,Blocktag,Fontface,FontSize,Bold,Italic,Underline,Strikethrough,FontColor,BackColor,SelectAll,Removeformat,|,Align,List,Outdent,Indent,|,Link,Unlink,Anchor,Img,Flash,Media,Hr,Emot,Table,|,Source,Preview,Print,Fullscreen"};toolsThemes.mfull=toolsThemes.full.replace(\/\\|(,Align)\/i,"\/$1");var arrDbClick={a:"Link",img:"Img",embed:"Embed"},uploadInputname="filedata",arrEntities={"<":"&lt;",">":"&gt;",'"':"&quot;","\\u00ae":"&reg;","\\u00a9":"&copy;"},regEntities=\/[<>"\\u00ae\\u00a9]\/g,Xheditor=function(textarea,options){function checkDblClick(e){var t=e.target,i=arrDbClick[t.tagName.toLowerCase()];if(i){if("Embed"===i){var s={"application\/x-shockwave-flash":"Flash","application\/x-mplayer2":"Media"};i=s[t.type.toLowerCase()]}_this.exec(i)}}function checkEsc(e){return 27===e.which?(bShowModal?_this.removeModal():bShowPanel&&_this.hidePanel(),!1):undefined}function loadReset(){setTimeout(_this.setSource,10)}function saveResult(){_this.getSource()}function cleanPaste(e){var t,i,s;if(e&&(t=e.originalEvent.clipboardData)&&(i=t.items)&&(s=i[0])&&"file"==s.kind&&s.type.match(\/^image\\\/\/i)){var a=s.getAsFile(),n=new FileReader;return n.onload=function(){var e='<img src="'+event.target.result+'">';e=replaceRemoteImg(e),_this.pasteHTML(e)},n.readAsDataURL(a),!1}var o=settings.cleanPaste;if(0===o||bSource||bCleanPaste)return!0;bCleanPaste=!0,_this.saveBookmark();var l=isIE?"pre":"div",r=$("<"+l+' class="xhe-paste">\\ufeff\\ufeff<\/'+l+">",_doc).appendTo(_doc.body),h=r[0],c=_this.getSel(),d=_this.getRng(!0);r.css("top",_jWin.scrollTop()),isIE?(d.moveToElementText(h),d.select()):(d.selectNodeContents(h),c.removeAllRanges(),c.addRange(d)),setTimeout(function(){var e,t=3===o;if(t)r.html(r.html().replace(\/<br(\\s+[^<>]*)?>\/gi,"\\n")),e=r.text();else{var i=$(".xhe-paste",_doc.body),s=[];i.each(function(e,t){0==$(t).find(".xhe-paste").length&&s.push(t.innerHTML)}),e=s.join("<br \/>")}r.remove(),_this.loadBookmark(),e=e.replace(\/^[\\s\\uFEFF]+|[\\s\\uFEFF]+$\/g,""),e&&(t?_this.pasteText(e):(e=_this.cleanHTML(e),e=_this.cleanWord(e),e=_this.formatXHTML(e),(!settings.onPaste||settings.onPaste&&(e=settings.onPaste(e))!==!1)&&(e=replaceRemoteImg(e),_this.pasteHTML(e)))),bCleanPaste=!1},0)}function replaceRemoteImg(e){var t=settings.localUrlTest,i=settings.remoteImgSaveUrl;if(t&&i){var s=[],a=0;e=e.replace(\/(<img)((?:\\s+[^>]*?)?(?:\\s+src="\\s*([^"]+)\\s*")(?: [^>]*)?)(\\\/?>)\/gi,function(e,i,n,o,l){return!\/^(https?|data:image)\/i.test(o)||\/_xhe_temp\/.test(n)||t.test(o)||(s[a]=o,n=n.replace(\/\\s+(width|height)="[^"]*"\/gi,"").replace(\/\\s+src="[^"]*"\/gi,' src="'+skinPath+'img\/waiting.gif" remoteimg="'+a++ +'"')),i+n+l}),s.length>0&&$.post(i,{urls:s.join("|")},function(e){e=e.split("|"),$("img[remoteimg]",_this.doc).each(function(){var t=$(this);xheAttr(t,"src",e[t.attr("remoteimg")]),t.removeAttr("remoteimg")})})}return e}function setCSS(e){try{_this._exec("styleWithCSS",e,!0)}catch(t){try{_this._exec("useCSS",!e,!0)}catch(t){}}}function setOpts(){if(bInit&&!bSource){setCSS(!1);try{_this._exec("enableObjectResizing",!0,!0)}catch(e){}if(isIE)try{_this._exec("BackgroundImageCache",!0,!0)}catch(e){}}}function forcePtag(e){if(bSource||13!==e.which||e.shiftKey||e.ctrlKey||e.altKey)return!0;var t=_this.getParent("p,h1,h2,h3,h4,h5,h6,pre,address,div,li");return t.is("li")?!0:settings.forcePtag?(0===t.length&&_this._exec("formatblock","<p>"),undefined):(_this.pasteHTML("<br \/>"),isIE&&t.length>0&&2===_this.getRng().parentElement().childNodes.length&&_this.pasteHTML("<br \/>"),!1)}function fixFullHeight(){isMozilla||isWebkit||(bFullscreen&&_jArea.height("100%").css("height",_jArea.outerHeight()-_jTools.outerHeight()),isIE&&_jTools.hide().show())}function fixAppleSel(e){if(e=e.target,e.tagName.match(\/(img|embed)\/i)){var t=_this.getSel(),i=_this.getRng(!0);i.selectNode(e),t.removeAllRanges(),t.addRange(i)}}function xheAttr(e,t,i){if(!t)return!1;var s="_xhe_"+t;return i&&(urlType&&(i=getLocalUrl(i,urlType,urlBase)),e.attr(t,urlBase?getLocalUrl(i,"abs",urlBase):i).removeAttr(s).attr(s,i)),e.attr(s)||e.attr(t)}function clickCancelPanel(){bClickCancel&&_this.hidePanel()}function checkShortcuts(e){if(bSource)return!0;var t=e.which,i=specialKeys[t],s=i?i:String.fromCharCode(t).toLowerCase();sKey="",sKey+=e.ctrlKey?"ctrl+":"",sKey+=e.altKey?"alt+":"",sKey+=e.shiftKey?"shift+":"",sKey+=s;var a,n=arrShortCuts[sKey];for(a in n){if(a=n[a],!$.isFunction(a))return _this.exec(a),!1;if(a.call(_this)===!1)return!1}}function is(e,t){var i=typeof e;return t?"array"===t&&e.hasOwnProperty&&e instanceof Array?!0:i===t:"undefined"!=i}function getLocalUrl(e,t,i){if(e.match(\/^(\\w+):\\\/\\\/\/i)&&!e.match(\/^https?:\/i)||\/^#\/i.test(e)||\/^data:\/i.test(e))return e;var s=i?$('<a href="'+i+'" \/>')[0]:location,a=s.protocol,n=s.host,o=s.hostname,l=s.port,r=s.pathname.replace(\/\\\\\/g,"\/").replace(\/[^\\\/]+$\/i,"");if(""===l&&(l="80"),""===r?r="\/":"\/"!==r.charAt(0)&&(r="\/"+r),e=$.trim(e),"abs"!==t&&(e=e.replace(RegExp(a+"\\\\\/\\\\\/"+o.replace(\/\\.\/g,"\\\\.")+"(?::"+l+")"+("80"===l?"?":"")+"(\/|$)","i"),"\/")),"rel"===t&&(e=e.replace(RegExp("^"+r.replace(\/([\\\/\\.\\+\\[\\]\\(\\)])\/g,"\\\\$1"),"i"),"")),"rel"!==t&&(e.match(\/^(https?:\\\/\\\/|\\\/)\/i)||(e=r+e),"\/"===e.charAt(0))){var h,c,d=[],u=e.split("\/"),p=u.length;for(c=0;p>c;c++)h=u[c],".."===h?d.pop():""!==h&&"."!==h&&d.push(h);""===u[p-1]&&d.push(""),e="\/"+d.join("\/")}return"abs"!==t||e.match(\/^https?:\\\/\\\/\/i)||(e=a+"\/\/"+n+e),e=e.replace(\/(https?:\\\/\\\/[^:\\\/?#]+):80(\\\/|$)\/i,"$1$2")}function checkFileExt(e,t){return"*"===t||e.match(RegExp(".("+t.replace(\/,\/g,"|")+")$","i"))?!0:(alert(getLang("upload.extLimit",t)),!1)}function formatBytes(e){var t=["Byte","KB","MB","GB","TB","PB"],i=Math.floor(Math.log(e)\/Math.log(1024));return(e\/Math.pow(1024,Math.floor(i))).toFixed(2)+t[i]}function returnFalse(){return!1}var _this=this,_text=textarea,_jText=$(_text),_jForm=_jText.closest("form"),_jTools,_jArea,_win,_jWin,_doc,_jDoc,bookmark,bInit=!1,bSource=!1,bFullscreen=!1,bCleanPaste=!1,outerScroll,bShowBlocktag=!1,sLayoutStyle="",ev=null,timer,bDisableHoverExec=!1,bQuickHoverExec=!1,lastPoint=null,lastAngle=null,editorHeight=0,settings=_this.settings=$.extend({},XHEDITOR.settings,options),plugins=settings.plugins,strPlugins=[];if(plugins&&(arrTools=$.extend({},arrTools,plugins),$.each(plugins,function(e){strPlugins.push(e)}),strPlugins=strPlugins.join(",")),settings.tools.match(\/^\\s*(m?full|simple|mini)\\s*$\/i)){var toolsTheme=toolsThemes[$.trim(settings.tools)];settings.tools=settings.tools.match(\/m?full\/i)&&plugins?toolsTheme.replace("Table","Table,"+strPlugins):toolsTheme}settings.tools.match(\/(^|,)\\s*About\\s*(,|$)\/i)||(settings.tools+=",About"),settings.tools=settings.tools.split(","),settings.editorRoot&&(editorRoot=settings.editorRoot),bAir===!1&&(editorRoot=getLocalUrl(editorRoot,"abs")),settings.urlBase&&(settings.urlBase=getLocalUrl(settings.urlBase,"abs"));var idCSS="xheCSS_"+settings.skin,idContainer="xhe"+xCount+"_container",idTools="xhe"+xCount+"_Tool",idIframeArea="xhe"+xCount+"_iframearea",idIframe="xhe"+xCount+"_iframe",idFixFFCursor="xhe"+xCount+"_fixffcursor",headHTML="",bodyClass="",skinPath=editorRoot+"xheditor_skin\/"+settings.skin+"\/",arrEmots=itemEmots,urlType=settings.urlType,urlBase=settings.urlBase,emotPath=settings.emotPath,emotPath=emotPath?emotPath:editorRoot+"xheditor_emot\/",selEmotGroup="";arrEmots=$.extend({},arrEmots,settings.emots),emotPath=getLocalUrl(emotPath,"rel",urlBase?urlBase:null),bShowBlocktag=settings.showBlocktag,bShowBlocktag&&(bodyClass+=" showBlocktag");var arrShortCuts=[];this.init=function(){function e(e){var t,i=$(e.target);(t=i.css("width"))&&i.css("width","").attr("width",t.replace(\/[^0-9%]+\/g,"")),(t=i.css("height"))&&i.css("height","").attr("height",t.replace(\/[^0-9%]+\/g,""))}0===$("#"+idCSS).length&&$("head").append('<link id="'+idCSS+'" rel="stylesheet" type="text\/css" href="'+skinPath+'ui.css" \/>');var t=_jText.outerWidth(),i=_jText.outerHeight(),s=settings.width||_text.style.width||(t>10?t:0);editorHeight=settings.height||_text.style.height||(i>10?i:150),\/^\\d+(?:\\.\\d+)?$\/.test(s)&&(s+="px"),is(editorHeight,"string")&&(editorHeight=editorHeight.replace(\/[^\\d]+\/g,""));var a,n,o=settings.background||_text.style.background,l=['<span class="xheGStart"\/>'],r=\/\\||\\\/\/i;$.each(settings.tools,function(e,t){if(t.match(r)&&l.push('<span class="xheGEnd"\/>'),"|"===t)l.push('<span class="xheSeparator"\/>');else if("\/"===t)l.push("<br \/>");else{if(a=arrTools[t],!a)return;n=a.c?a.c:"xheIcon xheBtn"+t,l.push('<span><a href="#" title="{#'+a.t+'}" cmd="'+t+'" class="xheButton xheEnabled" tabindex="-1" role="button"><span class="'+n+'" unselectable="on" style="font-size:0;color:transparent;text-indent:-999px;">'+a.t+"<\/span><\/a><\/span>"),a.s&&_this.addShortcuts(a.s,t)}t.match(r)&&l.push('<span class="xheGStart"\/>')}),l.push('<span class="xheGEnd"\/><br \/>'),_jText.after($('<input type="text" id="'+idFixFFCursor+'" style="position:absolute;display:none;" \/><span id="'+idContainer+'" class="xhe_'+settings.skin+'" style="display:none"><table cellspacing="0" cellpadding="0" class="xheLayout" style="'+("0px"!=s?"width:"+s+";":"")+"height:"+editorHeight+'px;" role="presentation"><tr><td id="'+idTools+'" class="xheTool" unselectable="on" style="height:1px;" role="presentation"><\/td><\/tr><tr><td id="'+idIframeArea+'" class="xheIframeArea" role="presentation"><iframe frameborder="0" id="'+idIframe+'" src="javascript:;" style="width:100%;"><\/iframe><\/td><\/tr><\/table><\/span>')),_jTools=$("#"+idTools),_jArea=$("#"+idIframeArea),headHTML='<meta http-equiv="Content-Type" content="text\/html; charset=utf-8" \/><link rel="stylesheet" href="'+skinPath+'iframe.css"\/>';var h=settings.loadCSS;if(h)if(is(h,"array"))for(var c in h)headHTML+='<link rel="stylesheet" href="'+h[c]+'"\/>';else headHTML+=h.match(\/\\s*<style(\\s+[^>]*?)?>[\\s\\S]+?<\\\/style>\\s*\/i)?h:'<link rel="stylesheet" href="'+h+'"\/>';var d='<!DOCTYPE html><html xmlns="http:\/\/www.w3.org\/1999\/xhtml"><head>'+headHTML+"<title>{#defaultReadTip} "+(settings.readTip?settings.readTip:"")+"<\/title>";o&&(d+="<style>html{background:"+o+";}<\/style>"),d+='<\/head><body spellcheck="0" class="editMode'+bodyClass+'"><\/body><\/html>',_this.win=_win=$("#"+idIframe)[0].contentWindow,_jWin=$(_win);try{this.doc=_doc=_win.document,_jDoc=$(_doc),_doc.open(),_doc.write(getLang(d)),_doc.close(),isIE?_doc.body.contentEditable="true":_doc.designMode="On"}catch(u){}setTimeout(setOpts,300),_this.setSource(),_win.setInterval=null,_jTools.append(getLang(l.join(""))).bind("mousedown contextmenu",returnFalse).click(function(e){var t=$(e.target).closest("a");return t.is(".xheEnabled")&&(clearTimeout(timer),_jTools.find("a").attr("tabindex","-1"),ev=e,_this.exec(t.attr("cmd"))),!1}),_jTools.find(".xheButton").hover(function(e){var t=$(this),i=settings.hoverExecDelay,s=lastAngle;if(lastAngle=null,-1===i||bDisableHoverExec||!t.is(".xheEnabled"))return!1;if(s&&s>10)return bDisableHoverExec=!0,setTimeout(function(){bDisableHoverExec=!1},100),!1;var a=t.attr("cmd"),n=1===arrTools[a].h;return n?(bQuickHoverExec&&(i=0),i>=0&&(timer=setTimeout(function(){ev=e,lastPoint={x:ev.clientX,y:ev.clientY},_this.exec(a)},i)),undefined):(_this.hidePanel(),!1)},function(){lastPoint=null,timer&&clearTimeout(timer)}).mousemove(function(e){if(lastPoint){var t={x:e.clientX-lastPoint.x,y:e.clientY-lastPoint.y};if(Math.abs(t.x)>1||Math.abs(t.y)>1){if(t.x>0&&t.y>0){var i=Math.round(Math.atan(t.y\/t.x)\/.017453293);lastAngle=lastAngle?(lastAngle+i)\/2:i}else lastAngle=null;lastPoint={x:e.clientX,y:e.clientY}}}}),_jPanel=$("#xhePanel"),_jShadow=$("#xheShadow"),_jCntLine=$("#xheCntLine"),0===_jPanel.length&&(_jPanel=$('<div id="xhePanel"><\/div>').mousedown(function(e){e.stopPropagation()}),_jShadow=$('<div id="xheShadow"><\/div>'),_jCntLine=$('<div id="xheCntLine"><\/div>'),setTimeout(function(){$(document.body).append(_jPanel).append(_jShadow).append(_jCntLine)},10)),$("#"+idContainer).show(),_jText.hide(),_jArea.css("height",editorHeight-_jTools.outerHeight()),isIE&8>browerVer&&setTimeout(function(){_jArea.css("height",editorHeight-_jTools.outerHeight())},1),_jText.focus(_this.focus),_jForm.submit(saveResult).bind("reset",loadReset),settings.submitID&&$("#"+settings.submitID).mousedown(saveResult),$(window).bind("unload beforeunload",saveResult).bind("resize",fixFullHeight),$(document).mousedown(clickCancelPanel),bCheckEscInit||($(document).keydown(checkEsc),bCheckEscInit=!0),_jWin.focus(function(){settings.focus&&settings.focus()}).blur(function(){settings.blur&&settings.blur()}),isWebkit&&_jWin.click(fixAppleSel),_jDoc.mousedown(clickCancelPanel).keydown(checkShortcuts).keypress(forcePtag).dblclick(checkDblClick).bind("mousedown click",function(e){_jText.trigger(e.type)}),isIE&&(_jDoc.keydown(function(e){var t=_this.getRng();return 8===e.which&&t.item?($(t.item(0)).remove(),!1):undefined}),_jDoc.bind("controlselect",function(t){t=t.target,$.nodeName(t,"IMG")&&$(t).unbind("resizeend",e).bind("resizeend",e)})),_jDoc.keydown(function(e){var t=e.which;return e.altKey&&t>=49&&57>=t?(_jTools.find("a").attr("tabindex","0"),_jTools.find(".xheGStart").eq(t-49).next().find("a").focus(),_doc.title="\\ufeff\\ufeff",!1):undefined}).click(function(){_jTools.find("a").attr("tabindex","-1")}),_jTools.keydown(function(e){var t=e.which;if(27==t)_jTools.find("a").attr("tabindex","-1"),_this.focus();else if(e.altKey&&t>=49&&57>=t)return _jTools.find(".xheGStart").eq(t-49).next().find("a").focus(),!1});var p=$(_doc.documentElement);isOpera?p.bind("keydown",function(e){e.ctrlKey&&86===e.which&&cleanPaste()}):p.bind(isIE?"beforepaste":"paste",cleanPaste),settings.disableContextmenu&&p.bind("contextmenu",returnFalse),settings.html5Upload&&p.bind("dragenter dragover",function(e){var t;return(t=e.originalEvent.dataTransfer.types)&&-1!==$.inArray("Files",t)?!1:undefined}).bind("drop",function(e){function t(e){var t,i,s;for(a=0;e.length>a;a++){if(i=e[a].name.replace(\/.+\\.\/,""),!(t=o.match(RegExp("(\\\\w+):[^:]*,"+i+"(?:,|$)","i"))))return 1;if(s){if(s!==t[1])return 2}else s=t[1]}return s}var i,s=e.originalEvent.dataTransfer;if(s&&(i=s.files)&&i.length>0){var a,n,o,l=["Link","Img","Flash","Media"],r=[];for(a in l)n=l[a],settings["up"+n+"Url"]&&settings["up"+n+"Url"].match(\/^[^!].*\/i)&&r.push(n+":,"+settings["up"+n+"Ext"]);return 0===r.length?!1:(o=r.join(","),n=t(i),1===n?alert(getLang("upload.extLimit",o.replace(\/\\w+:,\/g,""))):2===n?alert(getLang("upload.typeLimit")):n&&_this.startUpload(i,settings["up"+n+"Url"],"*",function(e){var t,i=[],s=settings.onUpload;s&&s(e);for(var a=0,o=e.length;o>a;a++)t=e[a],url=is(t,"string")?t:t.url,"!"===url.substr(0,1)&&(url=url.substr(1)),i.push(url);_this.exec(n),$("#xhe"+n+"Url").val(i.join(" ")),$("#xheSave").click()}),!1)}});var g=settings.shortcuts;g&&$.each(g,function(e,t){_this.addShortcuts(e,t)}),xCount++,bInit=!0,settings.fullscreen?_this.toggleFullscreen():settings.sourceMode&&setTimeout(_this.toggleSource,20);var f=settings.plugins;return f&&$.each(f,function(e,t){var i=t.i;i!==undefined&&i(_this)}),!0},this.remove=function(){_this.hidePanel(),saveResult(),_jText.unbind("focus",_this.focus),_jForm.unbind("submit",saveResult).unbind("reset",loadReset),settings.submitID&&$("#"+settings.submitID).unbind("mousedown",saveResult),$(window).unbind("unload beforeunload",saveResult).unbind("resize",fixFullHeight),$(document).unbind("mousedown",clickCancelPanel),$("#"+idContainer).remove(),$("#"+idFixFFCursor).remove(),_jText.show(),bInit=!1},this.saveBookmark=function(){if(!bSource){_this.focus();var e=_this.getRng();e=e.cloneRange?e.cloneRange():e,bookmark={top:_jWin.scrollTop(),rng:e}}},this.loadBookmark=function(){if(!bSource&&bookmark){_this.focus();var e=bookmark.rng;if(isIE)e.select();else{var t=_this.getSel();t.removeAllRanges(),t.addRange(e)}_jWin.scrollTop(bookmark.top),bookmark=null}},this.focus=function(){if(bSource?$("#sourceCode",_doc).focus():_win.focus(),isIE){var e=_this.getRng();e.parentElement&&e.parentElement().ownerDocument!==_doc&&_this.setTextCursor()}return!1},this.setTextCursor=function(e){var t=_this.getRng(!0),i=_doc.body;if(isIE)t.moveToElementText(i);else{for(var s=e?"lastChild":"firstChild";3!=i.nodeType&&i[s];)i=i[s];t.selectNode(i)}if(t.collapse(e?!1:!0),isIE)t.select();else{var a=_this.getSel();a.removeAllRanges(),a.addRange(t)}},this.getSel=function(){return _doc.selection?_doc.selection:_win.getSelection()},this.getRng=function(e){var t,i;try{e||(t=_this.getSel(),i=t.createRange?t.createRange():t.rangeCount>0?t.getRangeAt(0):null),i||(i=_doc.body.createTextRange?_doc.body.createTextRange():_doc.createRange())}catch(s){}return i},this.getParent=function(e){var t,i=_this.getRng();return isIE?t=i.item?i.item(0):i.parentElement():(t=i.commonAncestorContainer,i.collapsed||i.startContainer===i.endContainer&&2>i.startOffset-i.endOffset&&i.startContainer.hasChildNodes()&&(t=i.startContainer.childNodes[i.startOffset])),e=e?e:"*",t=$(t),t.is(e)||(t=$(t).closest(e)),t},this.getSelect=function(e){var t=_this.getSel(),i=_this.getRng(),s=!0;if(s=!i||i.item?!1:!t||0===i.boundingWidth||i.collapsed,"text"===e)return s?"":i.text||(t.toString?""+t:"");var a;if(i.cloneContents){var n,o=$("<div><\/div>");n=i.cloneContents(),n&&o.append(n),a=o.html()}else a=is(i.item)?i.item(0).outerHTML:is(i.htmlText)?i.htmlText:""+i;return s&&(a=""),a=_this.processHTML(a,"read"),a=_this.cleanHTML(a),a=_this.formatXHTML(a)},this.pasteHTML=function(e,t){if(bSource)return!1;_this.focus(),e=_this.processHTML(e,"write");var i=_this.getSel(),s=_this.getRng();if(t!==undefined){if(s.item){var a=s.item(0);s=_this.getRng(!0),s.moveToElementText(a),s.select()}s.collapse(t)}if(e+="<"+(isIE?"img":"span")+' id="_xhe_temp" width="0" height="0" \/>',s.insertNode){if($(s.startContainer).closest("style,script").length>0)return!1;s.deleteContents(),s.insertNode(s.createContextualFragment(e))}else"control"===i.type.toLowerCase()&&(i.clear(),s=_this.getRng()),s.pasteHTML(e);var n=$("#_xhe_temp",_doc),o=n[0];isIE?(s.moveToElementText(o),s.select()):(s.selectNode(o),i.removeAllRanges(),i.addRange(s)),n.remove()},this.pasteText=function(e,t){e||(e=""),e=_this.domEncode(e),e=e.replace(\/\\r?\\n\/g,"<br \/>"),_this.pasteHTML(e,t)},this.appendHTML=function(e){return bSource?!1:(_this.focus(),e=_this.processHTML(e,"write"),$(_doc.body).append(e),_this.setTextCursor(!0),undefined)},this.domEncode=function(e){return e.replace(regEntities,function(e){return arrEntities[e]})},this.setSource=function(e){bookmark=null,"string"!=typeof e&&""!==e&&(e=_text.value),bSource?$("#sourceCode",_doc).val(e):(settings.beforeSetSource&&(e=settings.beforeSetSource(e)),e=_this.cleanHTML(e),e=_this.formatXHTML(e),e=_this.processHTML(e,"write"),isIE?(_doc.body.innerHTML='<img id="_xhe_temp" width="0" height="0" \/>'+e,$("#_xhe_temp",_doc).remove()):_doc.body.innerHTML=e)},this.processHTML=function(e,t){function i(e,t,i,s,a,o){var l,r,h,c,d="";if(l=s.match(\/font-family\\s*:\\s*([^;"]+)\/i),l&&(d+=' face="'+l[1]+'"'),r=s.match(\/font-size\\s*:\\s*([^;"]+)\/i)){r=r[1].toLowerCase();for(var u=0;n.length>u;u++)if(r===n[u].n||r===n[u].s){h=u+1;break}h&&(d+=' size="'+h+'"',s=s.replace(\/(^|;)(\\s*font-size\\s*:\\s*[^;"]+;?)+\/gi,"$1"))}if(c=s.match(\/(?:^|[\\s;])color\\s*:\\s*([^;"]+)\/i)){var p;if(p=c[1].match(\/\\s*rgb\\s*\\(\\s*(\\d+)\\s*,\\s*(\\d+)\\s*,\\s*(\\d+)\\s*\\)\/i)){c[1]="#";for(var g=1;3>=g;g++)c[1]+=("0"+(p[g]-0).toString(16)).slice(-2)}c[1]=c[1].replace(\/^#([0-9a-f])([0-9a-f])([0-9a-f])$\/i,"#$1$1$2$2$3$3"),d+=' color="'+c[1]+'"'}return s=s.replace(\/(^|;)(\\s*(font-family|color)\\s*:\\s*[^;"]+;?)+\/gi,"$1"),""!==d?(s&&(d+=' style="'+s+'"'),"<font"+(i?i:"")+d+(a?a:"")+">"+o+"<\/font>"):e}function s(e,t,i,s,a){for(var n,l,r=(i?i:"")+(s?s:""),h=[],c=[],d=0;o.length>d;d++)n=o[d].r,l=o[d].t,r=r.replace(n,function(){return h.push("<"+l+">"),c.push("<\/"+l+">"),""});return r=r.replace(\/\\s+style\\s*=\\s*"\\s*"\/i,""),(r?"<span"+r+">":"")+h.join("")+a+c.join("")+(r?"<\/span>":"")}var a=' class="Apple-style-span"',n=settings.listFontsize;if("write"===t)e=e.replace(\/(<(\\\/?)(\\w+))((?:\\s+[\\w\\-:]+\\s*=\\s*(?:"[^"]*"|'[^']*'|[^>\\s]+))*)\\s*((\\\/?)>)\/g,function(e,t,i,s,n,o,l){s=s.toLowerCase(),isMozilla?"strong"===s?s="b":"em"===s&&(s="i"):isWebkit&&("strong"===s?(s="span",i||(n+=a+' style="font-weight: bold;"')):"em"===s?(s="span",i||(n+=a+' style="font-style: italic;"')):"u"===s?(s="span",i||(n+=a+' style="text-decoration: underline;"')):"strike"===s&&(s="span",i||(n+=a+' style="text-decoration: line-through;"')));var r,h="";if("del"===s)s="strike";else if("img"===s)n=n.replace(\/\\s+emot\\s*=\\s*("[^"]*"|'[^']*'|[^>\\s]+)\/i,function(e,t){return r=t.match(\/^(["']?)(.*)\\1\/)[2],r=r.split(","),r[1]||(r[1]=r[0],r[0]=""),"default"===r[0]&&(r[0]=""),settings.emotMark?e:""});else if("a"===s)!n.match(\/ href=[^ ]\/i)&&n.match(\/ name=[^ ]\/i)&&(h+=" xhe-anchor"),l&&(o="><\/a>");else if("table"===s&&!i){var c=n.match(\/\\s+border\\s*=\\s*("[^"]*"|'[^']*'|[^>\\s]+)\/i);(!c||c[1].match(\/^(["']?)\\s*0\\s*\\1$\/))&&(h+=" xhe-border")}var d;if(n=n.replace(\/\\s+([\\w\\-:]+)\\s*=\\s*("[^"]*"|'[^']*'|[^>\\s]+)\/g,function(e,t,i){return t=t.toLowerCase(),i=i.match(\/^(["']?)(.*)\\1\/)[2],aft="",isIE&&t.match(\/^(disabled|checked|readonly|selected)$\/)&&i.match(\/^(false|0)$\/i)?"":"img"===s&&r&&"src"===t?"":(t.match(\/^(src|href)$\/)&&(aft=" _xhe_"+t+'="'+i+'"',urlBase&&(i=getLocalUrl(i,"abs",urlBase))),h&&"class"===t&&(i+=" "+h,h=""),isWebkit&&"style"===t&&"span"===s&&i.match(\/(^|;)\\s*(font-family|font-size|color|background-color)\\s*:\\s*[^;]+\\s*(;|$)\/i)&&(d=!0)," "+t+'="'+i+'"'+aft)}),r){var u=emotPath+(r[0]?r[0]:"default")+"\/"+r[1]+".gif";n+=' src="'+u+'" _xhe_src="'+u+'"'}return d&&(n+=a),h&&(n+=' class="'+h+'"'),"<"+i+s+n+o}),isIE&&(e=e.replace(\/&apos;\/gi,"&#39;")),isWebkit||(e=e.replace(\/<(span)(\\s+[^>]*?)?\\s+style\\s*=\\s*"((?:[^"]*?;)?\\s*(?:font-family|font-size|color)\\s*:[^"]*)"( [^>]*)?>(((?!<\\1(\\s+[^>]*?)?>)[\\s\\S]|<\\1(\\s+[^>]*?)?>((?!<\\1(\\s+[^>]*?)?>)[\\s\\S]|<\\1(\\s+[^>]*?)?>((?!<\\1(\\s+[^>]*?)?>)[\\s\\S])*?<\\\/\\1>)*?<\\\/\\1>)*?)<\\\/\\1>\/gi,i),e=e.replace(\/<(span)(\\s+[^>]*?)?\\s+style\\s*=\\s*"((?:[^"]*?;)?\\s*(?:font-family|font-size|color)\\s*:[^"]*)"( [^>]*)?>(((?!<\\1(\\s+[^>]*?)?>)[\\s\\S]|<\\1(\\s+[^>]*?)?>((?!<\\1(\\s+[^>]*?)?>)[\\s\\S])*?<\\\/\\1>)*?)<\\\/\\1>\/gi,i),e=e.replace(\/<(span)(\\s+[^>]*?)?\\s+style\\s*=\\s*"((?:[^"]*?;)?\\s*(?:font-family|font-size|color)\\s*:[^"]*)"( [^>]*)?>(((?!<\\1(\\s+[^>]*?)?>)[\\s\\S])*?)<\\\/\\1>\/gi,i)),e=e.replace(\/<(td|th)(\\s+[^>]*?)?>(\\s|&nbsp;)*<\\\/\\1>\/gi,"<$1$2>"+(isIE?"":"<br \/>")+"<\/$1>");else{if(isWebkit)for(var o=[{r:\/font-weight\\s*:\\s*bold;?\/gi,t:"strong"},{r:\/font-style\\s*:\\s*italic;?\/gi,t:"em"},{r:\/text-decoration\\s*:\\s*underline;?\/gi,t:"u"},{r:\/text-decoration\\s*:\\s*line-through;?\/gi,t:"strike"}],l=0;2>l;l++)e=e.replace(\/<(span)(\\s+[^>]*?)?\\s+class\\s*=\\s*"Apple-style-span"(\\s+[^>]*?)?>(((?!<\\1(\\s+[^>]*?)?>)[\\s\\S]|<\\1(\\s+[^>]*?)?>((?!<\\1(\\s+[^>]*?)?>)[\\s\\S]|<\\1(\\s+[^>]*?)?>((?!<\\1(\\s+[^>]*?)?>)[\\s\\S])*?<\\\/\\1>)*?<\\\/\\1>)*?)<\\\/\\1>\/gi,s),e=e.replace(\/<(span)(\\s+[^>]*?)?\\s+class\\s*=\\s*"Apple-style-span"(\\s+[^>]*?)?>(((?!<\\1(\\s+[^>]*?)?>)[\\s\\S]|<\\1(\\s+[^>]*?)?>((?!<\\1(\\s+[^>]*?)?>)[\\s\\S])*?<\\\/\\1>)*?)<\\\/\\1>\/gi,s),e=e.replace(\/<(span)(\\s+[^>]*?)?\\s+class\\s*=\\s*"Apple-style-span"(\\s+[^>]*?)?>(((?!<\\1(\\s+[^>]*?)?>)[\\s\\S])*?)<\\\/\\1>\/gi,s);e=e.replace(\/(<(\\w+))((?:\\s+[\\w\\-:]+\\s*=\\s*(?:"[^"]*"|'[^']*'|[^>\\s]+))*)\\s*(\\\/?>)\/g,function(e,t,i,s,a){i=i.toLowerCase();$/;"	p
array	application/models/comment.php	/^				$array = $this->dataFb($array);$/;"	v
array	application/models/user.php	/^            $array = $this->dataFb($array);$/;"	v
array	system/database/DB_active_rec.php	/^		$array = array();$/;"	v
array	system/libraries/Form_validation.php	/^						$array = array();$/;"	v
array	system/libraries/Form_validation.php	/^					$array = $this->_reduce_array($array[$keys[$i]], $keys, ($i+1));$/;"	v
array_js	system/libraries/javascript/Jquery.php	/^			$array_js = array($array_js);$/;"	v
artD	application/controllers/reg.php	/^    public function artD($name,$passwd)$/;"	f
art_text	application/models/art.php	/^        $art_text = addslashes($art_text);$/;"	v
art_title	application/models/art.php	/^        $art_title = addslashes($art_title);$/;"	v
artchange	application/controllers/bg/home.php	/^    function artchange($id){$/;"	f
artchange	application/models/meditor.php	/^		function  artchange($id){$/;"	f
artdel	application/models/bghome.php	/^		function artdel($id){$/;"	f
artdelete	application/controllers/bg/home.php	/^    function  artdelete($id){$/;"	f
artlist	application/controllers/bg/home.php	/^    function artlist(){$/;"	f
artlist_all	application/models/bghome.php	/^		function artlist_all(){$/;"	f
artshow	application/controllers/bg/home.php	/^    function artshow($id){$/;"	f
asc2hex	application/controllers/dsconfig.class.php	/^function asc2hex($str)$/;"	f
asc2hex	dsconfig.class.php	/^function asc2hex($str)$/;"	f
ascii	system/libraries/Email.php	/^				$ascii = ord($char);$/;"	v
ascii	system/libraries/Email.php	/^			$ascii = ord($char);$/;"	v
ascii_to_entities	system/helpers/text_helper.php	/^	function ascii_to_entities($str)$/;"	f
assoc_to_uri	system/core/URI.php	/^	function assoc_to_uri($array)$/;"	f
atStart	application/controllers/HttpClient.class.php	/^    	        $atStart = false;$/;"	v
atStart	application/controllers/HttpClient.class.php	/^    	$atStart = true;$/;"	v
att	system/helpers/form_helper.php	/^		$att = '';$/;"	v
att	system/helpers/url_helper.php	/^			$att = substr($att, 0, -1);$/;"	v
att	system/helpers/url_helper.php	/^		$att = '';$/;"	v
attach	system/libraries/Email.php	/^	public function attach($filename, $disposition = 'attachment')$/;"	f
attachDir	application/controllers/write.php	/^                    $attachDir = $attachDir.'\/'.$attachSubDir;$/;"	v
attachDir	application/controllers/write.php	/^        $attachDir="upload";\/\/上传文件保存路径，结尾不要带\/$/;"	v
attachSubDir	application/controllers/write.php	/^                    $attachSubDir = 'month_'.date('ym');$/;"	v
attachSubDir	application/controllers/write.php	/^                    case 1: $attachSubDir = 'day_'.date('ymd'); break;$/;"	v
attachSubDir	application/controllers/write.php	/^                    case 2: $attachSubDir = 'month_'.date('ym'); break;$/;"	v
attachSubDir	application/controllers/write.php	/^                    case 3: $attachSubDir = 'ext_'.$extension; break;$/;"	v
attachment	system/libraries/Email.php	/^		$attachment = array();$/;"	v
attempt	system/libraries/Xmlrpcs.php	/^			$attempt = $this->_execute($m);$/;"	v
attr	application/controllers/item.php	/^            $attr = explode("|",$det["attr"]);$/;"	v
attr	system/libraries/ckeditor.php	/^		$attr = "";$/;"	v
attribs	system/core/Security.php	/^			$attribs = array();$/;"	v
attributes	system/core/Security.php	/^		$attributes = $this->_filter_attributes(str_replace(array('<', '>'), '', $match[1]));$/;"	v
attributes	system/database/drivers/cubrid/cubrid_forge.php	/^				$attributes = array_change_key_case($attributes, CASE_UPPER);$/;"	v
attributes	system/database/drivers/mssql/mssql_forge.php	/^				$attributes = array_change_key_case($attributes, CASE_UPPER);$/;"	v
attributes	system/database/drivers/mysql/mysql_forge.php	/^				$attributes = array_change_key_case($attributes, CASE_UPPER);$/;"	v
attributes	system/database/drivers/mysqli/mysqli_forge.php	/^				$attributes = array_change_key_case($attributes, CASE_UPPER);$/;"	v
attributes	system/database/drivers/oci8/oci8_forge.php	/^				$attributes = array_change_key_case($attributes, CASE_UPPER);$/;"	v
attributes	system/database/drivers/odbc/odbc_forge.php	/^				$attributes = array_change_key_case($attributes, CASE_UPPER);$/;"	v
attributes	system/database/drivers/pdo/pdo_forge.php	/^				$attributes = array_change_key_case($attributes, CASE_UPPER);$/;"	v
attributes	system/database/drivers/postgre/postgre_forge.php	/^				$attributes = array_change_key_case($attributes, CASE_UPPER);$/;"	v
attributes	system/database/drivers/sqlite/sqlite_forge.php	/^				$attributes = array_change_key_case($attributes, CASE_UPPER);$/;"	v
attributes	system/database/drivers/sqlsrv/sqlsrv_forge.php	/^				$attributes = array_change_key_case($attributes, CASE_UPPER);$/;"	v
attributes	system/helpers/form_helper.php	/^			$attributes = 'method="post"';$/;"	v
attributes	system/helpers/form_helper.php	/^			$attributes = (array)$attributes;$/;"	v
attributes	system/helpers/form_helper.php	/^	function form_fieldset($legend_text = '', $attributes = array())$/;"	v
attributes	system/helpers/form_helper.php	/^	function form_open($action = '', $attributes = '', $hidden = array())$/;"	v
attributes	system/helpers/form_helper.php	/^	function form_open_multipart($action = '', $attributes = array(), $hidden = array())$/;"	v
attributes	system/helpers/html_helper.php	/^			$attributes = $atts;$/;"	v
attributes	system/helpers/html_helper.php	/^			$attributes = ' '. $attributes;$/;"	v
attributes	system/helpers/html_helper.php	/^		$attributes = ($attributes != '') ? ' '.$attributes : $attributes;$/;"	v
attributes	system/helpers/html_helper.php	/^	function _list($type = 'ul', $list, $attributes = '', $depth = 0)$/;"	v
attributes	system/helpers/html_helper.php	/^	function ol($list, $attributes = '')$/;"	v
attributes	system/helpers/html_helper.php	/^	function ul($list, $attributes = '')$/;"	v
attributes	system/helpers/url_helper.php	/^			$attributes = _parse_attributes($attributes);$/;"	v
attributes	system/helpers/url_helper.php	/^			$attributes = array();$/;"	v
attributes	system/helpers/url_helper.php	/^		$attributes = _parse_attributes($attributes);$/;"	v
atts	system/helpers/form_helper.php	/^			$atts = '';$/;"	v
atts	system/helpers/html_helper.php	/^			$atts = '';$/;"	v
author	application/controllers/home.php	/^            $author=$this->user->getNess($ans[$i]["author_id"]);$/;"	v
author	application/controllers/item.php	/^        $author = $this->user->getItem($det["author_id"]);\/\/关于店主的个人信息$/;"	v
author	application/controllers/mainpage.php	/^            $author=$this->user->getNess($ans[$i]["author_id"]);$/;"	v
author	application/controllers/space.php	/^                    $author = $this->user->getNameById($temp["author_id"]);$/;"	v
author_check	application/models/user.php	/^    private function author_check($permit_level)$/;"	f
auto_commit	system/database/drivers/cubrid/cubrid_driver.php	/^				$this->auto_commit = TRUE;$/;"	v
auto_heading	system/libraries/Table.php	/^		$this->auto_heading		= TRUE;$/;"	v
auto_heading	system/libraries/Table.php	/^		$this->auto_heading = FALSE;$/;"	v
auto_heading	system/libraries/Table.php	/^	var $auto_heading		= TRUE;$/;"	v
auto_link	system/helpers/url_helper.php	/^	function auto_link($str, $type = 'both', $popup = FALSE)$/;"	f
auto_typography	system/helpers/typography_helper.php	/^	function auto_typography($str, $strip_js_event_handlers = TRUE, $reduce_linebreaks = FALSE)$/;"	f
auto_typography	system/libraries/Typography.php	/^	function auto_typography($str, $reduce_linebreaks = FALSE)$/;"	f
autoinit	system/database/DB_driver.php	/^	var $autoinit		= TRUE; \/\/ Whether to automatically initialize the DB$/;"	v
autoload.autoAppend	js/home.js	/^    function autoAppend () {$/;"	f
automatically	system/core/CodeIgniter.php	/^	\/\/ Note: The Router class automatically validates the controller path using the router->_validate_request().$/;"	c
b	js/xheditor_plugins/showdown.js	/^var Showdown={extensions:{}},forEach=Showdown.forEach=function(a,b){if(typeof a.forEach=="function")a.forEach(b);else{var c,d=a.length;for(c=0;c<d;c++)b(a[c],c,a)}},stdExtName=function(a){return a.replace(\/[_-]||\\s\/g,"").toLowerCase()};Showdown.converter=function(a){var b,c,d,e=0,f=[],g=[];if(typeof module!="undefind"&&typeof exports!="undefined"&&typeof require!="undefind"){var h=require("fs");if(h){var i=h.readdirSync((__dirname||".")+"\/extensions").filter(function(a){return~a.indexOf(".js")}).map(function(a){return a.replace(\/\\.js$\/,"")});Showdown.forEach(i,function(a){var b=stdExtName(a);Showdown.extensions[b]=require(".\/extensions\/"+a)})}}this.makeHtml=function(a){return b={},c={},d=[],a=a.replace(\/~\/g,"~T"),a=a.replace(\/\\$\/g,"~D"),a=a.replace(\/\\r\\n\/g,"\\n"),a=a.replace(\/\\r\/g,"\\n"),a="\\n\\n"+a+"\\n\\n",a=M(a),a=a.replace(\/^[ \\t]+$\/mg,""),Showdown.forEach(f,function(b){a=k(b,a)}),a=z(a),a=m(a),a=l(a),a=o(a),a=K(a),a=a.replace(\/~D\/g,"$$"),a=a.replace(\/~T\/g,"~"),Showdown.forEach(g,function(b){a=k(b,a)}),a};if(a&&a.extensions){var j=this;Showdown.forEach(a.extensions,function(a){typeof a=="string"&&(a=Showdown.extensions[stdExtName(a)]);if(typeof a!="function")throw"Extension '"+a+"' could not be loaded.  It was either not found or is not a valid extension.";Showdown.forEach(a(j),function(a){a.type?a.type==="language"||a.type==="lang"?f.push(a):(a.type==="output"||a.type==="html")&&g.push(a):g.push(a)})})}var k=function(a,b){if(a.regex){var c=new RegExp(a.regex,"g");return b.replace(c,a.replace)}if(a.filter)return a.filter(b)},l=function(a){return a+="~0",a=a.replace(\/^[ ]{0,3}\\[(.+)\\]:[ \\t]*\\n?[ \\t]*<?(\\S+?)>?[ \\t]*\\n?[ \\t]*(?:(\\n*)["(](.+?)[")][ \\t]*)?(?:\\n+|(?=~0))\/gm,function(a,d,e,f,g){return d=d.toLowerCase(),b[d]=G(e),f?f+g:(g&&(c[d]=g.replace(\/"\/g,"&quot;")),"")}),a=a.replace(\/~0\/,""),a},m=function(a){a=a.replace(\/\\n\/g,"\\n\\n");var b="p|div|h[1-6]|blockquote|pre|table|dl|ol|ul|script|noscript|form|fieldset|iframe|math|ins|del|style|section|header|footer|nav|article|aside",c="p|div|h[1-6]|blockquote|pre|table|dl|ol|ul|script|noscript|form|fieldset|iframe|math|style|section|header|footer|nav|article|aside";return a=a.replace(\/^(<(p|div|h[1-6]|blockquote|pre|table|dl|ol|ul|script|noscript|form|fieldset|iframe|math|ins|del)\\b[^\\r]*?\\n<\\\/\\2>[ \\t]*(?=\\n+))\/gm,n),a=a.replace(\/^(<(p|div|h[1-6]|blockquote|pre|table|dl|ol|ul|script|noscript|form|fieldset|iframe|math|style|section|header|footer|nav|article|aside)\\b[^\\r]*?<\\\/\\2>[ \\t]*(?=\\n+)\\n)\/gm,n),a=a.replace(\/(\\n[ ]{0,3}(<(hr)\\b([^<>])*?\\\/?>)[ \\t]*(?=\\n{2,}))\/g,n),a=a.replace(\/(\\n\\n[ ]{0,3}<!(--[^\\r]*?--\\s*)+>[ \\t]*(?=\\n{2,}))\/g,n),a=a.replace(\/(?:\\n\\n)([ ]{0,3}(?:<([?%])[^\\r]*?\\2>)[ \\t]*(?=\\n{2,}))\/g,n),a=a.replace(\/\\n\\n\/g,"\\n"),a},n=function(a,b){var c=b;return c=c.replace(\/\\n\\n\/g,"\\n"),c=c.replace(\/^\\n\/,""),c=c.replace(\/\\n+$\/g,""),c="\\n\\n~K"+(d.push(c)-1)+"K\\n\\n",c},o=function(a){a=v(a);var b=A("<hr \/>");return a=a.replace(\/^[ ]{0,2}([ ]?\\*[ ]?){3,}[ \\t]*$\/gm,b),a=a.replace(\/^[ ]{0,2}([ ]?\\-[ ]?){3,}[ \\t]*$\/gm,b),a=a.replace(\/^[ ]{0,2}([ ]?\\_[ ]?){3,}[ \\t]*$\/gm,b),a=x(a),a=y(a),a=E(a),a=m(a),a=F(a),a},p=function(a){return a=B(a),a=q(a),a=H(a),a=t(a),a=r(a),a=I(a),a=G(a),a=D(a),a=a.replace(\/  +\\n\/g," <br \/>\\n"),a},q=function(a){var b=\/(<[a-z\\\/!$]("[^"]*"|'[^']*'|[^'">])*>|<!(--.*?--\\s*)+>)\/gi;return a=a.replace(b,function(a){var b=a.replace(\/(.)<\\\/?code>(?=.)\/g,"$1`");return b=N(b,"\\\\`*_"),b}),a},r=function(a){return a=a.replace(\/(\\[((?:\\[[^\\]]*\\]|[^\\[\\]])*)\\][ ]?(?:\\n[ ]*)?\\[(.*?)\\])()()()()\/g,s),a=a.replace(\/(\\[((?:\\[[^\\]]*\\]|[^\\[\\]])*)\\]\\([ \\t]*()<?(.*?(?:\\(.*?\\).*?)?)>?[ \\t]*((['"])(.*?)\\6[ \\t]*)?\\))\/g,s),a=a.replace(\/(\\[([^\\[\\]]+)\\])()()()()()\/g,s),a},s=function(a,d,e,f,g,h,i,j){j==undefined&&(j="");var k=d,l=e,m=f.toLowerCase(),n=g,o=j;if(n==""){m==""&&(m=l.toLowerCase().replace(\/ ?\\n\/g," ")),n="#"+m;if(b[m]!=undefined)n=b[m],c[m]!=undefined&&(o=c[m]);else{if(!(k.search(\/\\(\\s*\\)$\/m)>-1))return k;n=""}}n=N(n,"*_");var p='<a href="'+n+'"';return o!=""&&(o=o.replace(\/"\/g,"&quot;"),o=N(o,"*_"),p+=' title="'+o+'"'),p+=">"+l+"<\/a>",p},t=function(a){return a=a.replace(\/(!\\[(.*?)\\][ ]?(?:\\n[ ]*)?\\[(.*?)\\])()()()()\/g,u),a=a.replace(\/(!\\[(.*?)\\]\\s?\\([ \\t]*()<?(\\S+?)>?[ \\t]*((['"])(.*?)\\6[ \\t]*)?\\))\/g,u),a},u=function(a,d,e,f,g,h,i,j){var k=d,l=e,m=f.toLowerCase(),n=g,o=j;o||(o="");if(n==""){m==""&&(m=l.toLowerCase().replace(\/ ?\\n\/g," ")),n="#"+m;if(b[m]==undefined)return k;n=b[m],c[m]!=undefined&&(o=c[m])}l=l.replace(\/"\/g,"&quot;"),n=N(n,"*_");var p='<img src="'+n+'" alt="'+l+'"';return o=o.replace(\/"\/g,"&quot;"),o=N(o,"*_"),p+=' title="'+o+'"',p+=" \/>",p},v=function(a){function b(a){return a.replace(\/[^\\w]\/g,"").toLowerCase()}return a=a.replace(\/^(.+)[ \\t]*\\n=+[ \\t]*\\n+\/gm,function(a,c){return A('<h1 id="'+b(c)+'">'+p(c)+"<\/h1>")}),a=a.replace(\/^(.+)[ \\t]*\\n-+[ \\t]*\\n+\/gm,function(a,c){return A('<h2 id="'+b(c)+'">'+p(c)+"<\/h2>")}),a=a.replace(\/^(\\#{1,6})[ \\t]*(.+?)[ \\t]*\\#*\\n+\/gm,function(a,c,d){var e=c.length;return A("<h"+e+' id="'+b(d)+'">'+p(d)+"<\/h"+e+">")}),a},w,x=function(a){a+="~0";var b=\/^(([ ]{0,3}([*+-]|\\d+[.])[ \\t]+)[^\\r]+?(~0|\\n{2,}(?=\\S)(?![ \\t]*(?:[*+-]|\\d+[.])[ \\t]+)))\/gm;return e?a=a.replace(b,function(a,b,c){var d=b,e=c.search(\/[*+-]\/g)>-1?"ul":"ol";d=d.replace(\/\\n{2,}\/g,"\\n\\n\\n");var f=w(d);return f=f.replace(\/\\s+$\/,""),f="<"+e+">"+f+"<\/"+e+">\\n",f}):(b=\/(\\n\\n|^\\n?)(([ ]{0,3}([*+-]|\\d+[.])[ \\t]+)[^\\r]+?(~0|\\n{2,}(?=\\S)(?![ \\t]*(?:[*+-]|\\d+[.])[ \\t]+)))\/g,a=a.replace(b,function(a,b,c,d){var e=b,f=c,g=d.search(\/[*+-]\/g)>-1?"ul":"ol",f=f.replace(\/\\n{2,}\/g,"\\n\\n\\n"),h=w(f);return h=e+"<"+g+">\\n"+h+"<\/"+g+">\\n",h})),a=a.replace(\/~0\/,""),a};w=function(a){return e++,a=a.replace(\/\\n{2,}$\/,"\\n"),a+="~0",a=a.replace(\/(\\n)?(^[ \\t]*)([*+-]|\\d+[.])[ \\t]+([^\\r]+?(\\n{1,2}))(?=\\n*(~0|\\2([*+-]|\\d+[.])[ \\t]+))\/gm,function(a,b,c,d,e){var f=e,g=b,h=c;return g||f.search(\/\\n{2,}\/)>-1?f=o(L(f)):(f=x(L(f)),f=f.replace(\/\\n$\/,""),f=p(f)),"<li>"+f+"<\/li>\\n"}),a=a.replace(\/~0\/g,""),e--,a};var y=function(a){return a+="~0",a=a.replace(\/(?:\\n\\n|^)((?:(?:[ ]{4}|\\t).*\\n+)+)(\\n*[ ]{0,3}[^ \\t\\n]|(?=~0))\/g,function(a,b,c){var d=b,e=c;return d=C(L(d)),d=M(d),d=d.replace(\/^\\n+\/g,""),d=d.replace(\/\\n+$\/g,""),d="<pre>"+d+"\\n<\/pre>",A(d)+e}),a=a.replace(\/~0\/,""),a},z=function(a){return a+="~0",a=a.replace(\/(?:^|\\n)```(.*)\\n([\\s\\S]*?)\\n```\/g,function(a,b,c){var d=b,e=c;return e=C(e),e=M(e),e=e.replace(\/^\\n+\/g,""),e=e.replace(\/\\n+$\/g,""),e="<pre>"+e+"\\n<\/pre>",A(e)}),a=a.replace(\/~0\/,""),a},A=function(a){return a=a.replace(\/(^\\n+|\\n+$)\/g,""),"\\n\\n~K"+(d.push(a)-1)+"K\\n\\n"},B=function(a){return a=a.replace(\/(^|[^\\\\])(`+)([^\\r]*?[^`])\\2(?!`)\/gm,function(a,b,c,d,e){var f=d;return f=f.replace(\/^([ \\t]*)\/g,""),f=f.replace(\/[ \\t]*$\/g,""),f=C(f),b+"<code>"+f+"<\/code>"}),a},C=function(a){return a=a.replace(\/&\/g,"&amp;"),a=a.replace(\/<\/g,"&lt;"),a=a.replace(\/>\/g,"&gt;"),a=N(a,"*_{}[]\\\\",!1),a},D=function(a){return a=a.replace(\/(\\*\\*|__)(?=\\S)([^\\r]*?\\S[*_]*)\\1\/g,"<strong>$2<\/strong>"),a=a.replace(\/(\\*|_)(?=\\S)([^\\r]*?\\S)\\1\/g,"<em>$2<\/em>"),a},E=function(a){return a=a.replace(\/((^[ \\t]*>[ \\t]?.+\\n(.+\\n)*\\n*)+)\/gm,function(a,b){var c=b;return c=c.replace(\/^[ \\t]*>[ \\t]?\/gm,"~0"),c=c.replace(\/~0\/g,""),c=c.replace(\/^[ \\t]+$\/gm,""),c=o(c),c=c.replace(\/(^|\\n)\/g,"$1  "),c=c.replace(\/(\\s*<pre>[^\\r]+?<\\\/pre>)\/gm,function(a,b){var c=b;return c=c.replace(\/^  \/mg,"~0"),c=c.replace(\/~0\/g,""),c}),A("<blockquote>\\n"+c+"\\n<\/blockquote>")}),a},F=function(a){a=a.replace(\/^\\n+\/g,""),a=a.replace(\/\\n+$\/g,"");var b=a.split(\/\\n{2,}\/g),c=[],e=b.length;for(var f=0;f<e;f++){var g=b[f];g.search(\/~K(\\d+)K\/g)>=0?c.push(g):g.search(\/\\S\/)>=0&&(g=p(g),g=g.replace(\/^([ \\t]*)\/g,"<p>"),g+="<\/p>",c.push(g))}e=c.length;for(var f=0;f<e;f++)while(c[f].search(\/~K(\\d+)K\/)>=0){var h=d[RegExp.$1];h=h.replace(\/\\$\/g,"$$$$"),c[f]=c[f].replace(\/~K\\d+K\/,h)}return c.join("\\n\\n")},G=function(a){return a=a.replace(\/&(?!#?[xX]?(?:[0-9a-fA-F]+|\\w+);)\/g,"&amp;"),a=a.replace(\/<(?![a-z\\\/?\\$!])\/gi,"&lt;"),a},H=function(a){return a=a.replace(\/\\\\(\\\\)\/g,O),a=a.replace(\/\\\\([`*_{}\\[\\]()>#+-.!])\/g,O),a},I=function(a){return a=a.replace(\/<((https?|ftp|dict):[^'">\\s]+)>\/gi,'<a href="$1">$1<\/a>'),a=a.replace(\/<(?:mailto:)?([-.\\w]+\\@[-a-z0-9]+(\\.[-a-z0-9]+)*\\.[a-z]+)>\/gi,function(a,b){return J(K(b))}),a},J=function(a){var b=[function(a){return"&#"+a.charCodeAt(0)+";"},function(a){return"&#x"+a.charCodeAt(0).toString(16)+";"},function(a){return a}];return a="mailto:"+a,a=a.replace(\/.\/g,function(a){if(a=="@")a=b[Math.floor(Math.random()*2)](a);else if(a!=":"){var c=Math.random();a=c>.9?b[2](a):c>.45?b[1](a):b[0](a)}return a}),a='<a href="'+a+'">'+a+"<\/a>",a=a.replace(\/">.+:\/g,'">'),a},K=function(a){return a=a.replace(\/~E(\\d+)E\/g,function(a,b){var c=parseInt(b);return String.fromCharCode(c)}),a},L=function(a){return a=a.replace(\/^(\\t|[ ]{1,4})\/gm,"~0"),a=a.replace(\/~0\/g,""),a},M=function(a){return a=a.replace(\/\\t(?=\\t)\/g,"    "),a=a.replace(\/\\t\/g,"~A~B"),a=a.replace(\/~B(.+?)~A\/g,function(a,b,c){var d=b,e=4-d.length%4;for(var f=0;f<e;f++)d+=" ";return d}),a=a.replace(\/~A\/g,"    "),a=a.replace(\/~B\/g,""),a},N=function(a,b,c){var d="(["+b.replace(\/([\\[\\]\\\\])\/g,"\\\\$1")+"])";c&&(d="\\\\\\\\"+d);var e=new RegExp(d,"g");return a=a.replace(e,O),a},O=function(a,b){var c=b.charCodeAt(0);return"~E"+c+"E"}},typeof module!="undefined"&&(module.exports=Showdown),typeof define=="function"&&define.amd&&define("showdown",function(){return Showdown});/;"	f
b	system/libraries/Sha1.php	/^				$b = $a;$/;"	v
b	system/libraries/Sha1.php	/^			$b = $this->_safe_add($b, $oldb);$/;"	v
b	system/libraries/Sha1.php	/^		$b = -271733879;$/;"	v
back	system/libraries/Unit_test.php	/^			$back = debug_backtrace();$/;"	v
back	system/libraries/Unit_test.php	/^		$back = $this->_backtrace();$/;"	v
background	application/controllers/checkcode.php	/^       $background = imagecolorallocate($this->img,hexdec(substr($this->background, 1,2)),hexdec(substr($this->background, 3,2)),hexdec(substr($this->background, 5,2)));$/;"	v
background	application/controllers/checkcode.php	/^   public $background = '#EDF7FF';$/;"	v
backup	system/database/DB_utility.php	/^	function backup($params = array())$/;"	f
bad	system/core/Security.php	/^		$bad = array($/;"	v
bad	system/core/URI.php	/^		$bad	= array('$',		'(',		')',		'%28',		'%29');$/;"	v
bad	system/libraries/Upload.php	/^		$bad = array($/;"	v
base	application/controllers/home.php	/^        $base = base_url();$/;"	v
basePath	system/libraries/ckeditor.php	/^			$this->basePath = $basePath;$/;"	v
basePath	system/libraries/ckeditor.php	/^	public $basePath;$/;"	v
baseUrl	application/controllers/item.php	/^        $baseUrl = base_url();$/;"	v
baseUrl	application/views/Cwrite.php	/^	$baseUrl = base_url();$/;"	v
baseUrl	application/views/bgItemMan.php	/^$baseUrl = base_url();$/;"	v
baseUrl	application/views/bgcom.php	/^$baseUrl = base_url();$/;"	v
baseUrl	application/views/bghome.php	/^$baseUrl = base_url();$/;"	v
baseUrl	application/views/changeInfo.php	/^	$baseUrl = base_url();$/;"	v
baseUrl	application/views/fun.php	/^$baseUrl = base_url();$/;"	v
baseUrl	application/views/header.php	/^$baseUrl = base_url();$/;"	v
baseUrl	application/views/histOrder.php	/^$baseUrl = base_url();$/;"	v
baseUrl	application/views/home.php	/^$baseUrl = base_url();$/;"	v
baseUrl	application/views/info.php	/^	$baseUrl = base_url();$/;"	v
baseUrl	application/views/item.php	/^$baseUrl = base_url();$/;"	v
baseUrl	application/views/login.php	/^	$baseUrl = base_url();$/;"	v
baseUrl	application/views/mBgItemAdd.php	/^    $baseUrl = base_url();$/;"	v
baseUrl	application/views/mainpage2.php	/^$baseUrl = base_url();$/;"	v
baseUrl	application/views/manCon.php	/^$baseUrl = base_url();$/;"	v
baseUrl	application/views/map.php	/^<?php $baseUrl = base_url()?>$/;"	v
baseUrl	application/views/message.php	/^	$baseUrl = base_url();$/;"	v
baseUrl	application/views/messout.php	/^	$baseUrl = base_url();$/;"	v
baseUrl	application/views/messwrite.php	/^    $baseUrl = base_url();$/;"	v
baseUrl	application/views/msea.php	/^$baseUrl = base_url();$/;"	v
baseUrl	application/views/myorder.php	/^$baseUrl = base_url();$/;"	v
baseUrl	application/views/onTimeOrder.php	/^$baseUrl = base_url();$/;"	v
baseUrl	application/views/order.php	/^$baseUrl = base_url();$/;"	v
baseUrl	application/views/ordtoday.php	/^$baseUrl = base_url();$/;"	v
baseUrl	application/views/reg.php	/^    $baseUrl = base_url();$/;"	v
baseUrl	application/views/showart.php	/^        $baseUrl = base_url();$/;"	v
baseUrl	application/views/test.php	/^    $baseUrl = base_url();$/;"	v
baseUrl	application/views/userSpace.php	/^    $baseUrl = base_url();$/;"	v
baseUrl	application/views/wChange.php	/^	$baseUrl = base_url();$/;"	v
baseUrl	application/views/waimai.php	/^$baseUrl = base_url();$/;"	v
baseUrl	application/views/waimai2.php	/^    $baseUrl = base_url();$/;"	v
base_helper	system/core/Loader.php	/^				$base_helper = BASEPATH.'helpers\/'.$helper.'.php';$/;"	v
base_page	system/libraries/Pagination.php	/^			$base_page = 0;$/;"	v
base_page	system/libraries/Pagination.php	/^			$base_page = 1;$/;"	v
base_url	system/core/Config.php	/^				$base_url = 'http:\/\/localhost\/';$/;"	v
base_url	system/core/Config.php	/^				$base_url = isset($_SERVER['HTTPS']) && strtolower($_SERVER['HTTPS']) !== 'off' ? 'https' : 'http';$/;"	v
base_url	system/core/Config.php	/^	function base_url($uri = '')$/;"	f
base_url	system/helpers/url_helper.php	/^	function base_url($uri = '')$/;"	f
base_url	system/libraries/Pagination.php	/^			$this->base_url = rtrim($this->base_url).'&amp;'.$this->query_string_segment.'=';$/;"	v
base_url	system/libraries/Pagination.php	/^			$this->base_url = rtrim($this->base_url, '\/') .'\/';$/;"	v
base_url	system/libraries/Pagination.php	/^	var $base_url			= ''; \/\/ The page we are linking to$/;"	v
baseclass	system/core/Loader.php	/^				$baseclass = BASEPATH.'libraries\/'.ucfirst($class).'.php';$/;"	v
based	system/libraries/Image_lib.php	/^	 * cropping function based on the protocol specified$/;"	f
based	system/libraries/Image_lib.php	/^	 * resize function based on the protocol specified$/;"	f
based	system/libraries/Image_lib.php	/^	 * rotation function based on the protocol specified$/;"	f
basename	system/libraries/Email.php	/^			$basename = basename($filename);$/;"	v
batch_bcc_send	system/libraries/Email.php	/^	public function batch_bcc_send()$/;"	f
bcc	system/libraries/Email.php	/^			$bcc = $this->_str_to_array($chunk[$i]);$/;"	v
bcc	system/libraries/Email.php	/^			$bcc = $this->clean_email($bcc);$/;"	v
bcc	system/libraries/Email.php	/^		$bcc = $this->_str_to_array($bcc);$/;"	v
bcc	system/libraries/Email.php	/^		$bcc = $this->clean_email($bcc);$/;"	v
bcc	system/libraries/Email.php	/^	public function bcc($bcc, $limit = '')$/;"	f
bcc_batch_mode	system/libraries/Email.php	/^			$this->bcc_batch_mode = TRUE;$/;"	v
bcc_batch_mode	system/libraries/Email.php	/^	var	$bcc_batch_mode	= FALSE;	\/\/ TRUE\/FALSE  Turns on\/off Bcc batch feature$/;"	v
bcc_batch_size	system/libraries/Email.php	/^			$this->bcc_batch_size = $limit;$/;"	v
bcc_batch_size	system/libraries/Email.php	/^	var	$bcc_batch_size	= 200;		\/\/ If bcc_batch_mode = TRUE, sets max number of Bccs in each batch$/;"	v
before	system/libraries/Xmlrpcs.php	/^	show_error('You must load the Xmlrpc class before loading the Xmlrpcs class in order to create a server.');$/;"	c
beg	system/helpers/text_helper.php	/^		$beg = substr($str, 0, floor($max_length * $position));$/;"	v
being	system/core/Loader.php	/^	 * @param 	string	class being checked for$/;"	c
below	system/libraries/Ftp.php	/^	 * Internally, this parameter is only used by the "mirror" function below.$/;"	f
benchmark	system/database/DB_driver.php	/^	var $benchmark		= 0;$/;"	v
bgAdd	application/controllers/write.php	/^    public function bgAdd()$/;"	f
bgError	application/controllers/write.php	/^    private function bgError($error)$/;"	f
bg_color	system/helpers/captcha_helper.php	/^		$bg_color		= imagecolorallocate ($im, 255, 255, 255);$/;"	v
bin	system/libraries/Sha1.php	/^			$bin = "0".$bin;$/;"	v
bin	system/libraries/Sha1.php	/^			$bin = 0;$/;"	v
bin	system/libraries/Sha1.php	/^			$bin = substr($bin, 0, strlen($bin) - $b);$/;"	v
bin	system/libraries/Sha1.php	/^		$bin = decbin($a);$/;"	v
bind_marker	system/database/DB_driver.php	/^	var $bind_marker	= '?';$/;"	v
binds	system/database/DB_driver.php	/^			$binds = array($binds);$/;"	v
binds	system/database/DB_driver.php	/^			$binds = array_slice($binds, 0, count($segments)-1);$/;"	v
binds	system/database/DB_driver.php	/^	function query($sql, $binds = FALSE, $return_object = TRUE)$/;"	v
bits	application/controllers/HttpClient.class.php	/^        $bits = parse_url($url);$/;"	v
block_elements	system/libraries/Typography.php	/^	var $block_elements = 'address|blockquote|div|dl|fieldset|form|h\\d|hr|noscript|object|ol|p|pre|script|table|ul';$/;"	v
blur	system/libraries/Javascript.php	/^	function blur($element = 'this', $js = '')$/;"	f
body	system/libraries/Email.php	/^			$body = $match['1'];$/;"	v
body	system/libraries/Email.php	/^			$body = $this->_body;$/;"	v
body	system/libraries/Email.php	/^			$body = str_replace($n, "\\n\\n", $body);$/;"	v
body	system/libraries/Email.php	/^		$body = '';$/;"	v
body	system/libraries/Email.php	/^		$body = preg_replace( '#<!--(.*)--\\>#', "", $body);$/;"	v
body	system/libraries/Email.php	/^		$body = str_replace("\\t", "", $body);$/;"	v
body	system/libraries/Email.php	/^		$body = trim(strip_tags($body));$/;"	v
border_color	system/helpers/captcha_helper.php	/^		$border_color	= imagecolorallocate ($im, 153, 102, 102);$/;"	v
bot	system/libraries/Image_lib.php	/^				$bot = $height-1;$/;"	v
br	system/helpers/html_helper.php	/^	function br($num = 1)$/;"	f
browser	system/libraries/User_agent.php	/^					$this->browser = $val;$/;"	v
browser	system/libraries/User_agent.php	/^		return array_key_exists($key, $this->browsers) AND $this->browser === $this->browsers[$key];$/;"	v
browser	system/libraries/User_agent.php	/^	public function browser()$/;"	f
browser	system/libraries/User_agent.php	/^	var $browser	= '';$/;"	v
browsers	application/config/user_agents.php	/^$browsers = array($/;"	v
browsers	system/libraries/User_agent.php	/^			$this->browsers = $browsers;$/;"	v
browsers	system/libraries/User_agent.php	/^	var $browsers	= array();$/;"	v
bubble	application/controllers/chome.php	/^    function bubble(){$/;"	f
buffer	system/core/Exceptions.php	/^		$buffer = ob_get_contents();$/;"	v
buffer	system/core/Loader.php	/^			$buffer = ob_get_contents();$/;"	v
buffer	system/helpers/url_helper.php	/^		$buffer = ob_get_contents();$/;"	v
buildQueryString	application/controllers/HttpClient.class.php	/^    function buildQueryString($data) {$/;"	f
buildRequest	application/controllers/HttpClient.class.php	/^    function buildRequest() {$/;"	f
but	system/helpers/form_helper.php	/^ * Identical to the input function but adds the "file" type$/;"	f
but	system/helpers/form_helper.php	/^ * Identical to the input function but adds the "password" type$/;"	f
by	system/database/DB_active_rec.php	/^			$by = explode(',', $by);$/;"	v
byte_format	system/helpers/number_helper.php	/^	function byte_format($num, $precision = 1)$/;"	f
bytes	application/controllers/write.php	/^                $bytes=filesize($tempPath);$/;"	v
bytes	application/controllers/write.php	/^            $bytes = $bytes . 'Bytes';$/;"	v
bytes	application/controllers/write.php	/^            $bytes = round($bytes \/ 1024 * 100) \/ 100 . 'KB';$/;"	v
bytes	application/controllers/write.php	/^            $bytes = round($bytes \/ 1048576 * 100) \/ 100 . 'MB';$/;"	v
bytes	application/controllers/write.php	/^            $bytes = round($bytes \/ 1073741824 * 100) \/ 100 . 'GB';$/;"	v
c	system/database/drivers/oci8/oci8_driver.php	/^		for ($i = 0, $c = count($values); $i < $c; $i++)$/;"	v
c	system/libraries/Sha1.php	/^				$c = $this->_rol($b, 30);$/;"	v
c	system/libraries/Sha1.php	/^			$c = $this->_safe_add($c, $oldc);$/;"	v
c	system/libraries/Sha1.php	/^		$c = -1732584194;$/;"	v
cache	system/core/Output.php	/^			$cache = fread($fp, filesize($filepath));$/;"	v
cache	system/core/Output.php	/^		$cache = '';$/;"	v
cache	system/core/Output.php	/^	function cache($time)$/;"	f
cache_autodel	system/database/DB_driver.php	/^			if ($this->cache_on == TRUE AND $this->cache_autodel == TRUE AND $this->_cache_init())$/;"	v
cache_autodel	system/database/DB_driver.php	/^	var $cache_autodel	= FALSE;$/;"	v
cache_delete	system/database/DB_driver.php	/^	function cache_delete($segment_one = '', $segment_two = '')$/;"	f
cache_delete_all	system/database/DB_driver.php	/^	function cache_delete_all()$/;"	f
cache_expiration	system/core/Output.php	/^		$this->cache_expiration = ( ! is_numeric($time)) ? 0 : $time;$/;"	v
cache_expiration	system/core/Output.php	/^	protected $cache_expiration	= 0;$/;"	v
cache_info	system/libraries/Cache/Cache.php	/^	public function cache_info($type = 'user')$/;"	f
cache_info	system/libraries/Cache/drivers/Cache_apc.php	/^	 public function cache_info($type = NULL)$/;"	f
cache_info	system/libraries/Cache/drivers/Cache_dummy.php	/^	 public function cache_info($type = NULL)$/;"	f
cache_info	system/libraries/Cache/drivers/Cache_file.php	/^	public function cache_info($type = NULL)$/;"	f
cache_info	system/libraries/Cache/drivers/Cache_memcached.php	/^	public function cache_info($type = NULL)$/;"	f
cache_off	system/database/DB_driver.php	/^	function cache_off()$/;"	f
cache_on	system/database/DB_driver.php	/^		$this->cache_on = FALSE;$/;"	v
cache_on	system/database/DB_driver.php	/^		$this->cache_on = TRUE;$/;"	v
cache_on	system/database/DB_driver.php	/^	function cache_on()$/;"	f
cache_on	system/database/DB_driver.php	/^	var $cache_on		= FALSE;$/;"	v
cache_path	system/core/Output.php	/^		$cache_path = ($CFG->item('cache_path') == '') ? APPPATH.'cache\/' : $CFG->item('cache_path');$/;"	v
cache_path	system/core/Output.php	/^		$cache_path = ($path == '') ? APPPATH.'cache\/' : $path;$/;"	v
cache_set_path	system/database/DB_driver.php	/^	function cache_set_path($path = '')$/;"	f
cachedir	system/database/DB_driver.php	/^		$this->cachedir = $path;$/;"	v
cachedir	system/database/DB_driver.php	/^	var $cachedir		= '';$/;"	v
cadd	application/controllers/write.php	/^    public function cadd()$/;"	f
cal	application/controllers/order.php	/^        $cal = 0;$/;"	v
calAll	js/order.js	/^function calAll(){$/;"	f
calFileSize	application/views/load.php	/^        function calFileSize(size) {$/;"	f
calId	application/views/onTimeOrder.php	/^                $calId = "";$/;"	v
calTot	js/cart.js	/^function calTot() {$/;"	f
call	system/database/DB_utility.php	/^			\/\/ of PHP we can not pass function call directly into it$/;"	f
call	system/database/DB_utility.php	/^		\/\/ of PHP we can not pass function call directly into it$/;"	f
call	system/libraries/Form_validation.php	/^					\/\/ Users can use any native PHP function call that has one param.$/;"	f
call	system/libraries/Form_validation.php	/^			\/\/ of PHP we can not pass function call directly into it$/;"	f
call_function	system/database/DB_driver.php	/^	function call_function($function)$/;"	f
callback	system/libraries/Form_validation.php	/^				$callback = TRUE;$/;"	v
callback	system/libraries/Form_validation.php	/^			$callback = FALSE;$/;"	v
callback	system/libraries/Form_validation.php	/^		$callback = FALSE;$/;"	v
callback	system/libraries/Form_validation.php	/^		if (is_null($postdata) AND $callback == FALSE)$/;"	v
callback	system/libraries/javascript/Jquery.php	/^			$callback = ", function(){\\n{$callback}\\n}";$/;"	v
calls	system/database/DB_active_rec.php	/^	 * Should not be called directly.  The get() function calls it.$/;"	f
calls	system/libraries/Xmlrpcs.php	/^		$calls = $parameters[0];$/;"	v
camelize	system/helpers/inflector_helper.php	/^	function camelize($str)$/;"	f
can	system/core/Benchmark.php	/^	 * Multiple calls to this function can be made so that several$/;"	f
can	system/core/CodeIgniter.php	/^ *  loader class can be called via the URI, nor can$/;"	c
can	system/libraries/Ftp.php	/^	 * this function can be used to test for the existence of a folder$/;"	f
caption	system/libraries/Table.php	/^		$this->caption = $caption;$/;"	v
caption	system/libraries/Table.php	/^	var $caption			= NULL;$/;"	v
cart	application/controllers/order.php	/^                $cart = $data["cart"][$i];\/\/保存起来，方便更快的查找$/;"	v
cart	application/controllers/order.php	/^                $cart = $tcart[$i];\/\/保存起来，方便更快的查找$/;"	v
cart	application/controllers/order.php	/^            $cart = $this->delCart($this->morder->getCart($this->user_id));\/\/取得cart的信息$/;"	v
cart	system/libraries/Cart.php	/^		$cart = $this->_cart_contents;$/;"	v
cases	system/database/drivers/cubrid/cubrid_driver.php	/^		$cases = '';$/;"	v
cases	system/database/drivers/mysql/mysql_driver.php	/^		$cases = '';$/;"	v
cases	system/database/drivers/mysqli/mysqli_driver.php	/^		$cases = '';$/;"	v
cases	system/database/drivers/pdo/pdo_driver.php	/^		$cases = '';$/;"	v
cb	system/libraries/Image_lib.php	/^					$cb = imagecolorat($src_img, $i, $bot);$/;"	v
cc	system/libraries/Email.php	/^		$cc = $this->_str_to_array($cc);$/;"	v
cc	system/libraries/Email.php	/^		$cc = $this->clean_email($cc);$/;"	v
cc	system/libraries/Email.php	/^	public function cc($cc)$/;"	f
cdata	system/libraries/Javascript.php	/^	function inline($script, $cdata = TRUE)$/;"	v
cell	system/libraries/Table.php	/^					$cell = isset($cell['data']) ? $cell['data'] : '';$/;"	v
cell	system/libraries/Table.php	/^					if ($cell === "" OR $cell === NULL)$/;"	v
center	application/views/printindex.php	/^function center(win){$/;"	f
ch	application/controllers/checkcode.php	/^            $ch = curl_init();$/;"	v
ch	application/controllers/test.php	/^            $ch = curl_init();$/;"	v
ch	application/libraries/sms.php	/^            $ch = curl_init();$/;"	v
chaCon	js/home.js	/^function chaCon(name){$/;"	f
chaCon	js/mainpage2.js	/^function chaCon (node) {$/;"	f
change	application/controllers/info.php	/^    public function change()$/;"	f
change	application/controllers/order.php	/^    function change(){$/;"	f
change	application/controllers/reg.php	/^    public function change()$/;"	f
change	application/controllers/write.php	/^    public function change($artId)$/;"	f
change	system/libraries/Javascript.php	/^	function change($element = 'this', $js = '')$/;"	f
changeInfo	application/models/user.php	/^    public function changeInfo($data,$userId)$/;"	f
changeInfo	js/item.js	/^        function changeInfo(node) {$/;"	f
changeLoginTime	application/models/user.php	/^    public function changeLoginTime($userId)$/;"	f
changeNew	application/models/art.php	/^    public function changeNew($artId)$/;"	f
changePart	js/home.js	/^function changePart () {$/;"	f
changePart	js/mainpage2.js	/^function changePart () {$/;"	f
changeRead	application/models/mess.php	/^	public function changeRead($message_id)$/;"	f
changeTime	application/models/monline_user.php	/^	public function changeTime($userId)$/;"	f
changebyte	application/views/printindex.php	/^function changebyte(){$/;"	f
changedir	system/libraries/Ftp.php	/^	function changedir($path = '', $supress_debug = FALSE)$/;"	f
changeurl	application/controllers/dsprint.class.php	/^	function changeurl($timeout=60)$/;"	f
char	system/libraries/Email.php	/^					$char = $escape.strtoupper(sprintf('%02s', dechex($ascii)));  \/\/ =3D$/;"	v
char	system/libraries/Email.php	/^					$char = ($ascii == '32' OR $ascii == '9') ? $escape.sprintf('%02s', dechex($ascii)) : $char;$/;"	v
char	system/libraries/Email.php	/^				$char = '='.dechex($ascii);$/;"	v
char	system/libraries/Email.php	/^				$char = '_';$/;"	v
char	system/libraries/Email.php	/^				$char = substr($line, $i, 1);$/;"	v
char	system/libraries/Email.php	/^			$char = substr($str, $i, 1);$/;"	v
char_set	system/database/DB_driver.php	/^	var $char_set		= 'utf8';$/;"	v
character	system/helpers/string_helper.php	/^	function reduce_multiples($str, $character = ',', $trim = FALSE)$/;"	v
character_data	system/libraries/Xmlrpc.php	/^	function character_data($the_parser, $data)$/;"	f
character_limiter	system/helpers/text_helper.php	/^	function character_limiter($str, $n = 500, $end_char = '&#8230;')$/;"	f
character_set	system/database/drivers/sqlsrv/sqlsrv_driver.php	/^		$character_set = (0 === strcasecmp('utf8', $this->char_set)) ? 'UTF-8' : $this->char_set;$/;"	v
charlim	system/helpers/text_helper.php	/^			$charlim = 76;$/;"	v
charlim	system/helpers/text_helper.php	/^	function word_wrap($str, $charlim = '76')$/;"	v
charlim	system/libraries/Email.php	/^			$charlim = '76';$/;"	v
charlim	system/libraries/Email.php	/^			$charlim = ($this->wrapchars == "") ? "76" : $this->wrapchars;$/;"	v
charlim	system/libraries/Email.php	/^	protected function _prep_quoted_printable($str, $charlim = '')$/;"	v
charlim	system/libraries/Email.php	/^	public function word_wrap($str, $charlim = '')$/;"	v
charset	application/controllers/checkcode.php	/^   public $charset = 'abcdefghkmnprstuvwyzABCDEFGHKLMNPRSTUVWYZ123456789';$/;"	v
charset	system/core/Security.php	/^	public function entity_decode($str, $charset='UTF-8')$/;"	v
charset	system/helpers/typography_helper.php	/^	function entity_decode($str, $charset='UTF-8')$/;"	v
charset	system/libraries/Email.php	/^	var	$charset		= "utf-8";	\/\/ Default char set: iso-8859-1 or us-ascii$/;"	v
charset	system/libraries/Trackback.php	/^		$charset = ( ! isset($tb_data['charset'])) ? $this->charset : $tb_data['charset'];$/;"	v
charset	system/libraries/Trackback.php	/^	var $charset		= 'UTF-8';$/;"	v
charset_len	application/controllers/checkcode.php	/^       $charset_len = strlen($this->charset)-1;$/;"	v
charsets	system/libraries/User_agent.php	/^			$charsets = preg_replace('\/(;q=.+)\/i', '', strtolower(trim($_SERVER['HTTP_ACCEPT_CHARSET'])));$/;"	v
charsets	system/libraries/User_agent.php	/^			$this->charsets = array('Undefined');$/;"	v
charsets	system/libraries/User_agent.php	/^			$this->charsets = explode(',', $charsets);$/;"	v
charsets	system/libraries/User_agent.php	/^	public function charsets()$/;"	f
charsets	system/libraries/User_agent.php	/^	var $charsets	= array();$/;"	v
check	application/controllers/bg/item.php	/^    private function check($itemId)$/;"	f
check	application/controllers/checkcode.php	/^	public function check($code)$/;"	f
checkAuth	application/core/MY_Controller.php	/^    public function checkAuth()$/;"	f
checkOnline	application/models/monline_user.php	/^	public function checkOnline($sessionId)$/;"	f
checkPasswd	js/home.js	/^function checkPasswd (userId,pass) {$/;"	f
checkPasswd	js/mainpage2.js	/^function checkPasswd (userId,pass) {$/;"	f
checkPhone	application/models/user.php	/^    public function checkPhone($phone)$/;"	f
checkShortcuts.is	js/xheditor.min.js	/^(function(){var e={};window.XHEDITOR=e})(),function(e,t){e.mapLang={},e.setLang=function(i,s){s===t&&(s=i,i=""),""!==i&&(i+=".");var a,n;for(var o in s)n=s[o],a=i+o,"string"==typeof n||n instanceof Array?e.mapLang[a]=n:e.setLang(a,n)},e.getLang=function(i){var s=e.mapLang[i];if(s===t&&(s=i.replace(\/{#([^{}]+)}\/g,function(t,i){var s=e.mapLang[i];return s?s:i})),"string"==typeof s){var a=arguments;s=s.replace(\/{\\$(\\d+)}\/g,function(e,i){var s=a[parseInt(i,10)+1];return s!==t?s:e})}return s}}(XHEDITOR),function(XHEDITOR,$,undefined){var agent=navigator.userAgent.toLowerCase(),bMobile=\/mobile\/i.test(agent),browser=$.browser,browerVer=parseFloat(browser.version),isIE=browser.msie,isMozilla=browser.mozilla,isWebkit=browser.webkit,isOpera=browser.opera,isChrome=browser.chrome,bAir=agent.indexOf(" adobeair\/")>-1,xCount=0,bShowPanel=!1,bClickCancel=!0,bShowModal=!1,bCheckEscInit=!1,_jPanel,_jShadow,_jCntLine,_jPanelButton,jModal,jModalShadow,layerShadow,jOverlay,jHideSelect,onModalRemove,editorRoot,getLang=XHEDITOR.getLang;if($("script[src*=xheditor]").each(function(){var e=this.src;return e.match(\/xheditor[^\\\/]*\\.js\/i)?(editorRoot=e.replace(\/[\\?#].*$\/,"").replace(\/(^|[\\\/\\\\])[^\\\/]*$\/,"$1"),!1):undefined}),isIE){try{document.execCommand("BackgroundImageCache",!1,!0)}catch(e){}var jqueryVer=$.fn.jquery;jqueryVer&&jqueryVer.match(\/^1\\.[67]\/)&&($.attrHooks.width=$.attrHooks.height=null)}var specialKeys={27:"esc",9:"tab",32:"space",13:"enter",8:"backspace",145:"scroll",20:"capslock",144:"numlock",19:"pause",45:"insert",36:"home",46:"del",35:"end",33:"pageup",34:"pagedown",37:"left",38:"up",39:"right",40:"down",112:"f1",113:"f2",114:"f3",115:"f4",116:"f5",117:"f6",118:"f7",119:"f8",120:"f9",121:"f10",122:"f11",123:"f12"},arrAlign=[{v:"justifyleft"},{v:"justifycenter"},{v:"justifyright"},{v:"justifyfull"}],arrList=[{v:"insertOrderedList"},{v:"insertUnorderedList"}],htmlPastetext='<div><label for="xhePastetextValue">{#PastetextTip}<\/label><\/div><div><textarea id="xhePastetextValue" wrap="soft" spellcheck="false" style="width:300px;height:100px;" \/><\/div><div style="text-align:right;"><input type="button" id="xheSave" value="{#dialogOk}" \/><\/div>',htmlLink='<div><label for="xheLinkUrl">{#link.url}<\/label><input type="text" id="xheLinkUrl" value="http:\/\/" class="xheText" \/><\/div><div><label for="xheLinkTarget">{#link.target}<\/label><select id="xheLinkTarget"><option selected="selected" value="">{#default}<\/option><option value="_blank">{#link.targetBlank}<\/option><option value="_self">{#link.targetSelf}<\/option><option value="_parent">{#link.targetParent}<\/option><\/select><\/div><div style="display:none"><label for="xheLinkText">{#link.linkText}<\/label><input type="text" id="xheLinkText" value="" class="xheText" \/><\/div><div style="text-align:right;"><input type="button" id="xheSave" value="{#dialogOk}" \/><\/div>',htmlAnchor='<div><label for="xheAnchorName">{#anchor.name}<\/label><input type="text" id="xheAnchorName" value="" class="xheText" \/><\/div><div style="text-align:right;"><input type="button" id="xheSave" value="{#dialogOk}" \/><\/div>',htmlImg='<div><label for="xheImgUrl">{#img.url}<\/label><input type="text" id="xheImgUrl" value="http:\/\/" class="xheText" \/><\/div><div><div><label for="xheImgAlt">{#img.alt}<\/label><input type="text" id="xheImgAlt" \/><\/div><div><label for="xheImgAlign">{#img.align}<\/label><select id="xheImgAlign"><option selected="selected" value="">{#default}<\/option><option value="left">{#img.alignLeft}<\/option><option value="right">{#img.alignRight}<\/option><option value="top">{#img.alignTop}<\/option><option value="middle">{#img.alignMiddle}<\/option><option value="baseline">{#img.alignBaseline}<\/option><option value="bottom">{#img.alignBottom}<\/option><\/select><\/div><div><label for="xheImgWidth">{#img.width}<\/label><input type="text" id="xheImgWidth" style="width:40px;" \/> <label for="xheImgHeight">{#img.height}<\/label><input type="text" id="xheImgHeight" style="width:40px;" \/><\/div><div><label for="xheImgBorder">{#img.border}<\/label><input type="text" id="xheImgBorder" style="width:40px;" \/><\/div><div><label for="xheImgHspace">{#img.hspace}<\/label><input type="text" id="xheImgHspace" style="width:40px;" \/> <label for="xheImgVspace">{#img.vspace}<\/label><input type="text" id="xheImgVspace" style="width:40px;" \/><\/div><div style="text-align:right;"><input type="button" id="xheSave" value="{#dialogOk}" \/><\/div>',htmlFlash='<div><label for="xheFlashUrl">{#flash.url}<\/label><input type="text" id="xheFlashUrl" value="http:\/\/" class="xheText" \/><\/div><div><label for="xheFlashWidth">{#flash.width}<\/label><input type="text" id="xheFlashWidth" style="width:40px;" value="480" \/> <label for="xheFlashHeight">{#flash.height}<\/label><input type="text" id="xheFlashHeight" style="width:40px;" value="400" \/><\/div><div style="text-align:right;"><input type="button" id="xheSave" value="{#dialogOk}" \/><\/div>',htmlMedia='<div><label for="xheMediaUrl">{#media.url}<\/label><input type="text" id="xheMediaUrl" value="http:\/\/" class="xheText" \/><\/div><div><label for="xheMediaWidth">{#media.width}<\/label><input type="text" id="xheMediaWidth" style="width:40px;" value="480" \/> <label for="xheMediaHeight">{#media.height}<\/label><input type="text" id="xheMediaHeight" style="width:40px;" value="400" \/><\/div><div style="text-align:right;"><input type="button" id="xheSave" value="{#dialogOk}" \/><\/div>',htmlTable='<div><label for="xheTableRows">{#table.rows}<\/label><input type="text" id="xheTableRows" style="width:40px;" value="3" \/> <label for="xheTableColumns">{#table.columns}<\/label><input type="text" id="xheTableColumns" style="width:40px;" value="2" \/><\/div><div><label for="xheTableHeaders">{#table.headers}<\/label><select id="xheTableHeaders"><option selected="selected" value="">{#none}<\/option><option value="row">{#table.headersRow}<\/option><option value="col">{#table.headersCol}<\/option><option value="both">{#table.headersBoth}<\/option><\/select><\/div><div><label for="xheTableWidth">{#table.width}<\/label><input type="text" id="xheTableWidth" style="width:40px;" value="200" \/> <label for="xheTableHeight">{#table.height}<\/label><input type="text" id="xheTableHeight" style="width:40px;" value="" \/><\/div><div><label for="xheTableBorder">{#table.border}<\/label><input type="text" id="xheTableBorder" style="width:40px;" value="1" \/><\/div><div><label for="xheTableCellSpacing">{#table.cellSpacing}<\/label><input type="text" id="xheTableCellSpacing" style="width:40px;" value="1" \/> <label for="xheTableCellPadding">{#table.cellPadding}<\/label><input type="text" id="xheTableCellPadding" style="width:40px;" value="1" \/><\/div><div><label for="xheTableAlign">{#table.align}<\/label><select id="xheTableAlign"><option selected="selected" value="">{#default}<\/option><option value="left">{#table.alignLeft}<\/option><option value="center">{#table.alignCenter}<\/option><option value="right">{#table.alignRight}<\/option><\/select><\/div><div><label for="xheTableCaption">{#table.caption}<\/label><input type="text" id="xheTableCaption" \/><\/div><div style="text-align:right;"><input type="button" id="xheSave" value="{#dialogOk}" \/><\/div>',htmlAbout='<div style="font:12px Arial;width:245px;word-wrap:break-word;word-break:break-all;outline:none;" role="dialog" tabindex="-1"><p><span style="font-size:20px;color:#1997DF;">xhEditor<\/span><br \/>v1.2.1 (build 130225)<\/p><p>{#aboutXheditor}<\/p><p>Copyright &copy; <a href="http:\/\/xheditor.com\/" target="_blank">xhEditor.com<\/a>. All rights reserved.<\/p><\/div>',itemEmots={"default":{name:"{#default}",width:24,height:24,line:7,list:["smile","tongue","titter","laugh","sad","wronged","fastcry","cry","wail","mad","knock","curse","crazy","angry","ohmy","awkward","panic","shy","cute","envy","proud","struggle","quiet","shutup","doubt","despise","sleep","bye"]}},arrTools={Cut:{t:"Cut"},Copy:{t:"Copy"},Paste:{t:"Paste"},Pastetext:{t:"Pastetext",h:isIE?0:1},Blocktag:{t:"Blocktag",h:1},Fontface:{t:"Fontface",h:1},FontSize:{t:"FontSize",h:1},Bold:{t:"Bold",s:"Ctrl+B"},Italic:{t:"Italic",s:"Ctrl+I"},Underline:{t:"Underline",s:"Ctrl+U"},Strikethrough:{t:"Strikethrough"},FontColor:{t:"FontColor",h:1},BackColor:{t:"BackColor",h:1},SelectAll:{t:"SelectAll"},Removeformat:{t:"Removeformat"},Align:{t:"Align",h:1},List:{t:"List",h:1},Outdent:{t:"Outdent"},Indent:{t:"Indent"},Link:{t:"Link",s:"Ctrl+L",h:1},Unlink:{t:"Unlink"},Anchor:{t:"Anchor",h:1},Img:{t:"Img",h:1},Flash:{t:"Flash",h:1},Media:{t:"Media",h:1},Hr:{t:"Hr"},Emot:{t:"Emot",s:"ctrl+e",h:1},Table:{t:"Table",h:1},Source:{t:"Source"},Preview:{t:"Preview"},Print:{t:"Print",s:"Ctrl+P"},Fullscreen:{t:"Fullscreen",s:"Esc"},About:{t:"About"}},toolsThemes={mini:"Bold,Italic,Underline,Strikethrough,|,Align,List,|,Link,Img",simple:"Blocktag,Fontface,FontSize,Bold,Italic,Underline,Strikethrough,FontColor,BackColor,|,Align,List,Outdent,Indent,|,Link,Img,Emot",full:"Cut,Copy,Paste,Pastetext,|,Blocktag,Fontface,FontSize,Bold,Italic,Underline,Strikethrough,FontColor,BackColor,SelectAll,Removeformat,|,Align,List,Outdent,Indent,|,Link,Unlink,Anchor,Img,Flash,Media,Hr,Emot,Table,|,Source,Preview,Print,Fullscreen"};toolsThemes.mfull=toolsThemes.full.replace(\/\\|(,Align)\/i,"\/$1");var arrDbClick={a:"Link",img:"Img",embed:"Embed"},uploadInputname="filedata",arrEntities={"<":"&lt;",">":"&gt;",'"':"&quot;","\\u00ae":"&reg;","\\u00a9":"&copy;"},regEntities=\/[<>"\\u00ae\\u00a9]\/g,Xheditor=function(textarea,options){function checkDblClick(e){var t=e.target,i=arrDbClick[t.tagName.toLowerCase()];if(i){if("Embed"===i){var s={"application\/x-shockwave-flash":"Flash","application\/x-mplayer2":"Media"};i=s[t.type.toLowerCase()]}_this.exec(i)}}function checkEsc(e){return 27===e.which?(bShowModal?_this.removeModal():bShowPanel&&_this.hidePanel(),!1):undefined}function loadReset(){setTimeout(_this.setSource,10)}function saveResult(){_this.getSource()}function cleanPaste(e){var t,i,s;if(e&&(t=e.originalEvent.clipboardData)&&(i=t.items)&&(s=i[0])&&"file"==s.kind&&s.type.match(\/^image\\\/\/i)){var a=s.getAsFile(),n=new FileReader;return n.onload=function(){var e='<img src="'+event.target.result+'">';e=replaceRemoteImg(e),_this.pasteHTML(e)},n.readAsDataURL(a),!1}var o=settings.cleanPaste;if(0===o||bSource||bCleanPaste)return!0;bCleanPaste=!0,_this.saveBookmark();var l=isIE?"pre":"div",r=$("<"+l+' class="xhe-paste">\\ufeff\\ufeff<\/'+l+">",_doc).appendTo(_doc.body),h=r[0],c=_this.getSel(),d=_this.getRng(!0);r.css("top",_jWin.scrollTop()),isIE?(d.moveToElementText(h),d.select()):(d.selectNodeContents(h),c.removeAllRanges(),c.addRange(d)),setTimeout(function(){var e,t=3===o;if(t)r.html(r.html().replace(\/<br(\\s+[^<>]*)?>\/gi,"\\n")),e=r.text();else{var i=$(".xhe-paste",_doc.body),s=[];i.each(function(e,t){0==$(t).find(".xhe-paste").length&&s.push(t.innerHTML)}),e=s.join("<br \/>")}r.remove(),_this.loadBookmark(),e=e.replace(\/^[\\s\\uFEFF]+|[\\s\\uFEFF]+$\/g,""),e&&(t?_this.pasteText(e):(e=_this.cleanHTML(e),e=_this.cleanWord(e),e=_this.formatXHTML(e),(!settings.onPaste||settings.onPaste&&(e=settings.onPaste(e))!==!1)&&(e=replaceRemoteImg(e),_this.pasteHTML(e)))),bCleanPaste=!1},0)}function replaceRemoteImg(e){var t=settings.localUrlTest,i=settings.remoteImgSaveUrl;if(t&&i){var s=[],a=0;e=e.replace(\/(<img)((?:\\s+[^>]*?)?(?:\\s+src="\\s*([^"]+)\\s*")(?: [^>]*)?)(\\\/?>)\/gi,function(e,i,n,o,l){return!\/^(https?|data:image)\/i.test(o)||\/_xhe_temp\/.test(n)||t.test(o)||(s[a]=o,n=n.replace(\/\\s+(width|height)="[^"]*"\/gi,"").replace(\/\\s+src="[^"]*"\/gi,' src="'+skinPath+'img\/waiting.gif" remoteimg="'+a++ +'"')),i+n+l}),s.length>0&&$.post(i,{urls:s.join("|")},function(e){e=e.split("|"),$("img[remoteimg]",_this.doc).each(function(){var t=$(this);xheAttr(t,"src",e[t.attr("remoteimg")]),t.removeAttr("remoteimg")})})}return e}function setCSS(e){try{_this._exec("styleWithCSS",e,!0)}catch(t){try{_this._exec("useCSS",!e,!0)}catch(t){}}}function setOpts(){if(bInit&&!bSource){setCSS(!1);try{_this._exec("enableObjectResizing",!0,!0)}catch(e){}if(isIE)try{_this._exec("BackgroundImageCache",!0,!0)}catch(e){}}}function forcePtag(e){if(bSource||13!==e.which||e.shiftKey||e.ctrlKey||e.altKey)return!0;var t=_this.getParent("p,h1,h2,h3,h4,h5,h6,pre,address,div,li");return t.is("li")?!0:settings.forcePtag?(0===t.length&&_this._exec("formatblock","<p>"),undefined):(_this.pasteHTML("<br \/>"),isIE&&t.length>0&&2===_this.getRng().parentElement().childNodes.length&&_this.pasteHTML("<br \/>"),!1)}function fixFullHeight(){isMozilla||isWebkit||(bFullscreen&&_jArea.height("100%").css("height",_jArea.outerHeight()-_jTools.outerHeight()),isIE&&_jTools.hide().show())}function fixAppleSel(e){if(e=e.target,e.tagName.match(\/(img|embed)\/i)){var t=_this.getSel(),i=_this.getRng(!0);i.selectNode(e),t.removeAllRanges(),t.addRange(i)}}function xheAttr(e,t,i){if(!t)return!1;var s="_xhe_"+t;return i&&(urlType&&(i=getLocalUrl(i,urlType,urlBase)),e.attr(t,urlBase?getLocalUrl(i,"abs",urlBase):i).removeAttr(s).attr(s,i)),e.attr(s)||e.attr(t)}function clickCancelPanel(){bClickCancel&&_this.hidePanel()}function checkShortcuts(e){if(bSource)return!0;var t=e.which,i=specialKeys[t],s=i?i:String.fromCharCode(t).toLowerCase();sKey="",sKey+=e.ctrlKey?"ctrl+":"",sKey+=e.altKey?"alt+":"",sKey+=e.shiftKey?"shift+":"",sKey+=s;var a,n=arrShortCuts[sKey];for(a in n){if(a=n[a],!$.isFunction(a))return _this.exec(a),!1;if(a.call(_this)===!1)return!1}}function is(e,t){var i=typeof e;return t?"array"===t&&e.hasOwnProperty&&e instanceof Array?!0:i===t:"undefined"!=i}function getLocalUrl(e,t,i){if(e.match(\/^(\\w+):\\\/\\\/\/i)&&!e.match(\/^https?:\/i)||\/^#\/i.test(e)||\/^data:\/i.test(e))return e;var s=i?$('<a href="'+i+'" \/>')[0]:location,a=s.protocol,n=s.host,o=s.hostname,l=s.port,r=s.pathname.replace(\/\\\\\/g,"\/").replace(\/[^\\\/]+$\/i,"");if(""===l&&(l="80"),""===r?r="\/":"\/"!==r.charAt(0)&&(r="\/"+r),e=$.trim(e),"abs"!==t&&(e=e.replace(RegExp(a+"\\\\\/\\\\\/"+o.replace(\/\\.\/g,"\\\\.")+"(?::"+l+")"+("80"===l?"?":"")+"(\/|$)","i"),"\/")),"rel"===t&&(e=e.replace(RegExp("^"+r.replace(\/([\\\/\\.\\+\\[\\]\\(\\)])\/g,"\\\\$1"),"i"),"")),"rel"!==t&&(e.match(\/^(https?:\\\/\\\/|\\\/)\/i)||(e=r+e),"\/"===e.charAt(0))){var h,c,d=[],u=e.split("\/"),p=u.length;for(c=0;p>c;c++)h=u[c],".."===h?d.pop():""!==h&&"."!==h&&d.push(h);""===u[p-1]&&d.push(""),e="\/"+d.join("\/")}return"abs"!==t||e.match(\/^https?:\\\/\\\/\/i)||(e=a+"\/\/"+n+e),e=e.replace(\/(https?:\\\/\\\/[^:\\\/?#]+):80(\\\/|$)\/i,"$1$2")}function checkFileExt(e,t){return"*"===t||e.match(RegExp(".("+t.replace(\/,\/g,"|")+")$","i"))?!0:(alert(getLang("upload.extLimit",t)),!1)}function formatBytes(e){var t=["Byte","KB","MB","GB","TB","PB"],i=Math.floor(Math.log(e)\/Math.log(1024));return(e\/Math.pow(1024,Math.floor(i))).toFixed(2)+t[i]}function returnFalse(){return!1}var _this=this,_text=textarea,_jText=$(_text),_jForm=_jText.closest("form"),_jTools,_jArea,_win,_jWin,_doc,_jDoc,bookmark,bInit=!1,bSource=!1,bFullscreen=!1,bCleanPaste=!1,outerScroll,bShowBlocktag=!1,sLayoutStyle="",ev=null,timer,bDisableHoverExec=!1,bQuickHoverExec=!1,lastPoint=null,lastAngle=null,editorHeight=0,settings=_this.settings=$.extend({},XHEDITOR.settings,options),plugins=settings.plugins,strPlugins=[];if(plugins&&(arrTools=$.extend({},arrTools,plugins),$.each(plugins,function(e){strPlugins.push(e)}),strPlugins=strPlugins.join(",")),settings.tools.match(\/^\\s*(m?full|simple|mini)\\s*$\/i)){var toolsTheme=toolsThemes[$.trim(settings.tools)];settings.tools=settings.tools.match(\/m?full\/i)&&plugins?toolsTheme.replace("Table","Table,"+strPlugins):toolsTheme}settings.tools.match(\/(^|,)\\s*About\\s*(,|$)\/i)||(settings.tools+=",About"),settings.tools=settings.tools.split(","),settings.editorRoot&&(editorRoot=settings.editorRoot),bAir===!1&&(editorRoot=getLocalUrl(editorRoot,"abs")),settings.urlBase&&(settings.urlBase=getLocalUrl(settings.urlBase,"abs"));var idCSS="xheCSS_"+settings.skin,idContainer="xhe"+xCount+"_container",idTools="xhe"+xCount+"_Tool",idIframeArea="xhe"+xCount+"_iframearea",idIframe="xhe"+xCount+"_iframe",idFixFFCursor="xhe"+xCount+"_fixffcursor",headHTML="",bodyClass="",skinPath=editorRoot+"xheditor_skin\/"+settings.skin+"\/",arrEmots=itemEmots,urlType=settings.urlType,urlBase=settings.urlBase,emotPath=settings.emotPath,emotPath=emotPath?emotPath:editorRoot+"xheditor_emot\/",selEmotGroup="";arrEmots=$.extend({},arrEmots,settings.emots),emotPath=getLocalUrl(emotPath,"rel",urlBase?urlBase:null),bShowBlocktag=settings.showBlocktag,bShowBlocktag&&(bodyClass+=" showBlocktag");var arrShortCuts=[];this.init=function(){function e(e){var t,i=$(e.target);(t=i.css("width"))&&i.css("width","").attr("width",t.replace(\/[^0-9%]+\/g,"")),(t=i.css("height"))&&i.css("height","").attr("height",t.replace(\/[^0-9%]+\/g,""))}0===$("#"+idCSS).length&&$("head").append('<link id="'+idCSS+'" rel="stylesheet" type="text\/css" href="'+skinPath+'ui.css" \/>');var t=_jText.outerWidth(),i=_jText.outerHeight(),s=settings.width||_text.style.width||(t>10?t:0);editorHeight=settings.height||_text.style.height||(i>10?i:150),\/^\\d+(?:\\.\\d+)?$\/.test(s)&&(s+="px"),is(editorHeight,"string")&&(editorHeight=editorHeight.replace(\/[^\\d]+\/g,""));var a,n,o=settings.background||_text.style.background,l=['<span class="xheGStart"\/>'],r=\/\\||\\\/\/i;$.each(settings.tools,function(e,t){if(t.match(r)&&l.push('<span class="xheGEnd"\/>'),"|"===t)l.push('<span class="xheSeparator"\/>');else if("\/"===t)l.push("<br \/>");else{if(a=arrTools[t],!a)return;n=a.c?a.c:"xheIcon xheBtn"+t,l.push('<span><a href="#" title="{#'+a.t+'}" cmd="'+t+'" class="xheButton xheEnabled" tabindex="-1" role="button"><span class="'+n+'" unselectable="on" style="font-size:0;color:transparent;text-indent:-999px;">'+a.t+"<\/span><\/a><\/span>"),a.s&&_this.addShortcuts(a.s,t)}t.match(r)&&l.push('<span class="xheGStart"\/>')}),l.push('<span class="xheGEnd"\/><br \/>'),_jText.after($('<input type="text" id="'+idFixFFCursor+'" style="position:absolute;display:none;" \/><span id="'+idContainer+'" class="xhe_'+settings.skin+'" style="display:none"><table cellspacing="0" cellpadding="0" class="xheLayout" style="'+("0px"!=s?"width:"+s+";":"")+"height:"+editorHeight+'px;" role="presentation"><tr><td id="'+idTools+'" class="xheTool" unselectable="on" style="height:1px;" role="presentation"><\/td><\/tr><tr><td id="'+idIframeArea+'" class="xheIframeArea" role="presentation"><iframe frameborder="0" id="'+idIframe+'" src="javascript:;" style="width:100%;"><\/iframe><\/td><\/tr><\/table><\/span>')),_jTools=$("#"+idTools),_jArea=$("#"+idIframeArea),headHTML='<meta http-equiv="Content-Type" content="text\/html; charset=utf-8" \/><link rel="stylesheet" href="'+skinPath+'iframe.css"\/>';var h=settings.loadCSS;if(h)if(is(h,"array"))for(var c in h)headHTML+='<link rel="stylesheet" href="'+h[c]+'"\/>';else headHTML+=h.match(\/\\s*<style(\\s+[^>]*?)?>[\\s\\S]+?<\\\/style>\\s*\/i)?h:'<link rel="stylesheet" href="'+h+'"\/>';var d='<!DOCTYPE html><html xmlns="http:\/\/www.w3.org\/1999\/xhtml"><head>'+headHTML+"<title>{#defaultReadTip} "+(settings.readTip?settings.readTip:"")+"<\/title>";o&&(d+="<style>html{background:"+o+";}<\/style>"),d+='<\/head><body spellcheck="0" class="editMode'+bodyClass+'"><\/body><\/html>',_this.win=_win=$("#"+idIframe)[0].contentWindow,_jWin=$(_win);try{this.doc=_doc=_win.document,_jDoc=$(_doc),_doc.open(),_doc.write(getLang(d)),_doc.close(),isIE?_doc.body.contentEditable="true":_doc.designMode="On"}catch(u){}setTimeout(setOpts,300),_this.setSource(),_win.setInterval=null,_jTools.append(getLang(l.join(""))).bind("mousedown contextmenu",returnFalse).click(function(e){var t=$(e.target).closest("a");return t.is(".xheEnabled")&&(clearTimeout(timer),_jTools.find("a").attr("tabindex","-1"),ev=e,_this.exec(t.attr("cmd"))),!1}),_jTools.find(".xheButton").hover(function(e){var t=$(this),i=settings.hoverExecDelay,s=lastAngle;if(lastAngle=null,-1===i||bDisableHoverExec||!t.is(".xheEnabled"))return!1;if(s&&s>10)return bDisableHoverExec=!0,setTimeout(function(){bDisableHoverExec=!1},100),!1;var a=t.attr("cmd"),n=1===arrTools[a].h;return n?(bQuickHoverExec&&(i=0),i>=0&&(timer=setTimeout(function(){ev=e,lastPoint={x:ev.clientX,y:ev.clientY},_this.exec(a)},i)),undefined):(_this.hidePanel(),!1)},function(){lastPoint=null,timer&&clearTimeout(timer)}).mousemove(function(e){if(lastPoint){var t={x:e.clientX-lastPoint.x,y:e.clientY-lastPoint.y};if(Math.abs(t.x)>1||Math.abs(t.y)>1){if(t.x>0&&t.y>0){var i=Math.round(Math.atan(t.y\/t.x)\/.017453293);lastAngle=lastAngle?(lastAngle+i)\/2:i}else lastAngle=null;lastPoint={x:e.clientX,y:e.clientY}}}}),_jPanel=$("#xhePanel"),_jShadow=$("#xheShadow"),_jCntLine=$("#xheCntLine"),0===_jPanel.length&&(_jPanel=$('<div id="xhePanel"><\/div>').mousedown(function(e){e.stopPropagation()}),_jShadow=$('<div id="xheShadow"><\/div>'),_jCntLine=$('<div id="xheCntLine"><\/div>'),setTimeout(function(){$(document.body).append(_jPanel).append(_jShadow).append(_jCntLine)},10)),$("#"+idContainer).show(),_jText.hide(),_jArea.css("height",editorHeight-_jTools.outerHeight()),isIE&8>browerVer&&setTimeout(function(){_jArea.css("height",editorHeight-_jTools.outerHeight())},1),_jText.focus(_this.focus),_jForm.submit(saveResult).bind("reset",loadReset),settings.submitID&&$("#"+settings.submitID).mousedown(saveResult),$(window).bind("unload beforeunload",saveResult).bind("resize",fixFullHeight),$(document).mousedown(clickCancelPanel),bCheckEscInit||($(document).keydown(checkEsc),bCheckEscInit=!0),_jWin.focus(function(){settings.focus&&settings.focus()}).blur(function(){settings.blur&&settings.blur()}),isWebkit&&_jWin.click(fixAppleSel),_jDoc.mousedown(clickCancelPanel).keydown(checkShortcuts).keypress(forcePtag).dblclick(checkDblClick).bind("mousedown click",function(e){_jText.trigger(e.type)}),isIE&&(_jDoc.keydown(function(e){var t=_this.getRng();return 8===e.which&&t.item?($(t.item(0)).remove(),!1):undefined}),_jDoc.bind("controlselect",function(t){t=t.target,$.nodeName(t,"IMG")&&$(t).unbind("resizeend",e).bind("resizeend",e)})),_jDoc.keydown(function(e){var t=e.which;return e.altKey&&t>=49&&57>=t?(_jTools.find("a").attr("tabindex","0"),_jTools.find(".xheGStart").eq(t-49).next().find("a").focus(),_doc.title="\\ufeff\\ufeff",!1):undefined}).click(function(){_jTools.find("a").attr("tabindex","-1")}),_jTools.keydown(function(e){var t=e.which;if(27==t)_jTools.find("a").attr("tabindex","-1"),_this.focus();else if(e.altKey&&t>=49&&57>=t)return _jTools.find(".xheGStart").eq(t-49).next().find("a").focus(),!1});var p=$(_doc.documentElement);isOpera?p.bind("keydown",function(e){e.ctrlKey&&86===e.which&&cleanPaste()}):p.bind(isIE?"beforepaste":"paste",cleanPaste),settings.disableContextmenu&&p.bind("contextmenu",returnFalse),settings.html5Upload&&p.bind("dragenter dragover",function(e){var t;return(t=e.originalEvent.dataTransfer.types)&&-1!==$.inArray("Files",t)?!1:undefined}).bind("drop",function(e){function t(e){var t,i,s;for(a=0;e.length>a;a++){if(i=e[a].name.replace(\/.+\\.\/,""),!(t=o.match(RegExp("(\\\\w+):[^:]*,"+i+"(?:,|$)","i"))))return 1;if(s){if(s!==t[1])return 2}else s=t[1]}return s}var i,s=e.originalEvent.dataTransfer;if(s&&(i=s.files)&&i.length>0){var a,n,o,l=["Link","Img","Flash","Media"],r=[];for(a in l)n=l[a],settings["up"+n+"Url"]&&settings["up"+n+"Url"].match(\/^[^!].*\/i)&&r.push(n+":,"+settings["up"+n+"Ext"]);return 0===r.length?!1:(o=r.join(","),n=t(i),1===n?alert(getLang("upload.extLimit",o.replace(\/\\w+:,\/g,""))):2===n?alert(getLang("upload.typeLimit")):n&&_this.startUpload(i,settings["up"+n+"Url"],"*",function(e){var t,i=[],s=settings.onUpload;s&&s(e);for(var a=0,o=e.length;o>a;a++)t=e[a],url=is(t,"string")?t:t.url,"!"===url.substr(0,1)&&(url=url.substr(1)),i.push(url);_this.exec(n),$("#xhe"+n+"Url").val(i.join(" ")),$("#xheSave").click()}),!1)}});var g=settings.shortcuts;g&&$.each(g,function(e,t){_this.addShortcuts(e,t)}),xCount++,bInit=!0,settings.fullscreen?_this.toggleFullscreen():settings.sourceMode&&setTimeout(_this.toggleSource,20);var f=settings.plugins;return f&&$.each(f,function(e,t){var i=t.i;i!==undefined&&i(_this)}),!0},this.remove=function(){_this.hidePanel(),saveResult(),_jText.unbind("focus",_this.focus),_jForm.unbind("submit",saveResult).unbind("reset",loadReset),settings.submitID&&$("#"+settings.submitID).unbind("mousedown",saveResult),$(window).unbind("unload beforeunload",saveResult).unbind("resize",fixFullHeight),$(document).unbind("mousedown",clickCancelPanel),$("#"+idContainer).remove(),$("#"+idFixFFCursor).remove(),_jText.show(),bInit=!1},this.saveBookmark=function(){if(!bSource){_this.focus();var e=_this.getRng();e=e.cloneRange?e.cloneRange():e,bookmark={top:_jWin.scrollTop(),rng:e}}},this.loadBookmark=function(){if(!bSource&&bookmark){_this.focus();var e=bookmark.rng;if(isIE)e.select();else{var t=_this.getSel();t.removeAllRanges(),t.addRange(e)}_jWin.scrollTop(bookmark.top),bookmark=null}},this.focus=function(){if(bSource?$("#sourceCode",_doc).focus():_win.focus(),isIE){var e=_this.getRng();e.parentElement&&e.parentElement().ownerDocument!==_doc&&_this.setTextCursor()}return!1},this.setTextCursor=function(e){var t=_this.getRng(!0),i=_doc.body;if(isIE)t.moveToElementText(i);else{for(var s=e?"lastChild":"firstChild";3!=i.nodeType&&i[s];)i=i[s];t.selectNode(i)}if(t.collapse(e?!1:!0),isIE)t.select();else{var a=_this.getSel();a.removeAllRanges(),a.addRange(t)}},this.getSel=function(){return _doc.selection?_doc.selection:_win.getSelection()},this.getRng=function(e){var t,i;try{e||(t=_this.getSel(),i=t.createRange?t.createRange():t.rangeCount>0?t.getRangeAt(0):null),i||(i=_doc.body.createTextRange?_doc.body.createTextRange():_doc.createRange())}catch(s){}return i},this.getParent=function(e){var t,i=_this.getRng();return isIE?t=i.item?i.item(0):i.parentElement():(t=i.commonAncestorContainer,i.collapsed||i.startContainer===i.endContainer&&2>i.startOffset-i.endOffset&&i.startContainer.hasChildNodes()&&(t=i.startContainer.childNodes[i.startOffset])),e=e?e:"*",t=$(t),t.is(e)||(t=$(t).closest(e)),t},this.getSelect=function(e){var t=_this.getSel(),i=_this.getRng(),s=!0;if(s=!i||i.item?!1:!t||0===i.boundingWidth||i.collapsed,"text"===e)return s?"":i.text||(t.toString?""+t:"");var a;if(i.cloneContents){var n,o=$("<div><\/div>");n=i.cloneContents(),n&&o.append(n),a=o.html()}else a=is(i.item)?i.item(0).outerHTML:is(i.htmlText)?i.htmlText:""+i;return s&&(a=""),a=_this.processHTML(a,"read"),a=_this.cleanHTML(a),a=_this.formatXHTML(a)},this.pasteHTML=function(e,t){if(bSource)return!1;_this.focus(),e=_this.processHTML(e,"write");var i=_this.getSel(),s=_this.getRng();if(t!==undefined){if(s.item){var a=s.item(0);s=_this.getRng(!0),s.moveToElementText(a),s.select()}s.collapse(t)}if(e+="<"+(isIE?"img":"span")+' id="_xhe_temp" width="0" height="0" \/>',s.insertNode){if($(s.startContainer).closest("style,script").length>0)return!1;s.deleteContents(),s.insertNode(s.createContextualFragment(e))}else"control"===i.type.toLowerCase()&&(i.clear(),s=_this.getRng()),s.pasteHTML(e);var n=$("#_xhe_temp",_doc),o=n[0];isIE?(s.moveToElementText(o),s.select()):(s.selectNode(o),i.removeAllRanges(),i.addRange(s)),n.remove()},this.pasteText=function(e,t){e||(e=""),e=_this.domEncode(e),e=e.replace(\/\\r?\\n\/g,"<br \/>"),_this.pasteHTML(e,t)},this.appendHTML=function(e){return bSource?!1:(_this.focus(),e=_this.processHTML(e,"write"),$(_doc.body).append(e),_this.setTextCursor(!0),undefined)},this.domEncode=function(e){return e.replace(regEntities,function(e){return arrEntities[e]})},this.setSource=function(e){bookmark=null,"string"!=typeof e&&""!==e&&(e=_text.value),bSource?$("#sourceCode",_doc).val(e):(settings.beforeSetSource&&(e=settings.beforeSetSource(e)),e=_this.cleanHTML(e),e=_this.formatXHTML(e),e=_this.processHTML(e,"write"),isIE?(_doc.body.innerHTML='<img id="_xhe_temp" width="0" height="0" \/>'+e,$("#_xhe_temp",_doc).remove()):_doc.body.innerHTML=e)},this.processHTML=function(e,t){function i(e,t,i,s,a,o){var l,r,h,c,d="";if(l=s.match(\/font-family\\s*:\\s*([^;"]+)\/i),l&&(d+=' face="'+l[1]+'"'),r=s.match(\/font-size\\s*:\\s*([^;"]+)\/i)){r=r[1].toLowerCase();for(var u=0;n.length>u;u++)if(r===n[u].n||r===n[u].s){h=u+1;break}h&&(d+=' size="'+h+'"',s=s.replace(\/(^|;)(\\s*font-size\\s*:\\s*[^;"]+;?)+\/gi,"$1"))}if(c=s.match(\/(?:^|[\\s;])color\\s*:\\s*([^;"]+)\/i)){var p;if(p=c[1].match(\/\\s*rgb\\s*\\(\\s*(\\d+)\\s*,\\s*(\\d+)\\s*,\\s*(\\d+)\\s*\\)\/i)){c[1]="#";for(var g=1;3>=g;g++)c[1]+=("0"+(p[g]-0).toString(16)).slice(-2)}c[1]=c[1].replace(\/^#([0-9a-f])([0-9a-f])([0-9a-f])$\/i,"#$1$1$2$2$3$3"),d+=' color="'+c[1]+'"'}return s=s.replace(\/(^|;)(\\s*(font-family|color)\\s*:\\s*[^;"]+;?)+\/gi,"$1"),""!==d?(s&&(d+=' style="'+s+'"'),"<font"+(i?i:"")+d+(a?a:"")+">"+o+"<\/font>"):e}function s(e,t,i,s,a){for(var n,l,r=(i?i:"")+(s?s:""),h=[],c=[],d=0;o.length>d;d++)n=o[d].r,l=o[d].t,r=r.replace(n,function(){return h.push("<"+l+">"),c.push("<\/"+l+">"),""});return r=r.replace(\/\\s+style\\s*=\\s*"\\s*"\/i,""),(r?"<span"+r+">":"")+h.join("")+a+c.join("")+(r?"<\/span>":"")}var a=' class="Apple-style-span"',n=settings.listFontsize;if("write"===t)e=e.replace(\/(<(\\\/?)(\\w+))((?:\\s+[\\w\\-:]+\\s*=\\s*(?:"[^"]*"|'[^']*'|[^>\\s]+))*)\\s*((\\\/?)>)\/g,function(e,t,i,s,n,o,l){s=s.toLowerCase(),isMozilla?"strong"===s?s="b":"em"===s&&(s="i"):isWebkit&&("strong"===s?(s="span",i||(n+=a+' style="font-weight: bold;"')):"em"===s?(s="span",i||(n+=a+' style="font-style: italic;"')):"u"===s?(s="span",i||(n+=a+' style="text-decoration: underline;"')):"strike"===s&&(s="span",i||(n+=a+' style="text-decoration: line-through;"')));var r,h="";if("del"===s)s="strike";else if("img"===s)n=n.replace(\/\\s+emot\\s*=\\s*("[^"]*"|'[^']*'|[^>\\s]+)\/i,function(e,t){return r=t.match(\/^(["']?)(.*)\\1\/)[2],r=r.split(","),r[1]||(r[1]=r[0],r[0]=""),"default"===r[0]&&(r[0]=""),settings.emotMark?e:""});else if("a"===s)!n.match(\/ href=[^ ]\/i)&&n.match(\/ name=[^ ]\/i)&&(h+=" xhe-anchor"),l&&(o="><\/a>");else if("table"===s&&!i){var c=n.match(\/\\s+border\\s*=\\s*("[^"]*"|'[^']*'|[^>\\s]+)\/i);(!c||c[1].match(\/^(["']?)\\s*0\\s*\\1$\/))&&(h+=" xhe-border")}var d;if(n=n.replace(\/\\s+([\\w\\-:]+)\\s*=\\s*("[^"]*"|'[^']*'|[^>\\s]+)\/g,function(e,t,i){return t=t.toLowerCase(),i=i.match(\/^(["']?)(.*)\\1\/)[2],aft="",isIE&&t.match(\/^(disabled|checked|readonly|selected)$\/)&&i.match(\/^(false|0)$\/i)?"":"img"===s&&r&&"src"===t?"":(t.match(\/^(src|href)$\/)&&(aft=" _xhe_"+t+'="'+i+'"',urlBase&&(i=getLocalUrl(i,"abs",urlBase))),h&&"class"===t&&(i+=" "+h,h=""),isWebkit&&"style"===t&&"span"===s&&i.match(\/(^|;)\\s*(font-family|font-size|color|background-color)\\s*:\\s*[^;]+\\s*(;|$)\/i)&&(d=!0)," "+t+'="'+i+'"'+aft)}),r){var u=emotPath+(r[0]?r[0]:"default")+"\/"+r[1]+".gif";n+=' src="'+u+'" _xhe_src="'+u+'"'}return d&&(n+=a),h&&(n+=' class="'+h+'"'),"<"+i+s+n+o}),isIE&&(e=e.replace(\/&apos;\/gi,"&#39;")),isWebkit||(e=e.replace(\/<(span)(\\s+[^>]*?)?\\s+style\\s*=\\s*"((?:[^"]*?;)?\\s*(?:font-family|font-size|color)\\s*:[^"]*)"( [^>]*)?>(((?!<\\1(\\s+[^>]*?)?>)[\\s\\S]|<\\1(\\s+[^>]*?)?>((?!<\\1(\\s+[^>]*?)?>)[\\s\\S]|<\\1(\\s+[^>]*?)?>((?!<\\1(\\s+[^>]*?)?>)[\\s\\S])*?<\\\/\\1>)*?<\\\/\\1>)*?)<\\\/\\1>\/gi,i),e=e.replace(\/<(span)(\\s+[^>]*?)?\\s+style\\s*=\\s*"((?:[^"]*?;)?\\s*(?:font-family|font-size|color)\\s*:[^"]*)"( [^>]*)?>(((?!<\\1(\\s+[^>]*?)?>)[\\s\\S]|<\\1(\\s+[^>]*?)?>((?!<\\1(\\s+[^>]*?)?>)[\\s\\S])*?<\\\/\\1>)*?)<\\\/\\1>\/gi,i),e=e.replace(\/<(span)(\\s+[^>]*?)?\\s+style\\s*=\\s*"((?:[^"]*?;)?\\s*(?:font-family|font-size|color)\\s*:[^"]*)"( [^>]*)?>(((?!<\\1(\\s+[^>]*?)?>)[\\s\\S])*?)<\\\/\\1>\/gi,i)),e=e.replace(\/<(td|th)(\\s+[^>]*?)?>(\\s|&nbsp;)*<\\\/\\1>\/gi,"<$1$2>"+(isIE?"":"<br \/>")+"<\/$1>");else{if(isWebkit)for(var o=[{r:\/font-weight\\s*:\\s*bold;?\/gi,t:"strong"},{r:\/font-style\\s*:\\s*italic;?\/gi,t:"em"},{r:\/text-decoration\\s*:\\s*underline;?\/gi,t:"u"},{r:\/text-decoration\\s*:\\s*line-through;?\/gi,t:"strike"}],l=0;2>l;l++)e=e.replace(\/<(span)(\\s+[^>]*?)?\\s+class\\s*=\\s*"Apple-style-span"(\\s+[^>]*?)?>(((?!<\\1(\\s+[^>]*?)?>)[\\s\\S]|<\\1(\\s+[^>]*?)?>((?!<\\1(\\s+[^>]*?)?>)[\\s\\S]|<\\1(\\s+[^>]*?)?>((?!<\\1(\\s+[^>]*?)?>)[\\s\\S])*?<\\\/\\1>)*?<\\\/\\1>)*?)<\\\/\\1>\/gi,s),e=e.replace(\/<(span)(\\s+[^>]*?)?\\s+class\\s*=\\s*"Apple-style-span"(\\s+[^>]*?)?>(((?!<\\1(\\s+[^>]*?)?>)[\\s\\S]|<\\1(\\s+[^>]*?)?>((?!<\\1(\\s+[^>]*?)?>)[\\s\\S])*?<\\\/\\1>)*?)<\\\/\\1>\/gi,s),e=e.replace(\/<(span)(\\s+[^>]*?)?\\s+class\\s*=\\s*"Apple-style-span"(\\s+[^>]*?)?>(((?!<\\1(\\s+[^>]*?)?>)[\\s\\S])*?)<\\\/\\1>\/gi,s);e=e.replace(\/(<(\\w+))((?:\\s+[\\w\\-:]+\\s*=\\s*(?:"[^"]*"|'[^']*'|[^>\\s]+))*)\\s*(\\\/?>)\/g,function(e,t,i,s,a){i=i.toLowerCase();$/;"	f
checkUserName	js/home.js	/^function checkUserName () {$/;"	f
checkUserName	js/mainpage2.js	/^function checkUserName () {$/;"	f
checkUserPasswd	js/home.js	/^function checkUserPasswd () {$/;"	f
checkUserPasswd	js/mainpage2.js	/^function checkUserPasswd () {$/;"	f
check_existance	system/helpers/path_helper.php	/^	function set_realpath($path, $check_existance = FALSE)$/;"	v
check_locations	system/core/Config.php	/^			$check_locations = defined('ENVIRONMENT')$/;"	v
check_online	application/models/monline_user.php	/^	function check_online($user_id){$/;"	f
check_path	system/database/DB_cache.php	/^	function check_path($path = '')$/;"	f
checked	system/helpers/form_helper.php	/^			$checked = $data['checked'];$/;"	v
checkname	application/models/mreg.php	/^				function checkname($name){$/;"	f
checkname	application/models/user.php	/^    function checkname($name){\/\/这样get user_name会增加io读写的，当初真实笨蛋呢$/;"	f
checom	application/controllers/bg/item.php	/^    public function checom($comId = -1,$idx = -1)$/;"	f
chg	js/mainpage2.js	/^    function chg(node){$/;"	f
child_class	system/libraries/Driver.php	/^		$child_class = $this->lib_name.'_'.$child;$/;"	v
chmod	system/libraries/Ftp.php	/^	function chmod($path, $perm)$/;"	f
chunk	system/libraries/Email.php	/^		$chunk = array();$/;"	v
chunks	system/core/Input.php	/^		$chunks = array_filter($/;"	v
chunks	system/libraries/Typography.php	/^		$chunks = preg_split('\/(<(?:[^<>]+(?:"[^"]*"|\\'[^\\']*\\')?)+>)\/', $str, -1, PREG_SPLIT_DELIM_CAPTURE|PREG_SPLIT_NO_EMPTY);$/;"	v
cinsertArt	application/models/art.php	/^    public function cinsertArt($data,$userId)$/;"	f
cip	system/libraries/Email.php	/^		$cip = (isset($_SERVER['HTTP_CLIENT_IP']) AND $_SERVER['HTTP_CLIENT_IP'] != "") ? $_SERVER['HTTP_CLIENT_IP'] : FALSE;$/;"	v
circles	system/helpers/captcha_helper.php	/^		$circles	= 20;$/;"	v
ckeditorPath	system/libraries/ckeditor.php	/^		$ckeditorPath = $this->ckeditorPath();$/;"	v
ckeditorPath	system/libraries/ckeditor.php	/^	private function ckeditorPath()$/;"	f
ckeditorUrl	system/libraries/ckeditor.php	/^		$ckeditorUrl = str_replace("ckeditor_php5.php", "", $fileUrl);$/;"	v
cl	system/libraries/Image_lib.php	/^					$cl = imagecolorat($src_img, $left, $i);$/;"	v
class	system/core/CodeIgniter.php	/^				$class = $x[0];$/;"	v
class	system/core/CodeIgniter.php	/^			$class = $x[0];$/;"	v
class	system/core/CodeIgniter.php	/^	$class  = $RTR->fetch_class();$/;"	v
class	system/core/Hooks.php	/^			$class = $data['class'];$/;"	v
class	system/core/Hooks.php	/^		$class		= FALSE;$/;"	v
class	system/core/Loader.php	/^			$class = substr($class, $last_slash + 1);$/;"	v
class	system/core/Loader.php	/^		$class = 'CI_DB_'.$CI->db->dbdriver.'_forge';$/;"	v
class	system/core/Loader.php	/^		$class = 'CI_DB_'.$CI->db->dbdriver.'_utility';$/;"	v
class	system/core/Loader.php	/^		$class = str_replace('.php', '', trim($class, '\/'));$/;"	v
class	system/core/Loader.php	/^		$class = strtolower($class);$/;"	v
class	system/core/Router.php	/^		$this->class = str_replace(array('\/', '.'), '', $class);$/;"	v
class	system/core/Router.php	/^	var $class			= '';$/;"	v
class	system/helpers/date_helper.php	/^	function timezone_menu($default = 'UTC', $class = "", $name = 'timezones')$/;"	v
class	system/libraries/Javascript.php	/^	function addClass($element = 'this', $class = '')$/;"	v
class	system/libraries/Javascript.php	/^	function removeClass($element = 'this', $class = '')$/;"	v
class	system/libraries/Javascript.php	/^	function toggleClass($element = 'this', $class='')$/;"	v
class	system/libraries/Migration.php	/^				$class = 'Migration_' . ucfirst($match[1]);$/;"	v
class	system/libraries/Migration.php	/^			$class = 'Migration_' . ucfirst(strtolower($migration));$/;"	v
class	system/libraries/javascript/Jquery.php	/^		$class = ($class != '') ? '.'.$class : '';$/;"	v
class	system/libraries/javascript/Jquery.php	/^	function _addClass($element = 'this', $class='')$/;"	v
class	system/libraries/javascript/Jquery.php	/^	function _removeClass($element = 'this', $class='')$/;"	v
class	system/libraries/javascript/Jquery.php	/^	function _toggleClass($element = 'this', $class='')$/;"	v
classDetection	system/libraries/ckeditor.php	/^			$classDetection = "";$/;"	v
className	system/libraries/ckeditor.php	/^	 * @param $className (string) If set, replace all textareas with class className in the page.$/;"	c
class_name	system/libraries/Driver.php	/^		$class_name = get_class($parent);$/;"	v
classvar	system/core/Loader.php	/^			$classvar = $object_name;$/;"	v
classvar	system/core/Loader.php	/^			$classvar = ( ! isset($this->_ci_varmap[$class])) ? $class : $this->_ci_varmap[$class];$/;"	v
cleCom	application/models/user.php	/^    public function cleCom($userId)$/;"	f
cleMail	application/models/user.php	/^    public function cleMail($userId)$/;"	f
clean	system/database/DB_active_rec.php	/^				$clean = array();$/;"	v
clean	system/database/DB_active_rec.php	/^			$clean = array();$/;"	v
clean	system/libraries/Cache/Cache.php	/^	public function clean()$/;"	f
clean	system/libraries/Cache/drivers/Cache_apc.php	/^	public function clean()$/;"	f
clean	system/libraries/Cache/drivers/Cache_dummy.php	/^	public function clean()$/;"	f
clean	system/libraries/Cache/drivers/Cache_file.php	/^	public function clean()$/;"	f
clean	system/libraries/Cache/drivers/Cache_memcached.php	/^	public function clean()$/;"	f
clean_email	system/libraries/Email.php	/^		$clean_email = array();$/;"	v
clean_email	system/libraries/Email.php	/^	public function clean_email($email)$/;"	f
clean_file_name	system/libraries/Upload.php	/^	public function clean_file_name($filename)$/;"	f
clean_string	system/core/Utf8.php	/^	function clean_string($str)$/;"	f
clear	system/libraries/Email.php	/^	public function clear($clear_attachments = FALSE)$/;"	f
clear	system/libraries/Image_lib.php	/^	function clear()$/;"	f
clear	system/libraries/Table.php	/^	function clear()$/;"	f
clearEventHandlers	system/libraries/ckeditor.php	/^	public function clearEventHandlers($event = null)$/;"	f
clearGlobalEventHandlers	system/libraries/ckeditor.php	/^	public function clearGlobalEventHandlers($event = null)$/;"	f
clear_compile	system/libraries/Javascript.php	/^	function clear_compile()$/;"	f
clear_data	system/libraries/Zip.php	/^	function clear_data()$/;"	f
click	js/order.js	/^function click() {$/;"	f
click	system/libraries/Javascript.php	/^	function click($element = 'this', $js = '', $ret_false = TRUE)$/;"	f
clickCancelPanel	js/xheditor.min.js	/^(function(){var e={};window.XHEDITOR=e})(),function(e,t){e.mapLang={},e.setLang=function(i,s){s===t&&(s=i,i=""),""!==i&&(i+=".");var a,n;for(var o in s)n=s[o],a=i+o,"string"==typeof n||n instanceof Array?e.mapLang[a]=n:e.setLang(a,n)},e.getLang=function(i){var s=e.mapLang[i];if(s===t&&(s=i.replace(\/{#([^{}]+)}\/g,function(t,i){var s=e.mapLang[i];return s?s:i})),"string"==typeof s){var a=arguments;s=s.replace(\/{\\$(\\d+)}\/g,function(e,i){var s=a[parseInt(i,10)+1];return s!==t?s:e})}return s}}(XHEDITOR),function(XHEDITOR,$,undefined){var agent=navigator.userAgent.toLowerCase(),bMobile=\/mobile\/i.test(agent),browser=$.browser,browerVer=parseFloat(browser.version),isIE=browser.msie,isMozilla=browser.mozilla,isWebkit=browser.webkit,isOpera=browser.opera,isChrome=browser.chrome,bAir=agent.indexOf(" adobeair\/")>-1,xCount=0,bShowPanel=!1,bClickCancel=!0,bShowModal=!1,bCheckEscInit=!1,_jPanel,_jShadow,_jCntLine,_jPanelButton,jModal,jModalShadow,layerShadow,jOverlay,jHideSelect,onModalRemove,editorRoot,getLang=XHEDITOR.getLang;if($("script[src*=xheditor]").each(function(){var e=this.src;return e.match(\/xheditor[^\\\/]*\\.js\/i)?(editorRoot=e.replace(\/[\\?#].*$\/,"").replace(\/(^|[\\\/\\\\])[^\\\/]*$\/,"$1"),!1):undefined}),isIE){try{document.execCommand("BackgroundImageCache",!1,!0)}catch(e){}var jqueryVer=$.fn.jquery;jqueryVer&&jqueryVer.match(\/^1\\.[67]\/)&&($.attrHooks.width=$.attrHooks.height=null)}var specialKeys={27:"esc",9:"tab",32:"space",13:"enter",8:"backspace",145:"scroll",20:"capslock",144:"numlock",19:"pause",45:"insert",36:"home",46:"del",35:"end",33:"pageup",34:"pagedown",37:"left",38:"up",39:"right",40:"down",112:"f1",113:"f2",114:"f3",115:"f4",116:"f5",117:"f6",118:"f7",119:"f8",120:"f9",121:"f10",122:"f11",123:"f12"},arrAlign=[{v:"justifyleft"},{v:"justifycenter"},{v:"justifyright"},{v:"justifyfull"}],arrList=[{v:"insertOrderedList"},{v:"insertUnorderedList"}],htmlPastetext='<div><label for="xhePastetextValue">{#PastetextTip}<\/label><\/div><div><textarea id="xhePastetextValue" wrap="soft" spellcheck="false" style="width:300px;height:100px;" \/><\/div><div style="text-align:right;"><input type="button" id="xheSave" value="{#dialogOk}" \/><\/div>',htmlLink='<div><label for="xheLinkUrl">{#link.url}<\/label><input type="text" id="xheLinkUrl" value="http:\/\/" class="xheText" \/><\/div><div><label for="xheLinkTarget">{#link.target}<\/label><select id="xheLinkTarget"><option selected="selected" value="">{#default}<\/option><option value="_blank">{#link.targetBlank}<\/option><option value="_self">{#link.targetSelf}<\/option><option value="_parent">{#link.targetParent}<\/option><\/select><\/div><div style="display:none"><label for="xheLinkText">{#link.linkText}<\/label><input type="text" id="xheLinkText" value="" class="xheText" \/><\/div><div style="text-align:right;"><input type="button" id="xheSave" value="{#dialogOk}" \/><\/div>',htmlAnchor='<div><label for="xheAnchorName">{#anchor.name}<\/label><input type="text" id="xheAnchorName" value="" class="xheText" \/><\/div><div style="text-align:right;"><input type="button" id="xheSave" value="{#dialogOk}" \/><\/div>',htmlImg='<div><label for="xheImgUrl">{#img.url}<\/label><input type="text" id="xheImgUrl" value="http:\/\/" class="xheText" \/><\/div><div><div><label for="xheImgAlt">{#img.alt}<\/label><input type="text" id="xheImgAlt" \/><\/div><div><label for="xheImgAlign">{#img.align}<\/label><select id="xheImgAlign"><option selected="selected" value="">{#default}<\/option><option value="left">{#img.alignLeft}<\/option><option value="right">{#img.alignRight}<\/option><option value="top">{#img.alignTop}<\/option><option value="middle">{#img.alignMiddle}<\/option><option value="baseline">{#img.alignBaseline}<\/option><option value="bottom">{#img.alignBottom}<\/option><\/select><\/div><div><label for="xheImgWidth">{#img.width}<\/label><input type="text" id="xheImgWidth" style="width:40px;" \/> <label for="xheImgHeight">{#img.height}<\/label><input type="text" id="xheImgHeight" style="width:40px;" \/><\/div><div><label for="xheImgBorder">{#img.border}<\/label><input type="text" id="xheImgBorder" style="width:40px;" \/><\/div><div><label for="xheImgHspace">{#img.hspace}<\/label><input type="text" id="xheImgHspace" style="width:40px;" \/> <label for="xheImgVspace">{#img.vspace}<\/label><input type="text" id="xheImgVspace" style="width:40px;" \/><\/div><div style="text-align:right;"><input type="button" id="xheSave" value="{#dialogOk}" \/><\/div>',htmlFlash='<div><label for="xheFlashUrl">{#flash.url}<\/label><input type="text" id="xheFlashUrl" value="http:\/\/" class="xheText" \/><\/div><div><label for="xheFlashWidth">{#flash.width}<\/label><input type="text" id="xheFlashWidth" style="width:40px;" value="480" \/> <label for="xheFlashHeight">{#flash.height}<\/label><input type="text" id="xheFlashHeight" style="width:40px;" value="400" \/><\/div><div style="text-align:right;"><input type="button" id="xheSave" value="{#dialogOk}" \/><\/div>',htmlMedia='<div><label for="xheMediaUrl">{#media.url}<\/label><input type="text" id="xheMediaUrl" value="http:\/\/" class="xheText" \/><\/div><div><label for="xheMediaWidth">{#media.width}<\/label><input type="text" id="xheMediaWidth" style="width:40px;" value="480" \/> <label for="xheMediaHeight">{#media.height}<\/label><input type="text" id="xheMediaHeight" style="width:40px;" value="400" \/><\/div><div style="text-align:right;"><input type="button" id="xheSave" value="{#dialogOk}" \/><\/div>',htmlTable='<div><label for="xheTableRows">{#table.rows}<\/label><input type="text" id="xheTableRows" style="width:40px;" value="3" \/> <label for="xheTableColumns">{#table.columns}<\/label><input type="text" id="xheTableColumns" style="width:40px;" value="2" \/><\/div><div><label for="xheTableHeaders">{#table.headers}<\/label><select id="xheTableHeaders"><option selected="selected" value="">{#none}<\/option><option value="row">{#table.headersRow}<\/option><option value="col">{#table.headersCol}<\/option><option value="both">{#table.headersBoth}<\/option><\/select><\/div><div><label for="xheTableWidth">{#table.width}<\/label><input type="text" id="xheTableWidth" style="width:40px;" value="200" \/> <label for="xheTableHeight">{#table.height}<\/label><input type="text" id="xheTableHeight" style="width:40px;" value="" \/><\/div><div><label for="xheTableBorder">{#table.border}<\/label><input type="text" id="xheTableBorder" style="width:40px;" value="1" \/><\/div><div><label for="xheTableCellSpacing">{#table.cellSpacing}<\/label><input type="text" id="xheTableCellSpacing" style="width:40px;" value="1" \/> <label for="xheTableCellPadding">{#table.cellPadding}<\/label><input type="text" id="xheTableCellPadding" style="width:40px;" value="1" \/><\/div><div><label for="xheTableAlign">{#table.align}<\/label><select id="xheTableAlign"><option selected="selected" value="">{#default}<\/option><option value="left">{#table.alignLeft}<\/option><option value="center">{#table.alignCenter}<\/option><option value="right">{#table.alignRight}<\/option><\/select><\/div><div><label for="xheTableCaption">{#table.caption}<\/label><input type="text" id="xheTableCaption" \/><\/div><div style="text-align:right;"><input type="button" id="xheSave" value="{#dialogOk}" \/><\/div>',htmlAbout='<div style="font:12px Arial;width:245px;word-wrap:break-word;word-break:break-all;outline:none;" role="dialog" tabindex="-1"><p><span style="font-size:20px;color:#1997DF;">xhEditor<\/span><br \/>v1.2.1 (build 130225)<\/p><p>{#aboutXheditor}<\/p><p>Copyright &copy; <a href="http:\/\/xheditor.com\/" target="_blank">xhEditor.com<\/a>. All rights reserved.<\/p><\/div>',itemEmots={"default":{name:"{#default}",width:24,height:24,line:7,list:["smile","tongue","titter","laugh","sad","wronged","fastcry","cry","wail","mad","knock","curse","crazy","angry","ohmy","awkward","panic","shy","cute","envy","proud","struggle","quiet","shutup","doubt","despise","sleep","bye"]}},arrTools={Cut:{t:"Cut"},Copy:{t:"Copy"},Paste:{t:"Paste"},Pastetext:{t:"Pastetext",h:isIE?0:1},Blocktag:{t:"Blocktag",h:1},Fontface:{t:"Fontface",h:1},FontSize:{t:"FontSize",h:1},Bold:{t:"Bold",s:"Ctrl+B"},Italic:{t:"Italic",s:"Ctrl+I"},Underline:{t:"Underline",s:"Ctrl+U"},Strikethrough:{t:"Strikethrough"},FontColor:{t:"FontColor",h:1},BackColor:{t:"BackColor",h:1},SelectAll:{t:"SelectAll"},Removeformat:{t:"Removeformat"},Align:{t:"Align",h:1},List:{t:"List",h:1},Outdent:{t:"Outdent"},Indent:{t:"Indent"},Link:{t:"Link",s:"Ctrl+L",h:1},Unlink:{t:"Unlink"},Anchor:{t:"Anchor",h:1},Img:{t:"Img",h:1},Flash:{t:"Flash",h:1},Media:{t:"Media",h:1},Hr:{t:"Hr"},Emot:{t:"Emot",s:"ctrl+e",h:1},Table:{t:"Table",h:1},Source:{t:"Source"},Preview:{t:"Preview"},Print:{t:"Print",s:"Ctrl+P"},Fullscreen:{t:"Fullscreen",s:"Esc"},About:{t:"About"}},toolsThemes={mini:"Bold,Italic,Underline,Strikethrough,|,Align,List,|,Link,Img",simple:"Blocktag,Fontface,FontSize,Bold,Italic,Underline,Strikethrough,FontColor,BackColor,|,Align,List,Outdent,Indent,|,Link,Img,Emot",full:"Cut,Copy,Paste,Pastetext,|,Blocktag,Fontface,FontSize,Bold,Italic,Underline,Strikethrough,FontColor,BackColor,SelectAll,Removeformat,|,Align,List,Outdent,Indent,|,Link,Unlink,Anchor,Img,Flash,Media,Hr,Emot,Table,|,Source,Preview,Print,Fullscreen"};toolsThemes.mfull=toolsThemes.full.replace(\/\\|(,Align)\/i,"\/$1");var arrDbClick={a:"Link",img:"Img",embed:"Embed"},uploadInputname="filedata",arrEntities={"<":"&lt;",">":"&gt;",'"':"&quot;","\\u00ae":"&reg;","\\u00a9":"&copy;"},regEntities=\/[<>"\\u00ae\\u00a9]\/g,Xheditor=function(textarea,options){function checkDblClick(e){var t=e.target,i=arrDbClick[t.tagName.toLowerCase()];if(i){if("Embed"===i){var s={"application\/x-shockwave-flash":"Flash","application\/x-mplayer2":"Media"};i=s[t.type.toLowerCase()]}_this.exec(i)}}function checkEsc(e){return 27===e.which?(bShowModal?_this.removeModal():bShowPanel&&_this.hidePanel(),!1):undefined}function loadReset(){setTimeout(_this.setSource,10)}function saveResult(){_this.getSource()}function cleanPaste(e){var t,i,s;if(e&&(t=e.originalEvent.clipboardData)&&(i=t.items)&&(s=i[0])&&"file"==s.kind&&s.type.match(\/^image\\\/\/i)){var a=s.getAsFile(),n=new FileReader;return n.onload=function(){var e='<img src="'+event.target.result+'">';e=replaceRemoteImg(e),_this.pasteHTML(e)},n.readAsDataURL(a),!1}var o=settings.cleanPaste;if(0===o||bSource||bCleanPaste)return!0;bCleanPaste=!0,_this.saveBookmark();var l=isIE?"pre":"div",r=$("<"+l+' class="xhe-paste">\\ufeff\\ufeff<\/'+l+">",_doc).appendTo(_doc.body),h=r[0],c=_this.getSel(),d=_this.getRng(!0);r.css("top",_jWin.scrollTop()),isIE?(d.moveToElementText(h),d.select()):(d.selectNodeContents(h),c.removeAllRanges(),c.addRange(d)),setTimeout(function(){var e,t=3===o;if(t)r.html(r.html().replace(\/<br(\\s+[^<>]*)?>\/gi,"\\n")),e=r.text();else{var i=$(".xhe-paste",_doc.body),s=[];i.each(function(e,t){0==$(t).find(".xhe-paste").length&&s.push(t.innerHTML)}),e=s.join("<br \/>")}r.remove(),_this.loadBookmark(),e=e.replace(\/^[\\s\\uFEFF]+|[\\s\\uFEFF]+$\/g,""),e&&(t?_this.pasteText(e):(e=_this.cleanHTML(e),e=_this.cleanWord(e),e=_this.formatXHTML(e),(!settings.onPaste||settings.onPaste&&(e=settings.onPaste(e))!==!1)&&(e=replaceRemoteImg(e),_this.pasteHTML(e)))),bCleanPaste=!1},0)}function replaceRemoteImg(e){var t=settings.localUrlTest,i=settings.remoteImgSaveUrl;if(t&&i){var s=[],a=0;e=e.replace(\/(<img)((?:\\s+[^>]*?)?(?:\\s+src="\\s*([^"]+)\\s*")(?: [^>]*)?)(\\\/?>)\/gi,function(e,i,n,o,l){return!\/^(https?|data:image)\/i.test(o)||\/_xhe_temp\/.test(n)||t.test(o)||(s[a]=o,n=n.replace(\/\\s+(width|height)="[^"]*"\/gi,"").replace(\/\\s+src="[^"]*"\/gi,' src="'+skinPath+'img\/waiting.gif" remoteimg="'+a++ +'"')),i+n+l}),s.length>0&&$.post(i,{urls:s.join("|")},function(e){e=e.split("|"),$("img[remoteimg]",_this.doc).each(function(){var t=$(this);xheAttr(t,"src",e[t.attr("remoteimg")]),t.removeAttr("remoteimg")})})}return e}function setCSS(e){try{_this._exec("styleWithCSS",e,!0)}catch(t){try{_this._exec("useCSS",!e,!0)}catch(t){}}}function setOpts(){if(bInit&&!bSource){setCSS(!1);try{_this._exec("enableObjectResizing",!0,!0)}catch(e){}if(isIE)try{_this._exec("BackgroundImageCache",!0,!0)}catch(e){}}}function forcePtag(e){if(bSource||13!==e.which||e.shiftKey||e.ctrlKey||e.altKey)return!0;var t=_this.getParent("p,h1,h2,h3,h4,h5,h6,pre,address,div,li");return t.is("li")?!0:settings.forcePtag?(0===t.length&&_this._exec("formatblock","<p>"),undefined):(_this.pasteHTML("<br \/>"),isIE&&t.length>0&&2===_this.getRng().parentElement().childNodes.length&&_this.pasteHTML("<br \/>"),!1)}function fixFullHeight(){isMozilla||isWebkit||(bFullscreen&&_jArea.height("100%").css("height",_jArea.outerHeight()-_jTools.outerHeight()),isIE&&_jTools.hide().show())}function fixAppleSel(e){if(e=e.target,e.tagName.match(\/(img|embed)\/i)){var t=_this.getSel(),i=_this.getRng(!0);i.selectNode(e),t.removeAllRanges(),t.addRange(i)}}function xheAttr(e,t,i){if(!t)return!1;var s="_xhe_"+t;return i&&(urlType&&(i=getLocalUrl(i,urlType,urlBase)),e.attr(t,urlBase?getLocalUrl(i,"abs",urlBase):i).removeAttr(s).attr(s,i)),e.attr(s)||e.attr(t)}function clickCancelPanel(){bClickCancel&&_this.hidePanel()}function checkShortcuts(e){if(bSource)return!0;var t=e.which,i=specialKeys[t],s=i?i:String.fromCharCode(t).toLowerCase();sKey="",sKey+=e.ctrlKey?"ctrl+":"",sKey+=e.altKey?"alt+":"",sKey+=e.shiftKey?"shift+":"",sKey+=s;var a,n=arrShortCuts[sKey];for(a in n){if(a=n[a],!$.isFunction(a))return _this.exec(a),!1;if(a.call(_this)===!1)return!1}}function is(e,t){var i=typeof e;return t?"array"===t&&e.hasOwnProperty&&e instanceof Array?!0:i===t:"undefined"!=i}function getLocalUrl(e,t,i){if(e.match(\/^(\\w+):\\\/\\\/\/i)&&!e.match(\/^https?:\/i)||\/^#\/i.test(e)||\/^data:\/i.test(e))return e;var s=i?$('<a href="'+i+'" \/>')[0]:location,a=s.protocol,n=s.host,o=s.hostname,l=s.port,r=s.pathname.replace(\/\\\\\/g,"\/").replace(\/[^\\\/]+$\/i,"");if(""===l&&(l="80"),""===r?r="\/":"\/"!==r.charAt(0)&&(r="\/"+r),e=$.trim(e),"abs"!==t&&(e=e.replace(RegExp(a+"\\\\\/\\\\\/"+o.replace(\/\\.\/g,"\\\\.")+"(?::"+l+")"+("80"===l?"?":"")+"(\/|$)","i"),"\/")),"rel"===t&&(e=e.replace(RegExp("^"+r.replace(\/([\\\/\\.\\+\\[\\]\\(\\)])\/g,"\\\\$1"),"i"),"")),"rel"!==t&&(e.match(\/^(https?:\\\/\\\/|\\\/)\/i)||(e=r+e),"\/"===e.charAt(0))){var h,c,d=[],u=e.split("\/"),p=u.length;for(c=0;p>c;c++)h=u[c],".."===h?d.pop():""!==h&&"."!==h&&d.push(h);""===u[p-1]&&d.push(""),e="\/"+d.join("\/")}return"abs"!==t||e.match(\/^https?:\\\/\\\/\/i)||(e=a+"\/\/"+n+e),e=e.replace(\/(https?:\\\/\\\/[^:\\\/?#]+):80(\\\/|$)\/i,"$1$2")}function checkFileExt(e,t){return"*"===t||e.match(RegExp(".("+t.replace(\/,\/g,"|")+")$","i"))?!0:(alert(getLang("upload.extLimit",t)),!1)}function formatBytes(e){var t=["Byte","KB","MB","GB","TB","PB"],i=Math.floor(Math.log(e)\/Math.log(1024));return(e\/Math.pow(1024,Math.floor(i))).toFixed(2)+t[i]}function returnFalse(){return!1}var _this=this,_text=textarea,_jText=$(_text),_jForm=_jText.closest("form"),_jTools,_jArea,_win,_jWin,_doc,_jDoc,bookmark,bInit=!1,bSource=!1,bFullscreen=!1,bCleanPaste=!1,outerScroll,bShowBlocktag=!1,sLayoutStyle="",ev=null,timer,bDisableHoverExec=!1,bQuickHoverExec=!1,lastPoint=null,lastAngle=null,editorHeight=0,settings=_this.settings=$.extend({},XHEDITOR.settings,options),plugins=settings.plugins,strPlugins=[];if(plugins&&(arrTools=$.extend({},arrTools,plugins),$.each(plugins,function(e){strPlugins.push(e)}),strPlugins=strPlugins.join(",")),settings.tools.match(\/^\\s*(m?full|simple|mini)\\s*$\/i)){var toolsTheme=toolsThemes[$.trim(settings.tools)];settings.tools=settings.tools.match(\/m?full\/i)&&plugins?toolsTheme.replace("Table","Table,"+strPlugins):toolsTheme}settings.tools.match(\/(^|,)\\s*About\\s*(,|$)\/i)||(settings.tools+=",About"),settings.tools=settings.tools.split(","),settings.editorRoot&&(editorRoot=settings.editorRoot),bAir===!1&&(editorRoot=getLocalUrl(editorRoot,"abs")),settings.urlBase&&(settings.urlBase=getLocalUrl(settings.urlBase,"abs"));var idCSS="xheCSS_"+settings.skin,idContainer="xhe"+xCount+"_container",idTools="xhe"+xCount+"_Tool",idIframeArea="xhe"+xCount+"_iframearea",idIframe="xhe"+xCount+"_iframe",idFixFFCursor="xhe"+xCount+"_fixffcursor",headHTML="",bodyClass="",skinPath=editorRoot+"xheditor_skin\/"+settings.skin+"\/",arrEmots=itemEmots,urlType=settings.urlType,urlBase=settings.urlBase,emotPath=settings.emotPath,emotPath=emotPath?emotPath:editorRoot+"xheditor_emot\/",selEmotGroup="";arrEmots=$.extend({},arrEmots,settings.emots),emotPath=getLocalUrl(emotPath,"rel",urlBase?urlBase:null),bShowBlocktag=settings.showBlocktag,bShowBlocktag&&(bodyClass+=" showBlocktag");var arrShortCuts=[];this.init=function(){function e(e){var t,i=$(e.target);(t=i.css("width"))&&i.css("width","").attr("width",t.replace(\/[^0-9%]+\/g,"")),(t=i.css("height"))&&i.css("height","").attr("height",t.replace(\/[^0-9%]+\/g,""))}0===$("#"+idCSS).length&&$("head").append('<link id="'+idCSS+'" rel="stylesheet" type="text\/css" href="'+skinPath+'ui.css" \/>');var t=_jText.outerWidth(),i=_jText.outerHeight(),s=settings.width||_text.style.width||(t>10?t:0);editorHeight=settings.height||_text.style.height||(i>10?i:150),\/^\\d+(?:\\.\\d+)?$\/.test(s)&&(s+="px"),is(editorHeight,"string")&&(editorHeight=editorHeight.replace(\/[^\\d]+\/g,""));var a,n,o=settings.background||_text.style.background,l=['<span class="xheGStart"\/>'],r=\/\\||\\\/\/i;$.each(settings.tools,function(e,t){if(t.match(r)&&l.push('<span class="xheGEnd"\/>'),"|"===t)l.push('<span class="xheSeparator"\/>');else if("\/"===t)l.push("<br \/>");else{if(a=arrTools[t],!a)return;n=a.c?a.c:"xheIcon xheBtn"+t,l.push('<span><a href="#" title="{#'+a.t+'}" cmd="'+t+'" class="xheButton xheEnabled" tabindex="-1" role="button"><span class="'+n+'" unselectable="on" style="font-size:0;color:transparent;text-indent:-999px;">'+a.t+"<\/span><\/a><\/span>"),a.s&&_this.addShortcuts(a.s,t)}t.match(r)&&l.push('<span class="xheGStart"\/>')}),l.push('<span class="xheGEnd"\/><br \/>'),_jText.after($('<input type="text" id="'+idFixFFCursor+'" style="position:absolute;display:none;" \/><span id="'+idContainer+'" class="xhe_'+settings.skin+'" style="display:none"><table cellspacing="0" cellpadding="0" class="xheLayout" style="'+("0px"!=s?"width:"+s+";":"")+"height:"+editorHeight+'px;" role="presentation"><tr><td id="'+idTools+'" class="xheTool" unselectable="on" style="height:1px;" role="presentation"><\/td><\/tr><tr><td id="'+idIframeArea+'" class="xheIframeArea" role="presentation"><iframe frameborder="0" id="'+idIframe+'" src="javascript:;" style="width:100%;"><\/iframe><\/td><\/tr><\/table><\/span>')),_jTools=$("#"+idTools),_jArea=$("#"+idIframeArea),headHTML='<meta http-equiv="Content-Type" content="text\/html; charset=utf-8" \/><link rel="stylesheet" href="'+skinPath+'iframe.css"\/>';var h=settings.loadCSS;if(h)if(is(h,"array"))for(var c in h)headHTML+='<link rel="stylesheet" href="'+h[c]+'"\/>';else headHTML+=h.match(\/\\s*<style(\\s+[^>]*?)?>[\\s\\S]+?<\\\/style>\\s*\/i)?h:'<link rel="stylesheet" href="'+h+'"\/>';var d='<!DOCTYPE html><html xmlns="http:\/\/www.w3.org\/1999\/xhtml"><head>'+headHTML+"<title>{#defaultReadTip} "+(settings.readTip?settings.readTip:"")+"<\/title>";o&&(d+="<style>html{background:"+o+";}<\/style>"),d+='<\/head><body spellcheck="0" class="editMode'+bodyClass+'"><\/body><\/html>',_this.win=_win=$("#"+idIframe)[0].contentWindow,_jWin=$(_win);try{this.doc=_doc=_win.document,_jDoc=$(_doc),_doc.open(),_doc.write(getLang(d)),_doc.close(),isIE?_doc.body.contentEditable="true":_doc.designMode="On"}catch(u){}setTimeout(setOpts,300),_this.setSource(),_win.setInterval=null,_jTools.append(getLang(l.join(""))).bind("mousedown contextmenu",returnFalse).click(function(e){var t=$(e.target).closest("a");return t.is(".xheEnabled")&&(clearTimeout(timer),_jTools.find("a").attr("tabindex","-1"),ev=e,_this.exec(t.attr("cmd"))),!1}),_jTools.find(".xheButton").hover(function(e){var t=$(this),i=settings.hoverExecDelay,s=lastAngle;if(lastAngle=null,-1===i||bDisableHoverExec||!t.is(".xheEnabled"))return!1;if(s&&s>10)return bDisableHoverExec=!0,setTimeout(function(){bDisableHoverExec=!1},100),!1;var a=t.attr("cmd"),n=1===arrTools[a].h;return n?(bQuickHoverExec&&(i=0),i>=0&&(timer=setTimeout(function(){ev=e,lastPoint={x:ev.clientX,y:ev.clientY},_this.exec(a)},i)),undefined):(_this.hidePanel(),!1)},function(){lastPoint=null,timer&&clearTimeout(timer)}).mousemove(function(e){if(lastPoint){var t={x:e.clientX-lastPoint.x,y:e.clientY-lastPoint.y};if(Math.abs(t.x)>1||Math.abs(t.y)>1){if(t.x>0&&t.y>0){var i=Math.round(Math.atan(t.y\/t.x)\/.017453293);lastAngle=lastAngle?(lastAngle+i)\/2:i}else lastAngle=null;lastPoint={x:e.clientX,y:e.clientY}}}}),_jPanel=$("#xhePanel"),_jShadow=$("#xheShadow"),_jCntLine=$("#xheCntLine"),0===_jPanel.length&&(_jPanel=$('<div id="xhePanel"><\/div>').mousedown(function(e){e.stopPropagation()}),_jShadow=$('<div id="xheShadow"><\/div>'),_jCntLine=$('<div id="xheCntLine"><\/div>'),setTimeout(function(){$(document.body).append(_jPanel).append(_jShadow).append(_jCntLine)},10)),$("#"+idContainer).show(),_jText.hide(),_jArea.css("height",editorHeight-_jTools.outerHeight()),isIE&8>browerVer&&setTimeout(function(){_jArea.css("height",editorHeight-_jTools.outerHeight())},1),_jText.focus(_this.focus),_jForm.submit(saveResult).bind("reset",loadReset),settings.submitID&&$("#"+settings.submitID).mousedown(saveResult),$(window).bind("unload beforeunload",saveResult).bind("resize",fixFullHeight),$(document).mousedown(clickCancelPanel),bCheckEscInit||($(document).keydown(checkEsc),bCheckEscInit=!0),_jWin.focus(function(){settings.focus&&settings.focus()}).blur(function(){settings.blur&&settings.blur()}),isWebkit&&_jWin.click(fixAppleSel),_jDoc.mousedown(clickCancelPanel).keydown(checkShortcuts).keypress(forcePtag).dblclick(checkDblClick).bind("mousedown click",function(e){_jText.trigger(e.type)}),isIE&&(_jDoc.keydown(function(e){var t=_this.getRng();return 8===e.which&&t.item?($(t.item(0)).remove(),!1):undefined}),_jDoc.bind("controlselect",function(t){t=t.target,$.nodeName(t,"IMG")&&$(t).unbind("resizeend",e).bind("resizeend",e)})),_jDoc.keydown(function(e){var t=e.which;return e.altKey&&t>=49&&57>=t?(_jTools.find("a").attr("tabindex","0"),_jTools.find(".xheGStart").eq(t-49).next().find("a").focus(),_doc.title="\\ufeff\\ufeff",!1):undefined}).click(function(){_jTools.find("a").attr("tabindex","-1")}),_jTools.keydown(function(e){var t=e.which;if(27==t)_jTools.find("a").attr("tabindex","-1"),_this.focus();else if(e.altKey&&t>=49&&57>=t)return _jTools.find(".xheGStart").eq(t-49).next().find("a").focus(),!1});var p=$(_doc.documentElement);isOpera?p.bind("keydown",function(e){e.ctrlKey&&86===e.which&&cleanPaste()}):p.bind(isIE?"beforepaste":"paste",cleanPaste),settings.disableContextmenu&&p.bind("contextmenu",returnFalse),settings.html5Upload&&p.bind("dragenter dragover",function(e){var t;return(t=e.originalEvent.dataTransfer.types)&&-1!==$.inArray("Files",t)?!1:undefined}).bind("drop",function(e){function t(e){var t,i,s;for(a=0;e.length>a;a++){if(i=e[a].name.replace(\/.+\\.\/,""),!(t=o.match(RegExp("(\\\\w+):[^:]*,"+i+"(?:,|$)","i"))))return 1;if(s){if(s!==t[1])return 2}else s=t[1]}return s}var i,s=e.originalEvent.dataTransfer;if(s&&(i=s.files)&&i.length>0){var a,n,o,l=["Link","Img","Flash","Media"],r=[];for(a in l)n=l[a],settings["up"+n+"Url"]&&settings["up"+n+"Url"].match(\/^[^!].*\/i)&&r.push(n+":,"+settings["up"+n+"Ext"]);return 0===r.length?!1:(o=r.join(","),n=t(i),1===n?alert(getLang("upload.extLimit",o.replace(\/\\w+:,\/g,""))):2===n?alert(getLang("upload.typeLimit")):n&&_this.startUpload(i,settings["up"+n+"Url"],"*",function(e){var t,i=[],s=settings.onUpload;s&&s(e);for(var a=0,o=e.length;o>a;a++)t=e[a],url=is(t,"string")?t:t.url,"!"===url.substr(0,1)&&(url=url.substr(1)),i.push(url);_this.exec(n),$("#xhe"+n+"Url").val(i.join(" ")),$("#xheSave").click()}),!1)}});var g=settings.shortcuts;g&&$.each(g,function(e,t){_this.addShortcuts(e,t)}),xCount++,bInit=!0,settings.fullscreen?_this.toggleFullscreen():settings.sourceMode&&setTimeout(_this.toggleSource,20);var f=settings.plugins;return f&&$.each(f,function(e,t){var i=t.i;i!==undefined&&i(_this)}),!0},this.remove=function(){_this.hidePanel(),saveResult(),_jText.unbind("focus",_this.focus),_jForm.unbind("submit",saveResult).unbind("reset",loadReset),settings.submitID&&$("#"+settings.submitID).unbind("mousedown",saveResult),$(window).unbind("unload beforeunload",saveResult).unbind("resize",fixFullHeight),$(document).unbind("mousedown",clickCancelPanel),$("#"+idContainer).remove(),$("#"+idFixFFCursor).remove(),_jText.show(),bInit=!1},this.saveBookmark=function(){if(!bSource){_this.focus();var e=_this.getRng();e=e.cloneRange?e.cloneRange():e,bookmark={top:_jWin.scrollTop(),rng:e}}},this.loadBookmark=function(){if(!bSource&&bookmark){_this.focus();var e=bookmark.rng;if(isIE)e.select();else{var t=_this.getSel();t.removeAllRanges(),t.addRange(e)}_jWin.scrollTop(bookmark.top),bookmark=null}},this.focus=function(){if(bSource?$("#sourceCode",_doc).focus():_win.focus(),isIE){var e=_this.getRng();e.parentElement&&e.parentElement().ownerDocument!==_doc&&_this.setTextCursor()}return!1},this.setTextCursor=function(e){var t=_this.getRng(!0),i=_doc.body;if(isIE)t.moveToElementText(i);else{for(var s=e?"lastChild":"firstChild";3!=i.nodeType&&i[s];)i=i[s];t.selectNode(i)}if(t.collapse(e?!1:!0),isIE)t.select();else{var a=_this.getSel();a.removeAllRanges(),a.addRange(t)}},this.getSel=function(){return _doc.selection?_doc.selection:_win.getSelection()},this.getRng=function(e){var t,i;try{e||(t=_this.getSel(),i=t.createRange?t.createRange():t.rangeCount>0?t.getRangeAt(0):null),i||(i=_doc.body.createTextRange?_doc.body.createTextRange():_doc.createRange())}catch(s){}return i},this.getParent=function(e){var t,i=_this.getRng();return isIE?t=i.item?i.item(0):i.parentElement():(t=i.commonAncestorContainer,i.collapsed||i.startContainer===i.endContainer&&2>i.startOffset-i.endOffset&&i.startContainer.hasChildNodes()&&(t=i.startContainer.childNodes[i.startOffset])),e=e?e:"*",t=$(t),t.is(e)||(t=$(t).closest(e)),t},this.getSelect=function(e){var t=_this.getSel(),i=_this.getRng(),s=!0;if(s=!i||i.item?!1:!t||0===i.boundingWidth||i.collapsed,"text"===e)return s?"":i.text||(t.toString?""+t:"");var a;if(i.cloneContents){var n,o=$("<div><\/div>");n=i.cloneContents(),n&&o.append(n),a=o.html()}else a=is(i.item)?i.item(0).outerHTML:is(i.htmlText)?i.htmlText:""+i;return s&&(a=""),a=_this.processHTML(a,"read"),a=_this.cleanHTML(a),a=_this.formatXHTML(a)},this.pasteHTML=function(e,t){if(bSource)return!1;_this.focus(),e=_this.processHTML(e,"write");var i=_this.getSel(),s=_this.getRng();if(t!==undefined){if(s.item){var a=s.item(0);s=_this.getRng(!0),s.moveToElementText(a),s.select()}s.collapse(t)}if(e+="<"+(isIE?"img":"span")+' id="_xhe_temp" width="0" height="0" \/>',s.insertNode){if($(s.startContainer).closest("style,script").length>0)return!1;s.deleteContents(),s.insertNode(s.createContextualFragment(e))}else"control"===i.type.toLowerCase()&&(i.clear(),s=_this.getRng()),s.pasteHTML(e);var n=$("#_xhe_temp",_doc),o=n[0];isIE?(s.moveToElementText(o),s.select()):(s.selectNode(o),i.removeAllRanges(),i.addRange(s)),n.remove()},this.pasteText=function(e,t){e||(e=""),e=_this.domEncode(e),e=e.replace(\/\\r?\\n\/g,"<br \/>"),_this.pasteHTML(e,t)},this.appendHTML=function(e){return bSource?!1:(_this.focus(),e=_this.processHTML(e,"write"),$(_doc.body).append(e),_this.setTextCursor(!0),undefined)},this.domEncode=function(e){return e.replace(regEntities,function(e){return arrEntities[e]})},this.setSource=function(e){bookmark=null,"string"!=typeof e&&""!==e&&(e=_text.value),bSource?$("#sourceCode",_doc).val(e):(settings.beforeSetSource&&(e=settings.beforeSetSource(e)),e=_this.cleanHTML(e),e=_this.formatXHTML(e),e=_this.processHTML(e,"write"),isIE?(_doc.body.innerHTML='<img id="_xhe_temp" width="0" height="0" \/>'+e,$("#_xhe_temp",_doc).remove()):_doc.body.innerHTML=e)},this.processHTML=function(e,t){function i(e,t,i,s,a,o){var l,r,h,c,d="";if(l=s.match(\/font-family\\s*:\\s*([^;"]+)\/i),l&&(d+=' face="'+l[1]+'"'),r=s.match(\/font-size\\s*:\\s*([^;"]+)\/i)){r=r[1].toLowerCase();for(var u=0;n.length>u;u++)if(r===n[u].n||r===n[u].s){h=u+1;break}h&&(d+=' size="'+h+'"',s=s.replace(\/(^|;)(\\s*font-size\\s*:\\s*[^;"]+;?)+\/gi,"$1"))}if(c=s.match(\/(?:^|[\\s;])color\\s*:\\s*([^;"]+)\/i)){var p;if(p=c[1].match(\/\\s*rgb\\s*\\(\\s*(\\d+)\\s*,\\s*(\\d+)\\s*,\\s*(\\d+)\\s*\\)\/i)){c[1]="#";for(var g=1;3>=g;g++)c[1]+=("0"+(p[g]-0).toString(16)).slice(-2)}c[1]=c[1].replace(\/^#([0-9a-f])([0-9a-f])([0-9a-f])$\/i,"#$1$1$2$2$3$3"),d+=' color="'+c[1]+'"'}return s=s.replace(\/(^|;)(\\s*(font-family|color)\\s*:\\s*[^;"]+;?)+\/gi,"$1"),""!==d?(s&&(d+=' style="'+s+'"'),"<font"+(i?i:"")+d+(a?a:"")+">"+o+"<\/font>"):e}function s(e,t,i,s,a){for(var n,l,r=(i?i:"")+(s?s:""),h=[],c=[],d=0;o.length>d;d++)n=o[d].r,l=o[d].t,r=r.replace(n,function(){return h.push("<"+l+">"),c.push("<\/"+l+">"),""});return r=r.replace(\/\\s+style\\s*=\\s*"\\s*"\/i,""),(r?"<span"+r+">":"")+h.join("")+a+c.join("")+(r?"<\/span>":"")}var a=' class="Apple-style-span"',n=settings.listFontsize;if("write"===t)e=e.replace(\/(<(\\\/?)(\\w+))((?:\\s+[\\w\\-:]+\\s*=\\s*(?:"[^"]*"|'[^']*'|[^>\\s]+))*)\\s*((\\\/?)>)\/g,function(e,t,i,s,n,o,l){s=s.toLowerCase(),isMozilla?"strong"===s?s="b":"em"===s&&(s="i"):isWebkit&&("strong"===s?(s="span",i||(n+=a+' style="font-weight: bold;"')):"em"===s?(s="span",i||(n+=a+' style="font-style: italic;"')):"u"===s?(s="span",i||(n+=a+' style="text-decoration: underline;"')):"strike"===s&&(s="span",i||(n+=a+' style="text-decoration: line-through;"')));var r,h="";if("del"===s)s="strike";else if("img"===s)n=n.replace(\/\\s+emot\\s*=\\s*("[^"]*"|'[^']*'|[^>\\s]+)\/i,function(e,t){return r=t.match(\/^(["']?)(.*)\\1\/)[2],r=r.split(","),r[1]||(r[1]=r[0],r[0]=""),"default"===r[0]&&(r[0]=""),settings.emotMark?e:""});else if("a"===s)!n.match(\/ href=[^ ]\/i)&&n.match(\/ name=[^ ]\/i)&&(h+=" xhe-anchor"),l&&(o="><\/a>");else if("table"===s&&!i){var c=n.match(\/\\s+border\\s*=\\s*("[^"]*"|'[^']*'|[^>\\s]+)\/i);(!c||c[1].match(\/^(["']?)\\s*0\\s*\\1$\/))&&(h+=" xhe-border")}var d;if(n=n.replace(\/\\s+([\\w\\-:]+)\\s*=\\s*("[^"]*"|'[^']*'|[^>\\s]+)\/g,function(e,t,i){return t=t.toLowerCase(),i=i.match(\/^(["']?)(.*)\\1\/)[2],aft="",isIE&&t.match(\/^(disabled|checked|readonly|selected)$\/)&&i.match(\/^(false|0)$\/i)?"":"img"===s&&r&&"src"===t?"":(t.match(\/^(src|href)$\/)&&(aft=" _xhe_"+t+'="'+i+'"',urlBase&&(i=getLocalUrl(i,"abs",urlBase))),h&&"class"===t&&(i+=" "+h,h=""),isWebkit&&"style"===t&&"span"===s&&i.match(\/(^|;)\\s*(font-family|font-size|color|background-color)\\s*:\\s*[^;]+\\s*(;|$)\/i)&&(d=!0)," "+t+'="'+i+'"'+aft)}),r){var u=emotPath+(r[0]?r[0]:"default")+"\/"+r[1]+".gif";n+=' src="'+u+'" _xhe_src="'+u+'"'}return d&&(n+=a),h&&(n+=' class="'+h+'"'),"<"+i+s+n+o}),isIE&&(e=e.replace(\/&apos;\/gi,"&#39;")),isWebkit||(e=e.replace(\/<(span)(\\s+[^>]*?)?\\s+style\\s*=\\s*"((?:[^"]*?;)?\\s*(?:font-family|font-size|color)\\s*:[^"]*)"( [^>]*)?>(((?!<\\1(\\s+[^>]*?)?>)[\\s\\S]|<\\1(\\s+[^>]*?)?>((?!<\\1(\\s+[^>]*?)?>)[\\s\\S]|<\\1(\\s+[^>]*?)?>((?!<\\1(\\s+[^>]*?)?>)[\\s\\S])*?<\\\/\\1>)*?<\\\/\\1>)*?)<\\\/\\1>\/gi,i),e=e.replace(\/<(span)(\\s+[^>]*?)?\\s+style\\s*=\\s*"((?:[^"]*?;)?\\s*(?:font-family|font-size|color)\\s*:[^"]*)"( [^>]*)?>(((?!<\\1(\\s+[^>]*?)?>)[\\s\\S]|<\\1(\\s+[^>]*?)?>((?!<\\1(\\s+[^>]*?)?>)[\\s\\S])*?<\\\/\\1>)*?)<\\\/\\1>\/gi,i),e=e.replace(\/<(span)(\\s+[^>]*?)?\\s+style\\s*=\\s*"((?:[^"]*?;)?\\s*(?:font-family|font-size|color)\\s*:[^"]*)"( [^>]*)?>(((?!<\\1(\\s+[^>]*?)?>)[\\s\\S])*?)<\\\/\\1>\/gi,i)),e=e.replace(\/<(td|th)(\\s+[^>]*?)?>(\\s|&nbsp;)*<\\\/\\1>\/gi,"<$1$2>"+(isIE?"":"<br \/>")+"<\/$1>");else{if(isWebkit)for(var o=[{r:\/font-weight\\s*:\\s*bold;?\/gi,t:"strong"},{r:\/font-style\\s*:\\s*italic;?\/gi,t:"em"},{r:\/text-decoration\\s*:\\s*underline;?\/gi,t:"u"},{r:\/text-decoration\\s*:\\s*line-through;?\/gi,t:"strike"}],l=0;2>l;l++)e=e.replace(\/<(span)(\\s+[^>]*?)?\\s+class\\s*=\\s*"Apple-style-span"(\\s+[^>]*?)?>(((?!<\\1(\\s+[^>]*?)?>)[\\s\\S]|<\\1(\\s+[^>]*?)?>((?!<\\1(\\s+[^>]*?)?>)[\\s\\S]|<\\1(\\s+[^>]*?)?>((?!<\\1(\\s+[^>]*?)?>)[\\s\\S])*?<\\\/\\1>)*?<\\\/\\1>)*?)<\\\/\\1>\/gi,s),e=e.replace(\/<(span)(\\s+[^>]*?)?\\s+class\\s*=\\s*"Apple-style-span"(\\s+[^>]*?)?>(((?!<\\1(\\s+[^>]*?)?>)[\\s\\S]|<\\1(\\s+[^>]*?)?>((?!<\\1(\\s+[^>]*?)?>)[\\s\\S])*?<\\\/\\1>)*?)<\\\/\\1>\/gi,s),e=e.replace(\/<(span)(\\s+[^>]*?)?\\s+class\\s*=\\s*"Apple-style-span"(\\s+[^>]*?)?>(((?!<\\1(\\s+[^>]*?)?>)[\\s\\S])*?)<\\\/\\1>\/gi,s);e=e.replace(\/(<(\\w+))((?:\\s+[\\w\\-:]+\\s*=\\s*(?:"[^"]*"|'[^']*'|[^>\\s]+))*)\\s*(\\\/?>)\/g,function(e,t,i,s,a){i=i.toLowerCase();$/;"	f
client	application/controllers/HttpClient.class.php	/^        $client = new HttpClient($host, $port);$/;"	v
client	application/controllers/apitest.php	/^	$client = new DsPrintSend('your_password','your_appid');$/;"	v
client	application/controllers/dsprint.class.php	/^		$client = new HttpClient("ds.fusionunix.com",80);$/;"	v
client	application/controllers/order.php	/^            $client = new DsPrintSend('1e13cb1c5281c812' ,$selInfo["dtuId"]);\/\/密码和编号,或许这些东西也需要保存到后台，在必要的时候调用$/;"	v
client	application/controllers/order.php	/^        $client = new DsPrintSend('1e13cb1c5281c812','2050');$/;"	v
client	application/controllers/printapi.php	/^$client = new DsPrintSend($pass,$app);$/;"	v
client	application/controllers/test.php	/^        $client = new DsPrintSend('1e13cb1c5281c812','2050');$/;"	v
client	system/libraries/Xmlrpc.php	/^		$this->client = new XML_RPC_Client($path, $parts['host'], $port);$/;"	v
client	system/libraries/Xmlrpc.php	/^	var $client;$/;"	v
client_name	system/libraries/Upload.php	/^		$this->client_name = $this->file_name;$/;"	v
client_name	system/libraries/Upload.php	/^	public $client_name				= '';$/;"	v
close	js/common.js	/^	function close () {$/;"	f
close	system/database/DB_driver.php	/^	function close()$/;"	f
close	system/libraries/Ftp.php	/^	function close()$/;"	f
close	system/libraries/Image_lib.php	/^	function display_errors($open = '<p>', $close = '<\/p>')$/;"	v
close	system/libraries/Trackback.php	/^	function display_errors($open = '<p>', $close = '<\/p>')$/;"	v
close	system/libraries/Upload.php	/^	public function display_errors($open = '<p>', $close = '<\/p>')$/;"	v
closeFramePage	application/views/printindex.php	/^function closeFramePage(){$/;"	f
closing_tag	system/libraries/Xmlrpc.php	/^	function closing_tag($the_parser, $name)$/;"	f
cmd	system/libraries/Image_lib.php	/^		$cmd = $this->library_path." -quality ".$this->quality;$/;"	v
cmd	system/libraries/Image_lib.php	/^		$cmd = $this->library_path.$cmd_in.' '.$this->full_src_path.' | '.$cmd_inner.' | '.$cmd_out.' > '.$this->dest_folder.'netpbm.tmp';$/;"	v
cmd	system/libraries/Upload.php	/^			$cmd = 'file --brief --mime ' . escapeshellarg($file['tmp_name']) . ' 2>&1';$/;"	v
cmd_in	system/libraries/Image_lib.php	/^						$cmd_in		= 'giftopnm';$/;"	v
cmd_in	system/libraries/Image_lib.php	/^						$cmd_in		= 'jpegtopnm';$/;"	v
cmd_in	system/libraries/Image_lib.php	/^						$cmd_in		= 'pngtopnm';$/;"	v
cmd_inner	system/libraries/Image_lib.php	/^			$cmd_inner = 'pnmcut -left '.$this->x_axis.' -top '.$this->y_axis.' -width '.$this->width.' -height '.$this->height;$/;"	v
cmd_inner	system/libraries/Image_lib.php	/^			$cmd_inner = 'pnmflip -'.$angle.' ';$/;"	v
cmd_inner	system/libraries/Image_lib.php	/^			$cmd_inner = 'pnmscale -xysize '.$this->width.' '.$this->height;$/;"	v
cmd_out	system/libraries/Image_lib.php	/^						$cmd_out	= 'ppmtogif';$/;"	v
cmd_out	system/libraries/Image_lib.php	/^						$cmd_out	= 'ppmtojpeg';$/;"	v
cmd_out	system/libraries/Image_lib.php	/^						$cmd_out	= 'ppmtopng';$/;"	v
cnt	application/controllers/item.php	/^        $cnt = 0;$/;"	v
cnt	application/controllers/order.php	/^        $cnt = 0;$/;"	v
cntAddr	application/controllers/order.php	/^        $cntAddr = 0;$/;"	v
cntAl	application/controllers/order.php	/^            $cntAl = 0;\/\/将要打印的总和$/;"	v
cntPnt	application/controllers/order.php	/^            $cntPnt = 0;\/\/将要打印的item_id array长度，为了在打印成功之后，进行处理$/;"	v
code	application/controllers/checkcode.php	/^       $code = '';$/;"	v
code	application/controllers/checkcode.php	/^       $this->code = $code;$/;"	v
code	application/controllers/checkcode.php	/^   private $code;$/;"	v
code	system/libraries/Xmlrpc.php	/^	public function __construct($val, $code = 0, $fstr = '')$/;"	v
code	system/libraries/Xmlrpcs.php	/^		$code = is_string($err) ? $this->xmlrpcerr["multicall_${err}"] : $err->faultCode();$/;"	v
code	system/libraries/ckeditor.php	/^	 * $code = $CKEditor->editor("editor1", "<p>Initial value.<\/p>");$/;"	v
code_len	application/controllers/checkcode.php	/^   public $code_len = 4;$/;"	v
col_limit	system/libraries/Table.php	/^	function make_columns($array = array(), $col_limit = 0)$/;"	v
collapsed	system/core/Input.php	/^					$collapsed = TRUE;$/;"	v
collapsed	system/core/Input.php	/^		$collapsed = FALSE;$/;"	v
colspan	system/libraries/Calendar.php	/^		$colspan = ($this->show_next_prev == TRUE) ? 5 : 7;$/;"	v
column	system/database/drivers/postgre/postgre_driver.php	/^		$column	= func_num_args() > 1 ? func_get_arg(1) : NULL;$/;"	v
column_definition	system/database/drivers/mssql/mssql_forge.php	/^	function _alter_table($alter_type, $table, $column_name, $column_definition = '', $default_value = '', $null = '', $after_field = '')$/;"	v
column_definition	system/database/drivers/oci8/oci8_forge.php	/^	function _alter_table($alter_type, $table, $column_name, $column_definition = '', $default_value = '', $null = '', $after_field = '')$/;"	v
column_definition	system/database/drivers/odbc/odbc_forge.php	/^	function _alter_table($alter_type, $table, $column_name, $column_definition = '', $default_value = '', $null = '', $after_field = '')$/;"	v
column_definition	system/database/drivers/pdo/pdo_forge.php	/^	function _alter_table($alter_type, $table, $column_name, $column_definition = '', $default_value = '', $null = '', $after_field = '')$/;"	v
column_definition	system/database/drivers/postgre/postgre_forge.php	/^	function _alter_table($alter_type, $table, $column_name, $column_definition = '', $default_value = '', $null = '', $after_field = '')$/;"	v
column_definition	system/database/drivers/sqlite/sqlite_forge.php	/^	function _alter_table($alter_type, $table, $column_name, $column_definition = '', $default_value = '', $null = '', $after_field = '')$/;"	v
column_definition	system/database/drivers/sqlsrv/sqlsrv_forge.php	/^	function _alter_table($alter_type, $table, $column_name, $column_definition = '', $default_value = '', $null = '', $after_field = '')$/;"	v
column_name	system/database/DB_forge.php	/^	function drop_column($table = '', $column_name = '')$/;"	v
com	application/controllers/bg/item.php	/^            $com = $this->comitem->getSomeDate(100);$/;"	v
com	application/controllers/bg/item.php	/^            $com = $this->comitem->getUserDate($this->user_id,100);$/;"	v
com	application/controllers/bg/item.php	/^        $com = Array();$/;"	v
com	application/controllers/message.php	/^		$com = trim($this->input->post("com"));$/;"	v
com	application/controllers/sec.php	/^		$com = trim($this->input->post("com"));$/;"	v
com	application/controllers/showart.php	/^        $com = trim($this->input->post("com"));$/;"	v
com	application/models/user.php	/^        $com = $res["0"]["comNum"];$/;"	v
com	js/art.js	/^function com() {\/\/controller the comment area hide or show$/;"	f
com	js/messout.js	/^function com() {\/\/controller the comment area hide or show$/;"	f
comconstru	js/messout.js	/^function comconstru () {$/;"	f
comi	application/views/bgcom.php	/^                        $comi = $com[$i];$/;"	v
comment	application/controllers/bg/home.php	/^    function comment(){$/;"	f
comment	application/models/comment.php	/^			$comment = addslashes($comment);$/;"	v
comment	js/item.js	/^function comment(){$/;"	f
comment.showAge	js/item.js	/^    function showAge(low,high){$/;"	f
compile	system/libraries/Javascript.php	/^	function compile($view_var = 'script_foot', $script_tags = TRUE)$/;"	f
compile_binds	system/database/DB_driver.php	/^	function compile_binds($sql, $binds)$/;"	f
components	system/database/drivers/postgre/postgre_driver.php	/^		$components = array($/;"	v
compressed_size	system/libraries/Zip.php	/^		$compressed_size = strlen($gzdata);$/;"	v
comt	application/controllers/item.php	/^        $comt = $this->comitem->selItem($itemId);$/;"	v
comtLen	application/views/item.php	/^    $comtLen = count($comt);$/;"	v
conForm	application/models/comitem.php	/^    protected function conForm($arr)$/;"	f
cond	system/database/DB_active_rec.php	/^			$cond = $match[1].$match[2].$match[3];$/;"	v
conditions	system/database/drivers/cubrid/cubrid_driver.php	/^			$conditions = "\\nWHERE ";$/;"	v
conditions	system/database/drivers/cubrid/cubrid_driver.php	/^		$conditions = '';$/;"	v
conditions	system/database/drivers/mssql/mssql_driver.php	/^			$conditions = "\\nWHERE ";$/;"	v
conditions	system/database/drivers/mssql/mssql_driver.php	/^		$conditions = '';$/;"	v
conditions	system/database/drivers/mysql/mysql_driver.php	/^			$conditions = "\\nWHERE ";$/;"	v
conditions	system/database/drivers/mysql/mysql_driver.php	/^		$conditions = '';$/;"	v
conditions	system/database/drivers/mysqli/mysqli_driver.php	/^			$conditions = "\\nWHERE ";$/;"	v
conditions	system/database/drivers/mysqli/mysqli_driver.php	/^		$conditions = '';$/;"	v
conditions	system/database/drivers/oci8/oci8_driver.php	/^			$conditions = "\\nWHERE ";$/;"	v
conditions	system/database/drivers/oci8/oci8_driver.php	/^		$conditions = '';$/;"	v
conditions	system/database/drivers/odbc/odbc_driver.php	/^			$conditions = "\\nWHERE ";$/;"	v
conditions	system/database/drivers/odbc/odbc_driver.php	/^		$conditions = '';$/;"	v
conditions	system/database/drivers/pdo/pdo_driver.php	/^			$conditions = "\\nWHERE ";$/;"	v
conditions	system/database/drivers/pdo/pdo_driver.php	/^		$conditions = '';$/;"	v
conditions	system/database/drivers/postgre/postgre_driver.php	/^			$conditions = "\\nWHERE ";$/;"	v
conditions	system/database/drivers/postgre/postgre_driver.php	/^		$conditions = '';$/;"	v
conditions	system/database/drivers/sqlite/sqlite_driver.php	/^			$conditions = "\\nWHERE ";$/;"	v
conditions	system/database/drivers/sqlite/sqlite_driver.php	/^		$conditions = '';$/;"	v
config	system/core/Common.php	/^			$config =& get_config();$/;"	v
config	system/core/Config.php	/^				$this->config = array_merge($this->config, $config);$/;"	v
config	system/core/Config.php	/^		$this->config =& get_config();$/;"	v
config	system/core/Config.php	/^	var $config = array();$/;"	v
config	system/core/Lang.php	/^		$config =& get_config();$/;"	v
config	system/core/Loader.php	/^		$config =& $this->_ci_get_component('config');$/;"	v
config	system/core/Loader.php	/^	public function config($file = '', $use_sections = FALSE, $fail_gracefully = FALSE)$/;"	f
config	system/core/Router.php	/^		$this->config =& load_class('Config', 'core');$/;"	v
config	system/core/Router.php	/^	var $config;$/;"	v
config	system/core/URI.php	/^		$this->config =& load_class('Config', 'core');$/;"	v
config	system/libraries/Cart.php	/^		$config = array();$/;"	v
config	system/libraries/Log.php	/^		$config =& get_config();$/;"	v
config	system/libraries/Profiler.php	/^		foreach ($this->CI->config->config as $config=>$val)$/;"	v
config	system/libraries/ckeditor.php	/^	 * $config = array();$/;"	v
config	system/libraries/ckeditor.php	/^	public $config = array();$/;"	v
config	system/libraries/ckeditor.php	/^	public function replace($id, $config = array(), $events = array())$/;"	v
configSettings	system/libraries/ckeditor.php	/^	private function configSettings($config = array(), $events = array())$/;"	f
config_component	system/core/Loader.php	/^			$config_component = $this->_ci_get_component('config');$/;"	v
config_item	system/core/Common.php	/^	function config_item($item)$/;"	f
conn	system/database/drivers/cubrid/cubrid_driver.php	/^		$conn = cubrid_connect($this->hostname, $this->port, $this->database, $this->username, $this->password);$/;"	v
conn_id	system/database/DB_driver.php	/^		$this->conn_id = ($this->pconnect == FALSE) ? $this->db_connect() : $this->db_pconnect();$/;"	v
conn_id	system/database/DB_driver.php	/^		$this->conn_id = FALSE;$/;"	v
conn_id	system/database/DB_driver.php	/^	var $conn_id		= FALSE;$/;"	v
conn_id	system/database/DB_result.php	/^	var $conn_id				= NULL;$/;"	v
conn_id	system/database/drivers/cubrid/cubrid_driver.php	/^			$this->conn_id = FALSE;$/;"	v
conn_id	system/database/drivers/mysql/mysql_driver.php	/^			$this->conn_id = FALSE;$/;"	v
conn_id	system/database/drivers/mysqli/mysqli_driver.php	/^			$this->conn_id = FALSE;$/;"	v
conn_id	system/database/drivers/pdo/pdo_driver.php	/^		$this->conn_id = null;$/;"	v
conn_id	system/database/drivers/postgre/postgre_driver.php	/^			$this->conn_id = FALSE;$/;"	v
conn_id	system/database/drivers/sqlite/sqlite_driver.php	/^		if ( ! $conn_id = @sqlite_open($this->database, FILE_WRITE_MODE, $error))$/;"	v
conn_id	system/database/drivers/sqlite/sqlite_driver.php	/^		if ( ! $conn_id = @sqlite_popen($this->database, FILE_WRITE_MODE, $error))$/;"	v
conn_id	system/libraries/Ftp.php	/^	var $conn_id	= FALSE;$/;"	v
connect	system/libraries/Ftp.php	/^	function connect($config = array())$/;"	f
connect_string	system/database/drivers/postgre/postgre_driver.php	/^		$connect_string = "";$/;"	v
connection	system/database/drivers/sqlsrv/sqlsrv_driver.php	/^		$connection = array($/;"	v
cont	application/controllers/bg/item.php	/^            $cont = trim($this->input->post("cont"));$/;"	v
cont	application/controllers/checkcode.php	/^        $cont = "验证码".$rdCode."请将接收时间（精确到秒）发送到13648044299豆处，可以获得大礼包一份";$/;"	v
cont	application/controllers/chome.php	/^        $cont="hello,here is ckeditor \/chome\/eidtor\/";$/;"	v
cont	application/controllers/chome.php	/^        $cont=$this->input->post("content");$/;"	v
cont	application/controllers/test.php	/^        $cont = "验证码".$rdCode."请将接收时间（精确到秒）发送到13648044299豆处，可以获得大礼包一份";$/;"	v
cont	application/core/MY_Controller.php	/^        $cont = 0;$/;"	v
cont	application/models/comitem.php	/^        $cont = $this->formStr($arr);\/\/整理格式，将传入的数组变成字符串$/;"	v
cont	application/models/meditor.php	/^				$cont=$this->input->post("content");$/;"	v
cont	application/views/bgcom.php	/^                        $cont = $comi["context"];$/;"	v
cont_page	application/controllers/chome.php	/^        $cont_page=$this->mar_list->list_perpage(2,$id,2);$/;"	v
container	system/libraries/javascript/Jquery.php	/^		$container = $this->_prep_element($container);$/;"	v
contains	system/core/Config.php	/^ * This class contains functions that enable config files to be managed$/;"	c
content	application/controllers/HttpClient.class.php	/^    	$this->content = '';$/;"	v
content	application/controllers/HttpClient.class.php	/^        	    $content = htmlentities(ob_get_contents());$/;"	v
content	application/controllers/HttpClient.class.php	/^            $this->content = gzinflate($this->content);$/;"	v
content	application/controllers/HttpClient.class.php	/^            $this->content = substr($this->content, 10); \/\/ See http:\/\/www.php.net\/manual\/en\/function.gzencode.php$/;"	v
content	application/controllers/HttpClient.class.php	/^    var $content = '';$/;"	v
content	application/controllers/bg/home.php	/^    function content(){$/;"	f
content	application/controllers/spacePhoto.php	/^		$content = $this->input->post("content");$/;"	v
content	application/models/blog.php	/^						$this->content=$_POST['content'];$/;"	v
content	application/models/meditor.php	/^				$content=$this->input->post("content");$/;"	v
content	application/models/user.php	/^        $this->content=$_POST['content'];$/;"	v
content	system/helpers/form_helper.php	/^			$content = $data['content'];$/;"	v
content	system/helpers/form_helper.php	/^	function form_button($data = '', $content = '', $extra = '')$/;"	v
content	system/helpers/html_helper.php	/^			$content	= ( ! isset($meta['content']))	? ''	: $meta['content'];$/;"	v
content	system/helpers/html_helper.php	/^	function meta($name = '', $content = '', $type = 'name', $newline = "\\n")$/;"	v
contents	system/libraries/Cache/drivers/Cache_file.php	/^		$contents = array($/;"	v
contents	system/libraries/Cart.php	/^	function contents()$/;"	f
context	application/controllers/bg/item.php	/^        $context = $this->comitem->getContext($comId);$/;"	v
controller	system/libraries/javascript/Jquery.php	/^		$controller = (strpos(':\/\/', $controller) === FALSE) ? $controller : $this->CI->config->site_url($controller);$/;"	v
controller_obj	system/libraries/Xmlrpcs.php	/^	var $controller_obj;$/;"	v
convert	system/libraries/Email.php	/^		$convert = array('_', '=', '?');$/;"	v
convert_accented_characters	system/helpers/text_helper.php	/^	function convert_accented_characters($str)$/;"	f
convert_ascii	system/libraries/Trackback.php	/^	function convert_ascii($str)$/;"	f
convert_ascii	system/libraries/Trackback.php	/^	var $convert_ascii	= TRUE;$/;"	v
convert_to_utf8	system/core/Utf8.php	/^	function convert_to_utf8($str, $encoding)$/;"	f
convert_xml	system/libraries/Trackback.php	/^	function convert_xml($str)$/;"	f
converted_string	system/core/Security.php	/^		$converted_string = $str;$/;"	v
converts	system/libraries/Typography.php	/^	 * This function converts text, making it typographically correct:$/;"	f
cookie	application/controllers/HttpClient.class.php	/^    	    $cookie = 'Cookie: ';$/;"	v
cookie	system/core/Input.php	/^	function cookie($index = '', $xss_clean = FALSE)$/;"	f
cookie_data	system/libraries/Session.php	/^			$cookie_data = $cookie_data.md5($cookie_data.$this->encryption_key);$/;"	v
cookie_data	system/libraries/Session.php	/^			$cookie_data = $this->CI->encrypt->encode($cookie_data);$/;"	v
cookie_data	system/libraries/Session.php	/^			$cookie_data = $this->userdata;$/;"	v
cookie_data	system/libraries/Session.php	/^			$cookie_data = array();$/;"	v
cookie_data	system/libraries/Session.php	/^		$cookie_data = $this->_serialize($cookie_data);$/;"	v
cookie_data	system/libraries/Session.php	/^		$cookie_data = NULL;$/;"	v
cookie_domain	system/libraries/Session.php	/^	var $cookie_domain				= '';$/;"	v
cookie_host	application/controllers/HttpClient.class.php	/^            $this->cookie_host = $this->host;$/;"	v
cookie_host	application/controllers/HttpClient.class.php	/^    var $cookie_host = '';$/;"	v
cookie_path	system/libraries/Session.php	/^	var $cookie_path				= '';$/;"	v
cookie_prefix	system/libraries/Session.php	/^	var $cookie_prefix				= '';$/;"	v
cookie_secure	system/libraries/Session.php	/^	var $cookie_secure				= FALSE;$/;"	v
cookie_userdata	system/libraries/Session.php	/^		$cookie_userdata = array();$/;"	v
cookies	application/controllers/HttpClient.class.php	/^                $cookies = array($cookies);$/;"	v
cookies	application/controllers/HttpClient.class.php	/^            $cookies = $this->headers['set-cookie'];$/;"	v
cookies	application/controllers/HttpClient.class.php	/^        $this->cookies = $array;$/;"	v
cookies	application/controllers/HttpClient.class.php	/^    var $cookies = array();$/;"	v
copy	system/libraries/Image_lib.php	/^			$copy	= 'imagecopyresampled';$/;"	v
copy	system/libraries/Image_lib.php	/^			$copy	= 'imagecopyresized';$/;"	v
copy_fnc	system/libraries/Image_lib.php	/^	var $copy_fnc			= 'imagecopyresampled';$/;"	v
corner	system/libraries/javascript/Jquery.php	/^	function corner($element = '', $corner_style = '')$/;"	f
corner_location	system/libraries/javascript/Jquery.php	/^		$corner_location = '\/plugins\/jquery.corner.js';$/;"	v
corner_style	system/libraries/javascript/Jquery.php	/^			$corner_style = '"'.$corner_style.'"';$/;"	v
corner_style	system/libraries/javascript/Jquery.php	/^	function corner($element = '', $corner_style = '')$/;"	v
correlates	system/libraries/Cart.php	/^	 * Returns TRUE if the rowid passed to this function correlates to an item$/;"	f
could	system/helpers/date_helper.php	/^				log_message('error', 'The Date class could not set a proper GMT timestamp so the local time() value was used.');$/;"	c
count	application/views/Cwrite.php	/^	$count = 1;$/;"	v
count	application/views/mBgItemAdd.php	/^    $count = 1;$/;"	v
count	application/views/wChange.php	/^	$count = 1;$/;"	v
count	system/core/Security.php	/^			$count = 0;$/;"	v
count	system/database/drivers/oci8/oci8_result.php	/^			$count = $count - 1;$/;"	v
count	system/database/drivers/oci8/oci8_result.php	/^		$count = @oci_num_fields($this->stmt_id);$/;"	v
count	system/helpers/text_helper.php	/^					$count = ($ordinal < 224) ? 2 : 3;$/;"	v
count	system/helpers/text_helper.php	/^					$count = 1;$/;"	v
count	system/helpers/text_helper.php	/^		$count	= 1;$/;"	v
count	system/helpers/url_helper.php	/^					$count = ($ordinal < 224) ? 2 : 3;$/;"	v
count	system/helpers/url_helper.php	/^					$count = 1;$/;"	v
count	system/libraries/Profiler.php	/^		$count = 0;$/;"	v
count	system/libraries/Trackback.php	/^					$count = ($ordinal < 224) ? 2 : 3;$/;"	v
count	system/libraries/Trackback.php	/^					$count = 1;$/;"	v
count	system/libraries/Trackback.php	/^		$count	= 1;$/;"	v
count_all	system/database/drivers/cubrid/cubrid_driver.php	/^	function count_all($table = '')$/;"	f
count_all	system/database/drivers/mssql/mssql_driver.php	/^	function count_all($table = '')$/;"	f
count_all	system/database/drivers/mysql/mysql_driver.php	/^	function count_all($table = '')$/;"	f
count_all	system/database/drivers/mysqli/mysqli_driver.php	/^	function count_all($table = '')$/;"	f
count_all	system/database/drivers/oci8/oci8_driver.php	/^	public function count_all($table = '')$/;"	f
count_all	system/database/drivers/odbc/odbc_driver.php	/^	function count_all($table = '')$/;"	f
count_all	system/database/drivers/pdo/pdo_driver.php	/^	function count_all($table = '')$/;"	f
count_all	system/database/drivers/postgre/postgre_driver.php	/^	function count_all($table = '')$/;"	f
count_all	system/database/drivers/sqlite/sqlite_driver.php	/^	function count_all($table = '')$/;"	f
count_all	system/database/drivers/sqlsrv/sqlsrv_driver.php	/^	function count_all($table = '')$/;"	f
count_all_results	system/database/DB_active_rec.php	/^	public function count_all_results($table = '')$/;"	f
cr	system/libraries/Image_lib.php	/^					$cr = imagecolorat($src_img, $right, $i);$/;"	v
crc32	system/libraries/Zip.php	/^		$crc32  = crc32($data);$/;"	v
creLi	js/space.js	/^function creLi (data) {$/;"	f
creThumb	js/spacePhoto.js	/^function creThumb (id,name) {$/;"	f
creWin	js/spacePhoto.js	/^function creWin () {$/;"	f
cre_zhuxiao	js/home.js	/^function cre_zhuxiao (photo,name,mail,com) {$/;"	f
cre_zhuxiao	js/mainpage2.js	/^function cre_zhuxiao (photo,name,mail,com) {$/;"	f
creat_code	application/controllers/checkcode.php	/^   function creat_code() {$/;"	f
creat_font	application/controllers/checkcode.php	/^   private function creat_font() {$/;"	f
creat_line	application/controllers/checkcode.php	/^   private function creat_line() {$/;"	f
create	js/spacePhoto.js	/^function create (userName,id,name,time,content) {$/;"	f
create	system/libraries/Image_lib.php	/^			$create	= 'imagecreate';$/;"	v
create	system/libraries/Image_lib.php	/^			$create	= 'imagecreatetruecolor';$/;"	v
createPayload	system/libraries/Xmlrpc.php	/^	function createPayload()$/;"	f
create_captcha	system/helpers/captcha_helper.php	/^	function create_captcha($data = '', $img_path = '', $img_url = '', $font_path = '')$/;"	f
create_database	system/database/DB_forge.php	/^	function create_database($db_name)$/;"	f
create_fnc	system/libraries/Image_lib.php	/^	var $create_fnc			= 'imagecreatetruecolor';$/;"	v
create_links	system/libraries/Pagination.php	/^	function create_links()$/;"	f
create_table	system/database/DB_forge.php	/^	function create_table($table = '', $if_not_exists = FALSE)$/;"	f
create_thumb	system/libraries/Image_lib.php	/^	var $create_thumb		= FALSE;$/;"	v
crlf	system/libraries/Email.php	/^			$this->crlf	= "\\n";$/;"	v
crlf	system/libraries/Email.php	/^		$this->crlf	= $crlf;$/;"	v
crlf	system/libraries/Email.php	/^	var $crlf			= "\\n";		\/\/ The RFC 2045 compliant CRLF for quoted-printable is "\\r\\n".  Apparently some servers,$/;"	v
crop	system/libraries/Image_lib.php	/^	function crop()$/;"	f
csrf_set_cookie	system/core/Security.php	/^	public function csrf_set_cookie()$/;"	f
csrf_show_error	system/core/Security.php	/^	public function csrf_show_error()$/;"	f
csrf_verify	system/core/Security.php	/^	public function csrf_verify()$/;"	f
css.background	js/art.js	/^        background:'#000',$/;"	p
css.background	js/cookie.js	/^		background:'#000',$/;"	p
css.background	js/msea.js	/^        background:'#000',$/;"	p
css.background	js/order.js	/^        background:'#000',$/;"	p
css.padding	js/art.js	/^        padding:'15px',$/;"	p
css.padding	js/cookie.js	/^		padding:'15px',$/;"	p
css.padding	js/msea.js	/^        padding:'15px',$/;"	p
css.padding	js/order.js	/^        padding:'15px',$/;"	p
css.position	js/art.js	/^        position:'absolute',$/;"	p
css.position	js/cookie.js	/^		position:'absolute',$/;"	p
css.position	js/msea.js	/^        position:'absolute',$/;"	p
css.position	js/order.js	/^        position:'absolute',$/;"	p
css.top	js/art.js	/^        top:$(window).scrollTop()+100+"px",$/;"	p
css.top	js/cookie.js	/^		top:$(window).scrollTop()+100+"px",$/;"	p
css.top	js/msea.js	/^        top:$(window).scrollTop()+100+"px",$/;"	p
css.top	js/order.js	/^        top:$(window).scrollTop()+100+"px",$/;"	p
csv_from_result	system/database/DB_utility.php	/^	function csv_from_result($query, $delim = ",", $newline = "\\n", $enclosure = '"')$/;"	f
ct	system/libraries/Image_lib.php	/^					$ct = imagecolorat($src_img, $i, $top);$/;"	v
ct	system/libraries/Typography.php	/^		$ct = count($ex);$/;"	v
ctype	system/libraries/Email.php	/^			$ctype = $this->_attach_type[$i];$/;"	v
cur_day	system/libraries/Calendar.php	/^		$cur_day	= date("j", $this->local_time);$/;"	v
cur_month	system/libraries/Calendar.php	/^		$cur_month	= date("m", $this->local_time);$/;"	v
cur_page	system/libraries/Pagination.php	/^				$this->cur_page = $CI->input->get($this->query_string_segment);$/;"	v
cur_page	system/libraries/Pagination.php	/^				$this->cur_page = $CI->uri->segment($this->uri_segment);$/;"	v
cur_page	system/libraries/Pagination.php	/^				$this->cur_page = $num_pages;$/;"	v
cur_page	system/libraries/Pagination.php	/^				$this->cur_page = ($num_pages - 1) * $this->per_page;$/;"	v
cur_page	system/libraries/Pagination.php	/^				$this->cur_page = (int) $this->cur_page;$/;"	v
cur_page	system/libraries/Pagination.php	/^			$this->cur_page = $base_page;$/;"	v
cur_page	system/libraries/Pagination.php	/^			$this->cur_page = floor(($this->cur_page\/$this->per_page) + 1);$/;"	v
cur_page	system/libraries/Pagination.php	/^		if ($this->use_page_numbers AND $this->cur_page == 0)$/;"	v
cur_page	system/libraries/Pagination.php	/^	var $cur_page			=  0; \/\/ The current page being viewed$/;"	v
cur_tag_close	system/libraries/Pagination.php	/^	var $cur_tag_close		= '<\/strong>';$/;"	v
cur_tag_open	system/libraries/Pagination.php	/^	var $cur_tag_open		= '&nbsp;<strong>';$/;"	v
cur_val	system/libraries/Xmlrpc.php	/^				$cur_val = array('value' => array(),$/;"	v
cur_val	system/libraries/Xmlrpc.php	/^				$cur_val = array_shift($this->xh[$the_parser]['valuestack']);$/;"	v
cur_year	system/libraries/Calendar.php	/^		$cur_year	= date("Y", $this->local_time);$/;"	v
curr_elem	system/libraries/Xmlrpc.php	/^		$curr_elem = array_shift($this->xh[$the_parser]['stack']);$/;"	v
current	system/libraries/Migration.php	/^	public function current()$/;"	f
current	system/libraries/Upload.php	/^			$current = ini_get('memory_limit') * 1024 * 1024;$/;"	v
currentPage	application/controllers/sea.php	/^        $currentPage = $_GET["pg"];$/;"	v
current_chunk	system/libraries/Typography.php	/^		$current_chunk = 0;$/;"	v
current_dir	system/helpers/captcha_helper.php	/^		$current_dir = @opendir($img_path);$/;"	v
current_dir	system/helpers/file_helper.php	/^		if ( ! $current_dir = @opendir($path))$/;"	v
current_field_count	system/database/drivers/cubrid/cubrid_forge.php	/^		$current_field_count = 0;$/;"	v
current_field_count	system/database/drivers/mssql/mssql_forge.php	/^		$current_field_count = 0;$/;"	v
current_field_count	system/database/drivers/mysql/mysql_forge.php	/^		$current_field_count = 0;$/;"	v
current_field_count	system/database/drivers/mysqli/mysqli_forge.php	/^		$current_field_count = 0;$/;"	v
current_field_count	system/database/drivers/oci8/oci8_forge.php	/^		$current_field_count = 0;$/;"	v
current_field_count	system/database/drivers/odbc/odbc_forge.php	/^		$current_field_count = 0;$/;"	v
current_field_count	system/database/drivers/pdo/pdo_forge.php	/^		$current_field_count = 0;$/;"	v
current_field_count	system/database/drivers/postgre/postgre_forge.php	/^		$current_field_count = 0;$/;"	v
current_field_count	system/database/drivers/sqlite/sqlite_forge.php	/^		$current_field_count = 0;$/;"	v
current_field_count	system/database/drivers/sqlsrv/sqlsrv_forge.php	/^		$current_field_count = 0;$/;"	v
current_mode	system/libraries/Encrypt.php	/^		$current_mode = $this->_get_mode();$/;"	v
current_row	system/database/DB_result.php	/^			$this->current_row = $n;$/;"	v
current_row	system/database/DB_result.php	/^	var $current_row			= 0;$/;"	v
current_sig	system/libraries/Xmlrpcs.php	/^				$current_sig = $sig[$i];$/;"	v
current_url	system/helpers/url_helper.php	/^	function current_url()$/;"	f
curs_id	system/database/DB_driver.php	/^	var $curs_id;$/;"	v
curs_id	system/database/drivers/oci8/oci8_driver.php	/^		$this->curs_id = oci_new_cursor($this->conn_id);$/;"	v
curs_id	system/database/drivers/oci8/oci8_driver.php	/^	var $curs_id;$/;"	v
curs_id	system/database/drivers/oci8/oci8_result.php	/^	var $curs_id;$/;"	v
cursig	system/libraries/Xmlrpcs.php	/^					$cursig = array();$/;"	v
custom_data	system/libraries/Session.php	/^				$custom_data = $this->_unserialize($row->user_data);$/;"	v
custom_result_object	system/database/DB_result.php	/^	public function custom_result_object($class_name)$/;"	f
custom_result_object	system/database/DB_result.php	/^	var $custom_result_object	= array();$/;"	v
custom_row_object	system/database/DB_result.php	/^	public function custom_row_object($n, $type)$/;"	f
custom_userdata	system/libraries/Session.php	/^			$custom_userdata = $this->_serialize($custom_userdata);$/;"	v
custom_userdata	system/libraries/Session.php	/^			$custom_userdata = '';$/;"	v
custom_userdata	system/libraries/Session.php	/^		$custom_userdata = $this->userdata;$/;"	v
cycles	system/libraries/Profiler.php	/^	 * This function cycles through the entire array of mark points and$/;"	f
d	system/libraries/Sha1.php	/^				$d = $c;$/;"	v
d	system/libraries/Sha1.php	/^			$d = $this->_safe_add($d, $oldd);$/;"	v
d	system/libraries/Sha1.php	/^		$d =  271733878;$/;"	v
d.flexslider.defaults.animation	js/flexslider-min.js	/^a.slides.eq(b).remove();a.doMath();a.update(e,"remove");a.slides=d(c.selector+":not(.clone)",a);a.setup();c.removed(a)};f.init()};d.flexslider.defaults={namespace:"flex-",selector:".slides > li",animation:"fade",easing:"swing",direction:"horizontal",reverse:!1,animationLoop:!0,smoothHeight:!1,startAt:0,slideshow:!0,slideshowSpeed:7E3,animationSpeed:600,initDelay:0,randomize:!1,pauseOnAction:!0,pauseOnHover:!1,useCSS:!0,touch:!0,video:!1,controlNav:!0,directionNav:!0,prevText:"Previous",nextText:"Next",$/;"	p
d.flexslider.defaults.direction	js/flexslider-min.js	/^a.slides.eq(b).remove();a.doMath();a.update(e,"remove");a.slides=d(c.selector+":not(.clone)",a);a.setup();c.removed(a)};f.init()};d.flexslider.defaults={namespace:"flex-",selector:".slides > li",animation:"fade",easing:"swing",direction:"horizontal",reverse:!1,animationLoop:!0,smoothHeight:!1,startAt:0,slideshow:!0,slideshowSpeed:7E3,animationSpeed:600,initDelay:0,randomize:!1,pauseOnAction:!0,pauseOnHover:!1,useCSS:!0,touch:!0,video:!1,controlNav:!0,directionNav:!0,prevText:"Previous",nextText:"Next",$/;"	p
d.flexslider.defaults.easing	js/flexslider-min.js	/^a.slides.eq(b).remove();a.doMath();a.update(e,"remove");a.slides=d(c.selector+":not(.clone)",a);a.setup();c.removed(a)};f.init()};d.flexslider.defaults={namespace:"flex-",selector:".slides > li",animation:"fade",easing:"swing",direction:"horizontal",reverse:!1,animationLoop:!0,smoothHeight:!1,startAt:0,slideshow:!0,slideshowSpeed:7E3,animationSpeed:600,initDelay:0,randomize:!1,pauseOnAction:!0,pauseOnHover:!1,useCSS:!0,touch:!0,video:!1,controlNav:!0,directionNav:!0,prevText:"Previous",nextText:"Next",$/;"	p
d.flexslider.defaults.namespace	js/flexslider-min.js	/^a.slides.eq(b).remove();a.doMath();a.update(e,"remove");a.slides=d(c.selector+":not(.clone)",a);a.setup();c.removed(a)};f.init()};d.flexslider.defaults={namespace:"flex-",selector:".slides > li",animation:"fade",easing:"swing",direction:"horizontal",reverse:!1,animationLoop:!0,smoothHeight:!1,startAt:0,slideshow:!0,slideshowSpeed:7E3,animationSpeed:600,initDelay:0,randomize:!1,pauseOnAction:!0,pauseOnHover:!1,useCSS:!0,touch:!0,video:!1,controlNav:!0,directionNav:!0,prevText:"Previous",nextText:"Next",$/;"	p
d.flexslider.defaults.reverse	js/flexslider-min.js	/^a.slides.eq(b).remove();a.doMath();a.update(e,"remove");a.slides=d(c.selector+":not(.clone)",a);a.setup();c.removed(a)};f.init()};d.flexslider.defaults={namespace:"flex-",selector:".slides > li",animation:"fade",easing:"swing",direction:"horizontal",reverse:!1,animationLoop:!0,smoothHeight:!1,startAt:0,slideshow:!0,slideshowSpeed:7E3,animationSpeed:600,initDelay:0,randomize:!1,pauseOnAction:!0,pauseOnHover:!1,useCSS:!0,touch:!0,video:!1,controlNav:!0,directionNav:!0,prevText:"Previous",nextText:"Next",$/;"	p
d.flexslider.defaults.selector	js/flexslider-min.js	/^a.slides.eq(b).remove();a.doMath();a.update(e,"remove");a.slides=d(c.selector+":not(.clone)",a);a.setup();c.removed(a)};f.init()};d.flexslider.defaults={namespace:"flex-",selector:".slides > li",animation:"fade",easing:"swing",direction:"horizontal",reverse:!1,animationLoop:!0,smoothHeight:!1,startAt:0,slideshow:!0,slideshowSpeed:7E3,animationSpeed:600,initDelay:0,randomize:!1,pauseOnAction:!0,pauseOnHover:!1,useCSS:!0,touch:!0,video:!1,controlNav:!0,directionNav:!0,prevText:"Previous",nextText:"Next",$/;"	p
d.fn.flexslider	js/flexslider-min.js	/^keyboard:!0,multipleKeyboard:!1,mousewheel:!1,pausePlay:!1,pauseText:"Pause",playText:"Play",controlsContainer:"",manualControls:"",sync:"",asNavFor:"",itemWidth:0,itemMargin:0,minItems:0,maxItems:0,move:0,start:function(){},before:function(){},after:function(){},end:function(){},added:function(){},removed:function(){}};d.fn.flexslider=function(j){void 0===j&&(j={});if("object"===typeof j)return this.each(function(){var a=d(this),c=a.find(j.selector?j.selector:".slides > li");1===c.length?(c.fadeIn(400),$/;"	f
data	application/controllers/HttpClient.class.php	/^    function get($path, $data = false,$timeout=90) {$/;"	v
data	application/controllers/bg/home.php	/^            $data = $this->user->getExtro($this->user_id);\/\/获取之前的类型$/;"	v
data	application/controllers/bg/home.php	/^        $data = $this->user->getExtro($this->user_id);\/\/获取之前的类型$/;"	v
data	application/controllers/bg/item.php	/^        $data = Array();$/;"	v
data	application/controllers/bg/wrong.php	/^        $data = Array();$/;"	v
data	application/controllers/dsprint.class.php	/^		$data = $head.$text.$querycmd;$/;"	v
data	application/controllers/dsprint.class.php	/^		$data = $head.'setAcc '.$this->appid.' '.DSUSERID.' '.$this->password.' '.$receivephp;$/;"	v
data	application/controllers/dsprint.class.php	/^		$data = $mac.$data;$/;"	v
data	application/controllers/dsreceive.class.php	/^$data = file_get_contents("php:\/\/input");$/;"	v
data	application/controllers/home.php	/^                $data = array_merge($data,$temp);$/;"	v
data	application/controllers/home.php	/^            $data = $this->user->getNess($user_id);$/;"	v
data	application/controllers/home.php	/^            }else $data = null;$/;"	v
data	application/controllers/home.php	/^        $data = null;$/;"	v
data	application/controllers/info.php	/^        $data = $this->user->getPubToAll($this->user_id);$/;"	v
data	application/controllers/item.php	/^        $data = array_merge($det,$author);$/;"	v
data	application/controllers/mainpage.php	/^                $data = array_merge($data,$temp);$/;"	v
data	application/controllers/mainpage.php	/^            $data = $this->user->getNess($user_id);$/;"	v
data	application/controllers/mainpage.php	/^            }else $data = null;$/;"	v
data	application/controllers/mainpage.php	/^        $data = null;$/;"	v
data	application/controllers/map.php	/^		$data = array();$/;"	v
data	application/controllers/message.php	/^		$data = $this->det($messId);\/\/data["cont"]为主要内容，$data["reply"]为回复内容;$/;"	v
data	application/controllers/message.php	/^		$data = $this->detailShow($messId);$/;"	v
data	application/controllers/order.php	/^        $data = $this->getData();$/;"	v
data	application/controllers/order.php	/^        $data = $this->getData();\/\/获取input的信息$/;"	v
data	application/controllers/order.php	/^        $data = $this->mitem->getMaster($itemId);\/\/查找当前的id信息,这个等这是下单的时候再说$/;"	v
data	application/controllers/order.php	/^        $data = Array();$/;"	v
data	application/controllers/reg.php	/^        $data = array_merge($temp,$data);$/;"	v
data	application/controllers/reg.php	/^    $data = $this->regInfoCheck();\/\/失败的时候返回包含failed的数组$/;"	v
data	application/controllers/sec.php	/^			$data = $this->user->getNess($ans[$i]["user_id"]);$/;"	v
data	application/controllers/sec.php	/^		$data = $this->_getIndexData($art_id);$/;"	v
data	application/controllers/showart.php	/^            $data = $this->user->getNess($ans[$i]["user_id"]);$/;"	v
data	application/controllers/showart.php	/^        $data = $this->_getIndexData($art_id);$/;"	v
data	application/controllers/space.php	/^        $data = $this->user->getItem($masterid);$/;"	v
data	application/controllers/test.php	/^        $data = file_get_contents("php:\/\/input");$/;"	v
data	application/controllers/write.php	/^            $data = $this->ans_upload(300,150);\/\/成功的时候返回两个名字，一个是本来上传的时候的名字，一个是数字组成的名字，采用数字的名字，保持兼容性$/;"	v
data	application/controllers/write.php	/^            $data = $this->insert();$/;"	v
data	application/controllers/write.php	/^            $data = array_merge($temp,$data);$/;"	v
data	application/controllers/write.php	/^        $data = $this->ans_upload(300,150);\/\/成功的时候返回两个名字，一个是本来上传的时候的名字，一个是数字组成的名字，采用数字的名字，保持兼容性$/;"	v
data	application/controllers/write.php	/^        $data = $this->art->getUserInsert($artId);$/;"	v
data	application/models/morder.php	/^        $data = $this->formInfo($data);$/;"	v
data	dsreceive.class.php	/^$data = file_get_contents("php:\/\/input");$/;"	v
data	system/database/drivers/pdo/pdo_result.php	/^		$data = array();$/;"	v
data	system/helpers/download_helper.php	/^		if ($filename == '' OR $data == '')$/;"	v
data	system/helpers/download_helper.php	/^	function force_download($filename = '', $data = '')$/;"	v
data	system/helpers/file_helper.php	/^			$data =& fread($fp, filesize($file));$/;"	v
data	system/helpers/file_helper.php	/^		$data = '';$/;"	v
data	system/helpers/form_helper.php	/^			$data = array('name' => $data);$/;"	v
data	system/libraries/Cache/drivers/Cache_apc.php	/^		$data = apc_fetch($id);$/;"	v
data	system/libraries/Cache/drivers/Cache_file.php	/^			$data = $data['data'];$/;"	v
data	system/libraries/Cache/drivers/Cache_file.php	/^		$data = read_file($this->_cache_path.$id);		$/;"	v
data	system/libraries/Cache/drivers/Cache_file.php	/^		$data = read_file($this->_cache_path.$id);$/;"	v
data	system/libraries/Cache/drivers/Cache_file.php	/^		$data = unserialize($data);$/;"	v
data	system/libraries/Cache/drivers/Cache_memcached.php	/^		$data = $this->_memcached->get($id);$/;"	v
data	system/libraries/Email.php	/^		$data = "";$/;"	v
data	system/libraries/Email.php	/^	protected function _send_command($cmd, $data = '')$/;"	v
data	system/libraries/Encrypt.php	/^		$data = $this->_remove_cipher_noise($data, $key);$/;"	v
data	system/libraries/Encrypt.php	/^		$data = substr($data, $init_size);$/;"	v
data	system/libraries/Form_validation.php	/^		if ($this->_safe_form_data == FALSE OR $data === '')$/;"	v
data	system/libraries/Session.php	/^				$data = str_replace('\\\\', '{{slash}}', $data);$/;"	v
data	system/libraries/Session.php	/^		$data = @unserialize(strip_slashes($data));$/;"	v
data	system/libraries/Trackback.php	/^			$data = "tb_id=".$id."&".$data;$/;"	v
data	system/libraries/Trackback.php	/^		$data = "url=".rawurlencode($url)."&title=".rawurlencode($title)."&blog_name=".rawurlencode($blog_name)."&excerpt=".rawurlencode($excerpt)."&charset=".rawurlencode($charset);$/;"	v
data	system/libraries/Trackback.php	/^	function data($item)$/;"	f
data	system/libraries/Trackback.php	/^	var $data			= array('url' => '', 'title' => '', 'excerpt' => '', 'blog_name' => '', 'charset' => '');$/;"	v
data	system/libraries/Upload.php	/^	public function data()$/;"	f
data	system/libraries/Xmlrpc.php	/^		$data = '';$/;"	v
data	system/libraries/Xmlrpc.php	/^		$data = implode("\\r\\n", $lines);$/;"	v
data	system/libraries/Xmlrpc.php	/^		$this->data = array();$/;"	v
data	system/libraries/Xmlrpc.php	/^	var $data;$/;"	v
data	system/libraries/Xmlrpcs.php	/^			$data = $HTTP_RAW_POST_DATA;$/;"	v
data	system/libraries/Zip.php	/^	function add_data($filepath, $data = NULL)$/;"	v
data2	application/controllers/sec.php	/^		$data2 = $this->user->getPubNoIntro($ans["author_id"]);\/\/获取大量的信息哦$/;"	v
data2	application/controllers/showart.php	/^        $data2 = $this->user->getPubAdr($ans["author_id"]);\/\/获取大量的信息哦$/;"	v
dataFb	application/models/art.php	/^    private function dataFb($res)$/;"	f
dataFb	application/models/comitem.php	/^    public function dataFb($res)$/;"	f
dataFb	application/models/comment.php	/^		private  function dataFb($array)$/;"	f
dataFb	application/models/img.php	/^    public function dataFb($array)$/;"	f
dataFb	application/models/mess.php	/^	private function dataFb($res)$/;"	f
dataFb	application/models/mitem.php	/^    private function dataFb($res)$/;"	f
dataFb	application/models/user.php	/^    private function dataFb($array)$/;"	f
data_cache	system/database/DB_driver.php	/^	var $data_cache		= array();$/;"	v
data_cache	system/database/DB_utility.php	/^	var $data_cache		= array();$/;"	v
database	system/core/Loader.php	/^	public function database($params = '', $return = FALSE, $active_record = NULL)$/;"	f
database	system/database/DB_driver.php	/^	var $database;$/;"	v
database_exists	system/database/DB_utility.php	/^	function database_exists($database_name)$/;"	f
date	application/models/blog.php	/^						$this->date =time();$/;"	v
date	application/models/comitem.php	/^        $date = $this->lenDay*$date;$/;"	v
date	application/models/user.php	/^        $this->date=time();$/;"	v
date	js/item.js	/^function date() {$/;"	f
date	system/libraries/Calendar.php	/^		$date = array();$/;"	v
date	system/libraries/Calendar.php	/^		$date = getdate($local_date);$/;"	v
date	system/libraries/Zip.php	/^		$date = (@filemtime($dir)) ? filemtime($dir) : getdate($this->now);$/;"	v
date2str	application/views/printindex.php	/^function   date2str(d){ $/;"	f
datestr	system/helpers/date_helper.php	/^		$datestr = preg_replace("\/\\040+\/", ' ', $datestr);$/;"	v
datestr	system/helpers/date_helper.php	/^		$datestr = str_replace('%\\\\', '', preg_replace("\/([a-z]+?){1}\/i", "\\\\\\\\\\\\1", $datestr));$/;"	v
datestr	system/helpers/date_helper.php	/^		$datestr = trim($datestr);$/;"	v
day	application/models/user.php	/^        $day = date('Y-m-j');$/;"	v
day	system/helpers/date_helper.php	/^		$day   = (strlen($ex['2']) == 1) ? '0'.$ex['2']  : $ex['2'];$/;"	v
day	system/libraries/Calendar.php	/^				$out .= ($is_current_month == TRUE AND $day == $cur_day) ? $this->temp['cal_cell_end_today'] : $this->temp['cal_cell_end'];					$/;"	v
day	system/libraries/Calendar.php	/^				$out .= ($is_current_month == TRUE AND $day == $cur_day) ? $this->temp['cal_cell_start_today'] : $this->temp['cal_cell_start'];$/;"	v
day	system/libraries/Calendar.php	/^		$day  = $start_day + 1 - $date["wday"];$/;"	v
day_names	system/libraries/Calendar.php	/^			$day_names = array('su', 'mo', 'tu', 'we', 'th', 'fr', 'sa');$/;"	v
day_names	system/libraries/Calendar.php	/^			$day_names = array('sun', 'mon', 'tue', 'wed', 'thu', 'fri', 'sat');$/;"	v
day_names	system/libraries/Calendar.php	/^			$day_names = array('sunday', 'monday', 'tuesday', 'wednesday', 'thursday', 'friday', 'saturday');$/;"	v
day_names	system/libraries/Calendar.php	/^		$day_names = $this->get_day_names();$/;"	v
day_type	system/libraries/Calendar.php	/^			$this->day_type = $day_type;$/;"	v
day_type	system/libraries/Calendar.php	/^	var $day_type		= 'abr';$/;"	v
days	system/helpers/date_helper.php	/^		$days = floor($seconds \/ 86400);$/;"	v
days	system/libraries/Calendar.php	/^		$days = array();$/;"	v
days_in_month	system/helpers/date_helper.php	/^		$days_in_month	= array(31, 28, 31, 30, 31, 30, 31, 31, 30, 31, 30, 31);$/;"	v
days_in_month	system/helpers/date_helper.php	/^	function days_in_month($month = 0, $year = '')$/;"	f
days_in_month	system/libraries/Calendar.php	/^		$days_in_month	= array(31, 28, 31, 30, 31, 30, 31, 31, 30, 31, 30, 31);$/;"	v
db	system/database/DB_cache.php	/^		$this->db =& $db;$/;"	v
db	system/database/DB_cache.php	/^	var $db;	\/\/ allows passing of db object so that multiple database connections and returned db objects can be supported$/;"	v
db	system/database/DB_forge.php	/^		$this->db =& $CI->db;$/;"	v
db	system/database/DB_utility.php	/^		$this->db =& $CI->db;$/;"	v
db	system/database/DB_utility.php	/^	var $db;$/;"	v
db_char_set	system/database/DB_forge.php	/^	var $db_char_set	=	'';$/;"	v
db_conn	system/core/Loader.php	/^					$db_conn = '';$/;"	v
db_connect	system/database/drivers/cubrid/cubrid_driver.php	/^	function db_connect()$/;"	f
db_connect	system/database/drivers/mssql/mssql_driver.php	/^	function db_connect()$/;"	f
db_connect	system/database/drivers/mysql/mysql_driver.php	/^	function db_connect()$/;"	f
db_connect	system/database/drivers/mysqli/mysqli_driver.php	/^	function db_connect()$/;"	f
db_connect	system/database/drivers/oci8/oci8_driver.php	/^	public function db_connect()$/;"	f
db_connect	system/database/drivers/odbc/odbc_driver.php	/^	function db_connect()$/;"	f
db_connect	system/database/drivers/pdo/pdo_driver.php	/^	function db_connect()$/;"	f
db_connect	system/database/drivers/postgre/postgre_driver.php	/^	function db_connect()$/;"	f
db_connect	system/database/drivers/sqlite/sqlite_driver.php	/^	function db_connect()$/;"	f
db_connect	system/database/drivers/sqlsrv/sqlsrv_driver.php	/^	function db_connect($pooling = false)$/;"	f
db_debug	system/database/DB_driver.php	/^	var $db_debug		= FALSE;$/;"	v
db_pconnect	system/database/drivers/cubrid/cubrid_driver.php	/^	function db_pconnect()$/;"	f
db_pconnect	system/database/drivers/mssql/mssql_driver.php	/^	function db_pconnect()$/;"	f
db_pconnect	system/database/drivers/mysql/mysql_driver.php	/^	function db_pconnect()$/;"	f
db_pconnect	system/database/drivers/mysqli/mysqli_driver.php	/^	function db_pconnect()$/;"	f
db_pconnect	system/database/drivers/oci8/oci8_driver.php	/^	public function db_pconnect()$/;"	f
db_pconnect	system/database/drivers/odbc/odbc_driver.php	/^	function db_pconnect()$/;"	f
db_pconnect	system/database/drivers/pdo/pdo_driver.php	/^	function db_pconnect()$/;"	f
db_pconnect	system/database/drivers/postgre/postgre_driver.php	/^	function db_pconnect()$/;"	f
db_pconnect	system/database/drivers/sqlite/sqlite_driver.php	/^	function db_pconnect()$/;"	f
db_pconnect	system/database/drivers/sqlsrv/sqlsrv_driver.php	/^	function db_pconnect()$/;"	f
db_select	system/database/drivers/cubrid/cubrid_driver.php	/^	function db_select()$/;"	f
db_select	system/database/drivers/mssql/mssql_driver.php	/^	function db_select()$/;"	f
db_select	system/database/drivers/mysql/mysql_driver.php	/^	function db_select()$/;"	f
db_select	system/database/drivers/mysqli/mysqli_driver.php	/^	function db_select()$/;"	f
db_select	system/database/drivers/oci8/oci8_driver.php	/^	public function db_select()$/;"	f
db_select	system/database/drivers/odbc/odbc_driver.php	/^	function db_select()$/;"	f
db_select	system/database/drivers/pdo/pdo_driver.php	/^	function db_select()$/;"	f
db_select	system/database/drivers/postgre/postgre_driver.php	/^	function db_select()$/;"	f
db_select	system/database/drivers/sqlite/sqlite_driver.php	/^	function db_select()$/;"	f
db_select	system/database/drivers/sqlsrv/sqlsrv_driver.php	/^	function db_select()$/;"	f
db_set_charset	system/database/DB_driver.php	/^	function db_set_charset($charset, $collation)$/;"	f
db_set_charset	system/database/drivers/cubrid/cubrid_driver.php	/^	function db_set_charset($charset, $collation)$/;"	f
db_set_charset	system/database/drivers/mssql/mssql_driver.php	/^	function db_set_charset($charset, $collation)$/;"	f
db_set_charset	system/database/drivers/mysql/mysql_driver.php	/^	function db_set_charset($charset, $collation)$/;"	f
db_set_charset	system/database/drivers/oci8/oci8_driver.php	/^	public function db_set_charset($charset, $collation)$/;"	f
db_set_charset	system/database/drivers/odbc/odbc_driver.php	/^	function db_set_charset($charset, $collation)$/;"	f
db_set_charset	system/database/drivers/pdo/pdo_driver.php	/^	function db_set_charset($charset, $collation)$/;"	f
db_set_charset	system/database/drivers/postgre/postgre_driver.php	/^	function db_set_charset($charset, $collation)$/;"	f
db_set_charset	system/database/drivers/sqlite/sqlite_driver.php	/^	function db_set_charset($charset, $collation)$/;"	f
db_set_charset	system/database/drivers/sqlsrv/sqlsrv_driver.php	/^	function db_set_charset($charset, $collation)$/;"	f
dbcollat	system/database/DB_driver.php	/^	var $dbcollat		= 'utf8_general_ci';$/;"	v
dbdriver	system/database/DB_driver.php	/^	var $dbdriver		= 'mysql';$/;"	v
dbdriver	system/database/drivers/cubrid/cubrid_driver.php	/^	var $dbdriver = 'cubrid';$/;"	v
dbdriver	system/database/drivers/mssql/mssql_driver.php	/^	var $dbdriver = 'mssql';$/;"	v
dbdriver	system/database/drivers/mysql/mysql_driver.php	/^	var $dbdriver = 'mysql';$/;"	v
dbdriver	system/database/drivers/mysqli/mysqli_driver.php	/^	var $dbdriver = 'mysqli';$/;"	v
dbdriver	system/database/drivers/oci8/oci8_driver.php	/^	var $dbdriver = 'oci8';$/;"	v
dbdriver	system/database/drivers/odbc/odbc_driver.php	/^	var $dbdriver = 'odbc';$/;"	v
dbdriver	system/database/drivers/pdo/pdo_driver.php	/^	var $dbdriver = 'pdo';$/;"	v
dbdriver	system/database/drivers/postgre/postgre_driver.php	/^	var $dbdriver = 'postgre';$/;"	v
dbdriver	system/database/drivers/sqlite/sqlite_driver.php	/^	var $dbdriver = 'sqlite';$/;"	v
dbdriver	system/database/drivers/sqlsrv/sqlsrv_driver.php	/^	var $dbdriver = 'sqlsrv';$/;"	v
dbforge	system/core/Loader.php	/^	public function dbforge()$/;"	f
dbh	system/database/drivers/pdo/pdo_result.php	/^			$dbh = $this->conn_id;$/;"	v
dblclick	system/libraries/Javascript.php	/^	function dblclick($element = 'this', $js = '')$/;"	f
dbprefix	system/database/DB_active_rec.php	/^		return $this->dbprefix = $prefix;$/;"	v
dbprefix	system/database/DB_active_rec.php	/^	public function dbprefix($table = '')$/;"	f
dbprefix	system/database/DB_driver.php	/^	var $dbprefix		= '';$/;"	v
dbs	system/database/DB_utility.php	/^		$dbs = array();$/;"	v
dbs	system/libraries/Profiler.php	/^		$dbs = array();$/;"	v
dbutil	system/core/Loader.php	/^	public function dbutil()$/;"	f
dc	application/controllers/reg.php	/^    public function dc($ajax = 0){$/;"	f
deExtro	application/models/user.php	/^    private function deExtro($str)$/;"	f
deInfo	application/models/morder.php	/^    private function deInfo($str)$/;"	f
debug	application/controllers/HttpClient.class.php	/^        $this->debug = $boolean;$/;"	v
debug	application/controllers/HttpClient.class.php	/^    function debug($msg, $object = false) {$/;"	f
debug	application/controllers/HttpClient.class.php	/^    var $debug = false;$/;"	v
debug	system/libraries/Ftp.php	/^	var $debug		= FALSE;$/;"	v
debug	system/libraries/Xmlrpc.php	/^		$this->debug = ($flag == TRUE) ? TRUE : FALSE;$/;"	v
debug	system/libraries/Xmlrpc.php	/^	var $debug			= FALSE;	\/\/ Debugging on or off$/;"	v
debug	system/libraries/Xmlrpcs.php	/^			$this->debug = $config['debug'];$/;"	v
debug_msg	system/libraries/Xmlrpcs.php	/^			$this->debug_msg = "<!-- DEBUG INFO:\\n\\n".$plist."\\n END DEBUG-->\\n";$/;"	v
debug_msg	system/libraries/Xmlrpcs.php	/^	var $debug_msg		= '';		\/\/ Debug Message$/;"	v
dec	application/controllers/dsconfig.class.php	/^    $dec=$dec%16;$/;"	v
dec	dsconfig.class.php	/^    $dec=$dec%16;$/;"	v
dec	system/libraries/Encrypt.php	/^			$dec = $this->_xor_decode($dec, $key);$/;"	v
dec	system/libraries/Encrypt.php	/^		$dec = $this->_xor_decode($dec, $key);$/;"	v
dec	system/libraries/Encrypt.php	/^		$dec = '';$/;"	v
dec	system/libraries/Encrypt.php	/^		$dec = base64_decode($string);$/;"	v
decimal	system/libraries/Form_validation.php	/^	public function decimal($str)$/;"	f
decode	system/libraries/Encrypt.php	/^	function decode($string, $key = '')$/;"	f
decode	system/libraries/Xmlrpc.php	/^	function decode($array=FALSE)$/;"	f
decode_message	system/libraries/Xmlrpc.php	/^	function decode_message($param)$/;"	f
decorate	system/libraries/Driver.php	/^	public function decorate($parent)$/;"	f
default	system/core/URI.php	/^	function _uri_to_assoc($n = 3, $default = array(), $which = 'segment')$/;"	v
default	system/core/URI.php	/^	function ruri_to_assoc($n = 3, $default = array())$/;"	v
default	system/core/URI.php	/^	function uri_to_assoc($n = 3, $default = array())$/;"	v
default	system/helpers/array_helper.php	/^	function element($item, $array, $default = FALSE)$/;"	v
default	system/helpers/array_helper.php	/^	function elements($items, $array, $default = FALSE)$/;"	v
default	system/helpers/date_helper.php	/^			$default = 'UTC';$/;"	v
default	system/helpers/form_helper.php	/^				$default = array_merge($default, $attributes);$/;"	v
default	system/helpers/form_helper.php	/^				if (count($_POST) === 0 AND $default == TRUE)$/;"	v
default	system/helpers/form_helper.php	/^	function set_value($field = '', $default = '')$/;"	v
default	system/libraries/Form_validation.php	/^	public function set_value($field = '', $default = '')$/;"	v
defaultImg	application/controllers/write.php	/^        $this->defaultImg = "real.png";$/;"	v
default_config	system/libraries/Cache/Cache.php	/^		$default_config = array($/;"	v
default_controller	system/core/Router.php	/^		$this->default_controller = ( ! isset($this->routes['default_controller']) OR $this->routes['default_controller'] == '') ? FALSE : strtolower($this->routes['default_controller']);$/;"	v
default_controller	system/core/Router.php	/^	var $default_controller;$/;"	v
default_template	system/libraries/Calendar.php	/^	function default_template()$/;"	f
defaults	system/helpers/captcha_helper.php	/^		$defaults = array('word' => '', 'img_path' => '', 'img_url' => '', 'img_width' => '150', 'img_height' => '30', 'font_path' => '', 'expiration' => 7200);$/;"	v
defaults	system/helpers/form_helper.php	/^		$defaults = array('name' => (( ! is_array($data)) ? $data : ''), 'cols' => '40', 'rows' => '10');$/;"	v
defaults	system/helpers/form_helper.php	/^		$defaults = array('name' => (( ! is_array($data)) ? $data : ''), 'type' => 'button');$/;"	v
defaults	system/helpers/form_helper.php	/^		$defaults = array('type' => 'checkbox', 'name' => (( ! is_array($data)) ? $data : ''), 'value' => $value);$/;"	v
defaults	system/helpers/form_helper.php	/^		$defaults = array('type' => 'reset', 'name' => (( ! is_array($data)) ? $data : ''), 'value' => $value);$/;"	v
defaults	system/helpers/form_helper.php	/^		$defaults = array('type' => 'submit', 'name' => (( ! is_array($data)) ? $data : ''), 'value' => $value);$/;"	v
defaults	system/helpers/form_helper.php	/^		$defaults = array('type' => 'text', 'name' => (( ! is_array($data)) ? $data : ''), 'value' => $value);$/;"	v
defaults	system/libraries/Javascript.php	/^		$defaults = array('js_library_driver' => 'jquery', 'autoload' => TRUE);$/;"	v
defaults	system/libraries/Upload.php	/^		$defaults = array($/;"	v
deft_lang	system/core/Lang.php	/^			$deft_lang = ( ! isset($config['language'])) ? 'english' : $config['language'];$/;"	v
degs	system/libraries/Image_lib.php	/^		$degs = array(90, 180, 270, 'vrt', 'hor');$/;"	v
deinfo	js/item.js	/^function deinfo(str) {$/;"	f
del	application/controllers/bg/bgart.php	/^    public function del($artId)$/;"	f
del	application/controllers/dsreceive.class.php	/^	$del = $lines-$dtutmplines;$/;"	v
del	application/controllers/order.php	/^    public function del($orderId  = -1){$/;"	f
del	application/controllers/test.php	/^            $del = $lines-$dtutmplines;$/;"	v
del	dsreceive.class.php	/^	$del = $lines-$dtutmplines;$/;"	v
delAllArt	application/models/comment.php	/^        public function delAllArt($artId)$/;"	f
delById	application/models/art.php	/^    public function delById($id)$/;"	f
delCart	application/controllers/order.php	/^    private function delCart($tcart)$/;"	f
delCart	js/cart.js	/^function delCart(node){$/;"	f
delCommentById	application/models/comment.php	/^		public function delCommentById($id)$/;"	f
delDir	js/message.js	/^function delDir (string) {$/;"	f
delHotInfo	application/controllers/home.php	/^    protected function delHotInfo($id)$/;"	f
delHotInfo	application/controllers/mainpage.php	/^    private function delHotInfo($id)$/;"	f
delPartInfo	application/controllers/home.php	/^    private function delPartInfo($part_id,$id)$/;"	f
delPartInfo	application/controllers/mainpage.php	/^    private function delPartInfo($part_id,$id)$/;"	f
delUserById	application/models/user.php	/^    public function delUserById($id)$/;"	f
del_dir	system/helpers/file_helper.php	/^	function delete_files($path, $del_dir = FALSE, $level = 0)$/;"	v
delete	application/models/monline_user.php	/^	function delete($sessionId){$/;"	f
delete	application/models/morder.php	/^    public function delete($ordor)$/;"	f
delete	application/models/order.php	/^    public function delete($ordor)$/;"	f
delete	application/views/message_view.php	/^						$delete=anchor(site_url('message\/delete\/').$row->id,'删除');$/;"	v
delete	system/database/DB_active_rec.php	/^	public function delete($table = '', $where = '', $limit = NULL, $reset_data = TRUE)$/;"	f
delete	system/database/DB_cache.php	/^	function delete($segment_one = '', $segment_two = '')$/;"	f
delete	system/libraries/Cache/Cache.php	/^	public function delete($id)$/;"	f
delete	system/libraries/Cache/drivers/Cache_apc.php	/^	public function delete($id)$/;"	f
delete	system/libraries/Cache/drivers/Cache_dummy.php	/^	public function delete($id)$/;"	f
delete	system/libraries/Cache/drivers/Cache_file.php	/^	public function delete($id)$/;"	f
delete	system/libraries/Cache/drivers/Cache_memcached.php	/^	public function delete($id)$/;"	f
deleteById	application/models/mess.php	/^	public function deleteById($message_id)$/;"	f
delete_all	system/database/DB_cache.php	/^	function delete_all()$/;"	f
delete_cookie	system/helpers/cookie_helper.php	/^	function delete_cookie($name = '', $domain = '', $path = '\/', $prefix = '')$/;"	f
delete_dir	system/libraries/Ftp.php	/^	function delete_dir($filepath)$/;"	f
delete_file	system/libraries/Ftp.php	/^	function delete_file($filepath)$/;"	f
delete_files	system/helpers/file_helper.php	/^	function delete_files($path, $del_dir = FALSE, $level = 0)$/;"	f
delete_hack	system/database/drivers/mysql/mysql_driver.php	/^	var $delete_hack = TRUE;$/;"	v
delete_hack	system/database/drivers/mysqli/mysqli_driver.php	/^	var $delete_hack = TRUE;$/;"	v
delim	system/database/DB_utility.php	/^	function csv_from_result($query, $delim = ",", $newline = "\\n", $enclosure = '"')$/;"	v
delim	system/helpers/text_helper.php	/^		$delim = '[-_\\'\\"`(){}<>\\[\\]|!?@#%&,.:;^~*+=\\\/ 0-9\\n\\r\\t]';$/;"	v
denglu	application/controllers/reg.php	/^    public function denglu()$/;"	f
denglu	application/models/monline_user.php	/^	public function denglu($data)$/;"	f
denglu	js/art.js	/^function denglu (callback) {$/;"	f
denglu_check	application/controllers/reg.php	/^    function denglu_check(){$/;"	f
dest	system/database/DB_driver.php	/^			$dest = array($where);$/;"	v
dest	system/database/DB_driver.php	/^			$dest = array();$/;"	v
dest_folder	system/libraries/Image_lib.php	/^					$this->dest_folder = $full_dest_path.'\/';$/;"	v
dest_folder	system/libraries/Image_lib.php	/^					$this->dest_folder = str_replace($this->dest_image, '', $full_dest_path);$/;"	v
dest_folder	system/libraries/Image_lib.php	/^				$this->dest_folder = $this->source_folder;$/;"	v
dest_folder	system/libraries/Image_lib.php	/^			$this->dest_folder = $this->source_folder;$/;"	v
dest_folder	system/libraries/Image_lib.php	/^	var $dest_folder		= '';$/;"	v
dest_image	system/libraries/Image_lib.php	/^					$this->dest_image = $this->source_image;$/;"	v
dest_image	system/libraries/Image_lib.php	/^					$this->dest_image = end($x);$/;"	v
dest_image	system/libraries/Image_lib.php	/^				$this->dest_image = $this->new_image;$/;"	v
dest_image	system/libraries/Image_lib.php	/^			$this->dest_image = $this->source_image;$/;"	v
destroy	system/libraries/Cart.php	/^	function destroy()$/;"	f
det	application/controllers/item.php	/^        $det = $this->mitem->getDetail($itemId);\/\/属性的列表中不可以是数字，这个在将来修复$/;"	v
det	application/controllers/message.php	/^	private function det($messId  )$/;"	f
det	js/item.js	/^function det() {$/;"	f
detailShow	application/controllers/message.php	/^	private function detailShow($messId)$/;"	f
determines	system/core/Router.php	/^	 * This function determines what should be served based on the URI request,$/;"	f
digits	system/helpers/text_helper.php	/^				$digits = $matches['1'][$i];$/;"	v
dir	js/art.js	/^function dir () {$/;"	f
dir	system/libraries/Zip.php	/^		$dir = str_replace("\\\\", "\/", $dir);$/;"	v
dirType	application/controllers/write.php	/^        $dirType=2;\/\/1:按天存入目录 2:按月存入目录 3:按扩展名存目录  建议使用按天存$/;"	v
dir_path	system/database/DB_cache.php	/^		$dir_path = $this->db->cachedir.$segment_one.'+'.$segment_two.'\/';$/;"	v
dir_time	system/libraries/Zip.php	/^			$dir_time = $this->_get_mod_time($dir);$/;"	v
direction	system/database/DB_active_rec.php	/^			$direction = $this->_random_keyword;$/;"	v
direction	system/database/DB_active_rec.php	/^			$direction = (in_array(strtoupper(trim($direction)), array('ASC', 'DESC'), TRUE)) ? ' '.$direction : ' ASC';$/;"	v
direction	system/database/DB_active_rec.php	/^	public function order_by($orderby, $direction = '')$/;"	v
directory	system/core/Common.php	/^	function &load_class($class, $directory = 'libraries', $prefix = 'CI_')$/;"	v
directory	system/core/Router.php	/^					$this->directory = '';$/;"	v
directory	system/core/Router.php	/^		$this->directory = str_replace(array('\/', '.'), '', $dir).'\/';$/;"	v
directory	system/core/Router.php	/^	var $directory		= '';$/;"	v
directory	system/libraries/Zip.php	/^		$this->directory	= '';$/;"	v
directory	system/libraries/Zip.php	/^	var $directory	= '';$/;"	v
directory_depth	system/helpers/directory_helper.php	/^	function directory_map($source_dir, $directory_depth = 0, $hidden = FALSE)$/;"	v
directory_map	system/helpers/directory_helper.php	/^	function directory_map($source_dir, $directory_depth = 0, $hidden = FALSE)$/;"	f
displayFileSize	application/views/load.php	/^        function displayFileSize(size) {$/;"	f
display_error	system/database/DB_driver.php	/^	function display_error($error = '', $swap = '', $native = FALSE)$/;"	f
display_error	system/libraries/Xmlrpc.php	/^	function display_error()$/;"	f
display_errors	system/libraries/Image_lib.php	/^	function display_errors($open = '<p>', $close = '<\/p>')$/;"	f
display_errors	system/libraries/Trackback.php	/^	function display_errors($open = '<p>', $close = '<\/p>')$/;"	f
display_errors	system/libraries/Upload.php	/^	public function display_errors($open = '<p>', $close = '<\/p>')$/;"	f
display_pages	system/libraries/Pagination.php	/^	var $display_pages		= TRUE;$/;"	v
display_response	system/libraries/Xmlrpc.php	/^	function display_response()$/;"	f
disposition	system/libraries/Email.php	/^	public function attach($filename, $disposition = 'attachment')$/;"	v
distinct	system/database/DB_active_rec.php	/^	public function distinct($val = TRUE)$/;"	f
divAddr	application/models/user.php	/^    private function divAddr($str)$/;"	f
doRequest	application/controllers/HttpClient.class.php	/^    function doRequest() {$/;"	f
do_hash	system/helpers/security_helper.php	/^	function do_hash($str, $type = 'sha1')$/;"	f
do_multicall	system/libraries/Xmlrpcs.php	/^	function do_multicall($call)$/;"	f
do_setup	system/helpers/smiley_helper.php	/^				$do_setup = FALSE;$/;"	v
do_setup	system/helpers/smiley_helper.php	/^		static $do_setup = TRUE;$/;"	v
do_upload	system/libraries/Upload.php	/^	public function do_upload($field = 'userfile')$/;"	f
do_xss_clean	system/libraries/Upload.php	/^	public function do_xss_clean()$/;"	f
doc.ontouchend	js/mainpage2.js	/^    doc.ontouchend = function  () {$/;"	f
doc.ontouchend	js/phone.js	/^    doc.ontouchend = function  () {$/;"	f
docstring	system/libraries/Xmlrpcs.php	/^			$docstring = isset($this->methods[$method_name]['docstring']) ? $this->methods[$method_name]['docstring'] : '';$/;"	v
doctype	system/helpers/html_helper.php	/^	function doctype($type = 'xhtml1-strict')$/;"	f
documentRoot	system/libraries/ckeditor.php	/^		$documentRoot = substr($realPath, 0, strlen($realPath) - strlen($selfPath));$/;"	v
does	system/core/Common.php	/^* This function acts as a singleton.  If the requested class does not$/;"	c
does	system/core/Input.php	/^	* This function does the following:$/;"	f
does	system/core/Security.php	/^	 * prevented.  This function does a fair amount of work but$/;"	f
does	system/libraries/Form_validation.php	/^	 * This function does all the work.$/;"	f
doesn	system/libraries/Form_validation.php	/^					\/\/ If our own wrapper function doesn't exist we see if a native PHP function does.$/;"	f
domain	system/core/Input.php	/^			$domain = config_item('cookie_domain');$/;"	v
domain	system/helpers/cookie_helper.php	/^	function delete_cookie($name = '', $domain = '', $path = '\/', $prefix = '')$/;"	v
download	system/libraries/Ftp.php	/^	function download($rempath, $locpath, $mode = 'auto')$/;"	f
download	system/libraries/Zip.php	/^	function download($filename = 'backup.zip')$/;"	f
download_height	js/spacePhoto.js	/^var download_height;$/;"	v
driver	system/core/Loader.php	/^	public function driver($library = '', $params = NULL, $object_name = NULL)$/;"	f
driver	system/database/DB.php	/^	$driver = 'CI_DB_'.$params['dbdriver'].'_driver';$/;"	v
driver	system/database/DB_driver.php	/^		$driver			= $this->load_rdriver();$/;"	v
driver	system/database/DB_driver.php	/^		$driver = 'CI_DB_'.$this->dbdriver.'_result';$/;"	v
driver	system/database/DB_driver.php	/^		$driver = ($this->dbdriver == 'postgre') ? 'pg_' : $this->dbdriver.'_';$/;"	v
driver_name	system/libraries/Driver.php	/^		$driver_name = strtolower(str_replace('CI_', '', $child_class));$/;"	v
driver_version_exceptions	system/database/DB_driver.php	/^		$driver_version_exceptions = array('oci8', 'sqlite', 'cubrid');$/;"	v
drop_column	system/database/DB_forge.php	/^	function drop_column($table = '', $column_name = '')$/;"	f
drop_database	system/database/DB_forge.php	/^	function drop_database($db_name)$/;"	f
drop_table	system/database/DB_forge.php	/^	function drop_table($table_name)$/;"	f
drp_color	system/libraries/Image_lib.php	/^		$drp_color	= imagecolorclosest($src_img, $R2, $G2, $B2);$/;"	v
dsn	system/database/DB.php	/^		 *  $dsn = 'driver:\/\/username:password@hostname\/database';$/;"	v
dst_img	system/libraries/Image_lib.php	/^		$dst_img = $create($this->width, $this->height);$/;"	v
dst_img	system/libraries/Image_lib.php	/^		$dst_img = imagerotate($src_img, $this->rotation_angle, $white);$/;"	v
dtu	application/controllers/printapi.php	/^$dtu=$_REQUEST['dtuid'];$/;"	v
dtuId	application/controllers/bg/home.php	/^            $dtuId = trim($this->input->post("dtuId"));$/;"	v
dtuNum	application/controllers/bg/home.php	/^            $dtuNum = trim($this->input->post("dtuNum"));$/;"	v
dtuid	application/controllers/dsprint.class.php	/^		$dtuid = trim($dtuid);$/;"	v
dtuid	application/controllers/dsreceive.class.php	/^	$dtuid = $re['dtu'];$/;"	v
dtuid	application/controllers/test.php	/^            $dtuid = $re['dtu'];$/;"	v
dtuid	dsreceive.class.php	/^	$dtuid = $re['dtu'];$/;"	v
dtupath	application/controllers/dsconfig.class.php	/^$dtupath='dtulog\/';$/;"	v
dtupath	dsconfig.class.php	/^$dtupath='dtulog\/';$/;"	v
dtutmplines	application/controllers/dsconfig.class.php	/^$dtutmplines=30;\/\/保存dtu log的记录数。默认不需要修改。$/;"	v
dtutmplines	dsconfig.class.php	/^$dtutmplines=30;\/\/保存dtu log的记录数。默认不需要修改。$/;"	v
dynamic_output	system/libraries/Image_lib.php	/^	var $dynamic_output		= FALSE;	\/\/ Whether to send to browser or write to disk$/;"	v
e	system/libraries/Sha1.php	/^				$e = $d;$/;"	v
e	system/libraries/Sha1.php	/^			$e = $this->_safe_add($e, $olde);$/;"	v
e	system/libraries/Sha1.php	/^		$e = -1009589776;$/;"	v
early	system/core/URI.php	/^	 * loads the Router class early on so it's not available$/;"	c
easeIn	application/views/donghua.php	/^                easeIn: function(initPos, targetPos, currentCount, count) {$/;"	j
easeIn	application/views/donghua.php	/^                easeIn: function(initPos, targetPos, currentCount, count, a, p) {$/;"	j
easeIn	application/views/donghua.php	/^                easeIn: function(initPos, targetPos, currentCount, count, s) {$/;"	j
easeInOut	application/views/donghua.php	/^                easeInOut: function(initPos, targetPos, currentCount, count) {$/;"	j
easeInOut	application/views/donghua.php	/^                easeInOut: function(initPos, targetPos, currentCount, count, a, p) {$/;"	j
easeInOut	application/views/donghua.php	/^                easeInOut: function(initPos, targetPos, currentCount, count, s) {$/;"	j
easeOut	application/views/donghua.php	/^                easeOut: function(initPos, targetPos, currentCount, count) {$/;"	j
easeOut	application/views/donghua.php	/^                easeOut: function(initPos, targetPos, currentCount, count, a, p) {$/;"	j
easeOut	application/views/donghua.php	/^                easeOut: function(initPos, targetPos, currentCount, count, s) {$/;"	j
edh	application/controllers/reg.php	/^        $edh = trim($this->input->post("operedh"));$/;"	v
edi	application/views/veditor.php	/^$edi= new FCKeditor("value");$/;"	v
edit	application/views/message_view.php	/^						$edit=anchor(site_url('message\/edit\/'.$row->id),'编辑',)..'$nbsp';$/;"	v
editor	application/controllers/chome.php	/^    function editor(){$/;"	f
editor	application/views/veditor.php	/^				$editor=new FCKeditor("content");$/;"	v
editor	system/libraries/ckeditor.php	/^	public function editor($name, $value = "", $config = array(), $events = array())$/;"	f
edm	application/controllers/reg.php	/^        $edm = trim($this->input->post("operedm"));$/;"	v
effect	system/libraries/javascript/Jquery.php	/^	function effect($src, $relative = FALSE)$/;"	f
elapsed	system/core/Output.php	/^		$elapsed = $BM->elapsed_time('total_execution_time_start', 'total_execution_time_end');$/;"	v
elapsed_time	system/core/Benchmark.php	/^	function elapsed_time($point1 = '', $point2 = '', $decimals = 4)$/;"	f
elapsed_time	system/database/DB_driver.php	/^	function elapsed_time($decimals = 6)$/;"	f
element	system/helpers/array_helper.php	/^	function element($item, $array, $default = FALSE)$/;"	f
element	system/libraries/javascript/Jquery.php	/^			$element = '"'.$element.'"';$/;"	v
element	system/libraries/javascript/Jquery.php	/^		$element = $this->_prep_element($element);	$/;"	v
element	system/libraries/javascript/Jquery.php	/^		$element = $this->_prep_element($element);$/;"	v
elements	system/helpers/array_helper.php	/^	function elements($items, $array, $default = FALSE)$/;"	f
ellipsize	system/helpers/text_helper.php	/^	function ellipsize($str, $max_length, $position = 1, $ellipsis = '&hellip;')$/;"	f
email	system/libraries/Email.php	/^				$email = preg_split('\/[\\s,]\/', $email, -1, PREG_SPLIT_NO_EMPTY);$/;"	v
email	system/libraries/Email.php	/^				$email = trim($email);$/;"	v
empty_cells	system/libraries/Table.php	/^		$this->empty_cells = $value;$/;"	v
empty_cells	system/libraries/Table.php	/^	var $empty_cells		= "";$/;"	v
empty_table	system/database/DB_active_rec.php	/^	public function empty_table($table = '')$/;"	f
enExtro	application/models/user.php	/^    private function enExtro($arr)$/;"	f
enable	application/controllers/bg/blocklist.php	/^				function enable($user_id){$/;"	f
enable_profiler	system/core/Output.php	/^		$this->enable_profiler = (is_bool($val)) ? $val : TRUE;$/;"	v
enable_profiler	system/core/Output.php	/^	function enable_profiler($val = TRUE)$/;"	f
enable_profiler	system/core/Output.php	/^	protected $enable_profiler	= FALSE;$/;"	v
enable_user	application/models/mbgblocklist.php	/^	function enable_user($user_id){$/;"	f
enabled	system/core/Hooks.php	/^		$this->enabled = TRUE;$/;"	v
enabled	system/core/Hooks.php	/^	var $enabled		= FALSE;$/;"	v
enables	system/core/Benchmark.php	/^ * This class enables you to mark points and calculate the time difference$/;"	c
enables	system/libraries/Calendar.php	/^ * This class enables the creation of calendars$/;"	c
enables	system/libraries/Driver.php	/^ * This class enables you to create "Driver" libraries that add runtime ability$/;"	c
enables	system/libraries/Driver.php	/^ * This class enables you to create drivers for a Library based on the Driver Library.$/;"	c
enables	system/libraries/Profiler.php	/^ * This class enables you to display benchmark, query, and other data$/;"	c
enc	system/libraries/Encrypt.php	/^			$enc = $this->_xor_encode($string, $key);$/;"	v
enc	system/libraries/Encrypt.php	/^			$enc = $this->mcrypt_encode($string, $key);$/;"	v
enc	system/libraries/Encrypt.php	/^		$enc = '';$/;"	v
encode	system/libraries/Encrypt.php	/^	function encode($string, $key = '')$/;"	f
encode_from_legacy	system/libraries/Encrypt.php	/^	function encode_from_legacy($string, $legacy_mode = MCRYPT_MODE_ECB, $key = '')$/;"	f
encode_php_tags	system/helpers/security_helper.php	/^	function encode_php_tags($str)$/;"	f
encode_php_tags	system/libraries/Form_validation.php	/^	public function encode_php_tags($str)$/;"	f
encodes	system/helpers/text_helper.php	/^		\/\/ The highlight string function encodes and highlights$/;"	f
encrypt_name	system/libraries/Upload.php	/^	public $encrypt_name			= FALSE;$/;"	v
encryption_key	system/libraries/Encrypt.php	/^		$this->encryption_key = $key;$/;"	v
encryption_key	system/libraries/Encrypt.php	/^	var $encryption_key	= '';$/;"	v
encryption_key	system/libraries/Session.php	/^	var $encryption_key				= '';$/;"	v
end	application/controllers/checkcode.php	/^			$end = $start + rand(75, 100);$/;"	v
end	system/helpers/text_helper.php	/^			$end = substr($str, -($max_length - strlen($beg)));$/;"	v
end	system/helpers/text_helper.php	/^			$end = substr($str, 0, -($max_length - strlen($beg)));$/;"	v
end	system/libraries/Pagination.php	/^		$end   = (($this->cur_page + $this->num_links) < $num_pages) ? $this->cur_page + $this->num_links : $num_pages;$/;"	v
end_char	system/helpers/text_helper.php	/^			$end_char = '';$/;"	v
enterFramePage	application/views/printindex.php	/^function enterFramePage(){$/;"	f
entities_to_ascii	system/helpers/text_helper.php	/^	function entities_to_ascii($str, $all = TRUE)$/;"	f
entity_decode	system/core/Security.php	/^	public function entity_decode($str, $charset='UTF-8')$/;"	f
entity_decode	system/helpers/typography_helper.php	/^	function entity_decode($str, $charset='UTF-8')$/;"	f
entries	system/libraries/Zip.php	/^		$this->entries		= 0;$/;"	v
entries	system/libraries/Zip.php	/^	var $entries	= 0;$/;"	v
err	application/controllers/write.php	/^                    $err = '上传被其它扩展中断';$/;"	v
err	application/controllers/write.php	/^                    $err = '写文件失败';$/;"	v
err	application/controllers/write.php	/^                    $err = '文件上传不完全';$/;"	v
err	application/controllers/write.php	/^                    $err = '文件大小超过了HTML定义的MAX_FILE_SIZE值';$/;"	v
err	application/controllers/write.php	/^                    $err = '文件大小超过了php.ini定义的upload_max_filesize值';$/;"	v
err	application/controllers/write.php	/^                    $err = '无文件上传';$/;"	v
err	application/controllers/write.php	/^                    $err = '无有效错误代码';$/;"	v
err	application/controllers/write.php	/^                    $err = '缺少临时文件夹';$/;"	v
err	application/controllers/write.php	/^            else $err='上传文件扩展名必需为：'.$upExt;$/;"	v
err	application/controllers/write.php	/^        $err = "";$/;"	v
errno	system/libraries/Xmlrpc.php	/^				$errno = -1;$/;"	v
errno	system/libraries/Xmlrpc.php	/^			$errno = $errno_v->scalarval();$/;"	v
errno	system/libraries/Xmlrpc.php	/^			$this->errno = $code;$/;"	v
errno	system/libraries/Xmlrpc.php	/^	var $errno			= '';$/;"	v
errno	system/libraries/Xmlrpc.php	/^	var $errno = 0;$/;"	v
errno_v	system/libraries/Xmlrpc.php	/^			$errno_v = $v->me['struct']['faultCode'];$/;"	v
error	application/controllers/message.php	/^			$error = "标题不能为空";$/;"	v
error	application/controllers/message.php	/^			$error = "请登陆后发送站内信";$/;"	v
error	application/controllers/message.php	/^		$error = false;$/;"	v
error	application/controllers/reg.php	/^            $error = $this->upload->display_errors();$/;"	v
error	application/core/MY_Controller.php	/^                    $error = $this->upload->display_errors();\/\/这里的英文将来要汉化$/;"	v
error	js/change2.js	/^function error (StatusCode) {$/;"	f
error	system/database/DB_driver.php	/^		$error =& load_class('Exceptions', 'core');$/;"	v
error	system/database/drivers/oci8/oci8_driver.php	/^		$error = is_resource($this->conn_id) ? oci_error($this->conn_id) : oci_error();$/;"	v
error	system/database/drivers/sqlsrv/sqlsrv_driver.php	/^		$error = array_shift(sqlsrv_errors());$/;"	v
error	system/libraries/Form_validation.php	/^	public function error($field = '', $prefix = '', $suffix = '')$/;"	f
error	system/libraries/Javascript.php	/^	function error($element = 'this', $js = '')$/;"	f
error	system/libraries/Upload.php	/^			$error = ( ! isset($_FILES[$field]['error'])) ? 4 : $_FILES[$field]['error'];$/;"	v
error	system/libraries/Xmlrpc.php	/^			$this->error = $this->result->errstr;$/;"	v
error	system/libraries/Xmlrpc.php	/^	var $error				= '';		\/\/ Error string for request$/;"	v
error_array	system/database/drivers/pdo/pdo_driver.php	/^		$error_array = $this->conn_id->errorInfo();$/;"	v
error_msg	system/database/DB_driver.php	/^				$error_msg = $this->_error_message();$/;"	v
error_msg	system/libraries/Image_lib.php	/^	var $error_msg			= array();$/;"	v
error_msg	system/libraries/Trackback.php	/^	var $error_msg		= array();$/;"	v
error_msg	system/libraries/Upload.php	/^	public $error_msg				= array();$/;"	v
error_no	system/database/DB_driver.php	/^				$error_no = $this->_error_number();$/;"	v
error_routes	system/core/Router.php	/^	var $error_routes	= array();$/;"	v
error_string	system/libraries/Form_validation.php	/^	protected $error_string			= '';$/;"	v
error_string	system/libraries/Form_validation.php	/^	public function error_string($prefix = '', $suffix = '')$/;"	f
error_string	system/libraries/Migration.php	/^	public function error_string()$/;"	f
errorlog	application/controllers/dsconfig.class.php	/^$errorlog=true;\/\/是否输出log，默认保存错误log的文件为$dtupath目录下的errlog.txt。$/;"	v
errorlog	dsconfig.class.php	/^$errorlog=true;\/\/是否输出log，默认保存错误log的文件为$dtupath目录下的errlog.txt。$/;"	v
errormsg	application/controllers/HttpClient.class.php	/^					$this->errormsg = 'Connection failed ('.$errno.')';$/;"	v
errormsg	application/controllers/HttpClient.class.php	/^					$this->errormsg = 'Connection refused or timed out (-5)';$/;"	v
errormsg	application/controllers/HttpClient.class.php	/^					$this->errormsg = 'DNS lookup failure (-4)';$/;"	v
errormsg	application/controllers/HttpClient.class.php	/^					$this->errormsg = 'Socket creation failed (-3)';$/;"	v
errormsg	application/controllers/HttpClient.class.php	/^    	            $this->errormsg = "Status code line invalid: ".htmlentities($line);$/;"	v
errormsg	application/controllers/HttpClient.class.php	/^    	$this->errormsg = '';$/;"	v
errormsg	application/controllers/HttpClient.class.php	/^                $this->errormsg = 'Number of redirects exceeded maximum ('.$this->max_redirects.')';$/;"	v
errormsg	application/controllers/HttpClient.class.php	/^    var $errormsg;$/;"	v
errors	system/database/DB_result.php	/^	 * These functions are primarily here to prevent undefined function errors$/;"	f
errstr	system/libraries/Xmlrpc.php	/^			$errstr = sprintf('XML error: %s at line %d',$/;"	v
errstr	system/libraries/Xmlrpc.php	/^			$errstr= substr($data, 0, strpos($data, "\\n")-1);$/;"	v
errstr	system/libraries/Xmlrpc.php	/^			$this->errstr = htmlentities($fstr);$/;"	v
errstr	system/libraries/Xmlrpc.php	/^	var $errstr = '';$/;"	v
errstr_v	system/libraries/Xmlrpc.php	/^			$errstr_v = $v->me['struct']['faultString'];$/;"	v
errstring	system/libraries/Xmlrpc.php	/^	var $errstring		= '';$/;"	v
escape	system/database/DB_active_rec.php	/^			$escape = $this->_protect_identifiers;$/;"	v
escape	system/database/DB_active_rec.php	/^	public function select($select = '*', $escape = NULL)$/;"	v
escape	system/database/DB_driver.php	/^	function escape($str)$/;"	f
escape	system/libraries/Email.php	/^		$escape = '=';$/;"	v
escape_like_str	system/database/DB_driver.php	/^	function escape_like_str($str)$/;"	f
escape_str	system/database/drivers/cubrid/cubrid_driver.php	/^	function escape_str($str, $like = FALSE)$/;"	f
escape_str	system/database/drivers/mssql/mssql_driver.php	/^	function escape_str($str, $like = FALSE)$/;"	f
escape_str	system/database/drivers/mysql/mysql_driver.php	/^	function escape_str($str, $like = FALSE)$/;"	f
escape_str	system/database/drivers/mysqli/mysqli_driver.php	/^	function escape_str($str, $like = FALSE)$/;"	f
escape_str	system/database/drivers/oci8/oci8_driver.php	/^	public function escape_str($str, $like = FALSE)$/;"	f
escape_str	system/database/drivers/odbc/odbc_driver.php	/^	function escape_str($str, $like = FALSE)$/;"	f
escape_str	system/database/drivers/pdo/pdo_driver.php	/^	function escape_str($str, $like = FALSE)$/;"	f
escape_str	system/database/drivers/postgre/postgre_driver.php	/^	function escape_str($str, $like = FALSE)$/;"	f
escape_str	system/database/drivers/sqlite/sqlite_driver.php	/^	function escape_str($str, $like = FALSE)$/;"	f
escape_str	system/database/drivers/sqlsrv/sqlsrv_driver.php	/^	function escape_str($str, $like = FALSE)$/;"	f
escaped_array	system/database/DB_driver.php	/^			$escaped_array = array();$/;"	v
escapes	system/database/drivers/cubrid/cubrid_driver.php	/^	 * This function escapes column and table names$/;"	f
escapes	system/database/drivers/mssql/mssql_driver.php	/^	 * This function escapes column and table names$/;"	f
escapes	system/database/drivers/mysql/mysql_driver.php	/^	 * This function escapes column and table names$/;"	f
escapes	system/database/drivers/mysqli/mysqli_driver.php	/^	 * This function escapes column and table names$/;"	f
escapes	system/database/drivers/oci8/oci8_driver.php	/^	 * This function escapes column and table names$/;"	f
escapes	system/database/drivers/odbc/odbc_driver.php	/^	 * This function escapes column and table names$/;"	f
escapes	system/database/drivers/pdo/pdo_driver.php	/^	 * This function escapes column and table names$/;"	f
escapes	system/database/drivers/postgre/postgre_driver.php	/^	 * This function escapes column and table names$/;"	f
escapes	system/database/drivers/sqlite/sqlite_driver.php	/^	 * This function escapes column and table names$/;"	f
escapes	system/database/drivers/sqlsrv/sqlsrv_driver.php	/^	 * This function escapes column and table names$/;"	f
event	system/libraries/Javascript.php	/^	 * Outputs a javascript library toggle class event$/;"	c
event	system/libraries/javascript/Jquery.php	/^		$event = "\\n\\t$(" . $this->_prep_element($element) . ").hover(\\n\\t\\tfunction()\\n\\t\\t{\\n\\t\\t\\t{$over}\\n\\t\\t}, \\n\\t\\tfunction()\\n\\t\\t{\\n\\t\\t\\t{$out}\\n\\t\\t});\\n";$/;"	v
event	system/libraries/javascript/Jquery.php	/^		$event = "\\n\\t$(" . $this->_prep_element($element) . ").{$event}(function(){\\n\\t\\t{$js}\\n\\t});\\n";$/;"	v
event	system/libraries/javascript/Jquery.php	/^	 * Outputs a jQuery remove class event$/;"	c
event	system/libraries/javascript/Jquery.php	/^	 * Outputs a jQuery toggle class event$/;"	c
eventName	system/libraries/ckeditor.php	/^			foreach ($events as $eventName => $code) {$/;"	v
eventName	system/libraries/ckeditor.php	/^			foreach ($this->globalEvents as $eventName => $handlers) {$/;"	v
eventName	system/libraries/ckeditor.php	/^			foreach($_events as $eventName => $handlers) {$/;"	v
events	system/libraries/ckeditor.php	/^			$this->events = array();$/;"	v
events	system/libraries/ckeditor.php	/^	private $events = array();$/;"	v
events	system/libraries/ckeditor.php	/^	private function configSettings($config = array(), $events = array())$/;"	v
evil_attributes	system/core/Security.php	/^		$evil_attributes = array('on\\w*', 'style', 'xmlns', 'formaction');$/;"	v
ex	system/helpers/date_helper.php	/^		$ex = explode("-", $split['0']);$/;"	v
ex	system/helpers/date_helper.php	/^		$ex = explode(":", $split['1']);$/;"	v
ex	system/libraries/Typography.php	/^		$ex = explode("pre>",$str);$/;"	v
exact_length	system/libraries/Form_validation.php	/^	public function exact_length($str, $val)$/;"	f
exist	system/core/Common.php	/^		\/\/ Does the class exist?  If so, we're done...$/;"	c
expected	system/libraries/Unit_test.php	/^			$expected = str_replace('is_float', 'is_double', $expected);$/;"	v
expected	system/libraries/Unit_test.php	/^	function run($test, $expected = TRUE, $test_name = 'undefined', $notes = '')$/;"	v
expire	system/core/Input.php	/^			$expire = ($expire > 0) ? time() + $expire : 0;$/;"	v
expire	system/core/Input.php	/^			$expire = time() - 86500;$/;"	v
expire	system/core/Output.php	/^		$expire = time() + ($this->cache_expiration * 60);$/;"	v
expire	system/core/Security.php	/^		$expire = time() + $this->_csrf_expire;$/;"	v
expire	system/libraries/Session.php	/^			$expire = $this->now - $this->sess_expiration;$/;"	v
expire	system/libraries/Session.php	/^		$expire = ($this->sess_expire_on_close === TRUE) ? 0 : $this->sess_expiration + time();$/;"	v
explode_name	system/libraries/Image_lib.php	/^	function explode_name($source_image)$/;"	f
ext	system/libraries/Ftp.php	/^					$ext = $this->_getext($file);$/;"	v
ext	system/libraries/Ftp.php	/^			$ext = $this->_getext($locpath);$/;"	v
ext	system/libraries/Ftp.php	/^			$ext = $this->_getext($rempath);$/;"	v
ext	system/libraries/Image_lib.php	/^		$ext = strrchr($source_image, '.');$/;"	v
ext	system/libraries/Upload.php	/^			$ext		= '.'.array_pop($parts);$/;"	v
ext	system/libraries/Upload.php	/^		$ext		= array_pop($parts);$/;"	v
ext	system/libraries/Upload.php	/^		$ext = '';$/;"	v
ext	system/libraries/Upload.php	/^		$ext = strtolower(ltrim($this->file_ext, '.'));$/;"	v
ext_helper	system/core/Loader.php	/^			$ext_helper = APPPATH.'helpers\/'.config_item('subclass_prefix').$helper.'.php';$/;"	v
extends	system/database/drivers/cubrid/cubrid_result.php	/^ * This class extends the parent result class: CI_DB_result$/;"	c
extends	system/database/drivers/mssql/mssql_result.php	/^ * This class extends the parent result class: CI_DB_result$/;"	c
extends	system/database/drivers/mysql/mysql_result.php	/^ * This class extends the parent result class: CI_DB_result$/;"	c
extends	system/database/drivers/mysqli/mysqli_result.php	/^ * This class extends the parent result class: CI_DB_result$/;"	c
extends	system/database/drivers/oci8/oci8_result.php	/^ * This class extends the parent result class: CI_DB_result$/;"	c
extends	system/database/drivers/odbc/odbc_result.php	/^ * This class extends the parent result class: CI_DB_result$/;"	c
extends	system/database/drivers/pdo/pdo_result.php	/^ * This class extends the parent result class: CI_DB_result$/;"	c
extends	system/database/drivers/postgre/postgre_result.php	/^ * This class extends the parent result class: CI_DB_result$/;"	c
extends	system/database/drivers/sqlite/sqlite_result.php	/^ * This class extends the parent result class: CI_DB_result$/;"	c
extends	system/database/drivers/sqlsrv/sqlsrv_result.php	/^ * This class extends the parent result class: CI_DB_result$/;"	c
extension	application/controllers/write.php	/^            $extension=$fileInfo['extension'];$/;"	v
extension	system/core/Common.php	/^		\/\/ Is the request a class extension?  If so we load it too$/;"	c
extension	system/core/Loader.php	/^			\/\/ Is this a class extension request?$/;"	c
extension	system/core/Output.php	/^			$extension = ltrim($mime_type, '.');$/;"	v
extension	system/helpers/download_helper.php	/^		$extension = end($x);$/;"	v
extension	system/helpers/file_helper.php	/^		$extension = strtolower(substr(strrchr($file, '.'), 1));$/;"	v
external	system/libraries/Javascript.php	/^	function external($external_file = '', $relative = FALSE)$/;"	f
external_scripts	system/libraries/javascript/Jquery.php	/^		$external_scripts = implode('', $this->jquery_code_for_load);$/;"	v
extra	system/helpers/form_helper.php	/^		if ($extra != '') $extra = ' '.$extra;$/;"	v
extra	system/libraries/javascript/Jquery.php	/^			$extra = ', '.$extra;$/;"	v
extraCode	system/libraries/ckeditor.php	/^		$extraCode = "";$/;"	v
extract_urls	system/libraries/Trackback.php	/^	function extract_urls($urls)$/;"	f
extro	application/controllers/item.php	/^        $extro = $this->user->getExtro($det["author_id"]);$/;"	v
extro	application/controllers/order.php	/^                $extro = $this->user->getExtro($cart[$slIdx]["seller"]);$/;"	v
extro	application/controllers/space.php	/^        $extro = $this->user->getExtro($masterid);$/;"	v
extype	system/libraries/Unit_test.php	/^			$extype = gettype($expected);$/;"	v
extype	system/libraries/Unit_test.php	/^			$extype = str_replace(array('true', 'false'), 'bool', str_replace('is_', '', $expected));$/;"	v
f	system/libraries/Migration.php	/^			$f = glob(sprintf($this->_migration_path . '%03d_*.php', $i));$/;"	v
f.asNav	js/flexslider-min.js	/^function(){!a.manualPause&&!a.manualPlay&&a.play()}),0<c.initDelay?setTimeout(a.play,c.initDelay):a.play());q&&c.touch&&f.touch();(!s||s&&c.smoothHeight)&&d(window).bind("resize focus",f.resize);setTimeout(function(){c.start(a)},200)},asNav:{setup:function(){a.asNav=!0;a.animatingTo=Math.floor(a.currentSlide\/a.move);a.currentItem=a.currentSlide;a.slides.removeClass(e+"active-slide").eq(a.currentItem).addClass(e+"active-slide");a.slides.click(function(b){b.preventDefault();b=d(this);var g=b.index();$/;"	p
f.init	js/flexslider-min.js	/^(function(d){d.flexslider=function(j,l){var a=d(j),c=d.extend({},d.flexslider.defaults,l),e=c.namespace,q="ontouchstart"in window||window.DocumentTouch&&document instanceof DocumentTouch,u=q?"touchend":"click",m="vertical"===c.direction,n=c.reverse,h=0<c.itemWidth,s="fade"===c.animation,t=""!==c.asNavFor,f={};d.data(j,"flexslider",a);f={init:function(){a.animating=!1;a.currentSlide=c.startAt;a.animatingTo=a.currentSlide;a.atEnd=0===a.currentSlide||a.currentSlide===a.last;a.containerSelector=c.selector.substr(0,$/;"	m
fConIdMark	js/msea.js	/^function fConIdMark () {$/;"	f
faceAdd	js/spacePhoto.js	/^function faceAdd () {$/;"	f
fade	application/views/donghua.php	/^            fade: function(obj, target, count, Func) {$/;"	j
fadeIn	system/libraries/Javascript.php	/^	function fadeIn($element = 'this', $speed = '', $callback = '')$/;"	f
fadeOut	system/libraries/Javascript.php	/^	function fadeOut($element = 'this', $speed = '', $callback = '')$/;"	f
failed	application/controllers/order.php	/^                    $failed = 0;$/;"	v
failed	application/controllers/order.php	/^                $failed = $this->config->item("infoFaild");$/;"	v
failed	application/controllers/order.php	/^        $failed = 0;$/;"	v
failed	application/controllers/order.php	/^        $failed = 1;$/;"	v
farray	application/controllers/dsreceive.class.php	/^	$farray = file($filename);$/;"	v
farray	application/controllers/test.php	/^            $farray = file($filename);$/;"	v
farray	dsreceive.class.php	/^	$farray = file($filename);$/;"	v
faultCode	system/libraries/Xmlrpc.php	/^	function faultCode()$/;"	f
faultString	system/libraries/Xmlrpc.php	/^	function faultString()$/;"	f
fb_unique	application/controllers/space.php	/^    public  function fb_unique($array2D)$/;"	f
fb_unique	application/core/MY_Controller.php	/^    public  function fb_unique($array2D)$/;"	f
fdShop	js/space.js	/^    function fdShop(node){$/;"	f
fetch_class	system/core/Router.php	/^	function fetch_class()$/;"	f
fetch_directory	system/core/Router.php	/^	function fetch_directory()$/;"	f
fetch_method	system/core/Router.php	/^	function fetch_method()$/;"	f
field	system/database/DB_active_rec.php	/^			$field = array($field => $match);$/;"	v
field	system/database/DB_forge.php	/^	function add_column($table = '', $field = array(), $after_field = '')$/;"	v
field	system/database/DB_forge.php	/^	function modify_column($table = '', $field = array())$/;"	v
field	system/database/drivers/cubrid/cubrid_forge.php	/^		foreach ($fields as $field=>$attributes)$/;"	v
field	system/database/drivers/mssql/mssql_forge.php	/^		foreach ($fields as $field=>$attributes)$/;"	v
field	system/database/drivers/mysql/mysql_forge.php	/^		foreach ($fields as $field=>$attributes)$/;"	v
field	system/database/drivers/mysqli/mysqli_forge.php	/^		foreach ($fields as $field=>$attributes)$/;"	v
field	system/database/drivers/oci8/oci8_forge.php	/^		foreach ($fields as $field=>$attributes)$/;"	v
field	system/database/drivers/odbc/odbc_forge.php	/^		foreach ($fields as $field=>$attributes)$/;"	v
field	system/database/drivers/pdo/pdo_forge.php	/^		foreach ($fields as $field=>$attributes)$/;"	v
field	system/database/drivers/postgre/postgre_forge.php	/^		foreach ($fields as $field=>$attributes)$/;"	v
field	system/database/drivers/sqlite/sqlite_forge.php	/^		foreach ($fields as $field=>$attributes)$/;"	v
field	system/database/drivers/sqlsrv/sqlsrv_forge.php	/^		foreach ($fields as $field=>$attributes)$/;"	v
field	system/helpers/form_helper.php	/^			$field = $_POST[$field];$/;"	v
field	system/libraries/Form_validation.php	/^		$field = $_POST[$field];$/;"	v
field	system/libraries/Form_validation.php	/^		$field = $this->_field_data[$field]['postdata'];$/;"	v
field	system/libraries/Form_validation.php	/^		foreach ($this->_field_data as $field => $row)$/;"	v
field	system/libraries/Form_validation.php	/^		if ( ! is_string($field) OR  ! is_string($rules) OR $field == '')$/;"	v
fieldCount	system/database/drivers/oci8/oci8_result.php	/^		for ($c = 1, $fieldCount = $this->num_fields(); $c <= $fieldCount; $c++)$/;"	v
field_data	system/database/DB_driver.php	/^	function field_data($table = '')$/;"	f
field_data	system/database/DB_result.php	/^	public function field_data() { return array(); }$/;"	f
field_data	system/database/drivers/cubrid/cubrid_result.php	/^	function field_data()$/;"	f
field_data	system/database/drivers/mssql/mssql_result.php	/^	function field_data()$/;"	f
field_data	system/database/drivers/mysql/mysql_result.php	/^	function field_data()$/;"	f
field_data	system/database/drivers/mysqli/mysqli_result.php	/^	function field_data()$/;"	f
field_data	system/database/drivers/oci8/oci8_result.php	/^	public function field_data()$/;"	f
field_data	system/database/drivers/odbc/odbc_result.php	/^	function field_data()$/;"	f
field_data	system/database/drivers/pdo/pdo_result.php	/^	function field_data()$/;"	f
field_data	system/database/drivers/postgre/postgre_result.php	/^	function field_data()$/;"	f
field_data	system/database/drivers/sqlite/sqlite_result.php	/^	function field_data()$/;"	f
field_data	system/database/drivers/sqlsrv/sqlsrv_result.php	/^	function field_data()$/;"	f
field_exists	system/database/DB_driver.php	/^	function field_exists($field_name, $table_name)$/;"	f
field_id	system/helpers/smiley_helper.php	/^	function smiley_js($alias = '', $field_id = '', $inline = TRUE)$/;"	v
field_name	system/database/drivers/odbc/odbc_result.php	/^				$field_name= odbc_field_name($odbc_result, $k+1);$/;"	v
field_name	system/helpers/form_helper.php	/^	function form_prep($str = '', $field_name = '')$/;"	v
field_names	system/database/drivers/mssql/mssql_result.php	/^		$field_names = array();$/;"	v
field_names	system/database/drivers/mysql/mysql_result.php	/^		$field_names = array();$/;"	v
field_names	system/database/drivers/mysqli/mysqli_result.php	/^		$field_names = array();$/;"	v
field_names	system/database/drivers/oci8/oci8_result.php	/^		$field_names = array();$/;"	v
field_names	system/database/drivers/odbc/odbc_result.php	/^		$field_names = array();$/;"	v
field_names	system/database/drivers/postgre/postgre_result.php	/^		$field_names = array();$/;"	v
field_names	system/database/drivers/sqlite/sqlite_result.php	/^		$field_names = array();$/;"	v
field_names	system/database/drivers/sqlsrv/sqlsrv_result.php	/^		$field_names = array();$/;"	v
field_str	system/database/drivers/mysql/mysql_utility.php	/^			$field_str = '';$/;"	v
field_str	system/database/drivers/mysql/mysql_utility.php	/^			$field_str = preg_replace( "\/, $\/" , "" , $field_str);$/;"	v
fields	system/database/DB_active_rec.php	/^		$fields = array_keys($out);$/;"	v
fields	system/database/DB_driver.php	/^		$fields = $this->list_fields($table);$/;"	v
fields	system/database/DB_driver.php	/^		$fields = array();$/;"	v
fields	system/database/DB_forge.php	/^			$this->fields = array_merge($this->fields, $field);$/;"	v
fields	system/database/DB_forge.php	/^		$this->fields		= array();$/;"	v
fields	system/database/DB_forge.php	/^	var $fields			= array();$/;"	v
fields_displayed	system/libraries/Profiler.php	/^		$fields_displayed = 0;$/;"	v
fieldset	system/helpers/form_helper.php	/^		$fieldset = "<fieldset";$/;"	v
file	index.php	/^	\/\/ The controller class file name.  Example:  Mycontroller$/;"	c
file	system/core/Common.php	/^			$file = rtrim($file, '\/').'\/'.md5(mt_rand(1,100).mt_rand(1,100));$/;"	v
file	system/core/Config.php	/^		$file = ($file == '') ? 'config' : str_replace('.php', '', $file);$/;"	v
file	system/core/Loader.php	/^			$file = array($file);$/;"	v
file	system/core/Loader.php	/^	public function file($path, $return = FALSE)$/;"	f
file	system/libraries/Email.php	/^			$file = filesize($filename) +1;$/;"	v
file	system/libraries/Migration.php	/^			$file = basename($f[0]);$/;"	v
file	system/libraries/Unit_test.php	/^			$file = ( ! isset($back['1']['file'])) ? '' : $back['1']['file'];$/;"	v
file	system/libraries/Upload.php	/^		$file = $this->file_temp;$/;"	v
file	system/libraries/ckeditor.php	/^		$file = str_replace("\\\\", "\/", __FILE__);$/;"	v
fileChange	application/views/load.php	/^        function fileChange(target) {$/;"	f
fileInfo	application/controllers/write.php	/^            $fileInfo=pathinfo($localName);$/;"	v
fileQueueError	js/xheditor_plugins/multiupload/multiupload.js	/^function fileQueueError(file, errorCode, message)\/\/队列添加失败$/;"	f
fileQueued	js/xheditor_plugins/multiupload/multiupload.js	/^function fileQueued(file)\/\/队列添加成功$/;"	f
fileUrl	system/libraries/ckeditor.php	/^		$fileUrl = substr($file, strlen($documentRoot));$/;"	v
file_contents	application/controllers/checkcode.php	/^            $file_contents = curl_exec($ch);$/;"	v
file_contents	application/controllers/checkcode.php	/^            $file_contents = file_get_contents($url);$/;"	v
file_contents	application/controllers/test.php	/^            $file_contents = curl_exec($ch);$/;"	v
file_contents	application/controllers/test.php	/^            $file_contents = file_get_contents($url);$/;"	v
file_contents	application/libraries/sms.php	/^            $file_contents = curl_exec($ch);$/;"	v
file_contents	application/libraries/sms.php	/^            $file_contents = file_get_contents($url);$/;"	v
file_count	system/libraries/Migration.php	/^		$file_count = count($files);$/;"	v
file_data	system/libraries/Zip.php	/^				$file_data = $this->_get_mod_time($path);$/;"	v
file_data	system/libraries/Zip.php	/^			$file_data = $this->_get_mod_time($filepath);$/;"	v
file_exists	system/core/Loader.php	/^					$file_exists = TRUE;$/;"	v
file_exists	system/core/Loader.php	/^		$file_exists = FALSE;$/;"	v
file_ext	system/libraries/Image_lib.php	/^		$file_ext = $xp['ext'];$/;"	v
file_ext	system/libraries/Upload.php	/^				$this->file_ext	 = $this->get_extension($this->_file_name_override);$/;"	v
file_ext	system/libraries/Upload.php	/^		$this->file_ext	 = $this->get_extension($this->file_name);$/;"	v
file_ext	system/libraries/Upload.php	/^	public $file_ext				= "";$/;"	v
file_name	system/libraries/Upload.php	/^			$this->file_name = $this->_prep_filename($this->_file_name_override);$/;"	v
file_name	system/libraries/Upload.php	/^			$this->file_name = $this->limit_filename_length($this->file_name, $this->max_filename);$/;"	v
file_name	system/libraries/Upload.php	/^			$this->file_name = $this->set_filename($this->upload_path, $this->file_name);$/;"	v
file_name	system/libraries/Upload.php	/^			$this->file_name = preg_replace("\/\\s+\/", "_", $this->file_name);$/;"	v
file_name	system/libraries/Upload.php	/^		$this->file_name = $this->_prep_filename($_FILES[$field]['name']);$/;"	v
file_name	system/libraries/Upload.php	/^		$this->file_name = $this->clean_file_name($this->file_name);$/;"	v
file_name	system/libraries/Upload.php	/^	public $file_name				= "";$/;"	v
file_num	system/libraries/Zip.php	/^		$this->file_num		= 0;$/;"	v
file_num	system/libraries/Zip.php	/^	var $file_num	= 0;$/;"	v
file_path	system/core/Common.php	/^			$file_path = APPPATH.'config\/config.php';$/;"	v
file_path	system/core/Config.php	/^				$file_path = $path.'config\/'.$location.'.php';$/;"	v
file_size	system/libraries/Upload.php	/^			$this->file_size = round($this->file_size\/1024, 2);$/;"	v
file_size	system/libraries/Upload.php	/^		$this->file_size = $_FILES[$field]['size'];$/;"	v
file_size	system/libraries/Upload.php	/^	public $file_size				= "";$/;"	v
file_temp	system/libraries/Upload.php	/^		$this->file_temp = $_FILES[$field]['tmp_name'];$/;"	v
file_temp	system/libraries/Upload.php	/^	public $file_temp				= "";$/;"	v
file_type	system/libraries/Upload.php	/^							$this->file_type = $matches[1];$/;"	v
file_type	system/libraries/Upload.php	/^						$this->file_type = $matches[1];$/;"	v
file_type	system/libraries/Upload.php	/^					$this->file_type = $matches[1];$/;"	v
file_type	system/libraries/Upload.php	/^			$this->file_type = 'image\/jpeg';$/;"	v
file_type	system/libraries/Upload.php	/^			$this->file_type = 'image\/png';$/;"	v
file_type	system/libraries/Upload.php	/^			$this->file_type = @mime_content_type($file['tmp_name']);$/;"	v
file_type	system/libraries/Upload.php	/^		$this->file_type = $file['type'];$/;"	v
file_type	system/libraries/Upload.php	/^		$this->file_type = preg_replace("\/^(.+?);.*$\/", "\\\\1", $this->file_type);$/;"	v
file_type	system/libraries/Upload.php	/^		$this->file_type = strtolower(trim(stripslashes($this->file_type), '"'));$/;"	v
file_type	system/libraries/Upload.php	/^	public $file_type				= "";$/;"	v
filedata	system/helpers/directory_helper.php	/^			$filedata	= array();$/;"	v
filename	application/controllers/dsreceive.class.php	/^	$filename = $dtupath.$dtuid;$/;"	v
filename	application/controllers/test.php	/^            $filename = $dtupath.$dtuid;$/;"	v
filename	dsreceive.class.php	/^	$filename = $dtupath.$dtuid;$/;"	v
filename	system/core/Exceptions.php	/^	var $filename;$/;"	v
filename	system/database/DB_cache.php	/^		$filename = md5($sql);$/;"	v
filename	system/libraries/Email.php	/^			$filename = $this->_attach_name[$i];$/;"	v
filename	system/libraries/Image_lib.php	/^		$filename = $xp['name'];$/;"	v
filename	system/libraries/Upload.php	/^			$filename	= implode('.', $parts);$/;"	v
filename	system/libraries/Upload.php	/^			$filename = md5(uniqid(mt_rand())).$this->file_ext;$/;"	v
filename	system/libraries/Upload.php	/^		$filename	= array_shift($parts);$/;"	v
filename	system/libraries/Upload.php	/^		$filename = str_replace($bad, '', $filename);$/;"	v
filename	system/libraries/Upload.php	/^		$filename = str_replace($this->file_ext, '', $filename);$/;"	v
filenum	application/controllers/dsreceive.class.php	/^	$filenum = @fopen($filename, 'w');$/;"	v
filenum	application/controllers/test.php	/^            $filenum = @fopen($filename, 'w');$/;"	v
filenum	application/controllers/test.php	/^        $filenum = @fopen("dtulog\/123", 'w');$/;"	v
filenum	application/controllers/testdir.php	/^$filenum = @fopen("dtulog\/123", 'w');$/;"	v
filenum	dsreceive.class.php	/^	$filenum = @fopen($filename, 'w');$/;"	v
filepath	system/core/Exceptions.php	/^			$filepath = $x[count($x)-2].'\/'.end($x);$/;"	v
filepath	system/core/Exceptions.php	/^		$filepath = str_replace("\\\\", "\/", $filepath);$/;"	v
filepath	system/core/Hooks.php	/^		$filepath = APPPATH.$data['filepath'].'\/'.$data['filename'];$/;"	v
filepath	system/core/Loader.php	/^				$filepath = $path.'libraries\/'.$subdir.$class.'.php';$/;"	v
filepath	system/core/Output.php	/^		$filepath = $cache_path.md5($uri);$/;"	v
filepath	system/database/DB_cache.php	/^		$filepath = $this->db->cachedir.$segment_one.'+'.$segment_two.'\/'.md5($sql);$/;"	v
filepath	system/libraries/Driver.php	/^						$filepath = $path.'libraries\/'.$lib_name.'\/drivers\/'.$class.'.php';$/;"	v
filepath	system/libraries/Ftp.php	/^		$filepath = preg_replace("\/(.+?)\\\/*$\/", "\\\\1\/",  $filepath);$/;"	v
filepath	system/libraries/Log.php	/^		$filepath = $this->_log_path.'log-'.date('Y-m-d').'.php';$/;"	v
filepath	system/libraries/Zip.php	/^		$filepath = str_replace("\\\\", "\/", $filepath);$/;"	v
files	system/libraries/Migration.php	/^		$files = glob($this->_migration_path . '*_*.php');$/;"	v
final_output	system/core/Output.php	/^			$this->final_output = $output;$/;"	v
final_output	system/core/Output.php	/^		$this->final_output = $output;$/;"	v
final_output	system/core/Output.php	/^	protected $final_output;$/;"	v
findIdx	js/item.js	/^        function findIdx(node){$/;"	f
find_migrations	system/libraries/Migration.php	/^	protected function find_migrations()$/;"	f
finfo	system/libraries/Upload.php	/^			$finfo = finfo_open(FILEINFO_MIME);$/;"	v
fip	system/libraries/Email.php	/^		$fip = (isset($_SERVER['HTTP_X_FORWARDED_FOR']) AND $_SERVER['HTTP_X_FORWARDED_FOR'] != "") ? $_SERVER['HTTP_X_FORWARDED_FOR'] : FALSE;$/;"	v
first	system/core/Common.php	/^		\/\/ Look for the class first in the local application\/libraries folder$/;"	c
first	system/libraries/Session.php	/^	 * This function first converts any slashes found in the array to a temporary$/;"	f
first_link	system/libraries/Pagination.php	/^	var $first_link			= '&lsaquo; First';$/;"	v
first_row	system/database/DB_result.php	/^	public function first_row($type = 'object')$/;"	f
first_tag_close	system/libraries/Pagination.php	/^	var $first_tag_close	= '&nbsp;';$/;"	v
first_tag_open	system/libraries/Pagination.php	/^	var $first_tag_open		= '';$/;"	v
first_url	system/libraries/Pagination.php	/^			$first_url = ($this->first_url == '') ? $this->base_url : $this->first_url;$/;"	v
first_url	system/libraries/Pagination.php	/^	var $first_url			= ''; \/\/ Alternative URL for the First Page.$/;"	v
fixAppleSel	js/xheditor.min.js	/^(function(){var e={};window.XHEDITOR=e})(),function(e,t){e.mapLang={},e.setLang=function(i,s){s===t&&(s=i,i=""),""!==i&&(i+=".");var a,n;for(var o in s)n=s[o],a=i+o,"string"==typeof n||n instanceof Array?e.mapLang[a]=n:e.setLang(a,n)},e.getLang=function(i){var s=e.mapLang[i];if(s===t&&(s=i.replace(\/{#([^{}]+)}\/g,function(t,i){var s=e.mapLang[i];return s?s:i})),"string"==typeof s){var a=arguments;s=s.replace(\/{\\$(\\d+)}\/g,function(e,i){var s=a[parseInt(i,10)+1];return s!==t?s:e})}return s}}(XHEDITOR),function(XHEDITOR,$,undefined){var agent=navigator.userAgent.toLowerCase(),bMobile=\/mobile\/i.test(agent),browser=$.browser,browerVer=parseFloat(browser.version),isIE=browser.msie,isMozilla=browser.mozilla,isWebkit=browser.webkit,isOpera=browser.opera,isChrome=browser.chrome,bAir=agent.indexOf(" adobeair\/")>-1,xCount=0,bShowPanel=!1,bClickCancel=!0,bShowModal=!1,bCheckEscInit=!1,_jPanel,_jShadow,_jCntLine,_jPanelButton,jModal,jModalShadow,layerShadow,jOverlay,jHideSelect,onModalRemove,editorRoot,getLang=XHEDITOR.getLang;if($("script[src*=xheditor]").each(function(){var e=this.src;return e.match(\/xheditor[^\\\/]*\\.js\/i)?(editorRoot=e.replace(\/[\\?#].*$\/,"").replace(\/(^|[\\\/\\\\])[^\\\/]*$\/,"$1"),!1):undefined}),isIE){try{document.execCommand("BackgroundImageCache",!1,!0)}catch(e){}var jqueryVer=$.fn.jquery;jqueryVer&&jqueryVer.match(\/^1\\.[67]\/)&&($.attrHooks.width=$.attrHooks.height=null)}var specialKeys={27:"esc",9:"tab",32:"space",13:"enter",8:"backspace",145:"scroll",20:"capslock",144:"numlock",19:"pause",45:"insert",36:"home",46:"del",35:"end",33:"pageup",34:"pagedown",37:"left",38:"up",39:"right",40:"down",112:"f1",113:"f2",114:"f3",115:"f4",116:"f5",117:"f6",118:"f7",119:"f8",120:"f9",121:"f10",122:"f11",123:"f12"},arrAlign=[{v:"justifyleft"},{v:"justifycenter"},{v:"justifyright"},{v:"justifyfull"}],arrList=[{v:"insertOrderedList"},{v:"insertUnorderedList"}],htmlPastetext='<div><label for="xhePastetextValue">{#PastetextTip}<\/label><\/div><div><textarea id="xhePastetextValue" wrap="soft" spellcheck="false" style="width:300px;height:100px;" \/><\/div><div style="text-align:right;"><input type="button" id="xheSave" value="{#dialogOk}" \/><\/div>',htmlLink='<div><label for="xheLinkUrl">{#link.url}<\/label><input type="text" id="xheLinkUrl" value="http:\/\/" class="xheText" \/><\/div><div><label for="xheLinkTarget">{#link.target}<\/label><select id="xheLinkTarget"><option selected="selected" value="">{#default}<\/option><option value="_blank">{#link.targetBlank}<\/option><option value="_self">{#link.targetSelf}<\/option><option value="_parent">{#link.targetParent}<\/option><\/select><\/div><div style="display:none"><label for="xheLinkText">{#link.linkText}<\/label><input type="text" id="xheLinkText" value="" class="xheText" \/><\/div><div style="text-align:right;"><input type="button" id="xheSave" value="{#dialogOk}" \/><\/div>',htmlAnchor='<div><label for="xheAnchorName">{#anchor.name}<\/label><input type="text" id="xheAnchorName" value="" class="xheText" \/><\/div><div style="text-align:right;"><input type="button" id="xheSave" value="{#dialogOk}" \/><\/div>',htmlImg='<div><label for="xheImgUrl">{#img.url}<\/label><input type="text" id="xheImgUrl" value="http:\/\/" class="xheText" \/><\/div><div><div><label for="xheImgAlt">{#img.alt}<\/label><input type="text" id="xheImgAlt" \/><\/div><div><label for="xheImgAlign">{#img.align}<\/label><select id="xheImgAlign"><option selected="selected" value="">{#default}<\/option><option value="left">{#img.alignLeft}<\/option><option value="right">{#img.alignRight}<\/option><option value="top">{#img.alignTop}<\/option><option value="middle">{#img.alignMiddle}<\/option><option value="baseline">{#img.alignBaseline}<\/option><option value="bottom">{#img.alignBottom}<\/option><\/select><\/div><div><label for="xheImgWidth">{#img.width}<\/label><input type="text" id="xheImgWidth" style="width:40px;" \/> <label for="xheImgHeight">{#img.height}<\/label><input type="text" id="xheImgHeight" style="width:40px;" \/><\/div><div><label for="xheImgBorder">{#img.border}<\/label><input type="text" id="xheImgBorder" style="width:40px;" \/><\/div><div><label for="xheImgHspace">{#img.hspace}<\/label><input type="text" id="xheImgHspace" style="width:40px;" \/> <label for="xheImgVspace">{#img.vspace}<\/label><input type="text" id="xheImgVspace" style="width:40px;" \/><\/div><div style="text-align:right;"><input type="button" id="xheSave" value="{#dialogOk}" \/><\/div>',htmlFlash='<div><label for="xheFlashUrl">{#flash.url}<\/label><input type="text" id="xheFlashUrl" value="http:\/\/" class="xheText" \/><\/div><div><label for="xheFlashWidth">{#flash.width}<\/label><input type="text" id="xheFlashWidth" style="width:40px;" value="480" \/> <label for="xheFlashHeight">{#flash.height}<\/label><input type="text" id="xheFlashHeight" style="width:40px;" value="400" \/><\/div><div style="text-align:right;"><input type="button" id="xheSave" value="{#dialogOk}" \/><\/div>',htmlMedia='<div><label for="xheMediaUrl">{#media.url}<\/label><input type="text" id="xheMediaUrl" value="http:\/\/" class="xheText" \/><\/div><div><label for="xheMediaWidth">{#media.width}<\/label><input type="text" id="xheMediaWidth" style="width:40px;" value="480" \/> <label for="xheMediaHeight">{#media.height}<\/label><input type="text" id="xheMediaHeight" style="width:40px;" value="400" \/><\/div><div style="text-align:right;"><input type="button" id="xheSave" value="{#dialogOk}" \/><\/div>',htmlTable='<div><label for="xheTableRows">{#table.rows}<\/label><input type="text" id="xheTableRows" style="width:40px;" value="3" \/> <label for="xheTableColumns">{#table.columns}<\/label><input type="text" id="xheTableColumns" style="width:40px;" value="2" \/><\/div><div><label for="xheTableHeaders">{#table.headers}<\/label><select id="xheTableHeaders"><option selected="selected" value="">{#none}<\/option><option value="row">{#table.headersRow}<\/option><option value="col">{#table.headersCol}<\/option><option value="both">{#table.headersBoth}<\/option><\/select><\/div><div><label for="xheTableWidth">{#table.width}<\/label><input type="text" id="xheTableWidth" style="width:40px;" value="200" \/> <label for="xheTableHeight">{#table.height}<\/label><input type="text" id="xheTableHeight" style="width:40px;" value="" \/><\/div><div><label for="xheTableBorder">{#table.border}<\/label><input type="text" id="xheTableBorder" style="width:40px;" value="1" \/><\/div><div><label for="xheTableCellSpacing">{#table.cellSpacing}<\/label><input type="text" id="xheTableCellSpacing" style="width:40px;" value="1" \/> <label for="xheTableCellPadding">{#table.cellPadding}<\/label><input type="text" id="xheTableCellPadding" style="width:40px;" value="1" \/><\/div><div><label for="xheTableAlign">{#table.align}<\/label><select id="xheTableAlign"><option selected="selected" value="">{#default}<\/option><option value="left">{#table.alignLeft}<\/option><option value="center">{#table.alignCenter}<\/option><option value="right">{#table.alignRight}<\/option><\/select><\/div><div><label for="xheTableCaption">{#table.caption}<\/label><input type="text" id="xheTableCaption" \/><\/div><div style="text-align:right;"><input type="button" id="xheSave" value="{#dialogOk}" \/><\/div>',htmlAbout='<div style="font:12px Arial;width:245px;word-wrap:break-word;word-break:break-all;outline:none;" role="dialog" tabindex="-1"><p><span style="font-size:20px;color:#1997DF;">xhEditor<\/span><br \/>v1.2.1 (build 130225)<\/p><p>{#aboutXheditor}<\/p><p>Copyright &copy; <a href="http:\/\/xheditor.com\/" target="_blank">xhEditor.com<\/a>. All rights reserved.<\/p><\/div>',itemEmots={"default":{name:"{#default}",width:24,height:24,line:7,list:["smile","tongue","titter","laugh","sad","wronged","fastcry","cry","wail","mad","knock","curse","crazy","angry","ohmy","awkward","panic","shy","cute","envy","proud","struggle","quiet","shutup","doubt","despise","sleep","bye"]}},arrTools={Cut:{t:"Cut"},Copy:{t:"Copy"},Paste:{t:"Paste"},Pastetext:{t:"Pastetext",h:isIE?0:1},Blocktag:{t:"Blocktag",h:1},Fontface:{t:"Fontface",h:1},FontSize:{t:"FontSize",h:1},Bold:{t:"Bold",s:"Ctrl+B"},Italic:{t:"Italic",s:"Ctrl+I"},Underline:{t:"Underline",s:"Ctrl+U"},Strikethrough:{t:"Strikethrough"},FontColor:{t:"FontColor",h:1},BackColor:{t:"BackColor",h:1},SelectAll:{t:"SelectAll"},Removeformat:{t:"Removeformat"},Align:{t:"Align",h:1},List:{t:"List",h:1},Outdent:{t:"Outdent"},Indent:{t:"Indent"},Link:{t:"Link",s:"Ctrl+L",h:1},Unlink:{t:"Unlink"},Anchor:{t:"Anchor",h:1},Img:{t:"Img",h:1},Flash:{t:"Flash",h:1},Media:{t:"Media",h:1},Hr:{t:"Hr"},Emot:{t:"Emot",s:"ctrl+e",h:1},Table:{t:"Table",h:1},Source:{t:"Source"},Preview:{t:"Preview"},Print:{t:"Print",s:"Ctrl+P"},Fullscreen:{t:"Fullscreen",s:"Esc"},About:{t:"About"}},toolsThemes={mini:"Bold,Italic,Underline,Strikethrough,|,Align,List,|,Link,Img",simple:"Blocktag,Fontface,FontSize,Bold,Italic,Underline,Strikethrough,FontColor,BackColor,|,Align,List,Outdent,Indent,|,Link,Img,Emot",full:"Cut,Copy,Paste,Pastetext,|,Blocktag,Fontface,FontSize,Bold,Italic,Underline,Strikethrough,FontColor,BackColor,SelectAll,Removeformat,|,Align,List,Outdent,Indent,|,Link,Unlink,Anchor,Img,Flash,Media,Hr,Emot,Table,|,Source,Preview,Print,Fullscreen"};toolsThemes.mfull=toolsThemes.full.replace(\/\\|(,Align)\/i,"\/$1");var arrDbClick={a:"Link",img:"Img",embed:"Embed"},uploadInputname="filedata",arrEntities={"<":"&lt;",">":"&gt;",'"':"&quot;","\\u00ae":"&reg;","\\u00a9":"&copy;"},regEntities=\/[<>"\\u00ae\\u00a9]\/g,Xheditor=function(textarea,options){function checkDblClick(e){var t=e.target,i=arrDbClick[t.tagName.toLowerCase()];if(i){if("Embed"===i){var s={"application\/x-shockwave-flash":"Flash","application\/x-mplayer2":"Media"};i=s[t.type.toLowerCase()]}_this.exec(i)}}function checkEsc(e){return 27===e.which?(bShowModal?_this.removeModal():bShowPanel&&_this.hidePanel(),!1):undefined}function loadReset(){setTimeout(_this.setSource,10)}function saveResult(){_this.getSource()}function cleanPaste(e){var t,i,s;if(e&&(t=e.originalEvent.clipboardData)&&(i=t.items)&&(s=i[0])&&"file"==s.kind&&s.type.match(\/^image\\\/\/i)){var a=s.getAsFile(),n=new FileReader;return n.onload=function(){var e='<img src="'+event.target.result+'">';e=replaceRemoteImg(e),_this.pasteHTML(e)},n.readAsDataURL(a),!1}var o=settings.cleanPaste;if(0===o||bSource||bCleanPaste)return!0;bCleanPaste=!0,_this.saveBookmark();var l=isIE?"pre":"div",r=$("<"+l+' class="xhe-paste">\\ufeff\\ufeff<\/'+l+">",_doc).appendTo(_doc.body),h=r[0],c=_this.getSel(),d=_this.getRng(!0);r.css("top",_jWin.scrollTop()),isIE?(d.moveToElementText(h),d.select()):(d.selectNodeContents(h),c.removeAllRanges(),c.addRange(d)),setTimeout(function(){var e,t=3===o;if(t)r.html(r.html().replace(\/<br(\\s+[^<>]*)?>\/gi,"\\n")),e=r.text();else{var i=$(".xhe-paste",_doc.body),s=[];i.each(function(e,t){0==$(t).find(".xhe-paste").length&&s.push(t.innerHTML)}),e=s.join("<br \/>")}r.remove(),_this.loadBookmark(),e=e.replace(\/^[\\s\\uFEFF]+|[\\s\\uFEFF]+$\/g,""),e&&(t?_this.pasteText(e):(e=_this.cleanHTML(e),e=_this.cleanWord(e),e=_this.formatXHTML(e),(!settings.onPaste||settings.onPaste&&(e=settings.onPaste(e))!==!1)&&(e=replaceRemoteImg(e),_this.pasteHTML(e)))),bCleanPaste=!1},0)}function replaceRemoteImg(e){var t=settings.localUrlTest,i=settings.remoteImgSaveUrl;if(t&&i){var s=[],a=0;e=e.replace(\/(<img)((?:\\s+[^>]*?)?(?:\\s+src="\\s*([^"]+)\\s*")(?: [^>]*)?)(\\\/?>)\/gi,function(e,i,n,o,l){return!\/^(https?|data:image)\/i.test(o)||\/_xhe_temp\/.test(n)||t.test(o)||(s[a]=o,n=n.replace(\/\\s+(width|height)="[^"]*"\/gi,"").replace(\/\\s+src="[^"]*"\/gi,' src="'+skinPath+'img\/waiting.gif" remoteimg="'+a++ +'"')),i+n+l}),s.length>0&&$.post(i,{urls:s.join("|")},function(e){e=e.split("|"),$("img[remoteimg]",_this.doc).each(function(){var t=$(this);xheAttr(t,"src",e[t.attr("remoteimg")]),t.removeAttr("remoteimg")})})}return e}function setCSS(e){try{_this._exec("styleWithCSS",e,!0)}catch(t){try{_this._exec("useCSS",!e,!0)}catch(t){}}}function setOpts(){if(bInit&&!bSource){setCSS(!1);try{_this._exec("enableObjectResizing",!0,!0)}catch(e){}if(isIE)try{_this._exec("BackgroundImageCache",!0,!0)}catch(e){}}}function forcePtag(e){if(bSource||13!==e.which||e.shiftKey||e.ctrlKey||e.altKey)return!0;var t=_this.getParent("p,h1,h2,h3,h4,h5,h6,pre,address,div,li");return t.is("li")?!0:settings.forcePtag?(0===t.length&&_this._exec("formatblock","<p>"),undefined):(_this.pasteHTML("<br \/>"),isIE&&t.length>0&&2===_this.getRng().parentElement().childNodes.length&&_this.pasteHTML("<br \/>"),!1)}function fixFullHeight(){isMozilla||isWebkit||(bFullscreen&&_jArea.height("100%").css("height",_jArea.outerHeight()-_jTools.outerHeight()),isIE&&_jTools.hide().show())}function fixAppleSel(e){if(e=e.target,e.tagName.match(\/(img|embed)\/i)){var t=_this.getSel(),i=_this.getRng(!0);i.selectNode(e),t.removeAllRanges(),t.addRange(i)}}function xheAttr(e,t,i){if(!t)return!1;var s="_xhe_"+t;return i&&(urlType&&(i=getLocalUrl(i,urlType,urlBase)),e.attr(t,urlBase?getLocalUrl(i,"abs",urlBase):i).removeAttr(s).attr(s,i)),e.attr(s)||e.attr(t)}function clickCancelPanel(){bClickCancel&&_this.hidePanel()}function checkShortcuts(e){if(bSource)return!0;var t=e.which,i=specialKeys[t],s=i?i:String.fromCharCode(t).toLowerCase();sKey="",sKey+=e.ctrlKey?"ctrl+":"",sKey+=e.altKey?"alt+":"",sKey+=e.shiftKey?"shift+":"",sKey+=s;var a,n=arrShortCuts[sKey];for(a in n){if(a=n[a],!$.isFunction(a))return _this.exec(a),!1;if(a.call(_this)===!1)return!1}}function is(e,t){var i=typeof e;return t?"array"===t&&e.hasOwnProperty&&e instanceof Array?!0:i===t:"undefined"!=i}function getLocalUrl(e,t,i){if(e.match(\/^(\\w+):\\\/\\\/\/i)&&!e.match(\/^https?:\/i)||\/^#\/i.test(e)||\/^data:\/i.test(e))return e;var s=i?$('<a href="'+i+'" \/>')[0]:location,a=s.protocol,n=s.host,o=s.hostname,l=s.port,r=s.pathname.replace(\/\\\\\/g,"\/").replace(\/[^\\\/]+$\/i,"");if(""===l&&(l="80"),""===r?r="\/":"\/"!==r.charAt(0)&&(r="\/"+r),e=$.trim(e),"abs"!==t&&(e=e.replace(RegExp(a+"\\\\\/\\\\\/"+o.replace(\/\\.\/g,"\\\\.")+"(?::"+l+")"+("80"===l?"?":"")+"(\/|$)","i"),"\/")),"rel"===t&&(e=e.replace(RegExp("^"+r.replace(\/([\\\/\\.\\+\\[\\]\\(\\)])\/g,"\\\\$1"),"i"),"")),"rel"!==t&&(e.match(\/^(https?:\\\/\\\/|\\\/)\/i)||(e=r+e),"\/"===e.charAt(0))){var h,c,d=[],u=e.split("\/"),p=u.length;for(c=0;p>c;c++)h=u[c],".."===h?d.pop():""!==h&&"."!==h&&d.push(h);""===u[p-1]&&d.push(""),e="\/"+d.join("\/")}return"abs"!==t||e.match(\/^https?:\\\/\\\/\/i)||(e=a+"\/\/"+n+e),e=e.replace(\/(https?:\\\/\\\/[^:\\\/?#]+):80(\\\/|$)\/i,"$1$2")}function checkFileExt(e,t){return"*"===t||e.match(RegExp(".("+t.replace(\/,\/g,"|")+")$","i"))?!0:(alert(getLang("upload.extLimit",t)),!1)}function formatBytes(e){var t=["Byte","KB","MB","GB","TB","PB"],i=Math.floor(Math.log(e)\/Math.log(1024));return(e\/Math.pow(1024,Math.floor(i))).toFixed(2)+t[i]}function returnFalse(){return!1}var _this=this,_text=textarea,_jText=$(_text),_jForm=_jText.closest("form"),_jTools,_jArea,_win,_jWin,_doc,_jDoc,bookmark,bInit=!1,bSource=!1,bFullscreen=!1,bCleanPaste=!1,outerScroll,bShowBlocktag=!1,sLayoutStyle="",ev=null,timer,bDisableHoverExec=!1,bQuickHoverExec=!1,lastPoint=null,lastAngle=null,editorHeight=0,settings=_this.settings=$.extend({},XHEDITOR.settings,options),plugins=settings.plugins,strPlugins=[];if(plugins&&(arrTools=$.extend({},arrTools,plugins),$.each(plugins,function(e){strPlugins.push(e)}),strPlugins=strPlugins.join(",")),settings.tools.match(\/^\\s*(m?full|simple|mini)\\s*$\/i)){var toolsTheme=toolsThemes[$.trim(settings.tools)];settings.tools=settings.tools.match(\/m?full\/i)&&plugins?toolsTheme.replace("Table","Table,"+strPlugins):toolsTheme}settings.tools.match(\/(^|,)\\s*About\\s*(,|$)\/i)||(settings.tools+=",About"),settings.tools=settings.tools.split(","),settings.editorRoot&&(editorRoot=settings.editorRoot),bAir===!1&&(editorRoot=getLocalUrl(editorRoot,"abs")),settings.urlBase&&(settings.urlBase=getLocalUrl(settings.urlBase,"abs"));var idCSS="xheCSS_"+settings.skin,idContainer="xhe"+xCount+"_container",idTools="xhe"+xCount+"_Tool",idIframeArea="xhe"+xCount+"_iframearea",idIframe="xhe"+xCount+"_iframe",idFixFFCursor="xhe"+xCount+"_fixffcursor",headHTML="",bodyClass="",skinPath=editorRoot+"xheditor_skin\/"+settings.skin+"\/",arrEmots=itemEmots,urlType=settings.urlType,urlBase=settings.urlBase,emotPath=settings.emotPath,emotPath=emotPath?emotPath:editorRoot+"xheditor_emot\/",selEmotGroup="";arrEmots=$.extend({},arrEmots,settings.emots),emotPath=getLocalUrl(emotPath,"rel",urlBase?urlBase:null),bShowBlocktag=settings.showBlocktag,bShowBlocktag&&(bodyClass+=" showBlocktag");var arrShortCuts=[];this.init=function(){function e(e){var t,i=$(e.target);(t=i.css("width"))&&i.css("width","").attr("width",t.replace(\/[^0-9%]+\/g,"")),(t=i.css("height"))&&i.css("height","").attr("height",t.replace(\/[^0-9%]+\/g,""))}0===$("#"+idCSS).length&&$("head").append('<link id="'+idCSS+'" rel="stylesheet" type="text\/css" href="'+skinPath+'ui.css" \/>');var t=_jText.outerWidth(),i=_jText.outerHeight(),s=settings.width||_text.style.width||(t>10?t:0);editorHeight=settings.height||_text.style.height||(i>10?i:150),\/^\\d+(?:\\.\\d+)?$\/.test(s)&&(s+="px"),is(editorHeight,"string")&&(editorHeight=editorHeight.replace(\/[^\\d]+\/g,""));var a,n,o=settings.background||_text.style.background,l=['<span class="xheGStart"\/>'],r=\/\\||\\\/\/i;$.each(settings.tools,function(e,t){if(t.match(r)&&l.push('<span class="xheGEnd"\/>'),"|"===t)l.push('<span class="xheSeparator"\/>');else if("\/"===t)l.push("<br \/>");else{if(a=arrTools[t],!a)return;n=a.c?a.c:"xheIcon xheBtn"+t,l.push('<span><a href="#" title="{#'+a.t+'}" cmd="'+t+'" class="xheButton xheEnabled" tabindex="-1" role="button"><span class="'+n+'" unselectable="on" style="font-size:0;color:transparent;text-indent:-999px;">'+a.t+"<\/span><\/a><\/span>"),a.s&&_this.addShortcuts(a.s,t)}t.match(r)&&l.push('<span class="xheGStart"\/>')}),l.push('<span class="xheGEnd"\/><br \/>'),_jText.after($('<input type="text" id="'+idFixFFCursor+'" style="position:absolute;display:none;" \/><span id="'+idContainer+'" class="xhe_'+settings.skin+'" style="display:none"><table cellspacing="0" cellpadding="0" class="xheLayout" style="'+("0px"!=s?"width:"+s+";":"")+"height:"+editorHeight+'px;" role="presentation"><tr><td id="'+idTools+'" class="xheTool" unselectable="on" style="height:1px;" role="presentation"><\/td><\/tr><tr><td id="'+idIframeArea+'" class="xheIframeArea" role="presentation"><iframe frameborder="0" id="'+idIframe+'" src="javascript:;" style="width:100%;"><\/iframe><\/td><\/tr><\/table><\/span>')),_jTools=$("#"+idTools),_jArea=$("#"+idIframeArea),headHTML='<meta http-equiv="Content-Type" content="text\/html; charset=utf-8" \/><link rel="stylesheet" href="'+skinPath+'iframe.css"\/>';var h=settings.loadCSS;if(h)if(is(h,"array"))for(var c in h)headHTML+='<link rel="stylesheet" href="'+h[c]+'"\/>';else headHTML+=h.match(\/\\s*<style(\\s+[^>]*?)?>[\\s\\S]+?<\\\/style>\\s*\/i)?h:'<link rel="stylesheet" href="'+h+'"\/>';var d='<!DOCTYPE html><html xmlns="http:\/\/www.w3.org\/1999\/xhtml"><head>'+headHTML+"<title>{#defaultReadTip} "+(settings.readTip?settings.readTip:"")+"<\/title>";o&&(d+="<style>html{background:"+o+";}<\/style>"),d+='<\/head><body spellcheck="0" class="editMode'+bodyClass+'"><\/body><\/html>',_this.win=_win=$("#"+idIframe)[0].contentWindow,_jWin=$(_win);try{this.doc=_doc=_win.document,_jDoc=$(_doc),_doc.open(),_doc.write(getLang(d)),_doc.close(),isIE?_doc.body.contentEditable="true":_doc.designMode="On"}catch(u){}setTimeout(setOpts,300),_this.setSource(),_win.setInterval=null,_jTools.append(getLang(l.join(""))).bind("mousedown contextmenu",returnFalse).click(function(e){var t=$(e.target).closest("a");return t.is(".xheEnabled")&&(clearTimeout(timer),_jTools.find("a").attr("tabindex","-1"),ev=e,_this.exec(t.attr("cmd"))),!1}),_jTools.find(".xheButton").hover(function(e){var t=$(this),i=settings.hoverExecDelay,s=lastAngle;if(lastAngle=null,-1===i||bDisableHoverExec||!t.is(".xheEnabled"))return!1;if(s&&s>10)return bDisableHoverExec=!0,setTimeout(function(){bDisableHoverExec=!1},100),!1;var a=t.attr("cmd"),n=1===arrTools[a].h;return n?(bQuickHoverExec&&(i=0),i>=0&&(timer=setTimeout(function(){ev=e,lastPoint={x:ev.clientX,y:ev.clientY},_this.exec(a)},i)),undefined):(_this.hidePanel(),!1)},function(){lastPoint=null,timer&&clearTimeout(timer)}).mousemove(function(e){if(lastPoint){var t={x:e.clientX-lastPoint.x,y:e.clientY-lastPoint.y};if(Math.abs(t.x)>1||Math.abs(t.y)>1){if(t.x>0&&t.y>0){var i=Math.round(Math.atan(t.y\/t.x)\/.017453293);lastAngle=lastAngle?(lastAngle+i)\/2:i}else lastAngle=null;lastPoint={x:e.clientX,y:e.clientY}}}}),_jPanel=$("#xhePanel"),_jShadow=$("#xheShadow"),_jCntLine=$("#xheCntLine"),0===_jPanel.length&&(_jPanel=$('<div id="xhePanel"><\/div>').mousedown(function(e){e.stopPropagation()}),_jShadow=$('<div id="xheShadow"><\/div>'),_jCntLine=$('<div id="xheCntLine"><\/div>'),setTimeout(function(){$(document.body).append(_jPanel).append(_jShadow).append(_jCntLine)},10)),$("#"+idContainer).show(),_jText.hide(),_jArea.css("height",editorHeight-_jTools.outerHeight()),isIE&8>browerVer&&setTimeout(function(){_jArea.css("height",editorHeight-_jTools.outerHeight())},1),_jText.focus(_this.focus),_jForm.submit(saveResult).bind("reset",loadReset),settings.submitID&&$("#"+settings.submitID).mousedown(saveResult),$(window).bind("unload beforeunload",saveResult).bind("resize",fixFullHeight),$(document).mousedown(clickCancelPanel),bCheckEscInit||($(document).keydown(checkEsc),bCheckEscInit=!0),_jWin.focus(function(){settings.focus&&settings.focus()}).blur(function(){settings.blur&&settings.blur()}),isWebkit&&_jWin.click(fixAppleSel),_jDoc.mousedown(clickCancelPanel).keydown(checkShortcuts).keypress(forcePtag).dblclick(checkDblClick).bind("mousedown click",function(e){_jText.trigger(e.type)}),isIE&&(_jDoc.keydown(function(e){var t=_this.getRng();return 8===e.which&&t.item?($(t.item(0)).remove(),!1):undefined}),_jDoc.bind("controlselect",function(t){t=t.target,$.nodeName(t,"IMG")&&$(t).unbind("resizeend",e).bind("resizeend",e)})),_jDoc.keydown(function(e){var t=e.which;return e.altKey&&t>=49&&57>=t?(_jTools.find("a").attr("tabindex","0"),_jTools.find(".xheGStart").eq(t-49).next().find("a").focus(),_doc.title="\\ufeff\\ufeff",!1):undefined}).click(function(){_jTools.find("a").attr("tabindex","-1")}),_jTools.keydown(function(e){var t=e.which;if(27==t)_jTools.find("a").attr("tabindex","-1"),_this.focus();else if(e.altKey&&t>=49&&57>=t)return _jTools.find(".xheGStart").eq(t-49).next().find("a").focus(),!1});var p=$(_doc.documentElement);isOpera?p.bind("keydown",function(e){e.ctrlKey&&86===e.which&&cleanPaste()}):p.bind(isIE?"beforepaste":"paste",cleanPaste),settings.disableContextmenu&&p.bind("contextmenu",returnFalse),settings.html5Upload&&p.bind("dragenter dragover",function(e){var t;return(t=e.originalEvent.dataTransfer.types)&&-1!==$.inArray("Files",t)?!1:undefined}).bind("drop",function(e){function t(e){var t,i,s;for(a=0;e.length>a;a++){if(i=e[a].name.replace(\/.+\\.\/,""),!(t=o.match(RegExp("(\\\\w+):[^:]*,"+i+"(?:,|$)","i"))))return 1;if(s){if(s!==t[1])return 2}else s=t[1]}return s}var i,s=e.originalEvent.dataTransfer;if(s&&(i=s.files)&&i.length>0){var a,n,o,l=["Link","Img","Flash","Media"],r=[];for(a in l)n=l[a],settings["up"+n+"Url"]&&settings["up"+n+"Url"].match(\/^[^!].*\/i)&&r.push(n+":,"+settings["up"+n+"Ext"]);return 0===r.length?!1:(o=r.join(","),n=t(i),1===n?alert(getLang("upload.extLimit",o.replace(\/\\w+:,\/g,""))):2===n?alert(getLang("upload.typeLimit")):n&&_this.startUpload(i,settings["up"+n+"Url"],"*",function(e){var t,i=[],s=settings.onUpload;s&&s(e);for(var a=0,o=e.length;o>a;a++)t=e[a],url=is(t,"string")?t:t.url,"!"===url.substr(0,1)&&(url=url.substr(1)),i.push(url);_this.exec(n),$("#xhe"+n+"Url").val(i.join(" ")),$("#xheSave").click()}),!1)}});var g=settings.shortcuts;g&&$.each(g,function(e,t){_this.addShortcuts(e,t)}),xCount++,bInit=!0,settings.fullscreen?_this.toggleFullscreen():settings.sourceMode&&setTimeout(_this.toggleSource,20);var f=settings.plugins;return f&&$.each(f,function(e,t){var i=t.i;i!==undefined&&i(_this)}),!0},this.remove=function(){_this.hidePanel(),saveResult(),_jText.unbind("focus",_this.focus),_jForm.unbind("submit",saveResult).unbind("reset",loadReset),settings.submitID&&$("#"+settings.submitID).unbind("mousedown",saveResult),$(window).unbind("unload beforeunload",saveResult).unbind("resize",fixFullHeight),$(document).unbind("mousedown",clickCancelPanel),$("#"+idContainer).remove(),$("#"+idFixFFCursor).remove(),_jText.show(),bInit=!1},this.saveBookmark=function(){if(!bSource){_this.focus();var e=_this.getRng();e=e.cloneRange?e.cloneRange():e,bookmark={top:_jWin.scrollTop(),rng:e}}},this.loadBookmark=function(){if(!bSource&&bookmark){_this.focus();var e=bookmark.rng;if(isIE)e.select();else{var t=_this.getSel();t.removeAllRanges(),t.addRange(e)}_jWin.scrollTop(bookmark.top),bookmark=null}},this.focus=function(){if(bSource?$("#sourceCode",_doc).focus():_win.focus(),isIE){var e=_this.getRng();e.parentElement&&e.parentElement().ownerDocument!==_doc&&_this.setTextCursor()}return!1},this.setTextCursor=function(e){var t=_this.getRng(!0),i=_doc.body;if(isIE)t.moveToElementText(i);else{for(var s=e?"lastChild":"firstChild";3!=i.nodeType&&i[s];)i=i[s];t.selectNode(i)}if(t.collapse(e?!1:!0),isIE)t.select();else{var a=_this.getSel();a.removeAllRanges(),a.addRange(t)}},this.getSel=function(){return _doc.selection?_doc.selection:_win.getSelection()},this.getRng=function(e){var t,i;try{e||(t=_this.getSel(),i=t.createRange?t.createRange():t.rangeCount>0?t.getRangeAt(0):null),i||(i=_doc.body.createTextRange?_doc.body.createTextRange():_doc.createRange())}catch(s){}return i},this.getParent=function(e){var t,i=_this.getRng();return isIE?t=i.item?i.item(0):i.parentElement():(t=i.commonAncestorContainer,i.collapsed||i.startContainer===i.endContainer&&2>i.startOffset-i.endOffset&&i.startContainer.hasChildNodes()&&(t=i.startContainer.childNodes[i.startOffset])),e=e?e:"*",t=$(t),t.is(e)||(t=$(t).closest(e)),t},this.getSelect=function(e){var t=_this.getSel(),i=_this.getRng(),s=!0;if(s=!i||i.item?!1:!t||0===i.boundingWidth||i.collapsed,"text"===e)return s?"":i.text||(t.toString?""+t:"");var a;if(i.cloneContents){var n,o=$("<div><\/div>");n=i.cloneContents(),n&&o.append(n),a=o.html()}else a=is(i.item)?i.item(0).outerHTML:is(i.htmlText)?i.htmlText:""+i;return s&&(a=""),a=_this.processHTML(a,"read"),a=_this.cleanHTML(a),a=_this.formatXHTML(a)},this.pasteHTML=function(e,t){if(bSource)return!1;_this.focus(),e=_this.processHTML(e,"write");var i=_this.getSel(),s=_this.getRng();if(t!==undefined){if(s.item){var a=s.item(0);s=_this.getRng(!0),s.moveToElementText(a),s.select()}s.collapse(t)}if(e+="<"+(isIE?"img":"span")+' id="_xhe_temp" width="0" height="0" \/>',s.insertNode){if($(s.startContainer).closest("style,script").length>0)return!1;s.deleteContents(),s.insertNode(s.createContextualFragment(e))}else"control"===i.type.toLowerCase()&&(i.clear(),s=_this.getRng()),s.pasteHTML(e);var n=$("#_xhe_temp",_doc),o=n[0];isIE?(s.moveToElementText(o),s.select()):(s.selectNode(o),i.removeAllRanges(),i.addRange(s)),n.remove()},this.pasteText=function(e,t){e||(e=""),e=_this.domEncode(e),e=e.replace(\/\\r?\\n\/g,"<br \/>"),_this.pasteHTML(e,t)},this.appendHTML=function(e){return bSource?!1:(_this.focus(),e=_this.processHTML(e,"write"),$(_doc.body).append(e),_this.setTextCursor(!0),undefined)},this.domEncode=function(e){return e.replace(regEntities,function(e){return arrEntities[e]})},this.setSource=function(e){bookmark=null,"string"!=typeof e&&""!==e&&(e=_text.value),bSource?$("#sourceCode",_doc).val(e):(settings.beforeSetSource&&(e=settings.beforeSetSource(e)),e=_this.cleanHTML(e),e=_this.formatXHTML(e),e=_this.processHTML(e,"write"),isIE?(_doc.body.innerHTML='<img id="_xhe_temp" width="0" height="0" \/>'+e,$("#_xhe_temp",_doc).remove()):_doc.body.innerHTML=e)},this.processHTML=function(e,t){function i(e,t,i,s,a,o){var l,r,h,c,d="";if(l=s.match(\/font-family\\s*:\\s*([^;"]+)\/i),l&&(d+=' face="'+l[1]+'"'),r=s.match(\/font-size\\s*:\\s*([^;"]+)\/i)){r=r[1].toLowerCase();for(var u=0;n.length>u;u++)if(r===n[u].n||r===n[u].s){h=u+1;break}h&&(d+=' size="'+h+'"',s=s.replace(\/(^|;)(\\s*font-size\\s*:\\s*[^;"]+;?)+\/gi,"$1"))}if(c=s.match(\/(?:^|[\\s;])color\\s*:\\s*([^;"]+)\/i)){var p;if(p=c[1].match(\/\\s*rgb\\s*\\(\\s*(\\d+)\\s*,\\s*(\\d+)\\s*,\\s*(\\d+)\\s*\\)\/i)){c[1]="#";for(var g=1;3>=g;g++)c[1]+=("0"+(p[g]-0).toString(16)).slice(-2)}c[1]=c[1].replace(\/^#([0-9a-f])([0-9a-f])([0-9a-f])$\/i,"#$1$1$2$2$3$3"),d+=' color="'+c[1]+'"'}return s=s.replace(\/(^|;)(\\s*(font-family|color)\\s*:\\s*[^;"]+;?)+\/gi,"$1"),""!==d?(s&&(d+=' style="'+s+'"'),"<font"+(i?i:"")+d+(a?a:"")+">"+o+"<\/font>"):e}function s(e,t,i,s,a){for(var n,l,r=(i?i:"")+(s?s:""),h=[],c=[],d=0;o.length>d;d++)n=o[d].r,l=o[d].t,r=r.replace(n,function(){return h.push("<"+l+">"),c.push("<\/"+l+">"),""});return r=r.replace(\/\\s+style\\s*=\\s*"\\s*"\/i,""),(r?"<span"+r+">":"")+h.join("")+a+c.join("")+(r?"<\/span>":"")}var a=' class="Apple-style-span"',n=settings.listFontsize;if("write"===t)e=e.replace(\/(<(\\\/?)(\\w+))((?:\\s+[\\w\\-:]+\\s*=\\s*(?:"[^"]*"|'[^']*'|[^>\\s]+))*)\\s*((\\\/?)>)\/g,function(e,t,i,s,n,o,l){s=s.toLowerCase(),isMozilla?"strong"===s?s="b":"em"===s&&(s="i"):isWebkit&&("strong"===s?(s="span",i||(n+=a+' style="font-weight: bold;"')):"em"===s?(s="span",i||(n+=a+' style="font-style: italic;"')):"u"===s?(s="span",i||(n+=a+' style="text-decoration: underline;"')):"strike"===s&&(s="span",i||(n+=a+' style="text-decoration: line-through;"')));var r,h="";if("del"===s)s="strike";else if("img"===s)n=n.replace(\/\\s+emot\\s*=\\s*("[^"]*"|'[^']*'|[^>\\s]+)\/i,function(e,t){return r=t.match(\/^(["']?)(.*)\\1\/)[2],r=r.split(","),r[1]||(r[1]=r[0],r[0]=""),"default"===r[0]&&(r[0]=""),settings.emotMark?e:""});else if("a"===s)!n.match(\/ href=[^ ]\/i)&&n.match(\/ name=[^ ]\/i)&&(h+=" xhe-anchor"),l&&(o="><\/a>");else if("table"===s&&!i){var c=n.match(\/\\s+border\\s*=\\s*("[^"]*"|'[^']*'|[^>\\s]+)\/i);(!c||c[1].match(\/^(["']?)\\s*0\\s*\\1$\/))&&(h+=" xhe-border")}var d;if(n=n.replace(\/\\s+([\\w\\-:]+)\\s*=\\s*("[^"]*"|'[^']*'|[^>\\s]+)\/g,function(e,t,i){return t=t.toLowerCase(),i=i.match(\/^(["']?)(.*)\\1\/)[2],aft="",isIE&&t.match(\/^(disabled|checked|readonly|selected)$\/)&&i.match(\/^(false|0)$\/i)?"":"img"===s&&r&&"src"===t?"":(t.match(\/^(src|href)$\/)&&(aft=" _xhe_"+t+'="'+i+'"',urlBase&&(i=getLocalUrl(i,"abs",urlBase))),h&&"class"===t&&(i+=" "+h,h=""),isWebkit&&"style"===t&&"span"===s&&i.match(\/(^|;)\\s*(font-family|font-size|color|background-color)\\s*:\\s*[^;]+\\s*(;|$)\/i)&&(d=!0)," "+t+'="'+i+'"'+aft)}),r){var u=emotPath+(r[0]?r[0]:"default")+"\/"+r[1]+".gif";n+=' src="'+u+'" _xhe_src="'+u+'"'}return d&&(n+=a),h&&(n+=' class="'+h+'"'),"<"+i+s+n+o}),isIE&&(e=e.replace(\/&apos;\/gi,"&#39;")),isWebkit||(e=e.replace(\/<(span)(\\s+[^>]*?)?\\s+style\\s*=\\s*"((?:[^"]*?;)?\\s*(?:font-family|font-size|color)\\s*:[^"]*)"( [^>]*)?>(((?!<\\1(\\s+[^>]*?)?>)[\\s\\S]|<\\1(\\s+[^>]*?)?>((?!<\\1(\\s+[^>]*?)?>)[\\s\\S]|<\\1(\\s+[^>]*?)?>((?!<\\1(\\s+[^>]*?)?>)[\\s\\S])*?<\\\/\\1>)*?<\\\/\\1>)*?)<\\\/\\1>\/gi,i),e=e.replace(\/<(span)(\\s+[^>]*?)?\\s+style\\s*=\\s*"((?:[^"]*?;)?\\s*(?:font-family|font-size|color)\\s*:[^"]*)"( [^>]*)?>(((?!<\\1(\\s+[^>]*?)?>)[\\s\\S]|<\\1(\\s+[^>]*?)?>((?!<\\1(\\s+[^>]*?)?>)[\\s\\S])*?<\\\/\\1>)*?)<\\\/\\1>\/gi,i),e=e.replace(\/<(span)(\\s+[^>]*?)?\\s+style\\s*=\\s*"((?:[^"]*?;)?\\s*(?:font-family|font-size|color)\\s*:[^"]*)"( [^>]*)?>(((?!<\\1(\\s+[^>]*?)?>)[\\s\\S])*?)<\\\/\\1>\/gi,i)),e=e.replace(\/<(td|th)(\\s+[^>]*?)?>(\\s|&nbsp;)*<\\\/\\1>\/gi,"<$1$2>"+(isIE?"":"<br \/>")+"<\/$1>");else{if(isWebkit)for(var o=[{r:\/font-weight\\s*:\\s*bold;?\/gi,t:"strong"},{r:\/font-style\\s*:\\s*italic;?\/gi,t:"em"},{r:\/text-decoration\\s*:\\s*underline;?\/gi,t:"u"},{r:\/text-decoration\\s*:\\s*line-through;?\/gi,t:"strike"}],l=0;2>l;l++)e=e.replace(\/<(span)(\\s+[^>]*?)?\\s+class\\s*=\\s*"Apple-style-span"(\\s+[^>]*?)?>(((?!<\\1(\\s+[^>]*?)?>)[\\s\\S]|<\\1(\\s+[^>]*?)?>((?!<\\1(\\s+[^>]*?)?>)[\\s\\S]|<\\1(\\s+[^>]*?)?>((?!<\\1(\\s+[^>]*?)?>)[\\s\\S])*?<\\\/\\1>)*?<\\\/\\1>)*?)<\\\/\\1>\/gi,s),e=e.replace(\/<(span)(\\s+[^>]*?)?\\s+class\\s*=\\s*"Apple-style-span"(\\s+[^>]*?)?>(((?!<\\1(\\s+[^>]*?)?>)[\\s\\S]|<\\1(\\s+[^>]*?)?>((?!<\\1(\\s+[^>]*?)?>)[\\s\\S])*?<\\\/\\1>)*?)<\\\/\\1>\/gi,s),e=e.replace(\/<(span)(\\s+[^>]*?)?\\s+class\\s*=\\s*"Apple-style-span"(\\s+[^>]*?)?>(((?!<\\1(\\s+[^>]*?)?>)[\\s\\S])*?)<\\\/\\1>\/gi,s);e=e.replace(\/(<(\\w+))((?:\\s+[\\w\\-:]+\\s*=\\s*(?:"[^"]*"|'[^']*'|[^>\\s]+))*)\\s*(\\\/?>)\/g,function(e,t,i,s,a){i=i.toLowerCase();$/;"	f
fixFullHeight	js/xheditor.min.js	/^(function(){var e={};window.XHEDITOR=e})(),function(e,t){e.mapLang={},e.setLang=function(i,s){s===t&&(s=i,i=""),""!==i&&(i+=".");var a,n;for(var o in s)n=s[o],a=i+o,"string"==typeof n||n instanceof Array?e.mapLang[a]=n:e.setLang(a,n)},e.getLang=function(i){var s=e.mapLang[i];if(s===t&&(s=i.replace(\/{#([^{}]+)}\/g,function(t,i){var s=e.mapLang[i];return s?s:i})),"string"==typeof s){var a=arguments;s=s.replace(\/{\\$(\\d+)}\/g,function(e,i){var s=a[parseInt(i,10)+1];return s!==t?s:e})}return s}}(XHEDITOR),function(XHEDITOR,$,undefined){var agent=navigator.userAgent.toLowerCase(),bMobile=\/mobile\/i.test(agent),browser=$.browser,browerVer=parseFloat(browser.version),isIE=browser.msie,isMozilla=browser.mozilla,isWebkit=browser.webkit,isOpera=browser.opera,isChrome=browser.chrome,bAir=agent.indexOf(" adobeair\/")>-1,xCount=0,bShowPanel=!1,bClickCancel=!0,bShowModal=!1,bCheckEscInit=!1,_jPanel,_jShadow,_jCntLine,_jPanelButton,jModal,jModalShadow,layerShadow,jOverlay,jHideSelect,onModalRemove,editorRoot,getLang=XHEDITOR.getLang;if($("script[src*=xheditor]").each(function(){var e=this.src;return e.match(\/xheditor[^\\\/]*\\.js\/i)?(editorRoot=e.replace(\/[\\?#].*$\/,"").replace(\/(^|[\\\/\\\\])[^\\\/]*$\/,"$1"),!1):undefined}),isIE){try{document.execCommand("BackgroundImageCache",!1,!0)}catch(e){}var jqueryVer=$.fn.jquery;jqueryVer&&jqueryVer.match(\/^1\\.[67]\/)&&($.attrHooks.width=$.attrHooks.height=null)}var specialKeys={27:"esc",9:"tab",32:"space",13:"enter",8:"backspace",145:"scroll",20:"capslock",144:"numlock",19:"pause",45:"insert",36:"home",46:"del",35:"end",33:"pageup",34:"pagedown",37:"left",38:"up",39:"right",40:"down",112:"f1",113:"f2",114:"f3",115:"f4",116:"f5",117:"f6",118:"f7",119:"f8",120:"f9",121:"f10",122:"f11",123:"f12"},arrAlign=[{v:"justifyleft"},{v:"justifycenter"},{v:"justifyright"},{v:"justifyfull"}],arrList=[{v:"insertOrderedList"},{v:"insertUnorderedList"}],htmlPastetext='<div><label for="xhePastetextValue">{#PastetextTip}<\/label><\/div><div><textarea id="xhePastetextValue" wrap="soft" spellcheck="false" style="width:300px;height:100px;" \/><\/div><div style="text-align:right;"><input type="button" id="xheSave" value="{#dialogOk}" \/><\/div>',htmlLink='<div><label for="xheLinkUrl">{#link.url}<\/label><input type="text" id="xheLinkUrl" value="http:\/\/" class="xheText" \/><\/div><div><label for="xheLinkTarget">{#link.target}<\/label><select id="xheLinkTarget"><option selected="selected" value="">{#default}<\/option><option value="_blank">{#link.targetBlank}<\/option><option value="_self">{#link.targetSelf}<\/option><option value="_parent">{#link.targetParent}<\/option><\/select><\/div><div style="display:none"><label for="xheLinkText">{#link.linkText}<\/label><input type="text" id="xheLinkText" value="" class="xheText" \/><\/div><div style="text-align:right;"><input type="button" id="xheSave" value="{#dialogOk}" \/><\/div>',htmlAnchor='<div><label for="xheAnchorName">{#anchor.name}<\/label><input type="text" id="xheAnchorName" value="" class="xheText" \/><\/div><div style="text-align:right;"><input type="button" id="xheSave" value="{#dialogOk}" \/><\/div>',htmlImg='<div><label for="xheImgUrl">{#img.url}<\/label><input type="text" id="xheImgUrl" value="http:\/\/" class="xheText" \/><\/div><div><div><label for="xheImgAlt">{#img.alt}<\/label><input type="text" id="xheImgAlt" \/><\/div><div><label for="xheImgAlign">{#img.align}<\/label><select id="xheImgAlign"><option selected="selected" value="">{#default}<\/option><option value="left">{#img.alignLeft}<\/option><option value="right">{#img.alignRight}<\/option><option value="top">{#img.alignTop}<\/option><option value="middle">{#img.alignMiddle}<\/option><option value="baseline">{#img.alignBaseline}<\/option><option value="bottom">{#img.alignBottom}<\/option><\/select><\/div><div><label for="xheImgWidth">{#img.width}<\/label><input type="text" id="xheImgWidth" style="width:40px;" \/> <label for="xheImgHeight">{#img.height}<\/label><input type="text" id="xheImgHeight" style="width:40px;" \/><\/div><div><label for="xheImgBorder">{#img.border}<\/label><input type="text" id="xheImgBorder" style="width:40px;" \/><\/div><div><label for="xheImgHspace">{#img.hspace}<\/label><input type="text" id="xheImgHspace" style="width:40px;" \/> <label for="xheImgVspace">{#img.vspace}<\/label><input type="text" id="xheImgVspace" style="width:40px;" \/><\/div><div style="text-align:right;"><input type="button" id="xheSave" value="{#dialogOk}" \/><\/div>',htmlFlash='<div><label for="xheFlashUrl">{#flash.url}<\/label><input type="text" id="xheFlashUrl" value="http:\/\/" class="xheText" \/><\/div><div><label for="xheFlashWidth">{#flash.width}<\/label><input type="text" id="xheFlashWidth" style="width:40px;" value="480" \/> <label for="xheFlashHeight">{#flash.height}<\/label><input type="text" id="xheFlashHeight" style="width:40px;" value="400" \/><\/div><div style="text-align:right;"><input type="button" id="xheSave" value="{#dialogOk}" \/><\/div>',htmlMedia='<div><label for="xheMediaUrl">{#media.url}<\/label><input type="text" id="xheMediaUrl" value="http:\/\/" class="xheText" \/><\/div><div><label for="xheMediaWidth">{#media.width}<\/label><input type="text" id="xheMediaWidth" style="width:40px;" value="480" \/> <label for="xheMediaHeight">{#media.height}<\/label><input type="text" id="xheMediaHeight" style="width:40px;" value="400" \/><\/div><div style="text-align:right;"><input type="button" id="xheSave" value="{#dialogOk}" \/><\/div>',htmlTable='<div><label for="xheTableRows">{#table.rows}<\/label><input type="text" id="xheTableRows" style="width:40px;" value="3" \/> <label for="xheTableColumns">{#table.columns}<\/label><input type="text" id="xheTableColumns" style="width:40px;" value="2" \/><\/div><div><label for="xheTableHeaders">{#table.headers}<\/label><select id="xheTableHeaders"><option selected="selected" value="">{#none}<\/option><option value="row">{#table.headersRow}<\/option><option value="col">{#table.headersCol}<\/option><option value="both">{#table.headersBoth}<\/option><\/select><\/div><div><label for="xheTableWidth">{#table.width}<\/label><input type="text" id="xheTableWidth" style="width:40px;" value="200" \/> <label for="xheTableHeight">{#table.height}<\/label><input type="text" id="xheTableHeight" style="width:40px;" value="" \/><\/div><div><label for="xheTableBorder">{#table.border}<\/label><input type="text" id="xheTableBorder" style="width:40px;" value="1" \/><\/div><div><label for="xheTableCellSpacing">{#table.cellSpacing}<\/label><input type="text" id="xheTableCellSpacing" style="width:40px;" value="1" \/> <label for="xheTableCellPadding">{#table.cellPadding}<\/label><input type="text" id="xheTableCellPadding" style="width:40px;" value="1" \/><\/div><div><label for="xheTableAlign">{#table.align}<\/label><select id="xheTableAlign"><option selected="selected" value="">{#default}<\/option><option value="left">{#table.alignLeft}<\/option><option value="center">{#table.alignCenter}<\/option><option value="right">{#table.alignRight}<\/option><\/select><\/div><div><label for="xheTableCaption">{#table.caption}<\/label><input type="text" id="xheTableCaption" \/><\/div><div style="text-align:right;"><input type="button" id="xheSave" value="{#dialogOk}" \/><\/div>',htmlAbout='<div style="font:12px Arial;width:245px;word-wrap:break-word;word-break:break-all;outline:none;" role="dialog" tabindex="-1"><p><span style="font-size:20px;color:#1997DF;">xhEditor<\/span><br \/>v1.2.1 (build 130225)<\/p><p>{#aboutXheditor}<\/p><p>Copyright &copy; <a href="http:\/\/xheditor.com\/" target="_blank">xhEditor.com<\/a>. All rights reserved.<\/p><\/div>',itemEmots={"default":{name:"{#default}",width:24,height:24,line:7,list:["smile","tongue","titter","laugh","sad","wronged","fastcry","cry","wail","mad","knock","curse","crazy","angry","ohmy","awkward","panic","shy","cute","envy","proud","struggle","quiet","shutup","doubt","despise","sleep","bye"]}},arrTools={Cut:{t:"Cut"},Copy:{t:"Copy"},Paste:{t:"Paste"},Pastetext:{t:"Pastetext",h:isIE?0:1},Blocktag:{t:"Blocktag",h:1},Fontface:{t:"Fontface",h:1},FontSize:{t:"FontSize",h:1},Bold:{t:"Bold",s:"Ctrl+B"},Italic:{t:"Italic",s:"Ctrl+I"},Underline:{t:"Underline",s:"Ctrl+U"},Strikethrough:{t:"Strikethrough"},FontColor:{t:"FontColor",h:1},BackColor:{t:"BackColor",h:1},SelectAll:{t:"SelectAll"},Removeformat:{t:"Removeformat"},Align:{t:"Align",h:1},List:{t:"List",h:1},Outdent:{t:"Outdent"},Indent:{t:"Indent"},Link:{t:"Link",s:"Ctrl+L",h:1},Unlink:{t:"Unlink"},Anchor:{t:"Anchor",h:1},Img:{t:"Img",h:1},Flash:{t:"Flash",h:1},Media:{t:"Media",h:1},Hr:{t:"Hr"},Emot:{t:"Emot",s:"ctrl+e",h:1},Table:{t:"Table",h:1},Source:{t:"Source"},Preview:{t:"Preview"},Print:{t:"Print",s:"Ctrl+P"},Fullscreen:{t:"Fullscreen",s:"Esc"},About:{t:"About"}},toolsThemes={mini:"Bold,Italic,Underline,Strikethrough,|,Align,List,|,Link,Img",simple:"Blocktag,Fontface,FontSize,Bold,Italic,Underline,Strikethrough,FontColor,BackColor,|,Align,List,Outdent,Indent,|,Link,Img,Emot",full:"Cut,Copy,Paste,Pastetext,|,Blocktag,Fontface,FontSize,Bold,Italic,Underline,Strikethrough,FontColor,BackColor,SelectAll,Removeformat,|,Align,List,Outdent,Indent,|,Link,Unlink,Anchor,Img,Flash,Media,Hr,Emot,Table,|,Source,Preview,Print,Fullscreen"};toolsThemes.mfull=toolsThemes.full.replace(\/\\|(,Align)\/i,"\/$1");var arrDbClick={a:"Link",img:"Img",embed:"Embed"},uploadInputname="filedata",arrEntities={"<":"&lt;",">":"&gt;",'"':"&quot;","\\u00ae":"&reg;","\\u00a9":"&copy;"},regEntities=\/[<>"\\u00ae\\u00a9]\/g,Xheditor=function(textarea,options){function checkDblClick(e){var t=e.target,i=arrDbClick[t.tagName.toLowerCase()];if(i){if("Embed"===i){var s={"application\/x-shockwave-flash":"Flash","application\/x-mplayer2":"Media"};i=s[t.type.toLowerCase()]}_this.exec(i)}}function checkEsc(e){return 27===e.which?(bShowModal?_this.removeModal():bShowPanel&&_this.hidePanel(),!1):undefined}function loadReset(){setTimeout(_this.setSource,10)}function saveResult(){_this.getSource()}function cleanPaste(e){var t,i,s;if(e&&(t=e.originalEvent.clipboardData)&&(i=t.items)&&(s=i[0])&&"file"==s.kind&&s.type.match(\/^image\\\/\/i)){var a=s.getAsFile(),n=new FileReader;return n.onload=function(){var e='<img src="'+event.target.result+'">';e=replaceRemoteImg(e),_this.pasteHTML(e)},n.readAsDataURL(a),!1}var o=settings.cleanPaste;if(0===o||bSource||bCleanPaste)return!0;bCleanPaste=!0,_this.saveBookmark();var l=isIE?"pre":"div",r=$("<"+l+' class="xhe-paste">\\ufeff\\ufeff<\/'+l+">",_doc).appendTo(_doc.body),h=r[0],c=_this.getSel(),d=_this.getRng(!0);r.css("top",_jWin.scrollTop()),isIE?(d.moveToElementText(h),d.select()):(d.selectNodeContents(h),c.removeAllRanges(),c.addRange(d)),setTimeout(function(){var e,t=3===o;if(t)r.html(r.html().replace(\/<br(\\s+[^<>]*)?>\/gi,"\\n")),e=r.text();else{var i=$(".xhe-paste",_doc.body),s=[];i.each(function(e,t){0==$(t).find(".xhe-paste").length&&s.push(t.innerHTML)}),e=s.join("<br \/>")}r.remove(),_this.loadBookmark(),e=e.replace(\/^[\\s\\uFEFF]+|[\\s\\uFEFF]+$\/g,""),e&&(t?_this.pasteText(e):(e=_this.cleanHTML(e),e=_this.cleanWord(e),e=_this.formatXHTML(e),(!settings.onPaste||settings.onPaste&&(e=settings.onPaste(e))!==!1)&&(e=replaceRemoteImg(e),_this.pasteHTML(e)))),bCleanPaste=!1},0)}function replaceRemoteImg(e){var t=settings.localUrlTest,i=settings.remoteImgSaveUrl;if(t&&i){var s=[],a=0;e=e.replace(\/(<img)((?:\\s+[^>]*?)?(?:\\s+src="\\s*([^"]+)\\s*")(?: [^>]*)?)(\\\/?>)\/gi,function(e,i,n,o,l){return!\/^(https?|data:image)\/i.test(o)||\/_xhe_temp\/.test(n)||t.test(o)||(s[a]=o,n=n.replace(\/\\s+(width|height)="[^"]*"\/gi,"").replace(\/\\s+src="[^"]*"\/gi,' src="'+skinPath+'img\/waiting.gif" remoteimg="'+a++ +'"')),i+n+l}),s.length>0&&$.post(i,{urls:s.join("|")},function(e){e=e.split("|"),$("img[remoteimg]",_this.doc).each(function(){var t=$(this);xheAttr(t,"src",e[t.attr("remoteimg")]),t.removeAttr("remoteimg")})})}return e}function setCSS(e){try{_this._exec("styleWithCSS",e,!0)}catch(t){try{_this._exec("useCSS",!e,!0)}catch(t){}}}function setOpts(){if(bInit&&!bSource){setCSS(!1);try{_this._exec("enableObjectResizing",!0,!0)}catch(e){}if(isIE)try{_this._exec("BackgroundImageCache",!0,!0)}catch(e){}}}function forcePtag(e){if(bSource||13!==e.which||e.shiftKey||e.ctrlKey||e.altKey)return!0;var t=_this.getParent("p,h1,h2,h3,h4,h5,h6,pre,address,div,li");return t.is("li")?!0:settings.forcePtag?(0===t.length&&_this._exec("formatblock","<p>"),undefined):(_this.pasteHTML("<br \/>"),isIE&&t.length>0&&2===_this.getRng().parentElement().childNodes.length&&_this.pasteHTML("<br \/>"),!1)}function fixFullHeight(){isMozilla||isWebkit||(bFullscreen&&_jArea.height("100%").css("height",_jArea.outerHeight()-_jTools.outerHeight()),isIE&&_jTools.hide().show())}function fixAppleSel(e){if(e=e.target,e.tagName.match(\/(img|embed)\/i)){var t=_this.getSel(),i=_this.getRng(!0);i.selectNode(e),t.removeAllRanges(),t.addRange(i)}}function xheAttr(e,t,i){if(!t)return!1;var s="_xhe_"+t;return i&&(urlType&&(i=getLocalUrl(i,urlType,urlBase)),e.attr(t,urlBase?getLocalUrl(i,"abs",urlBase):i).removeAttr(s).attr(s,i)),e.attr(s)||e.attr(t)}function clickCancelPanel(){bClickCancel&&_this.hidePanel()}function checkShortcuts(e){if(bSource)return!0;var t=e.which,i=specialKeys[t],s=i?i:String.fromCharCode(t).toLowerCase();sKey="",sKey+=e.ctrlKey?"ctrl+":"",sKey+=e.altKey?"alt+":"",sKey+=e.shiftKey?"shift+":"",sKey+=s;var a,n=arrShortCuts[sKey];for(a in n){if(a=n[a],!$.isFunction(a))return _this.exec(a),!1;if(a.call(_this)===!1)return!1}}function is(e,t){var i=typeof e;return t?"array"===t&&e.hasOwnProperty&&e instanceof Array?!0:i===t:"undefined"!=i}function getLocalUrl(e,t,i){if(e.match(\/^(\\w+):\\\/\\\/\/i)&&!e.match(\/^https?:\/i)||\/^#\/i.test(e)||\/^data:\/i.test(e))return e;var s=i?$('<a href="'+i+'" \/>')[0]:location,a=s.protocol,n=s.host,o=s.hostname,l=s.port,r=s.pathname.replace(\/\\\\\/g,"\/").replace(\/[^\\\/]+$\/i,"");if(""===l&&(l="80"),""===r?r="\/":"\/"!==r.charAt(0)&&(r="\/"+r),e=$.trim(e),"abs"!==t&&(e=e.replace(RegExp(a+"\\\\\/\\\\\/"+o.replace(\/\\.\/g,"\\\\.")+"(?::"+l+")"+("80"===l?"?":"")+"(\/|$)","i"),"\/")),"rel"===t&&(e=e.replace(RegExp("^"+r.replace(\/([\\\/\\.\\+\\[\\]\\(\\)])\/g,"\\\\$1"),"i"),"")),"rel"!==t&&(e.match(\/^(https?:\\\/\\\/|\\\/)\/i)||(e=r+e),"\/"===e.charAt(0))){var h,c,d=[],u=e.split("\/"),p=u.length;for(c=0;p>c;c++)h=u[c],".."===h?d.pop():""!==h&&"."!==h&&d.push(h);""===u[p-1]&&d.push(""),e="\/"+d.join("\/")}return"abs"!==t||e.match(\/^https?:\\\/\\\/\/i)||(e=a+"\/\/"+n+e),e=e.replace(\/(https?:\\\/\\\/[^:\\\/?#]+):80(\\\/|$)\/i,"$1$2")}function checkFileExt(e,t){return"*"===t||e.match(RegExp(".("+t.replace(\/,\/g,"|")+")$","i"))?!0:(alert(getLang("upload.extLimit",t)),!1)}function formatBytes(e){var t=["Byte","KB","MB","GB","TB","PB"],i=Math.floor(Math.log(e)\/Math.log(1024));return(e\/Math.pow(1024,Math.floor(i))).toFixed(2)+t[i]}function returnFalse(){return!1}var _this=this,_text=textarea,_jText=$(_text),_jForm=_jText.closest("form"),_jTools,_jArea,_win,_jWin,_doc,_jDoc,bookmark,bInit=!1,bSource=!1,bFullscreen=!1,bCleanPaste=!1,outerScroll,bShowBlocktag=!1,sLayoutStyle="",ev=null,timer,bDisableHoverExec=!1,bQuickHoverExec=!1,lastPoint=null,lastAngle=null,editorHeight=0,settings=_this.settings=$.extend({},XHEDITOR.settings,options),plugins=settings.plugins,strPlugins=[];if(plugins&&(arrTools=$.extend({},arrTools,plugins),$.each(plugins,function(e){strPlugins.push(e)}),strPlugins=strPlugins.join(",")),settings.tools.match(\/^\\s*(m?full|simple|mini)\\s*$\/i)){var toolsTheme=toolsThemes[$.trim(settings.tools)];settings.tools=settings.tools.match(\/m?full\/i)&&plugins?toolsTheme.replace("Table","Table,"+strPlugins):toolsTheme}settings.tools.match(\/(^|,)\\s*About\\s*(,|$)\/i)||(settings.tools+=",About"),settings.tools=settings.tools.split(","),settings.editorRoot&&(editorRoot=settings.editorRoot),bAir===!1&&(editorRoot=getLocalUrl(editorRoot,"abs")),settings.urlBase&&(settings.urlBase=getLocalUrl(settings.urlBase,"abs"));var idCSS="xheCSS_"+settings.skin,idContainer="xhe"+xCount+"_container",idTools="xhe"+xCount+"_Tool",idIframeArea="xhe"+xCount+"_iframearea",idIframe="xhe"+xCount+"_iframe",idFixFFCursor="xhe"+xCount+"_fixffcursor",headHTML="",bodyClass="",skinPath=editorRoot+"xheditor_skin\/"+settings.skin+"\/",arrEmots=itemEmots,urlType=settings.urlType,urlBase=settings.urlBase,emotPath=settings.emotPath,emotPath=emotPath?emotPath:editorRoot+"xheditor_emot\/",selEmotGroup="";arrEmots=$.extend({},arrEmots,settings.emots),emotPath=getLocalUrl(emotPath,"rel",urlBase?urlBase:null),bShowBlocktag=settings.showBlocktag,bShowBlocktag&&(bodyClass+=" showBlocktag");var arrShortCuts=[];this.init=function(){function e(e){var t,i=$(e.target);(t=i.css("width"))&&i.css("width","").attr("width",t.replace(\/[^0-9%]+\/g,"")),(t=i.css("height"))&&i.css("height","").attr("height",t.replace(\/[^0-9%]+\/g,""))}0===$("#"+idCSS).length&&$("head").append('<link id="'+idCSS+'" rel="stylesheet" type="text\/css" href="'+skinPath+'ui.css" \/>');var t=_jText.outerWidth(),i=_jText.outerHeight(),s=settings.width||_text.style.width||(t>10?t:0);editorHeight=settings.height||_text.style.height||(i>10?i:150),\/^\\d+(?:\\.\\d+)?$\/.test(s)&&(s+="px"),is(editorHeight,"string")&&(editorHeight=editorHeight.replace(\/[^\\d]+\/g,""));var a,n,o=settings.background||_text.style.background,l=['<span class="xheGStart"\/>'],r=\/\\||\\\/\/i;$.each(settings.tools,function(e,t){if(t.match(r)&&l.push('<span class="xheGEnd"\/>'),"|"===t)l.push('<span class="xheSeparator"\/>');else if("\/"===t)l.push("<br \/>");else{if(a=arrTools[t],!a)return;n=a.c?a.c:"xheIcon xheBtn"+t,l.push('<span><a href="#" title="{#'+a.t+'}" cmd="'+t+'" class="xheButton xheEnabled" tabindex="-1" role="button"><span class="'+n+'" unselectable="on" style="font-size:0;color:transparent;text-indent:-999px;">'+a.t+"<\/span><\/a><\/span>"),a.s&&_this.addShortcuts(a.s,t)}t.match(r)&&l.push('<span class="xheGStart"\/>')}),l.push('<span class="xheGEnd"\/><br \/>'),_jText.after($('<input type="text" id="'+idFixFFCursor+'" style="position:absolute;display:none;" \/><span id="'+idContainer+'" class="xhe_'+settings.skin+'" style="display:none"><table cellspacing="0" cellpadding="0" class="xheLayout" style="'+("0px"!=s?"width:"+s+";":"")+"height:"+editorHeight+'px;" role="presentation"><tr><td id="'+idTools+'" class="xheTool" unselectable="on" style="height:1px;" role="presentation"><\/td><\/tr><tr><td id="'+idIframeArea+'" class="xheIframeArea" role="presentation"><iframe frameborder="0" id="'+idIframe+'" src="javascript:;" style="width:100%;"><\/iframe><\/td><\/tr><\/table><\/span>')),_jTools=$("#"+idTools),_jArea=$("#"+idIframeArea),headHTML='<meta http-equiv="Content-Type" content="text\/html; charset=utf-8" \/><link rel="stylesheet" href="'+skinPath+'iframe.css"\/>';var h=settings.loadCSS;if(h)if(is(h,"array"))for(var c in h)headHTML+='<link rel="stylesheet" href="'+h[c]+'"\/>';else headHTML+=h.match(\/\\s*<style(\\s+[^>]*?)?>[\\s\\S]+?<\\\/style>\\s*\/i)?h:'<link rel="stylesheet" href="'+h+'"\/>';var d='<!DOCTYPE html><html xmlns="http:\/\/www.w3.org\/1999\/xhtml"><head>'+headHTML+"<title>{#defaultReadTip} "+(settings.readTip?settings.readTip:"")+"<\/title>";o&&(d+="<style>html{background:"+o+";}<\/style>"),d+='<\/head><body spellcheck="0" class="editMode'+bodyClass+'"><\/body><\/html>',_this.win=_win=$("#"+idIframe)[0].contentWindow,_jWin=$(_win);try{this.doc=_doc=_win.document,_jDoc=$(_doc),_doc.open(),_doc.write(getLang(d)),_doc.close(),isIE?_doc.body.contentEditable="true":_doc.designMode="On"}catch(u){}setTimeout(setOpts,300),_this.setSource(),_win.setInterval=null,_jTools.append(getLang(l.join(""))).bind("mousedown contextmenu",returnFalse).click(function(e){var t=$(e.target).closest("a");return t.is(".xheEnabled")&&(clearTimeout(timer),_jTools.find("a").attr("tabindex","-1"),ev=e,_this.exec(t.attr("cmd"))),!1}),_jTools.find(".xheButton").hover(function(e){var t=$(this),i=settings.hoverExecDelay,s=lastAngle;if(lastAngle=null,-1===i||bDisableHoverExec||!t.is(".xheEnabled"))return!1;if(s&&s>10)return bDisableHoverExec=!0,setTimeout(function(){bDisableHoverExec=!1},100),!1;var a=t.attr("cmd"),n=1===arrTools[a].h;return n?(bQuickHoverExec&&(i=0),i>=0&&(timer=setTimeout(function(){ev=e,lastPoint={x:ev.clientX,y:ev.clientY},_this.exec(a)},i)),undefined):(_this.hidePanel(),!1)},function(){lastPoint=null,timer&&clearTimeout(timer)}).mousemove(function(e){if(lastPoint){var t={x:e.clientX-lastPoint.x,y:e.clientY-lastPoint.y};if(Math.abs(t.x)>1||Math.abs(t.y)>1){if(t.x>0&&t.y>0){var i=Math.round(Math.atan(t.y\/t.x)\/.017453293);lastAngle=lastAngle?(lastAngle+i)\/2:i}else lastAngle=null;lastPoint={x:e.clientX,y:e.clientY}}}}),_jPanel=$("#xhePanel"),_jShadow=$("#xheShadow"),_jCntLine=$("#xheCntLine"),0===_jPanel.length&&(_jPanel=$('<div id="xhePanel"><\/div>').mousedown(function(e){e.stopPropagation()}),_jShadow=$('<div id="xheShadow"><\/div>'),_jCntLine=$('<div id="xheCntLine"><\/div>'),setTimeout(function(){$(document.body).append(_jPanel).append(_jShadow).append(_jCntLine)},10)),$("#"+idContainer).show(),_jText.hide(),_jArea.css("height",editorHeight-_jTools.outerHeight()),isIE&8>browerVer&&setTimeout(function(){_jArea.css("height",editorHeight-_jTools.outerHeight())},1),_jText.focus(_this.focus),_jForm.submit(saveResult).bind("reset",loadReset),settings.submitID&&$("#"+settings.submitID).mousedown(saveResult),$(window).bind("unload beforeunload",saveResult).bind("resize",fixFullHeight),$(document).mousedown(clickCancelPanel),bCheckEscInit||($(document).keydown(checkEsc),bCheckEscInit=!0),_jWin.focus(function(){settings.focus&&settings.focus()}).blur(function(){settings.blur&&settings.blur()}),isWebkit&&_jWin.click(fixAppleSel),_jDoc.mousedown(clickCancelPanel).keydown(checkShortcuts).keypress(forcePtag).dblclick(checkDblClick).bind("mousedown click",function(e){_jText.trigger(e.type)}),isIE&&(_jDoc.keydown(function(e){var t=_this.getRng();return 8===e.which&&t.item?($(t.item(0)).remove(),!1):undefined}),_jDoc.bind("controlselect",function(t){t=t.target,$.nodeName(t,"IMG")&&$(t).unbind("resizeend",e).bind("resizeend",e)})),_jDoc.keydown(function(e){var t=e.which;return e.altKey&&t>=49&&57>=t?(_jTools.find("a").attr("tabindex","0"),_jTools.find(".xheGStart").eq(t-49).next().find("a").focus(),_doc.title="\\ufeff\\ufeff",!1):undefined}).click(function(){_jTools.find("a").attr("tabindex","-1")}),_jTools.keydown(function(e){var t=e.which;if(27==t)_jTools.find("a").attr("tabindex","-1"),_this.focus();else if(e.altKey&&t>=49&&57>=t)return _jTools.find(".xheGStart").eq(t-49).next().find("a").focus(),!1});var p=$(_doc.documentElement);isOpera?p.bind("keydown",function(e){e.ctrlKey&&86===e.which&&cleanPaste()}):p.bind(isIE?"beforepaste":"paste",cleanPaste),settings.disableContextmenu&&p.bind("contextmenu",returnFalse),settings.html5Upload&&p.bind("dragenter dragover",function(e){var t;return(t=e.originalEvent.dataTransfer.types)&&-1!==$.inArray("Files",t)?!1:undefined}).bind("drop",function(e){function t(e){var t,i,s;for(a=0;e.length>a;a++){if(i=e[a].name.replace(\/.+\\.\/,""),!(t=o.match(RegExp("(\\\\w+):[^:]*,"+i+"(?:,|$)","i"))))return 1;if(s){if(s!==t[1])return 2}else s=t[1]}return s}var i,s=e.originalEvent.dataTransfer;if(s&&(i=s.files)&&i.length>0){var a,n,o,l=["Link","Img","Flash","Media"],r=[];for(a in l)n=l[a],settings["up"+n+"Url"]&&settings["up"+n+"Url"].match(\/^[^!].*\/i)&&r.push(n+":,"+settings["up"+n+"Ext"]);return 0===r.length?!1:(o=r.join(","),n=t(i),1===n?alert(getLang("upload.extLimit",o.replace(\/\\w+:,\/g,""))):2===n?alert(getLang("upload.typeLimit")):n&&_this.startUpload(i,settings["up"+n+"Url"],"*",function(e){var t,i=[],s=settings.onUpload;s&&s(e);for(var a=0,o=e.length;o>a;a++)t=e[a],url=is(t,"string")?t:t.url,"!"===url.substr(0,1)&&(url=url.substr(1)),i.push(url);_this.exec(n),$("#xhe"+n+"Url").val(i.join(" ")),$("#xheSave").click()}),!1)}});var g=settings.shortcuts;g&&$.each(g,function(e,t){_this.addShortcuts(e,t)}),xCount++,bInit=!0,settings.fullscreen?_this.toggleFullscreen():settings.sourceMode&&setTimeout(_this.toggleSource,20);var f=settings.plugins;return f&&$.each(f,function(e,t){var i=t.i;i!==undefined&&i(_this)}),!0},this.remove=function(){_this.hidePanel(),saveResult(),_jText.unbind("focus",_this.focus),_jForm.unbind("submit",saveResult).unbind("reset",loadReset),settings.submitID&&$("#"+settings.submitID).unbind("mousedown",saveResult),$(window).unbind("unload beforeunload",saveResult).unbind("resize",fixFullHeight),$(document).unbind("mousedown",clickCancelPanel),$("#"+idContainer).remove(),$("#"+idFixFFCursor).remove(),_jText.show(),bInit=!1},this.saveBookmark=function(){if(!bSource){_this.focus();var e=_this.getRng();e=e.cloneRange?e.cloneRange():e,bookmark={top:_jWin.scrollTop(),rng:e}}},this.loadBookmark=function(){if(!bSource&&bookmark){_this.focus();var e=bookmark.rng;if(isIE)e.select();else{var t=_this.getSel();t.removeAllRanges(),t.addRange(e)}_jWin.scrollTop(bookmark.top),bookmark=null}},this.focus=function(){if(bSource?$("#sourceCode",_doc).focus():_win.focus(),isIE){var e=_this.getRng();e.parentElement&&e.parentElement().ownerDocument!==_doc&&_this.setTextCursor()}return!1},this.setTextCursor=function(e){var t=_this.getRng(!0),i=_doc.body;if(isIE)t.moveToElementText(i);else{for(var s=e?"lastChild":"firstChild";3!=i.nodeType&&i[s];)i=i[s];t.selectNode(i)}if(t.collapse(e?!1:!0),isIE)t.select();else{var a=_this.getSel();a.removeAllRanges(),a.addRange(t)}},this.getSel=function(){return _doc.selection?_doc.selection:_win.getSelection()},this.getRng=function(e){var t,i;try{e||(t=_this.getSel(),i=t.createRange?t.createRange():t.rangeCount>0?t.getRangeAt(0):null),i||(i=_doc.body.createTextRange?_doc.body.createTextRange():_doc.createRange())}catch(s){}return i},this.getParent=function(e){var t,i=_this.getRng();return isIE?t=i.item?i.item(0):i.parentElement():(t=i.commonAncestorContainer,i.collapsed||i.startContainer===i.endContainer&&2>i.startOffset-i.endOffset&&i.startContainer.hasChildNodes()&&(t=i.startContainer.childNodes[i.startOffset])),e=e?e:"*",t=$(t),t.is(e)||(t=$(t).closest(e)),t},this.getSelect=function(e){var t=_this.getSel(),i=_this.getRng(),s=!0;if(s=!i||i.item?!1:!t||0===i.boundingWidth||i.collapsed,"text"===e)return s?"":i.text||(t.toString?""+t:"");var a;if(i.cloneContents){var n,o=$("<div><\/div>");n=i.cloneContents(),n&&o.append(n),a=o.html()}else a=is(i.item)?i.item(0).outerHTML:is(i.htmlText)?i.htmlText:""+i;return s&&(a=""),a=_this.processHTML(a,"read"),a=_this.cleanHTML(a),a=_this.formatXHTML(a)},this.pasteHTML=function(e,t){if(bSource)return!1;_this.focus(),e=_this.processHTML(e,"write");var i=_this.getSel(),s=_this.getRng();if(t!==undefined){if(s.item){var a=s.item(0);s=_this.getRng(!0),s.moveToElementText(a),s.select()}s.collapse(t)}if(e+="<"+(isIE?"img":"span")+' id="_xhe_temp" width="0" height="0" \/>',s.insertNode){if($(s.startContainer).closest("style,script").length>0)return!1;s.deleteContents(),s.insertNode(s.createContextualFragment(e))}else"control"===i.type.toLowerCase()&&(i.clear(),s=_this.getRng()),s.pasteHTML(e);var n=$("#_xhe_temp",_doc),o=n[0];isIE?(s.moveToElementText(o),s.select()):(s.selectNode(o),i.removeAllRanges(),i.addRange(s)),n.remove()},this.pasteText=function(e,t){e||(e=""),e=_this.domEncode(e),e=e.replace(\/\\r?\\n\/g,"<br \/>"),_this.pasteHTML(e,t)},this.appendHTML=function(e){return bSource?!1:(_this.focus(),e=_this.processHTML(e,"write"),$(_doc.body).append(e),_this.setTextCursor(!0),undefined)},this.domEncode=function(e){return e.replace(regEntities,function(e){return arrEntities[e]})},this.setSource=function(e){bookmark=null,"string"!=typeof e&&""!==e&&(e=_text.value),bSource?$("#sourceCode",_doc).val(e):(settings.beforeSetSource&&(e=settings.beforeSetSource(e)),e=_this.cleanHTML(e),e=_this.formatXHTML(e),e=_this.processHTML(e,"write"),isIE?(_doc.body.innerHTML='<img id="_xhe_temp" width="0" height="0" \/>'+e,$("#_xhe_temp",_doc).remove()):_doc.body.innerHTML=e)},this.processHTML=function(e,t){function i(e,t,i,s,a,o){var l,r,h,c,d="";if(l=s.match(\/font-family\\s*:\\s*([^;"]+)\/i),l&&(d+=' face="'+l[1]+'"'),r=s.match(\/font-size\\s*:\\s*([^;"]+)\/i)){r=r[1].toLowerCase();for(var u=0;n.length>u;u++)if(r===n[u].n||r===n[u].s){h=u+1;break}h&&(d+=' size="'+h+'"',s=s.replace(\/(^|;)(\\s*font-size\\s*:\\s*[^;"]+;?)+\/gi,"$1"))}if(c=s.match(\/(?:^|[\\s;])color\\s*:\\s*([^;"]+)\/i)){var p;if(p=c[1].match(\/\\s*rgb\\s*\\(\\s*(\\d+)\\s*,\\s*(\\d+)\\s*,\\s*(\\d+)\\s*\\)\/i)){c[1]="#";for(var g=1;3>=g;g++)c[1]+=("0"+(p[g]-0).toString(16)).slice(-2)}c[1]=c[1].replace(\/^#([0-9a-f])([0-9a-f])([0-9a-f])$\/i,"#$1$1$2$2$3$3"),d+=' color="'+c[1]+'"'}return s=s.replace(\/(^|;)(\\s*(font-family|color)\\s*:\\s*[^;"]+;?)+\/gi,"$1"),""!==d?(s&&(d+=' style="'+s+'"'),"<font"+(i?i:"")+d+(a?a:"")+">"+o+"<\/font>"):e}function s(e,t,i,s,a){for(var n,l,r=(i?i:"")+(s?s:""),h=[],c=[],d=0;o.length>d;d++)n=o[d].r,l=o[d].t,r=r.replace(n,function(){return h.push("<"+l+">"),c.push("<\/"+l+">"),""});return r=r.replace(\/\\s+style\\s*=\\s*"\\s*"\/i,""),(r?"<span"+r+">":"")+h.join("")+a+c.join("")+(r?"<\/span>":"")}var a=' class="Apple-style-span"',n=settings.listFontsize;if("write"===t)e=e.replace(\/(<(\\\/?)(\\w+))((?:\\s+[\\w\\-:]+\\s*=\\s*(?:"[^"]*"|'[^']*'|[^>\\s]+))*)\\s*((\\\/?)>)\/g,function(e,t,i,s,n,o,l){s=s.toLowerCase(),isMozilla?"strong"===s?s="b":"em"===s&&(s="i"):isWebkit&&("strong"===s?(s="span",i||(n+=a+' style="font-weight: bold;"')):"em"===s?(s="span",i||(n+=a+' style="font-style: italic;"')):"u"===s?(s="span",i||(n+=a+' style="text-decoration: underline;"')):"strike"===s&&(s="span",i||(n+=a+' style="text-decoration: line-through;"')));var r,h="";if("del"===s)s="strike";else if("img"===s)n=n.replace(\/\\s+emot\\s*=\\s*("[^"]*"|'[^']*'|[^>\\s]+)\/i,function(e,t){return r=t.match(\/^(["']?)(.*)\\1\/)[2],r=r.split(","),r[1]||(r[1]=r[0],r[0]=""),"default"===r[0]&&(r[0]=""),settings.emotMark?e:""});else if("a"===s)!n.match(\/ href=[^ ]\/i)&&n.match(\/ name=[^ ]\/i)&&(h+=" xhe-anchor"),l&&(o="><\/a>");else if("table"===s&&!i){var c=n.match(\/\\s+border\\s*=\\s*("[^"]*"|'[^']*'|[^>\\s]+)\/i);(!c||c[1].match(\/^(["']?)\\s*0\\s*\\1$\/))&&(h+=" xhe-border")}var d;if(n=n.replace(\/\\s+([\\w\\-:]+)\\s*=\\s*("[^"]*"|'[^']*'|[^>\\s]+)\/g,function(e,t,i){return t=t.toLowerCase(),i=i.match(\/^(["']?)(.*)\\1\/)[2],aft="",isIE&&t.match(\/^(disabled|checked|readonly|selected)$\/)&&i.match(\/^(false|0)$\/i)?"":"img"===s&&r&&"src"===t?"":(t.match(\/^(src|href)$\/)&&(aft=" _xhe_"+t+'="'+i+'"',urlBase&&(i=getLocalUrl(i,"abs",urlBase))),h&&"class"===t&&(i+=" "+h,h=""),isWebkit&&"style"===t&&"span"===s&&i.match(\/(^|;)\\s*(font-family|font-size|color|background-color)\\s*:\\s*[^;]+\\s*(;|$)\/i)&&(d=!0)," "+t+'="'+i+'"'+aft)}),r){var u=emotPath+(r[0]?r[0]:"default")+"\/"+r[1]+".gif";n+=' src="'+u+'" _xhe_src="'+u+'"'}return d&&(n+=a),h&&(n+=' class="'+h+'"'),"<"+i+s+n+o}),isIE&&(e=e.replace(\/&apos;\/gi,"&#39;")),isWebkit||(e=e.replace(\/<(span)(\\s+[^>]*?)?\\s+style\\s*=\\s*"((?:[^"]*?;)?\\s*(?:font-family|font-size|color)\\s*:[^"]*)"( [^>]*)?>(((?!<\\1(\\s+[^>]*?)?>)[\\s\\S]|<\\1(\\s+[^>]*?)?>((?!<\\1(\\s+[^>]*?)?>)[\\s\\S]|<\\1(\\s+[^>]*?)?>((?!<\\1(\\s+[^>]*?)?>)[\\s\\S])*?<\\\/\\1>)*?<\\\/\\1>)*?)<\\\/\\1>\/gi,i),e=e.replace(\/<(span)(\\s+[^>]*?)?\\s+style\\s*=\\s*"((?:[^"]*?;)?\\s*(?:font-family|font-size|color)\\s*:[^"]*)"( [^>]*)?>(((?!<\\1(\\s+[^>]*?)?>)[\\s\\S]|<\\1(\\s+[^>]*?)?>((?!<\\1(\\s+[^>]*?)?>)[\\s\\S])*?<\\\/\\1>)*?)<\\\/\\1>\/gi,i),e=e.replace(\/<(span)(\\s+[^>]*?)?\\s+style\\s*=\\s*"((?:[^"]*?;)?\\s*(?:font-family|font-size|color)\\s*:[^"]*)"( [^>]*)?>(((?!<\\1(\\s+[^>]*?)?>)[\\s\\S])*?)<\\\/\\1>\/gi,i)),e=e.replace(\/<(td|th)(\\s+[^>]*?)?>(\\s|&nbsp;)*<\\\/\\1>\/gi,"<$1$2>"+(isIE?"":"<br \/>")+"<\/$1>");else{if(isWebkit)for(var o=[{r:\/font-weight\\s*:\\s*bold;?\/gi,t:"strong"},{r:\/font-style\\s*:\\s*italic;?\/gi,t:"em"},{r:\/text-decoration\\s*:\\s*underline;?\/gi,t:"u"},{r:\/text-decoration\\s*:\\s*line-through;?\/gi,t:"strike"}],l=0;2>l;l++)e=e.replace(\/<(span)(\\s+[^>]*?)?\\s+class\\s*=\\s*"Apple-style-span"(\\s+[^>]*?)?>(((?!<\\1(\\s+[^>]*?)?>)[\\s\\S]|<\\1(\\s+[^>]*?)?>((?!<\\1(\\s+[^>]*?)?>)[\\s\\S]|<\\1(\\s+[^>]*?)?>((?!<\\1(\\s+[^>]*?)?>)[\\s\\S])*?<\\\/\\1>)*?<\\\/\\1>)*?)<\\\/\\1>\/gi,s),e=e.replace(\/<(span)(\\s+[^>]*?)?\\s+class\\s*=\\s*"Apple-style-span"(\\s+[^>]*?)?>(((?!<\\1(\\s+[^>]*?)?>)[\\s\\S]|<\\1(\\s+[^>]*?)?>((?!<\\1(\\s+[^>]*?)?>)[\\s\\S])*?<\\\/\\1>)*?)<\\\/\\1>\/gi,s),e=e.replace(\/<(span)(\\s+[^>]*?)?\\s+class\\s*=\\s*"Apple-style-span"(\\s+[^>]*?)?>(((?!<\\1(\\s+[^>]*?)?>)[\\s\\S])*?)<\\\/\\1>\/gi,s);e=e.replace(\/(<(\\w+))((?:\\s+[\\w\\-:]+\\s*=\\s*(?:"[^"]*"|'[^']*'|[^>\\s]+))*)\\s*(\\\/?>)\/g,function(e,t,i,s,a){i=i.toLowerCase();$/;"	f
fixHeight	js/xheditor_plugins/multiupload/multiupload.html	/^function fixHeight(){$('#listArea').css('height',(document.body.clientHeight-56)+'px');}$/;"	f
flag	application/controllers/bg/home.php	/^                $flag = $this->user->insertExtro($data,$this->user_id);$/;"	v
flag	application/controllers/bg/home.php	/^                $flag = $this->user->insertExtro($data,$userId);$/;"	v
flag	application/controllers/message.php	/^				$flag = 0;$/;"	v
flag	application/controllers/message.php	/^			$flag = 1;$/;"	v
flag	application/controllers/message.php	/^		$flag = 0;$/;"	v
flag	application/controllers/message.php	/^		$flag = 1;$/;"	v
flag	application/controllers/order.php	/^                $flag = $this->morder->setOrder($data["addr"],$id,$info,$value);$/;"	v
flag	application/controllers/order.php	/^            $flag = $client->printtxt($selInfo["dtuNum"] ,$text ,120 ,"\\x1B\\x76");\/\/dtu编号，内容，重新发送打印的时间间隔，和查询代码，检查是否有纸$/;"	v
flag	application/controllers/order.php	/^            $flag = $this->printInform($text ,$temp["seller"]);\/\/这里首先进行打印，之后尝试短信$/;"	v
flag	application/controllers/order.php	/^        $flag = $this->morder->setFive($orderId,$this->user_id,$this->afDel);$/;"	v
flag	application/controllers/order.php	/^        $flag = $this->sms->send("test",$phone);$/;"	v
flag	application/controllers/reg.php	/^            $flag = 1;$/;"	v
flag	application/controllers/reg.php	/^        $flag = 0;$/;"	v
flag	application/controllers/sea.php	/^                $flag = 1;$/;"	v
flag	application/controllers/sea.php	/^        $flag = 0;$/;"	v
flag	application/controllers/spacePhoto.php	/^		$flag = $this->imgcomment->insert($imgId,$content,$this->user_id);$/;"	v
flag	application/controllers/spacePhoto.php	/^		$flag = $this->judgeData($imgId);$/;"	v
flag	application/controllers/write.php	/^        $flag = $this->art->reAdd($insert,$artId);$/;"	v
flag	application/models/art.php	/^            $flag = $flag->result_array();$/;"	v
flag	application/models/art.php	/^            $flag = $this->db->query("select last_insert_id()");$/;"	v
flag	application/models/art.php	/^        $flag = $this->db->query("insert into art(title,content,part_id,time,author_id,value,price,img,keyword) values('$data[tit]','$data[cont]','$data[part]',now(),'$userId','$data[value]','$data[price]','$data[file_name]','$data[keys]')");$/;"	v
flag	application/models/user.php	/^                $flag = 1;$/;"	v
flag	application/models/user.php	/^        $flag = 0;$/;"	v
flag	application/views/userSpace.php	/^        $flag = strpos($work,"外卖");$/;"	v
flag	system/core/Input.php	/^					$flag = '';$/;"	v
flag	system/core/Input.php	/^					$flag = FILTER_FLAG_IPV4;$/;"	v
flag	system/core/Input.php	/^					$flag = FILTER_FLAG_IPV6;$/;"	v
flashdata	system/libraries/Session.php	/^	function flashdata($key)$/;"	f
flashdata_key	system/libraries/Session.php	/^				$flashdata_key = $this->flashdata_key.':new:'.$key;$/;"	v
flashdata_key	system/libraries/Session.php	/^		$flashdata_key = $this->flashdata_key.':old:'.$key;$/;"	v
flashdata_key	system/libraries/Session.php	/^	var $flashdata_key				= 'flash';$/;"	v
flexslider	js/flexslider-min.js	/^(function(d){d.flexslider=function(j,l){var a=d(j),c=d.extend({},d.flexslider.defaults,l),e=c.namespace,q="ontouchstart"in window||window.DocumentTouch&&document instanceof DocumentTouch,u=q?"touchend":"click",m="vertical"===c.direction,n=c.reverse,h=0<c.itemWidth,s="fade"===c.animation,t=""!==c.asNavFor,f={};d.data(j,"flexslider",a);f={init:function(){a.animating=!1;a.currentSlide=c.startAt;a.animatingTo=a.currentSlide;a.atEnd=0===a.currentSlide||a.currentSlide===a.last;a.containerSelector=c.selector.substr(0,$/;"	f
float	system/libraries/Email.php	/^				$float = $float + $this->bcc_batch_size;$/;"	v
float	system/libraries/Email.php	/^		$float = $this->bcc_batch_size -1;$/;"	v
flush_cache	system/database/DB_active_rec.php	/^	public function flush_cache()$/;"	f
fn.column	js/complete.js	/^(function($) {$/;"	c
fnc	system/libraries/Xmlrpc.php	/^			$fnc = ($utc == 1) ? 'gmmktime' : 'mktime';$/;"	v
focus	system/libraries/Javascript.php	/^	function focus($element = 'this', $js = '')$/;"	f
font	application/controllers/checkcode.php	/^		$font = "font\/".$this->font[rand(0,count($this->font)-1)];\/\/随机字体$/;"	v
font	application/controllers/checkcode.php	/^		$this->font = array($/;"	v
font	application/controllers/checkcode.php	/^   private $font;$/;"	v
font	application/controllers/checkcode.php	/^\/\/注意：第50行  $this->font = "font\/arial.ttf";    需要 指定一个 字体$/;"	v
font_color	application/controllers/checkcode.php	/^				$this->font_color = imagecolorallocate($this->img, rand(0,356), rand(0,356), rand(0,356));$/;"	v
font_color	application/controllers/checkcode.php	/^			$this->font_color = imagecolorallocate($this->img, rand(0,156), rand(0,156), rand(0,156));$/;"	v
font_color	application/controllers/checkcode.php	/^           $this->font_color = imagecolorallocate($this->img, hexdec(substr($this->font_color, 1,2)), hexdec(substr($this->font_color, 3,2)), hexdec(substr($this->font_color, 5,2)));$/;"	v
font_color	application/controllers/checkcode.php	/^           $this->font_color = imagecolorallocate($this->img, rand(0,156), rand(0,156), rand(0,156));$/;"	v
font_color	application/controllers/checkcode.php	/^   public $font_color;$/;"	v
font_size	application/controllers/checkcode.php	/^   public $font_size = 20;$/;"	v
font_size	system/helpers/captcha_helper.php	/^			$font_size	= 16;$/;"	v
font_size	system/helpers/captcha_helper.php	/^			$font_size = 5;$/;"	v
fontheight	system/libraries/Image_lib.php	/^			$fontheight = $this->wm_font_size;$/;"	v
fontheight	system/libraries/Image_lib.php	/^			$fontheight = imagefontheight($this->wm_font_size);$/;"	v
fontwidth	system/libraries/Image_lib.php	/^			$fontwidth  = $this->wm_font_size-($this->wm_font_size\/4);$/;"	v
fontwidth	system/libraries/Image_lib.php	/^			$fontwidth  = imagefontwidth($this->wm_font_size);$/;"	v
for	system/core/CodeIgniter.php	/^ * Load the security class for xss and csrf support$/;"	c
for	system/core/Security.php	/^	 * A utility function for xss_clean()$/;"	f
for	system/core/Security.php	/^	 * Callback function for xss_clean() to remove naughty HTML elements$/;"	f
for	system/core/Security.php	/^	 * Callback function for xss_clean() to remove whitespace from$/;"	f
for	system/core/Security.php	/^	 * Callback function for xss_clean() to sanitize image tags$/;"	f
for	system/core/Security.php	/^	 * Callback function for xss_clean() to sanitize links$/;"	f
for	system/database/DB_driver.php	/^ * class for the specific database will extend and instantiate it.$/;"	c
for	system/database/DB_result.php	/^	 * Query result.  Acts as a wrapper function for the following functions.$/;"	f
for	system/database/DB_result.php	/^ * class for the specific database will extend and instantiate it.$/;"	c
for	system/helpers/form_helper.php	/^ * function for the form validation class.$/;"	f
forbid	js/mBgItemAdd.js	/^function forbid() {$/;"	f
force	system/helpers/inflector_helper.php	/^	function plural($str, $force = FALSE)$/;"	v
forcePtag	js/xheditor.min.js	/^(function(){var e={};window.XHEDITOR=e})(),function(e,t){e.mapLang={},e.setLang=function(i,s){s===t&&(s=i,i=""),""!==i&&(i+=".");var a,n;for(var o in s)n=s[o],a=i+o,"string"==typeof n||n instanceof Array?e.mapLang[a]=n:e.setLang(a,n)},e.getLang=function(i){var s=e.mapLang[i];if(s===t&&(s=i.replace(\/{#([^{}]+)}\/g,function(t,i){var s=e.mapLang[i];return s?s:i})),"string"==typeof s){var a=arguments;s=s.replace(\/{\\$(\\d+)}\/g,function(e,i){var s=a[parseInt(i,10)+1];return s!==t?s:e})}return s}}(XHEDITOR),function(XHEDITOR,$,undefined){var agent=navigator.userAgent.toLowerCase(),bMobile=\/mobile\/i.test(agent),browser=$.browser,browerVer=parseFloat(browser.version),isIE=browser.msie,isMozilla=browser.mozilla,isWebkit=browser.webkit,isOpera=browser.opera,isChrome=browser.chrome,bAir=agent.indexOf(" adobeair\/")>-1,xCount=0,bShowPanel=!1,bClickCancel=!0,bShowModal=!1,bCheckEscInit=!1,_jPanel,_jShadow,_jCntLine,_jPanelButton,jModal,jModalShadow,layerShadow,jOverlay,jHideSelect,onModalRemove,editorRoot,getLang=XHEDITOR.getLang;if($("script[src*=xheditor]").each(function(){var e=this.src;return e.match(\/xheditor[^\\\/]*\\.js\/i)?(editorRoot=e.replace(\/[\\?#].*$\/,"").replace(\/(^|[\\\/\\\\])[^\\\/]*$\/,"$1"),!1):undefined}),isIE){try{document.execCommand("BackgroundImageCache",!1,!0)}catch(e){}var jqueryVer=$.fn.jquery;jqueryVer&&jqueryVer.match(\/^1\\.[67]\/)&&($.attrHooks.width=$.attrHooks.height=null)}var specialKeys={27:"esc",9:"tab",32:"space",13:"enter",8:"backspace",145:"scroll",20:"capslock",144:"numlock",19:"pause",45:"insert",36:"home",46:"del",35:"end",33:"pageup",34:"pagedown",37:"left",38:"up",39:"right",40:"down",112:"f1",113:"f2",114:"f3",115:"f4",116:"f5",117:"f6",118:"f7",119:"f8",120:"f9",121:"f10",122:"f11",123:"f12"},arrAlign=[{v:"justifyleft"},{v:"justifycenter"},{v:"justifyright"},{v:"justifyfull"}],arrList=[{v:"insertOrderedList"},{v:"insertUnorderedList"}],htmlPastetext='<div><label for="xhePastetextValue">{#PastetextTip}<\/label><\/div><div><textarea id="xhePastetextValue" wrap="soft" spellcheck="false" style="width:300px;height:100px;" \/><\/div><div style="text-align:right;"><input type="button" id="xheSave" value="{#dialogOk}" \/><\/div>',htmlLink='<div><label for="xheLinkUrl">{#link.url}<\/label><input type="text" id="xheLinkUrl" value="http:\/\/" class="xheText" \/><\/div><div><label for="xheLinkTarget">{#link.target}<\/label><select id="xheLinkTarget"><option selected="selected" value="">{#default}<\/option><option value="_blank">{#link.targetBlank}<\/option><option value="_self">{#link.targetSelf}<\/option><option value="_parent">{#link.targetParent}<\/option><\/select><\/div><div style="display:none"><label for="xheLinkText">{#link.linkText}<\/label><input type="text" id="xheLinkText" value="" class="xheText" \/><\/div><div style="text-align:right;"><input type="button" id="xheSave" value="{#dialogOk}" \/><\/div>',htmlAnchor='<div><label for="xheAnchorName">{#anchor.name}<\/label><input type="text" id="xheAnchorName" value="" class="xheText" \/><\/div><div style="text-align:right;"><input type="button" id="xheSave" value="{#dialogOk}" \/><\/div>',htmlImg='<div><label for="xheImgUrl">{#img.url}<\/label><input type="text" id="xheImgUrl" value="http:\/\/" class="xheText" \/><\/div><div><div><label for="xheImgAlt">{#img.alt}<\/label><input type="text" id="xheImgAlt" \/><\/div><div><label for="xheImgAlign">{#img.align}<\/label><select id="xheImgAlign"><option selected="selected" value="">{#default}<\/option><option value="left">{#img.alignLeft}<\/option><option value="right">{#img.alignRight}<\/option><option value="top">{#img.alignTop}<\/option><option value="middle">{#img.alignMiddle}<\/option><option value="baseline">{#img.alignBaseline}<\/option><option value="bottom">{#img.alignBottom}<\/option><\/select><\/div><div><label for="xheImgWidth">{#img.width}<\/label><input type="text" id="xheImgWidth" style="width:40px;" \/> <label for="xheImgHeight">{#img.height}<\/label><input type="text" id="xheImgHeight" style="width:40px;" \/><\/div><div><label for="xheImgBorder">{#img.border}<\/label><input type="text" id="xheImgBorder" style="width:40px;" \/><\/div><div><label for="xheImgHspace">{#img.hspace}<\/label><input type="text" id="xheImgHspace" style="width:40px;" \/> <label for="xheImgVspace">{#img.vspace}<\/label><input type="text" id="xheImgVspace" style="width:40px;" \/><\/div><div style="text-align:right;"><input type="button" id="xheSave" value="{#dialogOk}" \/><\/div>',htmlFlash='<div><label for="xheFlashUrl">{#flash.url}<\/label><input type="text" id="xheFlashUrl" value="http:\/\/" class="xheText" \/><\/div><div><label for="xheFlashWidth">{#flash.width}<\/label><input type="text" id="xheFlashWidth" style="width:40px;" value="480" \/> <label for="xheFlashHeight">{#flash.height}<\/label><input type="text" id="xheFlashHeight" style="width:40px;" value="400" \/><\/div><div style="text-align:right;"><input type="button" id="xheSave" value="{#dialogOk}" \/><\/div>',htmlMedia='<div><label for="xheMediaUrl">{#media.url}<\/label><input type="text" id="xheMediaUrl" value="http:\/\/" class="xheText" \/><\/div><div><label for="xheMediaWidth">{#media.width}<\/label><input type="text" id="xheMediaWidth" style="width:40px;" value="480" \/> <label for="xheMediaHeight">{#media.height}<\/label><input type="text" id="xheMediaHeight" style="width:40px;" value="400" \/><\/div><div style="text-align:right;"><input type="button" id="xheSave" value="{#dialogOk}" \/><\/div>',htmlTable='<div><label for="xheTableRows">{#table.rows}<\/label><input type="text" id="xheTableRows" style="width:40px;" value="3" \/> <label for="xheTableColumns">{#table.columns}<\/label><input type="text" id="xheTableColumns" style="width:40px;" value="2" \/><\/div><div><label for="xheTableHeaders">{#table.headers}<\/label><select id="xheTableHeaders"><option selected="selected" value="">{#none}<\/option><option value="row">{#table.headersRow}<\/option><option value="col">{#table.headersCol}<\/option><option value="both">{#table.headersBoth}<\/option><\/select><\/div><div><label for="xheTableWidth">{#table.width}<\/label><input type="text" id="xheTableWidth" style="width:40px;" value="200" \/> <label for="xheTableHeight">{#table.height}<\/label><input type="text" id="xheTableHeight" style="width:40px;" value="" \/><\/div><div><label for="xheTableBorder">{#table.border}<\/label><input type="text" id="xheTableBorder" style="width:40px;" value="1" \/><\/div><div><label for="xheTableCellSpacing">{#table.cellSpacing}<\/label><input type="text" id="xheTableCellSpacing" style="width:40px;" value="1" \/> <label for="xheTableCellPadding">{#table.cellPadding}<\/label><input type="text" id="xheTableCellPadding" style="width:40px;" value="1" \/><\/div><div><label for="xheTableAlign">{#table.align}<\/label><select id="xheTableAlign"><option selected="selected" value="">{#default}<\/option><option value="left">{#table.alignLeft}<\/option><option value="center">{#table.alignCenter}<\/option><option value="right">{#table.alignRight}<\/option><\/select><\/div><div><label for="xheTableCaption">{#table.caption}<\/label><input type="text" id="xheTableCaption" \/><\/div><div style="text-align:right;"><input type="button" id="xheSave" value="{#dialogOk}" \/><\/div>',htmlAbout='<div style="font:12px Arial;width:245px;word-wrap:break-word;word-break:break-all;outline:none;" role="dialog" tabindex="-1"><p><span style="font-size:20px;color:#1997DF;">xhEditor<\/span><br \/>v1.2.1 (build 130225)<\/p><p>{#aboutXheditor}<\/p><p>Copyright &copy; <a href="http:\/\/xheditor.com\/" target="_blank">xhEditor.com<\/a>. All rights reserved.<\/p><\/div>',itemEmots={"default":{name:"{#default}",width:24,height:24,line:7,list:["smile","tongue","titter","laugh","sad","wronged","fastcry","cry","wail","mad","knock","curse","crazy","angry","ohmy","awkward","panic","shy","cute","envy","proud","struggle","quiet","shutup","doubt","despise","sleep","bye"]}},arrTools={Cut:{t:"Cut"},Copy:{t:"Copy"},Paste:{t:"Paste"},Pastetext:{t:"Pastetext",h:isIE?0:1},Blocktag:{t:"Blocktag",h:1},Fontface:{t:"Fontface",h:1},FontSize:{t:"FontSize",h:1},Bold:{t:"Bold",s:"Ctrl+B"},Italic:{t:"Italic",s:"Ctrl+I"},Underline:{t:"Underline",s:"Ctrl+U"},Strikethrough:{t:"Strikethrough"},FontColor:{t:"FontColor",h:1},BackColor:{t:"BackColor",h:1},SelectAll:{t:"SelectAll"},Removeformat:{t:"Removeformat"},Align:{t:"Align",h:1},List:{t:"List",h:1},Outdent:{t:"Outdent"},Indent:{t:"Indent"},Link:{t:"Link",s:"Ctrl+L",h:1},Unlink:{t:"Unlink"},Anchor:{t:"Anchor",h:1},Img:{t:"Img",h:1},Flash:{t:"Flash",h:1},Media:{t:"Media",h:1},Hr:{t:"Hr"},Emot:{t:"Emot",s:"ctrl+e",h:1},Table:{t:"Table",h:1},Source:{t:"Source"},Preview:{t:"Preview"},Print:{t:"Print",s:"Ctrl+P"},Fullscreen:{t:"Fullscreen",s:"Esc"},About:{t:"About"}},toolsThemes={mini:"Bold,Italic,Underline,Strikethrough,|,Align,List,|,Link,Img",simple:"Blocktag,Fontface,FontSize,Bold,Italic,Underline,Strikethrough,FontColor,BackColor,|,Align,List,Outdent,Indent,|,Link,Img,Emot",full:"Cut,Copy,Paste,Pastetext,|,Blocktag,Fontface,FontSize,Bold,Italic,Underline,Strikethrough,FontColor,BackColor,SelectAll,Removeformat,|,Align,List,Outdent,Indent,|,Link,Unlink,Anchor,Img,Flash,Media,Hr,Emot,Table,|,Source,Preview,Print,Fullscreen"};toolsThemes.mfull=toolsThemes.full.replace(\/\\|(,Align)\/i,"\/$1");var arrDbClick={a:"Link",img:"Img",embed:"Embed"},uploadInputname="filedata",arrEntities={"<":"&lt;",">":"&gt;",'"':"&quot;","\\u00ae":"&reg;","\\u00a9":"&copy;"},regEntities=\/[<>"\\u00ae\\u00a9]\/g,Xheditor=function(textarea,options){function checkDblClick(e){var t=e.target,i=arrDbClick[t.tagName.toLowerCase()];if(i){if("Embed"===i){var s={"application\/x-shockwave-flash":"Flash","application\/x-mplayer2":"Media"};i=s[t.type.toLowerCase()]}_this.exec(i)}}function checkEsc(e){return 27===e.which?(bShowModal?_this.removeModal():bShowPanel&&_this.hidePanel(),!1):undefined}function loadReset(){setTimeout(_this.setSource,10)}function saveResult(){_this.getSource()}function cleanPaste(e){var t,i,s;if(e&&(t=e.originalEvent.clipboardData)&&(i=t.items)&&(s=i[0])&&"file"==s.kind&&s.type.match(\/^image\\\/\/i)){var a=s.getAsFile(),n=new FileReader;return n.onload=function(){var e='<img src="'+event.target.result+'">';e=replaceRemoteImg(e),_this.pasteHTML(e)},n.readAsDataURL(a),!1}var o=settings.cleanPaste;if(0===o||bSource||bCleanPaste)return!0;bCleanPaste=!0,_this.saveBookmark();var l=isIE?"pre":"div",r=$("<"+l+' class="xhe-paste">\\ufeff\\ufeff<\/'+l+">",_doc).appendTo(_doc.body),h=r[0],c=_this.getSel(),d=_this.getRng(!0);r.css("top",_jWin.scrollTop()),isIE?(d.moveToElementText(h),d.select()):(d.selectNodeContents(h),c.removeAllRanges(),c.addRange(d)),setTimeout(function(){var e,t=3===o;if(t)r.html(r.html().replace(\/<br(\\s+[^<>]*)?>\/gi,"\\n")),e=r.text();else{var i=$(".xhe-paste",_doc.body),s=[];i.each(function(e,t){0==$(t).find(".xhe-paste").length&&s.push(t.innerHTML)}),e=s.join("<br \/>")}r.remove(),_this.loadBookmark(),e=e.replace(\/^[\\s\\uFEFF]+|[\\s\\uFEFF]+$\/g,""),e&&(t?_this.pasteText(e):(e=_this.cleanHTML(e),e=_this.cleanWord(e),e=_this.formatXHTML(e),(!settings.onPaste||settings.onPaste&&(e=settings.onPaste(e))!==!1)&&(e=replaceRemoteImg(e),_this.pasteHTML(e)))),bCleanPaste=!1},0)}function replaceRemoteImg(e){var t=settings.localUrlTest,i=settings.remoteImgSaveUrl;if(t&&i){var s=[],a=0;e=e.replace(\/(<img)((?:\\s+[^>]*?)?(?:\\s+src="\\s*([^"]+)\\s*")(?: [^>]*)?)(\\\/?>)\/gi,function(e,i,n,o,l){return!\/^(https?|data:image)\/i.test(o)||\/_xhe_temp\/.test(n)||t.test(o)||(s[a]=o,n=n.replace(\/\\s+(width|height)="[^"]*"\/gi,"").replace(\/\\s+src="[^"]*"\/gi,' src="'+skinPath+'img\/waiting.gif" remoteimg="'+a++ +'"')),i+n+l}),s.length>0&&$.post(i,{urls:s.join("|")},function(e){e=e.split("|"),$("img[remoteimg]",_this.doc).each(function(){var t=$(this);xheAttr(t,"src",e[t.attr("remoteimg")]),t.removeAttr("remoteimg")})})}return e}function setCSS(e){try{_this._exec("styleWithCSS",e,!0)}catch(t){try{_this._exec("useCSS",!e,!0)}catch(t){}}}function setOpts(){if(bInit&&!bSource){setCSS(!1);try{_this._exec("enableObjectResizing",!0,!0)}catch(e){}if(isIE)try{_this._exec("BackgroundImageCache",!0,!0)}catch(e){}}}function forcePtag(e){if(bSource||13!==e.which||e.shiftKey||e.ctrlKey||e.altKey)return!0;var t=_this.getParent("p,h1,h2,h3,h4,h5,h6,pre,address,div,li");return t.is("li")?!0:settings.forcePtag?(0===t.length&&_this._exec("formatblock","<p>"),undefined):(_this.pasteHTML("<br \/>"),isIE&&t.length>0&&2===_this.getRng().parentElement().childNodes.length&&_this.pasteHTML("<br \/>"),!1)}function fixFullHeight(){isMozilla||isWebkit||(bFullscreen&&_jArea.height("100%").css("height",_jArea.outerHeight()-_jTools.outerHeight()),isIE&&_jTools.hide().show())}function fixAppleSel(e){if(e=e.target,e.tagName.match(\/(img|embed)\/i)){var t=_this.getSel(),i=_this.getRng(!0);i.selectNode(e),t.removeAllRanges(),t.addRange(i)}}function xheAttr(e,t,i){if(!t)return!1;var s="_xhe_"+t;return i&&(urlType&&(i=getLocalUrl(i,urlType,urlBase)),e.attr(t,urlBase?getLocalUrl(i,"abs",urlBase):i).removeAttr(s).attr(s,i)),e.attr(s)||e.attr(t)}function clickCancelPanel(){bClickCancel&&_this.hidePanel()}function checkShortcuts(e){if(bSource)return!0;var t=e.which,i=specialKeys[t],s=i?i:String.fromCharCode(t).toLowerCase();sKey="",sKey+=e.ctrlKey?"ctrl+":"",sKey+=e.altKey?"alt+":"",sKey+=e.shiftKey?"shift+":"",sKey+=s;var a,n=arrShortCuts[sKey];for(a in n){if(a=n[a],!$.isFunction(a))return _this.exec(a),!1;if(a.call(_this)===!1)return!1}}function is(e,t){var i=typeof e;return t?"array"===t&&e.hasOwnProperty&&e instanceof Array?!0:i===t:"undefined"!=i}function getLocalUrl(e,t,i){if(e.match(\/^(\\w+):\\\/\\\/\/i)&&!e.match(\/^https?:\/i)||\/^#\/i.test(e)||\/^data:\/i.test(e))return e;var s=i?$('<a href="'+i+'" \/>')[0]:location,a=s.protocol,n=s.host,o=s.hostname,l=s.port,r=s.pathname.replace(\/\\\\\/g,"\/").replace(\/[^\\\/]+$\/i,"");if(""===l&&(l="80"),""===r?r="\/":"\/"!==r.charAt(0)&&(r="\/"+r),e=$.trim(e),"abs"!==t&&(e=e.replace(RegExp(a+"\\\\\/\\\\\/"+o.replace(\/\\.\/g,"\\\\.")+"(?::"+l+")"+("80"===l?"?":"")+"(\/|$)","i"),"\/")),"rel"===t&&(e=e.replace(RegExp("^"+r.replace(\/([\\\/\\.\\+\\[\\]\\(\\)])\/g,"\\\\$1"),"i"),"")),"rel"!==t&&(e.match(\/^(https?:\\\/\\\/|\\\/)\/i)||(e=r+e),"\/"===e.charAt(0))){var h,c,d=[],u=e.split("\/"),p=u.length;for(c=0;p>c;c++)h=u[c],".."===h?d.pop():""!==h&&"."!==h&&d.push(h);""===u[p-1]&&d.push(""),e="\/"+d.join("\/")}return"abs"!==t||e.match(\/^https?:\\\/\\\/\/i)||(e=a+"\/\/"+n+e),e=e.replace(\/(https?:\\\/\\\/[^:\\\/?#]+):80(\\\/|$)\/i,"$1$2")}function checkFileExt(e,t){return"*"===t||e.match(RegExp(".("+t.replace(\/,\/g,"|")+")$","i"))?!0:(alert(getLang("upload.extLimit",t)),!1)}function formatBytes(e){var t=["Byte","KB","MB","GB","TB","PB"],i=Math.floor(Math.log(e)\/Math.log(1024));return(e\/Math.pow(1024,Math.floor(i))).toFixed(2)+t[i]}function returnFalse(){return!1}var _this=this,_text=textarea,_jText=$(_text),_jForm=_jText.closest("form"),_jTools,_jArea,_win,_jWin,_doc,_jDoc,bookmark,bInit=!1,bSource=!1,bFullscreen=!1,bCleanPaste=!1,outerScroll,bShowBlocktag=!1,sLayoutStyle="",ev=null,timer,bDisableHoverExec=!1,bQuickHoverExec=!1,lastPoint=null,lastAngle=null,editorHeight=0,settings=_this.settings=$.extend({},XHEDITOR.settings,options),plugins=settings.plugins,strPlugins=[];if(plugins&&(arrTools=$.extend({},arrTools,plugins),$.each(plugins,function(e){strPlugins.push(e)}),strPlugins=strPlugins.join(",")),settings.tools.match(\/^\\s*(m?full|simple|mini)\\s*$\/i)){var toolsTheme=toolsThemes[$.trim(settings.tools)];settings.tools=settings.tools.match(\/m?full\/i)&&plugins?toolsTheme.replace("Table","Table,"+strPlugins):toolsTheme}settings.tools.match(\/(^|,)\\s*About\\s*(,|$)\/i)||(settings.tools+=",About"),settings.tools=settings.tools.split(","),settings.editorRoot&&(editorRoot=settings.editorRoot),bAir===!1&&(editorRoot=getLocalUrl(editorRoot,"abs")),settings.urlBase&&(settings.urlBase=getLocalUrl(settings.urlBase,"abs"));var idCSS="xheCSS_"+settings.skin,idContainer="xhe"+xCount+"_container",idTools="xhe"+xCount+"_Tool",idIframeArea="xhe"+xCount+"_iframearea",idIframe="xhe"+xCount+"_iframe",idFixFFCursor="xhe"+xCount+"_fixffcursor",headHTML="",bodyClass="",skinPath=editorRoot+"xheditor_skin\/"+settings.skin+"\/",arrEmots=itemEmots,urlType=settings.urlType,urlBase=settings.urlBase,emotPath=settings.emotPath,emotPath=emotPath?emotPath:editorRoot+"xheditor_emot\/",selEmotGroup="";arrEmots=$.extend({},arrEmots,settings.emots),emotPath=getLocalUrl(emotPath,"rel",urlBase?urlBase:null),bShowBlocktag=settings.showBlocktag,bShowBlocktag&&(bodyClass+=" showBlocktag");var arrShortCuts=[];this.init=function(){function e(e){var t,i=$(e.target);(t=i.css("width"))&&i.css("width","").attr("width",t.replace(\/[^0-9%]+\/g,"")),(t=i.css("height"))&&i.css("height","").attr("height",t.replace(\/[^0-9%]+\/g,""))}0===$("#"+idCSS).length&&$("head").append('<link id="'+idCSS+'" rel="stylesheet" type="text\/css" href="'+skinPath+'ui.css" \/>');var t=_jText.outerWidth(),i=_jText.outerHeight(),s=settings.width||_text.style.width||(t>10?t:0);editorHeight=settings.height||_text.style.height||(i>10?i:150),\/^\\d+(?:\\.\\d+)?$\/.test(s)&&(s+="px"),is(editorHeight,"string")&&(editorHeight=editorHeight.replace(\/[^\\d]+\/g,""));var a,n,o=settings.background||_text.style.background,l=['<span class="xheGStart"\/>'],r=\/\\||\\\/\/i;$.each(settings.tools,function(e,t){if(t.match(r)&&l.push('<span class="xheGEnd"\/>'),"|"===t)l.push('<span class="xheSeparator"\/>');else if("\/"===t)l.push("<br \/>");else{if(a=arrTools[t],!a)return;n=a.c?a.c:"xheIcon xheBtn"+t,l.push('<span><a href="#" title="{#'+a.t+'}" cmd="'+t+'" class="xheButton xheEnabled" tabindex="-1" role="button"><span class="'+n+'" unselectable="on" style="font-size:0;color:transparent;text-indent:-999px;">'+a.t+"<\/span><\/a><\/span>"),a.s&&_this.addShortcuts(a.s,t)}t.match(r)&&l.push('<span class="xheGStart"\/>')}),l.push('<span class="xheGEnd"\/><br \/>'),_jText.after($('<input type="text" id="'+idFixFFCursor+'" style="position:absolute;display:none;" \/><span id="'+idContainer+'" class="xhe_'+settings.skin+'" style="display:none"><table cellspacing="0" cellpadding="0" class="xheLayout" style="'+("0px"!=s?"width:"+s+";":"")+"height:"+editorHeight+'px;" role="presentation"><tr><td id="'+idTools+'" class="xheTool" unselectable="on" style="height:1px;" role="presentation"><\/td><\/tr><tr><td id="'+idIframeArea+'" class="xheIframeArea" role="presentation"><iframe frameborder="0" id="'+idIframe+'" src="javascript:;" style="width:100%;"><\/iframe><\/td><\/tr><\/table><\/span>')),_jTools=$("#"+idTools),_jArea=$("#"+idIframeArea),headHTML='<meta http-equiv="Content-Type" content="text\/html; charset=utf-8" \/><link rel="stylesheet" href="'+skinPath+'iframe.css"\/>';var h=settings.loadCSS;if(h)if(is(h,"array"))for(var c in h)headHTML+='<link rel="stylesheet" href="'+h[c]+'"\/>';else headHTML+=h.match(\/\\s*<style(\\s+[^>]*?)?>[\\s\\S]+?<\\\/style>\\s*\/i)?h:'<link rel="stylesheet" href="'+h+'"\/>';var d='<!DOCTYPE html><html xmlns="http:\/\/www.w3.org\/1999\/xhtml"><head>'+headHTML+"<title>{#defaultReadTip} "+(settings.readTip?settings.readTip:"")+"<\/title>";o&&(d+="<style>html{background:"+o+";}<\/style>"),d+='<\/head><body spellcheck="0" class="editMode'+bodyClass+'"><\/body><\/html>',_this.win=_win=$("#"+idIframe)[0].contentWindow,_jWin=$(_win);try{this.doc=_doc=_win.document,_jDoc=$(_doc),_doc.open(),_doc.write(getLang(d)),_doc.close(),isIE?_doc.body.contentEditable="true":_doc.designMode="On"}catch(u){}setTimeout(setOpts,300),_this.setSource(),_win.setInterval=null,_jTools.append(getLang(l.join(""))).bind("mousedown contextmenu",returnFalse).click(function(e){var t=$(e.target).closest("a");return t.is(".xheEnabled")&&(clearTimeout(timer),_jTools.find("a").attr("tabindex","-1"),ev=e,_this.exec(t.attr("cmd"))),!1}),_jTools.find(".xheButton").hover(function(e){var t=$(this),i=settings.hoverExecDelay,s=lastAngle;if(lastAngle=null,-1===i||bDisableHoverExec||!t.is(".xheEnabled"))return!1;if(s&&s>10)return bDisableHoverExec=!0,setTimeout(function(){bDisableHoverExec=!1},100),!1;var a=t.attr("cmd"),n=1===arrTools[a].h;return n?(bQuickHoverExec&&(i=0),i>=0&&(timer=setTimeout(function(){ev=e,lastPoint={x:ev.clientX,y:ev.clientY},_this.exec(a)},i)),undefined):(_this.hidePanel(),!1)},function(){lastPoint=null,timer&&clearTimeout(timer)}).mousemove(function(e){if(lastPoint){var t={x:e.clientX-lastPoint.x,y:e.clientY-lastPoint.y};if(Math.abs(t.x)>1||Math.abs(t.y)>1){if(t.x>0&&t.y>0){var i=Math.round(Math.atan(t.y\/t.x)\/.017453293);lastAngle=lastAngle?(lastAngle+i)\/2:i}else lastAngle=null;lastPoint={x:e.clientX,y:e.clientY}}}}),_jPanel=$("#xhePanel"),_jShadow=$("#xheShadow"),_jCntLine=$("#xheCntLine"),0===_jPanel.length&&(_jPanel=$('<div id="xhePanel"><\/div>').mousedown(function(e){e.stopPropagation()}),_jShadow=$('<div id="xheShadow"><\/div>'),_jCntLine=$('<div id="xheCntLine"><\/div>'),setTimeout(function(){$(document.body).append(_jPanel).append(_jShadow).append(_jCntLine)},10)),$("#"+idContainer).show(),_jText.hide(),_jArea.css("height",editorHeight-_jTools.outerHeight()),isIE&8>browerVer&&setTimeout(function(){_jArea.css("height",editorHeight-_jTools.outerHeight())},1),_jText.focus(_this.focus),_jForm.submit(saveResult).bind("reset",loadReset),settings.submitID&&$("#"+settings.submitID).mousedown(saveResult),$(window).bind("unload beforeunload",saveResult).bind("resize",fixFullHeight),$(document).mousedown(clickCancelPanel),bCheckEscInit||($(document).keydown(checkEsc),bCheckEscInit=!0),_jWin.focus(function(){settings.focus&&settings.focus()}).blur(function(){settings.blur&&settings.blur()}),isWebkit&&_jWin.click(fixAppleSel),_jDoc.mousedown(clickCancelPanel).keydown(checkShortcuts).keypress(forcePtag).dblclick(checkDblClick).bind("mousedown click",function(e){_jText.trigger(e.type)}),isIE&&(_jDoc.keydown(function(e){var t=_this.getRng();return 8===e.which&&t.item?($(t.item(0)).remove(),!1):undefined}),_jDoc.bind("controlselect",function(t){t=t.target,$.nodeName(t,"IMG")&&$(t).unbind("resizeend",e).bind("resizeend",e)})),_jDoc.keydown(function(e){var t=e.which;return e.altKey&&t>=49&&57>=t?(_jTools.find("a").attr("tabindex","0"),_jTools.find(".xheGStart").eq(t-49).next().find("a").focus(),_doc.title="\\ufeff\\ufeff",!1):undefined}).click(function(){_jTools.find("a").attr("tabindex","-1")}),_jTools.keydown(function(e){var t=e.which;if(27==t)_jTools.find("a").attr("tabindex","-1"),_this.focus();else if(e.altKey&&t>=49&&57>=t)return _jTools.find(".xheGStart").eq(t-49).next().find("a").focus(),!1});var p=$(_doc.documentElement);isOpera?p.bind("keydown",function(e){e.ctrlKey&&86===e.which&&cleanPaste()}):p.bind(isIE?"beforepaste":"paste",cleanPaste),settings.disableContextmenu&&p.bind("contextmenu",returnFalse),settings.html5Upload&&p.bind("dragenter dragover",function(e){var t;return(t=e.originalEvent.dataTransfer.types)&&-1!==$.inArray("Files",t)?!1:undefined}).bind("drop",function(e){function t(e){var t,i,s;for(a=0;e.length>a;a++){if(i=e[a].name.replace(\/.+\\.\/,""),!(t=o.match(RegExp("(\\\\w+):[^:]*,"+i+"(?:,|$)","i"))))return 1;if(s){if(s!==t[1])return 2}else s=t[1]}return s}var i,s=e.originalEvent.dataTransfer;if(s&&(i=s.files)&&i.length>0){var a,n,o,l=["Link","Img","Flash","Media"],r=[];for(a in l)n=l[a],settings["up"+n+"Url"]&&settings["up"+n+"Url"].match(\/^[^!].*\/i)&&r.push(n+":,"+settings["up"+n+"Ext"]);return 0===r.length?!1:(o=r.join(","),n=t(i),1===n?alert(getLang("upload.extLimit",o.replace(\/\\w+:,\/g,""))):2===n?alert(getLang("upload.typeLimit")):n&&_this.startUpload(i,settings["up"+n+"Url"],"*",function(e){var t,i=[],s=settings.onUpload;s&&s(e);for(var a=0,o=e.length;o>a;a++)t=e[a],url=is(t,"string")?t:t.url,"!"===url.substr(0,1)&&(url=url.substr(1)),i.push(url);_this.exec(n),$("#xhe"+n+"Url").val(i.join(" ")),$("#xheSave").click()}),!1)}});var g=settings.shortcuts;g&&$.each(g,function(e,t){_this.addShortcuts(e,t)}),xCount++,bInit=!0,settings.fullscreen?_this.toggleFullscreen():settings.sourceMode&&setTimeout(_this.toggleSource,20);var f=settings.plugins;return f&&$.each(f,function(e,t){var i=t.i;i!==undefined&&i(_this)}),!0},this.remove=function(){_this.hidePanel(),saveResult(),_jText.unbind("focus",_this.focus),_jForm.unbind("submit",saveResult).unbind("reset",loadReset),settings.submitID&&$("#"+settings.submitID).unbind("mousedown",saveResult),$(window).unbind("unload beforeunload",saveResult).unbind("resize",fixFullHeight),$(document).unbind("mousedown",clickCancelPanel),$("#"+idContainer).remove(),$("#"+idFixFFCursor).remove(),_jText.show(),bInit=!1},this.saveBookmark=function(){if(!bSource){_this.focus();var e=_this.getRng();e=e.cloneRange?e.cloneRange():e,bookmark={top:_jWin.scrollTop(),rng:e}}},this.loadBookmark=function(){if(!bSource&&bookmark){_this.focus();var e=bookmark.rng;if(isIE)e.select();else{var t=_this.getSel();t.removeAllRanges(),t.addRange(e)}_jWin.scrollTop(bookmark.top),bookmark=null}},this.focus=function(){if(bSource?$("#sourceCode",_doc).focus():_win.focus(),isIE){var e=_this.getRng();e.parentElement&&e.parentElement().ownerDocument!==_doc&&_this.setTextCursor()}return!1},this.setTextCursor=function(e){var t=_this.getRng(!0),i=_doc.body;if(isIE)t.moveToElementText(i);else{for(var s=e?"lastChild":"firstChild";3!=i.nodeType&&i[s];)i=i[s];t.selectNode(i)}if(t.collapse(e?!1:!0),isIE)t.select();else{var a=_this.getSel();a.removeAllRanges(),a.addRange(t)}},this.getSel=function(){return _doc.selection?_doc.selection:_win.getSelection()},this.getRng=function(e){var t,i;try{e||(t=_this.getSel(),i=t.createRange?t.createRange():t.rangeCount>0?t.getRangeAt(0):null),i||(i=_doc.body.createTextRange?_doc.body.createTextRange():_doc.createRange())}catch(s){}return i},this.getParent=function(e){var t,i=_this.getRng();return isIE?t=i.item?i.item(0):i.parentElement():(t=i.commonAncestorContainer,i.collapsed||i.startContainer===i.endContainer&&2>i.startOffset-i.endOffset&&i.startContainer.hasChildNodes()&&(t=i.startContainer.childNodes[i.startOffset])),e=e?e:"*",t=$(t),t.is(e)||(t=$(t).closest(e)),t},this.getSelect=function(e){var t=_this.getSel(),i=_this.getRng(),s=!0;if(s=!i||i.item?!1:!t||0===i.boundingWidth||i.collapsed,"text"===e)return s?"":i.text||(t.toString?""+t:"");var a;if(i.cloneContents){var n,o=$("<div><\/div>");n=i.cloneContents(),n&&o.append(n),a=o.html()}else a=is(i.item)?i.item(0).outerHTML:is(i.htmlText)?i.htmlText:""+i;return s&&(a=""),a=_this.processHTML(a,"read"),a=_this.cleanHTML(a),a=_this.formatXHTML(a)},this.pasteHTML=function(e,t){if(bSource)return!1;_this.focus(),e=_this.processHTML(e,"write");var i=_this.getSel(),s=_this.getRng();if(t!==undefined){if(s.item){var a=s.item(0);s=_this.getRng(!0),s.moveToElementText(a),s.select()}s.collapse(t)}if(e+="<"+(isIE?"img":"span")+' id="_xhe_temp" width="0" height="0" \/>',s.insertNode){if($(s.startContainer).closest("style,script").length>0)return!1;s.deleteContents(),s.insertNode(s.createContextualFragment(e))}else"control"===i.type.toLowerCase()&&(i.clear(),s=_this.getRng()),s.pasteHTML(e);var n=$("#_xhe_temp",_doc),o=n[0];isIE?(s.moveToElementText(o),s.select()):(s.selectNode(o),i.removeAllRanges(),i.addRange(s)),n.remove()},this.pasteText=function(e,t){e||(e=""),e=_this.domEncode(e),e=e.replace(\/\\r?\\n\/g,"<br \/>"),_this.pasteHTML(e,t)},this.appendHTML=function(e){return bSource?!1:(_this.focus(),e=_this.processHTML(e,"write"),$(_doc.body).append(e),_this.setTextCursor(!0),undefined)},this.domEncode=function(e){return e.replace(regEntities,function(e){return arrEntities[e]})},this.setSource=function(e){bookmark=null,"string"!=typeof e&&""!==e&&(e=_text.value),bSource?$("#sourceCode",_doc).val(e):(settings.beforeSetSource&&(e=settings.beforeSetSource(e)),e=_this.cleanHTML(e),e=_this.formatXHTML(e),e=_this.processHTML(e,"write"),isIE?(_doc.body.innerHTML='<img id="_xhe_temp" width="0" height="0" \/>'+e,$("#_xhe_temp",_doc).remove()):_doc.body.innerHTML=e)},this.processHTML=function(e,t){function i(e,t,i,s,a,o){var l,r,h,c,d="";if(l=s.match(\/font-family\\s*:\\s*([^;"]+)\/i),l&&(d+=' face="'+l[1]+'"'),r=s.match(\/font-size\\s*:\\s*([^;"]+)\/i)){r=r[1].toLowerCase();for(var u=0;n.length>u;u++)if(r===n[u].n||r===n[u].s){h=u+1;break}h&&(d+=' size="'+h+'"',s=s.replace(\/(^|;)(\\s*font-size\\s*:\\s*[^;"]+;?)+\/gi,"$1"))}if(c=s.match(\/(?:^|[\\s;])color\\s*:\\s*([^;"]+)\/i)){var p;if(p=c[1].match(\/\\s*rgb\\s*\\(\\s*(\\d+)\\s*,\\s*(\\d+)\\s*,\\s*(\\d+)\\s*\\)\/i)){c[1]="#";for(var g=1;3>=g;g++)c[1]+=("0"+(p[g]-0).toString(16)).slice(-2)}c[1]=c[1].replace(\/^#([0-9a-f])([0-9a-f])([0-9a-f])$\/i,"#$1$1$2$2$3$3"),d+=' color="'+c[1]+'"'}return s=s.replace(\/(^|;)(\\s*(font-family|color)\\s*:\\s*[^;"]+;?)+\/gi,"$1"),""!==d?(s&&(d+=' style="'+s+'"'),"<font"+(i?i:"")+d+(a?a:"")+">"+o+"<\/font>"):e}function s(e,t,i,s,a){for(var n,l,r=(i?i:"")+(s?s:""),h=[],c=[],d=0;o.length>d;d++)n=o[d].r,l=o[d].t,r=r.replace(n,function(){return h.push("<"+l+">"),c.push("<\/"+l+">"),""});return r=r.replace(\/\\s+style\\s*=\\s*"\\s*"\/i,""),(r?"<span"+r+">":"")+h.join("")+a+c.join("")+(r?"<\/span>":"")}var a=' class="Apple-style-span"',n=settings.listFontsize;if("write"===t)e=e.replace(\/(<(\\\/?)(\\w+))((?:\\s+[\\w\\-:]+\\s*=\\s*(?:"[^"]*"|'[^']*'|[^>\\s]+))*)\\s*((\\\/?)>)\/g,function(e,t,i,s,n,o,l){s=s.toLowerCase(),isMozilla?"strong"===s?s="b":"em"===s&&(s="i"):isWebkit&&("strong"===s?(s="span",i||(n+=a+' style="font-weight: bold;"')):"em"===s?(s="span",i||(n+=a+' style="font-style: italic;"')):"u"===s?(s="span",i||(n+=a+' style="text-decoration: underline;"')):"strike"===s&&(s="span",i||(n+=a+' style="text-decoration: line-through;"')));var r,h="";if("del"===s)s="strike";else if("img"===s)n=n.replace(\/\\s+emot\\s*=\\s*("[^"]*"|'[^']*'|[^>\\s]+)\/i,function(e,t){return r=t.match(\/^(["']?)(.*)\\1\/)[2],r=r.split(","),r[1]||(r[1]=r[0],r[0]=""),"default"===r[0]&&(r[0]=""),settings.emotMark?e:""});else if("a"===s)!n.match(\/ href=[^ ]\/i)&&n.match(\/ name=[^ ]\/i)&&(h+=" xhe-anchor"),l&&(o="><\/a>");else if("table"===s&&!i){var c=n.match(\/\\s+border\\s*=\\s*("[^"]*"|'[^']*'|[^>\\s]+)\/i);(!c||c[1].match(\/^(["']?)\\s*0\\s*\\1$\/))&&(h+=" xhe-border")}var d;if(n=n.replace(\/\\s+([\\w\\-:]+)\\s*=\\s*("[^"]*"|'[^']*'|[^>\\s]+)\/g,function(e,t,i){return t=t.toLowerCase(),i=i.match(\/^(["']?)(.*)\\1\/)[2],aft="",isIE&&t.match(\/^(disabled|checked|readonly|selected)$\/)&&i.match(\/^(false|0)$\/i)?"":"img"===s&&r&&"src"===t?"":(t.match(\/^(src|href)$\/)&&(aft=" _xhe_"+t+'="'+i+'"',urlBase&&(i=getLocalUrl(i,"abs",urlBase))),h&&"class"===t&&(i+=" "+h,h=""),isWebkit&&"style"===t&&"span"===s&&i.match(\/(^|;)\\s*(font-family|font-size|color|background-color)\\s*:\\s*[^;]+\\s*(;|$)\/i)&&(d=!0)," "+t+'="'+i+'"'+aft)}),r){var u=emotPath+(r[0]?r[0]:"default")+"\/"+r[1]+".gif";n+=' src="'+u+'" _xhe_src="'+u+'"'}return d&&(n+=a),h&&(n+=' class="'+h+'"'),"<"+i+s+n+o}),isIE&&(e=e.replace(\/&apos;\/gi,"&#39;")),isWebkit||(e=e.replace(\/<(span)(\\s+[^>]*?)?\\s+style\\s*=\\s*"((?:[^"]*?;)?\\s*(?:font-family|font-size|color)\\s*:[^"]*)"( [^>]*)?>(((?!<\\1(\\s+[^>]*?)?>)[\\s\\S]|<\\1(\\s+[^>]*?)?>((?!<\\1(\\s+[^>]*?)?>)[\\s\\S]|<\\1(\\s+[^>]*?)?>((?!<\\1(\\s+[^>]*?)?>)[\\s\\S])*?<\\\/\\1>)*?<\\\/\\1>)*?)<\\\/\\1>\/gi,i),e=e.replace(\/<(span)(\\s+[^>]*?)?\\s+style\\s*=\\s*"((?:[^"]*?;)?\\s*(?:font-family|font-size|color)\\s*:[^"]*)"( [^>]*)?>(((?!<\\1(\\s+[^>]*?)?>)[\\s\\S]|<\\1(\\s+[^>]*?)?>((?!<\\1(\\s+[^>]*?)?>)[\\s\\S])*?<\\\/\\1>)*?)<\\\/\\1>\/gi,i),e=e.replace(\/<(span)(\\s+[^>]*?)?\\s+style\\s*=\\s*"((?:[^"]*?;)?\\s*(?:font-family|font-size|color)\\s*:[^"]*)"( [^>]*)?>(((?!<\\1(\\s+[^>]*?)?>)[\\s\\S])*?)<\\\/\\1>\/gi,i)),e=e.replace(\/<(td|th)(\\s+[^>]*?)?>(\\s|&nbsp;)*<\\\/\\1>\/gi,"<$1$2>"+(isIE?"":"<br \/>")+"<\/$1>");else{if(isWebkit)for(var o=[{r:\/font-weight\\s*:\\s*bold;?\/gi,t:"strong"},{r:\/font-style\\s*:\\s*italic;?\/gi,t:"em"},{r:\/text-decoration\\s*:\\s*underline;?\/gi,t:"u"},{r:\/text-decoration\\s*:\\s*line-through;?\/gi,t:"strike"}],l=0;2>l;l++)e=e.replace(\/<(span)(\\s+[^>]*?)?\\s+class\\s*=\\s*"Apple-style-span"(\\s+[^>]*?)?>(((?!<\\1(\\s+[^>]*?)?>)[\\s\\S]|<\\1(\\s+[^>]*?)?>((?!<\\1(\\s+[^>]*?)?>)[\\s\\S]|<\\1(\\s+[^>]*?)?>((?!<\\1(\\s+[^>]*?)?>)[\\s\\S])*?<\\\/\\1>)*?<\\\/\\1>)*?)<\\\/\\1>\/gi,s),e=e.replace(\/<(span)(\\s+[^>]*?)?\\s+class\\s*=\\s*"Apple-style-span"(\\s+[^>]*?)?>(((?!<\\1(\\s+[^>]*?)?>)[\\s\\S]|<\\1(\\s+[^>]*?)?>((?!<\\1(\\s+[^>]*?)?>)[\\s\\S])*?<\\\/\\1>)*?)<\\\/\\1>\/gi,s),e=e.replace(\/<(span)(\\s+[^>]*?)?\\s+class\\s*=\\s*"Apple-style-span"(\\s+[^>]*?)?>(((?!<\\1(\\s+[^>]*?)?>)[\\s\\S])*?)<\\\/\\1>\/gi,s);e=e.replace(\/(<(\\w+))((?:\\s+[\\w\\-:]+\\s*=\\s*(?:"[^"]*"|'[^']*'|[^>\\s]+))*)\\s*(\\\/?>)\/g,function(e,t,i,s,a){i=i.toLowerCase();$/;"	f
force_download	system/helpers/download_helper.php	/^	function force_download($filename = '', $data = '')$/;"	f
foreign_characters	application/config/foreign_chars.php	/^$foreign_characters = array($/;"	v
form	system/helpers/form_helper.php	/^			$form = "\\n";$/;"	v
form	system/helpers/form_helper.php	/^		$form = '<form action="'.$action.'"';$/;"	v
form	system/helpers/form_helper.php	/^		$form = '<select name="'.$name.'"'.$extra.$multiple.">\\n";$/;"	v
form	system/helpers/form_helper.php	/^		static $form;$/;"	v
formAddr	application/controllers/space.php	/^    private function formAddr($addr)$/;"	f
formAttr	application/controllers/item.php	/^    private function formAttr($attr)$/;"	f
formCart	application/controllers/order.php	/^    private function formCart($data)$/;"	f
formData	application/controllers/order.php	/^    private function formData($arr)$/;"	f
formInfo	application/models/morder.php	/^    private function formInfo($data)$/;"	f
formLine	js/home.js	/^function formLine(data) {$/;"	f
formOrdor	application/controllers/order.php	/^    private function formOrdor($addrNum,$userId)$/;"	f
formPage	js/home.js	/^function formPage (data,partId) {$/;"	f
formPage	js/mainpage2.js	/^function formPage (data,partId,search) {$/;"	f
formStr	application/models/comitem.php	/^    private function formStr($arr)$/;"	f
form_button	system/helpers/form_helper.php	/^	function form_button($data = '', $content = '', $extra = '')$/;"	f
form_checkbox	system/helpers/form_helper.php	/^	function form_checkbox($data = '', $value = '', $checked = FALSE, $extra = '')$/;"	f
form_close	system/helpers/form_helper.php	/^	function form_close($extra = '')$/;"	f
form_dropdown	system/helpers/form_helper.php	/^	function form_dropdown($name = '', $options = array(), $selected = array(), $extra = '')$/;"	f
form_error	system/helpers/form_helper.php	/^	function form_error($field = '', $prefix = '', $suffix = '')$/;"	f
form_field	system/helpers/smiley_helper.php	/^	function js_insert_smiley($form_name = '', $form_field = '')$/;"	v
form_fieldset	system/helpers/form_helper.php	/^	function form_fieldset($legend_text = '', $attributes = array())$/;"	f
form_fieldset_close	system/helpers/form_helper.php	/^	function form_fieldset_close($extra = '')$/;"	f
form_hidden	system/helpers/form_helper.php	/^	function form_hidden($name, $value = '', $recursing = FALSE)$/;"	f
form_input	system/helpers/form_helper.php	/^	function form_input($data = '', $value = '', $extra = '')$/;"	f
form_label	system/helpers/form_helper.php	/^	function form_label($label_text = '', $id = '', $attributes = array())$/;"	f
form_multiselect	system/helpers/form_helper.php	/^	function form_multiselect($name = '', $options = array(), $selected = array(), $extra = '')$/;"	f
form_open	system/helpers/form_helper.php	/^	function form_open($action = '', $attributes = '', $hidden = array())$/;"	f
form_open_multipart	system/helpers/form_helper.php	/^	function form_open_multipart($action = '', $attributes = array(), $hidden = array())$/;"	f
form_password	system/helpers/form_helper.php	/^	function form_password($data = '', $value = '', $extra = '')$/;"	f
form_prep	system/helpers/form_helper.php	/^	function form_prep($str = '', $field_name = '')$/;"	f
form_radio	system/helpers/form_helper.php	/^	function form_radio($data = '', $value = '', $checked = FALSE, $extra = '')$/;"	f
form_reset	system/helpers/form_helper.php	/^	function form_reset($data = '', $value = '', $extra = '')$/;"	f
form_submit	system/helpers/form_helper.php	/^	function form_submit($data = '', $value = '', $extra = '')$/;"	f
form_textarea	system/helpers/form_helper.php	/^	function form_textarea($data = '', $value = '', $extra = '')$/;"	f
form_upload	system/helpers/form_helper.php	/^	function form_upload($data = '', $value = '', $extra = '')$/;"	f
formatBytes	application/controllers/write.php	/^    function formatBytes($bytes) {$/;"	f
formatBytes	js/xheditor_plugins/multiupload/multiupload.js	/^function formatBytes(bytes) {$/;"	f
formatXHTML.i	js/xheditor.min.js	/^var o;return s=s.replace(\/\\s+_xhe_(?:src|href)\\s*=\\s*("[^"]*"|'[^']*'|[^>\\s]+)\/i,function(e,t){return o=t.match(\/^(["']?)(.*)\\1\/)[2],""}),o&&urlType&&(o=getLocalUrl(o,urlType,urlBase)),s=s.replace(\/\\s+([\\w\\-:]+)\\s*=\\s*("[^"]*"|'[^']*'|[^>\\s]+)\/g,function(e,t,i){if(t=t.toLowerCase(),i=i.match(\/^(["']?)(.*)\\1\/)[2].replace(\/"\/g,"'"),"class"===t){if(i.match(\/^["']?(apple|webkit)\/i))return"";if(i=i.replace(\/\\s?xhe-[a-z]+\/gi,""),""===i)return""}else{if(t.match(\/^((_xhe_|_moz_|_webkit_)|jquery\\d+)\/i))return"";if(o&&t.match(\/^(src|href)$\/i))return" "+t+'="'+o+'"';"style"===t&&(i=i.replace(\/(^|;)\\s*(font-size)\\s*:\\s*([a-z-]+)\\s*(;|$)\/i,function(e,t,i,s,a){for(var o,l,r=0;n.length>r;r++)if(o=n[r],s===o.n){l=o.s;break}return t+i+":"+l+a}))}return" "+t+'="'+i+'"'}),"img"!==i||s.match(\/\\s+alt\\s*=\\s*("[^"]*"|'[^']*'|[^>\\s]+)\/i)||(s+=' alt=""'),t+s+a}),e=e.replace(\/(<(td|th)(?:\\s+[^>]*?)?>)\\s*([\\s\\S]*?)(<br(\\s*\\\/)?>)?\\s*<\\\/\\2>\/gi,function(e,t,i,s){return t+(s?s:"&nbsp;")+"<\/"+i+">"}),e=e.replace(\/^\\s*(?:<(p|div)(?:\\s+[^>]*?)?>)?\\s*(<span(?:\\s+[^>]*?)?>\\s*<\\\/span>|<br(?:\\s+[^>]*?)?>|&nbsp;)*\\s*(?:<\\\/\\1>)?\\s*$\/i,"")}return e=e.replace(\/(<pre(?:\\s+[^>]*?)?>)([\\s\\S]+?)(<\\\/pre>)\/gi,function(e,t,i,s){return t+i.replace(\/<br\\s*\\\/?>\/gi,"\\r\\n")+s})},this.getSource=function(e){var t,i=settings.beforeGetSource;return bSource?(t=$("#sourceCode",_doc).val(),i||(t=_this.formatXHTML(t,!1))):(t=_this.processHTML(_doc.body.innerHTML,"read"),t=_this.cleanHTML(t),t=_this.formatXHTML(t,e),i&&(t=i(t))),_text.value=t,t},this.cleanWord=function(e){function t(e,t,i){return i}var i=settings.cleanPaste;if(i>0&&3>i&&\/mso(-|normal)|WordDocument|<table\\s+[^>]*?x:str|\\s+class\\s*=\\s*"?xl[67]\\d"\/i.test(e)){e=e.replace(\/<!--[\\s\\S]*?-->|<!(--)?\\[[\\s\\S]+?\\](--)?>|<style(\\s+[^>]*?)?>[\\s\\S]*?<\\\/style>\/gi,""),e=e.replace(\/\\r?\\n\/gi,""),isIE?(e=e.replace(\/<v:shapetype(\\s+[^>]*)?>[\\s\\S]*<\\\/v:shapetype>\/gi,""),e=e.replace(\/<v:shape(\\s+[^>]+)?>[\\s\\S]*?<v:imagedata(\\s+[^>]+)?>\\s*<\\\/v:imagedata>[\\s\\S]*?<\\\/v:shape>\/gi,function(e,t,i){var s;if(s=i.match(\/\\s+src\\s*=\\s*("[^"]+"|'[^']+'|[^>\\s]+)\/i)){s=s[1].match(\/^(["']?)(.*)\\1\/)[2];var a='<img src="'+editorRoot+"xheditor_skin\/blank.gif"+'" _xhe_temp="true" class="wordImage"';return s=t.match(\/\\s+style\\s*=\\s*("[^"]+"|'[^']+'|[^>\\s]+)\/i),s&&(s=s[1].match(\/^(["']?)(.*)\\1\/)[2],a+=' style="'+s+'"'),a+=" \/>"}return""})):e=e.replace(\/<img( [^<>]*(v:shapes|msohtmlclip)[^<>]*)\\\/?>\/gi,function(e,t){var i,s='<img src="'+editorRoot+"xheditor_skin\/blank.gif"+'" _xhe_temp="true" class="wordImage"';return i=t.match(\/ width\\s*=\\s*"([^"]+)"\/i),i&&(s+=' width="'+i[1]+'"'),i=t.match(\/ height\\s*=\\s*"([^"]+)"\/i),i&&(s+=' height="'+i[1]+'"'),s+" \/>"}),e=e.replace(\/(<(\\\/?)([\\w\\-:]+))((?:\\s+[\\w\\-:]+(?:\\s*=\\s*(?:"[^"]*"|'[^']*'|[^>\\s]+))?)*)\\s*(\\\/?>)\/g,function(e,t,s,a,n,o){return a=a.toLowerCase(),a.match(\/^(link)$\/)&&n.match(\/file:\\\/\\\/\/i)||a.match(\/:\/)||"span"===a&&2===i?"":(s||(n=n.replace(\/\\s([\\w\\-:]+)(?:\\s*=\\s*("[^"]*"|'[^']*'|[^>\\s]+))?\/gi,function(e,t,s){if(t=t.toLowerCase(),\/:\/.test(t))return"";if(s=s.match(\/^(["']?)(.*)\\1\/)[2],1===i)switch(a){case"p":if("style"===t)return s=s.replace(\/"|&quot;\/gi,"'").replace(\/\\s*([^:]+)\\s*:\\s*(.*?)(;|$)\/gi,function(e,t,i){return\/^(text-align)$\/i.test(t)?t+":"+i+";":""}).replace(\/^\\s+|\\s+$\/g,""),s?" "+t+'="'+s+'"':"";break;case"span":if("style"===t)return s=s.replace(\/"|&quot;\/gi,"'").replace(\/\\s*([^:]+)\\s*:\\s*(.*?)(;|$)\/gi,function(e,t,i){return\/^(color|background|font-size|font-family)$\/i.test(t)?t+":"+i+";":""}).replace(\/^\\s+|\\s+$\/g,""),s?" "+t+'="'+s+'"':"";break;case"table":if(t.match(\/^(cellspacing|cellpadding|border|width)$\/i))return e;break;case"td":if(t.match(\/^(rowspan|colspan)$\/i))return e;if("style"===t)return s=s.replace(\/"|&quot;\/gi,"'").replace(\/\\s*([^:]+)\\s*:\\s*(.*?)(;|$)\/gi,function(e,t,i){return\/^(width|height)$\/i.test(t)?t+":"+i+";":""}).replace(\/^\\s+|\\s+$\/g,""),s?" "+t+'="'+s+'"':"";break;case"a":if(t.match(\/^(href)$\/i))return e;break;case"font":case"img":return e}else if(2===i)switch(a){case"td":if(t.match(\/^(rowspan|colspan)$\/i))return e;break;case"img":return e}return""})),t+n+o)});for(var s=0;3>s;s++)e=e.replace(\/<([^\\s>]+)(\\s+[^>]*)?>\\s*<\\\/\\1>\/g,"");for(var s=0;3>s;s++)e=e.replace(\/<(span|a)>(((?!<\\1(\\s+[^>]*?)?>)[\\s\\S]|<\\1(\\s+[^>]*?)?>((?!<\\1(\\s+[^>]*?)?>)[\\s\\S]|<\\1(\\s+[^>]*?)?>((?!<\\1(\\s+[^>]*?)?>)[\\s\\S])*?<\\\/\\1>)*?<\\\/\\1>)*?)<\\\/\\1>\/gi,t);for(var s=0;3>s;s++)e=e.replace(\/<(span|a)>(((?!<\\1(\\s+[^>]*?)?>)[\\s\\S]|<\\1(\\s+[^>]*?)?>((?!<\\1(\\s+[^>]*?)?>)[\\s\\S])*?<\\\/\\1>)*?)<\\\/\\1>\/gi,t);for(var s=0;3>s;s++)e=e.replace(\/<(span|a)>(((?!<\\1(\\s+[^>]*?)?>)[\\s\\S])*?)<\\\/\\1>\/gi,t);for(var s=0;3>s;s++)e=e.replace(\/<font(\\s+[^>]+)><font(\\s+[^>]+)>\/gi,function(e,t,i){return"<font"+t+i+">"});e=e.replace(\/(<(\\\/?)(tr|td)(?:\\s+[^>]+)?>)[^<>]+\/gi,function(e,t,i,s){return!i&&\/^td$\/i.test(s)?e:t})}return e},this.cleanHTML=function(e){e=e.replace(\/<!?\\\/?(DOCTYPE|html|body|meta)(\\s+[^>]*?)?>\/gi,"");var t;return e=e.replace(\/<head(?:\\s+[^>]*?)?>([\\s\\S]*?)<\\\/head>\/i,function(e,i){return t=i.match(\/<(script|style)(\\s+[^>]*?)?>[\\s\\S]*?<\\\/\\1>\/gi),""}),t&&(e=t.join("")+e),e=e.replace(\/<\\??xml(:\\w+)?(\\s+[^>]*?)?>([\\s\\S]*?<\\\/xml>)?\/gi,""),settings.internalScript||(e=e.replace(\/<script(\\s+[^>]*?)?>[\\s\\S]*?<\\\/script>\/gi,"")),settings.internalStyle||(e=e.replace(\/<style(\\s+[^>]*?)?>[\\s\\S]*?<\\\/style>\/gi,"")),settings.linkTag&&settings.inlineScript&&settings.inlineStyle||(e=e.replace(\/(<(\\w+))((?:\\s+[\\w-]+\\s*=\\s*(?:"[^"]*"|'[^']*'|[^>\\s]+))*)\\s*(\\\/?>)\/gi,function(e,t,i,s,a){return settings.linkTag||"link"!==i.toLowerCase()?(settings.inlineScript||(s=s.replace(\/\\s+on(?:click|dblclick|mouse(down|up|move|over|out|enter|leave|wheel)|key(down|press|up)|change|select|submit|reset|blur|focus|load|unload)\\s*=\\s*("[^"]*"|'[^']*'|[^>\\s]+)\/gi,"")),settings.inlineStyle||(s=s.replace(\/\\s+(style|class)\\s*=\\s*("[^"]*"|'[^']*'|[^>\\s]+)\/gi,"")),t+s+a):""})),e=e.replace(\/<\\\/(strong|b|u|strike|em|i)>((?:\\s|<br\\\/?>|&nbsp;)*?)<\\1(\\s+[^>]*?)?>\/gi,"$2")},this.formatXHTML=function(e,t){function i(e){for(var t={},i=e.split(","),s=0;i.length>s;s++)t[i[s]]=!0;return t}function s(e){e=e.toLowerCase();var t=b[e];return t?t:e}function a(e,t,i){if(p[e])for(;y.last()&&g[y.last()];)n(y.last());f[e]&&y.last()===e&&n(e),i=u[e]||!!i,i||y.push(e);var s=[];s.push("<"+e),t.replace(_,function(e,t){t=t.toLowerCase();var i=arguments[2]?arguments[2]:arguments[3]?arguments[3]:arguments[4]?arguments[4]:m[t]?t:"";s.push(" "+t+'="'+i.replace(\/"\/g,"'")+'"')}),s.push((i?" \/":"")+">"),h(s.join(""),e,!0),"pre"===e&&(P=!0)}function n(e){if(e)for(var t=y.length-1;t>=0&&y[t]!==e;t--);else var t=0;if(t>=0){for(var i=y.length-1;i>=t;i--)h("<\/"+y[i]+">",y[i]);y.length=t}"pre"===e&&(P=!1,M--)}function o(e){h(_this.domEncode(e))}function l(e){w.push(e.replace(\/^[\\s\\r\\n]+|[\\s\\r\\n]+$\/g,""))}function r(e){w.push(e)}function h(e,i,s){if(P||(e=e.replace(\/(\\t*\\r?\\n\\t*)+\/g,"")),P||t!==!0)w.push(e);else{if(e.match(\/^\\s*$\/))return w.push(e),undefined;var a=p[i],n=a?i:"";a?(s&&M++,""===E&&M--):E&&M++,(n!==E||a)&&c(),w.push(e),"br"===i&&c(),!a||!u[i]&&s||M--,E=a?i:"",L=s}}function c(){if(w.push("\\r\\n"),M>0)for(var e=M;e--;)w.push("	")}function d(e,t,i,s){if(!i)return s;var a="";return i=i.replace(\/ face\\s*=\\s*"\\s*([^"]*)\\s*"\/i,function(e,t){return t&&(a+="font-family:"+t+";"),""}),i=i.replace(\/ size\\s*=\\s*"\\s*(\\d+)\\s*"\/i,function(e,t){return a+="font-size:"+I[(t>7?7:1>t?1:t)-1].s+";",""}),i=i.replace(\/ color\\s*=\\s*"\\s*([^"]*)\\s*"\/i,function(e,t){return t&&(a+="color:"+t+";"),""}),i=i.replace(\/ style\\s*=\\s*"\\s*([^"]*)\\s*"\/i,function(e,t){return t&&(a+=t),""}),i+=' style="'+a+'"',i?"<span"+i+">"+s+"<\/span>":s}var u=i("area,base,basefont,br,col,frame,hr,img,input,isindex,link,meta,param,embed"),p=i("address,applet,blockquote,button,center,dd,dir,div,dl,dt,fieldset,form,frameset,h1,h2,h3,h4,h5,h6,hr,iframe,ins,isindex,li,map,menu,noframes,noscript,object,ol,p,pre,table,tbody,td,tfoot,th,thead,tr,ul,script"),g=i("a,abbr,acronym,applet,b,basefont,bdo,big,br,button,cite,code,del,dfn,em,font,i,iframe,img,input,ins,kbd,label,map,object,q,s,samp,script,select,small,span,strike,strong,sub,sup,textarea,tt,u,var"),f=i("colgroup,dd,dt,li,options,p,td,tfoot,th,thead,tr"),m=i("checked,compact,declare,defer,disabled,ismap,multiple,nohref,noresize,noshade,nowrap,readonly,selected"),v=i("script,style"),b={b:"strong",i:"em",s:"del",strike:"del"},x=\/<(?:\\\/([^\\s>]+)|!([^>]*?)|([\\w\\-:]+)((?:"[^"]*"|'[^']*'|[^"'<>])*)\\s*(\\\/?))>\/g,_=\/\\s*([\\w\\-:]+)(?:\\s*=\\s*(?:"([^"]*)"|'([^']*)'|([^\\s]+)))?\/g,w=[],y=[];y.last=function(){return this[this.length-1]};for(var k,C,T,S,$,F,L,j=0,M=-1,E="body",P=!1;k=x.exec(e);)C=k.index,C>j&&(F=e.substring(j,C),S?$.push(F):o(F)),j=x.lastIndex,!(T=k[1])||(T=s(T),S&&T===S&&(l($.join("")),S=null,$=null),S)?S?$.push(k[0]):(T=k[3])?(T=s(T),a(T,k[4],k[5]),v[T]&&(S=T,$=[])):k[2]&&r(k[0]):n(T);e.length>j&&o(e.substring(j,e.length)),n(),e=w.join(""),w=null;var I=settings.listFontsize;return e=e.replace(\/<(font)(\\s+[^>]*?)?>(((?!<\\1(\\s+[^>]*?)?>)[\\s\\S]|<\\1(\\s+[^>]*?)?>((?!<\\1(\\s+[^>]*?)?>)[\\s\\S]|<\\1(\\s+[^>]*?)?>((?!<\\1(\\s+[^>]*?)?>)[\\s\\S])*?<\\\/\\1>)*?<\\\/\\1>)*?)<\\\/\\1>\/gi,d),e=e.replace(\/<(font)(\\s+[^>]*?)?>(((?!<\\1(\\s+[^>]*?)?>)[\\s\\S]|<\\1(\\s+[^>]*?)?>((?!<\\1(\\s+[^>]*?)?>)[\\s\\S])*?<\\\/\\1>)*?)<\\\/\\1>\/gi,d),e=e.replace(\/<(font)(\\s+[^>]*?)?>(((?!<\\1(\\s+[^>]*?)?>)[\\s\\S])*?)<\\\/\\1>\/gi,d),e=e.replace(\/^(\\s*\\r?\\n)+|(\\s*\\r?\\n)+$\/g,"")},this.toggleShowBlocktag=function(e){if(bShowBlocktag!==e){bShowBlocktag=!bShowBlocktag;var t=$(_doc.body);bShowBlocktag?(bodyClass+=" showBlocktag",t.addClass("showBlocktag")):(bodyClass=bodyClass.replace(" showBlocktag",""),t.removeClass("showBlocktag"))}},this.toggleSource=function(e){if(bSource!==e){_jTools.find("[cmd=Source]").toggleClass("xheEnabled").toggleClass("xheActive");var t,i,s=_doc.body,a=$(s),n='<span id="_xhe_cursor"><\/span>',o=0,l="";if(bSource?(t=_this.getSource(),a.html("").removeAttr("scroll").attr("class","editMode"+bodyClass),isIE?s.contentEditable="true":_doc.designMode="On",isMozilla&&(_this._exec("inserthtml","-"),$("#"+idFixFFCursor).show().focus().hide()),l="Source"):(_this.pasteHTML(n,!0),t=_this.getSource(!0),o=t.indexOf(n),isOpera||(o=t.substring(0,o).replace(\/\\r\/g,"").length),t=t.replace(\/(\\r?\\n\\s*|)<span id="_xhe_cursor"><\\\/span>(\\s*\\r?\\n|)\/,function(e,t,i){return t&&i?"\\r\\n":t+i}),isIE?s.contentEditable="false":_doc.designMode="Off",a.attr("scroll","no").attr("class","sourceMode").html('<textarea id="sourceCode" wrap="soft" spellcheck="false" style="width:100%;height:100%" \/>'),i=$("#sourceCode",a).blur(_this.getSource)[0],l="WYSIWYG"),bSource=!bSource,_this.setSource(t),_this.focus(),bSource)if(i.setSelectionRange)i.setSelectionRange(o,o);else{var r=i.createTextRange();r.move("character",o),r.select()}else _this.setTextCursor();_jTools.find("[cmd=Source]").attr("title",getLang(l)).find("span").text(l),_jTools.find("[cmd=Source],[cmd=Preview]").toggleClass("xheEnabled"),_jTools.find(".xheButton").not("[cmd=Source],[cmd=Fullscreen],[cmd=About]").toggleClass("xheEnabled").attr("aria-disabled",bSource?!0:!1),setTimeout(setOpts,300)}},this.showPreview=function(){var e=settings.beforeSetSource,t=_this.getSource();e&&(t=e(t));var i="<html><head>"+headHTML+"<title>{#Preview}<\/title>"+(urlBase?'<base href="'+urlBase+'"\/>':"")+"<\/head><body>"+t+"<\/body><\/html>",s=window.screen,a=window.open("","xhePreview","toolbar=yes,location=no,status=yes,menubar=yes,scrollbars=yes,resizable=yes,width="+Math.round(.9*s.width)+",height="+Math.round(.8*s.height)+",left="+Math.round(.05*s.width)),n=a.document;n.open(),n.write(getLang(i)),n.close(),a.focus()},this.toggleFullscreen=function(e){if(bFullscreen!==e){var t=$("#"+idContainer).find(".xheLayout"),i=$("#"+idContainer),s=jQuery.browser.version,a=isIE&&(6==s||7==s);bFullscreen?(a&&_jText.after(i),t.attr("style",sLayoutStyle),_jArea.height(editorHeight-_jTools.outerHeight()),$(window).scrollTop(outerScroll),setTimeout(function(){$(window).scrollTop(outerScroll)},10)):(a&&$("body").append(i),outerScroll=$(window).scrollTop(),sLayoutStyle=t.attr("style"),t.removeAttr("style"),_jArea.height("100%"),setTimeout(fixFullHeight,100)),isMozilla?($("#"+idFixFFCursor).show().focus().hide(),setTimeout(_this.focus,1)):a&&_this.setTextCursor(),bFullscreen=!bFullscreen,i.toggleClass("xhe_Fullscreen"),$("html").toggleClass("xhe_Fullfix"),_jTools.find("[cmd=Fullscreen]").toggleClass("xheActive"),setTimeout(setOpts,300)}},this.showMenu=function(e,t){var i=$('<div class="xheMenu"><\/div>'),s=e.length,a=[];$.each(e,function(e,t){"-"===t.s?a.push('<div class="xheMenuSeparator"><\/div>'):a.push("<a href=\\"javascript:void('"+t.v+'\\')" title="'+(t.t?t.t:t.s)+'" v="'+t.v+'" role="option" aria-setsize="'+s+'" aria-posinset="'+(e+1)+'" tabindex="0">'+t.s+"<\/a>")}),i.append(getLang(a.join(""))),i.click(function(e){return e=e.target,$.nodeName(e,"DIV")?undefined:(_this.loadBookmark(),t($(e).closest("a").attr("v")),_this.hidePanel(),!1)}).mousedown(returnFalse),_this.saveBookmark(),_this.showPanel(i)},this.showColor=function(e){var t=settings.listColors,i=$('<div class="xheColor"><\/div>'),s=[],a=t.length,n=0;$.each(t,function(e,t){0===n%7&&s.push((n>0?"<\/div>":"")+"<div>"),s.push("<a href=\\"javascript:void('"+t+'\\')" xhev="'+t+'" title="'+t+'" style="background:'+t+'" role="option" aria-setsize="'+a+'" aria-posinset="'+(n+1)+'"><\/a>'),n++}),s.push("<\/div>"),i.append(s.join("")),i.click(function(t){return t=t.target,$.nodeName(t,"A")?(_this.loadBookmark(),e($(t).attr("xhev")),_this.hidePanel(),!1):undefined}).mousedown(returnFalse),_this.saveBookmark(),_this.showPanel(i)},this.showPastetext=function(){var e=$(getLang(htmlPastetext)),t=$("#xhePastetextValue",e),i=$("#xheSave",e);i.click(function(){_this.loadBookmark();var e=t.val();return e&&_this.pasteText(e),_this.hidePanel(),!1}),_this.saveBookmark(),_this.showDialog(e)},this.showLink=function(){var e=htmlLink,t=_jDoc.find("a[name]").not("[href]"),i=t.length>0;if(i){var s=[];t.each(function(){var e=$(this).attr("name");s.push('<option value="#'+e+'">'+e+"<\/option>")}),e=e.replace(\/(<div><label for="xheLinkTarget)\/,'<div><label for="xheLinkAnchor">{#link.anchor}<\/label><select id="xheLinkAnchor"><option value="">{#link.anchorNone}<\/option>'+s.join("")+"<\/select><\/div>$1")}var a=$(getLang(e)),n=_this.getParent("a"),o=$("#xheLinkText",a),l=$("#xheLinkUrl",a),r=$("#xheLinkTarget",a),h=$("#xheSave",a),c=_this.getSelect();if(i&&a.find("#xheLinkAnchor").change(function(){var e=$(this).val();""!=e&&l.val(e)}),1===n.length){if(!n.attr("href"))return ev=null,_this.exec("Anchor");l.val(xheAttr(n,"href")),r.attr("value",n.attr("target"))}else""===c&&o.val(getLang(settings.defLinkText)).closest("div").show();settings.upLinkUrl&&_this.uploadInit(l,settings.upLinkUrl,settings.upLinkExt),h.click(function(){_this.loadBookmark();var e=l.val();if((""===e||0===n.length)&&_this._exec("unlink"),""!==e&&"http:\/\/"!==e){var t=e.split(" "),i=r.val(),s=o.val();if(t.length>1){_this._exec("unlink"),c=_this.getSelect();var a,h='<a href="xhe_tmpurl"',d=[];""!==i&&(h+=' target="'+i+'"'),h+=">xhe_tmptext<\/a>",s=""!==c?c:s?s:e;for(var u=0,p=t.length;p>u;u++)e=t[u],""!==e&&(e=e.split("||"),a=h,a=a.replace("xhe_tmpurl",e[0]),a=a.replace("xhe_tmptext",e[1]?e[1]:s),d.push(a));_this.pasteHTML(d.join("&nbsp;"))}else e=t[0].split("||"),s||(s=e[0]),s=e[1]?e[1]:""!==c?"":s?s:e[0],0===n.length?(s?_this.pasteHTML('<a href="#xhe_tmpurl">'+s+"<\/a>"):_this._exec("createlink","#xhe_tmpurl"),n=$('a[href$="#xhe_tmpurl"]',_doc)):s&&!isWebkit&&n.text(s),xheAttr(n,"href",e[0]),""!==i?n.attr("target",i):n.removeAttr("target")}return _this.hidePanel(),!1}),_this.saveBookmark(),_this.showDialog(a)},this.showAnchor=function(){var e=$(getLang(htmlAnchor)),t=_this.getParent("a"),i=$("#xheAnchorName",e),s=$("#xheSave",e);if(1===t.length){if(t.attr("href"))return ev=null,_this.exec("Link");i.val(t.attr("name"))}s.click(function(){_this.loadBookmark();var e=i.val();return e?0===t.length?_this.pasteHTML('<a name="'+e+'"><\/a>'):t.attr("name",e):1===t.length&&t.remove(),_this.hidePanel(),!1}),_this.saveBookmark(),_this.showDialog(e)},this.showImg=function(){var e=$(getLang(htmlImg)),t=_this.getParent("img"),i=$("#xheImgUrl",e),s=$("#xheImgAlt",e),a=$("#xheImgAlign",e),n=$("#xheImgWidth",e),o=$("#xheImgHeight",e),l=$("#xheImgBorder",e),r=$("#xheImgVspace",e),h=$("#xheImgHspace",e),c=$("#xheSave",e);if(1===t.length){i.val(xheAttr(t,"src")),s.val(t.attr("alt")),a.val(t.attr("align")),n.val(t.attr("width")),o.val(t.attr("height")),l.val(t.attr("border"));var d=t.attr("vspace"),u=t.attr("hspace");r.val(0>=d?"":d),h.val(0>=u?"":u)}settings.upImgUrl&&_this.uploadInit(i,settings.upImgUrl,settings.upImgExt),c.click(function(){_this.loadBookmark();var e=i.val();if(""!==e&&"http:\/\/"!==e){var c=e.split(" "),d=s.val(),u=a.val(),p=n.val(),g=o.val(),f=l.val(),m=r.val(),v=h.val();if(c.length>1){var b,x='<img src="xhe_tmpurl"',_=[];""!==d&&(x+=' alt="'+d+'"'),""!==u&&(x+=' align="'+u+'"'),""!==p&&(x+=' width="'+p+'"'),""!==g&&(x+=' height="'+g+'"'),""!==f&&(x+=' border="'+f+'"'),""!==m&&(x+=' vspace="'+m+'"'),""!==v&&(x+=' hspace="'+v+'"'),x+=" \/>";for(var w in c)e=c[w],""!==e&&(e=e.split("||"),b=x,b=b.replace("xhe_tmpurl",e[0]),e[1]&&(b='<a href="'+e[1]+'" target="_blank">'+b+"<\/a>"),_.push(b));_this.pasteHTML(_.join("&nbsp;"))}else if(1===c.length&&(e=c[0],""!==e&&(e=e.split("||"),0===t.length&&(_this.pasteHTML('<img src="'+e[0]+'#xhe_tmpurl" \/>'),t=$('img[src$="#xhe_tmpurl"]',_doc)),xheAttr(t,"src",e[0]),""!==d&&t.attr("alt",d),""!==u?t.attr("align",u):t.removeAttr("align"),""!==p?t.attr("width",p):t.removeAttr("width"),""!==g?t.attr("height",g):t.removeAttr("height"),""!==f?t.attr("border",f):t.removeAttr("border"),""!==m?t.attr("vspace",m):t.removeAttr("vspace"),""!==v?t.attr("hspace",v):t.removeAttr("hspace"),e[1]))){var y=t.parent("a");0===y.length&&(t.wrap("<a><\/a>"),y=t.parent("a")),xheAttr(y,"href",e[1]),y.attr("target","_blank")}}else 1===t.length&&t.remove();return _this.hidePanel(),!1}),_this.saveBookmark(),_this.showDialog(e)},this.showEmbed=function(e,t,i,s,a,n,o){var l=$(getLang(t)),r=_this.getParent('embed[type="'+i+'"],embed[classid="'+s+'"]'),h=$("#xhe"+e+"Url",l),c=$("#xhe"+e+"Width",l),d=$("#xhe"+e+"Height",l),u=$("#xheSave",l);n&&_this.uploadInit(h,n,o),1===r.length&&(h.val(xheAttr(r,"src")),c.val(r.attr("width")),d.val(r.attr("height"))),u.click(function(){_this.loadBookmark();var e=h.val();if(""!==e&&"http:\/\/"!==e){var t=c.val(),n=d.val(),o=\/^\\d+%?$\/;o.test(t)||(t=412),o.test(n)||(n=300);var l='<embed type="'+i+'" classid="'+s+'" src="xhe_tmpurl"'+a,u=e.split(" ");if(u.length>1){var p,g=l+"",f=[];g+=' width="xhe_width" height="xhe_height" \/>';for(var m in u)e=u[m].split("||"),p=g,p=p.replace("xhe_tmpurl",e[0]),p=p.replace("xhe_width",e[1]?e[1]:t),p=p.replace("xhe_height",e[2]?e[2]:n),""!==e&&f.push(p);_this.pasteHTML(f.join("&nbsp;"))}else 1===u.length&&(e=u[0].split("||"),0===r.length&&(_this.pasteHTML(l.replace("xhe_tmpurl",e[0]+"#xhe_tmpurl")+" \/>"),r=$('embed[src$="#xhe_tmpurl"]',_doc)),xheAttr(r,"src",e[0]),r.attr("width",e[1]?e[1]:t),r.attr("height",e[2]?e[2]:n))}else 1===r.length&&r.remove();return _this.hidePanel(),!1}),_this.saveBookmark(),_this.showDialog(l)},this.showEmot=function(e){var t=$('<div class="xheEmot"><\/div>');e=e?e:selEmotGroup?selEmotGroup:"default";var i=arrEmots[e],s=emotPath+e+"\/",a=0,n=[],o="",l=i.width,r=i.height,h=i.line,c=i.count,d=i.list;if(c)for(var u=1;c>=u;u++)a++,n.push("<a href=\\"javascript:void('"+u+'\\')" style="background-image:url('+s+u+'.gif);" emot="'+e+","+u+'" xhev="" title="'+u+'" role="option">&nbsp;<\/a>'),0===a%h&&n.push("<br \/>");else{var p=is(d,"array");$.each(d,function(t,i){p&&(t=i,i="{#emot."+e+"."+t+"}"),a++,n.push("<a href=\\"javascript:void('"+i+'\\')" style="background-image:url('+s+t+'.gif);" emot="'+e+","+t+'" title="'+i+'" xhev="'+i+'" role="option">&nbsp;<\/a>'),0===a%h&&n.push("<br \/>")})}var g=h*(l+12),f=Math.ceil(a\/h)*(r+12),m=.75*g;m>=f&&(m=""),o=$(getLang("<style>"+(m?".xheEmot div{width:"+(g+20)+"px;height:"+m+"px;}":"")+".xheEmot div a{width:"+l+"px;height:"+r+"px;}<\/style><div>"+n.join("")+"<\/div>")).click(function(e){e=e.target;var t=$(e);if($.nodeName(e,"A"))return _this.loadBookmark(),_this.pasteHTML('<img emot="'+t.attr("emot")+'" alt="'+t.attr("xhev")+'">'),_this.hidePanel(),!1}).mousedown(returnFalse),t.append(o);var v,b=0,x=['<ul role="tablist">'];$.each(arrEmots,function(t,i){b++,x.push("<li"+(e===t?' class="cur"':"")+' role="presentation"><a href="javascript:void(\\''+i.name+'\\')" group="'+t+'" role="tab" tabindex="0">'+i.name+"<\/a><\/li>")}),b>1&&(x.push('<\/ul><br style="clear:both;" \/>'),v=$(getLang(x.join(""))).click(function(e){return selEmotGroup=$(e.target).attr("group"),_this.exec("Emot"),!1}).mousedown(returnFalse),t.append(v)),_this.saveBookmark(),_this.showPanel(t)},this.showTable=function(){var e=$(getLang(htmlTable)),t=$("#xheTableRows",e),i=$("#xheTableColumns",e),s=$("#xheTableHeaders",e),a=$("#xheTableWidth",e),n=$("#xheTableHeight",e),o=$("#xheTableBorder",e),l=$("#xheTableCellSpacing",e),r=$("#xheTableCellPadding",e),h=$("#xheTableAlign",e),c=$("#xheTableCaption",e),d=$("#xheSave",e);d.click(function(){_this.loadBookmark();var e,d,u=c.val(),p=o.val(),g=t.val(),f=i.val(),m=s.val(),v=a.val(),b=n.val(),x=l.val(),_=r.val(),w=h.val(),y="<table"+(""!==p?' border="'+p+'"':"")+(""!==v?' width="'+v+'"':"")+(""!==b?' height="'+b+'"':"")+(""!==x?' cellspacing="'+x+'"':"")+(""!==_?' cellpadding="'+_+'"':"")+(""!==w?' align="'+w+'"':"")+">";if(""!==u&&(y+="<caption>"+u+"<\/caption>"),"row"===m||"both"===m){for(y+="<tr>",e=0;f>e;e++)y+='<th scope="col"><\/th>';y+="<\/tr>",g--}for(y+="<tbody>",e=0;g>e;e++){for(y+="<tr>",d=0;f>d;d++)y+=0!==d||"col"!==m&&"both"!==m?"<td><\/td>":'<th scope="row"><\/th>';y+="<\/tr>"}return y+="<\/tbody><\/table>",_this.pasteHTML(y),_this.hidePanel(),!1}),_this.saveBookmark(),_this.showDialog(e)},this.showAbout=function(){var e=$(getLang(htmlAbout));e.find("p").attr("role","presentation"),_this.showDialog(e,!0),setTimeout(function(){e.focus()},100)},this.addShortcuts=function(e,t){e=e.toLowerCase(),arrShortCuts[e]===undefined&&(arrShortCuts[e]=[]),arrShortCuts[e].push(t)},this.delShortcuts=function(e){delete arrShortCuts[e]},this.uploadInit=function(e,t,i){function s(t){is(t,"string")&&(t=[t]);var i,s,a,n=!1,o=t.length,l=[],r=settings.onUpload;for(r&&r(t),i=0;o>i;i++)s=t[i],a=is(s,"string")?s:s.url,"!"===a.substr(0,1)&&(n=!0,a=a.substr(1)),l.push(a);e.val(l.join(" ")),n&&e.closest(".xheDialog").find("#xheSave").click()}var a=$(getLang('<span class="xheUpload"><input type="text" style="visibility:hidden;" tabindex="-1" \/><input type="button" value="'+settings.upBtnText+'" class="xheBtn" tabindex="-1" \/><\/span>')),n=$(".xheBtn",a),o=settings.html5Upload,l=o?settings.upMultiple:1;if(e.after(a),n.before(e),t=t.replace(\/{editorRoot}\/gi,editorRoot),"!"===t.substr(0,1))n.click(function(){_this.showIframeModal("{#upload.browserTitle}",t.substr(1),s,null,null)});else{a.append('<input type="file"'+(l>1?' multiple=""':"")+' class="xheFile" size="13" name="'+uploadInputname+'" tabindex="-1" \/>');var r,h=$(".xheFile",a);h.change(function(){r=[],_this.startUpload(h[0],t,i,s)}),setTimeout(function(){e.closest(".xheDialog").bind("dragenter dragover",returnFalse).bind("drop",function(e){var a,n=e.originalEvent.dataTransfer;return o&&n&&(a=n.files)&&a.length>0&&_this.startUpload(a,t,i,s),!1})},10)}},this.startUpload=function(fromFiles,toUrl,limitExt,onUploadComplete){function onUploadCallback(sText,bFinish){var data=Object,bOK=!1;try{data=eval("("+sText+")")}catch(ex){}return data.err===undefined||data.msg===undefined?alert(getLang("upload.apiError",toUrl,sText)):data.err?alert(data.err):(arrMsg.push(data.msg),bOK=!0),(!bOK||bFinish)&&_this.removeModal(),bFinish&&bOK&&onUploadComplete(arrMsg),bOK}var arrMsg=[],bHtml5Upload=settings.html5Upload,upMultiple=bHtml5Upload?settings.upMultiple:1,upload,fileList,filename,jUploadTip=$(getLang('<div style="padding:22px 0;text-align:center;line-height:30px;">{#upload.progressTip}<br \/><\/div>')),sLoading='<img src="'+skinPath+'img\/loading.gif">';if(!isOpera&&bHtml5Upload&&(!fromFiles.nodeType||(fileList=fromFiles.files)&&fileList[0].name)){fileList||(fileList=fromFiles);var i,len=fileList.length;if(len>upMultiple)return alert(getLang("upload.countLimit",upMultiple)),undefined;for(i=0;len>i;i++)if(!checkFileExt(fileList[i].name,limitExt))return;var jProgress=$('<div class="xheProgress"><div><span>0%<\/span><\/div><\/div>');jUploadTip.append(jProgress),upload=new _this.html5Upload(uploadInputname,fileList,toUrl,onUploadCallback,function(e){if(e.loaded>=0){var t=Math.round(100*e.loaded\/e.total)+"%";$("div",jProgress).css("width",t),$("span",jProgress).text(t+" ( "+formatBytes(e.loaded)+" \/ "+formatBytes(e.total)+" )")}else jProgress.replaceWith(sLoading)})}else{if(!checkFileExt(fromFiles.value,limitExt))return;jUploadTip.append(sLoading),upload=new _this.html4Upload(fromFiles,toUrl,onUploadCallback)}_this.showModal("{#upload.progressTitle}",jUploadTip,320,150),upload.start()},this.html4Upload=function(e,t,i){var s=(new Date).getTime(),a="jUploadFrame"+s,n=this,o=$('<iframe name="'+a+'" class="xheHideArea" \/>').appendTo("body"),l=$('<form action="'+t+'" target="'+a+'" method="post" enctype="multipart\/form-data" class="xheHideArea"><\/form>').appendTo("body"),r=$(e),h=r.clone().attr("disabled","true");return r.before(h).appendTo(l),this.remove=function(){null!==n&&(h.before(r).remove(),o.remove(),l.remove(),n=null)},this.onLoad=function(){var e=o[0].contentWindow.document,t=$(e.body).text();e.write(""),n.remove(),i(t,!0)},this.start=function(){l.submit(),o.load(n.onLoad)},this},this.html5Upload=function(e,t,i,s,a){function n(t,i,s,a){l=new XMLHttpRequest,upload=l.upload,l.onreadystatechange=function(){4===l.readyState&&s(l.responseText)},upload?upload.onprogress=function(e){a(e.loaded)}:a(-1),l.open("POST",i),l.setRequestHeader("Content-Type","application\/octet-stream"),l.setRequestHeader("Content-Disposition",'attachment; name="'+encodeURIComponent(e)+'"; filename="'+encodeURIComponent(t.name)+'"'),l.sendAsBinary&&t.getAsBinary?l.sendAsBinary(t.getAsBinary()):l.send(t)}function o(e){a&&a({loaded:c+e,total:d})}for(var l,r=0,h=t.length,c=0,d=0,u=this,p=0;h>p;p++)d+=t[p].size;this.remove=function(){l&&(l.abort(),l=null)},this.uploadNext=function(e){e&&(c+=t[r-1].size,o(0)),(!e||e&&s(e,r===h)===!0)&&h>r&&n(t[r++],i,u.uploadNext,function(e){o(e)})},this.start=function(){u.uploadNext()}},this.showIframeModal=function(title,url,callback,w,h,onRemove){function initModalWin(){try{modalWin.callback=callbackModal,modalWin.unloadme=_this.removeModal,$(modalWin.document).keydown(checkEsc),result=modalWin.name}catch(e){}}function callbackModal(e){modalWin.document.write(""),_this.removeModal(),null!=e&&callback(e)}var jContent=$('<iframe frameborder="0" src="'+url.replace(\/{editorRoot}\/gi,editorRoot)+(\/\\?\/.test(url)?"&":"?")+"parenthost="+location.host+'" style="width:100%;height:100%;display:none;" \/><div class="xheModalIfmWait"><\/div>'),jIframe=jContent.eq(0),jWait=jContent.eq(1);_this.showModal(title,jContent,w,h,onRemove);var modalWin=jIframe[0].contentWindow,result;initModalWin(),jIframe.load(function(){if(initModalWin(),result){var bResult=!0;try{result=eval("("+unescape(result)+")")}catch(e){bResult=!1}if(bResult)return callbackModal(result)}jWait.is(":visible")&&(jIframe.show().focus(),jWait.remove())})},this.showModal=function(e,t,i,s,a){return bShowModal?!1:(_this.panelState=bShowPanel,bShowPanel=!1,layerShadow=settings.layerShadow,i=i?i:settings.modalWidth,s=s?s:settings.modalHeight,jModal=$(getLang('<div class="xheModal" style="width:'+(i-1)+"px;height:"+s+"px;margin-left:-"+Math.ceil(i\/2)+"px;"+(isIE&&7>browerVer?"":"margin-top:-"+Math.ceil(s\/2)+"px")+'">'+(settings.modalTitle?'<div class="xheModalTitle"><span class="xheModalClose" title="{#close} (Esc)" tabindex="0" role="button"><\/span>'+e+"<\/div>":"")+'<div class="xheModalContent"><\/div><\/div>')).appendTo("body"),jOverlay=$('<div class="xheModalOverlay"><\/div>').appendTo("body"),layerShadow>0&&(jModalShadow=$('<div class="xheModalShadow" style="width:'+jModal.outerWidth()+"px;height:"+jModal.outerHeight()+"px;margin-left:-"+(Math.ceil(i\/2)-layerShadow-2)+"px;"+(isIE&&7>browerVer?"":"margin-top:-"+(Math.ceil(s\/2)-layerShadow-2)+"px")+'"><\/div>').appendTo("body")),$(".xheModalContent",jModal).css("height",s-(settings.modalTitle?$(".xheModalTitle").outerHeight():0)).html(t),isIE&&6===browerVer&&(jHideSelect=$("select:visible").css("visibility","hidden")),$(".xheModalClose",jModal).click(_this.removeModal),jOverlay.show(),layerShadow>0&&jModalShadow.show(),jModal.show(),setTimeout(function(){jModal.find("a,input[type=text],textarea").filter(":visible").filter(function(){return"hidden"!==$(this).css("visibility")}).eq(0).focus()},10),bShowModal=!0,onModalRemove=a,undefined)},this.removeModal=function(){jHideSelect&&jHideSelect.css("visibility","visible"),jModal.html("").remove(),layerShadow>0&&jModalShadow.remove(),jOverlay.remove(),onModalRemove&&onModalRemove(),bShowModal=!1,bShowPanel=_this.panelState},this.showDialog=function(e,t){var i=$('<div class="xheDialog"><\/div>'),s=$(e),a=$("#xheSave",s);if(1===a.length){if(s.find("input[type=text],select").keypress(function(e){return 13===e.which?(a.click(),!1):undefined}),s.find("textarea").keydown(function(e){return e.ctrlKey&&13===e.which?(a.click(),!1):undefined}),a.after(getLang(' <input type="button" id="xheCancel" value="{#dialogCancel}" \/>')),$("#xheCancel",s).click(_this.hidePanel),!settings.clickCancelDialog){bClickCancel=!1;var n=$('<div class="xheFixCancel"><\/div>').appendTo("body").mousedown(returnFalse),o=_jArea.offset();n.css({left:o.left,top:o.top,width:_jArea.outerWidth(),height:_jArea.outerHeight()})}i.mousedown(function(){bDisableHoverExec=!0})}i.append(s),_this.showPanel(i,t)},this.showPanel=function(e,t){if(!ev.target)return!1;_jPanel.html("").append(e).css("left",-999).css("top",-999),_jPanelButton=$(ev.target).closest("a").addClass("xheActive");var i=_jPanelButton.offset(),s=i.left,a=i.top;a+=_jPanelButton.outerHeight()-1,_jCntLine.css({left:s+1,top:a,width:_jPanelButton.width()}).show();var n=document.documentElement,o=document.body;s+_jPanel.outerWidth()>(window.pageXOffset||n.scrollLeft||o.scrollLeft)+(n.clientWidth||o.clientWidth)&&(s-=_jPanel.outerWidth()-_jPanelButton.outerWidth());var l=settings.layerShadow;l>0&&_jShadow.css({left:s+l,top:a+l,width:_jPanel.outerWidth(),height:_jPanel.outerHeight()}).show();var r=$("#"+idContainer).offsetParent().css("zIndex");r&&!isNaN(r)&&(_jShadow.css("zIndex",parseInt(r,10)+1),_jPanel.css("zIndex",parseInt(r,10)+2),_jCntLine.css("zIndex",parseInt(r,10)+3)),_jPanel.css({left:s,top:a}).show(),t||setTimeout(function(){_jPanel.find("a,input[type=text],textarea").filter(":visible").filter(function(){return"hidden"!==$(this).css("visibility")}).eq(0).focus()},10),bQuickHoverExec=bShowPanel=!0},this.hidePanel=function(){bShowPanel&&(_jPanelButton.removeClass("xheActive"),_jShadow.hide(),_jCntLine.hide(),_jPanel.hide(),bShowPanel=!1,bClickCancel||($(".xheFixCancel").remove(),bClickCancel=!0),bQuickHoverExec=bDisableHoverExec=!1,lastAngle=null,_this.focus(),_this.loadBookmark())},this.exec=function(e){_this.hidePanel();var t=arrTools[e];if(!t)return!1;if(null===ev){ev={};var i=_jTools.find(".xheButton[cmd="+e+"]");1===i.length&&(ev.target=i)}if(t.e)t.e.call(_this);else switch(e=e.toLowerCase()){case"cut":try{if(_doc.execCommand(e),!_doc.queryCommandSupported(e))throw"Error"}catch(s){alert(getLang("cutDisabledTip"))}break;case"copy":try{if(_doc.execCommand(e),!_doc.queryCommandSupported(e))throw"Error"}catch(s){alert(getLang("copyDisabledTip"))}break;case"paste":try{if(_doc.execCommand(e),!_doc.queryCommandSupported(e))throw"Error"}catch(s){alert(getLang("pasteDisabledTip"))}break;case"pastetext":window.clipboardData?_this.pasteText(window.clipboardData.getData("Text",!0)):_this.showPastetext();break;case"blocktag":var a=[];$.each(settings.listBlocktag,function(e,t){a.push({s:"<"+t.n+">{#listBlocktag."+t.n+"}<\/"+t.n+">",v:"<"+t.n+">",t:"{#listBlocktag."+t.n+"}"})}),_this.showMenu(a,function(e){_this._exec("formatblock",e)$/;"	f
formatXHTML.s	js/xheditor.min.js	/^var o;return s=s.replace(\/\\s+_xhe_(?:src|href)\\s*=\\s*("[^"]*"|'[^']*'|[^>\\s]+)\/i,function(e,t){return o=t.match(\/^(["']?)(.*)\\1\/)[2],""}),o&&urlType&&(o=getLocalUrl(o,urlType,urlBase)),s=s.replace(\/\\s+([\\w\\-:]+)\\s*=\\s*("[^"]*"|'[^']*'|[^>\\s]+)\/g,function(e,t,i){if(t=t.toLowerCase(),i=i.match(\/^(["']?)(.*)\\1\/)[2].replace(\/"\/g,"'"),"class"===t){if(i.match(\/^["']?(apple|webkit)\/i))return"";if(i=i.replace(\/\\s?xhe-[a-z]+\/gi,""),""===i)return""}else{if(t.match(\/^((_xhe_|_moz_|_webkit_)|jquery\\d+)\/i))return"";if(o&&t.match(\/^(src|href)$\/i))return" "+t+'="'+o+'"';"style"===t&&(i=i.replace(\/(^|;)\\s*(font-size)\\s*:\\s*([a-z-]+)\\s*(;|$)\/i,function(e,t,i,s,a){for(var o,l,r=0;n.length>r;r++)if(o=n[r],s===o.n){l=o.s;break}return t+i+":"+l+a}))}return" "+t+'="'+i+'"'}),"img"!==i||s.match(\/\\s+alt\\s*=\\s*("[^"]*"|'[^']*'|[^>\\s]+)\/i)||(s+=' alt=""'),t+s+a}),e=e.replace(\/(<(td|th)(?:\\s+[^>]*?)?>)\\s*([\\s\\S]*?)(<br(\\s*\\\/)?>)?\\s*<\\\/\\2>\/gi,function(e,t,i,s){return t+(s?s:"&nbsp;")+"<\/"+i+">"}),e=e.replace(\/^\\s*(?:<(p|div)(?:\\s+[^>]*?)?>)?\\s*(<span(?:\\s+[^>]*?)?>\\s*<\\\/span>|<br(?:\\s+[^>]*?)?>|&nbsp;)*\\s*(?:<\\\/\\1>)?\\s*$\/i,"")}return e=e.replace(\/(<pre(?:\\s+[^>]*?)?>)([\\s\\S]+?)(<\\\/pre>)\/gi,function(e,t,i,s){return t+i.replace(\/<br\\s*\\\/?>\/gi,"\\r\\n")+s})},this.getSource=function(e){var t,i=settings.beforeGetSource;return bSource?(t=$("#sourceCode",_doc).val(),i||(t=_this.formatXHTML(t,!1))):(t=_this.processHTML(_doc.body.innerHTML,"read"),t=_this.cleanHTML(t),t=_this.formatXHTML(t,e),i&&(t=i(t))),_text.value=t,t},this.cleanWord=function(e){function t(e,t,i){return i}var i=settings.cleanPaste;if(i>0&&3>i&&\/mso(-|normal)|WordDocument|<table\\s+[^>]*?x:str|\\s+class\\s*=\\s*"?xl[67]\\d"\/i.test(e)){e=e.replace(\/<!--[\\s\\S]*?-->|<!(--)?\\[[\\s\\S]+?\\](--)?>|<style(\\s+[^>]*?)?>[\\s\\S]*?<\\\/style>\/gi,""),e=e.replace(\/\\r?\\n\/gi,""),isIE?(e=e.replace(\/<v:shapetype(\\s+[^>]*)?>[\\s\\S]*<\\\/v:shapetype>\/gi,""),e=e.replace(\/<v:shape(\\s+[^>]+)?>[\\s\\S]*?<v:imagedata(\\s+[^>]+)?>\\s*<\\\/v:imagedata>[\\s\\S]*?<\\\/v:shape>\/gi,function(e,t,i){var s;if(s=i.match(\/\\s+src\\s*=\\s*("[^"]+"|'[^']+'|[^>\\s]+)\/i)){s=s[1].match(\/^(["']?)(.*)\\1\/)[2];var a='<img src="'+editorRoot+"xheditor_skin\/blank.gif"+'" _xhe_temp="true" class="wordImage"';return s=t.match(\/\\s+style\\s*=\\s*("[^"]+"|'[^']+'|[^>\\s]+)\/i),s&&(s=s[1].match(\/^(["']?)(.*)\\1\/)[2],a+=' style="'+s+'"'),a+=" \/>"}return""})):e=e.replace(\/<img( [^<>]*(v:shapes|msohtmlclip)[^<>]*)\\\/?>\/gi,function(e,t){var i,s='<img src="'+editorRoot+"xheditor_skin\/blank.gif"+'" _xhe_temp="true" class="wordImage"';return i=t.match(\/ width\\s*=\\s*"([^"]+)"\/i),i&&(s+=' width="'+i[1]+'"'),i=t.match(\/ height\\s*=\\s*"([^"]+)"\/i),i&&(s+=' height="'+i[1]+'"'),s+" \/>"}),e=e.replace(\/(<(\\\/?)([\\w\\-:]+))((?:\\s+[\\w\\-:]+(?:\\s*=\\s*(?:"[^"]*"|'[^']*'|[^>\\s]+))?)*)\\s*(\\\/?>)\/g,function(e,t,s,a,n,o){return a=a.toLowerCase(),a.match(\/^(link)$\/)&&n.match(\/file:\\\/\\\/\/i)||a.match(\/:\/)||"span"===a&&2===i?"":(s||(n=n.replace(\/\\s([\\w\\-:]+)(?:\\s*=\\s*("[^"]*"|'[^']*'|[^>\\s]+))?\/gi,function(e,t,s){if(t=t.toLowerCase(),\/:\/.test(t))return"";if(s=s.match(\/^(["']?)(.*)\\1\/)[2],1===i)switch(a){case"p":if("style"===t)return s=s.replace(\/"|&quot;\/gi,"'").replace(\/\\s*([^:]+)\\s*:\\s*(.*?)(;|$)\/gi,function(e,t,i){return\/^(text-align)$\/i.test(t)?t+":"+i+";":""}).replace(\/^\\s+|\\s+$\/g,""),s?" "+t+'="'+s+'"':"";break;case"span":if("style"===t)return s=s.replace(\/"|&quot;\/gi,"'").replace(\/\\s*([^:]+)\\s*:\\s*(.*?)(;|$)\/gi,function(e,t,i){return\/^(color|background|font-size|font-family)$\/i.test(t)?t+":"+i+";":""}).replace(\/^\\s+|\\s+$\/g,""),s?" "+t+'="'+s+'"':"";break;case"table":if(t.match(\/^(cellspacing|cellpadding|border|width)$\/i))return e;break;case"td":if(t.match(\/^(rowspan|colspan)$\/i))return e;if("style"===t)return s=s.replace(\/"|&quot;\/gi,"'").replace(\/\\s*([^:]+)\\s*:\\s*(.*?)(;|$)\/gi,function(e,t,i){return\/^(width|height)$\/i.test(t)?t+":"+i+";":""}).replace(\/^\\s+|\\s+$\/g,""),s?" "+t+'="'+s+'"':"";break;case"a":if(t.match(\/^(href)$\/i))return e;break;case"font":case"img":return e}else if(2===i)switch(a){case"td":if(t.match(\/^(rowspan|colspan)$\/i))return e;break;case"img":return e}return""})),t+n+o)});for(var s=0;3>s;s++)e=e.replace(\/<([^\\s>]+)(\\s+[^>]*)?>\\s*<\\\/\\1>\/g,"");for(var s=0;3>s;s++)e=e.replace(\/<(span|a)>(((?!<\\1(\\s+[^>]*?)?>)[\\s\\S]|<\\1(\\s+[^>]*?)?>((?!<\\1(\\s+[^>]*?)?>)[\\s\\S]|<\\1(\\s+[^>]*?)?>((?!<\\1(\\s+[^>]*?)?>)[\\s\\S])*?<\\\/\\1>)*?<\\\/\\1>)*?)<\\\/\\1>\/gi,t);for(var s=0;3>s;s++)e=e.replace(\/<(span|a)>(((?!<\\1(\\s+[^>]*?)?>)[\\s\\S]|<\\1(\\s+[^>]*?)?>((?!<\\1(\\s+[^>]*?)?>)[\\s\\S])*?<\\\/\\1>)*?)<\\\/\\1>\/gi,t);for(var s=0;3>s;s++)e=e.replace(\/<(span|a)>(((?!<\\1(\\s+[^>]*?)?>)[\\s\\S])*?)<\\\/\\1>\/gi,t);for(var s=0;3>s;s++)e=e.replace(\/<font(\\s+[^>]+)><font(\\s+[^>]+)>\/gi,function(e,t,i){return"<font"+t+i+">"});e=e.replace(\/(<(\\\/?)(tr|td)(?:\\s+[^>]+)?>)[^<>]+\/gi,function(e,t,i,s){return!i&&\/^td$\/i.test(s)?e:t})}return e},this.cleanHTML=function(e){e=e.replace(\/<!?\\\/?(DOCTYPE|html|body|meta)(\\s+[^>]*?)?>\/gi,"");var t;return e=e.replace(\/<head(?:\\s+[^>]*?)?>([\\s\\S]*?)<\\\/head>\/i,function(e,i){return t=i.match(\/<(script|style)(\\s+[^>]*?)?>[\\s\\S]*?<\\\/\\1>\/gi),""}),t&&(e=t.join("")+e),e=e.replace(\/<\\??xml(:\\w+)?(\\s+[^>]*?)?>([\\s\\S]*?<\\\/xml>)?\/gi,""),settings.internalScript||(e=e.replace(\/<script(\\s+[^>]*?)?>[\\s\\S]*?<\\\/script>\/gi,"")),settings.internalStyle||(e=e.replace(\/<style(\\s+[^>]*?)?>[\\s\\S]*?<\\\/style>\/gi,"")),settings.linkTag&&settings.inlineScript&&settings.inlineStyle||(e=e.replace(\/(<(\\w+))((?:\\s+[\\w-]+\\s*=\\s*(?:"[^"]*"|'[^']*'|[^>\\s]+))*)\\s*(\\\/?>)\/gi,function(e,t,i,s,a){return settings.linkTag||"link"!==i.toLowerCase()?(settings.inlineScript||(s=s.replace(\/\\s+on(?:click|dblclick|mouse(down|up|move|over|out|enter|leave|wheel)|key(down|press|up)|change|select|submit|reset|blur|focus|load|unload)\\s*=\\s*("[^"]*"|'[^']*'|[^>\\s]+)\/gi,"")),settings.inlineStyle||(s=s.replace(\/\\s+(style|class)\\s*=\\s*("[^"]*"|'[^']*'|[^>\\s]+)\/gi,"")),t+s+a):""})),e=e.replace(\/<\\\/(strong|b|u|strike|em|i)>((?:\\s|<br\\\/?>|&nbsp;)*?)<\\1(\\s+[^>]*?)?>\/gi,"$2")},this.formatXHTML=function(e,t){function i(e){for(var t={},i=e.split(","),s=0;i.length>s;s++)t[i[s]]=!0;return t}function s(e){e=e.toLowerCase();var t=b[e];return t?t:e}function a(e,t,i){if(p[e])for(;y.last()&&g[y.last()];)n(y.last());f[e]&&y.last()===e&&n(e),i=u[e]||!!i,i||y.push(e);var s=[];s.push("<"+e),t.replace(_,function(e,t){t=t.toLowerCase();var i=arguments[2]?arguments[2]:arguments[3]?arguments[3]:arguments[4]?arguments[4]:m[t]?t:"";s.push(" "+t+'="'+i.replace(\/"\/g,"'")+'"')}),s.push((i?" \/":"")+">"),h(s.join(""),e,!0),"pre"===e&&(P=!0)}function n(e){if(e)for(var t=y.length-1;t>=0&&y[t]!==e;t--);else var t=0;if(t>=0){for(var i=y.length-1;i>=t;i--)h("<\/"+y[i]+">",y[i]);y.length=t}"pre"===e&&(P=!1,M--)}function o(e){h(_this.domEncode(e))}function l(e){w.push(e.replace(\/^[\\s\\r\\n]+|[\\s\\r\\n]+$\/g,""))}function r(e){w.push(e)}function h(e,i,s){if(P||(e=e.replace(\/(\\t*\\r?\\n\\t*)+\/g,"")),P||t!==!0)w.push(e);else{if(e.match(\/^\\s*$\/))return w.push(e),undefined;var a=p[i],n=a?i:"";a?(s&&M++,""===E&&M--):E&&M++,(n!==E||a)&&c(),w.push(e),"br"===i&&c(),!a||!u[i]&&s||M--,E=a?i:"",L=s}}function c(){if(w.push("\\r\\n"),M>0)for(var e=M;e--;)w.push("	")}function d(e,t,i,s){if(!i)return s;var a="";return i=i.replace(\/ face\\s*=\\s*"\\s*([^"]*)\\s*"\/i,function(e,t){return t&&(a+="font-family:"+t+";"),""}),i=i.replace(\/ size\\s*=\\s*"\\s*(\\d+)\\s*"\/i,function(e,t){return a+="font-size:"+I[(t>7?7:1>t?1:t)-1].s+";",""}),i=i.replace(\/ color\\s*=\\s*"\\s*([^"]*)\\s*"\/i,function(e,t){return t&&(a+="color:"+t+";"),""}),i=i.replace(\/ style\\s*=\\s*"\\s*([^"]*)\\s*"\/i,function(e,t){return t&&(a+=t),""}),i+=' style="'+a+'"',i?"<span"+i+">"+s+"<\/span>":s}var u=i("area,base,basefont,br,col,frame,hr,img,input,isindex,link,meta,param,embed"),p=i("address,applet,blockquote,button,center,dd,dir,div,dl,dt,fieldset,form,frameset,h1,h2,h3,h4,h5,h6,hr,iframe,ins,isindex,li,map,menu,noframes,noscript,object,ol,p,pre,table,tbody,td,tfoot,th,thead,tr,ul,script"),g=i("a,abbr,acronym,applet,b,basefont,bdo,big,br,button,cite,code,del,dfn,em,font,i,iframe,img,input,ins,kbd,label,map,object,q,s,samp,script,select,small,span,strike,strong,sub,sup,textarea,tt,u,var"),f=i("colgroup,dd,dt,li,options,p,td,tfoot,th,thead,tr"),m=i("checked,compact,declare,defer,disabled,ismap,multiple,nohref,noresize,noshade,nowrap,readonly,selected"),v=i("script,style"),b={b:"strong",i:"em",s:"del",strike:"del"},x=\/<(?:\\\/([^\\s>]+)|!([^>]*?)|([\\w\\-:]+)((?:"[^"]*"|'[^']*'|[^"'<>])*)\\s*(\\\/?))>\/g,_=\/\\s*([\\w\\-:]+)(?:\\s*=\\s*(?:"([^"]*)"|'([^']*)'|([^\\s]+)))?\/g,w=[],y=[];y.last=function(){return this[this.length-1]};for(var k,C,T,S,$,F,L,j=0,M=-1,E="body",P=!1;k=x.exec(e);)C=k.index,C>j&&(F=e.substring(j,C),S?$.push(F):o(F)),j=x.lastIndex,!(T=k[1])||(T=s(T),S&&T===S&&(l($.join("")),S=null,$=null),S)?S?$.push(k[0]):(T=k[3])?(T=s(T),a(T,k[4],k[5]),v[T]&&(S=T,$=[])):k[2]&&r(k[0]):n(T);e.length>j&&o(e.substring(j,e.length)),n(),e=w.join(""),w=null;var I=settings.listFontsize;return e=e.replace(\/<(font)(\\s+[^>]*?)?>(((?!<\\1(\\s+[^>]*?)?>)[\\s\\S]|<\\1(\\s+[^>]*?)?>((?!<\\1(\\s+[^>]*?)?>)[\\s\\S]|<\\1(\\s+[^>]*?)?>((?!<\\1(\\s+[^>]*?)?>)[\\s\\S])*?<\\\/\\1>)*?<\\\/\\1>)*?)<\\\/\\1>\/gi,d),e=e.replace(\/<(font)(\\s+[^>]*?)?>(((?!<\\1(\\s+[^>]*?)?>)[\\s\\S]|<\\1(\\s+[^>]*?)?>((?!<\\1(\\s+[^>]*?)?>)[\\s\\S])*?<\\\/\\1>)*?)<\\\/\\1>\/gi,d),e=e.replace(\/<(font)(\\s+[^>]*?)?>(((?!<\\1(\\s+[^>]*?)?>)[\\s\\S])*?)<\\\/\\1>\/gi,d),e=e.replace(\/^(\\s*\\r?\\n)+|(\\s*\\r?\\n)+$\/g,"")},this.toggleShowBlocktag=function(e){if(bShowBlocktag!==e){bShowBlocktag=!bShowBlocktag;var t=$(_doc.body);bShowBlocktag?(bodyClass+=" showBlocktag",t.addClass("showBlocktag")):(bodyClass=bodyClass.replace(" showBlocktag",""),t.removeClass("showBlocktag"))}},this.toggleSource=function(e){if(bSource!==e){_jTools.find("[cmd=Source]").toggleClass("xheEnabled").toggleClass("xheActive");var t,i,s=_doc.body,a=$(s),n='<span id="_xhe_cursor"><\/span>',o=0,l="";if(bSource?(t=_this.getSource(),a.html("").removeAttr("scroll").attr("class","editMode"+bodyClass),isIE?s.contentEditable="true":_doc.designMode="On",isMozilla&&(_this._exec("inserthtml","-"),$("#"+idFixFFCursor).show().focus().hide()),l="Source"):(_this.pasteHTML(n,!0),t=_this.getSource(!0),o=t.indexOf(n),isOpera||(o=t.substring(0,o).replace(\/\\r\/g,"").length),t=t.replace(\/(\\r?\\n\\s*|)<span id="_xhe_cursor"><\\\/span>(\\s*\\r?\\n|)\/,function(e,t,i){return t&&i?"\\r\\n":t+i}),isIE?s.contentEditable="false":_doc.designMode="Off",a.attr("scroll","no").attr("class","sourceMode").html('<textarea id="sourceCode" wrap="soft" spellcheck="false" style="width:100%;height:100%" \/>'),i=$("#sourceCode",a).blur(_this.getSource)[0],l="WYSIWYG"),bSource=!bSource,_this.setSource(t),_this.focus(),bSource)if(i.setSelectionRange)i.setSelectionRange(o,o);else{var r=i.createTextRange();r.move("character",o),r.select()}else _this.setTextCursor();_jTools.find("[cmd=Source]").attr("title",getLang(l)).find("span").text(l),_jTools.find("[cmd=Source],[cmd=Preview]").toggleClass("xheEnabled"),_jTools.find(".xheButton").not("[cmd=Source],[cmd=Fullscreen],[cmd=About]").toggleClass("xheEnabled").attr("aria-disabled",bSource?!0:!1),setTimeout(setOpts,300)}},this.showPreview=function(){var e=settings.beforeSetSource,t=_this.getSource();e&&(t=e(t));var i="<html><head>"+headHTML+"<title>{#Preview}<\/title>"+(urlBase?'<base href="'+urlBase+'"\/>':"")+"<\/head><body>"+t+"<\/body><\/html>",s=window.screen,a=window.open("","xhePreview","toolbar=yes,location=no,status=yes,menubar=yes,scrollbars=yes,resizable=yes,width="+Math.round(.9*s.width)+",height="+Math.round(.8*s.height)+",left="+Math.round(.05*s.width)),n=a.document;n.open(),n.write(getLang(i)),n.close(),a.focus()},this.toggleFullscreen=function(e){if(bFullscreen!==e){var t=$("#"+idContainer).find(".xheLayout"),i=$("#"+idContainer),s=jQuery.browser.version,a=isIE&&(6==s||7==s);bFullscreen?(a&&_jText.after(i),t.attr("style",sLayoutStyle),_jArea.height(editorHeight-_jTools.outerHeight()),$(window).scrollTop(outerScroll),setTimeout(function(){$(window).scrollTop(outerScroll)},10)):(a&&$("body").append(i),outerScroll=$(window).scrollTop(),sLayoutStyle=t.attr("style"),t.removeAttr("style"),_jArea.height("100%"),setTimeout(fixFullHeight,100)),isMozilla?($("#"+idFixFFCursor).show().focus().hide(),setTimeout(_this.focus,1)):a&&_this.setTextCursor(),bFullscreen=!bFullscreen,i.toggleClass("xhe_Fullscreen"),$("html").toggleClass("xhe_Fullfix"),_jTools.find("[cmd=Fullscreen]").toggleClass("xheActive"),setTimeout(setOpts,300)}},this.showMenu=function(e,t){var i=$('<div class="xheMenu"><\/div>'),s=e.length,a=[];$.each(e,function(e,t){"-"===t.s?a.push('<div class="xheMenuSeparator"><\/div>'):a.push("<a href=\\"javascript:void('"+t.v+'\\')" title="'+(t.t?t.t:t.s)+'" v="'+t.v+'" role="option" aria-setsize="'+s+'" aria-posinset="'+(e+1)+'" tabindex="0">'+t.s+"<\/a>")}),i.append(getLang(a.join(""))),i.click(function(e){return e=e.target,$.nodeName(e,"DIV")?undefined:(_this.loadBookmark(),t($(e).closest("a").attr("v")),_this.hidePanel(),!1)}).mousedown(returnFalse),_this.saveBookmark(),_this.showPanel(i)},this.showColor=function(e){var t=settings.listColors,i=$('<div class="xheColor"><\/div>'),s=[],a=t.length,n=0;$.each(t,function(e,t){0===n%7&&s.push((n>0?"<\/div>":"")+"<div>"),s.push("<a href=\\"javascript:void('"+t+'\\')" xhev="'+t+'" title="'+t+'" style="background:'+t+'" role="option" aria-setsize="'+a+'" aria-posinset="'+(n+1)+'"><\/a>'),n++}),s.push("<\/div>"),i.append(s.join("")),i.click(function(t){return t=t.target,$.nodeName(t,"A")?(_this.loadBookmark(),e($(t).attr("xhev")),_this.hidePanel(),!1):undefined}).mousedown(returnFalse),_this.saveBookmark(),_this.showPanel(i)},this.showPastetext=function(){var e=$(getLang(htmlPastetext)),t=$("#xhePastetextValue",e),i=$("#xheSave",e);i.click(function(){_this.loadBookmark();var e=t.val();return e&&_this.pasteText(e),_this.hidePanel(),!1}),_this.saveBookmark(),_this.showDialog(e)},this.showLink=function(){var e=htmlLink,t=_jDoc.find("a[name]").not("[href]"),i=t.length>0;if(i){var s=[];t.each(function(){var e=$(this).attr("name");s.push('<option value="#'+e+'">'+e+"<\/option>")}),e=e.replace(\/(<div><label for="xheLinkTarget)\/,'<div><label for="xheLinkAnchor">{#link.anchor}<\/label><select id="xheLinkAnchor"><option value="">{#link.anchorNone}<\/option>'+s.join("")+"<\/select><\/div>$1")}var a=$(getLang(e)),n=_this.getParent("a"),o=$("#xheLinkText",a),l=$("#xheLinkUrl",a),r=$("#xheLinkTarget",a),h=$("#xheSave",a),c=_this.getSelect();if(i&&a.find("#xheLinkAnchor").change(function(){var e=$(this).val();""!=e&&l.val(e)}),1===n.length){if(!n.attr("href"))return ev=null,_this.exec("Anchor");l.val(xheAttr(n,"href")),r.attr("value",n.attr("target"))}else""===c&&o.val(getLang(settings.defLinkText)).closest("div").show();settings.upLinkUrl&&_this.uploadInit(l,settings.upLinkUrl,settings.upLinkExt),h.click(function(){_this.loadBookmark();var e=l.val();if((""===e||0===n.length)&&_this._exec("unlink"),""!==e&&"http:\/\/"!==e){var t=e.split(" "),i=r.val(),s=o.val();if(t.length>1){_this._exec("unlink"),c=_this.getSelect();var a,h='<a href="xhe_tmpurl"',d=[];""!==i&&(h+=' target="'+i+'"'),h+=">xhe_tmptext<\/a>",s=""!==c?c:s?s:e;for(var u=0,p=t.length;p>u;u++)e=t[u],""!==e&&(e=e.split("||"),a=h,a=a.replace("xhe_tmpurl",e[0]),a=a.replace("xhe_tmptext",e[1]?e[1]:s),d.push(a));_this.pasteHTML(d.join("&nbsp;"))}else e=t[0].split("||"),s||(s=e[0]),s=e[1]?e[1]:""!==c?"":s?s:e[0],0===n.length?(s?_this.pasteHTML('<a href="#xhe_tmpurl">'+s+"<\/a>"):_this._exec("createlink","#xhe_tmpurl"),n=$('a[href$="#xhe_tmpurl"]',_doc)):s&&!isWebkit&&n.text(s),xheAttr(n,"href",e[0]),""!==i?n.attr("target",i):n.removeAttr("target")}return _this.hidePanel(),!1}),_this.saveBookmark(),_this.showDialog(a)},this.showAnchor=function(){var e=$(getLang(htmlAnchor)),t=_this.getParent("a"),i=$("#xheAnchorName",e),s=$("#xheSave",e);if(1===t.length){if(t.attr("href"))return ev=null,_this.exec("Link");i.val(t.attr("name"))}s.click(function(){_this.loadBookmark();var e=i.val();return e?0===t.length?_this.pasteHTML('<a name="'+e+'"><\/a>'):t.attr("name",e):1===t.length&&t.remove(),_this.hidePanel(),!1}),_this.saveBookmark(),_this.showDialog(e)},this.showImg=function(){var e=$(getLang(htmlImg)),t=_this.getParent("img"),i=$("#xheImgUrl",e),s=$("#xheImgAlt",e),a=$("#xheImgAlign",e),n=$("#xheImgWidth",e),o=$("#xheImgHeight",e),l=$("#xheImgBorder",e),r=$("#xheImgVspace",e),h=$("#xheImgHspace",e),c=$("#xheSave",e);if(1===t.length){i.val(xheAttr(t,"src")),s.val(t.attr("alt")),a.val(t.attr("align")),n.val(t.attr("width")),o.val(t.attr("height")),l.val(t.attr("border"));var d=t.attr("vspace"),u=t.attr("hspace");r.val(0>=d?"":d),h.val(0>=u?"":u)}settings.upImgUrl&&_this.uploadInit(i,settings.upImgUrl,settings.upImgExt),c.click(function(){_this.loadBookmark();var e=i.val();if(""!==e&&"http:\/\/"!==e){var c=e.split(" "),d=s.val(),u=a.val(),p=n.val(),g=o.val(),f=l.val(),m=r.val(),v=h.val();if(c.length>1){var b,x='<img src="xhe_tmpurl"',_=[];""!==d&&(x+=' alt="'+d+'"'),""!==u&&(x+=' align="'+u+'"'),""!==p&&(x+=' width="'+p+'"'),""!==g&&(x+=' height="'+g+'"'),""!==f&&(x+=' border="'+f+'"'),""!==m&&(x+=' vspace="'+m+'"'),""!==v&&(x+=' hspace="'+v+'"'),x+=" \/>";for(var w in c)e=c[w],""!==e&&(e=e.split("||"),b=x,b=b.replace("xhe_tmpurl",e[0]),e[1]&&(b='<a href="'+e[1]+'" target="_blank">'+b+"<\/a>"),_.push(b));_this.pasteHTML(_.join("&nbsp;"))}else if(1===c.length&&(e=c[0],""!==e&&(e=e.split("||"),0===t.length&&(_this.pasteHTML('<img src="'+e[0]+'#xhe_tmpurl" \/>'),t=$('img[src$="#xhe_tmpurl"]',_doc)),xheAttr(t,"src",e[0]),""!==d&&t.attr("alt",d),""!==u?t.attr("align",u):t.removeAttr("align"),""!==p?t.attr("width",p):t.removeAttr("width"),""!==g?t.attr("height",g):t.removeAttr("height"),""!==f?t.attr("border",f):t.removeAttr("border"),""!==m?t.attr("vspace",m):t.removeAttr("vspace"),""!==v?t.attr("hspace",v):t.removeAttr("hspace"),e[1]))){var y=t.parent("a");0===y.length&&(t.wrap("<a><\/a>"),y=t.parent("a")),xheAttr(y,"href",e[1]),y.attr("target","_blank")}}else 1===t.length&&t.remove();return _this.hidePanel(),!1}),_this.saveBookmark(),_this.showDialog(e)},this.showEmbed=function(e,t,i,s,a,n,o){var l=$(getLang(t)),r=_this.getParent('embed[type="'+i+'"],embed[classid="'+s+'"]'),h=$("#xhe"+e+"Url",l),c=$("#xhe"+e+"Width",l),d=$("#xhe"+e+"Height",l),u=$("#xheSave",l);n&&_this.uploadInit(h,n,o),1===r.length&&(h.val(xheAttr(r,"src")),c.val(r.attr("width")),d.val(r.attr("height"))),u.click(function(){_this.loadBookmark();var e=h.val();if(""!==e&&"http:\/\/"!==e){var t=c.val(),n=d.val(),o=\/^\\d+%?$\/;o.test(t)||(t=412),o.test(n)||(n=300);var l='<embed type="'+i+'" classid="'+s+'" src="xhe_tmpurl"'+a,u=e.split(" ");if(u.length>1){var p,g=l+"",f=[];g+=' width="xhe_width" height="xhe_height" \/>';for(var m in u)e=u[m].split("||"),p=g,p=p.replace("xhe_tmpurl",e[0]),p=p.replace("xhe_width",e[1]?e[1]:t),p=p.replace("xhe_height",e[2]?e[2]:n),""!==e&&f.push(p);_this.pasteHTML(f.join("&nbsp;"))}else 1===u.length&&(e=u[0].split("||"),0===r.length&&(_this.pasteHTML(l.replace("xhe_tmpurl",e[0]+"#xhe_tmpurl")+" \/>"),r=$('embed[src$="#xhe_tmpurl"]',_doc)),xheAttr(r,"src",e[0]),r.attr("width",e[1]?e[1]:t),r.attr("height",e[2]?e[2]:n))}else 1===r.length&&r.remove();return _this.hidePanel(),!1}),_this.saveBookmark(),_this.showDialog(l)},this.showEmot=function(e){var t=$('<div class="xheEmot"><\/div>');e=e?e:selEmotGroup?selEmotGroup:"default";var i=arrEmots[e],s=emotPath+e+"\/",a=0,n=[],o="",l=i.width,r=i.height,h=i.line,c=i.count,d=i.list;if(c)for(var u=1;c>=u;u++)a++,n.push("<a href=\\"javascript:void('"+u+'\\')" style="background-image:url('+s+u+'.gif);" emot="'+e+","+u+'" xhev="" title="'+u+'" role="option">&nbsp;<\/a>'),0===a%h&&n.push("<br \/>");else{var p=is(d,"array");$.each(d,function(t,i){p&&(t=i,i="{#emot."+e+"."+t+"}"),a++,n.push("<a href=\\"javascript:void('"+i+'\\')" style="background-image:url('+s+t+'.gif);" emot="'+e+","+t+'" title="'+i+'" xhev="'+i+'" role="option">&nbsp;<\/a>'),0===a%h&&n.push("<br \/>")})}var g=h*(l+12),f=Math.ceil(a\/h)*(r+12),m=.75*g;m>=f&&(m=""),o=$(getLang("<style>"+(m?".xheEmot div{width:"+(g+20)+"px;height:"+m+"px;}":"")+".xheEmot div a{width:"+l+"px;height:"+r+"px;}<\/style><div>"+n.join("")+"<\/div>")).click(function(e){e=e.target;var t=$(e);if($.nodeName(e,"A"))return _this.loadBookmark(),_this.pasteHTML('<img emot="'+t.attr("emot")+'" alt="'+t.attr("xhev")+'">'),_this.hidePanel(),!1}).mousedown(returnFalse),t.append(o);var v,b=0,x=['<ul role="tablist">'];$.each(arrEmots,function(t,i){b++,x.push("<li"+(e===t?' class="cur"':"")+' role="presentation"><a href="javascript:void(\\''+i.name+'\\')" group="'+t+'" role="tab" tabindex="0">'+i.name+"<\/a><\/li>")}),b>1&&(x.push('<\/ul><br style="clear:both;" \/>'),v=$(getLang(x.join(""))).click(function(e){return selEmotGroup=$(e.target).attr("group"),_this.exec("Emot"),!1}).mousedown(returnFalse),t.append(v)),_this.saveBookmark(),_this.showPanel(t)},this.showTable=function(){var e=$(getLang(htmlTable)),t=$("#xheTableRows",e),i=$("#xheTableColumns",e),s=$("#xheTableHeaders",e),a=$("#xheTableWidth",e),n=$("#xheTableHeight",e),o=$("#xheTableBorder",e),l=$("#xheTableCellSpacing",e),r=$("#xheTableCellPadding",e),h=$("#xheTableAlign",e),c=$("#xheTableCaption",e),d=$("#xheSave",e);d.click(function(){_this.loadBookmark();var e,d,u=c.val(),p=o.val(),g=t.val(),f=i.val(),m=s.val(),v=a.val(),b=n.val(),x=l.val(),_=r.val(),w=h.val(),y="<table"+(""!==p?' border="'+p+'"':"")+(""!==v?' width="'+v+'"':"")+(""!==b?' height="'+b+'"':"")+(""!==x?' cellspacing="'+x+'"':"")+(""!==_?' cellpadding="'+_+'"':"")+(""!==w?' align="'+w+'"':"")+">";if(""!==u&&(y+="<caption>"+u+"<\/caption>"),"row"===m||"both"===m){for(y+="<tr>",e=0;f>e;e++)y+='<th scope="col"><\/th>';y+="<\/tr>",g--}for(y+="<tbody>",e=0;g>e;e++){for(y+="<tr>",d=0;f>d;d++)y+=0!==d||"col"!==m&&"both"!==m?"<td><\/td>":'<th scope="row"><\/th>';y+="<\/tr>"}return y+="<\/tbody><\/table>",_this.pasteHTML(y),_this.hidePanel(),!1}),_this.saveBookmark(),_this.showDialog(e)},this.showAbout=function(){var e=$(getLang(htmlAbout));e.find("p").attr("role","presentation"),_this.showDialog(e,!0),setTimeout(function(){e.focus()},100)},this.addShortcuts=function(e,t){e=e.toLowerCase(),arrShortCuts[e]===undefined&&(arrShortCuts[e]=[]),arrShortCuts[e].push(t)},this.delShortcuts=function(e){delete arrShortCuts[e]},this.uploadInit=function(e,t,i){function s(t){is(t,"string")&&(t=[t]);var i,s,a,n=!1,o=t.length,l=[],r=settings.onUpload;for(r&&r(t),i=0;o>i;i++)s=t[i],a=is(s,"string")?s:s.url,"!"===a.substr(0,1)&&(n=!0,a=a.substr(1)),l.push(a);e.val(l.join(" ")),n&&e.closest(".xheDialog").find("#xheSave").click()}var a=$(getLang('<span class="xheUpload"><input type="text" style="visibility:hidden;" tabindex="-1" \/><input type="button" value="'+settings.upBtnText+'" class="xheBtn" tabindex="-1" \/><\/span>')),n=$(".xheBtn",a),o=settings.html5Upload,l=o?settings.upMultiple:1;if(e.after(a),n.before(e),t=t.replace(\/{editorRoot}\/gi,editorRoot),"!"===t.substr(0,1))n.click(function(){_this.showIframeModal("{#upload.browserTitle}",t.substr(1),s,null,null)});else{a.append('<input type="file"'+(l>1?' multiple=""':"")+' class="xheFile" size="13" name="'+uploadInputname+'" tabindex="-1" \/>');var r,h=$(".xheFile",a);h.change(function(){r=[],_this.startUpload(h[0],t,i,s)}),setTimeout(function(){e.closest(".xheDialog").bind("dragenter dragover",returnFalse).bind("drop",function(e){var a,n=e.originalEvent.dataTransfer;return o&&n&&(a=n.files)&&a.length>0&&_this.startUpload(a,t,i,s),!1})},10)}},this.startUpload=function(fromFiles,toUrl,limitExt,onUploadComplete){function onUploadCallback(sText,bFinish){var data=Object,bOK=!1;try{data=eval("("+sText+")")}catch(ex){}return data.err===undefined||data.msg===undefined?alert(getLang("upload.apiError",toUrl,sText)):data.err?alert(data.err):(arrMsg.push(data.msg),bOK=!0),(!bOK||bFinish)&&_this.removeModal(),bFinish&&bOK&&onUploadComplete(arrMsg),bOK}var arrMsg=[],bHtml5Upload=settings.html5Upload,upMultiple=bHtml5Upload?settings.upMultiple:1,upload,fileList,filename,jUploadTip=$(getLang('<div style="padding:22px 0;text-align:center;line-height:30px;">{#upload.progressTip}<br \/><\/div>')),sLoading='<img src="'+skinPath+'img\/loading.gif">';if(!isOpera&&bHtml5Upload&&(!fromFiles.nodeType||(fileList=fromFiles.files)&&fileList[0].name)){fileList||(fileList=fromFiles);var i,len=fileList.length;if(len>upMultiple)return alert(getLang("upload.countLimit",upMultiple)),undefined;for(i=0;len>i;i++)if(!checkFileExt(fileList[i].name,limitExt))return;var jProgress=$('<div class="xheProgress"><div><span>0%<\/span><\/div><\/div>');jUploadTip.append(jProgress),upload=new _this.html5Upload(uploadInputname,fileList,toUrl,onUploadCallback,function(e){if(e.loaded>=0){var t=Math.round(100*e.loaded\/e.total)+"%";$("div",jProgress).css("width",t),$("span",jProgress).text(t+" ( "+formatBytes(e.loaded)+" \/ "+formatBytes(e.total)+" )")}else jProgress.replaceWith(sLoading)})}else{if(!checkFileExt(fromFiles.value,limitExt))return;jUploadTip.append(sLoading),upload=new _this.html4Upload(fromFiles,toUrl,onUploadCallback)}_this.showModal("{#upload.progressTitle}",jUploadTip,320,150),upload.start()},this.html4Upload=function(e,t,i){var s=(new Date).getTime(),a="jUploadFrame"+s,n=this,o=$('<iframe name="'+a+'" class="xheHideArea" \/>').appendTo("body"),l=$('<form action="'+t+'" target="'+a+'" method="post" enctype="multipart\/form-data" class="xheHideArea"><\/form>').appendTo("body"),r=$(e),h=r.clone().attr("disabled","true");return r.before(h).appendTo(l),this.remove=function(){null!==n&&(h.before(r).remove(),o.remove(),l.remove(),n=null)},this.onLoad=function(){var e=o[0].contentWindow.document,t=$(e.body).text();e.write(""),n.remove(),i(t,!0)},this.start=function(){l.submit(),o.load(n.onLoad)},this},this.html5Upload=function(e,t,i,s,a){function n(t,i,s,a){l=new XMLHttpRequest,upload=l.upload,l.onreadystatechange=function(){4===l.readyState&&s(l.responseText)},upload?upload.onprogress=function(e){a(e.loaded)}:a(-1),l.open("POST",i),l.setRequestHeader("Content-Type","application\/octet-stream"),l.setRequestHeader("Content-Disposition",'attachment; name="'+encodeURIComponent(e)+'"; filename="'+encodeURIComponent(t.name)+'"'),l.sendAsBinary&&t.getAsBinary?l.sendAsBinary(t.getAsBinary()):l.send(t)}function o(e){a&&a({loaded:c+e,total:d})}for(var l,r=0,h=t.length,c=0,d=0,u=this,p=0;h>p;p++)d+=t[p].size;this.remove=function(){l&&(l.abort(),l=null)},this.uploadNext=function(e){e&&(c+=t[r-1].size,o(0)),(!e||e&&s(e,r===h)===!0)&&h>r&&n(t[r++],i,u.uploadNext,function(e){o(e)})},this.start=function(){u.uploadNext()}},this.showIframeModal=function(title,url,callback,w,h,onRemove){function initModalWin(){try{modalWin.callback=callbackModal,modalWin.unloadme=_this.removeModal,$(modalWin.document).keydown(checkEsc),result=modalWin.name}catch(e){}}function callbackModal(e){modalWin.document.write(""),_this.removeModal(),null!=e&&callback(e)}var jContent=$('<iframe frameborder="0" src="'+url.replace(\/{editorRoot}\/gi,editorRoot)+(\/\\?\/.test(url)?"&":"?")+"parenthost="+location.host+'" style="width:100%;height:100%;display:none;" \/><div class="xheModalIfmWait"><\/div>'),jIframe=jContent.eq(0),jWait=jContent.eq(1);_this.showModal(title,jContent,w,h,onRemove);var modalWin=jIframe[0].contentWindow,result;initModalWin(),jIframe.load(function(){if(initModalWin(),result){var bResult=!0;try{result=eval("("+unescape(result)+")")}catch(e){bResult=!1}if(bResult)return callbackModal(result)}jWait.is(":visible")&&(jIframe.show().focus(),jWait.remove())})},this.showModal=function(e,t,i,s,a){return bShowModal?!1:(_this.panelState=bShowPanel,bShowPanel=!1,layerShadow=settings.layerShadow,i=i?i:settings.modalWidth,s=s?s:settings.modalHeight,jModal=$(getLang('<div class="xheModal" style="width:'+(i-1)+"px;height:"+s+"px;margin-left:-"+Math.ceil(i\/2)+"px;"+(isIE&&7>browerVer?"":"margin-top:-"+Math.ceil(s\/2)+"px")+'">'+(settings.modalTitle?'<div class="xheModalTitle"><span class="xheModalClose" title="{#close} (Esc)" tabindex="0" role="button"><\/span>'+e+"<\/div>":"")+'<div class="xheModalContent"><\/div><\/div>')).appendTo("body"),jOverlay=$('<div class="xheModalOverlay"><\/div>').appendTo("body"),layerShadow>0&&(jModalShadow=$('<div class="xheModalShadow" style="width:'+jModal.outerWidth()+"px;height:"+jModal.outerHeight()+"px;margin-left:-"+(Math.ceil(i\/2)-layerShadow-2)+"px;"+(isIE&&7>browerVer?"":"margin-top:-"+(Math.ceil(s\/2)-layerShadow-2)+"px")+'"><\/div>').appendTo("body")),$(".xheModalContent",jModal).css("height",s-(settings.modalTitle?$(".xheModalTitle").outerHeight():0)).html(t),isIE&&6===browerVer&&(jHideSelect=$("select:visible").css("visibility","hidden")),$(".xheModalClose",jModal).click(_this.removeModal),jOverlay.show(),layerShadow>0&&jModalShadow.show(),jModal.show(),setTimeout(function(){jModal.find("a,input[type=text],textarea").filter(":visible").filter(function(){return"hidden"!==$(this).css("visibility")}).eq(0).focus()},10),bShowModal=!0,onModalRemove=a,undefined)},this.removeModal=function(){jHideSelect&&jHideSelect.css("visibility","visible"),jModal.html("").remove(),layerShadow>0&&jModalShadow.remove(),jOverlay.remove(),onModalRemove&&onModalRemove(),bShowModal=!1,bShowPanel=_this.panelState},this.showDialog=function(e,t){var i=$('<div class="xheDialog"><\/div>'),s=$(e),a=$("#xheSave",s);if(1===a.length){if(s.find("input[type=text],select").keypress(function(e){return 13===e.which?(a.click(),!1):undefined}),s.find("textarea").keydown(function(e){return e.ctrlKey&&13===e.which?(a.click(),!1):undefined}),a.after(getLang(' <input type="button" id="xheCancel" value="{#dialogCancel}" \/>')),$("#xheCancel",s).click(_this.hidePanel),!settings.clickCancelDialog){bClickCancel=!1;var n=$('<div class="xheFixCancel"><\/div>').appendTo("body").mousedown(returnFalse),o=_jArea.offset();n.css({left:o.left,top:o.top,width:_jArea.outerWidth(),height:_jArea.outerHeight()})}i.mousedown(function(){bDisableHoverExec=!0})}i.append(s),_this.showPanel(i,t)},this.showPanel=function(e,t){if(!ev.target)return!1;_jPanel.html("").append(e).css("left",-999).css("top",-999),_jPanelButton=$(ev.target).closest("a").addClass("xheActive");var i=_jPanelButton.offset(),s=i.left,a=i.top;a+=_jPanelButton.outerHeight()-1,_jCntLine.css({left:s+1,top:a,width:_jPanelButton.width()}).show();var n=document.documentElement,o=document.body;s+_jPanel.outerWidth()>(window.pageXOffset||n.scrollLeft||o.scrollLeft)+(n.clientWidth||o.clientWidth)&&(s-=_jPanel.outerWidth()-_jPanelButton.outerWidth());var l=settings.layerShadow;l>0&&_jShadow.css({left:s+l,top:a+l,width:_jPanel.outerWidth(),height:_jPanel.outerHeight()}).show();var r=$("#"+idContainer).offsetParent().css("zIndex");r&&!isNaN(r)&&(_jShadow.css("zIndex",parseInt(r,10)+1),_jPanel.css("zIndex",parseInt(r,10)+2),_jCntLine.css("zIndex",parseInt(r,10)+3)),_jPanel.css({left:s,top:a}).show(),t||setTimeout(function(){_jPanel.find("a,input[type=text],textarea").filter(":visible").filter(function(){return"hidden"!==$(this).css("visibility")}).eq(0).focus()},10),bQuickHoverExec=bShowPanel=!0},this.hidePanel=function(){bShowPanel&&(_jPanelButton.removeClass("xheActive"),_jShadow.hide(),_jCntLine.hide(),_jPanel.hide(),bShowPanel=!1,bClickCancel||($(".xheFixCancel").remove(),bClickCancel=!0),bQuickHoverExec=bDisableHoverExec=!1,lastAngle=null,_this.focus(),_this.loadBookmark())},this.exec=function(e){_this.hidePanel();var t=arrTools[e];if(!t)return!1;if(null===ev){ev={};var i=_jTools.find(".xheButton[cmd="+e+"]");1===i.length&&(ev.target=i)}if(t.e)t.e.call(_this);else switch(e=e.toLowerCase()){case"cut":try{if(_doc.execCommand(e),!_doc.queryCommandSupported(e))throw"Error"}catch(s){alert(getLang("cutDisabledTip"))}break;case"copy":try{if(_doc.execCommand(e),!_doc.queryCommandSupported(e))throw"Error"}catch(s){alert(getLang("copyDisabledTip"))}break;case"paste":try{if(_doc.execCommand(e),!_doc.queryCommandSupported(e))throw"Error"}catch(s){alert(getLang("pasteDisabledTip"))}break;case"pastetext":window.clipboardData?_this.pasteText(window.clipboardData.getData("Text",!0)):_this.showPastetext();break;case"blocktag":var a=[];$.each(settings.listBlocktag,function(e,t){a.push({s:"<"+t.n+">{#listBlocktag."+t.n+"}<\/"+t.n+">",v:"<"+t.n+">",t:"{#listBlocktag."+t.n+"}"})}),_this.showMenu(a,function(e){_this._exec("formatblock",e)$/;"	f
format_characters	system/libraries/Typography.php	/^	function format_characters($str)$/;"	f
format_number	system/libraries/Cart.php	/^	function format_number($n = '')$/;"	f
formate	application/controllers/write.php	/^    private  function formate($arr)$/;"	f
formats	system/helpers/date_helper.php	/^		$formats = array($/;"	v
formtag	system/helpers/form_helper.php	/^			if ( ! isset($attributes['accept-charset']) AND $formtag === TRUE)$/;"	v
formtag	system/helpers/form_helper.php	/^			if ( ! isset($attributes['method']) AND $formtag === TRUE)$/;"	v
formtag	system/helpers/form_helper.php	/^	function _attributes_to_string($attributes, $formtag = FALSE)$/;"	v
fornow	application/controllers/map.php	/^			$fornow = preg_split("\/ \/",$temp["time"]);$/;"	v
fornow	application/views/waimai.php	/^    $fornow = preg_split("\/\\:[\\d]2$\/",$temp["operst"]);$/;"	v
found	system/core/Config.php	/^					$found = TRUE;$/;"	v
found	system/core/Config.php	/^		$found = FALSE;$/;"	v
found	system/core/Lang.php	/^					$found = TRUE;$/;"	v
found	system/core/Lang.php	/^			$found = FALSE;$/;"	v
fp	system/core/Output.php	/^		if ( ! $fp = @fopen($cache_path, FOPEN_WRITE_CREATE_DESTRUCTIVE))$/;"	v
fp	system/core/Output.php	/^		if ( ! $fp = @fopen($filepath, FOPEN_READ))$/;"	v
fp	system/helpers/file_helper.php	/^		if ( ! $fp = @fopen($file, FOPEN_READ))$/;"	v
fp	system/helpers/file_helper.php	/^		if ( ! $fp = @fopen($path, $mode))$/;"	v
fp	system/libraries/Email.php	/^			if ( ! $fp = fopen($filename, FOPEN_READ))$/;"	v
fp	system/libraries/Email.php	/^		$fp = @popen($this->mailpath . " -oi -f ".$this->clean_email($this->_headers['From'])." -t", 'w');$/;"	v
fp	system/libraries/Email.php	/^		if ($fp === FALSE OR $fp === NULL)$/;"	v
fp	system/libraries/Log.php	/^		if ( ! $fp = @fopen($filepath, FOPEN_WRITE_CREATE))$/;"	v
fp	system/libraries/Trackback.php	/^		if ( ! $fp = @fsockopen($target['host'], 80))$/;"	v
fp	system/libraries/Xmlrpc.php	/^		$fp = @fsockopen($this->server, $this->port,$this->errno, $this->errstr, $this->timeout);$/;"	v
fp	system/libraries/Zip.php	/^		if ( ! $fp = @opendir($path))$/;"	v
freeTxt	application/controllers/apitest.php	/^	$freeTxt = "\\n**订餐网\\n" .$/;"	v
freeTxt	application/controllers/test.php	/^        $freeTxt = "\\ne点工作室竭诚为您服务\\n" .$/;"	v
free_result	system/database/DB_result.php	/^	public function free_result() { return TRUE; }$/;"	f
free_result	system/database/drivers/cubrid/cubrid_result.php	/^	function free_result()$/;"	f
free_result	system/database/drivers/mssql/mssql_result.php	/^	function free_result()$/;"	f
free_result	system/database/drivers/mysql/mysql_result.php	/^	function free_result()$/;"	f
free_result	system/database/drivers/mysqli/mysqli_result.php	/^	function free_result()$/;"	f
free_result	system/database/drivers/oci8/oci8_result.php	/^	public function free_result()$/;"	f
free_result	system/database/drivers/odbc/odbc_result.php	/^	function free_result()$/;"	f
free_result	system/database/drivers/pdo/pdo_result.php	/^	function free_result()$/;"	f
free_result	system/database/drivers/postgre/postgre_result.php	/^	function free_result()$/;"	f
free_result	system/database/drivers/sqlite/sqlite_result.php	/^	function free_result()$/;"	f
free_result	system/database/drivers/sqlsrv/sqlsrv_result.php	/^	function free_result()$/;"	f
freshImg	application/views/homeUserphoto.php	/^function freshImg(){$/;"	f
from	application/controllers/checkcode.php	/^			$from=(($this->width\/4)*$i)+rand(10,30);$/;"	v
from	application/controllers/checkcode.php	/^		$from = 0;$/;"	v
from	system/database/DB_active_rec.php	/^	public function from($from)$/;"	f
from	system/libraries/Email.php	/^			$from = $match['1'];$/;"	v
from	system/libraries/Email.php	/^		$from = $this->_headers['Return-Path'];$/;"	v
from	system/libraries/Email.php	/^		$from = str_replace("<", "", $from);$/;"	v
from	system/libraries/Email.php	/^		$from = str_replace(">", "", $from);$/;"	v
from	system/libraries/Email.php	/^	protected function _prep_q_encoding($str, $from = FALSE)$/;"	v
from	system/libraries/Email.php	/^	public function from($from, $name = '')$/;"	f
full	js/xheditor.min.js	/^(function(){var e={};window.XHEDITOR=e})(),function(e,t){e.mapLang={},e.setLang=function(i,s){s===t&&(s=i,i=""),""!==i&&(i+=".");var a,n;for(var o in s)n=s[o],a=i+o,"string"==typeof n||n instanceof Array?e.mapLang[a]=n:e.setLang(a,n)},e.getLang=function(i){var s=e.mapLang[i];if(s===t&&(s=i.replace(\/{#([^{}]+)}\/g,function(t,i){var s=e.mapLang[i];return s?s:i})),"string"==typeof s){var a=arguments;s=s.replace(\/{\\$(\\d+)}\/g,function(e,i){var s=a[parseInt(i,10)+1];return s!==t?s:e})}return s}}(XHEDITOR),function(XHEDITOR,$,undefined){var agent=navigator.userAgent.toLowerCase(),bMobile=\/mobile\/i.test(agent),browser=$.browser,browerVer=parseFloat(browser.version),isIE=browser.msie,isMozilla=browser.mozilla,isWebkit=browser.webkit,isOpera=browser.opera,isChrome=browser.chrome,bAir=agent.indexOf(" adobeair\/")>-1,xCount=0,bShowPanel=!1,bClickCancel=!0,bShowModal=!1,bCheckEscInit=!1,_jPanel,_jShadow,_jCntLine,_jPanelButton,jModal,jModalShadow,layerShadow,jOverlay,jHideSelect,onModalRemove,editorRoot,getLang=XHEDITOR.getLang;if($("script[src*=xheditor]").each(function(){var e=this.src;return e.match(\/xheditor[^\\\/]*\\.js\/i)?(editorRoot=e.replace(\/[\\?#].*$\/,"").replace(\/(^|[\\\/\\\\])[^\\\/]*$\/,"$1"),!1):undefined}),isIE){try{document.execCommand("BackgroundImageCache",!1,!0)}catch(e){}var jqueryVer=$.fn.jquery;jqueryVer&&jqueryVer.match(\/^1\\.[67]\/)&&($.attrHooks.width=$.attrHooks.height=null)}var specialKeys={27:"esc",9:"tab",32:"space",13:"enter",8:"backspace",145:"scroll",20:"capslock",144:"numlock",19:"pause",45:"insert",36:"home",46:"del",35:"end",33:"pageup",34:"pagedown",37:"left",38:"up",39:"right",40:"down",112:"f1",113:"f2",114:"f3",115:"f4",116:"f5",117:"f6",118:"f7",119:"f8",120:"f9",121:"f10",122:"f11",123:"f12"},arrAlign=[{v:"justifyleft"},{v:"justifycenter"},{v:"justifyright"},{v:"justifyfull"}],arrList=[{v:"insertOrderedList"},{v:"insertUnorderedList"}],htmlPastetext='<div><label for="xhePastetextValue">{#PastetextTip}<\/label><\/div><div><textarea id="xhePastetextValue" wrap="soft" spellcheck="false" style="width:300px;height:100px;" \/><\/div><div style="text-align:right;"><input type="button" id="xheSave" value="{#dialogOk}" \/><\/div>',htmlLink='<div><label for="xheLinkUrl">{#link.url}<\/label><input type="text" id="xheLinkUrl" value="http:\/\/" class="xheText" \/><\/div><div><label for="xheLinkTarget">{#link.target}<\/label><select id="xheLinkTarget"><option selected="selected" value="">{#default}<\/option><option value="_blank">{#link.targetBlank}<\/option><option value="_self">{#link.targetSelf}<\/option><option value="_parent">{#link.targetParent}<\/option><\/select><\/div><div style="display:none"><label for="xheLinkText">{#link.linkText}<\/label><input type="text" id="xheLinkText" value="" class="xheText" \/><\/div><div style="text-align:right;"><input type="button" id="xheSave" value="{#dialogOk}" \/><\/div>',htmlAnchor='<div><label for="xheAnchorName">{#anchor.name}<\/label><input type="text" id="xheAnchorName" value="" class="xheText" \/><\/div><div style="text-align:right;"><input type="button" id="xheSave" value="{#dialogOk}" \/><\/div>',htmlImg='<div><label for="xheImgUrl">{#img.url}<\/label><input type="text" id="xheImgUrl" value="http:\/\/" class="xheText" \/><\/div><div><div><label for="xheImgAlt">{#img.alt}<\/label><input type="text" id="xheImgAlt" \/><\/div><div><label for="xheImgAlign">{#img.align}<\/label><select id="xheImgAlign"><option selected="selected" value="">{#default}<\/option><option value="left">{#img.alignLeft}<\/option><option value="right">{#img.alignRight}<\/option><option value="top">{#img.alignTop}<\/option><option value="middle">{#img.alignMiddle}<\/option><option value="baseline">{#img.alignBaseline}<\/option><option value="bottom">{#img.alignBottom}<\/option><\/select><\/div><div><label for="xheImgWidth">{#img.width}<\/label><input type="text" id="xheImgWidth" style="width:40px;" \/> <label for="xheImgHeight">{#img.height}<\/label><input type="text" id="xheImgHeight" style="width:40px;" \/><\/div><div><label for="xheImgBorder">{#img.border}<\/label><input type="text" id="xheImgBorder" style="width:40px;" \/><\/div><div><label for="xheImgHspace">{#img.hspace}<\/label><input type="text" id="xheImgHspace" style="width:40px;" \/> <label for="xheImgVspace">{#img.vspace}<\/label><input type="text" id="xheImgVspace" style="width:40px;" \/><\/div><div style="text-align:right;"><input type="button" id="xheSave" value="{#dialogOk}" \/><\/div>',htmlFlash='<div><label for="xheFlashUrl">{#flash.url}<\/label><input type="text" id="xheFlashUrl" value="http:\/\/" class="xheText" \/><\/div><div><label for="xheFlashWidth">{#flash.width}<\/label><input type="text" id="xheFlashWidth" style="width:40px;" value="480" \/> <label for="xheFlashHeight">{#flash.height}<\/label><input type="text" id="xheFlashHeight" style="width:40px;" value="400" \/><\/div><div style="text-align:right;"><input type="button" id="xheSave" value="{#dialogOk}" \/><\/div>',htmlMedia='<div><label for="xheMediaUrl">{#media.url}<\/label><input type="text" id="xheMediaUrl" value="http:\/\/" class="xheText" \/><\/div><div><label for="xheMediaWidth">{#media.width}<\/label><input type="text" id="xheMediaWidth" style="width:40px;" value="480" \/> <label for="xheMediaHeight">{#media.height}<\/label><input type="text" id="xheMediaHeight" style="width:40px;" value="400" \/><\/div><div style="text-align:right;"><input type="button" id="xheSave" value="{#dialogOk}" \/><\/div>',htmlTable='<div><label for="xheTableRows">{#table.rows}<\/label><input type="text" id="xheTableRows" style="width:40px;" value="3" \/> <label for="xheTableColumns">{#table.columns}<\/label><input type="text" id="xheTableColumns" style="width:40px;" value="2" \/><\/div><div><label for="xheTableHeaders">{#table.headers}<\/label><select id="xheTableHeaders"><option selected="selected" value="">{#none}<\/option><option value="row">{#table.headersRow}<\/option><option value="col">{#table.headersCol}<\/option><option value="both">{#table.headersBoth}<\/option><\/select><\/div><div><label for="xheTableWidth">{#table.width}<\/label><input type="text" id="xheTableWidth" style="width:40px;" value="200" \/> <label for="xheTableHeight">{#table.height}<\/label><input type="text" id="xheTableHeight" style="width:40px;" value="" \/><\/div><div><label for="xheTableBorder">{#table.border}<\/label><input type="text" id="xheTableBorder" style="width:40px;" value="1" \/><\/div><div><label for="xheTableCellSpacing">{#table.cellSpacing}<\/label><input type="text" id="xheTableCellSpacing" style="width:40px;" value="1" \/> <label for="xheTableCellPadding">{#table.cellPadding}<\/label><input type="text" id="xheTableCellPadding" style="width:40px;" value="1" \/><\/div><div><label for="xheTableAlign">{#table.align}<\/label><select id="xheTableAlign"><option selected="selected" value="">{#default}<\/option><option value="left">{#table.alignLeft}<\/option><option value="center">{#table.alignCenter}<\/option><option value="right">{#table.alignRight}<\/option><\/select><\/div><div><label for="xheTableCaption">{#table.caption}<\/label><input type="text" id="xheTableCaption" \/><\/div><div style="text-align:right;"><input type="button" id="xheSave" value="{#dialogOk}" \/><\/div>',htmlAbout='<div style="font:12px Arial;width:245px;word-wrap:break-word;word-break:break-all;outline:none;" role="dialog" tabindex="-1"><p><span style="font-size:20px;color:#1997DF;">xhEditor<\/span><br \/>v1.2.1 (build 130225)<\/p><p>{#aboutXheditor}<\/p><p>Copyright &copy; <a href="http:\/\/xheditor.com\/" target="_blank">xhEditor.com<\/a>. All rights reserved.<\/p><\/div>',itemEmots={"default":{name:"{#default}",width:24,height:24,line:7,list:["smile","tongue","titter","laugh","sad","wronged","fastcry","cry","wail","mad","knock","curse","crazy","angry","ohmy","awkward","panic","shy","cute","envy","proud","struggle","quiet","shutup","doubt","despise","sleep","bye"]}},arrTools={Cut:{t:"Cut"},Copy:{t:"Copy"},Paste:{t:"Paste"},Pastetext:{t:"Pastetext",h:isIE?0:1},Blocktag:{t:"Blocktag",h:1},Fontface:{t:"Fontface",h:1},FontSize:{t:"FontSize",h:1},Bold:{t:"Bold",s:"Ctrl+B"},Italic:{t:"Italic",s:"Ctrl+I"},Underline:{t:"Underline",s:"Ctrl+U"},Strikethrough:{t:"Strikethrough"},FontColor:{t:"FontColor",h:1},BackColor:{t:"BackColor",h:1},SelectAll:{t:"SelectAll"},Removeformat:{t:"Removeformat"},Align:{t:"Align",h:1},List:{t:"List",h:1},Outdent:{t:"Outdent"},Indent:{t:"Indent"},Link:{t:"Link",s:"Ctrl+L",h:1},Unlink:{t:"Unlink"},Anchor:{t:"Anchor",h:1},Img:{t:"Img",h:1},Flash:{t:"Flash",h:1},Media:{t:"Media",h:1},Hr:{t:"Hr"},Emot:{t:"Emot",s:"ctrl+e",h:1},Table:{t:"Table",h:1},Source:{t:"Source"},Preview:{t:"Preview"},Print:{t:"Print",s:"Ctrl+P"},Fullscreen:{t:"Fullscreen",s:"Esc"},About:{t:"About"}},toolsThemes={mini:"Bold,Italic,Underline,Strikethrough,|,Align,List,|,Link,Img",simple:"Blocktag,Fontface,FontSize,Bold,Italic,Underline,Strikethrough,FontColor,BackColor,|,Align,List,Outdent,Indent,|,Link,Img,Emot",full:"Cut,Copy,Paste,Pastetext,|,Blocktag,Fontface,FontSize,Bold,Italic,Underline,Strikethrough,FontColor,BackColor,SelectAll,Removeformat,|,Align,List,Outdent,Indent,|,Link,Unlink,Anchor,Img,Flash,Media,Hr,Emot,Table,|,Source,Preview,Print,Fullscreen"};toolsThemes.mfull=toolsThemes.full.replace(\/\\|(,Align)\/i,"\/$1");var arrDbClick={a:"Link",img:"Img",embed:"Embed"},uploadInputname="filedata",arrEntities={"<":"&lt;",">":"&gt;",'"':"&quot;","\\u00ae":"&reg;","\\u00a9":"&copy;"},regEntities=\/[<>"\\u00ae\\u00a9]\/g,Xheditor=function(textarea,options){function checkDblClick(e){var t=e.target,i=arrDbClick[t.tagName.toLowerCase()];if(i){if("Embed"===i){var s={"application\/x-shockwave-flash":"Flash","application\/x-mplayer2":"Media"};i=s[t.type.toLowerCase()]}_this.exec(i)}}function checkEsc(e){return 27===e.which?(bShowModal?_this.removeModal():bShowPanel&&_this.hidePanel(),!1):undefined}function loadReset(){setTimeout(_this.setSource,10)}function saveResult(){_this.getSource()}function cleanPaste(e){var t,i,s;if(e&&(t=e.originalEvent.clipboardData)&&(i=t.items)&&(s=i[0])&&"file"==s.kind&&s.type.match(\/^image\\\/\/i)){var a=s.getAsFile(),n=new FileReader;return n.onload=function(){var e='<img src="'+event.target.result+'">';e=replaceRemoteImg(e),_this.pasteHTML(e)},n.readAsDataURL(a),!1}var o=settings.cleanPaste;if(0===o||bSource||bCleanPaste)return!0;bCleanPaste=!0,_this.saveBookmark();var l=isIE?"pre":"div",r=$("<"+l+' class="xhe-paste">\\ufeff\\ufeff<\/'+l+">",_doc).appendTo(_doc.body),h=r[0],c=_this.getSel(),d=_this.getRng(!0);r.css("top",_jWin.scrollTop()),isIE?(d.moveToElementText(h),d.select()):(d.selectNodeContents(h),c.removeAllRanges(),c.addRange(d)),setTimeout(function(){var e,t=3===o;if(t)r.html(r.html().replace(\/<br(\\s+[^<>]*)?>\/gi,"\\n")),e=r.text();else{var i=$(".xhe-paste",_doc.body),s=[];i.each(function(e,t){0==$(t).find(".xhe-paste").length&&s.push(t.innerHTML)}),e=s.join("<br \/>")}r.remove(),_this.loadBookmark(),e=e.replace(\/^[\\s\\uFEFF]+|[\\s\\uFEFF]+$\/g,""),e&&(t?_this.pasteText(e):(e=_this.cleanHTML(e),e=_this.cleanWord(e),e=_this.formatXHTML(e),(!settings.onPaste||settings.onPaste&&(e=settings.onPaste(e))!==!1)&&(e=replaceRemoteImg(e),_this.pasteHTML(e)))),bCleanPaste=!1},0)}function replaceRemoteImg(e){var t=settings.localUrlTest,i=settings.remoteImgSaveUrl;if(t&&i){var s=[],a=0;e=e.replace(\/(<img)((?:\\s+[^>]*?)?(?:\\s+src="\\s*([^"]+)\\s*")(?: [^>]*)?)(\\\/?>)\/gi,function(e,i,n,o,l){return!\/^(https?|data:image)\/i.test(o)||\/_xhe_temp\/.test(n)||t.test(o)||(s[a]=o,n=n.replace(\/\\s+(width|height)="[^"]*"\/gi,"").replace(\/\\s+src="[^"]*"\/gi,' src="'+skinPath+'img\/waiting.gif" remoteimg="'+a++ +'"')),i+n+l}),s.length>0&&$.post(i,{urls:s.join("|")},function(e){e=e.split("|"),$("img[remoteimg]",_this.doc).each(function(){var t=$(this);xheAttr(t,"src",e[t.attr("remoteimg")]),t.removeAttr("remoteimg")})})}return e}function setCSS(e){try{_this._exec("styleWithCSS",e,!0)}catch(t){try{_this._exec("useCSS",!e,!0)}catch(t){}}}function setOpts(){if(bInit&&!bSource){setCSS(!1);try{_this._exec("enableObjectResizing",!0,!0)}catch(e){}if(isIE)try{_this._exec("BackgroundImageCache",!0,!0)}catch(e){}}}function forcePtag(e){if(bSource||13!==e.which||e.shiftKey||e.ctrlKey||e.altKey)return!0;var t=_this.getParent("p,h1,h2,h3,h4,h5,h6,pre,address,div,li");return t.is("li")?!0:settings.forcePtag?(0===t.length&&_this._exec("formatblock","<p>"),undefined):(_this.pasteHTML("<br \/>"),isIE&&t.length>0&&2===_this.getRng().parentElement().childNodes.length&&_this.pasteHTML("<br \/>"),!1)}function fixFullHeight(){isMozilla||isWebkit||(bFullscreen&&_jArea.height("100%").css("height",_jArea.outerHeight()-_jTools.outerHeight()),isIE&&_jTools.hide().show())}function fixAppleSel(e){if(e=e.target,e.tagName.match(\/(img|embed)\/i)){var t=_this.getSel(),i=_this.getRng(!0);i.selectNode(e),t.removeAllRanges(),t.addRange(i)}}function xheAttr(e,t,i){if(!t)return!1;var s="_xhe_"+t;return i&&(urlType&&(i=getLocalUrl(i,urlType,urlBase)),e.attr(t,urlBase?getLocalUrl(i,"abs",urlBase):i).removeAttr(s).attr(s,i)),e.attr(s)||e.attr(t)}function clickCancelPanel(){bClickCancel&&_this.hidePanel()}function checkShortcuts(e){if(bSource)return!0;var t=e.which,i=specialKeys[t],s=i?i:String.fromCharCode(t).toLowerCase();sKey="",sKey+=e.ctrlKey?"ctrl+":"",sKey+=e.altKey?"alt+":"",sKey+=e.shiftKey?"shift+":"",sKey+=s;var a,n=arrShortCuts[sKey];for(a in n){if(a=n[a],!$.isFunction(a))return _this.exec(a),!1;if(a.call(_this)===!1)return!1}}function is(e,t){var i=typeof e;return t?"array"===t&&e.hasOwnProperty&&e instanceof Array?!0:i===t:"undefined"!=i}function getLocalUrl(e,t,i){if(e.match(\/^(\\w+):\\\/\\\/\/i)&&!e.match(\/^https?:\/i)||\/^#\/i.test(e)||\/^data:\/i.test(e))return e;var s=i?$('<a href="'+i+'" \/>')[0]:location,a=s.protocol,n=s.host,o=s.hostname,l=s.port,r=s.pathname.replace(\/\\\\\/g,"\/").replace(\/[^\\\/]+$\/i,"");if(""===l&&(l="80"),""===r?r="\/":"\/"!==r.charAt(0)&&(r="\/"+r),e=$.trim(e),"abs"!==t&&(e=e.replace(RegExp(a+"\\\\\/\\\\\/"+o.replace(\/\\.\/g,"\\\\.")+"(?::"+l+")"+("80"===l?"?":"")+"(\/|$)","i"),"\/")),"rel"===t&&(e=e.replace(RegExp("^"+r.replace(\/([\\\/\\.\\+\\[\\]\\(\\)])\/g,"\\\\$1"),"i"),"")),"rel"!==t&&(e.match(\/^(https?:\\\/\\\/|\\\/)\/i)||(e=r+e),"\/"===e.charAt(0))){var h,c,d=[],u=e.split("\/"),p=u.length;for(c=0;p>c;c++)h=u[c],".."===h?d.pop():""!==h&&"."!==h&&d.push(h);""===u[p-1]&&d.push(""),e="\/"+d.join("\/")}return"abs"!==t||e.match(\/^https?:\\\/\\\/\/i)||(e=a+"\/\/"+n+e),e=e.replace(\/(https?:\\\/\\\/[^:\\\/?#]+):80(\\\/|$)\/i,"$1$2")}function checkFileExt(e,t){return"*"===t||e.match(RegExp(".("+t.replace(\/,\/g,"|")+")$","i"))?!0:(alert(getLang("upload.extLimit",t)),!1)}function formatBytes(e){var t=["Byte","KB","MB","GB","TB","PB"],i=Math.floor(Math.log(e)\/Math.log(1024));return(e\/Math.pow(1024,Math.floor(i))).toFixed(2)+t[i]}function returnFalse(){return!1}var _this=this,_text=textarea,_jText=$(_text),_jForm=_jText.closest("form"),_jTools,_jArea,_win,_jWin,_doc,_jDoc,bookmark,bInit=!1,bSource=!1,bFullscreen=!1,bCleanPaste=!1,outerScroll,bShowBlocktag=!1,sLayoutStyle="",ev=null,timer,bDisableHoverExec=!1,bQuickHoverExec=!1,lastPoint=null,lastAngle=null,editorHeight=0,settings=_this.settings=$.extend({},XHEDITOR.settings,options),plugins=settings.plugins,strPlugins=[];if(plugins&&(arrTools=$.extend({},arrTools,plugins),$.each(plugins,function(e){strPlugins.push(e)}),strPlugins=strPlugins.join(",")),settings.tools.match(\/^\\s*(m?full|simple|mini)\\s*$\/i)){var toolsTheme=toolsThemes[$.trim(settings.tools)];settings.tools=settings.tools.match(\/m?full\/i)&&plugins?toolsTheme.replace("Table","Table,"+strPlugins):toolsTheme}settings.tools.match(\/(^|,)\\s*About\\s*(,|$)\/i)||(settings.tools+=",About"),settings.tools=settings.tools.split(","),settings.editorRoot&&(editorRoot=settings.editorRoot),bAir===!1&&(editorRoot=getLocalUrl(editorRoot,"abs")),settings.urlBase&&(settings.urlBase=getLocalUrl(settings.urlBase,"abs"));var idCSS="xheCSS_"+settings.skin,idContainer="xhe"+xCount+"_container",idTools="xhe"+xCount+"_Tool",idIframeArea="xhe"+xCount+"_iframearea",idIframe="xhe"+xCount+"_iframe",idFixFFCursor="xhe"+xCount+"_fixffcursor",headHTML="",bodyClass="",skinPath=editorRoot+"xheditor_skin\/"+settings.skin+"\/",arrEmots=itemEmots,urlType=settings.urlType,urlBase=settings.urlBase,emotPath=settings.emotPath,emotPath=emotPath?emotPath:editorRoot+"xheditor_emot\/",selEmotGroup="";arrEmots=$.extend({},arrEmots,settings.emots),emotPath=getLocalUrl(emotPath,"rel",urlBase?urlBase:null),bShowBlocktag=settings.showBlocktag,bShowBlocktag&&(bodyClass+=" showBlocktag");var arrShortCuts=[];this.init=function(){function e(e){var t,i=$(e.target);(t=i.css("width"))&&i.css("width","").attr("width",t.replace(\/[^0-9%]+\/g,"")),(t=i.css("height"))&&i.css("height","").attr("height",t.replace(\/[^0-9%]+\/g,""))}0===$("#"+idCSS).length&&$("head").append('<link id="'+idCSS+'" rel="stylesheet" type="text\/css" href="'+skinPath+'ui.css" \/>');var t=_jText.outerWidth(),i=_jText.outerHeight(),s=settings.width||_text.style.width||(t>10?t:0);editorHeight=settings.height||_text.style.height||(i>10?i:150),\/^\\d+(?:\\.\\d+)?$\/.test(s)&&(s+="px"),is(editorHeight,"string")&&(editorHeight=editorHeight.replace(\/[^\\d]+\/g,""));var a,n,o=settings.background||_text.style.background,l=['<span class="xheGStart"\/>'],r=\/\\||\\\/\/i;$.each(settings.tools,function(e,t){if(t.match(r)&&l.push('<span class="xheGEnd"\/>'),"|"===t)l.push('<span class="xheSeparator"\/>');else if("\/"===t)l.push("<br \/>");else{if(a=arrTools[t],!a)return;n=a.c?a.c:"xheIcon xheBtn"+t,l.push('<span><a href="#" title="{#'+a.t+'}" cmd="'+t+'" class="xheButton xheEnabled" tabindex="-1" role="button"><span class="'+n+'" unselectable="on" style="font-size:0;color:transparent;text-indent:-999px;">'+a.t+"<\/span><\/a><\/span>"),a.s&&_this.addShortcuts(a.s,t)}t.match(r)&&l.push('<span class="xheGStart"\/>')}),l.push('<span class="xheGEnd"\/><br \/>'),_jText.after($('<input type="text" id="'+idFixFFCursor+'" style="position:absolute;display:none;" \/><span id="'+idContainer+'" class="xhe_'+settings.skin+'" style="display:none"><table cellspacing="0" cellpadding="0" class="xheLayout" style="'+("0px"!=s?"width:"+s+";":"")+"height:"+editorHeight+'px;" role="presentation"><tr><td id="'+idTools+'" class="xheTool" unselectable="on" style="height:1px;" role="presentation"><\/td><\/tr><tr><td id="'+idIframeArea+'" class="xheIframeArea" role="presentation"><iframe frameborder="0" id="'+idIframe+'" src="javascript:;" style="width:100%;"><\/iframe><\/td><\/tr><\/table><\/span>')),_jTools=$("#"+idTools),_jArea=$("#"+idIframeArea),headHTML='<meta http-equiv="Content-Type" content="text\/html; charset=utf-8" \/><link rel="stylesheet" href="'+skinPath+'iframe.css"\/>';var h=settings.loadCSS;if(h)if(is(h,"array"))for(var c in h)headHTML+='<link rel="stylesheet" href="'+h[c]+'"\/>';else headHTML+=h.match(\/\\s*<style(\\s+[^>]*?)?>[\\s\\S]+?<\\\/style>\\s*\/i)?h:'<link rel="stylesheet" href="'+h+'"\/>';var d='<!DOCTYPE html><html xmlns="http:\/\/www.w3.org\/1999\/xhtml"><head>'+headHTML+"<title>{#defaultReadTip} "+(settings.readTip?settings.readTip:"")+"<\/title>";o&&(d+="<style>html{background:"+o+";}<\/style>"),d+='<\/head><body spellcheck="0" class="editMode'+bodyClass+'"><\/body><\/html>',_this.win=_win=$("#"+idIframe)[0].contentWindow,_jWin=$(_win);try{this.doc=_doc=_win.document,_jDoc=$(_doc),_doc.open(),_doc.write(getLang(d)),_doc.close(),isIE?_doc.body.contentEditable="true":_doc.designMode="On"}catch(u){}setTimeout(setOpts,300),_this.setSource(),_win.setInterval=null,_jTools.append(getLang(l.join(""))).bind("mousedown contextmenu",returnFalse).click(function(e){var t=$(e.target).closest("a");return t.is(".xheEnabled")&&(clearTimeout(timer),_jTools.find("a").attr("tabindex","-1"),ev=e,_this.exec(t.attr("cmd"))),!1}),_jTools.find(".xheButton").hover(function(e){var t=$(this),i=settings.hoverExecDelay,s=lastAngle;if(lastAngle=null,-1===i||bDisableHoverExec||!t.is(".xheEnabled"))return!1;if(s&&s>10)return bDisableHoverExec=!0,setTimeout(function(){bDisableHoverExec=!1},100),!1;var a=t.attr("cmd"),n=1===arrTools[a].h;return n?(bQuickHoverExec&&(i=0),i>=0&&(timer=setTimeout(function(){ev=e,lastPoint={x:ev.clientX,y:ev.clientY},_this.exec(a)},i)),undefined):(_this.hidePanel(),!1)},function(){lastPoint=null,timer&&clearTimeout(timer)}).mousemove(function(e){if(lastPoint){var t={x:e.clientX-lastPoint.x,y:e.clientY-lastPoint.y};if(Math.abs(t.x)>1||Math.abs(t.y)>1){if(t.x>0&&t.y>0){var i=Math.round(Math.atan(t.y\/t.x)\/.017453293);lastAngle=lastAngle?(lastAngle+i)\/2:i}else lastAngle=null;lastPoint={x:e.clientX,y:e.clientY}}}}),_jPanel=$("#xhePanel"),_jShadow=$("#xheShadow"),_jCntLine=$("#xheCntLine"),0===_jPanel.length&&(_jPanel=$('<div id="xhePanel"><\/div>').mousedown(function(e){e.stopPropagation()}),_jShadow=$('<div id="xheShadow"><\/div>'),_jCntLine=$('<div id="xheCntLine"><\/div>'),setTimeout(function(){$(document.body).append(_jPanel).append(_jShadow).append(_jCntLine)},10)),$("#"+idContainer).show(),_jText.hide(),_jArea.css("height",editorHeight-_jTools.outerHeight()),isIE&8>browerVer&&setTimeout(function(){_jArea.css("height",editorHeight-_jTools.outerHeight())},1),_jText.focus(_this.focus),_jForm.submit(saveResult).bind("reset",loadReset),settings.submitID&&$("#"+settings.submitID).mousedown(saveResult),$(window).bind("unload beforeunload",saveResult).bind("resize",fixFullHeight),$(document).mousedown(clickCancelPanel),bCheckEscInit||($(document).keydown(checkEsc),bCheckEscInit=!0),_jWin.focus(function(){settings.focus&&settings.focus()}).blur(function(){settings.blur&&settings.blur()}),isWebkit&&_jWin.click(fixAppleSel),_jDoc.mousedown(clickCancelPanel).keydown(checkShortcuts).keypress(forcePtag).dblclick(checkDblClick).bind("mousedown click",function(e){_jText.trigger(e.type)}),isIE&&(_jDoc.keydown(function(e){var t=_this.getRng();return 8===e.which&&t.item?($(t.item(0)).remove(),!1):undefined}),_jDoc.bind("controlselect",function(t){t=t.target,$.nodeName(t,"IMG")&&$(t).unbind("resizeend",e).bind("resizeend",e)})),_jDoc.keydown(function(e){var t=e.which;return e.altKey&&t>=49&&57>=t?(_jTools.find("a").attr("tabindex","0"),_jTools.find(".xheGStart").eq(t-49).next().find("a").focus(),_doc.title="\\ufeff\\ufeff",!1):undefined}).click(function(){_jTools.find("a").attr("tabindex","-1")}),_jTools.keydown(function(e){var t=e.which;if(27==t)_jTools.find("a").attr("tabindex","-1"),_this.focus();else if(e.altKey&&t>=49&&57>=t)return _jTools.find(".xheGStart").eq(t-49).next().find("a").focus(),!1});var p=$(_doc.documentElement);isOpera?p.bind("keydown",function(e){e.ctrlKey&&86===e.which&&cleanPaste()}):p.bind(isIE?"beforepaste":"paste",cleanPaste),settings.disableContextmenu&&p.bind("contextmenu",returnFalse),settings.html5Upload&&p.bind("dragenter dragover",function(e){var t;return(t=e.originalEvent.dataTransfer.types)&&-1!==$.inArray("Files",t)?!1:undefined}).bind("drop",function(e){function t(e){var t,i,s;for(a=0;e.length>a;a++){if(i=e[a].name.replace(\/.+\\.\/,""),!(t=o.match(RegExp("(\\\\w+):[^:]*,"+i+"(?:,|$)","i"))))return 1;if(s){if(s!==t[1])return 2}else s=t[1]}return s}var i,s=e.originalEvent.dataTransfer;if(s&&(i=s.files)&&i.length>0){var a,n,o,l=["Link","Img","Flash","Media"],r=[];for(a in l)n=l[a],settings["up"+n+"Url"]&&settings["up"+n+"Url"].match(\/^[^!].*\/i)&&r.push(n+":,"+settings["up"+n+"Ext"]);return 0===r.length?!1:(o=r.join(","),n=t(i),1===n?alert(getLang("upload.extLimit",o.replace(\/\\w+:,\/g,""))):2===n?alert(getLang("upload.typeLimit")):n&&_this.startUpload(i,settings["up"+n+"Url"],"*",function(e){var t,i=[],s=settings.onUpload;s&&s(e);for(var a=0,o=e.length;o>a;a++)t=e[a],url=is(t,"string")?t:t.url,"!"===url.substr(0,1)&&(url=url.substr(1)),i.push(url);_this.exec(n),$("#xhe"+n+"Url").val(i.join(" ")),$("#xheSave").click()}),!1)}});var g=settings.shortcuts;g&&$.each(g,function(e,t){_this.addShortcuts(e,t)}),xCount++,bInit=!0,settings.fullscreen?_this.toggleFullscreen():settings.sourceMode&&setTimeout(_this.toggleSource,20);var f=settings.plugins;return f&&$.each(f,function(e,t){var i=t.i;i!==undefined&&i(_this)}),!0},this.remove=function(){_this.hidePanel(),saveResult(),_jText.unbind("focus",_this.focus),_jForm.unbind("submit",saveResult).unbind("reset",loadReset),settings.submitID&&$("#"+settings.submitID).unbind("mousedown",saveResult),$(window).unbind("unload beforeunload",saveResult).unbind("resize",fixFullHeight),$(document).unbind("mousedown",clickCancelPanel),$("#"+idContainer).remove(),$("#"+idFixFFCursor).remove(),_jText.show(),bInit=!1},this.saveBookmark=function(){if(!bSource){_this.focus();var e=_this.getRng();e=e.cloneRange?e.cloneRange():e,bookmark={top:_jWin.scrollTop(),rng:e}}},this.loadBookmark=function(){if(!bSource&&bookmark){_this.focus();var e=bookmark.rng;if(isIE)e.select();else{var t=_this.getSel();t.removeAllRanges(),t.addRange(e)}_jWin.scrollTop(bookmark.top),bookmark=null}},this.focus=function(){if(bSource?$("#sourceCode",_doc).focus():_win.focus(),isIE){var e=_this.getRng();e.parentElement&&e.parentElement().ownerDocument!==_doc&&_this.setTextCursor()}return!1},this.setTextCursor=function(e){var t=_this.getRng(!0),i=_doc.body;if(isIE)t.moveToElementText(i);else{for(var s=e?"lastChild":"firstChild";3!=i.nodeType&&i[s];)i=i[s];t.selectNode(i)}if(t.collapse(e?!1:!0),isIE)t.select();else{var a=_this.getSel();a.removeAllRanges(),a.addRange(t)}},this.getSel=function(){return _doc.selection?_doc.selection:_win.getSelection()},this.getRng=function(e){var t,i;try{e||(t=_this.getSel(),i=t.createRange?t.createRange():t.rangeCount>0?t.getRangeAt(0):null),i||(i=_doc.body.createTextRange?_doc.body.createTextRange():_doc.createRange())}catch(s){}return i},this.getParent=function(e){var t,i=_this.getRng();return isIE?t=i.item?i.item(0):i.parentElement():(t=i.commonAncestorContainer,i.collapsed||i.startContainer===i.endContainer&&2>i.startOffset-i.endOffset&&i.startContainer.hasChildNodes()&&(t=i.startContainer.childNodes[i.startOffset])),e=e?e:"*",t=$(t),t.is(e)||(t=$(t).closest(e)),t},this.getSelect=function(e){var t=_this.getSel(),i=_this.getRng(),s=!0;if(s=!i||i.item?!1:!t||0===i.boundingWidth||i.collapsed,"text"===e)return s?"":i.text||(t.toString?""+t:"");var a;if(i.cloneContents){var n,o=$("<div><\/div>");n=i.cloneContents(),n&&o.append(n),a=o.html()}else a=is(i.item)?i.item(0).outerHTML:is(i.htmlText)?i.htmlText:""+i;return s&&(a=""),a=_this.processHTML(a,"read"),a=_this.cleanHTML(a),a=_this.formatXHTML(a)},this.pasteHTML=function(e,t){if(bSource)return!1;_this.focus(),e=_this.processHTML(e,"write");var i=_this.getSel(),s=_this.getRng();if(t!==undefined){if(s.item){var a=s.item(0);s=_this.getRng(!0),s.moveToElementText(a),s.select()}s.collapse(t)}if(e+="<"+(isIE?"img":"span")+' id="_xhe_temp" width="0" height="0" \/>',s.insertNode){if($(s.startContainer).closest("style,script").length>0)return!1;s.deleteContents(),s.insertNode(s.createContextualFragment(e))}else"control"===i.type.toLowerCase()&&(i.clear(),s=_this.getRng()),s.pasteHTML(e);var n=$("#_xhe_temp",_doc),o=n[0];isIE?(s.moveToElementText(o),s.select()):(s.selectNode(o),i.removeAllRanges(),i.addRange(s)),n.remove()},this.pasteText=function(e,t){e||(e=""),e=_this.domEncode(e),e=e.replace(\/\\r?\\n\/g,"<br \/>"),_this.pasteHTML(e,t)},this.appendHTML=function(e){return bSource?!1:(_this.focus(),e=_this.processHTML(e,"write"),$(_doc.body).append(e),_this.setTextCursor(!0),undefined)},this.domEncode=function(e){return e.replace(regEntities,function(e){return arrEntities[e]})},this.setSource=function(e){bookmark=null,"string"!=typeof e&&""!==e&&(e=_text.value),bSource?$("#sourceCode",_doc).val(e):(settings.beforeSetSource&&(e=settings.beforeSetSource(e)),e=_this.cleanHTML(e),e=_this.formatXHTML(e),e=_this.processHTML(e,"write"),isIE?(_doc.body.innerHTML='<img id="_xhe_temp" width="0" height="0" \/>'+e,$("#_xhe_temp",_doc).remove()):_doc.body.innerHTML=e)},this.processHTML=function(e,t){function i(e,t,i,s,a,o){var l,r,h,c,d="";if(l=s.match(\/font-family\\s*:\\s*([^;"]+)\/i),l&&(d+=' face="'+l[1]+'"'),r=s.match(\/font-size\\s*:\\s*([^;"]+)\/i)){r=r[1].toLowerCase();for(var u=0;n.length>u;u++)if(r===n[u].n||r===n[u].s){h=u+1;break}h&&(d+=' size="'+h+'"',s=s.replace(\/(^|;)(\\s*font-size\\s*:\\s*[^;"]+;?)+\/gi,"$1"))}if(c=s.match(\/(?:^|[\\s;])color\\s*:\\s*([^;"]+)\/i)){var p;if(p=c[1].match(\/\\s*rgb\\s*\\(\\s*(\\d+)\\s*,\\s*(\\d+)\\s*,\\s*(\\d+)\\s*\\)\/i)){c[1]="#";for(var g=1;3>=g;g++)c[1]+=("0"+(p[g]-0).toString(16)).slice(-2)}c[1]=c[1].replace(\/^#([0-9a-f])([0-9a-f])([0-9a-f])$\/i,"#$1$1$2$2$3$3"),d+=' color="'+c[1]+'"'}return s=s.replace(\/(^|;)(\\s*(font-family|color)\\s*:\\s*[^;"]+;?)+\/gi,"$1"),""!==d?(s&&(d+=' style="'+s+'"'),"<font"+(i?i:"")+d+(a?a:"")+">"+o+"<\/font>"):e}function s(e,t,i,s,a){for(var n,l,r=(i?i:"")+(s?s:""),h=[],c=[],d=0;o.length>d;d++)n=o[d].r,l=o[d].t,r=r.replace(n,function(){return h.push("<"+l+">"),c.push("<\/"+l+">"),""});return r=r.replace(\/\\s+style\\s*=\\s*"\\s*"\/i,""),(r?"<span"+r+">":"")+h.join("")+a+c.join("")+(r?"<\/span>":"")}var a=' class="Apple-style-span"',n=settings.listFontsize;if("write"===t)e=e.replace(\/(<(\\\/?)(\\w+))((?:\\s+[\\w\\-:]+\\s*=\\s*(?:"[^"]*"|'[^']*'|[^>\\s]+))*)\\s*((\\\/?)>)\/g,function(e,t,i,s,n,o,l){s=s.toLowerCase(),isMozilla?"strong"===s?s="b":"em"===s&&(s="i"):isWebkit&&("strong"===s?(s="span",i||(n+=a+' style="font-weight: bold;"')):"em"===s?(s="span",i||(n+=a+' style="font-style: italic;"')):"u"===s?(s="span",i||(n+=a+' style="text-decoration: underline;"')):"strike"===s&&(s="span",i||(n+=a+' style="text-decoration: line-through;"')));var r,h="";if("del"===s)s="strike";else if("img"===s)n=n.replace(\/\\s+emot\\s*=\\s*("[^"]*"|'[^']*'|[^>\\s]+)\/i,function(e,t){return r=t.match(\/^(["']?)(.*)\\1\/)[2],r=r.split(","),r[1]||(r[1]=r[0],r[0]=""),"default"===r[0]&&(r[0]=""),settings.emotMark?e:""});else if("a"===s)!n.match(\/ href=[^ ]\/i)&&n.match(\/ name=[^ ]\/i)&&(h+=" xhe-anchor"),l&&(o="><\/a>");else if("table"===s&&!i){var c=n.match(\/\\s+border\\s*=\\s*("[^"]*"|'[^']*'|[^>\\s]+)\/i);(!c||c[1].match(\/^(["']?)\\s*0\\s*\\1$\/))&&(h+=" xhe-border")}var d;if(n=n.replace(\/\\s+([\\w\\-:]+)\\s*=\\s*("[^"]*"|'[^']*'|[^>\\s]+)\/g,function(e,t,i){return t=t.toLowerCase(),i=i.match(\/^(["']?)(.*)\\1\/)[2],aft="",isIE&&t.match(\/^(disabled|checked|readonly|selected)$\/)&&i.match(\/^(false|0)$\/i)?"":"img"===s&&r&&"src"===t?"":(t.match(\/^(src|href)$\/)&&(aft=" _xhe_"+t+'="'+i+'"',urlBase&&(i=getLocalUrl(i,"abs",urlBase))),h&&"class"===t&&(i+=" "+h,h=""),isWebkit&&"style"===t&&"span"===s&&i.match(\/(^|;)\\s*(font-family|font-size|color|background-color)\\s*:\\s*[^;]+\\s*(;|$)\/i)&&(d=!0)," "+t+'="'+i+'"'+aft)}),r){var u=emotPath+(r[0]?r[0]:"default")+"\/"+r[1]+".gif";n+=' src="'+u+'" _xhe_src="'+u+'"'}return d&&(n+=a),h&&(n+=' class="'+h+'"'),"<"+i+s+n+o}),isIE&&(e=e.replace(\/&apos;\/gi,"&#39;")),isWebkit||(e=e.replace(\/<(span)(\\s+[^>]*?)?\\s+style\\s*=\\s*"((?:[^"]*?;)?\\s*(?:font-family|font-size|color)\\s*:[^"]*)"( [^>]*)?>(((?!<\\1(\\s+[^>]*?)?>)[\\s\\S]|<\\1(\\s+[^>]*?)?>((?!<\\1(\\s+[^>]*?)?>)[\\s\\S]|<\\1(\\s+[^>]*?)?>((?!<\\1(\\s+[^>]*?)?>)[\\s\\S])*?<\\\/\\1>)*?<\\\/\\1>)*?)<\\\/\\1>\/gi,i),e=e.replace(\/<(span)(\\s+[^>]*?)?\\s+style\\s*=\\s*"((?:[^"]*?;)?\\s*(?:font-family|font-size|color)\\s*:[^"]*)"( [^>]*)?>(((?!<\\1(\\s+[^>]*?)?>)[\\s\\S]|<\\1(\\s+[^>]*?)?>((?!<\\1(\\s+[^>]*?)?>)[\\s\\S])*?<\\\/\\1>)*?)<\\\/\\1>\/gi,i),e=e.replace(\/<(span)(\\s+[^>]*?)?\\s+style\\s*=\\s*"((?:[^"]*?;)?\\s*(?:font-family|font-size|color)\\s*:[^"]*)"( [^>]*)?>(((?!<\\1(\\s+[^>]*?)?>)[\\s\\S])*?)<\\\/\\1>\/gi,i)),e=e.replace(\/<(td|th)(\\s+[^>]*?)?>(\\s|&nbsp;)*<\\\/\\1>\/gi,"<$1$2>"+(isIE?"":"<br \/>")+"<\/$1>");else{if(isWebkit)for(var o=[{r:\/font-weight\\s*:\\s*bold;?\/gi,t:"strong"},{r:\/font-style\\s*:\\s*italic;?\/gi,t:"em"},{r:\/text-decoration\\s*:\\s*underline;?\/gi,t:"u"},{r:\/text-decoration\\s*:\\s*line-through;?\/gi,t:"strike"}],l=0;2>l;l++)e=e.replace(\/<(span)(\\s+[^>]*?)?\\s+class\\s*=\\s*"Apple-style-span"(\\s+[^>]*?)?>(((?!<\\1(\\s+[^>]*?)?>)[\\s\\S]|<\\1(\\s+[^>]*?)?>((?!<\\1(\\s+[^>]*?)?>)[\\s\\S]|<\\1(\\s+[^>]*?)?>((?!<\\1(\\s+[^>]*?)?>)[\\s\\S])*?<\\\/\\1>)*?<\\\/\\1>)*?)<\\\/\\1>\/gi,s),e=e.replace(\/<(span)(\\s+[^>]*?)?\\s+class\\s*=\\s*"Apple-style-span"(\\s+[^>]*?)?>(((?!<\\1(\\s+[^>]*?)?>)[\\s\\S]|<\\1(\\s+[^>]*?)?>((?!<\\1(\\s+[^>]*?)?>)[\\s\\S])*?<\\\/\\1>)*?)<\\\/\\1>\/gi,s),e=e.replace(\/<(span)(\\s+[^>]*?)?\\s+class\\s*=\\s*"Apple-style-span"(\\s+[^>]*?)?>(((?!<\\1(\\s+[^>]*?)?>)[\\s\\S])*?)<\\\/\\1>\/gi,s);e=e.replace(\/(<(\\w+))((?:\\s+[\\w\\-:]+\\s*=\\s*(?:"[^"]*"|'[^']*'|[^>\\s]+))*)\\s*(\\\/?>)\/g,function(e,t,i,s,a){i=i.toLowerCase();$/;"	p
full_dest_path	system/libraries/Image_lib.php	/^					$full_dest_path = $this->new_image;$/;"	v
full_dest_path	system/libraries/Image_lib.php	/^					$full_dest_path = str_replace("\\\\", "\/", realpath($this->new_image));$/;"	v
full_dst_path	system/libraries/Image_lib.php	/^		$this->full_dst_path = $this->dest_folder.$filename.$this->thumb_marker.$file_ext;$/;"	v
full_dst_path	system/libraries/Image_lib.php	/^	var $full_dst_path		= '';$/;"	v
full_source_path	system/libraries/Image_lib.php	/^			$full_source_path = $this->source_image;$/;"	v
full_source_path	system/libraries/Image_lib.php	/^			$full_source_path = str_replace("\\\\", "\/", realpath($this->source_image));$/;"	v
full_src_path	system/libraries/Image_lib.php	/^		$this->full_src_path = $this->source_folder.$this->source_image;$/;"	v
full_src_path	system/libraries/Image_lib.php	/^	var $full_src_path		= '';$/;"	v
full_tag_close	system/libraries/Pagination.php	/^	var $full_tag_close		= '';$/;"	v
full_tag_open	system/libraries/Pagination.php	/^	var $full_tag_open		= '';$/;"	v
func	system/core/Input.php	/^		$func = '_valid_'.$which;$/;"	v
func	system/libraries/Profiler.php	/^				$func = "_compile_{$section}";$/;"	v
function	system/core/Hooks.php	/^			$function = $data['function'];$/;"	v
function	system/core/Hooks.php	/^		$function	= FALSE;$/;"	v
function	system/core/Hooks.php	/^		if ($class === FALSE AND $function === FALSE)$/;"	v
function	system/database/DB_driver.php	/^			$function = $driver.$function;$/;"	v
function	system/libraries/Table.php	/^		$function = $this->function;$/;"	v
function	system/libraries/Table.php	/^	var	$function			= FALSE;$/;"	v
functions	system/core/Common.php	/^		 \/\/ class functions (without prefixes like "public", "private", etc.)$/;"	c
funoimgUp	js/mBgItemAdd.js	/^function funoimgUp () {$/;"	f
g	js/flexslider-min.js	/^"play").text(c.playText):a.pausePlay.removeClass(e+"play").addClass(e+"pause").text(c.pauseText)}},touch:function(){function b(b){k=m?d-b.touches[0].pageY:d-b.touches[0].pageX;q=m?Math.abs(k)<Math.abs(b.touches[0].pageX-e):Math.abs(k)<Math.abs(b.touches[0].pageY-e);if(!q||500<Number(new Date)-l)b.preventDefault(),!s&&a.transitions&&(c.animationLoop||(k\/=0===a.currentSlide&&0>k||a.currentSlide===a.last&&0<k?Math.abs(k)\/r+2:1),a.setProps(f+k,"setTouch"))}function g(){j.removeEventListener("touchmove",$/;"	f
gc_probability	system/libraries/Session.php	/^	var $gc_probability				= 5;$/;"	v
gd_loaded	system/libraries/Image_lib.php	/^	function gd_loaded()$/;"	f
gd_version	system/libraries/Image_lib.php	/^				$gd_version = str_replace('0', '', $this->gd_version());$/;"	v
gd_version	system/libraries/Image_lib.php	/^			$gd_version = @gd_info();$/;"	v
gd_version	system/libraries/Image_lib.php	/^			$gd_version = preg_replace("\/\\D\/", "", $gd_version['GD Version']);$/;"	v
gd_version	system/libraries/Image_lib.php	/^	function gd_version()$/;"	f
generate	system/libraries/Calendar.php	/^	function generate($year = '', $month = '', $data = array())$/;"	f
generate	system/libraries/Sha1.php	/^	function generate($str)$/;"	f
generate	system/libraries/Table.php	/^	function generate($table_data = NULL)$/;"	f
generate_json	system/libraries/Javascript.php	/^	function generate_json($result = NULL, $match_array_type = FALSE)$/;"	f
generates	system/core/URI.php	/^	 * This function generates and associative array of URI data starting$/;"	f
get	application/controllers/HttpClient.class.php	/^    function get($path, $data = false,$timeout=90) {$/;"	f
get	application/controllers/message.php	/^	public function get($messId = -1)$/;"	f
get	system/core/Input.php	/^			$get = array();$/;"	v
get	system/core/Input.php	/^	function get($index = NULL, $xss_clean = FALSE)$/;"	f
get	system/database/DB_active_rec.php	/^	public function get($table = '', $limit = null, $offset = null)$/;"	f
get	system/libraries/Cache/Cache.php	/^	public function get($id)$/;"	f
get	system/libraries/Cache/drivers/Cache_apc.php	/^	public function get($id)$/;"	f
get	system/libraries/Cache/drivers/Cache_dummy.php	/^	public function get($id)$/;"	f
get	system/libraries/Cache/drivers/Cache_file.php	/^	public function get($id)$/;"	f
get	system/libraries/Cache/drivers/Cache_memcached.php	/^	public function get($id)$/;"	f
getAll	application/models/mess.php	/^	public function getAll($userId)$/;"	f
getAll	application/models/mwrong.php	/^     public function getAll(){$/;"	f
getAllList	application/models/mitem.php	/^    public function getAllList()$/;"	f
getAllOntime	application/models/morder.php	/^    public function getAllOntime()$/;"	f
getAllToday	application/models/morder.php	/^    public function getAllToday()$/;"	f
getAllunread	application/models/mess.php	/^	public function getAllunread($user_id)$/;"	f
getArray	application/models/art.php	/^    private function getArray($arr)$/;"	f
getArray	application/models/comment.php	/^		private function getArray($array)$/;"	f
getArray	application/models/img.php	/^    private function getArray($arr)$/;"	f
getArray	application/models/mess.php	/^	private function getArray($arr)$/;"	f
getArray	application/models/user.php	/^    private function getArray($array)$/;"	f
getArtById	application/models/bghome.php	/^		function getArtById($id){$/;"	f
getBgList	application/models/mitem.php	/^    public function getBgList($userId)$/;"	f
getBroByClass	js/mBgItemAdd.js	/^function getBroByClass  (node,cla) {$/;"	f
getById	application/models/art.php	/^    public function getById($artId)$/;"	f
getById	application/models/mess.php	/^	public function getById($messId)$/;"	f
getByImgId	application/models/imgcomment.php	/^	public function getByImgId($imgId)$/;"	f
getByUserId	application/models/comment.php	/^		public function getByUserId($userId)$/;"	f
getCart	application/models/morder.php	/^    public function getCart($userId){$/;"	f
getCart	application/models/order.php	/^    public function getCart(){$/;"	f
getCart	js/cart.js	/^function getCart(){$/;"	f
getChange	application/models/morder.php	/^    public function getChange($id)$/;"	f
getCom	application/controllers/sec.php	/^	public function getCom($artId  = "-1")$/;"	f
getCom	application/controllers/showart.php	/^    public function getCom($artId  = "-1")$/;"	f
getCom	js/art.js	/^function getCom (id) {\/\/或许设置成滚动加载比较好$/;"	f
getCommentById	application/models/comment.php	/^		public function getCommentById($artId)$/;"	f
getContent	application/controllers/HttpClient.class.php	/^    function getContent() {$/;"	f
getContext	application/models/comitem.php	/^    public function getContext($Id)$/;"	f
getCookies	application/controllers/HttpClient.class.php	/^    function getCookies() {$/;"	f
getData	application/controllers/order.php	/^    private function getData()$/;"	f
getData	js/message.js	/^function getData (path) {$/;"	f
getData	js/msea.js	/^function getData(url,page) {$/;"	f
getDetail	application/models/img.php	/^    public function getDetail($imgId)$/;"	f
getDetail	application/models/mitem.php	/^    public function getDetail($id)$/;"	f
getElementByIdInFrame	js/mBgItemAdd.js	/^function getElementByIdInFrame(objFrame,idInFrame) {$/;"	f
getElementPos	application/views/donghua.php	/^            getElementPos: function(el) {$/;"	j
getError	application/controllers/HttpClient.class.php	/^    function getError() {$/;"	f
getExtro	application/models/user.php	/^    public function getExtro($userId)$/;"	f
getFirById	application/models/mess.php	/^	public function getFirById($messId)$/;"	f
getGifName	js/messout.js	/^function getGifName (name) {$/;"	f
getGifName	js/spacePhoto.js	/^function getGifName (name) {\/\/通过传入的url获得其中隐藏的图片名称$/;"	f
getHeader	application/controllers/HttpClient.class.php	/^    function getHeader($header) {$/;"	f
getHeaders	application/controllers/HttpClient.class.php	/^    function getHeaders() {$/;"	f
getHot	application/models/art.php	/^    public function getHot($data)$/;"	f
getHot	application/models/mitem.php	/^    public function getHot($startId)$/;"	f
getHotRecet	application/models/art.php	/^    public function getHotRecet()$/;"	f
getId	js/messwrite.js	/^function getId(user){$/;"	f
getIdArr	application/controllers/sea.php	/^    protected function getIdArr($key)$/;"	f
getIdByKey	application/models/art.php	/^    public function getIdByKey($key,$partId = -1)$/;"	f
getIdByKey	application/models/mitem.php	/^    public function getIdByKey($key)$/;"	f
getIdMap	application/models/art.php	/^    public function getIdMap($key,$sql)$/;"	f
getImgId	application/models/art.php	/^    public function getImgId($artId)$/;"	f
getImgName	application/models/img.php	/^    function getImgName($user_id){$/;"	f
getImgName	application/models/mhome.php	/^	function getImgName($user_id){$/;"	f
getInMess	application/models/mess.php	/^	public function getInMess($userId)$/;"	f
getInfo	application/models/muser_home.php	/^	function getInfo($id){$/;"	f
getInfo	js/home.js	/^function getInfo (type,partId) {$/;"	f
getInfo	js/mainpage2.js	/^function getInfo (type,partId) {$/;"	f
getInfo.autoload	js/home.js	/^function autoload(key) {$/;"	f
getInfo.autoload	js/mainpage2.js	/^function autoload(id,page) {$/;"	f
getInfo.init	js/home.js	/^function  init(){$/;"	f
getInfo.seaEvent	js/home.js	/^function seaEvent() {$/;"	f
getInfo.window.onscroll	js/home.js	/^    window.onscroll = function  () {$/;"	f
getInfoById	application/models/comment.php	/^		public function getInfoById($id)$/;"	f
getInfoById	application/models/user.php	/^    public function getInfoById($id)$/;"	f
getItem	application/models/user.php	/^    public function getItem($userId){$/;"	f
getItself	application/views/donghua.php	/^            getItself: function(id) {$/;"	j
getJoin	application/controllers/space.php	/^    public function getJoin($userId = -1)$/;"	f
getJoin	js/space.js	/^function getJoin (userId) {$/;"	f
getJudge	application/controllers/spacePhoto.php	/^	public function getJudge($imgid = -1)$/;"	f
getLang	js/xheditor.min.js	/^(function(){var e={};window.XHEDITOR=e})(),function(e,t){e.mapLang={},e.setLang=function(i,s){s===t&&(s=i,i=""),""!==i&&(i+=".");var a,n;for(var o in s)n=s[o],a=i+o,"string"==typeof n||n instanceof Array?e.mapLang[a]=n:e.setLang(a,n)},e.getLang=function(i){var s=e.mapLang[i];if(s===t&&(s=i.replace(\/{#([^{}]+)}\/g,function(t,i){var s=e.mapLang[i];return s?s:i})),"string"==typeof s){var a=arguments;s=s.replace(\/{\\$(\\d+)}\/g,function(e,i){var s=a[parseInt(i,10)+1];return s!==t?s:e})}return s}}(XHEDITOR),function(XHEDITOR,$,undefined){var agent=navigator.userAgent.toLowerCase(),bMobile=\/mobile\/i.test(agent),browser=$.browser,browerVer=parseFloat(browser.version),isIE=browser.msie,isMozilla=browser.mozilla,isWebkit=browser.webkit,isOpera=browser.opera,isChrome=browser.chrome,bAir=agent.indexOf(" adobeair\/")>-1,xCount=0,bShowPanel=!1,bClickCancel=!0,bShowModal=!1,bCheckEscInit=!1,_jPanel,_jShadow,_jCntLine,_jPanelButton,jModal,jModalShadow,layerShadow,jOverlay,jHideSelect,onModalRemove,editorRoot,getLang=XHEDITOR.getLang;if($("script[src*=xheditor]").each(function(){var e=this.src;return e.match(\/xheditor[^\\\/]*\\.js\/i)?(editorRoot=e.replace(\/[\\?#].*$\/,"").replace(\/(^|[\\\/\\\\])[^\\\/]*$\/,"$1"),!1):undefined}),isIE){try{document.execCommand("BackgroundImageCache",!1,!0)}catch(e){}var jqueryVer=$.fn.jquery;jqueryVer&&jqueryVer.match(\/^1\\.[67]\/)&&($.attrHooks.width=$.attrHooks.height=null)}var specialKeys={27:"esc",9:"tab",32:"space",13:"enter",8:"backspace",145:"scroll",20:"capslock",144:"numlock",19:"pause",45:"insert",36:"home",46:"del",35:"end",33:"pageup",34:"pagedown",37:"left",38:"up",39:"right",40:"down",112:"f1",113:"f2",114:"f3",115:"f4",116:"f5",117:"f6",118:"f7",119:"f8",120:"f9",121:"f10",122:"f11",123:"f12"},arrAlign=[{v:"justifyleft"},{v:"justifycenter"},{v:"justifyright"},{v:"justifyfull"}],arrList=[{v:"insertOrderedList"},{v:"insertUnorderedList"}],htmlPastetext='<div><label for="xhePastetextValue">{#PastetextTip}<\/label><\/div><div><textarea id="xhePastetextValue" wrap="soft" spellcheck="false" style="width:300px;height:100px;" \/><\/div><div style="text-align:right;"><input type="button" id="xheSave" value="{#dialogOk}" \/><\/div>',htmlLink='<div><label for="xheLinkUrl">{#link.url}<\/label><input type="text" id="xheLinkUrl" value="http:\/\/" class="xheText" \/><\/div><div><label for="xheLinkTarget">{#link.target}<\/label><select id="xheLinkTarget"><option selected="selected" value="">{#default}<\/option><option value="_blank">{#link.targetBlank}<\/option><option value="_self">{#link.targetSelf}<\/option><option value="_parent">{#link.targetParent}<\/option><\/select><\/div><div style="display:none"><label for="xheLinkText">{#link.linkText}<\/label><input type="text" id="xheLinkText" value="" class="xheText" \/><\/div><div style="text-align:right;"><input type="button" id="xheSave" value="{#dialogOk}" \/><\/div>',htmlAnchor='<div><label for="xheAnchorName">{#anchor.name}<\/label><input type="text" id="xheAnchorName" value="" class="xheText" \/><\/div><div style="text-align:right;"><input type="button" id="xheSave" value="{#dialogOk}" \/><\/div>',htmlImg='<div><label for="xheImgUrl">{#img.url}<\/label><input type="text" id="xheImgUrl" value="http:\/\/" class="xheText" \/><\/div><div><div><label for="xheImgAlt">{#img.alt}<\/label><input type="text" id="xheImgAlt" \/><\/div><div><label for="xheImgAlign">{#img.align}<\/label><select id="xheImgAlign"><option selected="selected" value="">{#default}<\/option><option value="left">{#img.alignLeft}<\/option><option value="right">{#img.alignRight}<\/option><option value="top">{#img.alignTop}<\/option><option value="middle">{#img.alignMiddle}<\/option><option value="baseline">{#img.alignBaseline}<\/option><option value="bottom">{#img.alignBottom}<\/option><\/select><\/div><div><label for="xheImgWidth">{#img.width}<\/label><input type="text" id="xheImgWidth" style="width:40px;" \/> <label for="xheImgHeight">{#img.height}<\/label><input type="text" id="xheImgHeight" style="width:40px;" \/><\/div><div><label for="xheImgBorder">{#img.border}<\/label><input type="text" id="xheImgBorder" style="width:40px;" \/><\/div><div><label for="xheImgHspace">{#img.hspace}<\/label><input type="text" id="xheImgHspace" style="width:40px;" \/> <label for="xheImgVspace">{#img.vspace}<\/label><input type="text" id="xheImgVspace" style="width:40px;" \/><\/div><div style="text-align:right;"><input type="button" id="xheSave" value="{#dialogOk}" \/><\/div>',htmlFlash='<div><label for="xheFlashUrl">{#flash.url}<\/label><input type="text" id="xheFlashUrl" value="http:\/\/" class="xheText" \/><\/div><div><label for="xheFlashWidth">{#flash.width}<\/label><input type="text" id="xheFlashWidth" style="width:40px;" value="480" \/> <label for="xheFlashHeight">{#flash.height}<\/label><input type="text" id="xheFlashHeight" style="width:40px;" value="400" \/><\/div><div style="text-align:right;"><input type="button" id="xheSave" value="{#dialogOk}" \/><\/div>',htmlMedia='<div><label for="xheMediaUrl">{#media.url}<\/label><input type="text" id="xheMediaUrl" value="http:\/\/" class="xheText" \/><\/div><div><label for="xheMediaWidth">{#media.width}<\/label><input type="text" id="xheMediaWidth" style="width:40px;" value="480" \/> <label for="xheMediaHeight">{#media.height}<\/label><input type="text" id="xheMediaHeight" style="width:40px;" value="400" \/><\/div><div style="text-align:right;"><input type="button" id="xheSave" value="{#dialogOk}" \/><\/div>',htmlTable='<div><label for="xheTableRows">{#table.rows}<\/label><input type="text" id="xheTableRows" style="width:40px;" value="3" \/> <label for="xheTableColumns">{#table.columns}<\/label><input type="text" id="xheTableColumns" style="width:40px;" value="2" \/><\/div><div><label for="xheTableHeaders">{#table.headers}<\/label><select id="xheTableHeaders"><option selected="selected" value="">{#none}<\/option><option value="row">{#table.headersRow}<\/option><option value="col">{#table.headersCol}<\/option><option value="both">{#table.headersBoth}<\/option><\/select><\/div><div><label for="xheTableWidth">{#table.width}<\/label><input type="text" id="xheTableWidth" style="width:40px;" value="200" \/> <label for="xheTableHeight">{#table.height}<\/label><input type="text" id="xheTableHeight" style="width:40px;" value="" \/><\/div><div><label for="xheTableBorder">{#table.border}<\/label><input type="text" id="xheTableBorder" style="width:40px;" value="1" \/><\/div><div><label for="xheTableCellSpacing">{#table.cellSpacing}<\/label><input type="text" id="xheTableCellSpacing" style="width:40px;" value="1" \/> <label for="xheTableCellPadding">{#table.cellPadding}<\/label><input type="text" id="xheTableCellPadding" style="width:40px;" value="1" \/><\/div><div><label for="xheTableAlign">{#table.align}<\/label><select id="xheTableAlign"><option selected="selected" value="">{#default}<\/option><option value="left">{#table.alignLeft}<\/option><option value="center">{#table.alignCenter}<\/option><option value="right">{#table.alignRight}<\/option><\/select><\/div><div><label for="xheTableCaption">{#table.caption}<\/label><input type="text" id="xheTableCaption" \/><\/div><div style="text-align:right;"><input type="button" id="xheSave" value="{#dialogOk}" \/><\/div>',htmlAbout='<div style="font:12px Arial;width:245px;word-wrap:break-word;word-break:break-all;outline:none;" role="dialog" tabindex="-1"><p><span style="font-size:20px;color:#1997DF;">xhEditor<\/span><br \/>v1.2.1 (build 130225)<\/p><p>{#aboutXheditor}<\/p><p>Copyright &copy; <a href="http:\/\/xheditor.com\/" target="_blank">xhEditor.com<\/a>. All rights reserved.<\/p><\/div>',itemEmots={"default":{name:"{#default}",width:24,height:24,line:7,list:["smile","tongue","titter","laugh","sad","wronged","fastcry","cry","wail","mad","knock","curse","crazy","angry","ohmy","awkward","panic","shy","cute","envy","proud","struggle","quiet","shutup","doubt","despise","sleep","bye"]}},arrTools={Cut:{t:"Cut"},Copy:{t:"Copy"},Paste:{t:"Paste"},Pastetext:{t:"Pastetext",h:isIE?0:1},Blocktag:{t:"Blocktag",h:1},Fontface:{t:"Fontface",h:1},FontSize:{t:"FontSize",h:1},Bold:{t:"Bold",s:"Ctrl+B"},Italic:{t:"Italic",s:"Ctrl+I"},Underline:{t:"Underline",s:"Ctrl+U"},Strikethrough:{t:"Strikethrough"},FontColor:{t:"FontColor",h:1},BackColor:{t:"BackColor",h:1},SelectAll:{t:"SelectAll"},Removeformat:{t:"Removeformat"},Align:{t:"Align",h:1},List:{t:"List",h:1},Outdent:{t:"Outdent"},Indent:{t:"Indent"},Link:{t:"Link",s:"Ctrl+L",h:1},Unlink:{t:"Unlink"},Anchor:{t:"Anchor",h:1},Img:{t:"Img",h:1},Flash:{t:"Flash",h:1},Media:{t:"Media",h:1},Hr:{t:"Hr"},Emot:{t:"Emot",s:"ctrl+e",h:1},Table:{t:"Table",h:1},Source:{t:"Source"},Preview:{t:"Preview"},Print:{t:"Print",s:"Ctrl+P"},Fullscreen:{t:"Fullscreen",s:"Esc"},About:{t:"About"}},toolsThemes={mini:"Bold,Italic,Underline,Strikethrough,|,Align,List,|,Link,Img",simple:"Blocktag,Fontface,FontSize,Bold,Italic,Underline,Strikethrough,FontColor,BackColor,|,Align,List,Outdent,Indent,|,Link,Img,Emot",full:"Cut,Copy,Paste,Pastetext,|,Blocktag,Fontface,FontSize,Bold,Italic,Underline,Strikethrough,FontColor,BackColor,SelectAll,Removeformat,|,Align,List,Outdent,Indent,|,Link,Unlink,Anchor,Img,Flash,Media,Hr,Emot,Table,|,Source,Preview,Print,Fullscreen"};toolsThemes.mfull=toolsThemes.full.replace(\/\\|(,Align)\/i,"\/$1");var arrDbClick={a:"Link",img:"Img",embed:"Embed"},uploadInputname="filedata",arrEntities={"<":"&lt;",">":"&gt;",'"':"&quot;","\\u00ae":"&reg;","\\u00a9":"&copy;"},regEntities=\/[<>"\\u00ae\\u00a9]\/g,Xheditor=function(textarea,options){function checkDblClick(e){var t=e.target,i=arrDbClick[t.tagName.toLowerCase()];if(i){if("Embed"===i){var s={"application\/x-shockwave-flash":"Flash","application\/x-mplayer2":"Media"};i=s[t.type.toLowerCase()]}_this.exec(i)}}function checkEsc(e){return 27===e.which?(bShowModal?_this.removeModal():bShowPanel&&_this.hidePanel(),!1):undefined}function loadReset(){setTimeout(_this.setSource,10)}function saveResult(){_this.getSource()}function cleanPaste(e){var t,i,s;if(e&&(t=e.originalEvent.clipboardData)&&(i=t.items)&&(s=i[0])&&"file"==s.kind&&s.type.match(\/^image\\\/\/i)){var a=s.getAsFile(),n=new FileReader;return n.onload=function(){var e='<img src="'+event.target.result+'">';e=replaceRemoteImg(e),_this.pasteHTML(e)},n.readAsDataURL(a),!1}var o=settings.cleanPaste;if(0===o||bSource||bCleanPaste)return!0;bCleanPaste=!0,_this.saveBookmark();var l=isIE?"pre":"div",r=$("<"+l+' class="xhe-paste">\\ufeff\\ufeff<\/'+l+">",_doc).appendTo(_doc.body),h=r[0],c=_this.getSel(),d=_this.getRng(!0);r.css("top",_jWin.scrollTop()),isIE?(d.moveToElementText(h),d.select()):(d.selectNodeContents(h),c.removeAllRanges(),c.addRange(d)),setTimeout(function(){var e,t=3===o;if(t)r.html(r.html().replace(\/<br(\\s+[^<>]*)?>\/gi,"\\n")),e=r.text();else{var i=$(".xhe-paste",_doc.body),s=[];i.each(function(e,t){0==$(t).find(".xhe-paste").length&&s.push(t.innerHTML)}),e=s.join("<br \/>")}r.remove(),_this.loadBookmark(),e=e.replace(\/^[\\s\\uFEFF]+|[\\s\\uFEFF]+$\/g,""),e&&(t?_this.pasteText(e):(e=_this.cleanHTML(e),e=_this.cleanWord(e),e=_this.formatXHTML(e),(!settings.onPaste||settings.onPaste&&(e=settings.onPaste(e))!==!1)&&(e=replaceRemoteImg(e),_this.pasteHTML(e)))),bCleanPaste=!1},0)}function replaceRemoteImg(e){var t=settings.localUrlTest,i=settings.remoteImgSaveUrl;if(t&&i){var s=[],a=0;e=e.replace(\/(<img)((?:\\s+[^>]*?)?(?:\\s+src="\\s*([^"]+)\\s*")(?: [^>]*)?)(\\\/?>)\/gi,function(e,i,n,o,l){return!\/^(https?|data:image)\/i.test(o)||\/_xhe_temp\/.test(n)||t.test(o)||(s[a]=o,n=n.replace(\/\\s+(width|height)="[^"]*"\/gi,"").replace(\/\\s+src="[^"]*"\/gi,' src="'+skinPath+'img\/waiting.gif" remoteimg="'+a++ +'"')),i+n+l}),s.length>0&&$.post(i,{urls:s.join("|")},function(e){e=e.split("|"),$("img[remoteimg]",_this.doc).each(function(){var t=$(this);xheAttr(t,"src",e[t.attr("remoteimg")]),t.removeAttr("remoteimg")})})}return e}function setCSS(e){try{_this._exec("styleWithCSS",e,!0)}catch(t){try{_this._exec("useCSS",!e,!0)}catch(t){}}}function setOpts(){if(bInit&&!bSource){setCSS(!1);try{_this._exec("enableObjectResizing",!0,!0)}catch(e){}if(isIE)try{_this._exec("BackgroundImageCache",!0,!0)}catch(e){}}}function forcePtag(e){if(bSource||13!==e.which||e.shiftKey||e.ctrlKey||e.altKey)return!0;var t=_this.getParent("p,h1,h2,h3,h4,h5,h6,pre,address,div,li");return t.is("li")?!0:settings.forcePtag?(0===t.length&&_this._exec("formatblock","<p>"),undefined):(_this.pasteHTML("<br \/>"),isIE&&t.length>0&&2===_this.getRng().parentElement().childNodes.length&&_this.pasteHTML("<br \/>"),!1)}function fixFullHeight(){isMozilla||isWebkit||(bFullscreen&&_jArea.height("100%").css("height",_jArea.outerHeight()-_jTools.outerHeight()),isIE&&_jTools.hide().show())}function fixAppleSel(e){if(e=e.target,e.tagName.match(\/(img|embed)\/i)){var t=_this.getSel(),i=_this.getRng(!0);i.selectNode(e),t.removeAllRanges(),t.addRange(i)}}function xheAttr(e,t,i){if(!t)return!1;var s="_xhe_"+t;return i&&(urlType&&(i=getLocalUrl(i,urlType,urlBase)),e.attr(t,urlBase?getLocalUrl(i,"abs",urlBase):i).removeAttr(s).attr(s,i)),e.attr(s)||e.attr(t)}function clickCancelPanel(){bClickCancel&&_this.hidePanel()}function checkShortcuts(e){if(bSource)return!0;var t=e.which,i=specialKeys[t],s=i?i:String.fromCharCode(t).toLowerCase();sKey="",sKey+=e.ctrlKey?"ctrl+":"",sKey+=e.altKey?"alt+":"",sKey+=e.shiftKey?"shift+":"",sKey+=s;var a,n=arrShortCuts[sKey];for(a in n){if(a=n[a],!$.isFunction(a))return _this.exec(a),!1;if(a.call(_this)===!1)return!1}}function is(e,t){var i=typeof e;return t?"array"===t&&e.hasOwnProperty&&e instanceof Array?!0:i===t:"undefined"!=i}function getLocalUrl(e,t,i){if(e.match(\/^(\\w+):\\\/\\\/\/i)&&!e.match(\/^https?:\/i)||\/^#\/i.test(e)||\/^data:\/i.test(e))return e;var s=i?$('<a href="'+i+'" \/>')[0]:location,a=s.protocol,n=s.host,o=s.hostname,l=s.port,r=s.pathname.replace(\/\\\\\/g,"\/").replace(\/[^\\\/]+$\/i,"");if(""===l&&(l="80"),""===r?r="\/":"\/"!==r.charAt(0)&&(r="\/"+r),e=$.trim(e),"abs"!==t&&(e=e.replace(RegExp(a+"\\\\\/\\\\\/"+o.replace(\/\\.\/g,"\\\\.")+"(?::"+l+")"+("80"===l?"?":"")+"(\/|$)","i"),"\/")),"rel"===t&&(e=e.replace(RegExp("^"+r.replace(\/([\\\/\\.\\+\\[\\]\\(\\)])\/g,"\\\\$1"),"i"),"")),"rel"!==t&&(e.match(\/^(https?:\\\/\\\/|\\\/)\/i)||(e=r+e),"\/"===e.charAt(0))){var h,c,d=[],u=e.split("\/"),p=u.length;for(c=0;p>c;c++)h=u[c],".."===h?d.pop():""!==h&&"."!==h&&d.push(h);""===u[p-1]&&d.push(""),e="\/"+d.join("\/")}return"abs"!==t||e.match(\/^https?:\\\/\\\/\/i)||(e=a+"\/\/"+n+e),e=e.replace(\/(https?:\\\/\\\/[^:\\\/?#]+):80(\\\/|$)\/i,"$1$2")}function checkFileExt(e,t){return"*"===t||e.match(RegExp(".("+t.replace(\/,\/g,"|")+")$","i"))?!0:(alert(getLang("upload.extLimit",t)),!1)}function formatBytes(e){var t=["Byte","KB","MB","GB","TB","PB"],i=Math.floor(Math.log(e)\/Math.log(1024));return(e\/Math.pow(1024,Math.floor(i))).toFixed(2)+t[i]}function returnFalse(){return!1}var _this=this,_text=textarea,_jText=$(_text),_jForm=_jText.closest("form"),_jTools,_jArea,_win,_jWin,_doc,_jDoc,bookmark,bInit=!1,bSource=!1,bFullscreen=!1,bCleanPaste=!1,outerScroll,bShowBlocktag=!1,sLayoutStyle="",ev=null,timer,bDisableHoverExec=!1,bQuickHoverExec=!1,lastPoint=null,lastAngle=null,editorHeight=0,settings=_this.settings=$.extend({},XHEDITOR.settings,options),plugins=settings.plugins,strPlugins=[];if(plugins&&(arrTools=$.extend({},arrTools,plugins),$.each(plugins,function(e){strPlugins.push(e)}),strPlugins=strPlugins.join(",")),settings.tools.match(\/^\\s*(m?full|simple|mini)\\s*$\/i)){var toolsTheme=toolsThemes[$.trim(settings.tools)];settings.tools=settings.tools.match(\/m?full\/i)&&plugins?toolsTheme.replace("Table","Table,"+strPlugins):toolsTheme}settings.tools.match(\/(^|,)\\s*About\\s*(,|$)\/i)||(settings.tools+=",About"),settings.tools=settings.tools.split(","),settings.editorRoot&&(editorRoot=settings.editorRoot),bAir===!1&&(editorRoot=getLocalUrl(editorRoot,"abs")),settings.urlBase&&(settings.urlBase=getLocalUrl(settings.urlBase,"abs"));var idCSS="xheCSS_"+settings.skin,idContainer="xhe"+xCount+"_container",idTools="xhe"+xCount+"_Tool",idIframeArea="xhe"+xCount+"_iframearea",idIframe="xhe"+xCount+"_iframe",idFixFFCursor="xhe"+xCount+"_fixffcursor",headHTML="",bodyClass="",skinPath=editorRoot+"xheditor_skin\/"+settings.skin+"\/",arrEmots=itemEmots,urlType=settings.urlType,urlBase=settings.urlBase,emotPath=settings.emotPath,emotPath=emotPath?emotPath:editorRoot+"xheditor_emot\/",selEmotGroup="";arrEmots=$.extend({},arrEmots,settings.emots),emotPath=getLocalUrl(emotPath,"rel",urlBase?urlBase:null),bShowBlocktag=settings.showBlocktag,bShowBlocktag&&(bodyClass+=" showBlocktag");var arrShortCuts=[];this.init=function(){function e(e){var t,i=$(e.target);(t=i.css("width"))&&i.css("width","").attr("width",t.replace(\/[^0-9%]+\/g,"")),(t=i.css("height"))&&i.css("height","").attr("height",t.replace(\/[^0-9%]+\/g,""))}0===$("#"+idCSS).length&&$("head").append('<link id="'+idCSS+'" rel="stylesheet" type="text\/css" href="'+skinPath+'ui.css" \/>');var t=_jText.outerWidth(),i=_jText.outerHeight(),s=settings.width||_text.style.width||(t>10?t:0);editorHeight=settings.height||_text.style.height||(i>10?i:150),\/^\\d+(?:\\.\\d+)?$\/.test(s)&&(s+="px"),is(editorHeight,"string")&&(editorHeight=editorHeight.replace(\/[^\\d]+\/g,""));var a,n,o=settings.background||_text.style.background,l=['<span class="xheGStart"\/>'],r=\/\\||\\\/\/i;$.each(settings.tools,function(e,t){if(t.match(r)&&l.push('<span class="xheGEnd"\/>'),"|"===t)l.push('<span class="xheSeparator"\/>');else if("\/"===t)l.push("<br \/>");else{if(a=arrTools[t],!a)return;n=a.c?a.c:"xheIcon xheBtn"+t,l.push('<span><a href="#" title="{#'+a.t+'}" cmd="'+t+'" class="xheButton xheEnabled" tabindex="-1" role="button"><span class="'+n+'" unselectable="on" style="font-size:0;color:transparent;text-indent:-999px;">'+a.t+"<\/span><\/a><\/span>"),a.s&&_this.addShortcuts(a.s,t)}t.match(r)&&l.push('<span class="xheGStart"\/>')}),l.push('<span class="xheGEnd"\/><br \/>'),_jText.after($('<input type="text" id="'+idFixFFCursor+'" style="position:absolute;display:none;" \/><span id="'+idContainer+'" class="xhe_'+settings.skin+'" style="display:none"><table cellspacing="0" cellpadding="0" class="xheLayout" style="'+("0px"!=s?"width:"+s+";":"")+"height:"+editorHeight+'px;" role="presentation"><tr><td id="'+idTools+'" class="xheTool" unselectable="on" style="height:1px;" role="presentation"><\/td><\/tr><tr><td id="'+idIframeArea+'" class="xheIframeArea" role="presentation"><iframe frameborder="0" id="'+idIframe+'" src="javascript:;" style="width:100%;"><\/iframe><\/td><\/tr><\/table><\/span>')),_jTools=$("#"+idTools),_jArea=$("#"+idIframeArea),headHTML='<meta http-equiv="Content-Type" content="text\/html; charset=utf-8" \/><link rel="stylesheet" href="'+skinPath+'iframe.css"\/>';var h=settings.loadCSS;if(h)if(is(h,"array"))for(var c in h)headHTML+='<link rel="stylesheet" href="'+h[c]+'"\/>';else headHTML+=h.match(\/\\s*<style(\\s+[^>]*?)?>[\\s\\S]+?<\\\/style>\\s*\/i)?h:'<link rel="stylesheet" href="'+h+'"\/>';var d='<!DOCTYPE html><html xmlns="http:\/\/www.w3.org\/1999\/xhtml"><head>'+headHTML+"<title>{#defaultReadTip} "+(settings.readTip?settings.readTip:"")+"<\/title>";o&&(d+="<style>html{background:"+o+";}<\/style>"),d+='<\/head><body spellcheck="0" class="editMode'+bodyClass+'"><\/body><\/html>',_this.win=_win=$("#"+idIframe)[0].contentWindow,_jWin=$(_win);try{this.doc=_doc=_win.document,_jDoc=$(_doc),_doc.open(),_doc.write(getLang(d)),_doc.close(),isIE?_doc.body.contentEditable="true":_doc.designMode="On"}catch(u){}setTimeout(setOpts,300),_this.setSource(),_win.setInterval=null,_jTools.append(getLang(l.join(""))).bind("mousedown contextmenu",returnFalse).click(function(e){var t=$(e.target).closest("a");return t.is(".xheEnabled")&&(clearTimeout(timer),_jTools.find("a").attr("tabindex","-1"),ev=e,_this.exec(t.attr("cmd"))),!1}),_jTools.find(".xheButton").hover(function(e){var t=$(this),i=settings.hoverExecDelay,s=lastAngle;if(lastAngle=null,-1===i||bDisableHoverExec||!t.is(".xheEnabled"))return!1;if(s&&s>10)return bDisableHoverExec=!0,setTimeout(function(){bDisableHoverExec=!1},100),!1;var a=t.attr("cmd"),n=1===arrTools[a].h;return n?(bQuickHoverExec&&(i=0),i>=0&&(timer=setTimeout(function(){ev=e,lastPoint={x:ev.clientX,y:ev.clientY},_this.exec(a)},i)),undefined):(_this.hidePanel(),!1)},function(){lastPoint=null,timer&&clearTimeout(timer)}).mousemove(function(e){if(lastPoint){var t={x:e.clientX-lastPoint.x,y:e.clientY-lastPoint.y};if(Math.abs(t.x)>1||Math.abs(t.y)>1){if(t.x>0&&t.y>0){var i=Math.round(Math.atan(t.y\/t.x)\/.017453293);lastAngle=lastAngle?(lastAngle+i)\/2:i}else lastAngle=null;lastPoint={x:e.clientX,y:e.clientY}}}}),_jPanel=$("#xhePanel"),_jShadow=$("#xheShadow"),_jCntLine=$("#xheCntLine"),0===_jPanel.length&&(_jPanel=$('<div id="xhePanel"><\/div>').mousedown(function(e){e.stopPropagation()}),_jShadow=$('<div id="xheShadow"><\/div>'),_jCntLine=$('<div id="xheCntLine"><\/div>'),setTimeout(function(){$(document.body).append(_jPanel).append(_jShadow).append(_jCntLine)},10)),$("#"+idContainer).show(),_jText.hide(),_jArea.css("height",editorHeight-_jTools.outerHeight()),isIE&8>browerVer&&setTimeout(function(){_jArea.css("height",editorHeight-_jTools.outerHeight())},1),_jText.focus(_this.focus),_jForm.submit(saveResult).bind("reset",loadReset),settings.submitID&&$("#"+settings.submitID).mousedown(saveResult),$(window).bind("unload beforeunload",saveResult).bind("resize",fixFullHeight),$(document).mousedown(clickCancelPanel),bCheckEscInit||($(document).keydown(checkEsc),bCheckEscInit=!0),_jWin.focus(function(){settings.focus&&settings.focus()}).blur(function(){settings.blur&&settings.blur()}),isWebkit&&_jWin.click(fixAppleSel),_jDoc.mousedown(clickCancelPanel).keydown(checkShortcuts).keypress(forcePtag).dblclick(checkDblClick).bind("mousedown click",function(e){_jText.trigger(e.type)}),isIE&&(_jDoc.keydown(function(e){var t=_this.getRng();return 8===e.which&&t.item?($(t.item(0)).remove(),!1):undefined}),_jDoc.bind("controlselect",function(t){t=t.target,$.nodeName(t,"IMG")&&$(t).unbind("resizeend",e).bind("resizeend",e)})),_jDoc.keydown(function(e){var t=e.which;return e.altKey&&t>=49&&57>=t?(_jTools.find("a").attr("tabindex","0"),_jTools.find(".xheGStart").eq(t-49).next().find("a").focus(),_doc.title="\\ufeff\\ufeff",!1):undefined}).click(function(){_jTools.find("a").attr("tabindex","-1")}),_jTools.keydown(function(e){var t=e.which;if(27==t)_jTools.find("a").attr("tabindex","-1"),_this.focus();else if(e.altKey&&t>=49&&57>=t)return _jTools.find(".xheGStart").eq(t-49).next().find("a").focus(),!1});var p=$(_doc.documentElement);isOpera?p.bind("keydown",function(e){e.ctrlKey&&86===e.which&&cleanPaste()}):p.bind(isIE?"beforepaste":"paste",cleanPaste),settings.disableContextmenu&&p.bind("contextmenu",returnFalse),settings.html5Upload&&p.bind("dragenter dragover",function(e){var t;return(t=e.originalEvent.dataTransfer.types)&&-1!==$.inArray("Files",t)?!1:undefined}).bind("drop",function(e){function t(e){var t,i,s;for(a=0;e.length>a;a++){if(i=e[a].name.replace(\/.+\\.\/,""),!(t=o.match(RegExp("(\\\\w+):[^:]*,"+i+"(?:,|$)","i"))))return 1;if(s){if(s!==t[1])return 2}else s=t[1]}return s}var i,s=e.originalEvent.dataTransfer;if(s&&(i=s.files)&&i.length>0){var a,n,o,l=["Link","Img","Flash","Media"],r=[];for(a in l)n=l[a],settings["up"+n+"Url"]&&settings["up"+n+"Url"].match(\/^[^!].*\/i)&&r.push(n+":,"+settings["up"+n+"Ext"]);return 0===r.length?!1:(o=r.join(","),n=t(i),1===n?alert(getLang("upload.extLimit",o.replace(\/\\w+:,\/g,""))):2===n?alert(getLang("upload.typeLimit")):n&&_this.startUpload(i,settings["up"+n+"Url"],"*",function(e){var t,i=[],s=settings.onUpload;s&&s(e);for(var a=0,o=e.length;o>a;a++)t=e[a],url=is(t,"string")?t:t.url,"!"===url.substr(0,1)&&(url=url.substr(1)),i.push(url);_this.exec(n),$("#xhe"+n+"Url").val(i.join(" ")),$("#xheSave").click()}),!1)}});var g=settings.shortcuts;g&&$.each(g,function(e,t){_this.addShortcuts(e,t)}),xCount++,bInit=!0,settings.fullscreen?_this.toggleFullscreen():settings.sourceMode&&setTimeout(_this.toggleSource,20);var f=settings.plugins;return f&&$.each(f,function(e,t){var i=t.i;i!==undefined&&i(_this)}),!0},this.remove=function(){_this.hidePanel(),saveResult(),_jText.unbind("focus",_this.focus),_jForm.unbind("submit",saveResult).unbind("reset",loadReset),settings.submitID&&$("#"+settings.submitID).unbind("mousedown",saveResult),$(window).unbind("unload beforeunload",saveResult).unbind("resize",fixFullHeight),$(document).unbind("mousedown",clickCancelPanel),$("#"+idContainer).remove(),$("#"+idFixFFCursor).remove(),_jText.show(),bInit=!1},this.saveBookmark=function(){if(!bSource){_this.focus();var e=_this.getRng();e=e.cloneRange?e.cloneRange():e,bookmark={top:_jWin.scrollTop(),rng:e}}},this.loadBookmark=function(){if(!bSource&&bookmark){_this.focus();var e=bookmark.rng;if(isIE)e.select();else{var t=_this.getSel();t.removeAllRanges(),t.addRange(e)}_jWin.scrollTop(bookmark.top),bookmark=null}},this.focus=function(){if(bSource?$("#sourceCode",_doc).focus():_win.focus(),isIE){var e=_this.getRng();e.parentElement&&e.parentElement().ownerDocument!==_doc&&_this.setTextCursor()}return!1},this.setTextCursor=function(e){var t=_this.getRng(!0),i=_doc.body;if(isIE)t.moveToElementText(i);else{for(var s=e?"lastChild":"firstChild";3!=i.nodeType&&i[s];)i=i[s];t.selectNode(i)}if(t.collapse(e?!1:!0),isIE)t.select();else{var a=_this.getSel();a.removeAllRanges(),a.addRange(t)}},this.getSel=function(){return _doc.selection?_doc.selection:_win.getSelection()},this.getRng=function(e){var t,i;try{e||(t=_this.getSel(),i=t.createRange?t.createRange():t.rangeCount>0?t.getRangeAt(0):null),i||(i=_doc.body.createTextRange?_doc.body.createTextRange():_doc.createRange())}catch(s){}return i},this.getParent=function(e){var t,i=_this.getRng();return isIE?t=i.item?i.item(0):i.parentElement():(t=i.commonAncestorContainer,i.collapsed||i.startContainer===i.endContainer&&2>i.startOffset-i.endOffset&&i.startContainer.hasChildNodes()&&(t=i.startContainer.childNodes[i.startOffset])),e=e?e:"*",t=$(t),t.is(e)||(t=$(t).closest(e)),t},this.getSelect=function(e){var t=_this.getSel(),i=_this.getRng(),s=!0;if(s=!i||i.item?!1:!t||0===i.boundingWidth||i.collapsed,"text"===e)return s?"":i.text||(t.toString?""+t:"");var a;if(i.cloneContents){var n,o=$("<div><\/div>");n=i.cloneContents(),n&&o.append(n),a=o.html()}else a=is(i.item)?i.item(0).outerHTML:is(i.htmlText)?i.htmlText:""+i;return s&&(a=""),a=_this.processHTML(a,"read"),a=_this.cleanHTML(a),a=_this.formatXHTML(a)},this.pasteHTML=function(e,t){if(bSource)return!1;_this.focus(),e=_this.processHTML(e,"write");var i=_this.getSel(),s=_this.getRng();if(t!==undefined){if(s.item){var a=s.item(0);s=_this.getRng(!0),s.moveToElementText(a),s.select()}s.collapse(t)}if(e+="<"+(isIE?"img":"span")+' id="_xhe_temp" width="0" height="0" \/>',s.insertNode){if($(s.startContainer).closest("style,script").length>0)return!1;s.deleteContents(),s.insertNode(s.createContextualFragment(e))}else"control"===i.type.toLowerCase()&&(i.clear(),s=_this.getRng()),s.pasteHTML(e);var n=$("#_xhe_temp",_doc),o=n[0];isIE?(s.moveToElementText(o),s.select()):(s.selectNode(o),i.removeAllRanges(),i.addRange(s)),n.remove()},this.pasteText=function(e,t){e||(e=""),e=_this.domEncode(e),e=e.replace(\/\\r?\\n\/g,"<br \/>"),_this.pasteHTML(e,t)},this.appendHTML=function(e){return bSource?!1:(_this.focus(),e=_this.processHTML(e,"write"),$(_doc.body).append(e),_this.setTextCursor(!0),undefined)},this.domEncode=function(e){return e.replace(regEntities,function(e){return arrEntities[e]})},this.setSource=function(e){bookmark=null,"string"!=typeof e&&""!==e&&(e=_text.value),bSource?$("#sourceCode",_doc).val(e):(settings.beforeSetSource&&(e=settings.beforeSetSource(e)),e=_this.cleanHTML(e),e=_this.formatXHTML(e),e=_this.processHTML(e,"write"),isIE?(_doc.body.innerHTML='<img id="_xhe_temp" width="0" height="0" \/>'+e,$("#_xhe_temp",_doc).remove()):_doc.body.innerHTML=e)},this.processHTML=function(e,t){function i(e,t,i,s,a,o){var l,r,h,c,d="";if(l=s.match(\/font-family\\s*:\\s*([^;"]+)\/i),l&&(d+=' face="'+l[1]+'"'),r=s.match(\/font-size\\s*:\\s*([^;"]+)\/i)){r=r[1].toLowerCase();for(var u=0;n.length>u;u++)if(r===n[u].n||r===n[u].s){h=u+1;break}h&&(d+=' size="'+h+'"',s=s.replace(\/(^|;)(\\s*font-size\\s*:\\s*[^;"]+;?)+\/gi,"$1"))}if(c=s.match(\/(?:^|[\\s;])color\\s*:\\s*([^;"]+)\/i)){var p;if(p=c[1].match(\/\\s*rgb\\s*\\(\\s*(\\d+)\\s*,\\s*(\\d+)\\s*,\\s*(\\d+)\\s*\\)\/i)){c[1]="#";for(var g=1;3>=g;g++)c[1]+=("0"+(p[g]-0).toString(16)).slice(-2)}c[1]=c[1].replace(\/^#([0-9a-f])([0-9a-f])([0-9a-f])$\/i,"#$1$1$2$2$3$3"),d+=' color="'+c[1]+'"'}return s=s.replace(\/(^|;)(\\s*(font-family|color)\\s*:\\s*[^;"]+;?)+\/gi,"$1"),""!==d?(s&&(d+=' style="'+s+'"'),"<font"+(i?i:"")+d+(a?a:"")+">"+o+"<\/font>"):e}function s(e,t,i,s,a){for(var n,l,r=(i?i:"")+(s?s:""),h=[],c=[],d=0;o.length>d;d++)n=o[d].r,l=o[d].t,r=r.replace(n,function(){return h.push("<"+l+">"),c.push("<\/"+l+">"),""});return r=r.replace(\/\\s+style\\s*=\\s*"\\s*"\/i,""),(r?"<span"+r+">":"")+h.join("")+a+c.join("")+(r?"<\/span>":"")}var a=' class="Apple-style-span"',n=settings.listFontsize;if("write"===t)e=e.replace(\/(<(\\\/?)(\\w+))((?:\\s+[\\w\\-:]+\\s*=\\s*(?:"[^"]*"|'[^']*'|[^>\\s]+))*)\\s*((\\\/?)>)\/g,function(e,t,i,s,n,o,l){s=s.toLowerCase(),isMozilla?"strong"===s?s="b":"em"===s&&(s="i"):isWebkit&&("strong"===s?(s="span",i||(n+=a+' style="font-weight: bold;"')):"em"===s?(s="span",i||(n+=a+' style="font-style: italic;"')):"u"===s?(s="span",i||(n+=a+' style="text-decoration: underline;"')):"strike"===s&&(s="span",i||(n+=a+' style="text-decoration: line-through;"')));var r,h="";if("del"===s)s="strike";else if("img"===s)n=n.replace(\/\\s+emot\\s*=\\s*("[^"]*"|'[^']*'|[^>\\s]+)\/i,function(e,t){return r=t.match(\/^(["']?)(.*)\\1\/)[2],r=r.split(","),r[1]||(r[1]=r[0],r[0]=""),"default"===r[0]&&(r[0]=""),settings.emotMark?e:""});else if("a"===s)!n.match(\/ href=[^ ]\/i)&&n.match(\/ name=[^ ]\/i)&&(h+=" xhe-anchor"),l&&(o="><\/a>");else if("table"===s&&!i){var c=n.match(\/\\s+border\\s*=\\s*("[^"]*"|'[^']*'|[^>\\s]+)\/i);(!c||c[1].match(\/^(["']?)\\s*0\\s*\\1$\/))&&(h+=" xhe-border")}var d;if(n=n.replace(\/\\s+([\\w\\-:]+)\\s*=\\s*("[^"]*"|'[^']*'|[^>\\s]+)\/g,function(e,t,i){return t=t.toLowerCase(),i=i.match(\/^(["']?)(.*)\\1\/)[2],aft="",isIE&&t.match(\/^(disabled|checked|readonly|selected)$\/)&&i.match(\/^(false|0)$\/i)?"":"img"===s&&r&&"src"===t?"":(t.match(\/^(src|href)$\/)&&(aft=" _xhe_"+t+'="'+i+'"',urlBase&&(i=getLocalUrl(i,"abs",urlBase))),h&&"class"===t&&(i+=" "+h,h=""),isWebkit&&"style"===t&&"span"===s&&i.match(\/(^|;)\\s*(font-family|font-size|color|background-color)\\s*:\\s*[^;]+\\s*(;|$)\/i)&&(d=!0)," "+t+'="'+i+'"'+aft)}),r){var u=emotPath+(r[0]?r[0]:"default")+"\/"+r[1]+".gif";n+=' src="'+u+'" _xhe_src="'+u+'"'}return d&&(n+=a),h&&(n+=' class="'+h+'"'),"<"+i+s+n+o}),isIE&&(e=e.replace(\/&apos;\/gi,"&#39;")),isWebkit||(e=e.replace(\/<(span)(\\s+[^>]*?)?\\s+style\\s*=\\s*"((?:[^"]*?;)?\\s*(?:font-family|font-size|color)\\s*:[^"]*)"( [^>]*)?>(((?!<\\1(\\s+[^>]*?)?>)[\\s\\S]|<\\1(\\s+[^>]*?)?>((?!<\\1(\\s+[^>]*?)?>)[\\s\\S]|<\\1(\\s+[^>]*?)?>((?!<\\1(\\s+[^>]*?)?>)[\\s\\S])*?<\\\/\\1>)*?<\\\/\\1>)*?)<\\\/\\1>\/gi,i),e=e.replace(\/<(span)(\\s+[^>]*?)?\\s+style\\s*=\\s*"((?:[^"]*?;)?\\s*(?:font-family|font-size|color)\\s*:[^"]*)"( [^>]*)?>(((?!<\\1(\\s+[^>]*?)?>)[\\s\\S]|<\\1(\\s+[^>]*?)?>((?!<\\1(\\s+[^>]*?)?>)[\\s\\S])*?<\\\/\\1>)*?)<\\\/\\1>\/gi,i),e=e.replace(\/<(span)(\\s+[^>]*?)?\\s+style\\s*=\\s*"((?:[^"]*?;)?\\s*(?:font-family|font-size|color)\\s*:[^"]*)"( [^>]*)?>(((?!<\\1(\\s+[^>]*?)?>)[\\s\\S])*?)<\\\/\\1>\/gi,i)),e=e.replace(\/<(td|th)(\\s+[^>]*?)?>(\\s|&nbsp;)*<\\\/\\1>\/gi,"<$1$2>"+(isIE?"":"<br \/>")+"<\/$1>");else{if(isWebkit)for(var o=[{r:\/font-weight\\s*:\\s*bold;?\/gi,t:"strong"},{r:\/font-style\\s*:\\s*italic;?\/gi,t:"em"},{r:\/text-decoration\\s*:\\s*underline;?\/gi,t:"u"},{r:\/text-decoration\\s*:\\s*line-through;?\/gi,t:"strike"}],l=0;2>l;l++)e=e.replace(\/<(span)(\\s+[^>]*?)?\\s+class\\s*=\\s*"Apple-style-span"(\\s+[^>]*?)?>(((?!<\\1(\\s+[^>]*?)?>)[\\s\\S]|<\\1(\\s+[^>]*?)?>((?!<\\1(\\s+[^>]*?)?>)[\\s\\S]|<\\1(\\s+[^>]*?)?>((?!<\\1(\\s+[^>]*?)?>)[\\s\\S])*?<\\\/\\1>)*?<\\\/\\1>)*?)<\\\/\\1>\/gi,s),e=e.replace(\/<(span)(\\s+[^>]*?)?\\s+class\\s*=\\s*"Apple-style-span"(\\s+[^>]*?)?>(((?!<\\1(\\s+[^>]*?)?>)[\\s\\S]|<\\1(\\s+[^>]*?)?>((?!<\\1(\\s+[^>]*?)?>)[\\s\\S])*?<\\\/\\1>)*?)<\\\/\\1>\/gi,s),e=e.replace(\/<(span)(\\s+[^>]*?)?\\s+class\\s*=\\s*"Apple-style-span"(\\s+[^>]*?)?>(((?!<\\1(\\s+[^>]*?)?>)[\\s\\S])*?)<\\\/\\1>\/gi,s);e=e.replace(\/(<(\\w+))((?:\\s+[\\w\\-:]+\\s*=\\s*(?:"[^"]*"|'[^']*'|[^>\\s]+))*)\\s*(\\\/?>)\/g,function(e,t,i,s,a){i=i.toLowerCase();$/;"	f
getLsp	application/controllers/order.php	/^    protected function getLsp($cart)$/;"	f
getMainImg	application/controllers/spacePhoto.php	/^	public function getMainImg($imgId)$/;"	f
getMaster	application/models/art.php	/^    public function getMaster($artId)$/;"	f
getMaster	application/models/mitem.php	/^    public function  getMaster($itemId){$/;"	f
getMin	application/models/mitem.php	/^    public function getMin($id)$/;"	f
getName	js/art.js	/^function getName (name) {\/\/通过传入的url获得其中隐藏的图片名称$/;"	f
getNameById	application/models/user.php	/^    public function getNameById($id)$/;"	f
getNess	application/models/user.php	/^    public function getNess($user_id)$/;"	f
getNew	application/models/user.php	/^    public function getNew()$/;"	f
getNormalizedUrl	js/xheditor_plugins/html2markdown.js	/^function getNormalizedUrl(s) {$/;"	f
getNum	application/models/user.php	/^    public function getNum($userId)$/;"	f
getOntime	application/models/morder.php	/^    public function getOntime($userId){$/;"	f
getOrder	application/models/mitem.php	/^    public function getOrder($itemId)$/;"	f
getPass	application/controllers/reg.php	/^    public function getPass($userId,$passwd)$/;"	f
getPassById	application/models/user.php	/^    public function getPassById($userId)$/;"	f
getPrintContent	application/views/printindex.php	/^function getPrintContent() {$/;"	f
getPubAdr	application/models/user.php	/^    public function getPubAdr($userId)$/;"	f
getPubById	application/models/user.php	/^    public function getPubById($user_id)$/;"	f
getPubNoIntro	application/models/user.php	/^    public function getPubNoIntro($userId)$/;"	f
getPubToAll	application/models/user.php	/^    public function getPubToAll($userId)$/;"	f
getQuery	js/xheditor_plugins/multiupload/multiupload.html	/^function getQuery(item){var svalue = location.search.match(new RegExp('[\\?\\&]' + item + '=([^\\&]*)(\\&?)','i'));return svalue?decodeURIComponent(svalue[1]):'';} $/;"	f
getRepById	application/models/mess.php	/^	public function getRepById($messId)$/;"	f
getRequestURL	application/controllers/HttpClient.class.php	/^    function getRequestURL() {$/;"	f
getSea	js/common.js	/^function getSea (keyword) {$/;"	f
getSea	js/home.js	/^function getSea (keyword,page) {$/;"	f
getSea	js/mainpage2.js	/^function getSea (keyword) {$/;"	f
getSea.getNext	js/common.js	/^			function getNext () {\/\/获得搜索下一页的函数$/;"	f
getSea.getNext	js/mainpage2.js	/^    function getNext () {\/\/获得搜索下一页的函数$/;"	f
getSeaResById	application/models/art.php	/^    public function getSeaResById($id)$/;"	f
getSecTop	application/models/art.php	/^    public function getSecTop($page)$/;"	f
getSeller	application/models/user.php	/^    public function getSeller($pos)$/;"	f
getSomeDate	application/models/comitem.php	/^    public function getSomeDate($date)$/;"	f
getStatus	application/controllers/HttpClient.class.php	/^    function getStatus() {$/;"	f
getSubItem	application/controllers/sea.php	/^    protected function getSubItem($key)$/;"	f
getThumb	application/controllers/spacePhoto.php	/^	public function getThumb($user_id = -1)$/;"	f
getThumb	js/spacePhoto.js	/^function getThumb (userId) {$/;"	f
getTitle	application/models/mitem.php	/^    public function getTitle($itemId)$/;"	f
getToday	application/models/morder.php	/^    public function getToday($userId)$/;"	f
getTop	application/models/art.php	/^    public function getTop($data)$/;"	f
getTotal	application/controllers/home.php	/^    public function getTotal($part_id )$/;"	f
getTotal	application/controllers/mainpage.php	/^    public function getTotal($part_id )$/;"	f
getTotal	application/models/art.php	/^    public function getTotal($part_id)$/;"	f
getTp	application/controllers/bg/wrong.php	/^    private function getTp($userId)$/;"	f
getType	application/models/user.php	/^    public function getType($userId)$/;"	f
getUpdate	application/models/user.php	/^    public function getUpdate($userId)$/;"	f
getUser	application/controllers/order.php	/^    private function getUser($adIdx)$/;"	f
getUser	application/models/comitem.php	/^    public function getUser($id)$/;"	f
getUserDate	application/models/comitem.php	/^    public function getUserDate($userId,$date)$/;"	f
getUserImg	application/models/img.php	/^    public function getUserImg($userId)$/;"	f
getUserInsert	application/models/art.php	/^    public function getUserInsert($artId)$/;"	f
getUserList	application/models/mitem.php	/^    public function getUserList($userId)$/;"	f
getUserart	application/models/art.php	/^    public function getUserart($userId)$/;"	f
get_clickable_smileys	system/helpers/smiley_helper.php	/^	function get_clickable_smileys($image_url, $alias = '', $smileys = NULL)$/;"	f
get_config	system/core/Common.php	/^	function &get_config($replace = array())$/;"	f
get_cookie	application/views/homeUserphoto.php	/^function get_cookie(or){$/;"	f
get_cookie	system/helpers/cookie_helper.php	/^	function get_cookie($index = '', $xss_clean = FALSE)$/;"	f
get_csrf_hash	system/core/Security.php	/^	public function get_csrf_hash()$/;"	f
get_csrf_token_name	system/core/Security.php	/^	public function get_csrf_token_name()$/;"	f
get_cursor	system/database/drivers/oci8/oci8_driver.php	/^	public function get_cursor()$/;"	f
get_day_names	system/libraries/Calendar.php	/^	function get_day_names($day_type = '')$/;"	f
get_dir_file_info	system/helpers/file_helper.php	/^	function get_dir_file_info($source_dir, $top_level_only = TRUE, $_recursion = FALSE)$/;"	f
get_extension	system/libraries/Upload.php	/^	public function get_extension($filename)$/;"	f
get_file_info	system/helpers/file_helper.php	/^	function get_file_info($file, $returned_values = array('name', 'server_path', 'size', 'date'))$/;"	f
get_filenames	system/helpers/file_helper.php	/^	function get_filenames($source_dir, $include_path = FALSE, $_recursion = FALSE)$/;"	f
get_id	system/libraries/Trackback.php	/^	function get_id($url)$/;"	f
get_image_properties	system/libraries/Image_lib.php	/^	function get_image_properties($path = '', $return = FALSE)$/;"	f
get_instance	system/core/CodeIgniter.php	/^	function &get_instance()$/;"	f
get_instance	system/core/Controller.php	/^	public static function &get_instance()$/;"	f
get_key	system/libraries/Encrypt.php	/^	function get_key($key = '')$/;"	f
get_last_entry	application/models/blog.php	/^				function get_last_entry(){$/;"	f
get_metadata	system/libraries/Cache/Cache.php	/^	public function get_metadata($id)$/;"	f
get_metadata	system/libraries/Cache/drivers/Cache_apc.php	/^	public function get_metadata($id)$/;"	f
get_metadata	system/libraries/Cache/drivers/Cache_dummy.php	/^	public function get_metadata($id)$/;"	f
get_metadata	system/libraries/Cache/drivers/Cache_file.php	/^	public function get_metadata($id)$/;"	f
get_metadata	system/libraries/Cache/drivers/Cache_memcached.php	/^	public function get_metadata($id)$/;"	f
get_mime_by_extension	system/helpers/file_helper.php	/^	function get_mime_by_extension($file)$/;"	f
get_month_name	system/libraries/Calendar.php	/^	function get_month_name($month)$/;"	f
get_output	system/core/Output.php	/^	function get_output()$/;"	f
get_package_paths	system/core/Loader.php	/^	public function get_package_paths($include_base = FALSE)$/;"	f
get_post	system/core/Input.php	/^	function get_post($index = '', $xss_clean = FALSE)$/;"	f
get_request_header	system/core/Input.php	/^	public function get_request_header($index, $xss_clean = FALSE)$/;"	f
get_total_days	system/libraries/Calendar.php	/^	function get_total_days($month, $year)$/;"	f
get_user_name	application/controllers/reg.php	/^    function get_user_name(){$/;"	f
get_var	system/core/Loader.php	/^	public function get_var($key)$/;"	f
get_where	system/database/DB_active_rec.php	/^	public function get_where($table = '', $where = null, $limit = null, $offset = null)$/;"	f
get_zip	system/libraries/Zip.php	/^		$get_zip = $this->get_zip();$/;"	v
get_zip	system/libraries/Zip.php	/^	function get_zip()$/;"	f
getaddrCratById	application/models/user.php	/^    public function getaddrCratById($userId)$/;"	f
geter	application/controllers/message.php	/^			$geter = ($this->user_id == $part["senderId"])?$part["geterId"]:$part["senderId"];$/;"	v
geter	application/controllers/order.php	/^        $geter = $this->input->post("geter");$/;"	v
geter	js/messwrite.js	/^var geter = "#content input[name = 'geter']";$/;"	v
getimg_id	application/models/img.php	/^    function getimg_id($user_id){$/;"	f
getimg_id	application/models/mphoto.php	/^	function getimg_id($user_id){$/;"	f
getlist	application/views/homeUserphoto.php	/^function    getlist(){$/;"	f
getpart	application/models/mess.php	/^	public function getpart($messId)$/;"	f
getready	application/views/homeUserphoto.php	/^function getready(){$/;"	f
getready	application/views/jump.php	/^function getready()$/;"	f
getready	application/views/jump2.php	/^function getready()$/;"	f
getrepeat	application/controllers/write.php	/^    private function getrepeat($arr,$value)$/;"	f
getsea	application/models/user.php	/^    public function getsea($userId)$/;"	f
getsize	application/views/homeUserManPhoto.php	/^function getsize(path){$/;"	f
getsize	application/views/homeUserupload.php	/^function getsize(path){$/;"	f
getsize	application/views/vupload.php	/^function getsize(path){$/;"	f
giveUpFun	js/art.js	/^function giveUpFun () {$/;"	f
giveUpFun	js/messout.js	/^function giveUpFun () {$/;"	f
globalEvents	system/libraries/ckeditor.php	/^			$this->globalEvents = array();$/;"	v
globalEvents	system/libraries/ckeditor.php	/^	private $globalEvents = array();$/;"	v
gmt_to_local	system/helpers/date_helper.php	/^	function gmt_to_local($time = '', $timezone = 'UTC', $dst = FALSE)$/;"	f
good	system/core/URI.php	/^		$good	= array('&#36;',	'&#40;',	'&#41;',	'&#40;',	'&#41;');$/;"	v
greater_than	system/libraries/Form_validation.php	/^	public function greater_than($str, $min)$/;"	f
grid_color	system/helpers/captcha_helper.php	/^		$grid_color		= imagecolorallocate($im, 255, 182, 182);$/;"	v
group_by	system/database/DB_active_rec.php	/^	public function group_by($by)$/;"	f
groups	system/core/Input.php	/^		$groups = 8;$/;"	v
groups	system/core/Input.php	/^		return $collapsed OR $groups == 1;$/;"	v
gzdata	system/libraries/Zip.php	/^		$gzdata = gzcompress($data);$/;"	v
gzdata	system/libraries/Zip.php	/^		$gzdata = substr($gzdata, 2, -4);$/;"	v
h	system/helpers/html_helper.php	/^	function heading($data = '', $h = '1', $attributes = '')$/;"	v
h	system/libraries/Email.php	/^			$h  = "--".$this->_atc_boundary.$this->newline;$/;"	v
handle_redirects	application/controllers/HttpClient.class.php	/^        $this->handle_redirects = $boolean;$/;"	v
handle_redirects	application/controllers/HttpClient.class.php	/^    var $handle_redirects = true; \/\/ Auaomtically redirect if Location or URI header is found$/;"	v
handler	system/libraries/ckeditor.php	/^					foreach ($handlers as $handler => $code) {$/;"	v
handler	system/libraries/ckeditor.php	/^				foreach ($handlers as $handler => $code) {$/;"	v
has_options	system/libraries/Cart.php	/^	function has_options($rowid = '')$/;"	f
hash	system/libraries/Encrypt.php	/^		$hash = $this->hash($key);$/;"	v
hash	system/libraries/Encrypt.php	/^	function hash($str)$/;"	f
hash	system/libraries/Session.php	/^			$hash	 = substr($session, strlen($session)-32); \/\/ get last 32 chars$/;"	v
have_cursor	system/database/drivers/oci8/oci8_driver.php	/^				$have_cursor = TRUE;$/;"	v
have_cursor	system/database/drivers/oci8/oci8_driver.php	/^		$have_cursor = FALSE;$/;"	v
having	system/database/DB_active_rec.php	/^	public function having($key, $value = '', $escape = TRUE)$/;"	f
hdr	system/libraries/Email.php	/^		$hdr = ($this->_get_protocol() == 'mail') ? $this->newline : '';$/;"	v
head	application/controllers/bg/home.php	/^    function head(){$/;"	f
head	application/controllers/dsprint.class.php	/^		$head = pack('N', $reqTime);$/;"	v
head	application/controllers/dsprint.class.php	/^		$head = pack('a16N', $dtuid, $reqTime);$/;"	v
header	application/controllers/HttpClient.class.php	/^        $header = strtolower($header);$/;"	v
header	system/core/Output.php	/^		$header = 'Content-Type: '.$mime_type;$/;"	v
headers	application/controllers/HttpClient.class.php	/^    	$this->headers = array();$/;"	v
headers	application/controllers/HttpClient.class.php	/^        $headers = array();$/;"	v
headers	application/controllers/HttpClient.class.php	/^    var $headers = array();$/;"	v
headers	system/core/Input.php	/^			$headers = apache_request_headers();$/;"	v
headers	system/core/Input.php	/^	protected $headers			= array();$/;"	v
headers	system/core/Output.php	/^	protected $headers			= array();$/;"	v
headers	system/libraries/Xmlrpc.php	/^	var $headers = array();$/;"	v
headers_only	application/controllers/HttpClient.class.php	/^        $this->headers_only = $boolean;$/;"	v
headers_only	application/controllers/HttpClient.class.php	/^    var $headers_only = false;    \/\/ If true, stops receiving once headers have been read.$/;"	v
heading	system/core/Exceptions.php	/^		$heading = "404 Page Not Found";$/;"	v
heading	system/database/DB_driver.php	/^		$heading = $LANG->line('db_error_heading');$/;"	v
heading	system/helpers/html_helper.php	/^	function heading($data = '', $h = '1', $attributes = '')$/;"	f
heading	system/libraries/Table.php	/^				$this->heading = $this->_prep_args($row);$/;"	v
heading	system/libraries/Table.php	/^			$this->heading = $this->_prep_args($query->list_fields());$/;"	v
heading	system/libraries/Table.php	/^		$this->heading			= array();$/;"	v
heading	system/libraries/Table.php	/^		$this->heading = $this->_prep_args($args);$/;"	v
heading	system/libraries/Table.php	/^	var $heading			= array();$/;"	v
height	application/controllers/checkcode.php	/^			$height = $this->font_size * 2.14+rand(3,60);$/;"	v
height	application/controllers/checkcode.php	/^   public $height=40;$/;"	v
height	system/libraries/Image_lib.php	/^				$this->height = $new_height;$/;"	v
height	system/libraries/Image_lib.php	/^			$this->height	= $this->orig_height;$/;"	v
height	system/libraries/Image_lib.php	/^			$this->height	= $this->orig_width;$/;"	v
height	system/libraries/Image_lib.php	/^			$this->height = $this->orig_height;$/;"	v
height	system/libraries/Image_lib.php	/^		$height = $this->orig_height;$/;"	v
height	system/libraries/Image_lib.php	/^	var $height				= '';$/;"	v
helper	system/core/Loader.php	/^	public function helper($helpers = array())$/;"	f
helpers	system/core/Loader.php	/^	public function helpers($helpers = array())$/;"	f
hex2asc	application/controllers/dsconfig.class.php	/^function hex2asc($str)$/;"	f
hex2asc	dsconfig.class.php	/^function hex2asc($str)$/;"	f
hide	js/space.js	/^    function hide(node){$/;"	f
hide	system/libraries/Javascript.php	/^	function hide($element = 'this', $speed = '', $callback = '')$/;"	f
hide_queries	system/libraries/Profiler.php	/^			$hide_queries = (count($db->queries) > $this->_query_toggle_count) ? ' display:none' : '';$/;"	v
highlight	js/home.js	/^function highlight(key) {$/;"	f
highlight	system/libraries/Profiler.php	/^		$highlight = array('SELECT', 'DISTINCT', 'FROM', 'WHERE', 'AND', 'LEFT&nbsp;JOIN', 'ORDER&nbsp;BY', 'GROUP&nbsp;BY', 'LIMIT', 'INSERT', 'INTO', 'VALUES', 'UPDATE', 'OR&nbsp;', 'HAVING', 'OFFSET', 'NOT&nbsp;IN', 'IN', 'LIKE', 'NOT&nbsp;LIKE', 'COUNT', 'MAX', 'MIN', 'ON', 'AS', 'AVG', 'SUM', '(', ')');$/;"	v
highlight_code	system/helpers/text_helper.php	/^	function highlight_code($str)$/;"	f
highlight_phrase	system/helpers/text_helper.php	/^	function highlight_phrase($str, $phrase, $tag_open = '<strong>', $tag_close = '<\/strong>')$/;"	f
hist	application/controllers/order.php	/^    public function hist()$/;"	f
hist	application/models/morder.php	/^    public function hist($userId)$/;"	f
histAll	application/models/morder.php	/^    public function histAll()$/;"	f
histForm	application/controllers/order.php	/^    private function histForm($arr)$/;"	f
home_title	application/models/mhome.php	/^	function home_title(){$/;"	f
hooks	system/core/Hooks.php	/^		$this->hooks =& $hook;$/;"	v
hooks	system/core/Hooks.php	/^	var $hooks			= array();$/;"	v
host	application/controllers/HttpClient.class.php	/^        $host = $bits['host'];$/;"	v
host	application/controllers/HttpClient.class.php	/^        $this->host = $host;$/;"	v
host	application/controllers/HttpClient.class.php	/^        if ($this->persist_cookies && isset($this->headers['set-cookie']) && $this->host == $this->cookie_host) {$/;"	v
host	application/controllers/HttpClient.class.php	/^    var $host;$/;"	v
host_id	application/controllers/userspace/user_photo.php	/^			$host_id=$this->user_id;\/\/默认情况下选择访问用户自己的id$/;"	v
host_id	application/controllers/userspace/user_photo.php	/^		$host_id=$this->uri->segment(4,-1);\/\/这里的uri是index之后的东西$/;"	v
hostname	system/database/DB_driver.php	/^	var $hostname;$/;"	v
hostname	system/libraries/Ftp.php	/^		$this->hostname = preg_replace('|.+?:\/\/|', '', $this->hostname);$/;"	v
hostname	system/libraries/Ftp.php	/^	var $hostname	= '';$/;"	v
hotDel	application/controllers/sea.php	/^    private function hotDel($stp){$/;"	f
hour	system/helpers/date_helper.php	/^				$hour =  '00';$/;"	v
hour	system/helpers/date_helper.php	/^				$hour = $hour + 12;$/;"	v
hour	system/helpers/date_helper.php	/^				$hour = '0'.$hour;$/;"	v
hour	system/helpers/date_helper.php	/^			if (substr($ampm, 0, 1) == 'a' AND $hour == 12)$/;"	v
hour	system/helpers/date_helper.php	/^		$hour = (strlen($ex['0']) == 1) ? '0'.$ex['0'] : $ex['0'];$/;"	v
hours	system/helpers/date_helper.php	/^		$hours = floor($seconds \/ 3600);$/;"	v
hover	system/libraries/Javascript.php	/^	function hover($element = 'this', $over, $out)$/;"	f
hover	system/libraries/javascript/Jquery.php	/^			$hover = $this->hover("table{$class} tbody tr", "$(this).addClass('hover');", "$(this).removeClass('hover');");$/;"	v
html_comments	system/libraries/Typography.php	/^		$html_comments = array();$/;"	v
html_escape	system/core/Common.php	/^	function html_escape($var)$/;"	f
http_version	application/controllers/HttpClient.class.php	/^    	        $http_version = $m[1]; \/\/ not used$/;"	v
human_to_unix	system/helpers/date_helper.php	/^	function human_to_unix($datestr = '')$/;"	f
humanize	system/helpers/inflector_helper.php	/^	function humanize($str)$/;"	f
i	application/views/dir.php	/^            <?php foreach ($dir as $i => $vi):?>$/;"	v
i	system/core/Config.php	/^				$i = 0;$/;"	v
i	system/core/URI.php	/^		$i = 0;$/;"	v
i	system/database/DB_active_rec.php	/^				$i = 0;$/;"	v
i	system/database/DB_driver.php	/^					$i = 0;$/;"	v
i	system/database/DB_driver.php	/^					$i = 1;$/;"	v
i	system/database/DB_driver.php	/^					$i = 2;$/;"	v
i	system/database/DB_driver.php	/^		$i = 0;$/;"	v
i	system/database/drivers/mssql/mssql_driver.php	/^		$i = $limit + $offset;$/;"	v
i	system/database/drivers/mysql/mysql_utility.php	/^				$i = 0;$/;"	v
i	system/database/drivers/mysql/mysql_utility.php	/^			$i = 0;$/;"	v
i	system/database/drivers/sqlsrv/sqlsrv_driver.php	/^		$i = $limit + $offset;$/;"	v
i	system/helpers/string_helper.php	/^			$i = 0;$/;"	v
i	system/helpers/string_helper.php	/^		static $i;$/;"	v
i	system/helpers/url_helper.php	/^	$i = 0;$/;"	v
i	system/libraries/Form_validation.php	/^	protected function _reduce_array($array, $keys, $i = 0)$/;"	v
i	system/libraries/Pagination.php	/^					$i = $loop;$/;"	v
i	system/libraries/Pagination.php	/^					$i = ($loop * $this->per_page) - $this->per_page;$/;"	v
i	system/libraries/Pagination.php	/^				$i = $num_pages;$/;"	v
i	system/libraries/Pagination.php	/^				$i = $this->cur_page + 1;$/;"	v
i	system/libraries/Pagination.php	/^				$i = $uri_page_number - $this->per_page;$/;"	v
i	system/libraries/Pagination.php	/^				$i = $uri_page_number - 1;$/;"	v
i	system/libraries/Pagination.php	/^				$i = ($i == 0) ? '' : $this->prefix.$i.$this->suffix;$/;"	v
i	system/libraries/Pagination.php	/^				$i = ($this->cur_page * $this->per_page);$/;"	v
i	system/libraries/Pagination.php	/^				$i = (($num_pages * $this->per_page) - $this->per_page);$/;"	v
i	system/libraries/Table.php	/^			$i = 1;$/;"	v
i	system/libraries/Table.php	/^		$i = 0;$/;"	v
id	application/controllers/chome.php	/^            $id=1;$/;"	v
id	application/controllers/chome.php	/^        $id=$this->uri->segment(3);$/;"	v
id	application/controllers/mainpage.php	/^            $id = $temp;$/;"	v
id	application/controllers/map.php	/^			$id = array_merge($temp,$id);$/;"	v
id	application/controllers/map.php	/^		$id = $this->uniqueSort($id);\/\/整理排序，成单独的序列$/;"	v
id	application/controllers/map.php	/^		$id = array();$/;"	v
id	application/controllers/order.php	/^                $id = $this->add($ajax,$info["info"],$info["orderNum"],$info["price"]);\/\/ajax代表商品号码$/;"	v
id	application/controllers/order.php	/^            $id = $data["orderId"][$i];$/;"	v
id	application/controllers/order.php	/^            $id = $data["orderId"][$i];\/\/将所有的进行打印$/;"	v
id	application/controllers/order.php	/^        $id = $this->morder->insert($data);$/;"	v
id	application/controllers/sea.php	/^                $id = array_merge($temp,$id);                               \/\/输入的数组中有相同的字符串键名，则该键名后面的值将覆盖前一个值。$/;"	v
id	application/controllers/sea.php	/^        $id = $this->uniqueSort($id);                                   \/\/虽说为2维数组，但是第二纬只有一个数字，所以合并成为一维数组，然后unique$/;"	v
id	application/controllers/sea.php	/^        $id = Array();$/;"	v
id	application/controllers/search.php	/^			$id = array_merge($temp,$id);								\/\/输入的数组中有相同的字符串键名，则该键名后面的值将覆盖前一个值。$/;"	v
id	application/controllers/search.php	/^		$id = $this->uniqueSort($id);									\/\/虽说为2维数组，但是第二纬只有一个数字，所以合并成为一维数组，然后unique$/;"	v
id	application/controllers/search.php	/^		$id = array();\/\/$id中保存了获得的$id$/;"	v
id	application/controllers/userspace/user_home.php	/^		$id=$this->uri->segment(4,-1);\/\/在目前的情况下是四个uri段，以后或许会改吧$/;"	v
id	application/controllers/userspace/user_home.php	/^		\/\/	$id=$this->user_id_get();$/;"	v
id	application/controllers/userspace/user_photo.php	/^		$id=$this->uri->segment(4,0);$/;"	v
id	application/core/MY_Controller.php	/^        $id = array();$/;"	v
id	system/database/drivers/oci8/oci8_result.php	/^		$id = ($this->curs_id) ? $this->curs_id : $this->stmt_id;$/;"	v
id	system/helpers/form_helper.php	/^	function form_label($label_text = '', $id = '', $attributes = array())$/;"	v
id	system/helpers/language_helper.php	/^	function lang($line, $id = '')$/;"	v
idiom	system/core/Lang.php	/^			$idiom = ($deft_lang == '') ? 'english' : $deft_lang;$/;"	v
idiom	system/core/Lang.php	/^	function load($langfile = '', $idiom = '', $return = FALSE, $add_suffix = TRUE, $alt_path = '')$/;"	v
idlist	application/controllers/order.php	/^        $idlist = Array();\/\/保存打印处理商品的菜单id$/;"	v
ids	system/database/drivers/cubrid/cubrid_driver.php	/^		$ids = array();$/;"	v
ids	system/database/drivers/mysql/mysql_driver.php	/^		$ids = array();$/;"	v
ids	system/database/drivers/mysqli/mysqli_driver.php	/^		$ids = array();$/;"	v
ids	system/database/drivers/pdo/pdo_driver.php	/^		$ids = array();$/;"	v
idx	application/controllers/bg/item.php	/^        if($comId == -1 || $idx == -1){$/;"	v
idx	application/controllers/bg/wrong.php	/^        foreach($arr as $idx => $val){$/;"	v
idx	application/controllers/home.php	/^        foreach($arr as $idx => $val){$/;"	v
idx	application/controllers/mainpage.php	/^        foreach($arr as $idx => $val){$/;"	v
idx	application/controllers/sea.php	/^            foreach ($key as $idx => $val) {$/;"	v
idx	application/controllers/sea.php	/^        foreach ($this->part as $idx => $arr) {$/;"	v
idx	application/controllers/test.php	/^        foreach ($_SERVER as $idx => $val) {$/;"	v
idx	application/models/user.php	/^        foreach ($arr as $idx => $val) {$/;"	v
idx	application/views/order.php	/^$idx = -1;$/;"	v
if_not_exists	system/database/DB_forge.php	/^	function create_table($table = '', $if_not_exists = FALSE)$/;"	v
im	system/helpers/captcha_helper.php	/^			$im = imagecreate($img_width, $img_height);$/;"	v
im	system/helpers/captcha_helper.php	/^			$im = imagecreatetruecolor($img_width, $img_height);$/;"	v
image_create_gd	system/libraries/Image_lib.php	/^	function image_create_gd($path = '', $image_type = '')$/;"	f
image_display_gd	system/libraries/Image_lib.php	/^	function image_display_gd($resource)$/;"	f
image_height	system/libraries/Upload.php	/^				$this->image_height		= $D['1'];$/;"	v
image_height	system/libraries/Upload.php	/^	public $image_height			= '';$/;"	v
image_library	system/libraries/Image_lib.php	/^		$this->image_library = strtolower($this->image_library);$/;"	v
image_library	system/libraries/Image_lib.php	/^		if ($this->image_library == 'imagemagick' OR $this->image_library == 'netpbm')$/;"	v
image_library	system/libraries/Image_lib.php	/^	var $image_library		= 'gd2';	\/\/ Can be:  imagemagick, netpbm, gd, gd2$/;"	v
image_mirror_gd	system/libraries/Image_lib.php	/^	function image_mirror_gd()$/;"	f
image_process_gd	system/libraries/Image_lib.php	/^	function image_process_gd($action = 'resize')$/;"	f
image_process_imagemagick	system/libraries/Image_lib.php	/^	function image_process_imagemagick($action = 'resize')$/;"	f
image_process_netpbm	system/libraries/Image_lib.php	/^	function image_process_netpbm($action = 'resize')$/;"	f
image_reproportion	system/libraries/Image_lib.php	/^	function image_reproportion()$/;"	f
image_rotate_gd	system/libraries/Image_lib.php	/^	function image_rotate_gd()$/;"	f
image_save_gd	system/libraries/Image_lib.php	/^	function image_save_gd($resource)$/;"	f
image_size_str	system/libraries/Upload.php	/^				$this->image_size_str	= $D['3'];  \/\/ string containing height and width$/;"	v
image_size_str	system/libraries/Upload.php	/^	public $image_size_str			= '';$/;"	v
image_type	system/libraries/Image_lib.php	/^			$image_type = $this->image_type;$/;"	v
image_type	system/libraries/Image_lib.php	/^		$this->image_type	= $vals['2'];$/;"	v
image_type	system/libraries/Image_lib.php	/^	function image_create_gd($path = '', $image_type = '')$/;"	v
image_type	system/libraries/Image_lib.php	/^	var $image_type			= '';$/;"	v
image_type	system/libraries/Upload.php	/^				$this->image_type		= ( ! isset($types[$D['2']])) ? 'unknown' : $types[$D['2']];$/;"	v
image_type	system/libraries/Upload.php	/^	public $image_type				= '';$/;"	v
image_types	system/libraries/Upload.php	/^		$image_types = array('gif', 'jpg', 'jpeg', 'png', 'jpe');$/;"	v
image_url	system/helpers/smiley_helper.php	/^		$image_url = preg_replace("\/(.+?)\\\/*$\/", "\\\\1\/",  $image_url);$/;"	v
image_url	system/helpers/smiley_helper.php	/^		$image_url = rtrim($image_url, '\/').'\/';$/;"	v
image_url	system/helpers/smiley_helper.php	/^	function parse_smileys($str = '', $image_url = '', $smileys = NULL)$/;"	v
image_width	system/libraries/Upload.php	/^				$this->image_width		= $D['0'];$/;"	v
image_width	system/libraries/Upload.php	/^	public $image_width				= '';$/;"	v
img	application/controllers/checkcode.php	/^       $this->img = imagecreatetruecolor($this->width, $this->height);$/;"	v
img	application/controllers/checkcode.php	/^   private $img;$/;"	v
img	application/controllers/userspace/user_photo.php	/^		$img=getimagesize($path);$/;"	v
img	application/views/myorder.php	/^                $img = $baseUrl."upload\/".$img;$/;"	v
img	application/views/myorder.php	/^                $img = $tmp[0];\/\/直接以商品图片为图，以后再细化$/;"	v
img	application/views/order.php	/^                $img = $baseUrl."upload\/".$img;$/;"	v
img	application/views/order.php	/^                $img = $tmp[0];\/\/直接以商品图片为图，以后再细化$/;"	v
img	system/helpers/captcha_helper.php	/^		$img = "<img src=\\"$img_url$img_name\\" width=\\"$img_width\\" height=\\"$img_height\\" style=\\"border:0;\\" alt=\\" \\" \/>";$/;"	v
img	system/helpers/html_helper.php	/^		$img = '<img';$/;"	v
img	system/helpers/html_helper.php	/^	function img($src = '', $index_page = FALSE)$/;"	f
imgAns	application/controllers/write.php	/^    public function imgAns()$/;"	f
imgDir	application/controllers/write.php	/^        define('imgDir',"upload\/");$/;"	d
imgPath	application/core/MY_Controller.php	/^        $this->imgPath = base_url("upload");\/\/这两个，其实是同一的$/;"	v
imgUrl	application/controllers/bg/imglist.php	/^    var $imgUrl = "\/var\/www\/html\/edian\/edian\/upload\/";$/;"	v
img_info	application/models/img.php	/^    function img_info(){$/;"	f
img_info	application/models/mphoto.php	/^	function img_info(){$/;"	f
img_mimes	system/libraries/Upload.php	/^		$img_mimes = array($/;"	v
img_name	application/models/img.php	/^    function img_name($img_id){$/;"	f
img_name	application/models/mphoto.php	/^	function img_name($img_id){$/;"	f
img_name	system/helpers/captcha_helper.php	/^		$img_name = $now.'.jpg';$/;"	v
img_path	system/helpers/captcha_helper.php	/^	function create_captcha($data = '', $img_path = '', $img_url = '', $font_path = '')$/;"	v
img_save_path	application/controllers/reg.php	/^        $this->img_save_path = ".\/upload\/";$/;"	v
img_save_path	application/core/MY_Controller.php	/^        $this->img_save_path = ".\/upload\/";$/;"	v
img_show	application/controllers/userspace/user_photo.php	/^	function img_show(){$/;"	f
img_thumb_height	application/core/MY_Controller.php	/^        $this->img_thumb_height = 125;$/;"	v
img_thumb_width	application/core/MY_Controller.php	/^        $this->img_thumb_width = 200;$/;"	v
img_url	system/helpers/captcha_helper.php	/^		if ($img_path == '' OR $img_url == '')$/;"	v
imgdel	application/controllers/bg/imglist.php	/^    function imgdel($imgId  = "",$img_name = ""){$/;"	f
imgdel	application/models/img.php	/^    function imgdel($name){$/;"	f
imgdel	application/models/mbgimglist.php	/^	function imgdel($name){$/;"	f
imgout	application/views/homeUserspace.php	/^function  imgout(node){$/;"	f
imgover	application/views/homeUserspace.php	/^function imgover(node){$/;"	f
immediate	application/controllers/write.php	/^        $immediate=isset($_GET['immediate'])?$_GET['immediate']:0;\/\/立即上传模式，仅为演示用$/;"	v
implicitly	system/database/drivers/cubrid/cubrid_driver.php	/^	 * This function implicitly groups FROM tables so there is no confusion$/;"	f
implicitly	system/database/drivers/mssql/mssql_driver.php	/^	 * This function implicitly groups FROM tables so there is no confusion$/;"	f
implicitly	system/database/drivers/mysql/mysql_driver.php	/^	 * This function implicitly groups FROM tables so there is no confusion$/;"	f
implicitly	system/database/drivers/mysqli/mysqli_driver.php	/^	 * This function implicitly groups FROM tables so there is no confusion$/;"	f
implicitly	system/database/drivers/oci8/oci8_driver.php	/^	 * This function implicitly groups FROM tables so there is no confusion$/;"	f
implicitly	system/database/drivers/odbc/odbc_driver.php	/^	 * This function implicitly groups FROM tables so there is no confusion$/;"	f
implicitly	system/database/drivers/pdo/pdo_driver.php	/^	 * This function implicitly groups FROM tables so there is no confusion$/;"	f
implicitly	system/database/drivers/postgre/postgre_driver.php	/^	 * This function implicitly groups FROM tables so there is no confusion$/;"	f
implicitly	system/database/drivers/sqlite/sqlite_driver.php	/^	 * This function implicitly groups FROM tables so there is no confusion$/;"	f
implicitly	system/database/drivers/sqlsrv/sqlsrv_driver.php	/^	 * This function implicitly groups FROM tables so there is no confusion$/;"	f
in	system/core/Loader.php	/^	 * This is simply an alias to the above function in case the$/;"	f
in	system/database/DB_driver.php	/^				\/\/ We call this function in order to roll-back queries$/;"	f
in	system/database/drivers/cubrid/cubrid_driver.php	/^		\/\/ $driver_version_exceptions array in DB_driver class in$/;"	c
inHeaders	application/controllers/HttpClient.class.php	/^    	            $inHeaders = false;$/;"	v
inHeaders	application/controllers/HttpClient.class.php	/^    	$inHeaders = true;$/;"	v
inSig	system/libraries/Xmlrpcs.php	/^					$inSig = $signature[$i];$/;"	v
in_progress	system/core/Hooks.php	/^		$this->in_progress = FALSE;$/;"	v
in_progress	system/core/Hooks.php	/^		$this->in_progress = TRUE;$/;"	v
in_progress	system/core/Hooks.php	/^	var $in_progress	= FALSE;$/;"	v
include_base	system/core/Loader.php	/^		return $include_base === TRUE ? $this->_ci_library_paths : $this->_ci_model_paths;$/;"	v
include_path	system/helpers/file_helper.php	/^	function get_filenames($source_dir, $include_path = FALSE, $_recursion = FALSE)$/;"	v
increment_string	system/helpers/string_helper.php	/^function increment_string($str, $separator = '_', $first = 1)$/;"	f
index	application/controllers/bg/bgart.php	/^    public function index()$/;"	f
index	application/controllers/bg/blocklist.php	/^				function index(){$/;"	f
index	application/controllers/bg/home.php	/^    function  index(){$/;"	f
index	application/controllers/bg/imglist.php	/^    function  index(){$/;"	f
index	application/controllers/bg/item.php	/^        foreach($array as $index => $value){$/;"	v
index	application/controllers/bg/newreg.php	/^		function index(){$/;"	f
index	application/controllers/bg/order.php	/^    public function index(){$/;"	f
index	application/controllers/bg/userlist.php	/^            foreach($array as $index => $value){$/;"	v
index	application/controllers/bg/userlist.php	/^        function index(){$/;"	f
index	application/controllers/bg/wrong.php	/^    public function index()$/;"	f
index	application/controllers/checkcode.php	/^   public function index() {$/;"	f
index	application/controllers/chome.php	/^    function index(){$/;"	f
index	application/controllers/fun.php	/^     public function index()$/;"	f
index	application/controllers/home.php	/^    public function index($id  = 0)$/;"	f
index	application/controllers/info.php	/^    public function index($mastId = -1){$/;"	f
index	application/controllers/item.php	/^        foreach($array as $index => $value){$/;"	v
index	application/controllers/item.php	/^    public function index($itemId = -1)$/;"	f
index	application/controllers/mainpage.php	/^    public function index($id  = 0)$/;"	f
index	application/controllers/map.php	/^	public function index()$/;"	f
index	application/controllers/message.php	/^	function index($ajax = false){$/;"	f
index	application/controllers/order.php	/^        foreach($array as $index => $value){$/;"	v
index	application/controllers/order.php	/^    public function index($ajax = 0)$/;"	f
index	application/controllers/reg.php	/^    public function index()$/;"	f
index	application/controllers/sea.php	/^        foreach($array as $index => $value){$/;"	v
index	application/controllers/sea.php	/^    public function index()$/;"	f
index	application/controllers/search.php	/^		foreach($this->part as  $index => $value){$/;"	v
index	application/controllers/search.php	/^	public function index($currentPage = 0)$/;"	f
index	application/controllers/sec.php	/^	public function index($art_id = -1)$/;"	f
index	application/controllers/showart.php	/^    public function index($art_id = -1)$/;"	f
index	application/controllers/space.php	/^    public function index($masterid  = -1)$/;"	f
index	application/controllers/spacePhoto.php	/^	public function index($mastId = -1)$/;"	f
index	application/controllers/test.php	/^    function index(){$/;"	f
index	application/controllers/userspace/user_home.php	/^	function index(){$/;"	f
index	application/controllers/userspace/user_photo.php	/^	function index(){$/;"	f
index	application/controllers/waimai.php	/^    public function index()$/;"	f
index	application/controllers/welcome.php	/^	public function index()$/;"	f
index	application/controllers/write.php	/^    public function index()$/;"	f
index	application/views/info.php	/^	$index = 0;$/;"	v
index	system/core/Config.php	/^	function item($item, $index = '')$/;"	v
index	system/core/Input.php	/^	function _fetch_from_array(&$array, $index = '', $xss_clean = FALSE)$/;"	v
index	system/database/DB_active_rec.php	/^	public function set_update_batch($key, $index = '', $escape = TRUE)$/;"	v
index	system/database/drivers/postgre/postgre_forge.php	/^			foreach ($primary_keys as $index => $key)$/;"	v
index2	application/controllers/bg/home.php	/^    public function index2()$/;"	f
index2	application/controllers/sec.php	/^	public function index2($art_id)$/;"	f
index2	application/controllers/showart.php	/^    public function index2($art_id)$/;"	f
index2	application/controllers/space.php	/^    public function index2()$/;"	f
index2	application/controllers/write.php	/^    public function index2()$/;"	f
index_page	system/helpers/html_helper.php	/^	function img($src = '', $index_page = FALSE)$/;"	v
index_page	system/helpers/url_helper.php	/^	function index_page()$/;"	f
index_set	system/database/DB_active_rec.php	/^					$index_set = TRUE;$/;"	v
index_set	system/database/DB_active_rec.php	/^			$index_set = FALSE;$/;"	v
index_test	application/controllers/bg/home.php	/^    function index_test(){$/;"	f
indexes	system/libraries/Form_validation.php	/^			$indexes	= array();$/;"	v
inf	application/controllers/order.php	/^                    $inf = $this->spInf($temp["info"]);$/;"	v
inf	application/controllers/order.php	/^        $inf = $this->user->ordaddr($userId);$/;"	v
info	application/controllers/bg/wrong.php	/^                    $info = $temp->info;$/;"	v
info	application/controllers/order.php	/^                $info = $data["buyNum"][$i]."&".$temp[1]."&".$temp[2]."&".$more;$/;"	v
info	application/controllers/order.php	/^            $info = $this->morder->getChange($id);$/;"	v
info	application/controllers/order.php	/^        $info = $arr["buyNum"]."&".$arr["info"]."&".$arr["price"]."&".$arr["more"];$/;"	v
info	application/controllers/order.php	/^        $info = explode("|",$info);$/;"	v
info	application/controllers/write.php	/^        $info = $this->art->getImgId($artId);\/\/取得author_id 和img 的信息,$/;"	v
info	application/views/myorder.php	/^                $info = $cart[$cnt]["info"];$/;"	v
info	application/views/order.php	/^                $info = $cart[$cnt]["info"];$/;"	v
info	js/item.js	/^        var info = attr.split(";");$/;"	v
info	system/database/drivers/sqlsrv/sqlsrv_driver.php	/^		$info = sqlsrv_server_info($this->conn_id);$/;"	v
infoDel	application/controllers/home.php	/^    public function infoDel($part = -1,$id = 1,$ajax = 0)$/;"	f
infoDel	application/controllers/mainpage.php	/^    public function infoDel($part = -1,$id = 1,$ajax = 0)$/;"	f
informInfo	application/models/user.php	/^    public function informInfo($userId)$/;"	f
init	js/mainpage2.js	/^function  init(){$/;"	f
init	system/libraries/ckeditor.php	/^	private function init()$/;"	f
initComplete	system/libraries/ckeditor.php	/^			$initComplete = true;$/;"	v
initComplete	system/libraries/ckeditor.php	/^		$initComplete = $this->initialized = true;$/;"	v
initComplete	system/libraries/ckeditor.php	/^		static $initComplete;$/;"	v
init_size	system/libraries/Encrypt.php	/^		$init_size = mcrypt_get_iv_size($this->_get_cipher(), $this->_get_mode());$/;"	v
init_vect	system/libraries/Encrypt.php	/^		$init_vect = mcrypt_create_iv($init_size, MCRYPT_RAND);$/;"	v
init_vect	system/libraries/Encrypt.php	/^		$init_vect = substr($data, 0, $init_size);$/;"	v
initialize	system/core/Loader.php	/^	public function initialize()$/;"	f
initialize	system/database/DB_driver.php	/^	function initialize()$/;"	f
initialize	system/libraries/Calendar.php	/^	function initialize($config = array())$/;"	f
initialize	system/libraries/Email.php	/^	public function initialize($config = array())$/;"	f
initialize	system/libraries/Ftp.php	/^	function initialize($config = array())$/;"	f
initialize	system/libraries/Image_lib.php	/^	function initialize($props = array())$/;"	f
initialize	system/libraries/Pagination.php	/^	function initialize($params = array())$/;"	f
initialize	system/libraries/Upload.php	/^	public function initialize($config = array())$/;"	f
initialize	system/libraries/Xmlrpc.php	/^	function initialize($config = array())$/;"	f
initialize	system/libraries/Xmlrpcs.php	/^	function initialize($config=array())$/;"	f
initialized	system/libraries/Migration.php	/^		log_message('debug', 'Migrations class initialized');$/;"	c
initialized	system/libraries/ckeditor.php	/^	public $initialized = false;$/;"	v
inlimit	js/item.js	/^    var inlimit = 0,flag;\/\/时序控制$/;"	v
inline	system/libraries/Javascript.php	/^	function inline($script, $cdata = TRUE)$/;"	f
inline_elements	system/libraries/Typography.php	/^	var $inline_elements = 'a|abbr|acronym|b|bdo|big|br|button|cite|code|del|dfn|em|i|img|ins|input|label|map|kbd|q|samp|select|small|span|strong|sub|sup|textarea|tt|var';$/;"	v
inner_block_required	system/libraries/Typography.php	/^	var $inner_block_required = array('blockquote');$/;"	v
inputAreaMouseDown	application/views/printindex.php	/^function inputAreaMouseDown()$/;"	f
inputName	application/controllers/write.php	/^        $inputName='filedata';\/\/表单文件域name,form的name$/;"	v
insert	application/controllers/write.php	/^        $insert = array_merge($temp,$insert);$/;"	v
insert	application/controllers/write.php	/^    private function insert()$/;"	f
insert	application/models/comitem.php	/^    public function insert($data)$/;"	f
insert	application/models/imgcomment.php	/^	public function insert($imgId,$content,$userId)$/;"	f
insert	application/models/mitem.php	/^    public function insert($data)$/;"	f
insert	application/models/morder.php	/^    public function insert($data)$/;"	f
insert	application/models/mwrong.php	/^     public function insert($text)$/;"	f
insert	application/models/order.php	/^    public function insert($data)$/;"	f
insert	system/database/DB_active_rec.php	/^	function insert($table = '', $set = NULL)$/;"	f
insert	system/libraries/Cart.php	/^	function insert($items = array())$/;"	f
insertComment	application/models/comment.php	/^		public function insertComment($art_id,$user_id,$comment)$/;"	f
insertExtro	application/models/user.php	/^    public function insertExtro($data,$userId)$/;"	f
insertJudge	application/controllers/write.php	/^    private function insertJudge()$/;"	f
insertUpload	application/views/Cwrite.php	/^function insertUpload(arrMsg)$/;"	f
insertUpload	application/views/mBgItemAdd.php	/^function insertUpload(arrMsg)$/;"	f
insertUpload	application/views/messwrite.php	/^function insertUpload(arrMsg)$/;"	f
insertUpload	application/views/uploadxhe.php	/^function insertUpload(arrMsg)$/;"	f
insertUpload	application/views/wChange.php	/^function insertUpload(arrMsg)$/;"	f
insertUpload	application/views/write.php	/^function insertUpload(arrMsg)$/;"	f
insertUser	application/models/user.php	/^    public function insertUser($data)$/;"	f
insert_art	application/models/art.php	/^    public function insert_art($art_title,$art_text,$part_id,$user_id,$value)$/;"	f
insert_art	application/models/meditor.php	/^		function insert_art($id){$/;"	f
insert_batch	system/database/DB_active_rec.php	/^	public function insert_batch($table = '', $set = NULL)$/;"	f
insert_id	system/database/drivers/cubrid/cubrid_driver.php	/^	function insert_id()$/;"	f
insert_id	system/database/drivers/mssql/mssql_driver.php	/^	function insert_id()$/;"	f
insert_id	system/database/drivers/mysql/mysql_driver.php	/^	function insert_id()$/;"	f
insert_id	system/database/drivers/mysqli/mysqli_driver.php	/^	function insert_id()$/;"	f
insert_id	system/database/drivers/oci8/oci8_driver.php	/^	public function insert_id()$/;"	f
insert_id	system/database/drivers/odbc/odbc_driver.php	/^	function insert_id()$/;"	f
insert_id	system/database/drivers/pdo/pdo_driver.php	/^	function insert_id($name=NULL)$/;"	f
insert_id	system/database/drivers/postgre/postgre_driver.php	/^	function insert_id()$/;"	f
insert_id	system/database/drivers/sqlite/sqlite_driver.php	/^	function insert_id()$/;"	f
insert_id	system/database/drivers/sqlsrv/sqlsrv_driver.php	/^	function insert_id()$/;"	f
insert_smiley	system/helpers/smiley_helper.php	/^				function insert_smiley(smiley, field_id) {$/;"	f
insert_smiley	system/helpers/smiley_helper.php	/^	function insert_smiley(smiley)$/;"	f
insert_string	system/database/DB_driver.php	/^	function insert_string($table, $data)$/;"	f
instance	system/core/Controller.php	/^	private static $instance;$/;"	v
instead	system/core/Benchmark.php	/^	 * If the first parameter is empty this function instead returns the$/;"	f
intUser	application/core/MY_Controller.php	/^            $intUser = intval($user_id);$/;"	v
integer	system/libraries/Form_validation.php	/^	public function integer($str)$/;"	f
intro	application/core/MY_Controller.php	/^                    $intro = $this->input->post("intro");\/\/上传就是上传，数据的处理就交给其他的吧$/;"	v
ip_address	system/core/Input.php	/^			$this->ip_address = $_SERVER['HTTP_CLIENT_IP'];$/;"	v
ip_address	system/core/Input.php	/^			$this->ip_address = $_SERVER['HTTP_X_FORWARDED_FOR'];$/;"	v
ip_address	system/core/Input.php	/^			$this->ip_address = $_SERVER['REMOTE_ADDR'];$/;"	v
ip_address	system/core/Input.php	/^			$this->ip_address = '0.0.0.0';$/;"	v
ip_address	system/core/Input.php	/^			$this->ip_address = in_array($_SERVER['REMOTE_ADDR'], $proxies) ? $_SERVER['HTTP_X_FORWARDED_FOR'] : $_SERVER['REMOTE_ADDR'];$/;"	v
ip_address	system/core/Input.php	/^			$this->ip_address = trim(end($x));$/;"	v
ip_address	system/core/Input.php	/^	function ip_address()$/;"	f
ip_address	system/core/Input.php	/^	var $ip_address				= FALSE;$/;"	v
ip_segments	system/core/Input.php	/^		$ip_segments = explode('.', $ip);$/;"	v
ipv4	system/core/Input.php	/^			$ipv4 = array_pop($chunks);$/;"	v
is	system/core/CodeIgniter.php	/^ * The subclass prefix allows CI to know if a core class is$/;"	c
is	system/core/CodeIgniter.php	/^ * after the Config class is instantiated.$/;"	c
is	system/core/Common.php	/^* Keeps track of which libraries have been loaded.  This function is$/;"	f
is	system/core/Common.php	/^* This function is similar to the show_error() function above$/;"	f
is	system/core/Config.php	/^	 * This function is called by the front controller (CodeIgniter.php)$/;"	f
is	system/core/Config.php	/^	 * after the Config class is instantiated.  It permits config items$/;"	c
is	system/core/Input.php	/^	 * people running other webservers the function is undefined.$/;"	f
is	system/core/Loader.php	/^	 * A utility function to test if a class is in the self::$_ci_classes array.$/;"	c
is	system/core/Loader.php	/^	 * This function is used to load a "view" file.  It has three parameters:$/;"	f
is	system/core/Loader.php	/^	 * This function is used to load views and files.$/;"	f
is	system/core/Output.php	/^		\/\/ since this function is sometimes called by the caching mechanism,$/;"	f
is	system/core/Security.php	/^	 * This function is a replacement for html_entity_decode()$/;"	f
is	system/database/DB.php	/^	\/\/ Load the DB classes.  Note: Since the active record class is optional$/;"	c
is	system/database/DB_driver.php	/^				\/\/ This can happen when this function is being called from a JOIN.$/;"	f
is	system/database/DB_driver.php	/^	 * This function is used extensively by every db driver.$/;"	f
is	system/database/DB_driver.php	/^	 * This function is used extensively by the Active Record class, and by$/;"	f
is	system/database/drivers/cubrid/cubrid_driver.php	/^ * class is being used or not.$/;"	c
is	system/database/drivers/mssql/mssql_driver.php	/^ * class is being used or not.$/;"	c
is	system/database/drivers/mysql/mysql_driver.php	/^ * class is being used or not.$/;"	c
is	system/database/drivers/mysqli/mysqli_driver.php	/^ * class is being used or not.$/;"	c
is	system/database/drivers/oci8/oci8_driver.php	/^ * class is being used or not.$/;"	c
is	system/database/drivers/odbc/odbc_driver.php	/^ * class is being used or not.$/;"	c
is	system/database/drivers/pdo/pdo_driver.php	/^ * class is being used or not.$/;"	c
is	system/database/drivers/postgre/postgre_driver.php	/^ * class is being used or not.$/;"	c
is	system/database/drivers/sqlite/sqlite_driver.php	/^ * class is being used or not.$/;"	c
is	system/database/drivers/sqlsrv/sqlsrv_driver.php	/^ * class is being used or not.$/;"	c
is	system/helpers/date_helper.php	/^ * This function is identical to PHPs date() function,$/;"	f
is	system/helpers/typography_helper.php	/^ * This function is a replacement for html_entity_decode()$/;"	f
is	system/helpers/url_helper.php	/^ * function is placed$/;"	f
is	system/libraries/Image_lib.php	/^	 * Resets values in case this class is used in a loop$/;"	c
is	system/libraries/Session.php	/^	 * whenever the class is instantiated.$/;"	c
is	system/libraries/Sha1.php	/^ * This class is a fallback for servers that are not running PHP greater than$/;"	c
is	system/libraries/Sha1.php	/^ * This class is based on two scripts:$/;"	c
is	system/libraries/Typography.php	/^						\/\/ An unintended consequence of the _format_newlines function is that$/;"	f
is	system/libraries/Zip.php	/^ * This class is based on a library I found at Zend:$/;"	c
is.getLocalUrl	js/xheditor.min.js	/^(function(){var e={};window.XHEDITOR=e})(),function(e,t){e.mapLang={},e.setLang=function(i,s){s===t&&(s=i,i=""),""!==i&&(i+=".");var a,n;for(var o in s)n=s[o],a=i+o,"string"==typeof n||n instanceof Array?e.mapLang[a]=n:e.setLang(a,n)},e.getLang=function(i){var s=e.mapLang[i];if(s===t&&(s=i.replace(\/{#([^{}]+)}\/g,function(t,i){var s=e.mapLang[i];return s?s:i})),"string"==typeof s){var a=arguments;s=s.replace(\/{\\$(\\d+)}\/g,function(e,i){var s=a[parseInt(i,10)+1];return s!==t?s:e})}return s}}(XHEDITOR),function(XHEDITOR,$,undefined){var agent=navigator.userAgent.toLowerCase(),bMobile=\/mobile\/i.test(agent),browser=$.browser,browerVer=parseFloat(browser.version),isIE=browser.msie,isMozilla=browser.mozilla,isWebkit=browser.webkit,isOpera=browser.opera,isChrome=browser.chrome,bAir=agent.indexOf(" adobeair\/")>-1,xCount=0,bShowPanel=!1,bClickCancel=!0,bShowModal=!1,bCheckEscInit=!1,_jPanel,_jShadow,_jCntLine,_jPanelButton,jModal,jModalShadow,layerShadow,jOverlay,jHideSelect,onModalRemove,editorRoot,getLang=XHEDITOR.getLang;if($("script[src*=xheditor]").each(function(){var e=this.src;return e.match(\/xheditor[^\\\/]*\\.js\/i)?(editorRoot=e.replace(\/[\\?#].*$\/,"").replace(\/(^|[\\\/\\\\])[^\\\/]*$\/,"$1"),!1):undefined}),isIE){try{document.execCommand("BackgroundImageCache",!1,!0)}catch(e){}var jqueryVer=$.fn.jquery;jqueryVer&&jqueryVer.match(\/^1\\.[67]\/)&&($.attrHooks.width=$.attrHooks.height=null)}var specialKeys={27:"esc",9:"tab",32:"space",13:"enter",8:"backspace",145:"scroll",20:"capslock",144:"numlock",19:"pause",45:"insert",36:"home",46:"del",35:"end",33:"pageup",34:"pagedown",37:"left",38:"up",39:"right",40:"down",112:"f1",113:"f2",114:"f3",115:"f4",116:"f5",117:"f6",118:"f7",119:"f8",120:"f9",121:"f10",122:"f11",123:"f12"},arrAlign=[{v:"justifyleft"},{v:"justifycenter"},{v:"justifyright"},{v:"justifyfull"}],arrList=[{v:"insertOrderedList"},{v:"insertUnorderedList"}],htmlPastetext='<div><label for="xhePastetextValue">{#PastetextTip}<\/label><\/div><div><textarea id="xhePastetextValue" wrap="soft" spellcheck="false" style="width:300px;height:100px;" \/><\/div><div style="text-align:right;"><input type="button" id="xheSave" value="{#dialogOk}" \/><\/div>',htmlLink='<div><label for="xheLinkUrl">{#link.url}<\/label><input type="text" id="xheLinkUrl" value="http:\/\/" class="xheText" \/><\/div><div><label for="xheLinkTarget">{#link.target}<\/label><select id="xheLinkTarget"><option selected="selected" value="">{#default}<\/option><option value="_blank">{#link.targetBlank}<\/option><option value="_self">{#link.targetSelf}<\/option><option value="_parent">{#link.targetParent}<\/option><\/select><\/div><div style="display:none"><label for="xheLinkText">{#link.linkText}<\/label><input type="text" id="xheLinkText" value="" class="xheText" \/><\/div><div style="text-align:right;"><input type="button" id="xheSave" value="{#dialogOk}" \/><\/div>',htmlAnchor='<div><label for="xheAnchorName">{#anchor.name}<\/label><input type="text" id="xheAnchorName" value="" class="xheText" \/><\/div><div style="text-align:right;"><input type="button" id="xheSave" value="{#dialogOk}" \/><\/div>',htmlImg='<div><label for="xheImgUrl">{#img.url}<\/label><input type="text" id="xheImgUrl" value="http:\/\/" class="xheText" \/><\/div><div><div><label for="xheImgAlt">{#img.alt}<\/label><input type="text" id="xheImgAlt" \/><\/div><div><label for="xheImgAlign">{#img.align}<\/label><select id="xheImgAlign"><option selected="selected" value="">{#default}<\/option><option value="left">{#img.alignLeft}<\/option><option value="right">{#img.alignRight}<\/option><option value="top">{#img.alignTop}<\/option><option value="middle">{#img.alignMiddle}<\/option><option value="baseline">{#img.alignBaseline}<\/option><option value="bottom">{#img.alignBottom}<\/option><\/select><\/div><div><label for="xheImgWidth">{#img.width}<\/label><input type="text" id="xheImgWidth" style="width:40px;" \/> <label for="xheImgHeight">{#img.height}<\/label><input type="text" id="xheImgHeight" style="width:40px;" \/><\/div><div><label for="xheImgBorder">{#img.border}<\/label><input type="text" id="xheImgBorder" style="width:40px;" \/><\/div><div><label for="xheImgHspace">{#img.hspace}<\/label><input type="text" id="xheImgHspace" style="width:40px;" \/> <label for="xheImgVspace">{#img.vspace}<\/label><input type="text" id="xheImgVspace" style="width:40px;" \/><\/div><div style="text-align:right;"><input type="button" id="xheSave" value="{#dialogOk}" \/><\/div>',htmlFlash='<div><label for="xheFlashUrl">{#flash.url}<\/label><input type="text" id="xheFlashUrl" value="http:\/\/" class="xheText" \/><\/div><div><label for="xheFlashWidth">{#flash.width}<\/label><input type="text" id="xheFlashWidth" style="width:40px;" value="480" \/> <label for="xheFlashHeight">{#flash.height}<\/label><input type="text" id="xheFlashHeight" style="width:40px;" value="400" \/><\/div><div style="text-align:right;"><input type="button" id="xheSave" value="{#dialogOk}" \/><\/div>',htmlMedia='<div><label for="xheMediaUrl">{#media.url}<\/label><input type="text" id="xheMediaUrl" value="http:\/\/" class="xheText" \/><\/div><div><label for="xheMediaWidth">{#media.width}<\/label><input type="text" id="xheMediaWidth" style="width:40px;" value="480" \/> <label for="xheMediaHeight">{#media.height}<\/label><input type="text" id="xheMediaHeight" style="width:40px;" value="400" \/><\/div><div style="text-align:right;"><input type="button" id="xheSave" value="{#dialogOk}" \/><\/div>',htmlTable='<div><label for="xheTableRows">{#table.rows}<\/label><input type="text" id="xheTableRows" style="width:40px;" value="3" \/> <label for="xheTableColumns">{#table.columns}<\/label><input type="text" id="xheTableColumns" style="width:40px;" value="2" \/><\/div><div><label for="xheTableHeaders">{#table.headers}<\/label><select id="xheTableHeaders"><option selected="selected" value="">{#none}<\/option><option value="row">{#table.headersRow}<\/option><option value="col">{#table.headersCol}<\/option><option value="both">{#table.headersBoth}<\/option><\/select><\/div><div><label for="xheTableWidth">{#table.width}<\/label><input type="text" id="xheTableWidth" style="width:40px;" value="200" \/> <label for="xheTableHeight">{#table.height}<\/label><input type="text" id="xheTableHeight" style="width:40px;" value="" \/><\/div><div><label for="xheTableBorder">{#table.border}<\/label><input type="text" id="xheTableBorder" style="width:40px;" value="1" \/><\/div><div><label for="xheTableCellSpacing">{#table.cellSpacing}<\/label><input type="text" id="xheTableCellSpacing" style="width:40px;" value="1" \/> <label for="xheTableCellPadding">{#table.cellPadding}<\/label><input type="text" id="xheTableCellPadding" style="width:40px;" value="1" \/><\/div><div><label for="xheTableAlign">{#table.align}<\/label><select id="xheTableAlign"><option selected="selected" value="">{#default}<\/option><option value="left">{#table.alignLeft}<\/option><option value="center">{#table.alignCenter}<\/option><option value="right">{#table.alignRight}<\/option><\/select><\/div><div><label for="xheTableCaption">{#table.caption}<\/label><input type="text" id="xheTableCaption" \/><\/div><div style="text-align:right;"><input type="button" id="xheSave" value="{#dialogOk}" \/><\/div>',htmlAbout='<div style="font:12px Arial;width:245px;word-wrap:break-word;word-break:break-all;outline:none;" role="dialog" tabindex="-1"><p><span style="font-size:20px;color:#1997DF;">xhEditor<\/span><br \/>v1.2.1 (build 130225)<\/p><p>{#aboutXheditor}<\/p><p>Copyright &copy; <a href="http:\/\/xheditor.com\/" target="_blank">xhEditor.com<\/a>. All rights reserved.<\/p><\/div>',itemEmots={"default":{name:"{#default}",width:24,height:24,line:7,list:["smile","tongue","titter","laugh","sad","wronged","fastcry","cry","wail","mad","knock","curse","crazy","angry","ohmy","awkward","panic","shy","cute","envy","proud","struggle","quiet","shutup","doubt","despise","sleep","bye"]}},arrTools={Cut:{t:"Cut"},Copy:{t:"Copy"},Paste:{t:"Paste"},Pastetext:{t:"Pastetext",h:isIE?0:1},Blocktag:{t:"Blocktag",h:1},Fontface:{t:"Fontface",h:1},FontSize:{t:"FontSize",h:1},Bold:{t:"Bold",s:"Ctrl+B"},Italic:{t:"Italic",s:"Ctrl+I"},Underline:{t:"Underline",s:"Ctrl+U"},Strikethrough:{t:"Strikethrough"},FontColor:{t:"FontColor",h:1},BackColor:{t:"BackColor",h:1},SelectAll:{t:"SelectAll"},Removeformat:{t:"Removeformat"},Align:{t:"Align",h:1},List:{t:"List",h:1},Outdent:{t:"Outdent"},Indent:{t:"Indent"},Link:{t:"Link",s:"Ctrl+L",h:1},Unlink:{t:"Unlink"},Anchor:{t:"Anchor",h:1},Img:{t:"Img",h:1},Flash:{t:"Flash",h:1},Media:{t:"Media",h:1},Hr:{t:"Hr"},Emot:{t:"Emot",s:"ctrl+e",h:1},Table:{t:"Table",h:1},Source:{t:"Source"},Preview:{t:"Preview"},Print:{t:"Print",s:"Ctrl+P"},Fullscreen:{t:"Fullscreen",s:"Esc"},About:{t:"About"}},toolsThemes={mini:"Bold,Italic,Underline,Strikethrough,|,Align,List,|,Link,Img",simple:"Blocktag,Fontface,FontSize,Bold,Italic,Underline,Strikethrough,FontColor,BackColor,|,Align,List,Outdent,Indent,|,Link,Img,Emot",full:"Cut,Copy,Paste,Pastetext,|,Blocktag,Fontface,FontSize,Bold,Italic,Underline,Strikethrough,FontColor,BackColor,SelectAll,Removeformat,|,Align,List,Outdent,Indent,|,Link,Unlink,Anchor,Img,Flash,Media,Hr,Emot,Table,|,Source,Preview,Print,Fullscreen"};toolsThemes.mfull=toolsThemes.full.replace(\/\\|(,Align)\/i,"\/$1");var arrDbClick={a:"Link",img:"Img",embed:"Embed"},uploadInputname="filedata",arrEntities={"<":"&lt;",">":"&gt;",'"':"&quot;","\\u00ae":"&reg;","\\u00a9":"&copy;"},regEntities=\/[<>"\\u00ae\\u00a9]\/g,Xheditor=function(textarea,options){function checkDblClick(e){var t=e.target,i=arrDbClick[t.tagName.toLowerCase()];if(i){if("Embed"===i){var s={"application\/x-shockwave-flash":"Flash","application\/x-mplayer2":"Media"};i=s[t.type.toLowerCase()]}_this.exec(i)}}function checkEsc(e){return 27===e.which?(bShowModal?_this.removeModal():bShowPanel&&_this.hidePanel(),!1):undefined}function loadReset(){setTimeout(_this.setSource,10)}function saveResult(){_this.getSource()}function cleanPaste(e){var t,i,s;if(e&&(t=e.originalEvent.clipboardData)&&(i=t.items)&&(s=i[0])&&"file"==s.kind&&s.type.match(\/^image\\\/\/i)){var a=s.getAsFile(),n=new FileReader;return n.onload=function(){var e='<img src="'+event.target.result+'">';e=replaceRemoteImg(e),_this.pasteHTML(e)},n.readAsDataURL(a),!1}var o=settings.cleanPaste;if(0===o||bSource||bCleanPaste)return!0;bCleanPaste=!0,_this.saveBookmark();var l=isIE?"pre":"div",r=$("<"+l+' class="xhe-paste">\\ufeff\\ufeff<\/'+l+">",_doc).appendTo(_doc.body),h=r[0],c=_this.getSel(),d=_this.getRng(!0);r.css("top",_jWin.scrollTop()),isIE?(d.moveToElementText(h),d.select()):(d.selectNodeContents(h),c.removeAllRanges(),c.addRange(d)),setTimeout(function(){var e,t=3===o;if(t)r.html(r.html().replace(\/<br(\\s+[^<>]*)?>\/gi,"\\n")),e=r.text();else{var i=$(".xhe-paste",_doc.body),s=[];i.each(function(e,t){0==$(t).find(".xhe-paste").length&&s.push(t.innerHTML)}),e=s.join("<br \/>")}r.remove(),_this.loadBookmark(),e=e.replace(\/^[\\s\\uFEFF]+|[\\s\\uFEFF]+$\/g,""),e&&(t?_this.pasteText(e):(e=_this.cleanHTML(e),e=_this.cleanWord(e),e=_this.formatXHTML(e),(!settings.onPaste||settings.onPaste&&(e=settings.onPaste(e))!==!1)&&(e=replaceRemoteImg(e),_this.pasteHTML(e)))),bCleanPaste=!1},0)}function replaceRemoteImg(e){var t=settings.localUrlTest,i=settings.remoteImgSaveUrl;if(t&&i){var s=[],a=0;e=e.replace(\/(<img)((?:\\s+[^>]*?)?(?:\\s+src="\\s*([^"]+)\\s*")(?: [^>]*)?)(\\\/?>)\/gi,function(e,i,n,o,l){return!\/^(https?|data:image)\/i.test(o)||\/_xhe_temp\/.test(n)||t.test(o)||(s[a]=o,n=n.replace(\/\\s+(width|height)="[^"]*"\/gi,"").replace(\/\\s+src="[^"]*"\/gi,' src="'+skinPath+'img\/waiting.gif" remoteimg="'+a++ +'"')),i+n+l}),s.length>0&&$.post(i,{urls:s.join("|")},function(e){e=e.split("|"),$("img[remoteimg]",_this.doc).each(function(){var t=$(this);xheAttr(t,"src",e[t.attr("remoteimg")]),t.removeAttr("remoteimg")})})}return e}function setCSS(e){try{_this._exec("styleWithCSS",e,!0)}catch(t){try{_this._exec("useCSS",!e,!0)}catch(t){}}}function setOpts(){if(bInit&&!bSource){setCSS(!1);try{_this._exec("enableObjectResizing",!0,!0)}catch(e){}if(isIE)try{_this._exec("BackgroundImageCache",!0,!0)}catch(e){}}}function forcePtag(e){if(bSource||13!==e.which||e.shiftKey||e.ctrlKey||e.altKey)return!0;var t=_this.getParent("p,h1,h2,h3,h4,h5,h6,pre,address,div,li");return t.is("li")?!0:settings.forcePtag?(0===t.length&&_this._exec("formatblock","<p>"),undefined):(_this.pasteHTML("<br \/>"),isIE&&t.length>0&&2===_this.getRng().parentElement().childNodes.length&&_this.pasteHTML("<br \/>"),!1)}function fixFullHeight(){isMozilla||isWebkit||(bFullscreen&&_jArea.height("100%").css("height",_jArea.outerHeight()-_jTools.outerHeight()),isIE&&_jTools.hide().show())}function fixAppleSel(e){if(e=e.target,e.tagName.match(\/(img|embed)\/i)){var t=_this.getSel(),i=_this.getRng(!0);i.selectNode(e),t.removeAllRanges(),t.addRange(i)}}function xheAttr(e,t,i){if(!t)return!1;var s="_xhe_"+t;return i&&(urlType&&(i=getLocalUrl(i,urlType,urlBase)),e.attr(t,urlBase?getLocalUrl(i,"abs",urlBase):i).removeAttr(s).attr(s,i)),e.attr(s)||e.attr(t)}function clickCancelPanel(){bClickCancel&&_this.hidePanel()}function checkShortcuts(e){if(bSource)return!0;var t=e.which,i=specialKeys[t],s=i?i:String.fromCharCode(t).toLowerCase();sKey="",sKey+=e.ctrlKey?"ctrl+":"",sKey+=e.altKey?"alt+":"",sKey+=e.shiftKey?"shift+":"",sKey+=s;var a,n=arrShortCuts[sKey];for(a in n){if(a=n[a],!$.isFunction(a))return _this.exec(a),!1;if(a.call(_this)===!1)return!1}}function is(e,t){var i=typeof e;return t?"array"===t&&e.hasOwnProperty&&e instanceof Array?!0:i===t:"undefined"!=i}function getLocalUrl(e,t,i){if(e.match(\/^(\\w+):\\\/\\\/\/i)&&!e.match(\/^https?:\/i)||\/^#\/i.test(e)||\/^data:\/i.test(e))return e;var s=i?$('<a href="'+i+'" \/>')[0]:location,a=s.protocol,n=s.host,o=s.hostname,l=s.port,r=s.pathname.replace(\/\\\\\/g,"\/").replace(\/[^\\\/]+$\/i,"");if(""===l&&(l="80"),""===r?r="\/":"\/"!==r.charAt(0)&&(r="\/"+r),e=$.trim(e),"abs"!==t&&(e=e.replace(RegExp(a+"\\\\\/\\\\\/"+o.replace(\/\\.\/g,"\\\\.")+"(?::"+l+")"+("80"===l?"?":"")+"(\/|$)","i"),"\/")),"rel"===t&&(e=e.replace(RegExp("^"+r.replace(\/([\\\/\\.\\+\\[\\]\\(\\)])\/g,"\\\\$1"),"i"),"")),"rel"!==t&&(e.match(\/^(https?:\\\/\\\/|\\\/)\/i)||(e=r+e),"\/"===e.charAt(0))){var h,c,d=[],u=e.split("\/"),p=u.length;for(c=0;p>c;c++)h=u[c],".."===h?d.pop():""!==h&&"."!==h&&d.push(h);""===u[p-1]&&d.push(""),e="\/"+d.join("\/")}return"abs"!==t||e.match(\/^https?:\\\/\\\/\/i)||(e=a+"\/\/"+n+e),e=e.replace(\/(https?:\\\/\\\/[^:\\\/?#]+):80(\\\/|$)\/i,"$1$2")}function checkFileExt(e,t){return"*"===t||e.match(RegExp(".("+t.replace(\/,\/g,"|")+")$","i"))?!0:(alert(getLang("upload.extLimit",t)),!1)}function formatBytes(e){var t=["Byte","KB","MB","GB","TB","PB"],i=Math.floor(Math.log(e)\/Math.log(1024));return(e\/Math.pow(1024,Math.floor(i))).toFixed(2)+t[i]}function returnFalse(){return!1}var _this=this,_text=textarea,_jText=$(_text),_jForm=_jText.closest("form"),_jTools,_jArea,_win,_jWin,_doc,_jDoc,bookmark,bInit=!1,bSource=!1,bFullscreen=!1,bCleanPaste=!1,outerScroll,bShowBlocktag=!1,sLayoutStyle="",ev=null,timer,bDisableHoverExec=!1,bQuickHoverExec=!1,lastPoint=null,lastAngle=null,editorHeight=0,settings=_this.settings=$.extend({},XHEDITOR.settings,options),plugins=settings.plugins,strPlugins=[];if(plugins&&(arrTools=$.extend({},arrTools,plugins),$.each(plugins,function(e){strPlugins.push(e)}),strPlugins=strPlugins.join(",")),settings.tools.match(\/^\\s*(m?full|simple|mini)\\s*$\/i)){var toolsTheme=toolsThemes[$.trim(settings.tools)];settings.tools=settings.tools.match(\/m?full\/i)&&plugins?toolsTheme.replace("Table","Table,"+strPlugins):toolsTheme}settings.tools.match(\/(^|,)\\s*About\\s*(,|$)\/i)||(settings.tools+=",About"),settings.tools=settings.tools.split(","),settings.editorRoot&&(editorRoot=settings.editorRoot),bAir===!1&&(editorRoot=getLocalUrl(editorRoot,"abs")),settings.urlBase&&(settings.urlBase=getLocalUrl(settings.urlBase,"abs"));var idCSS="xheCSS_"+settings.skin,idContainer="xhe"+xCount+"_container",idTools="xhe"+xCount+"_Tool",idIframeArea="xhe"+xCount+"_iframearea",idIframe="xhe"+xCount+"_iframe",idFixFFCursor="xhe"+xCount+"_fixffcursor",headHTML="",bodyClass="",skinPath=editorRoot+"xheditor_skin\/"+settings.skin+"\/",arrEmots=itemEmots,urlType=settings.urlType,urlBase=settings.urlBase,emotPath=settings.emotPath,emotPath=emotPath?emotPath:editorRoot+"xheditor_emot\/",selEmotGroup="";arrEmots=$.extend({},arrEmots,settings.emots),emotPath=getLocalUrl(emotPath,"rel",urlBase?urlBase:null),bShowBlocktag=settings.showBlocktag,bShowBlocktag&&(bodyClass+=" showBlocktag");var arrShortCuts=[];this.init=function(){function e(e){var t,i=$(e.target);(t=i.css("width"))&&i.css("width","").attr("width",t.replace(\/[^0-9%]+\/g,"")),(t=i.css("height"))&&i.css("height","").attr("height",t.replace(\/[^0-9%]+\/g,""))}0===$("#"+idCSS).length&&$("head").append('<link id="'+idCSS+'" rel="stylesheet" type="text\/css" href="'+skinPath+'ui.css" \/>');var t=_jText.outerWidth(),i=_jText.outerHeight(),s=settings.width||_text.style.width||(t>10?t:0);editorHeight=settings.height||_text.style.height||(i>10?i:150),\/^\\d+(?:\\.\\d+)?$\/.test(s)&&(s+="px"),is(editorHeight,"string")&&(editorHeight=editorHeight.replace(\/[^\\d]+\/g,""));var a,n,o=settings.background||_text.style.background,l=['<span class="xheGStart"\/>'],r=\/\\||\\\/\/i;$.each(settings.tools,function(e,t){if(t.match(r)&&l.push('<span class="xheGEnd"\/>'),"|"===t)l.push('<span class="xheSeparator"\/>');else if("\/"===t)l.push("<br \/>");else{if(a=arrTools[t],!a)return;n=a.c?a.c:"xheIcon xheBtn"+t,l.push('<span><a href="#" title="{#'+a.t+'}" cmd="'+t+'" class="xheButton xheEnabled" tabindex="-1" role="button"><span class="'+n+'" unselectable="on" style="font-size:0;color:transparent;text-indent:-999px;">'+a.t+"<\/span><\/a><\/span>"),a.s&&_this.addShortcuts(a.s,t)}t.match(r)&&l.push('<span class="xheGStart"\/>')}),l.push('<span class="xheGEnd"\/><br \/>'),_jText.after($('<input type="text" id="'+idFixFFCursor+'" style="position:absolute;display:none;" \/><span id="'+idContainer+'" class="xhe_'+settings.skin+'" style="display:none"><table cellspacing="0" cellpadding="0" class="xheLayout" style="'+("0px"!=s?"width:"+s+";":"")+"height:"+editorHeight+'px;" role="presentation"><tr><td id="'+idTools+'" class="xheTool" unselectable="on" style="height:1px;" role="presentation"><\/td><\/tr><tr><td id="'+idIframeArea+'" class="xheIframeArea" role="presentation"><iframe frameborder="0" id="'+idIframe+'" src="javascript:;" style="width:100%;"><\/iframe><\/td><\/tr><\/table><\/span>')),_jTools=$("#"+idTools),_jArea=$("#"+idIframeArea),headHTML='<meta http-equiv="Content-Type" content="text\/html; charset=utf-8" \/><link rel="stylesheet" href="'+skinPath+'iframe.css"\/>';var h=settings.loadCSS;if(h)if(is(h,"array"))for(var c in h)headHTML+='<link rel="stylesheet" href="'+h[c]+'"\/>';else headHTML+=h.match(\/\\s*<style(\\s+[^>]*?)?>[\\s\\S]+?<\\\/style>\\s*\/i)?h:'<link rel="stylesheet" href="'+h+'"\/>';var d='<!DOCTYPE html><html xmlns="http:\/\/www.w3.org\/1999\/xhtml"><head>'+headHTML+"<title>{#defaultReadTip} "+(settings.readTip?settings.readTip:"")+"<\/title>";o&&(d+="<style>html{background:"+o+";}<\/style>"),d+='<\/head><body spellcheck="0" class="editMode'+bodyClass+'"><\/body><\/html>',_this.win=_win=$("#"+idIframe)[0].contentWindow,_jWin=$(_win);try{this.doc=_doc=_win.document,_jDoc=$(_doc),_doc.open(),_doc.write(getLang(d)),_doc.close(),isIE?_doc.body.contentEditable="true":_doc.designMode="On"}catch(u){}setTimeout(setOpts,300),_this.setSource(),_win.setInterval=null,_jTools.append(getLang(l.join(""))).bind("mousedown contextmenu",returnFalse).click(function(e){var t=$(e.target).closest("a");return t.is(".xheEnabled")&&(clearTimeout(timer),_jTools.find("a").attr("tabindex","-1"),ev=e,_this.exec(t.attr("cmd"))),!1}),_jTools.find(".xheButton").hover(function(e){var t=$(this),i=settings.hoverExecDelay,s=lastAngle;if(lastAngle=null,-1===i||bDisableHoverExec||!t.is(".xheEnabled"))return!1;if(s&&s>10)return bDisableHoverExec=!0,setTimeout(function(){bDisableHoverExec=!1},100),!1;var a=t.attr("cmd"),n=1===arrTools[a].h;return n?(bQuickHoverExec&&(i=0),i>=0&&(timer=setTimeout(function(){ev=e,lastPoint={x:ev.clientX,y:ev.clientY},_this.exec(a)},i)),undefined):(_this.hidePanel(),!1)},function(){lastPoint=null,timer&&clearTimeout(timer)}).mousemove(function(e){if(lastPoint){var t={x:e.clientX-lastPoint.x,y:e.clientY-lastPoint.y};if(Math.abs(t.x)>1||Math.abs(t.y)>1){if(t.x>0&&t.y>0){var i=Math.round(Math.atan(t.y\/t.x)\/.017453293);lastAngle=lastAngle?(lastAngle+i)\/2:i}else lastAngle=null;lastPoint={x:e.clientX,y:e.clientY}}}}),_jPanel=$("#xhePanel"),_jShadow=$("#xheShadow"),_jCntLine=$("#xheCntLine"),0===_jPanel.length&&(_jPanel=$('<div id="xhePanel"><\/div>').mousedown(function(e){e.stopPropagation()}),_jShadow=$('<div id="xheShadow"><\/div>'),_jCntLine=$('<div id="xheCntLine"><\/div>'),setTimeout(function(){$(document.body).append(_jPanel).append(_jShadow).append(_jCntLine)},10)),$("#"+idContainer).show(),_jText.hide(),_jArea.css("height",editorHeight-_jTools.outerHeight()),isIE&8>browerVer&&setTimeout(function(){_jArea.css("height",editorHeight-_jTools.outerHeight())},1),_jText.focus(_this.focus),_jForm.submit(saveResult).bind("reset",loadReset),settings.submitID&&$("#"+settings.submitID).mousedown(saveResult),$(window).bind("unload beforeunload",saveResult).bind("resize",fixFullHeight),$(document).mousedown(clickCancelPanel),bCheckEscInit||($(document).keydown(checkEsc),bCheckEscInit=!0),_jWin.focus(function(){settings.focus&&settings.focus()}).blur(function(){settings.blur&&settings.blur()}),isWebkit&&_jWin.click(fixAppleSel),_jDoc.mousedown(clickCancelPanel).keydown(checkShortcuts).keypress(forcePtag).dblclick(checkDblClick).bind("mousedown click",function(e){_jText.trigger(e.type)}),isIE&&(_jDoc.keydown(function(e){var t=_this.getRng();return 8===e.which&&t.item?($(t.item(0)).remove(),!1):undefined}),_jDoc.bind("controlselect",function(t){t=t.target,$.nodeName(t,"IMG")&&$(t).unbind("resizeend",e).bind("resizeend",e)})),_jDoc.keydown(function(e){var t=e.which;return e.altKey&&t>=49&&57>=t?(_jTools.find("a").attr("tabindex","0"),_jTools.find(".xheGStart").eq(t-49).next().find("a").focus(),_doc.title="\\ufeff\\ufeff",!1):undefined}).click(function(){_jTools.find("a").attr("tabindex","-1")}),_jTools.keydown(function(e){var t=e.which;if(27==t)_jTools.find("a").attr("tabindex","-1"),_this.focus();else if(e.altKey&&t>=49&&57>=t)return _jTools.find(".xheGStart").eq(t-49).next().find("a").focus(),!1});var p=$(_doc.documentElement);isOpera?p.bind("keydown",function(e){e.ctrlKey&&86===e.which&&cleanPaste()}):p.bind(isIE?"beforepaste":"paste",cleanPaste),settings.disableContextmenu&&p.bind("contextmenu",returnFalse),settings.html5Upload&&p.bind("dragenter dragover",function(e){var t;return(t=e.originalEvent.dataTransfer.types)&&-1!==$.inArray("Files",t)?!1:undefined}).bind("drop",function(e){function t(e){var t,i,s;for(a=0;e.length>a;a++){if(i=e[a].name.replace(\/.+\\.\/,""),!(t=o.match(RegExp("(\\\\w+):[^:]*,"+i+"(?:,|$)","i"))))return 1;if(s){if(s!==t[1])return 2}else s=t[1]}return s}var i,s=e.originalEvent.dataTransfer;if(s&&(i=s.files)&&i.length>0){var a,n,o,l=["Link","Img","Flash","Media"],r=[];for(a in l)n=l[a],settings["up"+n+"Url"]&&settings["up"+n+"Url"].match(\/^[^!].*\/i)&&r.push(n+":,"+settings["up"+n+"Ext"]);return 0===r.length?!1:(o=r.join(","),n=t(i),1===n?alert(getLang("upload.extLimit",o.replace(\/\\w+:,\/g,""))):2===n?alert(getLang("upload.typeLimit")):n&&_this.startUpload(i,settings["up"+n+"Url"],"*",function(e){var t,i=[],s=settings.onUpload;s&&s(e);for(var a=0,o=e.length;o>a;a++)t=e[a],url=is(t,"string")?t:t.url,"!"===url.substr(0,1)&&(url=url.substr(1)),i.push(url);_this.exec(n),$("#xhe"+n+"Url").val(i.join(" ")),$("#xheSave").click()}),!1)}});var g=settings.shortcuts;g&&$.each(g,function(e,t){_this.addShortcuts(e,t)}),xCount++,bInit=!0,settings.fullscreen?_this.toggleFullscreen():settings.sourceMode&&setTimeout(_this.toggleSource,20);var f=settings.plugins;return f&&$.each(f,function(e,t){var i=t.i;i!==undefined&&i(_this)}),!0},this.remove=function(){_this.hidePanel(),saveResult(),_jText.unbind("focus",_this.focus),_jForm.unbind("submit",saveResult).unbind("reset",loadReset),settings.submitID&&$("#"+settings.submitID).unbind("mousedown",saveResult),$(window).unbind("unload beforeunload",saveResult).unbind("resize",fixFullHeight),$(document).unbind("mousedown",clickCancelPanel),$("#"+idContainer).remove(),$("#"+idFixFFCursor).remove(),_jText.show(),bInit=!1},this.saveBookmark=function(){if(!bSource){_this.focus();var e=_this.getRng();e=e.cloneRange?e.cloneRange():e,bookmark={top:_jWin.scrollTop(),rng:e}}},this.loadBookmark=function(){if(!bSource&&bookmark){_this.focus();var e=bookmark.rng;if(isIE)e.select();else{var t=_this.getSel();t.removeAllRanges(),t.addRange(e)}_jWin.scrollTop(bookmark.top),bookmark=null}},this.focus=function(){if(bSource?$("#sourceCode",_doc).focus():_win.focus(),isIE){var e=_this.getRng();e.parentElement&&e.parentElement().ownerDocument!==_doc&&_this.setTextCursor()}return!1},this.setTextCursor=function(e){var t=_this.getRng(!0),i=_doc.body;if(isIE)t.moveToElementText(i);else{for(var s=e?"lastChild":"firstChild";3!=i.nodeType&&i[s];)i=i[s];t.selectNode(i)}if(t.collapse(e?!1:!0),isIE)t.select();else{var a=_this.getSel();a.removeAllRanges(),a.addRange(t)}},this.getSel=function(){return _doc.selection?_doc.selection:_win.getSelection()},this.getRng=function(e){var t,i;try{e||(t=_this.getSel(),i=t.createRange?t.createRange():t.rangeCount>0?t.getRangeAt(0):null),i||(i=_doc.body.createTextRange?_doc.body.createTextRange():_doc.createRange())}catch(s){}return i},this.getParent=function(e){var t,i=_this.getRng();return isIE?t=i.item?i.item(0):i.parentElement():(t=i.commonAncestorContainer,i.collapsed||i.startContainer===i.endContainer&&2>i.startOffset-i.endOffset&&i.startContainer.hasChildNodes()&&(t=i.startContainer.childNodes[i.startOffset])),e=e?e:"*",t=$(t),t.is(e)||(t=$(t).closest(e)),t},this.getSelect=function(e){var t=_this.getSel(),i=_this.getRng(),s=!0;if(s=!i||i.item?!1:!t||0===i.boundingWidth||i.collapsed,"text"===e)return s?"":i.text||(t.toString?""+t:"");var a;if(i.cloneContents){var n,o=$("<div><\/div>");n=i.cloneContents(),n&&o.append(n),a=o.html()}else a=is(i.item)?i.item(0).outerHTML:is(i.htmlText)?i.htmlText:""+i;return s&&(a=""),a=_this.processHTML(a,"read"),a=_this.cleanHTML(a),a=_this.formatXHTML(a)},this.pasteHTML=function(e,t){if(bSource)return!1;_this.focus(),e=_this.processHTML(e,"write");var i=_this.getSel(),s=_this.getRng();if(t!==undefined){if(s.item){var a=s.item(0);s=_this.getRng(!0),s.moveToElementText(a),s.select()}s.collapse(t)}if(e+="<"+(isIE?"img":"span")+' id="_xhe_temp" width="0" height="0" \/>',s.insertNode){if($(s.startContainer).closest("style,script").length>0)return!1;s.deleteContents(),s.insertNode(s.createContextualFragment(e))}else"control"===i.type.toLowerCase()&&(i.clear(),s=_this.getRng()),s.pasteHTML(e);var n=$("#_xhe_temp",_doc),o=n[0];isIE?(s.moveToElementText(o),s.select()):(s.selectNode(o),i.removeAllRanges(),i.addRange(s)),n.remove()},this.pasteText=function(e,t){e||(e=""),e=_this.domEncode(e),e=e.replace(\/\\r?\\n\/g,"<br \/>"),_this.pasteHTML(e,t)},this.appendHTML=function(e){return bSource?!1:(_this.focus(),e=_this.processHTML(e,"write"),$(_doc.body).append(e),_this.setTextCursor(!0),undefined)},this.domEncode=function(e){return e.replace(regEntities,function(e){return arrEntities[e]})},this.setSource=function(e){bookmark=null,"string"!=typeof e&&""!==e&&(e=_text.value),bSource?$("#sourceCode",_doc).val(e):(settings.beforeSetSource&&(e=settings.beforeSetSource(e)),e=_this.cleanHTML(e),e=_this.formatXHTML(e),e=_this.processHTML(e,"write"),isIE?(_doc.body.innerHTML='<img id="_xhe_temp" width="0" height="0" \/>'+e,$("#_xhe_temp",_doc).remove()):_doc.body.innerHTML=e)},this.processHTML=function(e,t){function i(e,t,i,s,a,o){var l,r,h,c,d="";if(l=s.match(\/font-family\\s*:\\s*([^;"]+)\/i),l&&(d+=' face="'+l[1]+'"'),r=s.match(\/font-size\\s*:\\s*([^;"]+)\/i)){r=r[1].toLowerCase();for(var u=0;n.length>u;u++)if(r===n[u].n||r===n[u].s){h=u+1;break}h&&(d+=' size="'+h+'"',s=s.replace(\/(^|;)(\\s*font-size\\s*:\\s*[^;"]+;?)+\/gi,"$1"))}if(c=s.match(\/(?:^|[\\s;])color\\s*:\\s*([^;"]+)\/i)){var p;if(p=c[1].match(\/\\s*rgb\\s*\\(\\s*(\\d+)\\s*,\\s*(\\d+)\\s*,\\s*(\\d+)\\s*\\)\/i)){c[1]="#";for(var g=1;3>=g;g++)c[1]+=("0"+(p[g]-0).toString(16)).slice(-2)}c[1]=c[1].replace(\/^#([0-9a-f])([0-9a-f])([0-9a-f])$\/i,"#$1$1$2$2$3$3"),d+=' color="'+c[1]+'"'}return s=s.replace(\/(^|;)(\\s*(font-family|color)\\s*:\\s*[^;"]+;?)+\/gi,"$1"),""!==d?(s&&(d+=' style="'+s+'"'),"<font"+(i?i:"")+d+(a?a:"")+">"+o+"<\/font>"):e}function s(e,t,i,s,a){for(var n,l,r=(i?i:"")+(s?s:""),h=[],c=[],d=0;o.length>d;d++)n=o[d].r,l=o[d].t,r=r.replace(n,function(){return h.push("<"+l+">"),c.push("<\/"+l+">"),""});return r=r.replace(\/\\s+style\\s*=\\s*"\\s*"\/i,""),(r?"<span"+r+">":"")+h.join("")+a+c.join("")+(r?"<\/span>":"")}var a=' class="Apple-style-span"',n=settings.listFontsize;if("write"===t)e=e.replace(\/(<(\\\/?)(\\w+))((?:\\s+[\\w\\-:]+\\s*=\\s*(?:"[^"]*"|'[^']*'|[^>\\s]+))*)\\s*((\\\/?)>)\/g,function(e,t,i,s,n,o,l){s=s.toLowerCase(),isMozilla?"strong"===s?s="b":"em"===s&&(s="i"):isWebkit&&("strong"===s?(s="span",i||(n+=a+' style="font-weight: bold;"')):"em"===s?(s="span",i||(n+=a+' style="font-style: italic;"')):"u"===s?(s="span",i||(n+=a+' style="text-decoration: underline;"')):"strike"===s&&(s="span",i||(n+=a+' style="text-decoration: line-through;"')));var r,h="";if("del"===s)s="strike";else if("img"===s)n=n.replace(\/\\s+emot\\s*=\\s*("[^"]*"|'[^']*'|[^>\\s]+)\/i,function(e,t){return r=t.match(\/^(["']?)(.*)\\1\/)[2],r=r.split(","),r[1]||(r[1]=r[0],r[0]=""),"default"===r[0]&&(r[0]=""),settings.emotMark?e:""});else if("a"===s)!n.match(\/ href=[^ ]\/i)&&n.match(\/ name=[^ ]\/i)&&(h+=" xhe-anchor"),l&&(o="><\/a>");else if("table"===s&&!i){var c=n.match(\/\\s+border\\s*=\\s*("[^"]*"|'[^']*'|[^>\\s]+)\/i);(!c||c[1].match(\/^(["']?)\\s*0\\s*\\1$\/))&&(h+=" xhe-border")}var d;if(n=n.replace(\/\\s+([\\w\\-:]+)\\s*=\\s*("[^"]*"|'[^']*'|[^>\\s]+)\/g,function(e,t,i){return t=t.toLowerCase(),i=i.match(\/^(["']?)(.*)\\1\/)[2],aft="",isIE&&t.match(\/^(disabled|checked|readonly|selected)$\/)&&i.match(\/^(false|0)$\/i)?"":"img"===s&&r&&"src"===t?"":(t.match(\/^(src|href)$\/)&&(aft=" _xhe_"+t+'="'+i+'"',urlBase&&(i=getLocalUrl(i,"abs",urlBase))),h&&"class"===t&&(i+=" "+h,h=""),isWebkit&&"style"===t&&"span"===s&&i.match(\/(^|;)\\s*(font-family|font-size|color|background-color)\\s*:\\s*[^;]+\\s*(;|$)\/i)&&(d=!0)," "+t+'="'+i+'"'+aft)}),r){var u=emotPath+(r[0]?r[0]:"default")+"\/"+r[1]+".gif";n+=' src="'+u+'" _xhe_src="'+u+'"'}return d&&(n+=a),h&&(n+=' class="'+h+'"'),"<"+i+s+n+o}),isIE&&(e=e.replace(\/&apos;\/gi,"&#39;")),isWebkit||(e=e.replace(\/<(span)(\\s+[^>]*?)?\\s+style\\s*=\\s*"((?:[^"]*?;)?\\s*(?:font-family|font-size|color)\\s*:[^"]*)"( [^>]*)?>(((?!<\\1(\\s+[^>]*?)?>)[\\s\\S]|<\\1(\\s+[^>]*?)?>((?!<\\1(\\s+[^>]*?)?>)[\\s\\S]|<\\1(\\s+[^>]*?)?>((?!<\\1(\\s+[^>]*?)?>)[\\s\\S])*?<\\\/\\1>)*?<\\\/\\1>)*?)<\\\/\\1>\/gi,i),e=e.replace(\/<(span)(\\s+[^>]*?)?\\s+style\\s*=\\s*"((?:[^"]*?;)?\\s*(?:font-family|font-size|color)\\s*:[^"]*)"( [^>]*)?>(((?!<\\1(\\s+[^>]*?)?>)[\\s\\S]|<\\1(\\s+[^>]*?)?>((?!<\\1(\\s+[^>]*?)?>)[\\s\\S])*?<\\\/\\1>)*?)<\\\/\\1>\/gi,i),e=e.replace(\/<(span)(\\s+[^>]*?)?\\s+style\\s*=\\s*"((?:[^"]*?;)?\\s*(?:font-family|font-size|color)\\s*:[^"]*)"( [^>]*)?>(((?!<\\1(\\s+[^>]*?)?>)[\\s\\S])*?)<\\\/\\1>\/gi,i)),e=e.replace(\/<(td|th)(\\s+[^>]*?)?>(\\s|&nbsp;)*<\\\/\\1>\/gi,"<$1$2>"+(isIE?"":"<br \/>")+"<\/$1>");else{if(isWebkit)for(var o=[{r:\/font-weight\\s*:\\s*bold;?\/gi,t:"strong"},{r:\/font-style\\s*:\\s*italic;?\/gi,t:"em"},{r:\/text-decoration\\s*:\\s*underline;?\/gi,t:"u"},{r:\/text-decoration\\s*:\\s*line-through;?\/gi,t:"strike"}],l=0;2>l;l++)e=e.replace(\/<(span)(\\s+[^>]*?)?\\s+class\\s*=\\s*"Apple-style-span"(\\s+[^>]*?)?>(((?!<\\1(\\s+[^>]*?)?>)[\\s\\S]|<\\1(\\s+[^>]*?)?>((?!<\\1(\\s+[^>]*?)?>)[\\s\\S]|<\\1(\\s+[^>]*?)?>((?!<\\1(\\s+[^>]*?)?>)[\\s\\S])*?<\\\/\\1>)*?<\\\/\\1>)*?)<\\\/\\1>\/gi,s),e=e.replace(\/<(span)(\\s+[^>]*?)?\\s+class\\s*=\\s*"Apple-style-span"(\\s+[^>]*?)?>(((?!<\\1(\\s+[^>]*?)?>)[\\s\\S]|<\\1(\\s+[^>]*?)?>((?!<\\1(\\s+[^>]*?)?>)[\\s\\S])*?<\\\/\\1>)*?)<\\\/\\1>\/gi,s),e=e.replace(\/<(span)(\\s+[^>]*?)?\\s+class\\s*=\\s*"Apple-style-span"(\\s+[^>]*?)?>(((?!<\\1(\\s+[^>]*?)?>)[\\s\\S])*?)<\\\/\\1>\/gi,s);e=e.replace(\/(<(\\w+))((?:\\s+[\\w\\-:]+\\s*=\\s*(?:"[^"]*"|'[^']*'|[^>\\s]+))*)\\s*(\\\/?>)\/g,function(e,t,i,s,a){i=i.toLowerCase();$/;"	f
isHiddenNode	js/xheditor_plugins/htmldomparser.js	/^function isHiddenNode(node) {$/;"	f
isIE	application/views/printindex.php	/^function isIE() {$/;"	f
isNewMessage	application/models/mess.php	/^	public function isNewMessage($user_id)$/;"	f
isPc	js/art.js	/^var isPc,showUp;$/;"	v
is_ajax_request	system/core/Input.php	/^	public function is_ajax_request()$/;"	f
is_allowed_dimensions	system/libraries/Upload.php	/^	public function is_allowed_dimensions()$/;"	f
is_allowed_filesize	system/libraries/Upload.php	/^	public function is_allowed_filesize()$/;"	f
is_allowed_filetype	system/libraries/Upload.php	/^	public function is_allowed_filetype($ignore_mime = FALSE)$/;"	f
is_array	system/libraries/Form_validation.php	/^			$is_array	= FALSE;$/;"	v
is_array	system/libraries/Form_validation.php	/^			$is_array = TRUE;$/;"	v
is_browser	system/libraries/User_agent.php	/^					$this->is_browser = TRUE;$/;"	v
is_browser	system/libraries/User_agent.php	/^	public function is_browser($key = NULL)$/;"	f
is_browser	system/libraries/User_agent.php	/^	var $is_browser	= FALSE;$/;"	v
is_cli_request	system/core/Input.php	/^	public function is_cli_request()$/;"	f
is_current_month	system/libraries/Calendar.php	/^		$is_current_month = ($cur_year == $year AND $cur_month == $month) ? TRUE : FALSE;$/;"	v
is_duplicate	system/core/Loader.php	/^					$is_duplicate = TRUE;$/;"	v
is_duplicate	system/core/Loader.php	/^			$is_duplicate = FALSE;$/;"	v
is_false	system/libraries/Unit_test.php	/^function is_false($test)$/;"	f
is_image	system/core/Security.php	/^	public function xss_clean($str, $is_image = FALSE)$/;"	v
is_image	system/helpers/security_helper.php	/^	function xss_clean($str, $is_image = FALSE)$/;"	v
is_image	system/libraries/Upload.php	/^	public $is_image				= FALSE;$/;"	v
is_image	system/libraries/Upload.php	/^	public function is_image()$/;"	f
is_int	system/database/drivers/mysql/mysql_utility.php	/^			$is_int = array();$/;"	v
is_key	system/libraries/Javascript.php	/^	function _prep_args($result, $is_key = FALSE)$/;"	v
is_loaded	system/core/Common.php	/^	function is_loaded($class = '')$/;"	f
is_loaded	system/core/Config.php	/^	var $is_loaded = array();$/;"	v
is_loaded	system/core/Lang.php	/^	var $is_loaded	= array();$/;"	v
is_loaded	system/core/Loader.php	/^	public function is_loaded($class)$/;"	f
is_mobile	system/libraries/User_agent.php	/^					$this->is_mobile = TRUE;$/;"	v
is_mobile	system/libraries/User_agent.php	/^	public function is_mobile($key = NULL)$/;"	f
is_mobile	system/libraries/User_agent.php	/^	var $is_mobile	= FALSE;$/;"	v
is_natural	system/libraries/Form_validation.php	/^	public function is_natural($str)$/;"	f
is_natural_no_zero	system/libraries/Form_validation.php	/^	public function is_natural_no_zero($str)$/;"	f
is_numeric	system/libraries/Form_validation.php	/^	public function is_numeric($str)$/;"	f
is_php	system/core/Common.php	/^	function is_php($version = '5.0.0')$/;"	f
is_really_writable	system/core/Common.php	/^	function is_really_writable($file)$/;"	f
is_referral	system/libraries/User_agent.php	/^	public function is_referral()$/;"	f
is_robot	system/libraries/User_agent.php	/^					$this->is_robot = TRUE;$/;"	v
is_robot	system/libraries/User_agent.php	/^	public function is_robot($key = NULL)$/;"	f
is_robot	system/libraries/User_agent.php	/^	var $is_robot	= FALSE;$/;"	v
is_supported	system/libraries/Cache/Cache.php	/^	public function is_supported($driver)$/;"	f
is_supported	system/libraries/Cache/drivers/Cache_apc.php	/^	public function is_supported()$/;"	f
is_supported	system/libraries/Cache/drivers/Cache_dummy.php	/^	public function is_supported()$/;"	f
is_supported	system/libraries/Cache/drivers/Cache_file.php	/^	public function is_supported()$/;"	f
is_supported	system/libraries/Cache/drivers/Cache_memcached.php	/^	public function is_supported()$/;"	f
is_true	system/libraries/Unit_test.php	/^function is_true($test)$/;"	f
is_unique	system/libraries/Form_validation.php	/^	public function is_unique($str, $field)$/;"	f
is_unsigned	system/database/drivers/postgre/postgre_forge.php	/^				$is_unsigned = (array_key_exists('UNSIGNED', $attributes) && $attributes['UNSIGNED'] === TRUE);$/;"	v
is_write_type	system/database/DB_driver.php	/^	function is_write_type($sql)$/;"	f
iso8601_decode	system/libraries/Xmlrpc.php	/^	function iso8601_decode($time, $utc=0)$/;"	f
iso8601_encode	system/libraries/Xmlrpc.php	/^	function iso8601_encode($time, $utc=0)$/;"	f
item	application/controllers/bg/item.php	/^class item extends MY_Controller$/;"	c
item	application/controllers/item.php	/^class item extends MY_Controller$/;"	c
item	application/views/myorder.php	/^                $item = $cart[$cnt]["item"];$/;"	v
item	application/views/order.php	/^                $item = $cart[$cnt]["item"];$/;"	v
item	system/core/Config.php	/^	function item($item, $index = '')$/;"	f
item	system/database/DB_active_rec.php	/^		foreach ($ar_reset_items as $item => $default_value)$/;"	v
item	system/database/DB_driver.php	/^					$item = implode('.', $parts);$/;"	v
item	system/database/DB_driver.php	/^				$item = $this->_escape_identifiers($item);$/;"	v
item	system/database/DB_driver.php	/^				$item = $this->dbprefix.$item;$/;"	v
item	system/database/DB_driver.php	/^				$item = implode('.', $parts);$/;"	v
item	system/database/DB_driver.php	/^				$item = preg_replace("\/^".$this->swap_pre."(\\S+?)\/", $this->dbprefix."\\\\1", $item);$/;"	v
item	system/database/DB_driver.php	/^			$item = $this->_escape_identifiers($item);$/;"	v
item	system/database/DB_driver.php	/^			$item = substr($item, 0, - strlen($alias));$/;"	v
item	system/database/DB_driver.php	/^		$item = preg_replace('\/[\\t ]+\/', ' ', $item);$/;"	v
itemCom	application/controllers/bg/item.php	/^    public function itemCom()$/;"	f
itemadd	application/controllers/bg/home.php	/^    function itemadd(){$/;"	f
items	system/helpers/array_helper.php	/^			$items = array($items);$/;"	v
items	system/libraries/Cart.php	/^		$items = 0;$/;"	v
j	application/views/dir.php	/^                    <?php foreach ($vi as $j => $vj):?>$/;"	v
j	system/libraries/Encrypt.php	/^				$j = 0;$/;"	v
j	system/libraries/Encrypt.php	/^		for ($i = 0, $j = 0, $len = strlen($data); $i < $len; ++$i, ++$j)$/;"	v
jQuery.alet	application/views/bgcom.php	/^jQuery.alet = function (cont) {\/\/给出各种提示的函数，和alert不同，这个过1s就消失$/;"	j
jQuery.alet	js/art.js	/^jQuery.alet = function (cont) {\/\/给出各种提示的函数，和alert不同，这个过1s就消失$/;"	f
jQuery.alet	js/cookie.js	/^jQuery.alet = function (cont) {\/\/给出各种提示的函数，和alert不同，这个过1s就消失$/;"	f
jQuery.alet	js/msea.js	/^jQuery.alet = function (cont) {\/\/给出各种提示的函数，和alert不同，这个过1s就消失$/;"	f
jQuery.alet	js/order.js	/^jQuery.alet = function (cont) {\/\/给出各种提示的函数，和alert不同，这个过1s就消失$/;"	f
jQuery.alet.css.width	js/art.js	/^        width:'200px'$/;"	p
jQuery.alet.css.width	js/cookie.js	/^		width:'200px'$/;"	p
jQuery.alet.css.width	js/msea.js	/^        width:'200px'$/;"	p
jQuery.alet.css.width	js/order.js	/^        width:'200px'$/;"	p
jQuery.cookie	js/art.js	/^jQuery.cookie = function(name, value, options) {$/;"	f
jQuery.cookie	js/cookie.js	/^jQuery.cookie = function(name, value, options) {$/;"	f
javascript	system/helpers/url_helper.php	/^	function _parse_attributes($attributes, $javascript = FALSE)$/;"	v
join	system/database/DB_active_rec.php	/^		$join = $type.'JOIN '.$this->_protect_identifiers($table, TRUE, NULL, FALSE).' ON '.$cond;$/;"	v
join	system/database/DB_active_rec.php	/^	public function join($table, $cond, $type = '')$/;"	f
joke	application/views/info.php	/^	$joke = array("空是一种境界","也是一门艺术","更是一门学问" );$/;"	v
jpeg_mimes	system/libraries/Upload.php	/^		$jpeg_mimes = array('image\/jpg', 'image\/jpe', 'image\/jpeg', 'image\/pjpeg');$/;"	v
jquery_ajax_img	system/libraries/javascript/Jquery.php	/^	var $jquery_ajax_img = '';$/;"	v
jquery_code_for_compile	system/libraries/javascript/Jquery.php	/^		$this->jquery_code_for_compile = array();$/;"	v
jquery_code_for_compile	system/libraries/javascript/Jquery.php	/^	var $jquery_code_for_compile = array();$/;"	v
jquery_code_for_load	system/libraries/javascript/Jquery.php	/^	var $jquery_code_for_load = array();$/;"	v
jquery_corner_active	system/libraries/javascript/Jquery.php	/^	var $jquery_corner_active = FALSE;$/;"	v
jquery_table_sorter_active	system/libraries/javascript/Jquery.php	/^	var $jquery_table_sorter_active = FALSE;$/;"	v
jquery_table_sorter_pager_active	system/libraries/javascript/Jquery.php	/^	var $jquery_table_sorter_pager_active = FALSE;$/;"	v
js	system/libraries/Javascript.php	/^		$this->js =& $this->CI->$js_library_driver;$/;"	v
js	system/libraries/Javascript.php	/^	function blur($element = 'this', $js = '')$/;"	v
js	system/libraries/Javascript.php	/^	function change($element = 'this', $js = '')$/;"	v
js	system/libraries/Javascript.php	/^	function click($element = 'this', $js = '', $ret_false = TRUE)$/;"	v
js	system/libraries/Javascript.php	/^	function dblclick($element = 'this', $js = '')$/;"	v
js	system/libraries/Javascript.php	/^	function error($element = 'this', $js = '')$/;"	v
js	system/libraries/Javascript.php	/^	function focus($element = 'this', $js = '')$/;"	v
js	system/libraries/Javascript.php	/^	function keydown($element = 'this', $js = '')$/;"	v
js	system/libraries/Javascript.php	/^	function keyup($element = 'this', $js = '')$/;"	v
js	system/libraries/Javascript.php	/^	function load($element = 'this', $js = '')$/;"	v
js	system/libraries/Javascript.php	/^	function mousedown($element = 'this', $js = '')$/;"	v
js	system/libraries/Javascript.php	/^	function mouseout($element = 'this', $js = '')$/;"	v
js	system/libraries/Javascript.php	/^	function mouseover($element = 'this', $js = '')$/;"	v
js	system/libraries/Javascript.php	/^	function mouseup($element = 'this', $js = '')$/;"	v
js	system/libraries/Javascript.php	/^	function resize($element = 'this', $js = '')$/;"	v
js	system/libraries/Javascript.php	/^	function scroll($element = 'this', $js = '')$/;"	v
js	system/libraries/Javascript.php	/^	function unload($element = 'this', $js = '')$/;"	v
js	system/libraries/ckeditor.php	/^		$js = $this->returnGlobalEvents();$/;"	v
js	system/libraries/javascript/Jquery.php	/^			$js = array ($js);$/;"	v
js	system/libraries/javascript/Jquery.php	/^			$js = array($js);$/;"	v
js	system/libraries/javascript/Jquery.php	/^			$js = implode("\\n\\t\\t", $js);$/;"	v
js	system/libraries/javascript/Jquery.php	/^	function _blur($element = 'this', $js = '')$/;"	v
js	system/libraries/javascript/Jquery.php	/^	function _change($element = 'this', $js = '')$/;"	v
js	system/libraries/javascript/Jquery.php	/^	function _click($element = 'this', $js = '', $ret_false = TRUE)$/;"	v
js	system/libraries/javascript/Jquery.php	/^	function _dblclick($element = 'this', $js = '')$/;"	v
js	system/libraries/javascript/Jquery.php	/^	function _error($element = 'this', $js = '')$/;"	v
js	system/libraries/javascript/Jquery.php	/^	function _focus($element = 'this', $js = '')$/;"	v
js	system/libraries/javascript/Jquery.php	/^	function _keydown($element = 'this', $js = '')$/;"	v
js	system/libraries/javascript/Jquery.php	/^	function _keyup($element = 'this', $js = '')$/;"	v
js	system/libraries/javascript/Jquery.php	/^	function _load($element = 'this', $js = '')$/;"	v
js	system/libraries/javascript/Jquery.php	/^	function _mousedown($element = 'this', $js = '')$/;"	v
js	system/libraries/javascript/Jquery.php	/^	function _mouseout($element = 'this', $js = '')$/;"	v
js	system/libraries/javascript/Jquery.php	/^	function _mouseover($element = 'this', $js = '')$/;"	v
js	system/libraries/javascript/Jquery.php	/^	function _mouseup($element = 'this', $js = '')$/;"	v
js	system/libraries/javascript/Jquery.php	/^	function _resize($element = 'this', $js = '')$/;"	v
js	system/libraries/javascript/Jquery.php	/^	function _scroll($element = 'this', $js = '')$/;"	v
js	system/libraries/javascript/Jquery.php	/^	function _unload($element = 'this', $js = '')$/;"	v
jsEncode	system/libraries/ckeditor.php	/^	private function jsEncode($val)$/;"	f
js_insert_smiley	system/helpers/smiley_helper.php	/^	function js_insert_smiley($form_name = '', $form_field = '')$/;"	f
jsattr	application/views/item.php	/^    $jsattr = $attr[1];$/;"	v
jsattr	application/views/item.php	/^    else $jsattr = "";$/;"	v
json	system/libraries/Javascript.php	/^		$json = array();$/;"	v
json	system/libraries/Javascript.php	/^		$json = implode(',', $json);$/;"	v
jsonString	application/controllers/write.php	/^    function jsonString($str)$/;"	f
json_result	system/libraries/Javascript.php	/^				$json_result = $result->result_array();$/;"	v
json_result	system/libraries/Javascript.php	/^				$json_result = $result;$/;"	v
judge	application/controllers/spacePhoto.php	/^	public function judge($imgId)$/;"	f
judgeData	application/controllers/spacePhoto.php	/^	private  function judgeData($imgId)$/;"	f
judgePhp	application/controllers/spacePhoto.php	/^	public function judgePhp($imgId)$/;"	f
judgesame	application/models/img.php	/^    function judgesame($name){$/;"	f
judgesame	application/models/mhome.php	/^	function judgesame($name){$/;"	f
k	system/database/DB_active_rec.php	/^					$k = $this->_protect_identifiers($k, FALSE, $escape);$/;"	v
k	system/database/DB_active_rec.php	/^				$k = $this->_protect_identifiers($k);$/;"	v
k	system/database/DB_active_rec.php	/^				$k = $this->_protect_identifiers($k, FALSE, $escape);$/;"	v
k	system/database/DB_active_rec.php	/^			$k = $this->_protect_identifiers($k);$/;"	v
k	system/database/DB_active_rec.php	/^		foreach ($field as $k => $v)$/;"	v
k	system/database/DB_active_rec.php	/^		foreach ($key as $k => $v)$/;"	v
k	system/database/DB_driver.php	/^			foreach ($item as $k => $v)$/;"	v
k	system/database/DB_forge.php	/^		foreach ($field as $k => $v)$/;"	v
k	system/database/DB_result.php	/^			foreach ($key as $k => $v)$/;"	v
k	system/database/drivers/cubrid/cubrid_driver.php	/^		foreach ($final as $k => $v)$/;"	v
k	system/database/drivers/mysql/mysql_driver.php	/^		foreach ($final as $k => $v)$/;"	v
k	system/database/drivers/mysqli/mysqli_driver.php	/^		foreach ($final as $k => $v)$/;"	v
k	system/database/drivers/odbc/odbc_result.php	/^			foreach ($rs as $k=>$v) {$/;"	v
k	system/database/drivers/pdo/pdo_driver.php	/^		foreach ($final as $k => $v)$/;"	v
k	system/helpers/form_helper.php	/^				$k = (is_int($k)) ? '' : $k;$/;"	v
k	system/helpers/form_helper.php	/^			foreach ($value as $k => $v)$/;"	v
k	system/helpers/html_helper.php	/^				$img .= " $k=\\"$v\\"";$/;"	v
k	system/helpers/html_helper.php	/^			foreach ($href as $k=>$v)$/;"	v
k	system/helpers/html_helper.php	/^		foreach ($src as $k=>$v)$/;"	v
k	system/libraries/Form_validation.php	/^						foreach ($row['postdata'] as $k => $v)$/;"	v
k	system/libraries/Javascript.php	/^		foreach ($json_result as $k => $v)$/;"	v
k	system/libraries/Unit_test.php	/^					foreach ($val as $k => $v)$/;"	v
k	system/libraries/ckeditor.php	/^			foreach ($val as $k => $v){$/;"	v
k	system/libraries/javascript/Jquery.php	/^			foreach ($options as $k=>$v)$/;"	v
k2	system/database/DB_active_rec.php	/^			foreach ($v as $k2 => $v2)$/;"	v
keep_flashdata	system/libraries/Session.php	/^	function keep_flashdata($key)$/;"	f
key	application/controllers/HttpClient.class.php	/^    		foreach ($data as $key => $val) {$/;"	v
key	application/controllers/HttpClient.class.php	/^    	        $key = strtolower(trim($m[1]));$/;"	v
key	application/controllers/HttpClient.class.php	/^    	    foreach ($this->cookies as $key => $value) {$/;"	v
key	application/controllers/checkcode.php	/^        foreach ($arr as $key => $val) {$/;"	v
key	application/controllers/map.php	/^		$key = preg_split("\/[^\\x{4e00}-\\x{9fa5}0-9a-zA-Z]+\/u",$key);\/\/以非汉字，数字，字母为分界点开始分割;$/;"	v
key	application/controllers/map.php	/^		$key = trim($_GET["key"]);\/\/keyword$/;"	v
key	application/controllers/sea.php	/^            $key = $this->getSubItem($key[0]);$/;"	v
key	application/controllers/sea.php	/^            $key = $this->keyPreDel($keyword);$/;"	v
key	application/controllers/sea.php	/^        $key = preg_split("\/[^\\x{4e00}-\\x{9fa5}0-9a-zA-Z]+\/u",$key);\/\/以非汉字，数字，字母为分界点开始分割;$/;"	v
key	application/controllers/search.php	/^		$key = preg_split("\/[^\\x{4e00}-\\x{9fa5}0-9a-zA-Z]+\/u",$keyword);\/\/以非汉字，数字，字母为分界点开始分割;$/;"	v
key	application/controllers/space.php	/^            $key = join(",",$key);$/;"	v
key	application/controllers/space.php	/^        foreach ($arr as $key => $val) {$/;"	v
key	application/controllers/write.php	/^        $key = trim($this->input->post("keyj"));$/;"	v
key	application/controllers/write.php	/^        $key = trim($this->input->post("keyk"));$/;"	v
key	application/controllers/write.php	/^        $key = trim($this->input->post("part"));$/;"	v
key	application/core/MY_Controller.php	/^            $key = join(",",$key);$/;"	v
key	application/views/Cwrite.php	/^					<?php foreach ($dir as $key => $value):?>$/;"	v
key	application/views/mBgItemAdd.php	/^            <?php foreach ($dir as $key => $value):?>$/;"	v
key	application/views/wChange.php	/^					<?php foreach ($dir as $key => $value):?>$/;"	v
key	system/core/Common.php	/^			foreach ($replace as $key => $val)$/;"	v
key	system/core/Config.php	/^				foreach ($uri as $key => $val)$/;"	v
key	system/core/Config.php	/^			foreach ($items as $key => $val)$/;"	v
key	system/core/Input.php	/^				foreach ($_GET as $key => $val)$/;"	v
key	system/core/Input.php	/^				foreach ($global as $key => $val)$/;"	v
key	system/core/Input.php	/^			$key = str_replace(' ', '-', ucwords($key));$/;"	v
key	system/core/Input.php	/^			$key = str_replace('_', ' ', strtolower($key));$/;"	v
key	system/core/Input.php	/^			foreach ($_COOKIE as $key => $val)$/;"	v
key	system/core/Input.php	/^			foreach ($_POST as $key => $val)$/;"	v
key	system/core/Input.php	/^			foreach ($_SERVER as $key => $val)$/;"	v
key	system/core/Input.php	/^			foreach ($str as $key => $val)$/;"	v
key	system/core/Input.php	/^		foreach ($headers as $key => $val)$/;"	v
key	system/core/Loader.php	/^			foreach ($autoload['config'] as $key => $val)$/;"	v
key	system/core/Loader.php	/^			foreach ($filename as $key => $val)$/;"	v
key	system/core/Loader.php	/^			foreach ($vars as $key => $val)$/;"	v
key	system/core/Router.php	/^			$key = str_replace(':any', '.+', str_replace(':num', '[0-9]+', $key));$/;"	v
key	system/core/Router.php	/^		foreach ($this->routes as $key => $val)$/;"	v
key	system/core/Security.php	/^		foreach ($this->_never_allowed_regex as $key => $val)$/;"	v
key	system/core/Security.php	/^		foreach ($this->_never_allowed_str as $key => $val)$/;"	v
key	system/core/URI.php	/^		foreach ((array)$array as $key => $val)$/;"	v
key	system/database/DB.php	/^			foreach ($extra as $key => $val)$/;"	v
key	system/database/DB_active_rec.php	/^				foreach ($this->ar_select as $key => $val)$/;"	v
key	system/database/DB_active_rec.php	/^			$key = array($key => $value);$/;"	v
key	system/database/DB_active_rec.php	/^		$key = $this->_object_to_array($key);$/;"	v
key	system/database/DB_active_rec.php	/^		$key = $this->_object_to_array_batch($key);$/;"	v
key	system/database/DB_active_rec.php	/^		foreach (get_object_vars($object) as $key => $val)$/;"	v
key	system/database/DB_driver.php	/^					foreach ($parts as $key => $val)$/;"	v
key	system/database/DB_driver.php	/^			foreach ($params as $key => $val)$/;"	v
key	system/database/DB_driver.php	/^			foreach ($where as $key => $val)$/;"	v
key	system/database/DB_driver.php	/^		foreach ($data as $key => $val)$/;"	v
key	system/database/DB_result.php	/^			foreach ($row as $key => $value)$/;"	v
key	system/database/DB_utility.php	/^			$key = str_replace($this->db->database.'.', '', current($res));$/;"	v
key	system/database/DB_utility.php	/^			foreach ($prefs as $key => $val)$/;"	v
key	system/database/DB_utility.php	/^			foreach ($row as $key => $val)$/;"	v
key	system/database/DB_utility.php	/^		foreach (array('root' => 'root', 'element' => 'element', 'newline' => "\\n", 'tab' => "\\t") as $key => $val)$/;"	v
key	system/database/drivers/cubrid/cubrid_driver.php	/^			foreach ($str as $key => $val)$/;"	v
key	system/database/drivers/cubrid/cubrid_driver.php	/^		foreach ($values as $key => $val)$/;"	v
key	system/database/drivers/cubrid/cubrid_forge.php	/^					$key = $this->db->_protect_identifiers($key);$/;"	v
key	system/database/drivers/cubrid/cubrid_forge.php	/^					$key = array($key_name);$/;"	v
key	system/database/drivers/mssql/mssql_driver.php	/^			foreach ($str as $key => $val)$/;"	v
key	system/database/drivers/mssql/mssql_driver.php	/^		foreach ($values as $key => $val)$/;"	v
key	system/database/drivers/mssql/mssql_forge.php	/^					$key = $this->db->_protect_identifiers($key);$/;"	v
key	system/database/drivers/mssql/mssql_forge.php	/^					$key = array($this->db->_protect_identifiers($key));$/;"	v
key	system/database/drivers/mysql/mysql_driver.php	/^			foreach ($str as $key => $val)$/;"	v
key	system/database/drivers/mysql/mysql_driver.php	/^		foreach ($values as $key => $val)$/;"	v
key	system/database/drivers/mysql/mysql_forge.php	/^					$key = $this->db->_protect_identifiers($key);$/;"	v
key	system/database/drivers/mysql/mysql_forge.php	/^					$key = array($key_name);$/;"	v
key	system/database/drivers/mysqli/mysqli_driver.php	/^			foreach ($str as $key => $val)$/;"	v
key	system/database/drivers/mysqli/mysqli_driver.php	/^		foreach ($values as $key => $val)$/;"	v
key	system/database/drivers/mysqli/mysqli_forge.php	/^					$key = $this->db->_protect_identifiers($key);$/;"	v
key	system/database/drivers/mysqli/mysqli_forge.php	/^					$key = array($key_name);$/;"	v
key	system/database/drivers/oci8/oci8_driver.php	/^			foreach ($str as $key => $val)$/;"	v
key	system/database/drivers/oci8/oci8_driver.php	/^		foreach ($values as $key => $val)$/;"	v
key	system/database/drivers/oci8/oci8_forge.php	/^					$key = $this->db->_protect_identifiers($key);$/;"	v
key	system/database/drivers/oci8/oci8_forge.php	/^					$key = array($this->db->_protect_identifiers($key));$/;"	v
key	system/database/drivers/odbc/odbc_driver.php	/^			foreach ($str as $key => $val)$/;"	v
key	system/database/drivers/odbc/odbc_driver.php	/^		foreach ($values as $key => $val)$/;"	v
key	system/database/drivers/odbc/odbc_forge.php	/^					$key = $this->db->_protect_identifiers($key);$/;"	v
key	system/database/drivers/odbc/odbc_forge.php	/^					$key = array($this->db->_protect_identifiers($key));$/;"	v
key	system/database/drivers/pdo/pdo_driver.php	/^			foreach ($str as $key => $val)$/;"	v
key	system/database/drivers/pdo/pdo_driver.php	/^		foreach ($values as $key => $val)$/;"	v
key	system/database/drivers/pdo/pdo_forge.php	/^					$key = $this->db->_protect_identifiers($key);$/;"	v
key	system/database/drivers/pdo/pdo_forge.php	/^					$key = array($this->db->_protect_identifiers($key));$/;"	v
key	system/database/drivers/postgre/postgre_driver.php	/^			foreach ($str as $key => $val)$/;"	v
key	system/database/drivers/postgre/postgre_driver.php	/^		foreach ($components as $key => $val)$/;"	v
key	system/database/drivers/postgre/postgre_driver.php	/^		foreach ($values as $key => $val)$/;"	v
key	system/database/drivers/postgre/postgre_forge.php	/^					$key = $this->db->_protect_identifiers($key);$/;"	v
key	system/database/drivers/postgre/postgre_forge.php	/^					$key = array($this->db->_protect_identifiers($key));$/;"	v
key	system/database/drivers/sqlite/sqlite_driver.php	/^			foreach ($str as $key => $val)$/;"	v
key	system/database/drivers/sqlite/sqlite_driver.php	/^		foreach ($values as $key => $val)$/;"	v
key	system/database/drivers/sqlite/sqlite_forge.php	/^					$key = $this->db->_protect_identifiers($key);$/;"	v
key	system/database/drivers/sqlite/sqlite_forge.php	/^					$key = array($this->db->_protect_identifiers($key));$/;"	v
key	system/database/drivers/sqlsrv/sqlsrv_driver.php	/^		foreach($values as $key => $val)$/;"	v
key	system/database/drivers/sqlsrv/sqlsrv_forge.php	/^					$key = $this->db->_protect_identifiers($key);$/;"	v
key	system/database/drivers/sqlsrv/sqlsrv_forge.php	/^					$key = array($this->db->_protect_identifiers($key));$/;"	v
key	system/helpers/captcha_helper.php	/^		foreach ($defaults as $key => $val)$/;"	v
key	system/helpers/date_helper.php	/^		foreach (timezones() as $key => $val)$/;"	v
key	system/helpers/form_helper.php	/^			$key = (string) $key;$/;"	v
key	system/helpers/form_helper.php	/^			foreach ($attributes as $key => $val)$/;"	v
key	system/helpers/form_helper.php	/^			foreach ($default as $key => $val)$/;"	v
key	system/helpers/form_helper.php	/^			foreach ($name as $key => $val)$/;"	v
key	system/helpers/form_helper.php	/^			foreach ($str as $key => $val)$/;"	v
key	system/helpers/form_helper.php	/^		foreach ($default as $key => $val)$/;"	v
key	system/helpers/form_helper.php	/^		foreach ($options as $key => $val)$/;"	v
key	system/helpers/html_helper.php	/^			foreach ($attributes as $key => $val)$/;"	v
key	system/helpers/html_helper.php	/^		foreach ($list as $key => $val)$/;"	v
key	system/helpers/smiley_helper.php	/^		foreach ($smileys as $key => $val)$/;"	v
key	system/helpers/string_helper.php	/^			foreach ($str as $key => $val)$/;"	v
key	system/helpers/text_helper.php	/^			foreach ($unwrap as $key => $val)$/;"	v
key	system/helpers/url_helper.php	/^				foreach ($attributes as $key => $val)$/;"	v
key	system/helpers/url_helper.php	/^		foreach ($attributes as $key => $val)$/;"	v
key	system/helpers/url_helper.php	/^		foreach ($trans as $key => $val)$/;"	v
key	system/helpers/url_helper.php	/^		foreach (array('width' => '800', 'height' => '600', 'scrollbars' => 'yes', 'status' => 'yes', 'resizable' => 'yes', 'screenx' => '0', 'screeny' => '0', ) as $key => $val)$/;"	v
key	system/libraries/Calendar.php	/^		foreach ($config as $key => $val)$/;"	v
key	system/libraries/Cart.php	/^			foreach ($params as $key => $val)$/;"	v
key	system/libraries/Cart.php	/^		foreach ($items as $key => $val)$/;"	v
key	system/libraries/Cart.php	/^		foreach ($this->_cart_contents as $key => $val)$/;"	v
key	system/libraries/Email.php	/^			foreach ($unwrap as $key => $val)$/;"	v
key	system/libraries/Email.php	/^		foreach ($config as $key => $val)$/;"	v
key	system/libraries/Email.php	/^		foreach ($this->_headers as $key => $val)$/;"	v
key	system/libraries/Encrypt.php	/^			$key = $CI->config->item('encryption_key');$/;"	v
key	system/libraries/Encrypt.php	/^		$key = $this->get_key($key);$/;"	v
key	system/libraries/Encrypt.php	/^	function decode($string, $key = '')$/;"	v
key	system/libraries/Encrypt.php	/^	function encode($string, $key = '')$/;"	v
key	system/libraries/Form_validation.php	/^			foreach ($data as $key => $val)$/;"	v
key	system/libraries/Form_validation.php	/^			foreach ($postdata as $key => $val)$/;"	v
key	system/libraries/Ftp.php	/^		foreach ($config as $key => $val)$/;"	v
key	system/libraries/Image_lib.php	/^			foreach ($props as $key => $val)$/;"	v
key	system/libraries/Javascript.php	/^		foreach ($defaults as $key => $val)$/;"	v
key	system/libraries/Javascript.php	/^		foreach (array_keys($arr) as $key => $val)$/;"	v
key	system/libraries/Migration.php	/^		foreach ($config as $key => $val)$/;"	v
key	system/libraries/Pagination.php	/^			foreach ($params as $key => $val)$/;"	v
key	system/libraries/Parser.php	/^			foreach ($row as $key => $val)$/;"	v
key	system/libraries/Parser.php	/^		foreach ($data as $key => $val)$/;"	v
key	system/libraries/Profiler.php	/^					$key = "'".$key."'";$/;"	v
key	system/libraries/Profiler.php	/^				foreach ($db->queries as $key => $val)$/;"	v
key	system/libraries/Profiler.php	/^			$key = ucwords(str_replace(array('_', '-'), ' ', $key));$/;"	v
key	system/libraries/Profiler.php	/^			foreach ($_GET as $key => $val)$/;"	v
key	system/libraries/Profiler.php	/^			foreach ($_POST as $key => $val)$/;"	v
key	system/libraries/Profiler.php	/^		foreach ($profile as $key => $val)$/;"	v
key	system/libraries/Profiler.php	/^		foreach ($this->CI->benchmark->marker as $key => $val)$/;"	v
key	system/libraries/Profiler.php	/^		foreach ($this->CI->session->all_userdata() as $key => $val)$/;"	v
key	system/libraries/Session.php	/^					foreach ($custom_data as $key => $val)$/;"	v
key	system/libraries/Session.php	/^			foreach ($data as $key => $val)$/;"	v
key	system/libraries/Session.php	/^			foreach ($newdata as $key => $val)$/;"	v
key	system/libraries/Session.php	/^		foreach ($userdata as $key => $value)$/;"	v
key	system/libraries/Table.php	/^					foreach ($cell as $key => $val)$/;"	v
key	system/libraries/Table.php	/^				foreach ($args[0] as $key => $val)$/;"	v
key	system/libraries/Table.php	/^				foreach ($heading as $key => $val)$/;"	v
key	system/libraries/Table.php	/^			foreach ($args as $key => $val)$/;"	v
key	system/libraries/Unit_test.php	/^			foreach ($res as $key => $val)$/;"	v
key	system/libraries/Unit_test.php	/^			foreach ($result as $key => $val)$/;"	v
key	system/libraries/Upload.php	/^		foreach ($defaults as $key => $val)$/;"	v
key	system/libraries/User_agent.php	/^			foreach ($this->browsers as $key => $val)$/;"	v
key	system/libraries/User_agent.php	/^			foreach ($this->mobiles as $key => $val)$/;"	v
key	system/libraries/User_agent.php	/^			foreach ($this->platforms as $key => $val)$/;"	v
key	system/libraries/User_agent.php	/^			foreach ($this->robots as $key => $val)$/;"	v
key	system/libraries/Xmlrpc.php	/^			foreach ($config as $key => $val)$/;"	v
key	system/libraries/Xmlrpc.php	/^		foreach ($incoming as $key => $value)$/;"	v
key	system/libraries/Xmlrpcs.php	/^		foreach ($this->methods as $key => $value)$/;"	v
key	system/libraries/Xmlrpcs.php	/^		foreach ($this->system_methods as $key => $value)$/;"	v
key	system/libraries/ckeditor.php	/^		foreach ($this->textareaAttributes as $key => $val) {$/;"	v
keyArrLen	application/controllers/sea.php	/^            $keyArrLen = count($key);$/;"	v
keyArrLen	application/controllers/sea.php	/^        $keyArrLen = count($key);$/;"	v
keyPreDel	application/controllers/sea.php	/^    protected function keyPreDel($key)$/;"	f
key_name	system/database/drivers/cubrid/cubrid_forge.php	/^					$key_name = $this->db->_protect_identifiers($key);$/;"	v
key_name	system/database/drivers/cubrid/cubrid_forge.php	/^					$key_name = $this->db->_protect_identifiers(implode('_', $key));$/;"	v
key_name	system/database/drivers/cubrid/cubrid_forge.php	/^			$key_name = "pk_" . $table . "_" .$/;"	v
key_name	system/database/drivers/mysql/mysql_forge.php	/^					$key_name = $this->db->_protect_identifiers($key);$/;"	v
key_name	system/database/drivers/mysql/mysql_forge.php	/^					$key_name = $this->db->_protect_identifiers(implode('_', $key));$/;"	v
key_name	system/database/drivers/mysql/mysql_forge.php	/^			$key_name = $this->db->_protect_identifiers(implode('_', $primary_keys));$/;"	v
key_name	system/database/drivers/mysqli/mysqli_forge.php	/^					$key_name = $this->db->_protect_identifiers($key);$/;"	v
key_name	system/database/drivers/mysqli/mysqli_forge.php	/^					$key_name = $this->db->_protect_identifiers(implode('_', $key));$/;"	v
key_name	system/database/drivers/mysqli/mysqli_forge.php	/^			$key_name = $this->db->_protect_identifiers(implode('_', $primary_keys));$/;"	v
keyd	application/controllers/map.php	/^	public function keyd()$/;"	f
keydown	system/libraries/Javascript.php	/^	function keydown($element = 'this', $js = '')$/;"	f
keyhash	system/libraries/Encrypt.php	/^		$keyhash = $this->hash($key);$/;"	v
keylen	system/libraries/Encrypt.php	/^		$keylen = strlen($keyhash);$/;"	v
keys	application/controllers/write.php	/^        $keys = $this->getrepeat($keys,$key);$/;"	v
keys	application/controllers/write.php	/^        $keys = preg_split("\/[^\\x{4e00}-\\x{9fa5}0-9a-zA-Z]+\/u",$keys);\/\/以非汉字，数字，字母为分界点开始分割;$/;"	v
keys	application/controllers/write.php	/^        $keys = trim($this->input->post("key"));$/;"	v
keys	system/database/DB_active_rec.php	/^		$keys = array_keys(current($key));$/;"	v
keys	system/database/DB_forge.php	/^		$this->keys			= array();$/;"	v
keys	system/database/DB_forge.php	/^	var $keys			= array();$/;"	v
keys	system/database/DB_utility.php	/^			$keys = array_keys($res);$/;"	v
keys	system/database/drivers/oci8/oci8_driver.php	/^		$keys = implode(', ', $keys);$/;"	v
keyup	system/libraries/Javascript.php	/^	function keyup($element = 'this', $js = '')$/;"	f
keyval	system/core/URI.php	/^	var	$keyval			= array();$/;"	v
keyword	application/controllers/sea.php	/^        $keyword = trim($_GET["sea"]);$/;"	v
keyword	application/controllers/sea.php	/^        $keyword = trim(urldecode($_GET["key"]));$/;"	v
keyword	application/controllers/search.php	/^		$keyword = trim($_GET["sea"]);$/;"	v
keyword	application/controllers/search.php	/^		$keyword = urldecode(trim($_GET["key"]));$/;"	v
kind	system/libraries/Xmlrpc.php	/^		$kind = $param->kindOf();$/;"	v
kind	system/libraries/Xmlrpc.php	/^		$kind = $xmlrpc_val->kindOf();$/;"	v
kindOf	system/libraries/Xmlrpc.php	/^	function kindOf()$/;"	f
l_delim	system/libraries/Parser.php	/^		$this->l_delim = $l;$/;"	v
l_delim	system/libraries/Parser.php	/^	var $l_delim = '{';$/;"	v
label	system/helpers/form_helper.php	/^		$label = '<label';$/;"	v
label	system/libraries/Form_validation.php	/^				$label = ( ! isset($row['label'])) ? $row['field'] : $row['label'];$/;"	v
label	system/libraries/Form_validation.php	/^		$label = ($label == '') ? $field : $label;$/;"	v
label	system/libraries/Form_validation.php	/^	public function set_rules($field, $label = '', $rules = '')$/;"	v
lang	system/core/Loader.php	/^	public function language($file = array(), $lang = '')$/;"	v
lang	system/helpers/language_helper.php	/^	function lang($line, $id = '')$/;"	f
lang	system/libraries/Calendar.php	/^	var $lang;$/;"	v
lang	system/libraries/Form_validation.php	/^			$lang = array($lang => $val);$/;"	v
langfile	system/core/Lang.php	/^			$langfile = str_replace('_lang.', '', $langfile).'_lang';$/;"	v
langfile	system/core/Lang.php	/^		$langfile = str_replace('.php', '', $langfile);$/;"	v
language	system/core/Lang.php	/^		$this->language = array_merge($this->language, $lang);$/;"	v
language	system/core/Lang.php	/^	var $language	= array();$/;"	v
language	system/core/Loader.php	/^	public function language($file = array(), $lang = '')$/;"	f
languages	system/libraries/User_agent.php	/^			$languages = preg_replace('\/(;q=[0-9\\.]+)\/i', '', strtolower(trim($_SERVER['HTTP_ACCEPT_LANGUAGE'])));$/;"	v
languages	system/libraries/User_agent.php	/^			$this->languages = array('Undefined');$/;"	v
languages	system/libraries/User_agent.php	/^			$this->languages = explode(',', $languages);$/;"	v
languages	system/libraries/User_agent.php	/^	public function languages()$/;"	f
languages	system/libraries/User_agent.php	/^	var $languages	= array();$/;"	v
last	application/controllers/order.php	/^            $last = $cart[$i]["seller"];$/;"	v
last	application/core/MY_Controller.php	/^                $last = $array2D[$i]["id"];$/;"	v
last	application/core/MY_Controller.php	/^        $last = -1;$/;"	v
last	application/views/onTimeOrder.php	/^                    $last = $i;$/;"	v
last	js/common.js	/^var last;$/;"	v
last	js/mainpage2.js	/^var last;$/;"	v
last_block_element	system/libraries/Typography.php	/^					$this->last_block_element = $match[2];$/;"	v
last_block_element	system/libraries/Typography.php	/^	var $last_block_element = '';$/;"	v
last_link	system/libraries/Pagination.php	/^	var $last_link			= 'Last &rsaquo;';$/;"	v
last_migration	system/libraries/Migration.php	/^		$last_migration = basename(end($migrations));$/;"	v
last_query	system/database/DB_driver.php	/^	function last_query()$/;"	f
last_row	system/database/DB_result.php	/^	public function last_row($type = 'object')$/;"	f
last_tag_close	system/libraries/Pagination.php	/^	var $last_tag_close		= '';$/;"	v
last_tag_open	system/libraries/Pagination.php	/^	var $last_tag_open		= '&nbsp;';$/;"	v
lastval	system/core/URI.php	/^				$lastval = $seg;$/;"	v
lastval	system/core/URI.php	/^		$lastval = '';$/;"	v
latest	system/libraries/Migration.php	/^	public function latest()$/;"	f
leading	system/core/URI.php	/^			$leading	= '';$/;"	v
leading	system/core/URI.php	/^		$leading	= '\/';$/;"	v
lealab	application/views/userDengLu.php	/^function lealab(node){$/;"	f
leaveFramePageNoSave	application/views/printindex.php	/^function leaveFramePageNoSave(){$/;"	f
leaveFramePageSave	application/views/printindex.php	/^function leaveFramePageSave(){$/;"	f
left	system/libraries/Image_lib.php	/^				$left  = 0;$/;"	v
leftdirart	application/controllers/bg/home.php	/^    function leftdirart(){$/;"	f
leftdirimg	application/controllers/bg/home.php	/^    function leftdirimg(){$/;"	f
leftdiruser	application/controllers/bg/home.php	/^    function leftdiruser(){$/;"	f
legacy_mode	system/libraries/Encrypt.php	/^	function encode_from_legacy($string, $legacy_mode = MCRYPT_MODE_ECB, $key = '')$/;"	v
len	application/controllers/bg/item.php	/^        else $len = 0;$/;"	v
len	application/controllers/bg/wrong.php	/^        else $len = 0;$/;"	v
len	application/controllers/dsconfig.class.php	/^	$len = strlen($str);$/;"	v
len	application/controllers/item.php	/^        $len = count($attr);$/;"	v
len	application/controllers/order.php	/^            $len = count($now);$/;"	v
len	application/controllers/order.php	/^            $len = count($str)-1;\/\/最后一个是空不用理会$/;"	v
len	application/controllers/order.php	/^            if($data["more"] && $len == $morelen)$/;"	v
len	application/controllers/order.php	/^        $len = $cart?count($cart):0;$/;"	v
len	application/controllers/write.php	/^        $len = count($arr);$/;"	v
len	application/core/MY_Controller.php	/^        $len = count($array2D);\/\/其实len长度应该限制，因为$/;"	v
len	application/models/art.php	/^            $len = count($res);$/;"	v
len	application/models/comitem.php	/^        $len = count($arr);$/;"	v
len	application/models/img.php	/^            $len = count($array);$/;"	v
len	application/models/morder.php	/^            $len = count($res);$/;"	v
len	application/models/morder.php	/^        else $len = 0;$/;"	v
len	application/models/mwrong.php	/^             $len = count($res);$/;"	v
len	application/models/user.php	/^            $len= count($res);$/;"	v
len	application/views/bgWrong.php	/^    else $len = 0;$/;"	v
len	application/views/bgart.php	/^            else $len = 0;$/;"	v
len	application/views/bgcom.php	/^else $len = 0;$/;"	v
len	application/views/histOrder.php	/^        $len = 0;$/;"	v
len	application/views/histOrder.php	/^    $len = count($order);$/;"	v
len	application/views/item.php	/^                            $len = count($temp["context"]);$/;"	v
len	application/views/m-bg-userlist.php	/^    $len = count($userall);$/;"	v
len	application/views/myorder.php	/^$len = count($cart);$/;"	v
len	application/views/myorder.php	/^else $len = 0;$/;"	v
len	application/views/onTimeOrder.php	/^else $len = 0;$/;"	v
len	application/views/order.php	/^$len = count($cart);$/;"	v
len	application/views/order.php	/^else $len = 0;$/;"	v
len	application/views/ordtoday.php	/^    $len = count($today);$/;"	v
len	application/views/ordtoday.php	/^else $len = 0;$/;"	v
len	application/views/userSpace.php	/^        else $len = 0;$/;"	v
len	application/views/waimai2.php	/^    else $len = 0;$/;"	v
len	dsconfig.class.php	/^	$len = strlen($str);$/;"	v
len	system/helpers/string_helper.php	/^	function random_string($type = 'alnum', $len = 8)$/;"	v
lenDay	application/models/comitem.php	/^        $this->lenDay = 86400;$/;"	v
lenDay	application/models/comitem.php	/^    var $lenDay;$/;"	v
length	system/database/drivers/mysql/mysql_result.php	/^			$length = (array_key_exists(2, $matches)) ? preg_replace('\/[^\\d]\/', '', $matches[2]) : NULL;$/;"	v
length	system/database/drivers/mysqli/mysqli_result.php	/^			$length = (array_key_exists(2, $matches)) ? preg_replace('\/[^\\d]\/', '', $matches[2]) : NULL;$/;"	v
length	system/helpers/captcha_helper.php	/^		$length	= strlen($word);$/;"	v
length	system/libraries/Email.php	/^			$length = strlen($line);$/;"	v
length	system/libraries/Email.php	/^		for ($i = 0, $length = strlen($str); $i < $length; $i++)$/;"	v
leni	application/controllers/item.php	/^            $leni = ($attr[0]+4);\/\/从第五个开始是真正的属性值$/;"	v
leni	application/controllers/item.php	/^        $leni = ($len+$st);$/;"	v
lenj	application/views/bgcom.php	/^                        $lenj = count($comi["context"]);$/;"	v
less_than	system/libraries/Form_validation.php	/^	public function less_than($str, $max)$/;"	f
lets	system/core/Common.php	/^* This function lets us grab the config file even if the Config class$/;"	f
lets	system/core/Common.php	/^* This function lets us invoke the exception class and$/;"	f
lets	system/core/Loader.php	/^	 * This function lets users load and instantiate classes.$/;"	f
lets	system/core/Loader.php	/^	 * This function lets users load and instantiate models.$/;"	f
lets	system/libraries/Image_lib.php	/^	 * This function lets us re-proportion the width\/height$/;"	f
lets	system/libraries/Image_lib.php	/^	 * from the source_image.  This function lets us deal with$/;"	f
lets	system/libraries/Trackback.php	/^	 * This function lets multiple trackbacks be sent.$/;"	f
level	application/models/user.php	/^        $level=$_SESSION["user_level"];\/\/这里需要将来修改$/;"	v
level	system/libraries/Log.php	/^		$level = strtoupper($level);$/;"	v
levels	system/core/Exceptions.php	/^	var $levels = array($/;"	v
lib_name	system/libraries/Driver.php	/^			$this->lib_name = get_class($this);$/;"	v
lib_name	system/libraries/Driver.php	/^		$lib_name = ucfirst(strtolower(str_replace('CI_', '', $this->lib_name)));$/;"	v
lib_name	system/libraries/Driver.php	/^	protected $lib_name;$/;"	v
library	system/core/Loader.php	/^			$library = ucfirst($library).'\/'.$library;$/;"	v
library	system/core/Loader.php	/^	public function library($library = '', $params = NULL, $object_name = NULL)$/;"	f
library	system/libraries/javascript/Jquery.php	/^	 * Load a user interface library$/;"	i
library_path	system/libraries/Image_lib.php	/^			$this->library_path = rtrim($this->library_path, '\/').'\/';$/;"	v
library_path	system/libraries/Image_lib.php	/^	var $library_path		= '';$/;"	v
library_src	system/libraries/javascript/Jquery.php	/^		$library_src = $this->external($library_src, $relative);$/;"	v
like	system/database/DB_active_rec.php	/^	public function like($field, $match = '', $side = 'both')$/;"	f
like	system/database/drivers/cubrid/cubrid_driver.php	/^	function escape_str($str, $like = FALSE)$/;"	v
like	system/database/drivers/mssql/mssql_driver.php	/^	function escape_str($str, $like = FALSE)$/;"	v
like	system/database/drivers/mysql/mysql_driver.php	/^	function escape_str($str, $like = FALSE)$/;"	v
like	system/database/drivers/mysqli/mysqli_driver.php	/^	function escape_str($str, $like = FALSE)$/;"	v
like	system/database/drivers/oci8/oci8_driver.php	/^	public function escape_str($str, $like = FALSE)$/;"	v
like	system/database/drivers/odbc/odbc_driver.php	/^	function escape_str($str, $like = FALSE)$/;"	v
like	system/database/drivers/pdo/pdo_driver.php	/^	function escape_str($str, $like = FALSE)$/;"	v
like	system/database/drivers/postgre/postgre_driver.php	/^	function escape_str($str, $like = FALSE)$/;"	v
like	system/database/drivers/sqlite/sqlite_driver.php	/^	function escape_str($str, $like = FALSE)$/;"	v
like	system/database/drivers/sqlsrv/sqlsrv_driver.php	/^	function escape_str($str, $like = FALSE)$/;"	v
like_statement	system/database/DB_active_rec.php	/^				$like_statement = $like_statement.sprintf($this->_like_escape_str, $this->_like_escape_chr);$/;"	v
like_statement	system/database/DB_active_rec.php	/^				$like_statement = $prefix." $k $not LIKE '%{$v}%'";$/;"	v
like_statement	system/database/DB_active_rec.php	/^				$like_statement = $prefix." $k $not LIKE '%{$v}'";$/;"	v
like_statement	system/database/DB_active_rec.php	/^				$like_statement = $prefix." $k $not LIKE '{$v}%'";$/;"	v
like_statement	system/database/DB_active_rec.php	/^				$like_statement = $prefix." $k $not LIKE '{$v}'";$/;"	v
limit	system/database/DB_active_rec.php	/^	public function get($table = '', $limit = null, $offset = null)$/;"	v
limit	system/database/DB_active_rec.php	/^	public function limit($value, $offset = '')$/;"	f
limit	system/database/drivers/cubrid/cubrid_driver.php	/^		$limit = ( ! $limit) ? '' : ' LIMIT '.$limit;$/;"	v
limit	system/database/drivers/mssql/mssql_driver.php	/^		$limit = ( ! $limit) ? '' : ' LIMIT '.$limit;$/;"	v
limit	system/database/drivers/mysql/mysql_driver.php	/^		$limit = ( ! $limit) ? '' : ' LIMIT '.$limit;$/;"	v
limit	system/database/drivers/mysqli/mysqli_driver.php	/^		$limit = ( ! $limit) ? '' : ' LIMIT '.$limit;$/;"	v
limit	system/database/drivers/oci8/oci8_driver.php	/^		$limit = $offset + $limit;$/;"	v
limit	system/database/drivers/oci8/oci8_driver.php	/^		$limit = ( ! $limit) ? '' : ' LIMIT '.$limit;$/;"	v
limit	system/database/drivers/odbc/odbc_driver.php	/^		$limit = ( ! $limit) ? '' : ' LIMIT '.$limit;$/;"	v
limit	system/database/drivers/pdo/pdo_driver.php	/^		$limit = ( ! $limit) ? '' : ' LIMIT '.$limit;$/;"	v
limit	system/database/drivers/postgre/postgre_driver.php	/^		$limit = ( ! $limit) ? '' : ' LIMIT '.$limit;$/;"	v
limit	system/database/drivers/sqlite/sqlite_driver.php	/^		$limit = ( ! $limit) ? '' : ' LIMIT '.$limit;$/;"	v
limit	system/helpers/text_helper.php	/^	function word_limiter($str, $limit = 100, $end_char = '&#8230;')$/;"	v
limit	system/libraries/Email.php	/^		$limit = 75 - 7 - strlen($this->charset);$/;"	v
limit	system/libraries/Email.php	/^	public function bcc($bcc, $limit = '')$/;"	v
limit_characters	system/libraries/Trackback.php	/^	function limit_characters($str, $n = 500, $end_char = '&#8230;')$/;"	f
limit_filename_length	system/libraries/Upload.php	/^	public function limit_filename_length($filename, $length)$/;"	f
limit_used	system/database/DB_driver.php	/^	var $limit_used;$/;"	v
limit_used	system/database/drivers/oci8/oci8_driver.php	/^		$this->limit_used = TRUE;$/;"	v
limit_used	system/database/drivers/oci8/oci8_driver.php	/^	var $limit_used;$/;"	v
limit_used	system/database/drivers/oci8/oci8_result.php	/^	var $limit_used;$/;"	v
line	application/controllers/HttpClient.class.php	/^    	    $line = fgets($fp, 4096);$/;"	v
line	system/core/Exceptions.php	/^	var $line;$/;"	v
line	system/core/Lang.php	/^	function line($line = '')$/;"	f
line	system/helpers/language_helper.php	/^			$line = '<label for="'.$id.'">'.$line."<\/label>";$/;"	v
line	system/helpers/language_helper.php	/^		$line = $CI->lang->line($line);$/;"	v
line	system/helpers/text_helper.php	/^				$line = substr($line, $charlim-1);$/;"	v
line	system/libraries/Email.php	/^				$line = substr($line, $charlim-1);$/;"	v
line	system/libraries/Form_validation.php	/^						$line = 'The field was not set';$/;"	v
line	system/libraries/Form_validation.php	/^						$line = 'Unable to access an error message corresponding to your field name.';$/;"	v
line	system/libraries/Form_validation.php	/^					$line = $this->_error_messages[$rule];$/;"	v
line	system/libraries/Form_validation.php	/^					$line = $this->_error_messages[$type];$/;"	v
line	system/libraries/Form_validation.php	/^			$line = substr($fieldname, 5);$/;"	v
line	system/libraries/Unit_test.php	/^			$line = ( ! isset($back['1']['line'])) ? '' : $back['1']['line'];$/;"	v
lines	application/controllers/dsreceive.class.php	/^	$lines = count($farray);$/;"	v
lines	application/controllers/test.php	/^            $lines = count($farray);$/;"	v
lines	dsreceive.class.php	/^	$lines = count($farray);$/;"	v
lines	system/libraries/Email.php	/^		$lines = explode("\\n", $str);$/;"	v
lines	system/libraries/Xmlrpc.php	/^		$lines = explode("\\r\\n", $data);$/;"	v
link	system/helpers/html_helper.php	/^		$link = '<link ';$/;"	v
link_tag	system/helpers/html_helper.php	/^	function link_tag($href = '', $rel = 'stylesheet', $type = 'text\/css', $title = '', $media = '', $index_page = FALSE)$/;"	f
list	application/controllers/order.php	/^            $list = "";$/;"	v
list	system/libraries/Ftp.php	/^		$list = $this->list_files($filepath);$/;"	v
listMethods	system/libraries/Xmlrpcs.php	/^	function listMethods($m)$/;"	f
list_databases	system/database/DB_utility.php	/^	function list_databases()$/;"	f
list_fields	system/database/DB_driver.php	/^	function list_fields($table = '')$/;"	f
list_fields	system/database/DB_result.php	/^	public function list_fields() { return array(); }$/;"	f
list_fields	system/database/drivers/cubrid/cubrid_result.php	/^	function list_fields()$/;"	f
list_fields	system/database/drivers/mssql/mssql_result.php	/^	function list_fields()$/;"	f
list_fields	system/database/drivers/mysql/mysql_result.php	/^	function list_fields()$/;"	f
list_fields	system/database/drivers/mysqli/mysqli_result.php	/^	function list_fields()$/;"	f
list_fields	system/database/drivers/oci8/oci8_result.php	/^	public function list_fields()$/;"	f
list_fields	system/database/drivers/odbc/odbc_result.php	/^	function list_fields()$/;"	f
list_fields	system/database/drivers/pdo/pdo_result.php	/^	function list_fields()$/;"	f
list_fields	system/database/drivers/postgre/postgre_result.php	/^	function list_fields()$/;"	f
list_fields	system/database/drivers/sqlite/sqlite_result.php	/^	function list_fields()$/;"	f
list_fields	system/database/drivers/sqlsrv/sqlsrv_result.php	/^	function list_fields()$/;"	f
list_files	system/libraries/Ftp.php	/^	function list_files($path = '.')$/;"	f
list_perpage	application/models/mar_list.php	/^	function list_perpage($user_id,$from,$per_page){$/;"	f
list_tables	system/database/DB_driver.php	/^	function list_tables($constrain_by_prefix = FALSE)$/;"	f
listall	application/models/mar_list.php	/^	function listall($id){$/;"	f
listart	application/controllers/chome.php	/^    function listart(){$/;"	f
listnum	application/controllers/art_list.php	/^	function listnum(){$/;"	f
load	system/core/Config.php	/^	function load($file = '', $use_sections = FALSE, $fail_gracefully = FALSE)$/;"	f
load	system/core/Controller.php	/^		$this->load =& load_class('Loader', 'core');$/;"	v
load	system/core/Lang.php	/^	function load($langfile = '', $idiom = '', $return = FALSE, $add_suffix = TRUE, $alt_path = '')$/;"	f
load	system/libraries/Javascript.php	/^	function load($element = 'this', $js = '')$/;"	f
load_class	system/core/Common.php	/^	function &load_class($class, $directory = 'libraries', $prefix = 'CI_')$/;"	f
load_rdriver	system/database/DB_driver.php	/^	function load_rdriver()$/;"	f
loaded	system/core/Config.php	/^					$loaded = TRUE;$/;"	v
loaded	system/core/Config.php	/^			$loaded = TRUE;$/;"	v
loaded	system/core/Config.php	/^		$loaded = FALSE;$/;"	v
loading_notifier	system/libraries/javascript/Jquery.php	/^			$loading_notifier = "Loading...";$/;"	v
loading_notifier	system/libraries/javascript/Jquery.php	/^			$loading_notifier = '<img src=\\'' . $this->CI->config->slash_item('base_url') . $this->CI->config->item('javascript_ajax_img') . '\\' alt=\\'Loading\\' \/>';$/;"	v
loads	system/core/Loader.php	/^	 * This function loads the requested class.$/;"	f
loads	system/core/Loader.php	/^	 * This function loads the specified helper file.$/;"	f
localName	application/controllers/write.php	/^                $localName=$upfile['name'];$/;"	v
localName	application/controllers/write.php	/^            $localName=urldecode($info[2]);$/;"	v
localName	application/controllers/write.php	/^        $localName='';$/;"	v
local_date	system/libraries/Calendar.php	/^		$local_date = mktime(12, 0, 0, $month, 1, $year);$/;"	v
local_time	system/libraries/Calendar.php	/^		$this->local_time = time();$/;"	v
local_time	system/libraries/Calendar.php	/^	var $local_time;$/;"	v
local_to_gmt	system/helpers/date_helper.php	/^	function local_to_gmt($time = '')$/;"	f
location	application/controllers/HttpClient.class.php	/^            $location = isset($this->headers['location']) ? $this->headers['location'] : '';$/;"	v
locinit.locationIcon	js/change2.js	/^	locationIcon:icon,$/;"	p
log_error	system/core/Common.php	/^	function show_404($page = '', $log_error = TRUE)$/;"	v
log_error	system/core/Exceptions.php	/^	function show_404($page = '', $log_error = TRUE)$/;"	v
log_exception	system/core/Exceptions.php	/^	function log_exception($severity, $message, $filepath, $line)$/;"	f
log_message	system/core/Common.php	/^	function log_message($level = 'error', $message, $php_error = FALSE)$/;"	f
login	application/controllers/message.php	/^	public  function login()$/;"	f
login	application/controllers/reg.php	/^    public function login()$/;"	f
login	js/item.js	/^    var login = $("#login");$/;"	v
loginA	js/art.js	/^function loginA (name,data) {$/;"	f
logs	system/core/Exceptions.php	/^	 * This function logs PHP generated error messages$/;"	f
lsp	application/controllers/order.php	/^        $lsp = Array();$/;"	v
lsw	system/libraries/Sha1.php	/^		$lsw = ($x & 0xFFFF) + ($y & 0xFFFF);$/;"	v
m	system/helpers/smiley_helper.php	/^				$m = '{'.implode(',', $m).'}';$/;"	v
m	system/helpers/smiley_helper.php	/^				$m = array();$/;"	v
m	system/libraries/Xmlrpcs.php	/^			$m = new XML_RPC_Message($parser_object->xh[$parser]['method']);$/;"	v
m	system/libraries/Xmlrpcs.php	/^			$m = new XML_RPC_Message($value[0]);$/;"	v
mac	application/controllers/dsprint.class.php	/^		$mac = md5($data.md5($this->password,TRUE),TRUE);$/;"	v
mailpath	system/libraries/Email.php	/^	var	$mailpath		= "\/usr\/sbin\/sendmail";	\/\/ Sendmail path$/;"	v
mailto	system/helpers/url_helper.php	/^	function mailto($email, $title = '', $attributes = '')$/;"	f
mailtype	system/libraries/Email.php	/^		$this->mailtype = ($type == 'html') ? 'html' : 'text';$/;"	v
mailtype	system/libraries/Email.php	/^	var	$mailtype		= "text";	\/\/ text\/html  Defines email formatting$/;"	v
mainCon	application/controllers/home.php	/^    public function mainCon($id = 0)$/;"	f
mainCon	application/controllers/mainpage.php	/^    public function mainCon($id = 0)$/;"	f
mainly	system/libraries/Typography.php	/^	 * This function mainly converts double and single quotes$/;"	f
maintain_ratio	system/libraries/Image_lib.php	/^	var $maintain_ratio		= TRUE;		\/\/ Whether to maintain aspect ratio when resizing or use hard values$/;"	v
make_columns	system/libraries/Table.php	/^	function make_columns($array = array(), $col_limit = 0)$/;"	f
makes	system/libraries/Calendar.php	/^	 * This function makes sure that we have a valid month\/year.$/;"	f
mange	application/controllers/bg/item.php	/^    public function mange()$/;"	f
mange	application/controllers/bg/userlist.php	/^        public function mange($state = -1,$userId = -1)$/;"	f
map	js/change2.js	/^function map () {$/;"	f
map	js/reg.js	/^function map () {$/;"	f
map.bePoint.point	js/change2.js	/^	point:{$/;"	p
map.error	js/reg.js	/^function error (StatusCode) {$/;"	f
map.locinit.enableAutoLocation	js/reg.js	/^    enableAutoLocation:true$/;"	p
map.locinit.locationIcon	js/reg.js	/^    locationIcon:icon,$/;"	p
map.markeOpt.enableDragging	js/change2.js	/^	enableDragging:true,$/;"	p
map.markeOpt.enableDragging	js/reg.js	/^    enableDragging:true,$/;"	p
map.markeOpt.icon	js/change2.js	/^	icon:icon,$/;"	p
map.markeOpt.icon	js/reg.js	/^    icon:icon,$/;"	p
map.markeOpt.raiseOnDrag	js/change2.js	/^	raiseOnDrag:true$/;"	p
map.markeOpt.raiseOnDrag	js/reg.js	/^    raiseOnDrag:true$/;"	p
map.success	js/reg.js	/^function success(opt) {$/;"	f
map.success.opts.title	js/reg.js	/^    var opts = {title:"<i style = 'font-size:10px'>贴心小提示:可以右键修改位置哦<\/i>"}$/;"	p
mapInit	application/views/item.php	/^    function mapInit(){$/;"	f
mapInit	js/msea.js	/^function mapInit () {$/;"	f
mapInit.drawPoly	js/msea.js	/^    function drawPoly (st,ep) {$/;"	f
mapInit.error	js/msea.js	/^    function error (StatusCode) {$/;"	f
mapInit.locinit.anchor	js/msea.js	/^        anchor:BMAP_ANCHOR_BOTTOM_LEFT$/;"	p
mapInit.locinit.locationIcon	js/msea.js	/^        locationIcon:icon,$/;"	p
mapInit.markeOpt.icon	js/msea.js	/^        icon:icon,$/;"	p
mapInit.markeOpt.raiseOnDrag	js/msea.js	/^        raiseOnDrag:true$/;"	p
mapInit.success	js/msea.js	/^    function success(opt) {$/;"	f
maps	system/database/DB_active_rec.php	/^	 * This function maps to "DELETE FROM table"$/;"	f
maps	system/database/drivers/cubrid/cubrid_driver.php	/^	 * This function maps to "DELETE FROM table"$/;"	f
maps	system/database/drivers/mssql/mssql_driver.php	/^	 * This function maps to "DELETE FROM table"$/;"	f
maps	system/database/drivers/mysql/mysql_driver.php	/^	 * This function maps to "DELETE FROM table"$/;"	f
maps	system/database/drivers/mysqli/mysqli_driver.php	/^	 * This function maps to "DELETE FROM table"$/;"	f
maps	system/database/drivers/oci8/oci8_driver.php	/^	 * This function maps to "DELETE FROM table"$/;"	f
maps	system/database/drivers/odbc/odbc_driver.php	/^	 * This function maps to "DELETE FROM table"$/;"	f
maps	system/database/drivers/pdo/pdo_driver.php	/^	 * This function maps to "DELETE FROM table"$/;"	f
maps	system/database/drivers/postgre/postgre_driver.php	/^	 * This function maps to "DELETE FROM table"$/;"	f
maps	system/database/drivers/sqlite/sqlite_driver.php	/^	 * This function maps to "DELETE FROM table"$/;"	f
maps	system/database/drivers/sqlsrv/sqlsrv_driver.php	/^	 * This function maps to "DELETE FROM table"$/;"	f
mark	system/core/Benchmark.php	/^	function mark($name)$/;"	f
marker	system/core/Benchmark.php	/^	var $marker = array();$/;"	v
mastId	application/controllers/info.php	/^        $mastId = $this->pre($mastId);$/;"	v
master	application/controllers/bg/item.php	/^        $master = $this->mitem->getMaster($itemId);$/;"	v
master_dim	system/libraries/Image_lib.php	/^			$this->master_dim = ($ratio < 0) ? 'width' : 'height';$/;"	v
master_dim	system/libraries/Image_lib.php	/^		$this->master_dim = 'auto';$/;"	v
master_dim	system/libraries/Image_lib.php	/^	var $master_dim			= 'auto';	\/\/ auto, height, or width.  Determines what to use as the master dimension$/;"	v
masterid	application/controllers/space.php	/^        if($masterid == -1) $masterid = $this->user_id;$/;"	v
match	system/database/DB_active_rec.php	/^	protected function _like($field, $match = '', $type = 'AND ', $side = 'both', $not = '')$/;"	v
match	system/database/DB_active_rec.php	/^	public function like($field, $match = '', $side = 'both')$/;"	v
match	system/database/DB_active_rec.php	/^	public function not_like($field, $match = '', $side = 'both')$/;"	v
match	system/database/DB_active_rec.php	/^	public function or_like($field, $match = '', $side = 'both')$/;"	v
match	system/database/DB_active_rec.php	/^	public function or_not_like($field, $match = '', $side = 'both')$/;"	v
match_array_type	system/libraries/Javascript.php	/^	function generate_json($result = NULL, $match_array_type = FALSE)$/;"	v
matches	system/core/Router.php	/^	 * This function matches any routes that may exist in$/;"	f
matches	system/libraries/Form_validation.php	/^	public function matches($str, $field)$/;"	f
maxAttachSize	application/controllers/write.php	/^        $maxAttachSize=2097152;\/\/最大上传大小，默认是2M$/;"	v
max_filename	system/libraries/Upload.php	/^		$this->max_filename = ((int) $n < 0) ? 0: (int) $n;$/;"	v
max_filename	system/libraries/Upload.php	/^	public $max_filename			= 0;$/;"	v
max_height	system/libraries/Upload.php	/^		$this->max_height = ((int) $n < 0) ? 0: (int) $n;$/;"	v
max_height	system/libraries/Upload.php	/^	public $max_height				= 0;$/;"	v
max_img_height	application/controllers/reg.php	/^        $this->max_img_height = 200;$/;"	v
max_img_height	application/core/MY_Controller.php	/^        $this->max_img_height = 505;$/;"	v
max_img_width	application/controllers/reg.php	/^        $this->max_img_width = 200;$/;"	v
max_img_width	application/core/MY_Controller.php	/^        $this->max_img_width = 800;$/;"	v
max_length	system/libraries/Form_validation.php	/^	public function max_length($str, $val)$/;"	f
max_redirects	application/controllers/HttpClient.class.php	/^        $this->max_redirects = $num;$/;"	v
max_redirects	application/controllers/HttpClient.class.php	/^    var $max_redirects = 5;$/;"	v
max_size	system/libraries/Upload.php	/^		$this->max_size = ((int) $n < 0) ? 0: (int) $n;$/;"	v
max_size	system/libraries/Upload.php	/^	public $max_size				= 0;$/;"	v
max_width	system/libraries/Upload.php	/^		$this->max_width = ((int) $n < 0) ? 0: (int) $n;$/;"	v
max_width	system/libraries/Upload.php	/^	public $max_width				= 0;$/;"	v
mcrypt_decode	system/libraries/Encrypt.php	/^	function mcrypt_decode($data, $key)$/;"	f
mcrypt_encode	system/libraries/Encrypt.php	/^	function mcrypt_encode($data, $key)$/;"	f
mdate	system/helpers/date_helper.php	/^	function mdate($datestr = '', $time = '')$/;"	f
me	system/libraries/Xmlrpc.php	/^	var $me		= array();$/;"	v
mem	application/controllers/test.php	/^        $mem = new Memcache;$/;"	v
mem	application/controllers/test.php	/^    public function mem()$/;"	f
member	system/core/Input.php	/^	 * Returns the value of a single member of the headers class member$/;"	c
memory	system/core/Output.php	/^			$memory	 = ( ! function_exists('memory_get_usage')) ? '0' : round(memory_get_usage()\/1024\/1024, 2).'MB';$/;"	v
memory_usage	system/core/Benchmark.php	/^	function memory_usage()$/;"	f
menu	system/helpers/date_helper.php	/^		$menu = '<select name="'.$name.'"';$/;"	v
merges	system/database/DB_active_rec.php	/^	 * When called, this function merges any cached AR arrays with$/;"	f
mess	js/mainpage2.js	/^function mess () {$/;"	f
mess	js/mess.js	/^function mess () {$/;"	f
message	system/core/Exceptions.php	/^		$message = "The page you requested was not found.";$/;"	v
message	system/core/Exceptions.php	/^		$message = '<p>'.implode('<\/p><p>', ( ! is_array($message)) ? array($message) : $message).'<\/p>';$/;"	v
message	system/core/Exceptions.php	/^	var $message;$/;"	v
message	system/database/DB_driver.php	/^			$message = $error;$/;"	v
message	system/database/DB_driver.php	/^			$message = ( ! is_array($error)) ? array(str_replace('%s', $swap, $LANG->line($error))) : $error;$/;"	v
message	system/libraries/Email.php	/^	public function message($body)$/;"	f
message	system/libraries/Form_validation.php	/^				$message = sprintf($line, $this->_translate_fieldname($row['label']));$/;"	v
message	system/libraries/Form_validation.php	/^				$message = sprintf($line, $this->_translate_fieldname($row['label']), $param);$/;"	v
message	system/libraries/Log.php	/^		$message  = '';$/;"	v
message	system/libraries/Trackback.php	/^				$message = trim($match['1']);$/;"	v
message	system/libraries/Trackback.php	/^			$message = 'An unknown error was encountered';$/;"	v
message	system/libraries/Xmlrpc.php	/^		$this->message = new XML_RPC_Message($this->method,$this->data);$/;"	v
message	system/libraries/Xmlrpc.php	/^	var $message			= '';$/;"	v
meta	system/helpers/html_helper.php	/^	function meta($name = '', $content = '', $type = 'name', $newline = "\\n")$/;"	f
methName	system/libraries/Xmlrpcs.php	/^		$methName = $m->method_name;$/;"	v
methName	system/libraries/Xmlrpcs.php	/^		elseif ( ! $methName = $call->me['struct']['methodName'])$/;"	v
method	application/controllers/HttpClient.class.php	/^        $this->method = 'GET';$/;"	v
method	application/controllers/HttpClient.class.php	/^        $this->method = 'POST';$/;"	v
method	application/controllers/HttpClient.class.php	/^    var $method;$/;"	v
method	system/core/CodeIgniter.php	/^				$method = (isset($x[1]) ? $x[1] : 'index');$/;"	v
method	system/core/CodeIgniter.php	/^			$method = (isset($x[1]) ? $x[1] : 'index');$/;"	v
method	system/core/CodeIgniter.php	/^	$method = $RTR->fetch_method();$/;"	v
method	system/core/Router.php	/^		$this->method = $method;$/;"	v
method	system/core/Router.php	/^	var $method			= 'index';$/;"	v
method	system/helpers/url_helper.php	/^	function redirect($uri = '', $method = 'location', $http_response_code = 302)$/;"	v
method	system/libraries/Email.php	/^				$method = 'set_'.$key;$/;"	v
method	system/libraries/Migration.php	/^		$method = $step === 1 ? 'up' : 'down';$/;"	v
method	system/libraries/Profiler.php	/^		foreach ($config as $method => $enable)$/;"	v
method	system/libraries/Upload.php	/^				$method = 'set_'.$key;$/;"	v
method	system/libraries/Xmlrpc.php	/^		$this->method = $function;$/;"	v
method	system/libraries/Xmlrpc.php	/^	function method($function)$/;"	f
method	system/libraries/Xmlrpc.php	/^	var $method;$/;"	v
methodHelp	system/libraries/Xmlrpcs.php	/^	function methodHelp($m)$/;"	f
methodSignature	system/libraries/Xmlrpcs.php	/^	function methodSignature($m)$/;"	f
method_name	system/libraries/Xmlrpc.php	/^		$this->method_name = $method;$/;"	v
method_name	system/libraries/Xmlrpc.php	/^	var $method_name;$/;"	v
method_name	system/libraries/Xmlrpcs.php	/^		$method_name = $parameters[0];$/;"	v
method_parts	system/libraries/Xmlrpcs.php	/^		$method_parts = explode(".", $this->methods[$methName]['function']);$/;"	v
methods	system/libraries/Driver.php	/^	private $methods = array();$/;"	v
methods	system/libraries/Xmlrpcs.php	/^			$this->methods = array_merge($this->methods, $config['functions']);$/;"	v
methods	system/libraries/Xmlrpcs.php	/^		$this->methods = array($/;"	v
methods	system/libraries/Xmlrpcs.php	/^	var $methods		= array();	\/\/array of methods mapped to function names and signatures$/;"	v
migrations	system/libraries/Migration.php	/^		$migrations = array();$/;"	v
migrations	system/libraries/Migration.php	/^		if ( ! $migrations = $this->find_migrations())$/;"	v
mime	system/helpers/download_helper.php	/^			$mime = 'application\/octet-stream';$/;"	v
mime	system/helpers/download_helper.php	/^			$mime = (is_array($mimes[$extension])) ? $mimes[$extension][0] : $mimes[$extension];$/;"	v
mime	system/libraries/Image_lib.php	/^		$mime = (isset($types[$vals['2']])) ? 'image\/'.$types[$vals['2']] : 'image\/jpg';$/;"	v
mime	system/libraries/Upload.php	/^						$mime = explode("\\n", trim($mime));$/;"	v
mime	system/libraries/Upload.php	/^					$mime = @fread($proc, 512);$/;"	v
mime	system/libraries/Upload.php	/^					$mime = explode("\\n", trim($mime));$/;"	v
mime	system/libraries/Upload.php	/^				$mime = @exec($cmd, $mime, $return_status);$/;"	v
mime	system/libraries/Upload.php	/^				$mime = @finfo_file($finfo, $file['tmp_name']);$/;"	v
mime	system/libraries/Upload.php	/^				$mime = @shell_exec($cmd);$/;"	v
mime	system/libraries/Upload.php	/^		$mime = $this->mimes_types($ext);$/;"	v
mime_type	system/core/Output.php	/^					$mime_type = current($mime_type);$/;"	v
mime_type	system/core/Output.php	/^				$mime_type =& $this->mime_types[$extension];$/;"	v
mime_type	system/libraries/Image_lib.php	/^		$this->mime_type	= $mime;$/;"	v
mime_type	system/libraries/Image_lib.php	/^	var $mime_type			= '';$/;"	v
mime_types	system/core/Output.php	/^		$this->mime_types = $mimes;$/;"	v
mime_types	system/core/Output.php	/^	protected $mime_types		= array();$/;"	v
mimes	application/config/mimes.php	/^$mimes = array(	'hqx'	=>	'application\/mac-binhex40',$/;"	v
mimes	system/libraries/Email.php	/^		$mimes = array(	'hqx'	=>	'application\/mac-binhex40',$/;"	v
mimes	system/libraries/Upload.php	/^			$this->mimes = $mimes;$/;"	v
mimes	system/libraries/Upload.php	/^	public $mimes					= array();$/;"	v
mimes_types	system/libraries/Upload.php	/^	public function mimes_types($mime)$/;"	f
min	system/helpers/date_helper.php	/^		$min  = (strlen($ex['1']) == 1) ? '0'.$ex['1'] : $ex['1'];$/;"	v
min_length	system/libraries/Form_validation.php	/^	public function min_length($str, $val)$/;"	f
mini	js/xheditor.min.js	/^(function(){var e={};window.XHEDITOR=e})(),function(e,t){e.mapLang={},e.setLang=function(i,s){s===t&&(s=i,i=""),""!==i&&(i+=".");var a,n;for(var o in s)n=s[o],a=i+o,"string"==typeof n||n instanceof Array?e.mapLang[a]=n:e.setLang(a,n)},e.getLang=function(i){var s=e.mapLang[i];if(s===t&&(s=i.replace(\/{#([^{}]+)}\/g,function(t,i){var s=e.mapLang[i];return s?s:i})),"string"==typeof s){var a=arguments;s=s.replace(\/{\\$(\\d+)}\/g,function(e,i){var s=a[parseInt(i,10)+1];return s!==t?s:e})}return s}}(XHEDITOR),function(XHEDITOR,$,undefined){var agent=navigator.userAgent.toLowerCase(),bMobile=\/mobile\/i.test(agent),browser=$.browser,browerVer=parseFloat(browser.version),isIE=browser.msie,isMozilla=browser.mozilla,isWebkit=browser.webkit,isOpera=browser.opera,isChrome=browser.chrome,bAir=agent.indexOf(" adobeair\/")>-1,xCount=0,bShowPanel=!1,bClickCancel=!0,bShowModal=!1,bCheckEscInit=!1,_jPanel,_jShadow,_jCntLine,_jPanelButton,jModal,jModalShadow,layerShadow,jOverlay,jHideSelect,onModalRemove,editorRoot,getLang=XHEDITOR.getLang;if($("script[src*=xheditor]").each(function(){var e=this.src;return e.match(\/xheditor[^\\\/]*\\.js\/i)?(editorRoot=e.replace(\/[\\?#].*$\/,"").replace(\/(^|[\\\/\\\\])[^\\\/]*$\/,"$1"),!1):undefined}),isIE){try{document.execCommand("BackgroundImageCache",!1,!0)}catch(e){}var jqueryVer=$.fn.jquery;jqueryVer&&jqueryVer.match(\/^1\\.[67]\/)&&($.attrHooks.width=$.attrHooks.height=null)}var specialKeys={27:"esc",9:"tab",32:"space",13:"enter",8:"backspace",145:"scroll",20:"capslock",144:"numlock",19:"pause",45:"insert",36:"home",46:"del",35:"end",33:"pageup",34:"pagedown",37:"left",38:"up",39:"right",40:"down",112:"f1",113:"f2",114:"f3",115:"f4",116:"f5",117:"f6",118:"f7",119:"f8",120:"f9",121:"f10",122:"f11",123:"f12"},arrAlign=[{v:"justifyleft"},{v:"justifycenter"},{v:"justifyright"},{v:"justifyfull"}],arrList=[{v:"insertOrderedList"},{v:"insertUnorderedList"}],htmlPastetext='<div><label for="xhePastetextValue">{#PastetextTip}<\/label><\/div><div><textarea id="xhePastetextValue" wrap="soft" spellcheck="false" style="width:300px;height:100px;" \/><\/div><div style="text-align:right;"><input type="button" id="xheSave" value="{#dialogOk}" \/><\/div>',htmlLink='<div><label for="xheLinkUrl">{#link.url}<\/label><input type="text" id="xheLinkUrl" value="http:\/\/" class="xheText" \/><\/div><div><label for="xheLinkTarget">{#link.target}<\/label><select id="xheLinkTarget"><option selected="selected" value="">{#default}<\/option><option value="_blank">{#link.targetBlank}<\/option><option value="_self">{#link.targetSelf}<\/option><option value="_parent">{#link.targetParent}<\/option><\/select><\/div><div style="display:none"><label for="xheLinkText">{#link.linkText}<\/label><input type="text" id="xheLinkText" value="" class="xheText" \/><\/div><div style="text-align:right;"><input type="button" id="xheSave" value="{#dialogOk}" \/><\/div>',htmlAnchor='<div><label for="xheAnchorName">{#anchor.name}<\/label><input type="text" id="xheAnchorName" value="" class="xheText" \/><\/div><div style="text-align:right;"><input type="button" id="xheSave" value="{#dialogOk}" \/><\/div>',htmlImg='<div><label for="xheImgUrl">{#img.url}<\/label><input type="text" id="xheImgUrl" value="http:\/\/" class="xheText" \/><\/div><div><div><label for="xheImgAlt">{#img.alt}<\/label><input type="text" id="xheImgAlt" \/><\/div><div><label for="xheImgAlign">{#img.align}<\/label><select id="xheImgAlign"><option selected="selected" value="">{#default}<\/option><option value="left">{#img.alignLeft}<\/option><option value="right">{#img.alignRight}<\/option><option value="top">{#img.alignTop}<\/option><option value="middle">{#img.alignMiddle}<\/option><option value="baseline">{#img.alignBaseline}<\/option><option value="bottom">{#img.alignBottom}<\/option><\/select><\/div><div><label for="xheImgWidth">{#img.width}<\/label><input type="text" id="xheImgWidth" style="width:40px;" \/> <label for="xheImgHeight">{#img.height}<\/label><input type="text" id="xheImgHeight" style="width:40px;" \/><\/div><div><label for="xheImgBorder">{#img.border}<\/label><input type="text" id="xheImgBorder" style="width:40px;" \/><\/div><div><label for="xheImgHspace">{#img.hspace}<\/label><input type="text" id="xheImgHspace" style="width:40px;" \/> <label for="xheImgVspace">{#img.vspace}<\/label><input type="text" id="xheImgVspace" style="width:40px;" \/><\/div><div style="text-align:right;"><input type="button" id="xheSave" value="{#dialogOk}" \/><\/div>',htmlFlash='<div><label for="xheFlashUrl">{#flash.url}<\/label><input type="text" id="xheFlashUrl" value="http:\/\/" class="xheText" \/><\/div><div><label for="xheFlashWidth">{#flash.width}<\/label><input type="text" id="xheFlashWidth" style="width:40px;" value="480" \/> <label for="xheFlashHeight">{#flash.height}<\/label><input type="text" id="xheFlashHeight" style="width:40px;" value="400" \/><\/div><div style="text-align:right;"><input type="button" id="xheSave" value="{#dialogOk}" \/><\/div>',htmlMedia='<div><label for="xheMediaUrl">{#media.url}<\/label><input type="text" id="xheMediaUrl" value="http:\/\/" class="xheText" \/><\/div><div><label for="xheMediaWidth">{#media.width}<\/label><input type="text" id="xheMediaWidth" style="width:40px;" value="480" \/> <label for="xheMediaHeight">{#media.height}<\/label><input type="text" id="xheMediaHeight" style="width:40px;" value="400" \/><\/div><div style="text-align:right;"><input type="button" id="xheSave" value="{#dialogOk}" \/><\/div>',htmlTable='<div><label for="xheTableRows">{#table.rows}<\/label><input type="text" id="xheTableRows" style="width:40px;" value="3" \/> <label for="xheTableColumns">{#table.columns}<\/label><input type="text" id="xheTableColumns" style="width:40px;" value="2" \/><\/div><div><label for="xheTableHeaders">{#table.headers}<\/label><select id="xheTableHeaders"><option selected="selected" value="">{#none}<\/option><option value="row">{#table.headersRow}<\/option><option value="col">{#table.headersCol}<\/option><option value="both">{#table.headersBoth}<\/option><\/select><\/div><div><label for="xheTableWidth">{#table.width}<\/label><input type="text" id="xheTableWidth" style="width:40px;" value="200" \/> <label for="xheTableHeight">{#table.height}<\/label><input type="text" id="xheTableHeight" style="width:40px;" value="" \/><\/div><div><label for="xheTableBorder">{#table.border}<\/label><input type="text" id="xheTableBorder" style="width:40px;" value="1" \/><\/div><div><label for="xheTableCellSpacing">{#table.cellSpacing}<\/label><input type="text" id="xheTableCellSpacing" style="width:40px;" value="1" \/> <label for="xheTableCellPadding">{#table.cellPadding}<\/label><input type="text" id="xheTableCellPadding" style="width:40px;" value="1" \/><\/div><div><label for="xheTableAlign">{#table.align}<\/label><select id="xheTableAlign"><option selected="selected" value="">{#default}<\/option><option value="left">{#table.alignLeft}<\/option><option value="center">{#table.alignCenter}<\/option><option value="right">{#table.alignRight}<\/option><\/select><\/div><div><label for="xheTableCaption">{#table.caption}<\/label><input type="text" id="xheTableCaption" \/><\/div><div style="text-align:right;"><input type="button" id="xheSave" value="{#dialogOk}" \/><\/div>',htmlAbout='<div style="font:12px Arial;width:245px;word-wrap:break-word;word-break:break-all;outline:none;" role="dialog" tabindex="-1"><p><span style="font-size:20px;color:#1997DF;">xhEditor<\/span><br \/>v1.2.1 (build 130225)<\/p><p>{#aboutXheditor}<\/p><p>Copyright &copy; <a href="http:\/\/xheditor.com\/" target="_blank">xhEditor.com<\/a>. All rights reserved.<\/p><\/div>',itemEmots={"default":{name:"{#default}",width:24,height:24,line:7,list:["smile","tongue","titter","laugh","sad","wronged","fastcry","cry","wail","mad","knock","curse","crazy","angry","ohmy","awkward","panic","shy","cute","envy","proud","struggle","quiet","shutup","doubt","despise","sleep","bye"]}},arrTools={Cut:{t:"Cut"},Copy:{t:"Copy"},Paste:{t:"Paste"},Pastetext:{t:"Pastetext",h:isIE?0:1},Blocktag:{t:"Blocktag",h:1},Fontface:{t:"Fontface",h:1},FontSize:{t:"FontSize",h:1},Bold:{t:"Bold",s:"Ctrl+B"},Italic:{t:"Italic",s:"Ctrl+I"},Underline:{t:"Underline",s:"Ctrl+U"},Strikethrough:{t:"Strikethrough"},FontColor:{t:"FontColor",h:1},BackColor:{t:"BackColor",h:1},SelectAll:{t:"SelectAll"},Removeformat:{t:"Removeformat"},Align:{t:"Align",h:1},List:{t:"List",h:1},Outdent:{t:"Outdent"},Indent:{t:"Indent"},Link:{t:"Link",s:"Ctrl+L",h:1},Unlink:{t:"Unlink"},Anchor:{t:"Anchor",h:1},Img:{t:"Img",h:1},Flash:{t:"Flash",h:1},Media:{t:"Media",h:1},Hr:{t:"Hr"},Emot:{t:"Emot",s:"ctrl+e",h:1},Table:{t:"Table",h:1},Source:{t:"Source"},Preview:{t:"Preview"},Print:{t:"Print",s:"Ctrl+P"},Fullscreen:{t:"Fullscreen",s:"Esc"},About:{t:"About"}},toolsThemes={mini:"Bold,Italic,Underline,Strikethrough,|,Align,List,|,Link,Img",simple:"Blocktag,Fontface,FontSize,Bold,Italic,Underline,Strikethrough,FontColor,BackColor,|,Align,List,Outdent,Indent,|,Link,Img,Emot",full:"Cut,Copy,Paste,Pastetext,|,Blocktag,Fontface,FontSize,Bold,Italic,Underline,Strikethrough,FontColor,BackColor,SelectAll,Removeformat,|,Align,List,Outdent,Indent,|,Link,Unlink,Anchor,Img,Flash,Media,Hr,Emot,Table,|,Source,Preview,Print,Fullscreen"};toolsThemes.mfull=toolsThemes.full.replace(\/\\|(,Align)\/i,"\/$1");var arrDbClick={a:"Link",img:"Img",embed:"Embed"},uploadInputname="filedata",arrEntities={"<":"&lt;",">":"&gt;",'"':"&quot;","\\u00ae":"&reg;","\\u00a9":"&copy;"},regEntities=\/[<>"\\u00ae\\u00a9]\/g,Xheditor=function(textarea,options){function checkDblClick(e){var t=e.target,i=arrDbClick[t.tagName.toLowerCase()];if(i){if("Embed"===i){var s={"application\/x-shockwave-flash":"Flash","application\/x-mplayer2":"Media"};i=s[t.type.toLowerCase()]}_this.exec(i)}}function checkEsc(e){return 27===e.which?(bShowModal?_this.removeModal():bShowPanel&&_this.hidePanel(),!1):undefined}function loadReset(){setTimeout(_this.setSource,10)}function saveResult(){_this.getSource()}function cleanPaste(e){var t,i,s;if(e&&(t=e.originalEvent.clipboardData)&&(i=t.items)&&(s=i[0])&&"file"==s.kind&&s.type.match(\/^image\\\/\/i)){var a=s.getAsFile(),n=new FileReader;return n.onload=function(){var e='<img src="'+event.target.result+'">';e=replaceRemoteImg(e),_this.pasteHTML(e)},n.readAsDataURL(a),!1}var o=settings.cleanPaste;if(0===o||bSource||bCleanPaste)return!0;bCleanPaste=!0,_this.saveBookmark();var l=isIE?"pre":"div",r=$("<"+l+' class="xhe-paste">\\ufeff\\ufeff<\/'+l+">",_doc).appendTo(_doc.body),h=r[0],c=_this.getSel(),d=_this.getRng(!0);r.css("top",_jWin.scrollTop()),isIE?(d.moveToElementText(h),d.select()):(d.selectNodeContents(h),c.removeAllRanges(),c.addRange(d)),setTimeout(function(){var e,t=3===o;if(t)r.html(r.html().replace(\/<br(\\s+[^<>]*)?>\/gi,"\\n")),e=r.text();else{var i=$(".xhe-paste",_doc.body),s=[];i.each(function(e,t){0==$(t).find(".xhe-paste").length&&s.push(t.innerHTML)}),e=s.join("<br \/>")}r.remove(),_this.loadBookmark(),e=e.replace(\/^[\\s\\uFEFF]+|[\\s\\uFEFF]+$\/g,""),e&&(t?_this.pasteText(e):(e=_this.cleanHTML(e),e=_this.cleanWord(e),e=_this.formatXHTML(e),(!settings.onPaste||settings.onPaste&&(e=settings.onPaste(e))!==!1)&&(e=replaceRemoteImg(e),_this.pasteHTML(e)))),bCleanPaste=!1},0)}function replaceRemoteImg(e){var t=settings.localUrlTest,i=settings.remoteImgSaveUrl;if(t&&i){var s=[],a=0;e=e.replace(\/(<img)((?:\\s+[^>]*?)?(?:\\s+src="\\s*([^"]+)\\s*")(?: [^>]*)?)(\\\/?>)\/gi,function(e,i,n,o,l){return!\/^(https?|data:image)\/i.test(o)||\/_xhe_temp\/.test(n)||t.test(o)||(s[a]=o,n=n.replace(\/\\s+(width|height)="[^"]*"\/gi,"").replace(\/\\s+src="[^"]*"\/gi,' src="'+skinPath+'img\/waiting.gif" remoteimg="'+a++ +'"')),i+n+l}),s.length>0&&$.post(i,{urls:s.join("|")},function(e){e=e.split("|"),$("img[remoteimg]",_this.doc).each(function(){var t=$(this);xheAttr(t,"src",e[t.attr("remoteimg")]),t.removeAttr("remoteimg")})})}return e}function setCSS(e){try{_this._exec("styleWithCSS",e,!0)}catch(t){try{_this._exec("useCSS",!e,!0)}catch(t){}}}function setOpts(){if(bInit&&!bSource){setCSS(!1);try{_this._exec("enableObjectResizing",!0,!0)}catch(e){}if(isIE)try{_this._exec("BackgroundImageCache",!0,!0)}catch(e){}}}function forcePtag(e){if(bSource||13!==e.which||e.shiftKey||e.ctrlKey||e.altKey)return!0;var t=_this.getParent("p,h1,h2,h3,h4,h5,h6,pre,address,div,li");return t.is("li")?!0:settings.forcePtag?(0===t.length&&_this._exec("formatblock","<p>"),undefined):(_this.pasteHTML("<br \/>"),isIE&&t.length>0&&2===_this.getRng().parentElement().childNodes.length&&_this.pasteHTML("<br \/>"),!1)}function fixFullHeight(){isMozilla||isWebkit||(bFullscreen&&_jArea.height("100%").css("height",_jArea.outerHeight()-_jTools.outerHeight()),isIE&&_jTools.hide().show())}function fixAppleSel(e){if(e=e.target,e.tagName.match(\/(img|embed)\/i)){var t=_this.getSel(),i=_this.getRng(!0);i.selectNode(e),t.removeAllRanges(),t.addRange(i)}}function xheAttr(e,t,i){if(!t)return!1;var s="_xhe_"+t;return i&&(urlType&&(i=getLocalUrl(i,urlType,urlBase)),e.attr(t,urlBase?getLocalUrl(i,"abs",urlBase):i).removeAttr(s).attr(s,i)),e.attr(s)||e.attr(t)}function clickCancelPanel(){bClickCancel&&_this.hidePanel()}function checkShortcuts(e){if(bSource)return!0;var t=e.which,i=specialKeys[t],s=i?i:String.fromCharCode(t).toLowerCase();sKey="",sKey+=e.ctrlKey?"ctrl+":"",sKey+=e.altKey?"alt+":"",sKey+=e.shiftKey?"shift+":"",sKey+=s;var a,n=arrShortCuts[sKey];for(a in n){if(a=n[a],!$.isFunction(a))return _this.exec(a),!1;if(a.call(_this)===!1)return!1}}function is(e,t){var i=typeof e;return t?"array"===t&&e.hasOwnProperty&&e instanceof Array?!0:i===t:"undefined"!=i}function getLocalUrl(e,t,i){if(e.match(\/^(\\w+):\\\/\\\/\/i)&&!e.match(\/^https?:\/i)||\/^#\/i.test(e)||\/^data:\/i.test(e))return e;var s=i?$('<a href="'+i+'" \/>')[0]:location,a=s.protocol,n=s.host,o=s.hostname,l=s.port,r=s.pathname.replace(\/\\\\\/g,"\/").replace(\/[^\\\/]+$\/i,"");if(""===l&&(l="80"),""===r?r="\/":"\/"!==r.charAt(0)&&(r="\/"+r),e=$.trim(e),"abs"!==t&&(e=e.replace(RegExp(a+"\\\\\/\\\\\/"+o.replace(\/\\.\/g,"\\\\.")+"(?::"+l+")"+("80"===l?"?":"")+"(\/|$)","i"),"\/")),"rel"===t&&(e=e.replace(RegExp("^"+r.replace(\/([\\\/\\.\\+\\[\\]\\(\\)])\/g,"\\\\$1"),"i"),"")),"rel"!==t&&(e.match(\/^(https?:\\\/\\\/|\\\/)\/i)||(e=r+e),"\/"===e.charAt(0))){var h,c,d=[],u=e.split("\/"),p=u.length;for(c=0;p>c;c++)h=u[c],".."===h?d.pop():""!==h&&"."!==h&&d.push(h);""===u[p-1]&&d.push(""),e="\/"+d.join("\/")}return"abs"!==t||e.match(\/^https?:\\\/\\\/\/i)||(e=a+"\/\/"+n+e),e=e.replace(\/(https?:\\\/\\\/[^:\\\/?#]+):80(\\\/|$)\/i,"$1$2")}function checkFileExt(e,t){return"*"===t||e.match(RegExp(".("+t.replace(\/,\/g,"|")+")$","i"))?!0:(alert(getLang("upload.extLimit",t)),!1)}function formatBytes(e){var t=["Byte","KB","MB","GB","TB","PB"],i=Math.floor(Math.log(e)\/Math.log(1024));return(e\/Math.pow(1024,Math.floor(i))).toFixed(2)+t[i]}function returnFalse(){return!1}var _this=this,_text=textarea,_jText=$(_text),_jForm=_jText.closest("form"),_jTools,_jArea,_win,_jWin,_doc,_jDoc,bookmark,bInit=!1,bSource=!1,bFullscreen=!1,bCleanPaste=!1,outerScroll,bShowBlocktag=!1,sLayoutStyle="",ev=null,timer,bDisableHoverExec=!1,bQuickHoverExec=!1,lastPoint=null,lastAngle=null,editorHeight=0,settings=_this.settings=$.extend({},XHEDITOR.settings,options),plugins=settings.plugins,strPlugins=[];if(plugins&&(arrTools=$.extend({},arrTools,plugins),$.each(plugins,function(e){strPlugins.push(e)}),strPlugins=strPlugins.join(",")),settings.tools.match(\/^\\s*(m?full|simple|mini)\\s*$\/i)){var toolsTheme=toolsThemes[$.trim(settings.tools)];settings.tools=settings.tools.match(\/m?full\/i)&&plugins?toolsTheme.replace("Table","Table,"+strPlugins):toolsTheme}settings.tools.match(\/(^|,)\\s*About\\s*(,|$)\/i)||(settings.tools+=",About"),settings.tools=settings.tools.split(","),settings.editorRoot&&(editorRoot=settings.editorRoot),bAir===!1&&(editorRoot=getLocalUrl(editorRoot,"abs")),settings.urlBase&&(settings.urlBase=getLocalUrl(settings.urlBase,"abs"));var idCSS="xheCSS_"+settings.skin,idContainer="xhe"+xCount+"_container",idTools="xhe"+xCount+"_Tool",idIframeArea="xhe"+xCount+"_iframearea",idIframe="xhe"+xCount+"_iframe",idFixFFCursor="xhe"+xCount+"_fixffcursor",headHTML="",bodyClass="",skinPath=editorRoot+"xheditor_skin\/"+settings.skin+"\/",arrEmots=itemEmots,urlType=settings.urlType,urlBase=settings.urlBase,emotPath=settings.emotPath,emotPath=emotPath?emotPath:editorRoot+"xheditor_emot\/",selEmotGroup="";arrEmots=$.extend({},arrEmots,settings.emots),emotPath=getLocalUrl(emotPath,"rel",urlBase?urlBase:null),bShowBlocktag=settings.showBlocktag,bShowBlocktag&&(bodyClass+=" showBlocktag");var arrShortCuts=[];this.init=function(){function e(e){var t,i=$(e.target);(t=i.css("width"))&&i.css("width","").attr("width",t.replace(\/[^0-9%]+\/g,"")),(t=i.css("height"))&&i.css("height","").attr("height",t.replace(\/[^0-9%]+\/g,""))}0===$("#"+idCSS).length&&$("head").append('<link id="'+idCSS+'" rel="stylesheet" type="text\/css" href="'+skinPath+'ui.css" \/>');var t=_jText.outerWidth(),i=_jText.outerHeight(),s=settings.width||_text.style.width||(t>10?t:0);editorHeight=settings.height||_text.style.height||(i>10?i:150),\/^\\d+(?:\\.\\d+)?$\/.test(s)&&(s+="px"),is(editorHeight,"string")&&(editorHeight=editorHeight.replace(\/[^\\d]+\/g,""));var a,n,o=settings.background||_text.style.background,l=['<span class="xheGStart"\/>'],r=\/\\||\\\/\/i;$.each(settings.tools,function(e,t){if(t.match(r)&&l.push('<span class="xheGEnd"\/>'),"|"===t)l.push('<span class="xheSeparator"\/>');else if("\/"===t)l.push("<br \/>");else{if(a=arrTools[t],!a)return;n=a.c?a.c:"xheIcon xheBtn"+t,l.push('<span><a href="#" title="{#'+a.t+'}" cmd="'+t+'" class="xheButton xheEnabled" tabindex="-1" role="button"><span class="'+n+'" unselectable="on" style="font-size:0;color:transparent;text-indent:-999px;">'+a.t+"<\/span><\/a><\/span>"),a.s&&_this.addShortcuts(a.s,t)}t.match(r)&&l.push('<span class="xheGStart"\/>')}),l.push('<span class="xheGEnd"\/><br \/>'),_jText.after($('<input type="text" id="'+idFixFFCursor+'" style="position:absolute;display:none;" \/><span id="'+idContainer+'" class="xhe_'+settings.skin+'" style="display:none"><table cellspacing="0" cellpadding="0" class="xheLayout" style="'+("0px"!=s?"width:"+s+";":"")+"height:"+editorHeight+'px;" role="presentation"><tr><td id="'+idTools+'" class="xheTool" unselectable="on" style="height:1px;" role="presentation"><\/td><\/tr><tr><td id="'+idIframeArea+'" class="xheIframeArea" role="presentation"><iframe frameborder="0" id="'+idIframe+'" src="javascript:;" style="width:100%;"><\/iframe><\/td><\/tr><\/table><\/span>')),_jTools=$("#"+idTools),_jArea=$("#"+idIframeArea),headHTML='<meta http-equiv="Content-Type" content="text\/html; charset=utf-8" \/><link rel="stylesheet" href="'+skinPath+'iframe.css"\/>';var h=settings.loadCSS;if(h)if(is(h,"array"))for(var c in h)headHTML+='<link rel="stylesheet" href="'+h[c]+'"\/>';else headHTML+=h.match(\/\\s*<style(\\s+[^>]*?)?>[\\s\\S]+?<\\\/style>\\s*\/i)?h:'<link rel="stylesheet" href="'+h+'"\/>';var d='<!DOCTYPE html><html xmlns="http:\/\/www.w3.org\/1999\/xhtml"><head>'+headHTML+"<title>{#defaultReadTip} "+(settings.readTip?settings.readTip:"")+"<\/title>";o&&(d+="<style>html{background:"+o+";}<\/style>"),d+='<\/head><body spellcheck="0" class="editMode'+bodyClass+'"><\/body><\/html>',_this.win=_win=$("#"+idIframe)[0].contentWindow,_jWin=$(_win);try{this.doc=_doc=_win.document,_jDoc=$(_doc),_doc.open(),_doc.write(getLang(d)),_doc.close(),isIE?_doc.body.contentEditable="true":_doc.designMode="On"}catch(u){}setTimeout(setOpts,300),_this.setSource(),_win.setInterval=null,_jTools.append(getLang(l.join(""))).bind("mousedown contextmenu",returnFalse).click(function(e){var t=$(e.target).closest("a");return t.is(".xheEnabled")&&(clearTimeout(timer),_jTools.find("a").attr("tabindex","-1"),ev=e,_this.exec(t.attr("cmd"))),!1}),_jTools.find(".xheButton").hover(function(e){var t=$(this),i=settings.hoverExecDelay,s=lastAngle;if(lastAngle=null,-1===i||bDisableHoverExec||!t.is(".xheEnabled"))return!1;if(s&&s>10)return bDisableHoverExec=!0,setTimeout(function(){bDisableHoverExec=!1},100),!1;var a=t.attr("cmd"),n=1===arrTools[a].h;return n?(bQuickHoverExec&&(i=0),i>=0&&(timer=setTimeout(function(){ev=e,lastPoint={x:ev.clientX,y:ev.clientY},_this.exec(a)},i)),undefined):(_this.hidePanel(),!1)},function(){lastPoint=null,timer&&clearTimeout(timer)}).mousemove(function(e){if(lastPoint){var t={x:e.clientX-lastPoint.x,y:e.clientY-lastPoint.y};if(Math.abs(t.x)>1||Math.abs(t.y)>1){if(t.x>0&&t.y>0){var i=Math.round(Math.atan(t.y\/t.x)\/.017453293);lastAngle=lastAngle?(lastAngle+i)\/2:i}else lastAngle=null;lastPoint={x:e.clientX,y:e.clientY}}}}),_jPanel=$("#xhePanel"),_jShadow=$("#xheShadow"),_jCntLine=$("#xheCntLine"),0===_jPanel.length&&(_jPanel=$('<div id="xhePanel"><\/div>').mousedown(function(e){e.stopPropagation()}),_jShadow=$('<div id="xheShadow"><\/div>'),_jCntLine=$('<div id="xheCntLine"><\/div>'),setTimeout(function(){$(document.body).append(_jPanel).append(_jShadow).append(_jCntLine)},10)),$("#"+idContainer).show(),_jText.hide(),_jArea.css("height",editorHeight-_jTools.outerHeight()),isIE&8>browerVer&&setTimeout(function(){_jArea.css("height",editorHeight-_jTools.outerHeight())},1),_jText.focus(_this.focus),_jForm.submit(saveResult).bind("reset",loadReset),settings.submitID&&$("#"+settings.submitID).mousedown(saveResult),$(window).bind("unload beforeunload",saveResult).bind("resize",fixFullHeight),$(document).mousedown(clickCancelPanel),bCheckEscInit||($(document).keydown(checkEsc),bCheckEscInit=!0),_jWin.focus(function(){settings.focus&&settings.focus()}).blur(function(){settings.blur&&settings.blur()}),isWebkit&&_jWin.click(fixAppleSel),_jDoc.mousedown(clickCancelPanel).keydown(checkShortcuts).keypress(forcePtag).dblclick(checkDblClick).bind("mousedown click",function(e){_jText.trigger(e.type)}),isIE&&(_jDoc.keydown(function(e){var t=_this.getRng();return 8===e.which&&t.item?($(t.item(0)).remove(),!1):undefined}),_jDoc.bind("controlselect",function(t){t=t.target,$.nodeName(t,"IMG")&&$(t).unbind("resizeend",e).bind("resizeend",e)})),_jDoc.keydown(function(e){var t=e.which;return e.altKey&&t>=49&&57>=t?(_jTools.find("a").attr("tabindex","0"),_jTools.find(".xheGStart").eq(t-49).next().find("a").focus(),_doc.title="\\ufeff\\ufeff",!1):undefined}).click(function(){_jTools.find("a").attr("tabindex","-1")}),_jTools.keydown(function(e){var t=e.which;if(27==t)_jTools.find("a").attr("tabindex","-1"),_this.focus();else if(e.altKey&&t>=49&&57>=t)return _jTools.find(".xheGStart").eq(t-49).next().find("a").focus(),!1});var p=$(_doc.documentElement);isOpera?p.bind("keydown",function(e){e.ctrlKey&&86===e.which&&cleanPaste()}):p.bind(isIE?"beforepaste":"paste",cleanPaste),settings.disableContextmenu&&p.bind("contextmenu",returnFalse),settings.html5Upload&&p.bind("dragenter dragover",function(e){var t;return(t=e.originalEvent.dataTransfer.types)&&-1!==$.inArray("Files",t)?!1:undefined}).bind("drop",function(e){function t(e){var t,i,s;for(a=0;e.length>a;a++){if(i=e[a].name.replace(\/.+\\.\/,""),!(t=o.match(RegExp("(\\\\w+):[^:]*,"+i+"(?:,|$)","i"))))return 1;if(s){if(s!==t[1])return 2}else s=t[1]}return s}var i,s=e.originalEvent.dataTransfer;if(s&&(i=s.files)&&i.length>0){var a,n,o,l=["Link","Img","Flash","Media"],r=[];for(a in l)n=l[a],settings["up"+n+"Url"]&&settings["up"+n+"Url"].match(\/^[^!].*\/i)&&r.push(n+":,"+settings["up"+n+"Ext"]);return 0===r.length?!1:(o=r.join(","),n=t(i),1===n?alert(getLang("upload.extLimit",o.replace(\/\\w+:,\/g,""))):2===n?alert(getLang("upload.typeLimit")):n&&_this.startUpload(i,settings["up"+n+"Url"],"*",function(e){var t,i=[],s=settings.onUpload;s&&s(e);for(var a=0,o=e.length;o>a;a++)t=e[a],url=is(t,"string")?t:t.url,"!"===url.substr(0,1)&&(url=url.substr(1)),i.push(url);_this.exec(n),$("#xhe"+n+"Url").val(i.join(" ")),$("#xheSave").click()}),!1)}});var g=settings.shortcuts;g&&$.each(g,function(e,t){_this.addShortcuts(e,t)}),xCount++,bInit=!0,settings.fullscreen?_this.toggleFullscreen():settings.sourceMode&&setTimeout(_this.toggleSource,20);var f=settings.plugins;return f&&$.each(f,function(e,t){var i=t.i;i!==undefined&&i(_this)}),!0},this.remove=function(){_this.hidePanel(),saveResult(),_jText.unbind("focus",_this.focus),_jForm.unbind("submit",saveResult).unbind("reset",loadReset),settings.submitID&&$("#"+settings.submitID).unbind("mousedown",saveResult),$(window).unbind("unload beforeunload",saveResult).unbind("resize",fixFullHeight),$(document).unbind("mousedown",clickCancelPanel),$("#"+idContainer).remove(),$("#"+idFixFFCursor).remove(),_jText.show(),bInit=!1},this.saveBookmark=function(){if(!bSource){_this.focus();var e=_this.getRng();e=e.cloneRange?e.cloneRange():e,bookmark={top:_jWin.scrollTop(),rng:e}}},this.loadBookmark=function(){if(!bSource&&bookmark){_this.focus();var e=bookmark.rng;if(isIE)e.select();else{var t=_this.getSel();t.removeAllRanges(),t.addRange(e)}_jWin.scrollTop(bookmark.top),bookmark=null}},this.focus=function(){if(bSource?$("#sourceCode",_doc).focus():_win.focus(),isIE){var e=_this.getRng();e.parentElement&&e.parentElement().ownerDocument!==_doc&&_this.setTextCursor()}return!1},this.setTextCursor=function(e){var t=_this.getRng(!0),i=_doc.body;if(isIE)t.moveToElementText(i);else{for(var s=e?"lastChild":"firstChild";3!=i.nodeType&&i[s];)i=i[s];t.selectNode(i)}if(t.collapse(e?!1:!0),isIE)t.select();else{var a=_this.getSel();a.removeAllRanges(),a.addRange(t)}},this.getSel=function(){return _doc.selection?_doc.selection:_win.getSelection()},this.getRng=function(e){var t,i;try{e||(t=_this.getSel(),i=t.createRange?t.createRange():t.rangeCount>0?t.getRangeAt(0):null),i||(i=_doc.body.createTextRange?_doc.body.createTextRange():_doc.createRange())}catch(s){}return i},this.getParent=function(e){var t,i=_this.getRng();return isIE?t=i.item?i.item(0):i.parentElement():(t=i.commonAncestorContainer,i.collapsed||i.startContainer===i.endContainer&&2>i.startOffset-i.endOffset&&i.startContainer.hasChildNodes()&&(t=i.startContainer.childNodes[i.startOffset])),e=e?e:"*",t=$(t),t.is(e)||(t=$(t).closest(e)),t},this.getSelect=function(e){var t=_this.getSel(),i=_this.getRng(),s=!0;if(s=!i||i.item?!1:!t||0===i.boundingWidth||i.collapsed,"text"===e)return s?"":i.text||(t.toString?""+t:"");var a;if(i.cloneContents){var n,o=$("<div><\/div>");n=i.cloneContents(),n&&o.append(n),a=o.html()}else a=is(i.item)?i.item(0).outerHTML:is(i.htmlText)?i.htmlText:""+i;return s&&(a=""),a=_this.processHTML(a,"read"),a=_this.cleanHTML(a),a=_this.formatXHTML(a)},this.pasteHTML=function(e,t){if(bSource)return!1;_this.focus(),e=_this.processHTML(e,"write");var i=_this.getSel(),s=_this.getRng();if(t!==undefined){if(s.item){var a=s.item(0);s=_this.getRng(!0),s.moveToElementText(a),s.select()}s.collapse(t)}if(e+="<"+(isIE?"img":"span")+' id="_xhe_temp" width="0" height="0" \/>',s.insertNode){if($(s.startContainer).closest("style,script").length>0)return!1;s.deleteContents(),s.insertNode(s.createContextualFragment(e))}else"control"===i.type.toLowerCase()&&(i.clear(),s=_this.getRng()),s.pasteHTML(e);var n=$("#_xhe_temp",_doc),o=n[0];isIE?(s.moveToElementText(o),s.select()):(s.selectNode(o),i.removeAllRanges(),i.addRange(s)),n.remove()},this.pasteText=function(e,t){e||(e=""),e=_this.domEncode(e),e=e.replace(\/\\r?\\n\/g,"<br \/>"),_this.pasteHTML(e,t)},this.appendHTML=function(e){return bSource?!1:(_this.focus(),e=_this.processHTML(e,"write"),$(_doc.body).append(e),_this.setTextCursor(!0),undefined)},this.domEncode=function(e){return e.replace(regEntities,function(e){return arrEntities[e]})},this.setSource=function(e){bookmark=null,"string"!=typeof e&&""!==e&&(e=_text.value),bSource?$("#sourceCode",_doc).val(e):(settings.beforeSetSource&&(e=settings.beforeSetSource(e)),e=_this.cleanHTML(e),e=_this.formatXHTML(e),e=_this.processHTML(e,"write"),isIE?(_doc.body.innerHTML='<img id="_xhe_temp" width="0" height="0" \/>'+e,$("#_xhe_temp",_doc).remove()):_doc.body.innerHTML=e)},this.processHTML=function(e,t){function i(e,t,i,s,a,o){var l,r,h,c,d="";if(l=s.match(\/font-family\\s*:\\s*([^;"]+)\/i),l&&(d+=' face="'+l[1]+'"'),r=s.match(\/font-size\\s*:\\s*([^;"]+)\/i)){r=r[1].toLowerCase();for(var u=0;n.length>u;u++)if(r===n[u].n||r===n[u].s){h=u+1;break}h&&(d+=' size="'+h+'"',s=s.replace(\/(^|;)(\\s*font-size\\s*:\\s*[^;"]+;?)+\/gi,"$1"))}if(c=s.match(\/(?:^|[\\s;])color\\s*:\\s*([^;"]+)\/i)){var p;if(p=c[1].match(\/\\s*rgb\\s*\\(\\s*(\\d+)\\s*,\\s*(\\d+)\\s*,\\s*(\\d+)\\s*\\)\/i)){c[1]="#";for(var g=1;3>=g;g++)c[1]+=("0"+(p[g]-0).toString(16)).slice(-2)}c[1]=c[1].replace(\/^#([0-9a-f])([0-9a-f])([0-9a-f])$\/i,"#$1$1$2$2$3$3"),d+=' color="'+c[1]+'"'}return s=s.replace(\/(^|;)(\\s*(font-family|color)\\s*:\\s*[^;"]+;?)+\/gi,"$1"),""!==d?(s&&(d+=' style="'+s+'"'),"<font"+(i?i:"")+d+(a?a:"")+">"+o+"<\/font>"):e}function s(e,t,i,s,a){for(var n,l,r=(i?i:"")+(s?s:""),h=[],c=[],d=0;o.length>d;d++)n=o[d].r,l=o[d].t,r=r.replace(n,function(){return h.push("<"+l+">"),c.push("<\/"+l+">"),""});return r=r.replace(\/\\s+style\\s*=\\s*"\\s*"\/i,""),(r?"<span"+r+">":"")+h.join("")+a+c.join("")+(r?"<\/span>":"")}var a=' class="Apple-style-span"',n=settings.listFontsize;if("write"===t)e=e.replace(\/(<(\\\/?)(\\w+))((?:\\s+[\\w\\-:]+\\s*=\\s*(?:"[^"]*"|'[^']*'|[^>\\s]+))*)\\s*((\\\/?)>)\/g,function(e,t,i,s,n,o,l){s=s.toLowerCase(),isMozilla?"strong"===s?s="b":"em"===s&&(s="i"):isWebkit&&("strong"===s?(s="span",i||(n+=a+' style="font-weight: bold;"')):"em"===s?(s="span",i||(n+=a+' style="font-style: italic;"')):"u"===s?(s="span",i||(n+=a+' style="text-decoration: underline;"')):"strike"===s&&(s="span",i||(n+=a+' style="text-decoration: line-through;"')));var r,h="";if("del"===s)s="strike";else if("img"===s)n=n.replace(\/\\s+emot\\s*=\\s*("[^"]*"|'[^']*'|[^>\\s]+)\/i,function(e,t){return r=t.match(\/^(["']?)(.*)\\1\/)[2],r=r.split(","),r[1]||(r[1]=r[0],r[0]=""),"default"===r[0]&&(r[0]=""),settings.emotMark?e:""});else if("a"===s)!n.match(\/ href=[^ ]\/i)&&n.match(\/ name=[^ ]\/i)&&(h+=" xhe-anchor"),l&&(o="><\/a>");else if("table"===s&&!i){var c=n.match(\/\\s+border\\s*=\\s*("[^"]*"|'[^']*'|[^>\\s]+)\/i);(!c||c[1].match(\/^(["']?)\\s*0\\s*\\1$\/))&&(h+=" xhe-border")}var d;if(n=n.replace(\/\\s+([\\w\\-:]+)\\s*=\\s*("[^"]*"|'[^']*'|[^>\\s]+)\/g,function(e,t,i){return t=t.toLowerCase(),i=i.match(\/^(["']?)(.*)\\1\/)[2],aft="",isIE&&t.match(\/^(disabled|checked|readonly|selected)$\/)&&i.match(\/^(false|0)$\/i)?"":"img"===s&&r&&"src"===t?"":(t.match(\/^(src|href)$\/)&&(aft=" _xhe_"+t+'="'+i+'"',urlBase&&(i=getLocalUrl(i,"abs",urlBase))),h&&"class"===t&&(i+=" "+h,h=""),isWebkit&&"style"===t&&"span"===s&&i.match(\/(^|;)\\s*(font-family|font-size|color|background-color)\\s*:\\s*[^;]+\\s*(;|$)\/i)&&(d=!0)," "+t+'="'+i+'"'+aft)}),r){var u=emotPath+(r[0]?r[0]:"default")+"\/"+r[1]+".gif";n+=' src="'+u+'" _xhe_src="'+u+'"'}return d&&(n+=a),h&&(n+=' class="'+h+'"'),"<"+i+s+n+o}),isIE&&(e=e.replace(\/&apos;\/gi,"&#39;")),isWebkit||(e=e.replace(\/<(span)(\\s+[^>]*?)?\\s+style\\s*=\\s*"((?:[^"]*?;)?\\s*(?:font-family|font-size|color)\\s*:[^"]*)"( [^>]*)?>(((?!<\\1(\\s+[^>]*?)?>)[\\s\\S]|<\\1(\\s+[^>]*?)?>((?!<\\1(\\s+[^>]*?)?>)[\\s\\S]|<\\1(\\s+[^>]*?)?>((?!<\\1(\\s+[^>]*?)?>)[\\s\\S])*?<\\\/\\1>)*?<\\\/\\1>)*?)<\\\/\\1>\/gi,i),e=e.replace(\/<(span)(\\s+[^>]*?)?\\s+style\\s*=\\s*"((?:[^"]*?;)?\\s*(?:font-family|font-size|color)\\s*:[^"]*)"( [^>]*)?>(((?!<\\1(\\s+[^>]*?)?>)[\\s\\S]|<\\1(\\s+[^>]*?)?>((?!<\\1(\\s+[^>]*?)?>)[\\s\\S])*?<\\\/\\1>)*?)<\\\/\\1>\/gi,i),e=e.replace(\/<(span)(\\s+[^>]*?)?\\s+style\\s*=\\s*"((?:[^"]*?;)?\\s*(?:font-family|font-size|color)\\s*:[^"]*)"( [^>]*)?>(((?!<\\1(\\s+[^>]*?)?>)[\\s\\S])*?)<\\\/\\1>\/gi,i)),e=e.replace(\/<(td|th)(\\s+[^>]*?)?>(\\s|&nbsp;)*<\\\/\\1>\/gi,"<$1$2>"+(isIE?"":"<br \/>")+"<\/$1>");else{if(isWebkit)for(var o=[{r:\/font-weight\\s*:\\s*bold;?\/gi,t:"strong"},{r:\/font-style\\s*:\\s*italic;?\/gi,t:"em"},{r:\/text-decoration\\s*:\\s*underline;?\/gi,t:"u"},{r:\/text-decoration\\s*:\\s*line-through;?\/gi,t:"strike"}],l=0;2>l;l++)e=e.replace(\/<(span)(\\s+[^>]*?)?\\s+class\\s*=\\s*"Apple-style-span"(\\s+[^>]*?)?>(((?!<\\1(\\s+[^>]*?)?>)[\\s\\S]|<\\1(\\s+[^>]*?)?>((?!<\\1(\\s+[^>]*?)?>)[\\s\\S]|<\\1(\\s+[^>]*?)?>((?!<\\1(\\s+[^>]*?)?>)[\\s\\S])*?<\\\/\\1>)*?<\\\/\\1>)*?)<\\\/\\1>\/gi,s),e=e.replace(\/<(span)(\\s+[^>]*?)?\\s+class\\s*=\\s*"Apple-style-span"(\\s+[^>]*?)?>(((?!<\\1(\\s+[^>]*?)?>)[\\s\\S]|<\\1(\\s+[^>]*?)?>((?!<\\1(\\s+[^>]*?)?>)[\\s\\S])*?<\\\/\\1>)*?)<\\\/\\1>\/gi,s),e=e.replace(\/<(span)(\\s+[^>]*?)?\\s+class\\s*=\\s*"Apple-style-span"(\\s+[^>]*?)?>(((?!<\\1(\\s+[^>]*?)?>)[\\s\\S])*?)<\\\/\\1>\/gi,s);e=e.replace(\/(<(\\w+))((?:\\s+[\\w\\-:]+\\s*=\\s*(?:"[^"]*"|'[^']*'|[^>\\s]+))*)\\s*(\\\/?>)\/g,function(e,t,i,s,a){i=i.toLowerCase();$/;"	p
minutes	system/helpers/date_helper.php	/^		$minutes = floor($seconds \/ 60);$/;"	v
mirror	system/libraries/Ftp.php	/^	function mirror($locpath, $rempath)$/;"	f
mk	application/controllers/test.php	/^        $mk=mkdir('dtulog');$/;"	v
mk	application/controllers/testdir.php	/^$mk=mkdir('dtulog');	$/;"	v
mkdir	system/libraries/Ftp.php	/^	function mkdir($path = '', $permissions = NULL)$/;"	f
mobile	system/libraries/User_agent.php	/^					$this->mobile = $val;$/;"	v
mobile	system/libraries/User_agent.php	/^		return array_key_exists($key, $this->mobiles) AND $this->mobile === $this->mobiles[$key];$/;"	v
mobile	system/libraries/User_agent.php	/^	public function mobile()$/;"	f
mobile	system/libraries/User_agent.php	/^	var $mobile		= '';$/;"	v
mobiles	application/config/user_agents.php	/^$mobiles = array($/;"	v
mobiles	system/libraries/User_agent.php	/^			$this->mobiles = $mobiles;$/;"	v
mobiles	system/libraries/User_agent.php	/^	var $mobiles	= array();$/;"	v
modal	system/libraries/javascript/Jquery.php	/^	function modal($src, $relative = FALSE)$/;"	f
mode	system/helpers/file_helper.php	/^	function write_file($path, $data, $mode = FOPEN_WRITE_CREATE_DESTRUCTIVE)$/;"	v
mode	system/libraries/Ftp.php	/^					$mode = $this->_settype($ext);$/;"	v
mode	system/libraries/Ftp.php	/^			$mode = $this->_settype($ext);$/;"	v
mode	system/libraries/Ftp.php	/^		$mode = ($mode == 'ascii') ? FTP_ASCII : FTP_BINARY;$/;"	v
mode	system/libraries/Ftp.php	/^	function download($rempath, $locpath, $mode = 'auto')$/;"	v
mode	system/libraries/Ftp.php	/^	function upload($locpath, $rempath, $mode = 'auto', $permissions = NULL)$/;"	v
model	system/core/Loader.php	/^			$model = substr($model, $last_slash + 1);$/;"	v
model	system/core/Loader.php	/^			$model = ucfirst($model);$/;"	v
model	system/core/Loader.php	/^		$model = strtolower($model);$/;"	v
model	system/core/Loader.php	/^	public function model($model, $name = '', $db_conn = FALSE)$/;"	f
modify_column	system/database/DB_forge.php	/^	function modify_column($table = '', $field = array())$/;"	f
month	system/helpers/date_helper.php	/^		$month = (strlen($ex['1']) == 1) ? '0'.$ex['1']  : $ex['1'];$/;"	v
month	system/libraries/Calendar.php	/^			$month = '0'.$month;$/;"	v
month	system/libraries/Calendar.php	/^			$month = date("m", $this->local_time);$/;"	v
month	system/libraries/Calendar.php	/^		$month	= $adjusted_date['month'];$/;"	v
month	system/libraries/Calendar.php	/^		$month = $month_names[$month];$/;"	v
month	system/libraries/Calendar.php	/^	function generate($year = '', $month = '', $data = array())$/;"	v
month_names	system/libraries/Calendar.php	/^			$month_names = array('01' => 'cal_jan', '02' => 'cal_feb', '03' => 'cal_mar', '04' => 'cal_apr', '05' => 'cal_may', '06' => 'cal_jun', '07' => 'cal_jul', '08' => 'cal_aug', '09' => 'cal_sep', '10' => 'cal_oct', '11' => 'cal_nov', '12' => 'cal_dec');$/;"	v
month_names	system/libraries/Calendar.php	/^			$month_names = array('01' => 'cal_january', '02' => 'cal_february', '03' => 'cal_march', '04' => 'cal_april', '05' => 'cal_mayl', '06' => 'cal_june', '07' => 'cal_july', '08' => 'cal_august', '09' => 'cal_september', '10' => 'cal_october', '11' => 'cal_november', '12' => 'cal_december');$/;"	v
month_type	system/libraries/Calendar.php	/^	var $month_type		= 'long';$/;"	v
months	system/helpers/date_helper.php	/^		$months = floor($seconds \/ 2628000);$/;"	v
more	application/controllers/order.php	/^                $more = addslashes($data["more"][$i]);$/;"	v
more	application/controllers/order.php	/^            else $more = "";\/\/有时候，因为more没有输入，所以会造成bug，避免这个问题$/;"	v
morelen	application/controllers/order.php	/^        $morelen = count($data["more"]);$/;"	v
mouse	js/art.js	/^function mouse () {$/;"	f
mouse	js/mainpage2.js	/^function mouse () {$/;"	f
mouse	js/phone.js	/^function mouse () {$/;"	f
mouse.first	js/art.js	/^    function first (event) {$/;"	f
mouse.first	js/mainpage2.js	/^    function first (event) {$/;"	f
mouse.first	js/phone.js	/^    function first (event) {$/;"	f
mouse.hide	js/art.js	/^    function hide () {$/;"	f
mouse.hide	js/mainpage2.js	/^    function hide () {$/;"	f
mouse.hide	js/phone.js	/^    function hide () {$/;"	f
mouse.move	js/art.js	/^    function move (event) {$/;"	f
mouse.move	js/mainpage2.js	/^    function move (event) {$/;"	f
mouse.move	js/phone.js	/^    function move (event) {$/;"	f
mouse.show	js/art.js	/^    function show () {$/;"	f
mouse.show	js/mainpage2.js	/^    function show () {$/;"	f
mouse.show	js/phone.js	/^    function show () {$/;"	f
mouse.sp.x	js/art.js	/^    var sp = {x:0,y:0},ep = {x:0,y:0};$/;"	p
mouse.sp.x	js/mainpage2.js	/^    var sp = {x:0,y:0},ep = {x:0,y:0},doc = document;$/;"	p
mouse.sp.x	js/phone.js	/^    var sp = {x:0,y:0},ep = {x:0,y:0},doc = document;$/;"	p
mouse.sp.y	js/art.js	/^    var sp = {x:0,y:0},ep = {x:0,y:0};$/;"	p
mouse.sp.y	js/mainpage2.js	/^    var sp = {x:0,y:0},ep = {x:0,y:0},doc = document;$/;"	p
mouse.sp.y	js/phone.js	/^    var sp = {x:0,y:0},ep = {x:0,y:0},doc = document;$/;"	p
mousedown	system/libraries/Javascript.php	/^	function mousedown($element = 'this', $js = '')$/;"	f
mouseout	system/libraries/Javascript.php	/^	function mouseout($element = 'this', $js = '')$/;"	f
mouseover	system/libraries/Javascript.php	/^	function mouseover($element = 'this', $js = '')$/;"	f
mouseup	system/libraries/Javascript.php	/^	function mouseup($element = 'this', $js = '')$/;"	f
move	application/views/donghua.php	/^            move: function(obj, targetPos, count, Func) {$/;"	j
move	system/libraries/Ftp.php	/^	function move($old_file, $new_file)$/;"	f
move	system/libraries/Ftp.php	/^	function rename($old_file, $new_file, $move = FALSE)$/;"	v
msg	application/controllers/write.php	/^                        $msg="{'url':'".$targetPath."','localname':'".$this->jsonString($localName)."','id':'1'}";\/\/id参数固定不变，仅供演示，实际项目中可以是数据库ID;$/;"	v
msg	application/controllers/write.php	/^        $msg = "''";$/;"	v
msg	system/libraries/Email.php	/^		$msg = '';$/;"	v
msg	system/libraries/Ftp.php	/^				$msg = ($move == FALSE) ? 'ftp_unable_to_rename' : 'ftp_unable_to_move';$/;"	v
msg	system/libraries/Image_lib.php	/^				$msg = ($CI->lang->line($val) == FALSE) ? $val : $CI->lang->line($val);$/;"	v
msg	system/libraries/Image_lib.php	/^			$msg = ($CI->lang->line($msg) == FALSE) ? $msg : $CI->lang->line($msg);$/;"	v
msg	system/libraries/Upload.php	/^				$msg = ($CI->lang->line($val) == FALSE) ? $val : $CI->lang->line($val);$/;"	v
msg	system/libraries/Upload.php	/^			$msg = ($CI->lang->line($msg) == FALSE) ? $msg : $CI->lang->line($msg);$/;"	v
msg	system/libraries/Xmlrpc.php	/^			\/\/ $msg = XML_RPC_Messages$/;"	v
msg	system/libraries/Xmlrpcs.php	/^		$msg = new XML_RPC_Message($scalar_value);$/;"	v
msgType	application/controllers/write.php	/^        $msgType=2;\/\/返回上传参数的格式：1，url，2，返回参数数组$/;"	v
msgcc	js/art.js	/^function msgcc() {$/;"	f
msw	system/libraries/Sha1.php	/^		$msw = ($x >> 16) + ($y >> 16) + ($lsw >> 16);$/;"	v
mtime	system/libraries/Cache/drivers/Cache_file.php	/^			$mtime = filemtime($this->_cache_path.$id);$/;"	v
multicall	system/libraries/Xmlrpcs.php	/^	function multicall($m)$/;"	f
multicall_error	system/libraries/Xmlrpcs.php	/^	function multicall_error($err)$/;"	f
multipart	system/libraries/Email.php	/^	var	$multipart		= "mixed";	\/\/ "mixed" (in the body) or "related" (separate)$/;"	v
multiple	system/helpers/form_helper.php	/^		$multiple = (count($selected) > 1 && strpos($extra, 'multiple') === FALSE) ? ' multiple="multiple"' : '';$/;"	v
mupload	application/models/img.php	/^    function mupload($name,$upload_name,$id){$/;"	f
mupload	application/models/mhome.php	/^	function mupload($name,$upload_name,$id){$/;"	f
myorder	application/controllers/order.php	/^    public function myorder($ajax = 0)$/;"	f
mysql_to_unix	system/helpers/date_helper.php	/^	function mysql_to_unix($time = '')$/;"	f
mytype	system/libraries/Xmlrpc.php	/^			$this->mytype = $typeof;$/;"	v
mytype	system/libraries/Xmlrpc.php	/^		$this->mytype = $this->xmlrpcTypes['array'];$/;"	v
mytype	system/libraries/Xmlrpc.php	/^		$this->mytype = $this->xmlrpcTypes['struct'];$/;"	v
mytype	system/libraries/Xmlrpc.php	/^	var $mytype	= 0;$/;"	v
n	system/database/DB_result.php	/^			$n = 0;$/;"	v
n	system/helpers/text_helper.php	/^	function character_limiter($str, $n = 500, $end_char = '&#8230;')$/;"	v
n	system/libraries/Cart.php	/^		$n = trim(preg_replace('\/([^0-9\\.])\/i', '', $n));$/;"	v
n	system/libraries/Email.php	/^			$n = "";$/;"	v
n	system/libraries/Pagination.php	/^							$n = ($n == '') ? '' : $this->prefix.$n.$this->suffix;$/;"	v
n	system/libraries/Pagination.php	/^						$n = ($i == $base_page) ? '' : $i;$/;"	v
n	system/libraries/Sha1.php	/^		$n = ((strlen($str) + 8) >> 6) + 1;$/;"	v
n	system/libraries/Trackback.php	/^	function limit_characters($str, $n = 500, $end_char = '&#8230;')$/;"	v
name	application/controllers/message.php	/^		$name = $this->user->getNameById($id);$/;"	v
name	application/controllers/reg.php	/^            $name = $this->input->post("userId");$/;"	v
name	application/controllers/reg.php	/^        $name = $this->input->post("userName");$/;"	v
name	application/controllers/reg.php	/^        $name = urldecode($name);$/;"	v
name	application/views/message.php	/^	<title><?php $name = $this->session->userdata("user_name");if(strlen($name)!=0)echo $name."的";?>邮箱<\/title>$/;"	v
name	index.php	/^ * specific controller.  Leave the function name blank if you need$/;"	f
name	system/core/Common.php	/^				$name = $prefix.$class;$/;"	v
name	system/core/Common.php	/^			$name = config_item('subclass_prefix').$class;$/;"	v
name	system/core/Common.php	/^		$name = FALSE;$/;"	v
name	system/core/Common.php	/^* @param	string	the class name being requested$/;"	c
name	system/core/Common.php	/^* @param	string	the class name prefix$/;"	c
name	system/core/Loader.php	/^				$name = $class;$/;"	v
name	system/core/Loader.php	/^				$name = 'CI_'.$class;$/;"	v
name	system/core/Loader.php	/^				$name = config_item('subclass_prefix').$class;$/;"	v
name	system/core/Loader.php	/^			$name = $model;$/;"	v
name	system/core/Loader.php	/^			$name = $prefix.$class;$/;"	v
name	system/core/Loader.php	/^		\/\/ Get the class name, and while we're at it trim any slashes.$/;"	c
name	system/core/Loader.php	/^		\/\/ Is the class name valid?$/;"	c
name	system/core/Loader.php	/^		\/\/ Save the class name and object name$/;"	c
name	system/core/Loader.php	/^		\/\/ The directory path can be included as part of the class name,$/;"	c
name	system/core/Loader.php	/^		\/\/ Was a custom class name supplied?  If so we'll use it$/;"	c
name	system/core/Loader.php	/^		\/\/ Was the path included with the class name?$/;"	c
name	system/core/Loader.php	/^	 * List of class name mappings$/;"	c
name	system/core/Loader.php	/^	public function model($model, $name = '', $db_conn = FALSE)$/;"	v
name	system/core/Router.php	/^	 * Current class name$/;"	c
name	system/core/Router.php	/^	 * Set the class name$/;"	c
name	system/database/DB_driver.php	/^	 * @param	string	the function name$/;"	f
name	system/helpers/captcha_helper.php	/^				$name = str_replace(".jpg", "", $filename);$/;"	v
name	system/helpers/form_helper.php	/^		$name = (is_array($data)) ? $data['name'] : $data;$/;"	v
name	system/helpers/html_helper.php	/^				$name = array($name);$/;"	v
name	system/helpers/html_helper.php	/^			$name		= ( ! isset($meta['name']))		? ''	: $meta['name'];$/;"	v
name	system/helpers/html_helper.php	/^			$name = array(array('name' => $name, 'content' => $content, 'type' => $type, 'newline' => $newline));$/;"	v
name	system/helpers/smiley_helper.php	/^					foreach ($alias as $name => $id)$/;"	v
name	system/helpers/smiley_helper.php	/^				foreach ($alias as $name => $id)$/;"	v
name	system/libraries/Cache/drivers/Cache_memcached.php	/^				foreach ($CI->config->config['memcached'] as $name => $conf)$/;"	v
name	system/libraries/Cache/drivers/Cache_memcached.php	/^		foreach ($this->_memcache_conf as $name => $cache_server)$/;"	v
name	system/libraries/Email.php	/^				$name = $this->_prep_q_encoding($name, TRUE);$/;"	v
name	system/libraries/Email.php	/^				$name = '"'.addcslashes($name, "\\0..\\37\\177'\\"\\\\").'"';$/;"	v
name	system/libraries/Email.php	/^			$name = $replyto;$/;"	v
name	system/libraries/Email.php	/^			$name = '"'.$name.'"';$/;"	v
name	system/libraries/Email.php	/^	public function from($from, $name = '')$/;"	v
name	system/libraries/Email.php	/^	public function reply_to($replyto, $name = '')$/;"	v
name	system/libraries/Form_validation.php	/^	 * name has to match the  function name that it corresponds to.$/;"	f
name	system/libraries/Image_lib.php	/^		$name = ($ext === FALSE) ? $source_image : substr($source_image, 0, -strlen($ext));$/;"	v
name	system/libraries/Migration.php	/^			$name = basename($f[0], '.php');$/;"	v
name	system/libraries/Migration.php	/^			$name = basename($files[$i], '.php');$/;"	v
name	system/libraries/Session.php	/^		foreach ($userdata as $name => $value)$/;"	v
name	system/libraries/Table.php	/^				$name = (fmod($i++, 2)) ? '' : 'alt_';$/;"	v
name	system/libraries/Zip.php	/^						$name = str_replace($root_path, '', $name);$/;"	v
name	system/libraries/Zip.php	/^					$name = str_replace("\\\\", "\/", $path);$/;"	v
name	system/libraries/Zip.php	/^				$name = preg_replace("|.*\/(.+)|", "\\\\1", $name);$/;"	v
name	system/libraries/Zip.php	/^			$name = str_replace("\\\\", "\/", $path);$/;"	v
named	system/core/Output.php	/^		\/\/ Does the controller contain a function named _output()?$/;"	f
names	system/libraries/Xmlrpcs.php	/^	var $methods		= array();	\/\/array of methods mapped to function names and signatures$/;"	f
naughty	system/core/Security.php	/^		$naughty = 'alert|applet|audio|basefont|base|behavior|bgsound|blink|body|embed|expression|form|frameset|frame|head|html|ilayer|iframe|input|isindex|layer|link|meta|object|plaintext|style|script|textarea|title|video|xml|xss';$/;"	v
nbs	system/helpers/html_helper.php	/^	function nbs($num = 1)$/;"	f
needed	system/helpers/smiley_helper.php	/^ * Generates the javascript function needed to insert smileys into a form field$/;"	f
needs	system/core/CodeIgniter.php	/^ * class needs to be used very early on, but it cannot$/;"	c
new	application/controllers/userspace/user_photo.php	/^		$new=imagecreatetruecolor($width,$height);$/;"	v
new	system/libraries/Table.php	/^		$new = array();$/;"	v
newComBack	js/item.js	/^function newComBack(context,score) {$/;"	f
newFilename	application/controllers/write.php	/^                    $newFilename=date("YmdHis").mt_rand(1000,9999).'.'.$extension;$/;"	v
new_array	system/core/Input.php	/^			$new_array = array();$/;"	v
new_depth	system/helpers/directory_helper.php	/^			$new_depth	= $directory_depth - 1;$/;"	v
new_filename	system/libraries/Upload.php	/^				$new_filename = $filename.$i.$this->file_ext;$/;"	v
new_filename	system/libraries/Upload.php	/^		$new_filename = '';$/;"	v
new_flashdata_key	system/libraries/Session.php	/^		$new_flashdata_key = $this->flashdata_key.':new:'.$key;$/;"	v
new_height	system/libraries/Image_lib.php	/^		$new_height	= ceil($this->width*$this->orig_height\/$this->orig_width);$/;"	v
new_image	system/libraries/Image_lib.php	/^	var $new_image			= '';$/;"	v
new_memory	system/libraries/Upload.php	/^			$new_memory = number_format(ceil(filesize($file) + $current), 0, '.', '');$/;"	v
new_name	system/libraries/Session.php	/^				$new_name = $this->flashdata_key.':old:'.$parts[1];$/;"	v
new_sessid	system/libraries/Session.php	/^		$new_sessid = '';$/;"	v
new_sessid	system/libraries/Session.php	/^		$new_sessid = md5(uniqid($new_sessid, TRUE));$/;"	v
new_table_name	system/database/DB_forge.php	/^		if ($table_name == '' OR $new_table_name == '')$/;"	v
new_width	system/libraries/Image_lib.php	/^		$new_width	= ceil($this->orig_width*$this->height\/$this->orig_height);$/;"	v
newcom	application/controllers/item.php	/^    public function newcom($itemId = -1){$/;"	f
newdata	system/libraries/Session.php	/^			$newdata = array($newdata => $newval);$/;"	v
newdata	system/libraries/Session.php	/^			$newdata = array($newdata => '');$/;"	v
newfp	application/controllers/dsreceive.class.php	/^	$newfp = $farray;$/;"	v
newfp	application/controllers/dsreceive.class.php	/^	$newfp = '';$/;"	v
newfp	application/controllers/test.php	/^            $newfp = $farray;$/;"	v
newfp	application/controllers/test.php	/^            $newfp = '';$/;"	v
newfp	dsreceive.class.php	/^	$newfp = $farray;$/;"	v
newfp	dsreceive.class.php	/^	$newfp = '';$/;"	v
newget	application/models/mbgnewreg.php	/^		function newget(){$/;"	f
newline	system/helpers/html_helper.php	/^			$newline	= ( ! isset($meta['newline']))	? "\\n"	: $meta['newline'];$/;"	v
newline	system/libraries/Email.php	/^			$this->newline	= "\\n";$/;"	v
newline	system/libraries/Email.php	/^		$this->newline	= $newline;$/;"	v
newline	system/libraries/Email.php	/^	var	$newline		= "\\n";		\/\/ Default newline. "\\r\\n" or "\\n" (Use "\\r\\n" to comply with RFC 822)$/;"	v
newline	system/libraries/Table.php	/^	var $newline			= "\\n";$/;"	v
newreg	application/models/mreg.php	/^				public function newreg($name,$passwd)$/;"	f
newsql	system/database/drivers/oci8/oci8_driver.php	/^		$newsql = "SELECT * FROM (select inner_query.*, rownum rnum FROM ($sql) inner_query WHERE rownum < $limit)";$/;"	v
newstr	system/libraries/Typography.php	/^		$newstr = "";$/;"	v
newval	system/libraries/Session.php	/^	function set_flashdata($newdata = array(), $newval = '')$/;"	v
newval	system/libraries/Session.php	/^	function set_userdata($newdata = array(), $newval = '')$/;"	v
next_link	system/libraries/Pagination.php	/^	var $next_link			= '&gt;';$/;"	v
next_prev_url	system/libraries/Calendar.php	/^			$this->next_prev_url = preg_replace("\/(.+?)\\\/*$\/", "\\\\1\/",  $this->next_prev_url);$/;"	v
next_prev_url	system/libraries/Calendar.php	/^	var $next_prev_url	= '';$/;"	v
next_row	system/database/DB_result.php	/^	public function next_row($type = 'object')$/;"	f
next_tag_close	system/libraries/Pagination.php	/^	var $next_tag_close		= '&nbsp;';$/;"	v
next_tag_open	system/libraries/Pagination.php	/^	var $next_tag_open		= '&nbsp;';$/;"	v
nl2br_except_pre	system/helpers/typography_helper.php	/^	function nl2br_except_pre($str)$/;"	f
nl2br_except_pre	system/libraries/Typography.php	/^	function nl2br_except_pre($str)$/;"	f
noLogin	application/controllers/bg/home.php	/^    public function noLogin()$/;"	f
noLogin	application/controllers/write.php	/^    protected function noLogin()$/;"	f
noLogin	application/core/MY_Controller.php	/^    protected  function noLogin($url)$/;"	f
no_escape	system/database/DB_active_rec.php	/^					$no_escape = isset($this->ar_no_escape[$key]) ? $this->ar_no_escape[$key] : NULL;$/;"	v
no_multicall	system/libraries/Xmlrpc.php	/^	var $no_multicall	= FALSE;$/;"	v
no_result	system/core/URI.php	/^	function rsegment($n, $no_result = FALSE)$/;"	v
no_result	system/core/URI.php	/^	function segment($n, $no_result = FALSE)$/;"	v
nologin	application/controllers/order.php	/^    protected function nologin($url)$/;"	f
non_displayables	system/core/Common.php	/^		$non_displayables = array();$/;"	v
not	system/database/DB_active_rec.php	/^		$not = ($not) ? ' NOT' : '';$/;"	v
not_like	system/database/DB_active_rec.php	/^	public function not_like($field, $match = '', $side = 'both')$/;"	f
now	application/controllers/order.php	/^            $now = $this->mitem->getTitle($temp["item_id"]);$/;"	v
now	application/controllers/order.php	/^            $now = explode("|",$tmp[$i]);$/;"	v
now	application/controllers/sea.php	/^                    $now = explode("&",$userInfo["addr"]);\/\/将地址拆分$/;"	v
now	application/controllers/sea.php	/^                $now = explode("&",$userInfo["addr"]);\/\/将地址拆分$/;"	v
now	application/models/comitem.php	/^                $now = Array();$/;"	v
now	application/models/morder.php	/^                $now = explode(":",$temp[$i]);$/;"	v
now	application/models/user.php	/^                $now = explode(":",$temp[$i]);$/;"	v
now	application/views/bgItemMan.php	/^$now = $item[$i];$/;"	v
now	application/views/ordtoday.php	/^            $now = $today[$i];$/;"	v
now	application/views/userSpace.php	/^                            $now = 100*($temp['judgescore']\/$temp['comment_num']);$/;"	v
now	system/helpers/captcha_helper.php	/^		$now = ((float)$usec + (float)$sec);$/;"	v
now	system/helpers/date_helper.php	/^			$now = time();$/;"	v
now	system/helpers/date_helper.php	/^	function now()$/;"	f
now	system/libraries/Session.php	/^			$now = time();$/;"	v
now	system/libraries/Session.php	/^		$this->now = $this->_get_time();$/;"	v
now	system/libraries/Session.php	/^	var $now;$/;"	v
now	system/libraries/Zip.php	/^		$this->now = time();$/;"	v
now	system/libraries/Zip.php	/^	var $now;$/;"	v
nowSeller	application/controllers/order.php	/^            $nowSeller = $ordInfo[$i]["seller"];$/;"	v
nowTime	js/art.js	/^function nowTime () {$/;"	f
nowTime	js/messout.js	/^function nowTime () {$/;"	f
nowTime	js/spacePhoto.js	/^function nowTime () {\/\/获得本地的时间"2013-4-6 20:27:32"的形式$/;"	f
nows	application/views/myorder.php	/^            $nows = $cart[$cnt]["seller"];$/;"	v
nows	application/views/order.php	/^            $nows = $cart[$cnt]["seller"];$/;"	v
num	application/controllers/art_list.php	/^		$num=$this->mar_list->listall(2);$/;"	v
num	application/controllers/home.php	/^            $num=$this->art->allTotal();$/;"	v
num	application/controllers/home.php	/^            $num=$this->art->getTotal($part_id);$/;"	v
num	application/controllers/mainpage.php	/^            $num=$this->art->allTotal();$/;"	v
num	application/controllers/mainpage.php	/^            $num=$this->art->getTotal($part_id);$/;"	v
num	application/models/art.php	/^        $this->num=24;$/;"	v
num	application/models/art.php	/^    var $num;$/;"	v
num	application/models/mitem.php	/^        $this->num = 30;$/;"	v
num	application/models/mitem.php	/^    var $num;\/\/每次前端申请的数据条数$/;"	v
num	application/views/histOrder.php	/^                        $num = (int)$temp["info"]["orderNum"];$/;"	v
num	application/views/onTimeOrder.php	/^                        $num = (int)$temp["info"]["orderNum"];$/;"	v
num	system/helpers/number_helper.php	/^			$num = round($num \/ 1024, $precision);$/;"	v
num	system/helpers/number_helper.php	/^			$num = round($num \/ 1048576, $precision);$/;"	v
num	system/helpers/number_helper.php	/^			$num = round($num \/ 1073741824, $precision);$/;"	v
num	system/helpers/number_helper.php	/^			$num = round($num \/ 1099511627776, $precision);$/;"	v
num	system/helpers/string_helper.php	/^	function repeater($data, $num = 1)$/;"	v
numParams	system/libraries/Xmlrpcs.php	/^		$numParams = count($b);$/;"	v
num_fields	system/database/DB_result.php	/^	public function num_fields() { return 0; }$/;"	f
num_fields	system/database/drivers/cubrid/cubrid_result.php	/^	function num_fields()$/;"	f
num_fields	system/database/drivers/mssql/mssql_result.php	/^	function num_fields()$/;"	f
num_fields	system/database/drivers/mysql/mysql_result.php	/^	function num_fields()$/;"	f
num_fields	system/database/drivers/mysqli/mysqli_result.php	/^	function num_fields()$/;"	f
num_fields	system/database/drivers/oci8/oci8_result.php	/^	public function num_fields()$/;"	f
num_fields	system/database/drivers/odbc/odbc_result.php	/^	function num_fields()$/;"	f
num_fields	system/database/drivers/pdo/pdo_result.php	/^	function num_fields()$/;"	f
num_fields	system/database/drivers/postgre/postgre_result.php	/^	function num_fields()$/;"	f
num_fields	system/database/drivers/sqlite/sqlite_result.php	/^	function num_fields()$/;"	f
num_fields	system/database/drivers/sqlsrv/sqlsrv_result.php	/^	function num_fields()$/;"	f
num_links	system/libraries/Pagination.php	/^		$this->num_links = (int)$this->num_links;$/;"	v
num_links	system/libraries/Pagination.php	/^	var $num_links			=  2; \/\/ Number of "digit" links to show before\/after the currently viewed page$/;"	v
num_pages	system/libraries/Pagination.php	/^		$num_pages = ceil($this->total_rows \/ $this->per_page);$/;"	v
num_rows	system/database/DB_result.php	/^	public function num_rows() { return $this->num_rows; }$/;"	f
num_rows	system/database/DB_result.php	/^	var $num_rows				= 0;$/;"	v
num_rows	system/database/drivers/cubrid/cubrid_result.php	/^	function num_rows()$/;"	f
num_rows	system/database/drivers/mssql/mssql_result.php	/^	function num_rows()$/;"	f
num_rows	system/database/drivers/mysql/mysql_result.php	/^	function num_rows()$/;"	f
num_rows	system/database/drivers/mysqli/mysqli_result.php	/^	function num_rows()$/;"	f
num_rows	system/database/drivers/oci8/oci8_result.php	/^			$this->num_rows = count($this->result_array());$/;"	v
num_rows	system/database/drivers/oci8/oci8_result.php	/^	public function num_rows()$/;"	f
num_rows	system/database/drivers/odbc/odbc_result.php	/^	function num_rows()$/;"	f
num_rows	system/database/drivers/pdo/pdo_result.php	/^	function num_rows()$/;"	f
num_rows	system/database/drivers/postgre/postgre_result.php	/^	function num_rows()$/;"	f
num_rows	system/database/drivers/sqlite/sqlite_result.php	/^	function num_rows()$/;"	f
num_rows	system/database/drivers/sqlsrv/sqlsrv_result.php	/^	function num_rows()$/;"	f
num_tag_close	system/libraries/Pagination.php	/^	var $num_tag_close		= '';$/;"	v
num_tag_open	system/libraries/Pagination.php	/^	var $num_tag_open		= '&nbsp;';$/;"	v
number	system/helpers/text_helper.php	/^					$number = ($count == 3) ? (($temp['0'] % 16) * 4096) + (($temp['1'] % 64) * 64) + ($temp['2'] % 64) : (($temp['0'] % 32) * 64) + ($temp['1'] % 64);$/;"	v
number	system/helpers/url_helper.php	/^					$number = ($count == 3) ? (($temp['0'] % 16) * 4096) + (($temp['1'] % 64) * 64) + ($temp['2'] % 64) : (($temp['0'] % 32) * 64) + ($temp['1'] % 64);$/;"	v
number	system/libraries/Trackback.php	/^					$number = ($count == 3) ? (($temp['0'] % 16) * 4096) + (($temp['1'] % 64) * 64) + ($temp['2'] % 64) : (($temp['0'] % 32) * 64) + ($temp['1'] % 64);$/;"	v
numeric	system/libraries/Form_validation.php	/^	public function numeric($str)$/;"	f
ob_level	system/core/Exceptions.php	/^		$this->ob_level = ob_get_level();$/;"	v
ob_level	system/core/Exceptions.php	/^	var $ob_level;$/;"	v
obj	system/database/drivers/sqlite/sqlite_result.php	/^				$obj = (object) $arr;$/;"	v
obj	system/libraries/Cache/Cache.php	/^		$obj = parent::__get($child);$/;"	v
obj	system/libraries/Driver.php	/^			$obj = new $child_class;$/;"	v
object	application/controllers/HttpClient.class.php	/^    function debug($msg, $object = false) {$/;"	v
object	system/core/Controller.php	/^ * This class object is the super class that every library in$/;"	c
object	system/core/Loader.php	/^	 * @return 	mixed	class object name on the CI SuperObject or FALSE$/;"	c
object	system/database/DB_driver.php	/^	var $CACHE; \/\/ The cache class object$/;"	c
object	system/database/DB_result.php	/^			$object = new $class_name();$/;"	v
object	system/libraries/Parser.php	/^	var $object;$/;"	v
object	system/libraries/Xmlrpcs.php	/^			$this->object = $config['object'];$/;"	v
object	system/libraries/Xmlrpcs.php	/^	var $object			= FALSE;$/;"	v
objectCall	system/libraries/Xmlrpcs.php	/^		$objectCall = (isset($method_parts['1']) && $method_parts['1'] != "") ? TRUE : FALSE;$/;"	v
objects	system/core/Controller.php	/^		\/\/ Assign all the class objects that were instantiated by the$/;"	c
octal_permissions	system/helpers/file_helper.php	/^	function octal_permissions($perms)$/;"	f
odd	system/libraries/javascript/Jquery.php	/^	function _zebraTables($class = '', $odd = 'odd', $hover = '')$/;"	v
offset	system/database/DB_active_rec.php	/^	public function limit($value, $offset = '')$/;"	v
offset	system/database/DB_active_rec.php	/^	public function offset($offset)$/;"	f
offset	system/database/drivers/cubrid/cubrid_driver.php	/^			$offset = '';$/;"	v
offset	system/database/drivers/mysql/mysql_driver.php	/^			$offset = '';$/;"	v
offset	system/database/drivers/pdo/pdo_driver.php	/^				$offset = '';$/;"	v
offset	system/database/drivers/sqlite/sqlite_driver.php	/^			$offset = '';$/;"	v
offset	system/database/drivers/sqlsrv/sqlsrv_result.php	/^		foreach(sqlsrv_field_metadata($this->result_id) as $offset => $field)$/;"	v
offset	system/libraries/Zip.php	/^		$this->offset		= 0;$/;"	v
offset	system/libraries/Zip.php	/^		$this->offset = strlen($this->zipdata);$/;"	v
offset	system/libraries/Zip.php	/^	var $offset		= 0;$/;"	v
ol	system/helpers/html_helper.php	/^	function ol($list, $attributes = '')$/;"	f
old_flashdata_key	system/libraries/Session.php	/^		$old_flashdata_key = $this->flashdata_key.':old:'.$key;$/;"	v
old_sessid	system/libraries/Session.php	/^		$old_sessid = $this->userdata['session_id'];$/;"	v
olda	system/libraries/Sha1.php	/^			$olda = $a;$/;"	v
oldb	system/libraries/Sha1.php	/^			$oldb = $b;$/;"	v
oldc	system/libraries/Sha1.php	/^			$oldc = $c;$/;"	v
oldd	system/libraries/Sha1.php	/^			$oldd = $d;$/;"	v
olde	system/libraries/Sha1.php	/^			$olde = $e;$/;"	v
oneimg	application/controllers/bg/imglist.php	/^    function oneimg($imgname){$/;"	f
ontime	application/controllers/order.php	/^    public function ontime()$/;"	f
op	system/libraries/Xmlrpc.php	/^		$op  = "POST {$this->path} HTTP\/1.0$r";$/;"	v
openFramePage	application/views/printindex.php	/^function openFramePage(){$/;"	f
open_tag	system/libraries/Xmlrpc.php	/^	function open_tag($the_parser, $name, $attrs)$/;"	f
opening_bytes	system/libraries/Upload.php	/^			$opening_bytes = fread($file, 256);$/;"	v
operator	system/libraries/Email.php	/^		$operator = (strncmp($timezone, '-', 1) == 0) ? '-' : '+';$/;"	v
optgroup_key	system/helpers/form_helper.php	/^				foreach ($val as $optgroup_key => $optgroup_val)$/;"	v
optimize_database	system/database/DB_utility.php	/^	function optimize_database()$/;"	f
optimize_table	system/database/DB_utility.php	/^	function optimize_table($table_name)$/;"	f
options	system/database/drivers/pdo/pdo_driver.php	/^	var $options = array();$/;"	v
options	system/helpers/form_helper.php	/^	function form_dropdown($name = '', $options = array(), $selected = array(), $extra = '')$/;"	v
options	system/helpers/form_helper.php	/^	function form_multiselect($name = '', $options = array(), $selected = array(), $extra = '')$/;"	v
options	system/libraries/javascript/Jquery.php	/^	function _updater($container = 'this', $controller, $options = '')$/;"	v
options	system/libraries/javascript/Jquery.php	/^	function sortable($element, $options = array())$/;"	v
options	system/libraries/javascript/Jquery.php	/^	function tablesorter($table = '', $options = '')$/;"	v
or	application/config/config.php	/^| If you use the Encryption class or the Session class you$/;"	c
or	system/core/Loader.php	/^		 * function or via the second parameter of this function. We'll merge$/;"	f
or	system/database/DB.php	/^	\/\/ based on whether we're using the active record class or not.$/;"	c
or	system/libraries/ckeditor.php	/^	 * @param $javascriptCode (string) Javascript anonymous function or function name.$/;"	f
or_having	system/database/DB_active_rec.php	/^	public function or_having($key, $value = '', $escape = TRUE)$/;"	f
or_like	system/database/DB_active_rec.php	/^	public function or_like($field, $match = '', $side = 'both')$/;"	f
or_not_like	system/database/DB_active_rec.php	/^	public function or_not_like($field, $match = '', $side = 'both')$/;"	f
or_where	system/database/DB_active_rec.php	/^	public function or_where($key, $value = NULL, $escape = TRUE)$/;"	f
or_where_in	system/database/DB_active_rec.php	/^	public function or_where_in($key = NULL, $values = NULL)$/;"	f
or_where_not_in	system/database/DB_active_rec.php	/^	public function or_where_not_in($key = NULL, $values = NULL)$/;"	f
ord	application/controllers/dsconfig.class.php	/^        $ord=ord($str[$i]);$/;"	v
ord	dsconfig.class.php	/^        $ord=ord($str[$i]);$/;"	v
ordInfo	application/controllers/order.php	/^        $ordInfo = Array();\/\/保存打印者,下单的人信息$/;"	v
ordNode	js/item.js	/^        var ordNode = $("#info");\/\/#info的js读取$/;"	v
ordaddr	application/models/user.php	/^    public function ordaddr($userId)$/;"	f
order	js/cart.js	/^function order() {$/;"	f
order_by	system/database/DB_active_rec.php	/^	public function order_by($orderby, $direction = '')$/;"	f
orderby	system/database/DB_active_rec.php	/^			$orderby = $this->_protect_identifiers($orderby);$/;"	v
orderby	system/database/DB_active_rec.php	/^			$orderby = ''; \/\/ Random results want or don't need a field name$/;"	v
orderby	system/database/DB_active_rec.php	/^			$orderby = implode(', ', $temp);$/;"	v
orderby	system/database/drivers/cubrid/cubrid_driver.php	/^		$orderby = (count($orderby) >= 1)?' ORDER BY '.implode(", ", $orderby):'';$/;"	v
orderby	system/database/drivers/cubrid/cubrid_driver.php	/^	function _update($table, $values, $where, $orderby = array(), $limit = FALSE)$/;"	v
orderby	system/database/drivers/mssql/mssql_driver.php	/^		$orderby = (count($orderby) >= 1)?' ORDER BY '.implode(", ", $orderby):'';$/;"	v
orderby	system/database/drivers/mssql/mssql_driver.php	/^	function _update($table, $values, $where, $orderby = array(), $limit = FALSE)$/;"	v
orderby	system/database/drivers/mysql/mysql_driver.php	/^		$orderby = (count($orderby) >= 1)?' ORDER BY '.implode(", ", $orderby):'';$/;"	v
orderby	system/database/drivers/mysql/mysql_driver.php	/^	function _update($table, $values, $where, $orderby = array(), $limit = FALSE)$/;"	v
orderby	system/database/drivers/mysqli/mysqli_driver.php	/^		$orderby = (count($orderby) >= 1)?' ORDER BY '.implode(", ", $orderby):'';$/;"	v
orderby	system/database/drivers/mysqli/mysqli_driver.php	/^	function _update($table, $values, $where, $orderby = array(), $limit = FALSE)$/;"	v
orderby	system/database/drivers/oci8/oci8_driver.php	/^		$orderby = (count($orderby) >= 1)?' ORDER BY '.implode(", ", $orderby):'';$/;"	v
orderby	system/database/drivers/oci8/oci8_driver.php	/^	protected function _update($table, $values, $where, $orderby = array(), $limit = FALSE)$/;"	v
orderby	system/database/drivers/odbc/odbc_driver.php	/^		$orderby = (count($orderby) >= 1)?' ORDER BY '.implode(", ", $orderby):'';$/;"	v
orderby	system/database/drivers/odbc/odbc_driver.php	/^	function _update($table, $values, $where, $orderby = array(), $limit = FALSE)$/;"	v
orderby	system/database/drivers/pdo/pdo_driver.php	/^		$orderby = (count($orderby) >= 1)?' ORDER BY '.implode(", ", $orderby):'';$/;"	v
orderby	system/database/drivers/pdo/pdo_driver.php	/^	function _update($table, $values, $where, $orderby = array(), $limit = FALSE)$/;"	v
orderby	system/database/drivers/postgre/postgre_driver.php	/^		$orderby = (count($orderby) >= 1)?' ORDER BY '.implode(", ", $orderby):'';$/;"	v
orderby	system/database/drivers/postgre/postgre_driver.php	/^	function _update($table, $values, $where, $orderby = array(), $limit = FALSE)$/;"	v
orderby	system/database/drivers/sqlite/sqlite_driver.php	/^		$orderby = (count($orderby) >= 1)?' ORDER BY '.implode(", ", $orderby):'';$/;"	v
orderby	system/database/drivers/sqlite/sqlite_driver.php	/^	function _update($table, $values, $where, $orderby = array(), $limit = FALSE)$/;"	v
orderby_statement	system/database/DB_active_rec.php	/^		$orderby_statement = $orderby.$direction;$/;"	v
ordinal	system/helpers/text_helper.php	/^			$ordinal = ord($str[$i]);$/;"	v
ordinal	system/helpers/url_helper.php	/^			$ordinal = ord($title[$i]);$/;"	v
ordinal	system/libraries/Trackback.php	/^			$ordinal = ord($str[$i]);$/;"	v
ordinfo	js/item.js	/^        var ordinfo = Array();\/\/保存属性值的，我想添加的时候方便吧$/;"	v
ordor	application/controllers/order.php	/^        $ordor = Array();$/;"	v
ordorId	application/views/histOrder.php	/^            $ordorId = $temp["ordor"];$/;"	v
ordorId	application/views/onTimeOrder.php	/^                $ordorId = $order[$i]["ordor"];$/;"	v
orig_height	system/libraries/Image_lib.php	/^			$this->orig_height = $this->height;$/;"	v
orig_height	system/libraries/Image_lib.php	/^			if ($this->orig_width == $this->width AND $this->orig_height == $this->height)$/;"	v
orig_height	system/libraries/Image_lib.php	/^		$this->orig_height	= $vals['1'];$/;"	v
orig_height	system/libraries/Image_lib.php	/^	var $orig_height		= '';$/;"	v
orig_name	system/libraries/Upload.php	/^		$this->orig_name = $this->file_name;$/;"	v
orig_name	system/libraries/Upload.php	/^	public $orig_name				= "";$/;"	v
orig_width	system/libraries/Image_lib.php	/^			$this->orig_width  = $this->width;$/;"	v
orig_width	system/libraries/Image_lib.php	/^		$this->orig_width	= $vals['0'];$/;"	v
orig_width	system/libraries/Image_lib.php	/^		if ( ! is_numeric($this->orig_width) OR ! is_numeric($this->orig_height) OR $this->orig_width == 0 OR $this->orig_height == 0)$/;"	v
orig_width	system/libraries/Image_lib.php	/^	var $orig_width			= '';$/;"	v
original	system/core/Security.php	/^			$original = $str;$/;"	v
out	system/core/Security.php	/^		$out = '';$/;"	v
out	system/database/DB_active_rec.php	/^		$out = get_object_vars($object);$/;"	v
out	system/database/DB_utility.php	/^			$out = rtrim($out);$/;"	v
out	system/database/DB_utility.php	/^		$out = '';$/;"	v
out	system/database/DB_utility.php	/^		$out = rtrim($out);$/;"	v
out	system/helpers/html_helper.php	/^		$out = str_repeat(" ", $depth);$/;"	v
out	system/helpers/text_helper.php	/^				$out = '';$/;"	v
out	system/helpers/text_helper.php	/^				$out = trim($out);$/;"	v
out	system/helpers/text_helper.php	/^		$out	= '';$/;"	v
out	system/helpers/text_helper.php	/^		$out = "";$/;"	v
out	system/libraries/Calendar.php	/^		$out = $this->temp['table_open'];$/;"	v
out	system/libraries/Table.php	/^		$out = $this->template['table_open'];$/;"	v
out	system/libraries/Trackback.php	/^		$out	= '';$/;"	v
out	system/libraries/Trackback.php	/^		$out = "";$/;"	v
out	system/libraries/ckeditor.php	/^			$out = "";$/;"	v
out	system/libraries/ckeditor.php	/^		$out = "";$/;"	v
out	system/libraries/ckeditor.php	/^		$out = "<script type=\\"text\/javascript\\">";$/;"	v
out	system/libraries/ckeditor.php	/^		$out = "<textarea name=\\"" . $name . "\\"" . $attr . ">" . htmlspecialchars($value) . "<\/textarea>\\n";$/;"	v
output	application/controllers/checkcode.php	/^   private function output() {$/;"	f
output	system/core/Output.php	/^				$output  = preg_replace("|<\/body>.*?<\/html>|is", '', $output);$/;"	v
output	system/core/Output.php	/^			$output = str_replace('{elapsed_time}', $elapsed, $output);$/;"	v
output	system/core/Output.php	/^			$output = str_replace('{memory_usage}', $memory, $output);$/;"	v
output	system/core/Output.php	/^			$output =& $this->final_output;$/;"	v
output	system/database/drivers/mysql/mysql_utility.php	/^		$output = '';$/;"	v
output	system/helpers/text_helper.php	/^				$output = str_replace("{{unwrapped".$key."}}", $val, $output);$/;"	v
output	system/helpers/text_helper.php	/^		$output = "";$/;"	v
output	system/helpers/text_helper.php	/^		$output = str_replace(array('{unwrap}', '{\/unwrap}'), '', $output);$/;"	v
output	system/libraries/Email.php	/^				$output = str_replace("{{unwrapped".$key."}}", $val, $output);$/;"	v
output	system/libraries/Email.php	/^		$output = "";$/;"	v
output	system/libraries/Email.php	/^		$output = '';$/;"	v
output	system/libraries/Email.php	/^		$output = substr($output, 0, strlen($this->crlf) * -1);$/;"	v
output	system/libraries/Javascript.php	/^	function output($js)$/;"	f
output	system/libraries/Pagination.php	/^		$output = $this->full_tag_open.$output.$this->full_tag_close;$/;"	v
output	system/libraries/Pagination.php	/^		$output = '';$/;"	v
output	system/libraries/Pagination.php	/^		$output = preg_replace("#([^:])\/\/+#", "\\\\1\/", $output);$/;"	v
output	system/libraries/Profiler.php	/^			$output  = "\\n\\n";$/;"	v
output	system/libraries/Profiler.php	/^		$output  = "\\n\\n";$/;"	v
output	system/libraries/Profiler.php	/^		$output = "<div id='codeigniter_profiler' style='clear:both;background-color:#fff;padding:10px;'>";$/;"	v
output	system/libraries/Profiler.php	/^		$output = '<fieldset id="ci_profiler_csession" style="border:1px solid #000;padding:6px 10px 10px 10px;margin:20px 0 20px 0;background-color:#eee">';$/;"	v
output	system/libraries/Xmlrpcs.php	/^		$output = array();$/;"	v
output	system/libraries/javascript/Jquery.php	/^		$output = ($script_tags === FALSE) ? $script : $this->inline($script);$/;"	v
output_parameters	system/libraries/Xmlrpc.php	/^	function output_parameters($array=FALSE)$/;"	f
overlay_watermark	system/libraries/Image_lib.php	/^	function overlay_watermark()$/;"	f
overloading	system/core/Utf8.php	/^			AND ini_get('mbstring.func_overload') != 1		\/\/ Multibyte string function overloading cannot be enabled$/;"	f
overwrite	system/libraries/Upload.php	/^	public $overwrite				= FALSE;$/;"	v
p	system/libraries/Xmlrpc.php	/^			$p = $this->params[$i];$/;"	v
p	system/libraries/Xmlrpc.php	/^			\/\/ $p = XML_RPC_Values$/;"	v
p	system/libraries/Xmlrpcs.php	/^						$p = $m->params[$n];$/;"	v
page	application/controllers/map.php	/^		$page = @trim($_GET["page"]);\/\/page 页数,要申请地几页的内容$/;"	v
page	application/models/art.php	/^        $page =$page*$this->num;\/\/$this->num中保存的是每页显示的条数，$id,表示的是当前的页数，默认从1开始，所以需要减去1$/;"	v
pageInit	application/views/Cwrite.php	/^function pageInit()$/;"	f
pageInit	application/views/mBgItemAdd.php	/^function pageInit()$/;"	f
pageInit	application/views/messwrite.php	/^function pageInit()$/;"	f
pageInit	application/views/uploadxhe.php	/^function pageInit()$/;"	f
pageInit	application/views/wChange.php	/^function pageInit()$/;"	f
pageInit	application/views/write.php	/^function pageInit()$/;"	f
pageInit	js/xheditor_plugins/multiupload/multiupload.html	/^function pageInit()$/;"	f
pageNum	application/controllers/map.php	/^		$this->pageNum = 24;$/;"	v
pageNum	application/controllers/map.php	/^	var $pageNum;$/;"	v
pageNum	application/controllers/sea.php	/^        $this->pageNum = 30;$/;"	v
pageNum	application/controllers/sea.php	/^    var $pageNum;$/;"	v
pageNum	application/controllers/search.php	/^		$this->pageNum = 16;$/;"	v
pageNum	application/controllers/search.php	/^	var $pageNum;$/;"	v
page_query_string	system/libraries/Pagination.php	/^		if ($CI->config->item('enable_query_strings') === TRUE OR $this->page_query_string === TRUE)$/;"	v
page_query_string	system/libraries/Pagination.php	/^	var $page_query_string	= FALSE;$/;"	v
parFind	js/order.js	/^function parFind(node) {$/;"	f
paragraph	system/libraries/Typography.php	/^		$paragraph = FALSE;$/;"	v
param	system/libraries/Cache/Cache.php	/^				$param = '_'.$key;$/;"	v
param	system/libraries/Form_validation.php	/^					$param = $this->_translate_fieldname($this->_field_data[$param]['label']);$/;"	v
param	system/libraries/Form_validation.php	/^				$param	= $match[2];$/;"	v
param	system/libraries/Form_validation.php	/^			$param = FALSE;$/;"	v
param	system/libraries/javascript/Jquery.php	/^		foreach ($params as $param=>$value)$/;"	v
parameters	system/libraries/Xmlrpc.php	/^			$parameters = $array;$/;"	v
parameters	system/libraries/Xmlrpc.php	/^			$parameters = array();$/;"	v
parameters	system/libraries/Xmlrpcs.php	/^		$parameters = $m->output_parameters();$/;"	v
params	system/core/Hooks.php	/^			$params = $data['params'];$/;"	v
params	system/core/Hooks.php	/^		$params		= '';$/;"	v
params	system/core/Loader.php	/^			$params = NULL;$/;"	v
params	system/core/Loader.php	/^	protected function _ci_load_class($class, $params = NULL, $object_name = NULL)$/;"	v
params	system/core/Loader.php	/^	public function driver($library = '', $params = NULL, $object_name = NULL)$/;"	v
params	system/core/Loader.php	/^	public function library($library = '', $params = NULL, $object_name = NULL)$/;"	v
params	system/database/DB.php	/^		$params = $db[$active_group];$/;"	v
params	system/database/DB.php	/^		$params = array($/;"	v
params	system/database/DB_utility.php	/^			$params = array('tables' => $params);$/;"	v
params	system/database/DB_utility.php	/^	function xml_from_result($query, $params = array())$/;"	v
params	system/libraries/Javascript.php	/^	function animate($element = 'this', $params = array(), $speed = '', $extra = '')$/;"	v
params	system/libraries/Xmlrpc.php	/^	var $params			= array();$/;"	v
params	system/libraries/Xmlrpcs.php	/^		elseif ( ! $params = $call->me['struct']['params'])$/;"	v
params	system/libraries/javascript/Jquery.php	/^	function _animate($element = 'this', $params = array(), $speed = '', $extra = '')$/;"	v
parent	system/libraries/Driver.php	/^		$this->parent = $parent;$/;"	v
parent	system/libraries/Driver.php	/^	protected $parent;$/;"	v
pars	system/libraries/Xmlrpc.php	/^	public function __construct($method, $pars=0)$/;"	v
parse	system/libraries/Parser.php	/^	public function parse($template, $data, $return = FALSE)$/;"	f
parseRequest	system/libraries/Xmlrpcs.php	/^	function parseRequest($data='')$/;"	f
parseResponse	system/libraries/Xmlrpc.php	/^	function parseResponse($fp)$/;"	f
parse_exec_vars	system/core/Output.php	/^	protected $parse_exec_vars	= TRUE;$/;"	v
parse_smileys	system/helpers/smiley_helper.php	/^	function parse_smileys($str = '', $image_url = '', $smileys = NULL)$/;"	f
parse_string	system/libraries/Parser.php	/^	function parse_string($template, $data, $return = FALSE)$/;"	f
parse_template	system/libraries/Calendar.php	/^	function parse_template()$/;"	f
parser	system/libraries/Xmlrpc.php	/^		$parser = xml_parser_create($this->xmlrpc_defencoding);$/;"	v
parser	system/libraries/Xmlrpcs.php	/^		$parser = xml_parser_create($this->xmlrpc_defencoding);$/;"	v
parser_object	system/libraries/Xmlrpcs.php	/^		$parser_object = new XML_RPC_Message("filler");$/;"	v
part	application/controllers/message.php	/^			$part = $this->mess->getpart($messId);\/\/向对方通知有更新$/;"	v
part	application/core/MY_Controller.php	/^        $this->part = array($/;"	v
part	application/core/MY_Controller.php	/^    public $part;\/\/表示首页的菜单目录的关系$/;"	v
part	system/database/DB_active_rec.php	/^					$part = $this->_protect_identifiers(trim($part));$/;"	v
part	system/database/DB_active_rec.php	/^				$part = trim($part);$/;"	v
partId	application/controllers/search.php	/^				$partId = $temp;$/;"	v
partId	application/controllers/search.php	/^		$partId = -1;\/\/查看搜索的板块那哪里,通常key的第一个代表它所在的分区，否则则是用户输入的搜索$/;"	v
part_id	application/controllers/chome.php	/^        $part_id=$this->input->post("part_id");$/;"	v
parts	system/core/URI.php	/^		$parts = preg_split('#\\?#i', $uri, 2);$/;"	v
parts	system/database/DB_driver.php	/^			$parts	= explode('.', $item);$/;"	v
parts	system/libraries/Session.php	/^			$parts = explode(':new:', $name);$/;"	v
parts	system/libraries/Upload.php	/^			$parts		= explode('.', $filename);$/;"	v
parts	system/libraries/Upload.php	/^		$parts		= explode('.', $filename);$/;"	v
parts	system/libraries/Xmlrpc.php	/^		$parts = parse_url($url);$/;"	v
pass	application/controllers/printapi.php	/^$pass=$_REQUEST['pass'];$/;"	v
pass	application/controllers/reg.php	/^            $pass = $this->input->post("passwd");$/;"	v
passive	system/libraries/Ftp.php	/^	var $passive	= TRUE;$/;"	v
passwd	application/controllers/reg.php	/^        $passwd = trim(@$this->input->post("passwd"));$/;"	v
passwd	application/controllers/reg.php	/^        $passwd = urldecode($passwd);$/;"	v
password	application/controllers/HttpClient.class.php	/^        $this->password = $password;$/;"	v
password	application/controllers/HttpClient.class.php	/^    var $password;$/;"	v
password	application/controllers/dsprint.class.php	/^	var $password='';$/;"	v
password	application/controllers/dsprint.class.php	/^        $this->password = $password;$/;"	v
password	system/database/DB_driver.php	/^	var $password;$/;"	v
password	system/libraries/Ftp.php	/^	var $password	= '';$/;"	v
path	application/controllers/HttpClient.class.php	/^        $path = isset($bits['path']) ? $bits['path'] : '\/';$/;"	v
path	application/controllers/HttpClient.class.php	/^        $this->path = $path;$/;"	v
path	application/controllers/HttpClient.class.php	/^    var $path;$/;"	v
path	application/controllers/test.php	/^    public function path()$/;"	f
path	system/core/Input.php	/^			$path = config_item('cookie_path');$/;"	v
path	system/core/Loader.php	/^			$path = rtrim($path, '\/').'\/';$/;"	v
path	system/core/Loader.php	/^			$path = strtolower($class).'\/'.$class;$/;"	v
path	system/core/Loader.php	/^			$path = substr($model, 0, $last_slash + 1);$/;"	v
path	system/core/Loader.php	/^		$path = '';$/;"	v
path	system/core/Loader.php	/^		$path = rtrim($path, '\/').'\/';$/;"	v
path	system/core/Output.php	/^		$path = $CI->config->item('cache_path');$/;"	v
path	system/core/URI.php	/^			$path =  (isset($_SERVER['QUERY_STRING'])) ? $_SERVER['QUERY_STRING'] : @getenv('QUERY_STRING');$/;"	v
path	system/core/URI.php	/^			$path = (isset($_SERVER['PATH_INFO'])) ? $_SERVER['PATH_INFO'] : @getenv('PATH_INFO');$/;"	v
path	system/core/URI.php	/^		$path = (isset($_SERVER[$uri])) ? $_SERVER[$uri] : @getenv($uri);$/;"	v
path	system/database/DB_cache.php	/^			$path = $this->db->cachedir;$/;"	v
path	system/database/DB_cache.php	/^		$path = preg_replace("\/(.+?)\\\/*$\/", "\\\\1\/",  $path);$/;"	v
path	system/helpers/file_helper.php	/^		$path = rtrim($path, DIRECTORY_SEPARATOR);$/;"	v
path	system/helpers/path_helper.php	/^			$path = realpath($path).'\/';$/;"	v
path	system/helpers/path_helper.php	/^		$path = preg_replace("#([^\/])\/*$#", "\\\\1\/", $path);$/;"	v
path	system/libraries/Cache/drivers/Cache_file.php	/^		$path = $CI->config->item('cache_path');$/;"	v
path	system/libraries/Image_lib.php	/^			$path = $this->full_src_path;$/;"	v
path	system/libraries/Trackback.php	/^		$path = (isset($target['query']) && $target['query'] != "") ? $ppath.'?'.$target['query'] : $ppath;$/;"	v
path	system/libraries/Xmlrpc.php	/^		$path = ( ! isset($parts['path'])) ? '\/' : $parts['path'];$/;"	v
path	system/libraries/Xmlrpc.php	/^		$this->path = $path;$/;"	v
path	system/libraries/Xmlrpc.php	/^	var $path			= '';$/;"	v
path	system/libraries/Zip.php	/^			foreach ($filepath as $path => $data)$/;"	v
payload	system/libraries/Xmlrpc.php	/^		$this->payload = "<?xml version=\\"1.0\\"?".">\\r\\n<methodCall>\\r\\n";$/;"	v
payload	system/libraries/Xmlrpc.php	/^	var $payload;$/;"	v
payload	system/libraries/Xmlrpcs.php	/^		$payload  = '<?xml version="1.0" encoding="'.$this->xmlrpc_defencoding.'"?'.'>'."\\n";$/;"	v
pconnect	system/database/DB_driver.php	/^	var $pconnect		= FALSE;$/;"	v
per_page	system/libraries/Pagination.php	/^		if ($this->total_rows == 0 OR $this->per_page == 0)$/;"	v
per_page	system/libraries/Pagination.php	/^	var $per_page			= 10; \/\/ Max number of items you want shown per page$/;"	v
period	system/helpers/url_helper.php	/^						$period = '.';$/;"	v
period	system/helpers/url_helper.php	/^					$period = '';$/;"	v
permissions	system/libraries/Ftp.php	/^	function mkdir($path = '', $permissions = NULL)$/;"	v
permits	system/libraries/Cart.php	/^	 * This function permits the quantity of a given item to be changed.$/;"	f
persist_cookies	application/controllers/HttpClient.class.php	/^        $this->persist_cookies = $boolean;$/;"	v
persist_cookies	application/controllers/HttpClient.class.php	/^    var $persist_cookies = true;  \/\/ If true, received cookies are placed in the $this->cookies array ready for the next request$/;"	v
persist_referers	application/controllers/HttpClient.class.php	/^        $this->persist_referers = $boolean;$/;"	v
persist_referers	application/controllers/HttpClient.class.php	/^    var $persist_referers = true; \/\/ For each request, sends path of last request as referer$/;"	v
pg	js/item.js	/^function pg() {$/;"	f
phone	application/controllers/order.php	/^        $phone = $this->input->post("phone");$/;"	v
phone	application/controllers/test.php	/^        $phone = "18011419947";$/;"	v
phone	application/libraries/sms.php	/^        $phone = trim($phone);$/;"	v
photo	application/controllers/userspace/user_photo.php	/^	function photo(){$/;"	f
php_error	system/core/Common.php	/^	function log_message($level = 'error', $message, $php_error = FALSE)$/;"	v
php_error	system/libraries/Log.php	/^	public function write_log($level = 'error', $msg, $php_error = FALSE)$/;"	v
pinAttr	application/controllers/item.php	/^    private function pinAttr($st,$len,$attr)$/;"	f
platform	system/database/DB_driver.php	/^	function platform()$/;"	f
platform	system/libraries/User_agent.php	/^					$this->platform = $val;$/;"	v
platform	system/libraries/User_agent.php	/^		$this->platform = 'Unknown Platform';$/;"	v
platform	system/libraries/User_agent.php	/^	public function platform()$/;"	f
platform	system/libraries/User_agent.php	/^	var $platform	= '';$/;"	v
platforms	application/config/user_agents.php	/^$platforms = array ($/;"	v
platforms	system/libraries/User_agent.php	/^			$this->platforms = $platforms;$/;"	v
platforms	system/libraries/User_agent.php	/^	var $platforms	= array();$/;"	v
plist	system/libraries/Xmlrpcs.php	/^			$plist='';$/;"	v
plugin	system/libraries/javascript/Jquery.php	/^	function plugin($src, $relative = FALSE)$/;"	f
plural	system/helpers/inflector_helper.php	/^	function plural($str, $force = FALSE)$/;"	f
plural_rules	system/helpers/inflector_helper.php	/^		$plural_rules = array($/;"	v
png_mimes	system/libraries/Upload.php	/^		$png_mimes  = array('image\/x-png');$/;"	v
pno	system/libraries/Xmlrpcs.php	/^							$pno = $n+1;$/;"	v
point2	system/core/Benchmark.php	/^	function elapsed_time($point1 = '', $point2 = '', $decimals = 4)$/;"	v
points	system/helpers/captcha_helper.php	/^		$points		= 32;$/;"	v
pool	system/helpers/captcha_helper.php	/^			$pool = '0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ';$/;"	v
pool	system/helpers/string_helper.php	/^						case 'alnum'	:	$pool = '0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ';$/;"	v
pool	system/helpers/string_helper.php	/^						case 'alpha'	:	$pool = 'abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ';$/;"	v
pool	system/helpers/string_helper.php	/^						case 'nozero'	:	$pool = '123456789';$/;"	v
pool	system/helpers/string_helper.php	/^						case 'numeric'	:	$pool = '0123456789';$/;"	v
pop	system/helpers/url_helper.php	/^				$pop = ($popup == TRUE) ? " target=\\"_blank\\" " : "";$/;"	v
port	application/controllers/HttpClient.class.php	/^        $port = isset($bits['port']) ? $bits['port'] : 80;$/;"	v
port	application/controllers/HttpClient.class.php	/^        $this->port = $port;$/;"	v
port	application/controllers/HttpClient.class.php	/^    function HttpClient($host, $port=80) {$/;"	v
port	application/controllers/HttpClient.class.php	/^    var $port;$/;"	v
port	system/database/DB_driver.php	/^	var $port			= '';$/;"	v
port	system/database/drivers/cubrid/cubrid_driver.php	/^			$this->port = self::DEFAULT_PORT;$/;"	v
port	system/libraries/Ftp.php	/^	var $port		= 21;$/;"	v
port	system/libraries/Xmlrpc.php	/^		$this->port = $port;$/;"	v
port	system/libraries/Xmlrpc.php	/^	function server($url, $port=80)$/;"	v
port	system/libraries/Xmlrpc.php	/^	public function __construct($path, $server, $port=80)$/;"	v
port	system/libraries/Xmlrpc.php	/^	var $port			= 80;$/;"	v
pos	application/controllers/reg.php	/^            $pos = trim($this->input->post("pos"));$/;"	v
position	system/helpers/text_helper.php	/^		$position = ($position > 1) ? 1 : $position;$/;"	v
position	system/helpers/text_helper.php	/^	function ellipsize($str, $max_length, $position = 1, $ellipsis = '&hellip;')$/;"	v
post	application/controllers/HttpClient.class.php	/^    function post($path, $data,$timeout=90) {$/;"	f
post	system/core/Input.php	/^			$post = array();$/;"	v
post	system/core/Input.php	/^	function post($index = NULL, $xss_clean = FALSE)$/;"	f
post_ref	system/libraries/Form_validation.php	/^							$post_ref =& $post_ref[$val];$/;"	v
post_ref	system/libraries/Form_validation.php	/^						$post_ref = $array;$/;"	v
post_ref	system/libraries/Form_validation.php	/^						$post_ref = $this->prep_for_form($row['postdata']);$/;"	v
post_ref	system/libraries/Form_validation.php	/^						$post_ref =& $post_ref[current($row['keys'])];$/;"	v
post_ref	system/libraries/Form_validation.php	/^					$post_ref =& $_POST;$/;"	v
postdata	application/controllers/HttpClient.class.php	/^        $this->postdata = $this->buildQueryString($data);$/;"	v
postdata	application/controllers/HttpClient.class.php	/^    var $postdata = '';$/;"	v
postdata	system/libraries/Form_validation.php	/^				$postdata = $this->_field_data[$row['field']]['postdata'];$/;"	v
postdata	system/libraries/Form_validation.php	/^				$postdata = $this->_field_data[$row['field']]['postdata'][$cycles];$/;"	v
postdata	system/libraries/Form_validation.php	/^	protected function _execute($row, $rules, $postdata = NULL, $cycles = 0)$/;"	v
ppath	system/libraries/Trackback.php	/^		$ppath = ( ! isset($target['path'])) ? $url : $target['path'];$/;"	v
pre	application/controllers/info.php	/^    private function pre($mastId)$/;"	f
precision	system/helpers/number_helper.php	/^	function byte_format($num, $precision = 1)$/;"	v
pref	system/core/Config.php	/^			$pref = $this->config[$index][$item];$/;"	v
pref	system/core/Config.php	/^			$pref = $this->config[$item];$/;"	v
prefix	system/core/Config.php	/^					$prefix = ($i == 0) ? '' : '&';$/;"	v
prefix	system/core/Input.php	/^			$prefix = config_item('cookie_prefix');$/;"	v
prefix	system/core/Loader.php	/^	protected function _ci_init_class($class, $prefix = '', $config = FALSE, $object_name = NULL)$/;"	v
prefix	system/database/DB_active_rec.php	/^			$prefix = (count($this->ar_having) == 0) ? '' : $type;$/;"	v
prefix	system/database/DB_active_rec.php	/^			$prefix = (count($this->ar_like) == 0) ? '' : $type;$/;"	v
prefix	system/database/DB_active_rec.php	/^			$prefix = (count($this->ar_where) == 0 AND count($this->ar_cache_where) == 0) ? '' : $type;$/;"	v
prefix	system/database/DB_active_rec.php	/^		$prefix = (count($this->ar_where) == 0) ? '' : $type;$/;"	v
prefix	system/database/DB_driver.php	/^				$prefix = (count($dest) == 0) ? '' : ' AND ';$/;"	v
prefix	system/helpers/cookie_helper.php	/^			$prefix = config_item('cookie_prefix');$/;"	v
prefix	system/helpers/cookie_helper.php	/^		$prefix = '';$/;"	v
prefix	system/helpers/form_helper.php	/^	function form_error($field = '', $prefix = '', $suffix = '')$/;"	v
prefix	system/libraries/Form_validation.php	/^			$prefix = $this->_error_prefix;$/;"	v
prefix	system/libraries/Form_validation.php	/^	public function error($field = '', $prefix = '', $suffix = '')$/;"	v
prefix	system/libraries/Pagination.php	/^	var $prefix				= ''; \/\/ A custom prefix added to the path.$/;"	v
prefix_single	system/database/DB_driver.php	/^	function _protect_identifiers($item, $prefix_single = FALSE, $protect_identifiers = NULL, $field_exists = TRUE)$/;"	v
prefix_single	system/database/DB_driver.php	/^	function protect_identifiers($item, $prefix_single = FALSE)$/;"	v
prefs	system/database/DB_utility.php	/^		$prefs = array($/;"	v
prep_for_form	system/libraries/Form_validation.php	/^	public function prep_for_form($data = '')$/;"	f
prep_url	system/helpers/url_helper.php	/^	function prep_url($str = '')$/;"	f
prep_url	system/libraries/Form_validation.php	/^	public function prep_url($str = '')$/;"	f
prepare_response	system/libraries/Xmlrpc.php	/^	function prepare_response()$/;"	f
prepped_fields	system/helpers/form_helper.php	/^		static $prepped_fields = array();$/;"	v
preps	system/core/Loader.php	/^	 * This function preps the name of various items to make loading them more reliable.$/;"	f
preserve_filepath	system/libraries/Zip.php	/^	function read_dir($path, $preserve_filepath = TRUE, $root_path = NULL)$/;"	v
preserve_filepath	system/libraries/Zip.php	/^	function read_file($path, $preserve_filepath = FALSE)$/;"	v
prev_link	system/libraries/Pagination.php	/^	var $prev_link			= '&lt;';$/;"	v
prev_tag_close	system/libraries/Pagination.php	/^	var $prev_tag_close		= '';$/;"	v
prev_tag_open	system/libraries/Pagination.php	/^	var $prev_tag_open		= '&nbsp;';$/;"	v
previous_row	system/database/DB_result.php	/^	public function previous_row($type = 'object')$/;"	f
priAdd	application/core/MY_Controller.php	/^    protected $priAdd;\/\/当运费不足的情况下,添加的运费$/;"	v
price	application/views/histOrder.php	/^                        $price = (float)$temp["info"]["price"];$/;"	v
price	application/views/onTimeOrder.php	/^                        $price = (float)$temp["info"]["price"];$/;"	v
primary	system/database/DB_driver.php	/^	function primary($table = '')$/;"	f
primary	system/database/DB_forge.php	/^	function add_key($key = '', $primary = FALSE)$/;"	v
primary_keys	system/database/DB_forge.php	/^		$this->primary_keys	= array();$/;"	v
primary_keys	system/database/DB_forge.php	/^	var $primary_keys	= array();$/;"	v
primary_keys	system/database/drivers/cubrid/cubrid_forge.php	/^			$primary_keys = $this->db->_protect_identifiers($primary_keys);$/;"	v
primary_keys	system/database/drivers/mssql/mssql_forge.php	/^			$primary_keys = $this->db->_protect_identifiers($primary_keys);$/;"	v
primary_keys	system/database/drivers/mysql/mysql_forge.php	/^			$primary_keys = $this->db->_protect_identifiers($primary_keys);$/;"	v
primary_keys	system/database/drivers/mysqli/mysqli_forge.php	/^			$primary_keys = $this->db->_protect_identifiers($primary_keys);$/;"	v
primary_keys	system/database/drivers/oci8/oci8_forge.php	/^			$primary_keys = $this->db->_protect_identifiers($primary_keys);$/;"	v
primary_keys	system/database/drivers/odbc/odbc_forge.php	/^			$primary_keys = $this->db->_protect_identifiers($primary_keys);$/;"	v
primary_keys	system/database/drivers/pdo/pdo_forge.php	/^			$primary_keys = $this->db->_protect_identifiers($primary_keys);$/;"	v
primary_keys	system/database/drivers/sqlite/sqlite_forge.php	/^			$primary_keys = $this->db->_protect_identifiers($primary_keys);$/;"	v
primary_keys	system/database/drivers/sqlsrv/sqlsrv_forge.php	/^			$primary_keys = $this->db->_protect_identifiers($primary_keys);$/;"	v
printInform	application/controllers/order.php	/^    public function printInform($text,$selId)$/;"	f
print_debugger	system/libraries/Email.php	/^	public function print_debugger()$/;"	f
printed	application/controllers/order.php	/^                $printed = $this->config->item("printed");$/;"	v
printed	application/controllers/order.php	/^        $this->printed = 2;\/\/打印完毕$/;"	v
printed	application/models/morder.php	/^        $this->printed = 2;\/\/打印完毕$/;"	v
printtxt	application/controllers/dsprint.class.php	/^	function printtxt($dtuid,$text='',$timeout=60,$querycmd=QUERY_PRINTER){$/;"	f
priority	system/libraries/Email.php	/^			$this->priority = 3;$/;"	v
priority	system/libraries/Email.php	/^		$this->priority = $n;$/;"	v
priority	system/libraries/Email.php	/^	var	$priority		= "3";		\/\/ Default priority (1 - 5)$/;"	v
proAdd	js/mBgItemAdd.js	/^function proAdd () {$/;"	f
proc	system/libraries/Upload.php	/^				$proc = @popen($cmd, 'r');$/;"	v
procedure	system/database/drivers/oci8/oci8_driver.php	/^		if ($package == '' OR $procedure == '' OR ! is_array($params))$/;"	v
process	system/libraries/Trackback.php	/^	function process($url, $data)$/;"	f
process	system/libraries/Typography.php	/^					$process =  ($match[1] == '\/') ? TRUE : FALSE;$/;"	v
process	system/libraries/Typography.php	/^		$process = TRUE;$/;"	v
product_id_rules	system/libraries/Cart.php	/^	var $product_id_rules	= '\\.a-z0-9_-'; \/\/ alpha-numeric, dashes, underscores, or periods$/;"	v
product_name_rules	system/libraries/Cart.php	/^	var $product_name_rules	= '\\.\\:\\-_ a-z0-9'; \/\/ alpha-numeric, dashes, underscores, colons or periods$/;"	v
product_options	system/libraries/Cart.php	/^	function product_options($rowid = '')$/;"	f
profile	system/libraries/Profiler.php	/^		$profile = array();$/;"	v
properties	system/libraries/Cache/Cache.php	/^	 * Initialize class properties based on the configuration array.$/;"	c
properties	system/libraries/Driver.php	/^	private $properties = array();$/;"	v
properties	system/libraries/Table.php	/^		\/\/ Clear table class properties before generating the table$/;"	c
property	system/libraries/Email.php	/^			\/\/ processed line(s) to the output (see comment on $crlf class property)$/;"	c
props	system/libraries/Image_lib.php	/^		$props			= $this->get_image_properties($this->wm_overlay_path, TRUE);$/;"	v
props	system/libraries/Image_lib.php	/^		$props = array('source_folder', 'dest_folder', 'source_image', 'full_src_path', 'full_dst_path', 'new_image', 'image_type', 'size_str', 'quality', 'orig_width', 'orig_height', 'width', 'height', 'rotation_angle', 'x_axis', 'y_axis', 'create_fnc', 'copy_fnc', 'wm_overlay_path', 'wm_use_truetype', 'dynamic_output', 'wm_font_size', 'wm_text', 'wm_vrt_alignment', 'wm_hor_alignment', 'wm_padding', 'wm_hor_offset', 'wm_vrt_offset', 'wm_font_color', 'wm_use_drop_shadow', 'wm_shadow_color', 'wm_shadow_distance', 'wm_opacity');$/;"	v
props	system/libraries/Image_lib.php	/^	 *	$props = array($/;"	v
protect_all	system/helpers/xml_helper.php	/^	function xml_convert($str, $protect_all = FALSE)$/;"	v
protect_braced_quotes	system/libraries/Typography.php	/^	var $protect_braced_quotes = FALSE;$/;"	v
protect_identifiers	system/database/DB_driver.php	/^			$protect_identifiers = $this->_protect_identifiers;$/;"	v
protect_identifiers	system/database/DB_driver.php	/^	function protect_identifiers($item, $prefix_single = FALSE)$/;"	f
protected	system/core/Input.php	/^		$protected = array('_SERVER', '_GET', '_POST', '_FILES', '_REQUEST',$/;"	v
protocol	system/libraries/Email.php	/^		$this->protocol = ( ! in_array($protocol, $this->_protocols, TRUE)) ? 'mail' : strtolower($protocol);$/;"	v
protocol	system/libraries/Email.php	/^		$this->protocol = ( ! in_array($this->protocol, $this->_protocols, TRUE)) ? 'mail' : $this->protocol;$/;"	v
protocol	system/libraries/Email.php	/^		$this->protocol = strtolower($this->protocol);$/;"	v
protocol	system/libraries/Email.php	/^	var	$protocol		= "mail";	\/\/ mail\/sendmail\/smtp$/;"	v
protocol	system/libraries/Image_lib.php	/^			$protocol = 'image_process_'.$this->image_library;$/;"	v
protocol	system/libraries/Image_lib.php	/^			$protocol = 'image_process_gd';$/;"	v
protocol	system/libraries/Image_lib.php	/^		$protocol = 'image_process_'.$this->image_library;$/;"	v
provides	system/libraries/Email.php	/^	 * This public function provides the raw message for use$/;"	f
provides	system/libraries/ckeditor.php	/^	 * This little function provides a basic JSON support.$/;"	f
proxies	system/core/Input.php	/^			$proxies = is_array($proxies) ? $proxies : array($proxies);$/;"	v
proxies	system/core/Input.php	/^			$proxies = preg_split('\/[\\s,]\/', config_item('proxy_ips'), -1, PREG_SPLIT_NO_EMPTY);$/;"	v
pt	system/libraries/Xmlrpcs.php	/^						$pt = ($p->kindOf() == 'scalar') ? $p->scalarval() : $p->kindOf();$/;"	v
q_separator	system/helpers/url_helper.php	/^		$q_separator = preg_quote($separator);$/;"	v
quality	system/libraries/Image_lib.php	/^			$this->quality = 90;$/;"	v
quality	system/libraries/Image_lib.php	/^		$this->quality = trim(str_replace("%", "", $this->quality));$/;"	v
quality	system/libraries/Image_lib.php	/^		if ($this->quality == '' OR $this->quality == 0 OR ! is_numeric($this->quality))$/;"	v
quality	system/libraries/Image_lib.php	/^	var $quality			= '90';$/;"	v
queries	system/database/DB_driver.php	/^	var $queries		= array();$/;"	v
query	application/views/message_view.php	/^		$query=$this->Message_model->show();$/;"	v
query	system/database/DB_active_rec.php	/^		$query = $this->query($sql);$/;"	v
query	system/database/DB_driver.php	/^			$query = $this->query($sql);$/;"	v
query	system/database/DB_driver.php	/^		$query = $this->query($sql);$/;"	v
query	system/database/DB_driver.php	/^		$query = $this->query($this->_field_data($this->_protect_identifiers($table, TRUE, NULL, FALSE)));$/;"	v
query	system/database/DB_driver.php	/^	function query($sql, $binds = FALSE, $return_object = TRUE)$/;"	f
query	system/database/DB_utility.php	/^			$query = $this->db->query($sql);$/;"	v
query	system/database/DB_utility.php	/^		$query = $this->db->query($sql);$/;"	v
query	system/database/DB_utility.php	/^		$query = $this->db->query($this->_list_databases());$/;"	v
query	system/database/drivers/cubrid/cubrid_driver.php	/^		$query = $this->query($this->_count_string . $this->_protect_identifiers('numrows') . " FROM " . $this->_protect_identifiers($table, TRUE, NULL, FALSE));$/;"	v
query	system/database/drivers/mssql/mssql_driver.php	/^		$query = $this->query($sql);$/;"	v
query	system/database/drivers/mssql/mssql_driver.php	/^		$query = $this->query($this->_count_string . $this->_protect_identifiers('numrows') . " FROM " . $this->_protect_identifiers($table, TRUE, NULL, FALSE));$/;"	v
query	system/database/drivers/mysql/mysql_driver.php	/^		$query = $this->query($this->_count_string . $this->_protect_identifiers('numrows') . " FROM " . $this->_protect_identifiers($table, TRUE, NULL, FALSE));$/;"	v
query	system/database/drivers/mysql/mysql_utility.php	/^			$query = $this->db->query("SELECT * FROM $table");$/;"	v
query	system/database/drivers/mysql/mysql_utility.php	/^			$query = $this->db->query("SHOW CREATE TABLE `".$this->db->database.'`.`'.$table.'`');$/;"	v
query	system/database/drivers/mysqli/mysqli_driver.php	/^		$query = $this->query($this->_count_string . $this->_protect_identifiers('numrows') . " FROM " . $this->_protect_identifiers($table, TRUE, NULL, FALSE));$/;"	v
query	system/database/drivers/oci8/oci8_driver.php	/^		$query = $this->query($this->_count_string . $this->_protect_identifiers('numrows') . " FROM " . $this->_protect_identifiers($table, TRUE, NULL, FALSE));$/;"	v
query	system/database/drivers/odbc/odbc_driver.php	/^		$query = $this->query($this->_count_string . $this->_protect_identifiers('numrows') . " FROM " . $this->_protect_identifiers($table, TRUE, NULL, FALSE));$/;"	v
query	system/database/drivers/pdo/pdo_driver.php	/^			$query = $this->query($sql);$/;"	v
query	system/database/drivers/pdo/pdo_driver.php	/^		$query = $this->query($this->_count_string . $this->_protect_identifiers('numrows') . " FROM " . $this->_protect_identifiers($table, TRUE, NULL, FALSE));$/;"	v
query	system/database/drivers/pdo/pdo_result.php	/^			$query = $dbh->query($this->result_id->queryString);$/;"	v
query	system/database/drivers/postgre/postgre_driver.php	/^			$query = $this->query($sql);$/;"	v
query	system/database/drivers/postgre/postgre_driver.php	/^		$query = $this->query($sql);$/;"	v
query	system/database/drivers/postgre/postgre_driver.php	/^		$query = $this->query($this->_count_string . $this->_protect_identifiers('numrows') . " FROM " . $this->_protect_identifiers($table, TRUE, NULL, FALSE));$/;"	v
query	system/database/drivers/sqlite/sqlite_driver.php	/^		$query = $this->query($this->_count_string . $this->_protect_identifiers('numrows') . " FROM " . $this->_protect_identifiers($table, TRUE, NULL, FALSE));$/;"	v
query	system/database/drivers/sqlsrv/sqlsrv_driver.php	/^		$query = $this->query("SELECT COUNT(*) AS numrows FROM " . $this->dbprefix . $table);$/;"	v
query	system/libraries/Form_validation.php	/^		$query = $this->CI->db->limit(1)->get_where($table, array($field => $str));$/;"	v
query	system/libraries/Session.php	/^			$query = $this->CI->db->get($this->sess_table_name);$/;"	v
query_count	system/database/DB_driver.php	/^	var $query_count	= 0;$/;"	v
query_string_segment	system/libraries/Pagination.php	/^	var $query_string_segment = 'per_page';$/;"	v
query_times	system/database/DB_driver.php	/^	var $query_times	= array();$/;"	v
querystring	application/controllers/HttpClient.class.php	/^    		$querystring = substr($querystring, 0, -1); \/\/ Eliminate unnecessary &$/;"	v
querystring	application/controllers/HttpClient.class.php	/^    	    $querystring = $data;$/;"	v
querystring	application/controllers/HttpClient.class.php	/^        $querystring = '';$/;"	v
quickAdd	application/controllers/message.php	/^	public function quickAdd($messId = -1,$ajax = false)$/;"	f
quickAdd	application/models/mess.php	/^	public function quickAdd($data)$/;"	f
quickGet	application/controllers/HttpClient.class.php	/^    function quickGet($url) {$/;"	f
quickPost	application/controllers/HttpClient.class.php	/^    function quickPost($url, $data) {$/;"	f
quotes_to_entities	system/helpers/string_helper.php	/^	function quotes_to_entities($str)$/;"	f
quoto	application/controllers/order.php	/^        $quoto = "e点工作室竭诚为您服务";\/\/口号$/;"	v
r	system/helpers/date_helper.php	/^		$r  = date('Y', $time).'-'.date('m', $time).'-'.date('d', $time).' ';$/;"	v
r	system/helpers/smiley_helper.php	/^		$r = '';$/;"	v
r	system/libraries/Driver.php	/^			$r = new ReflectionObject($parent);$/;"	v
r	system/libraries/Parser.php	/^	function set_delimiters($l = '{', $r = '}')$/;"	v
r	system/libraries/Unit_test.php	/^		$r = '';$/;"	v
r	system/libraries/Xmlrpc.php	/^			$r = new XML_RPC_Response($v);$/;"	v
r	system/libraries/Xmlrpc.php	/^			$r = new XML_RPC_Response($v, $errno, $errstr_v->scalarval());$/;"	v
r	system/libraries/Xmlrpc.php	/^			$r = new XML_RPC_Response(0, $this->xmlrpcerr['http_error'], $this->xmlrpcstr['http_error']);$/;"	v
r	system/libraries/Xmlrpc.php	/^			$r = new XML_RPC_Response(0, $this->xmlrpcerr['http_error'], $this->xmlrpcstr['http_error']. ' (' . $errstr . ')');$/;"	v
r	system/libraries/Xmlrpc.php	/^			$r = new XML_RPC_Response(0, $this->xmlrpcerr['http_error'],$this->xmlrpcstr['http_error']);$/;"	v
r	system/libraries/Xmlrpc.php	/^			$r = new XML_RPC_Response(0, $this->xmlrpcerr['invalid_return'], $this->xmlrpcstr['invalid_return']);$/;"	v
r	system/libraries/Xmlrpc.php	/^			$r = new XML_RPC_Response(0, $this->xmlrpcerr['invalid_return'],$this->xmlrpcstr['invalid_return'].' '.$this->xh[$parser]['isf_reason']);$/;"	v
r	system/libraries/Xmlrpc.php	/^			$r = new XML_RPC_Response(0, $this->xmlrpcerr['multicall_recursion'],$this->xmlrpcstr['multicall_recursion']);$/;"	v
r	system/libraries/Xmlrpc.php	/^			$r = new XML_RPC_Response(0, $this->xmlrpcerr['no_data'], $this->xmlrpcstr['no_data']);$/;"	v
r	system/libraries/Xmlrpc.php	/^		$r = "\\r\\n";$/;"	v
r	system/libraries/Xmlrpcs.php	/^				$r = new XML_RPC_Response(new XML_RPC_Values($sigs, 'array'));$/;"	v
r	system/libraries/Xmlrpcs.php	/^				$r = new XML_RPC_Response(new XML_RPC_Values('undef', 'string'));$/;"	v
r	system/libraries/Xmlrpcs.php	/^			$r = $this->_execute($m);$/;"	v
r	system/libraries/Xmlrpcs.php	/^			$r = new XML_RPC_Response(0,$/;"	v
r	system/libraries/Xmlrpcs.php	/^			$r = new XML_RPC_Response(0,$this->xmlrpcerr['introspect_unknown'], $this->xmlrpcstr['introspect_unknown']);$/;"	v
r	system/libraries/Xmlrpcs.php	/^		$r = $this->parseRequest();$/;"	v
r_delim	system/libraries/Parser.php	/^		$this->r_delim = $r;$/;"	v
r_delim	system/libraries/Parser.php	/^	var $r_delim = '}';$/;"	v
rad	system/helpers/captcha_helper.php	/^			$rad = $radius * ($i \/ $points );$/;"	v
rad1	system/helpers/captcha_helper.php	/^			$rad1 = $radius * (($i + 1) \/ $points);$/;"	v
radius	system/helpers/captcha_helper.php	/^		$radius		= 16;$/;"	v
rand	system/libraries/Encrypt.php	/^		$rand = $this->hash($rand);$/;"	v
rand	system/libraries/Encrypt.php	/^		$rand = '';$/;"	v
random_element	system/helpers/array_helper.php	/^	function random_element($array)$/;"	f
random_string	system/helpers/string_helper.php	/^	function random_string($type = 'alnum', $len = 8)$/;"	f
ratio	system/libraries/Image_lib.php	/^		$ratio = (($this->orig_height\/$this->orig_width) - ($this->height\/$this->width));$/;"	v
rdCode	application/controllers/checkcode.php	/^        $rdCode = "";\/\/rand code，生成的随机号码$/;"	v
rdCode	application/controllers/test.php	/^        $rdCode = "";$/;"	v
re	application/controllers/chome.php	/^            $re=$this->art->insert_art($title,$cont,$part_id,$user_id,$value);$/;"	v
re	application/controllers/chome.php	/^        $re = $this->ans_upload();$/;"	v
re	application/controllers/dsprint.class.php	/^						$re=$fp[count($fp)-1];$/;"	v
re	application/controllers/dsreceive.class.php	/^	$re = unpack ('a16mac\/a16dtu\/Ntime\/H*result', $data);$/;"	v
re	application/controllers/home.php	/^            $re=$this->delHotInfo($id);$/;"	v
re	application/controllers/home.php	/^            $re=$this->delPartInfo($part,$id);$/;"	v
re	application/controllers/home.php	/^        $re=$this->xmlData($re);\/\/补充数据，完善数据$/;"	v
re	application/controllers/item.php	/^        $re = "";$/;"	v
re	application/controllers/mainpage.php	/^            $re=$this->delHotInfo($id);$/;"	v
re	application/controllers/mainpage.php	/^            $re=$this->delPartInfo($part,$id);$/;"	v
re	application/controllers/mainpage.php	/^        $re=$this->xmlData($re);\/\/补充数据，完善数据$/;"	v
re	application/controllers/reg.php	/^            $re = "图片未上传成功，请在之后用户空间中修改";$/;"	v
re	application/controllers/reg.php	/^        $re = false;$/;"	v
re	application/controllers/reg.php	/^    $re = false;\/\/作用是为添加失败添加原因,在报错中使用$/;"	v
re	application/controllers/test.php	/^            $re = unpack ('a16mac\/a16dtu\/Ntime\/H*result', $data);$/;"	v
re	application/controllers/write.php	/^            $re = $this->art->cinsertArt($data,$this->userId);$/;"	v
re	application/controllers/write.php	/^            $re = $this->mitem->insert($data);$/;"	v
re	application/controllers/write.php	/^            $re = null;$/;"	v
re	application/views/item.php	/^                                    $re = explode("|",$temp["context"][$j]);$/;"	v
re	dsreceive.class.php	/^	$re = unpack ('a16mac\/a16dtu\/Ntime\/H*result', $data);$/;"	v
re	system/core/URI.php	/^	 * This function re-indexes the $this->segment array so that it$/;"	f
reAdd	application/controllers/write.php	/^    public function reAdd($artId)$/;"	f
reAdd	application/models/art.php	/^    public function reAdd($data,$artId)$/;"	f
reCom	application/views/item.php	/^                                $reCom = "";$/;"	v
read	system/database/DB_cache.php	/^	function read($sql)$/;"	f
readA	application/models/mess.php	/^	public function readA($messId)$/;"	f
read_dir	system/libraries/Zip.php	/^	function read_dir($path, $preserve_filepath = TRUE, $root_path = NULL)$/;"	f
read_file	system/helpers/file_helper.php	/^	function read_file($file)$/;"	f
read_file	system/libraries/Zip.php	/^	function read_file($path, $preserve_filepath = FALSE)$/;"	f
ready	js/fun.js	/^function ready(){$/;"	f
ready	system/libraries/Javascript.php	/^	function ready($js)$/;"	f
ready.fade	js/fun.js	/^    function fade(node){$/;"	f
ready.fadeTime	js/fun.js	/^    function fadeTime(node,time){$/;"	f
realPath	system/libraries/ckeditor.php	/^			$realPath = dirname($_SERVER['SCRIPT_FILENAME']);$/;"	v
realPath	system/libraries/ckeditor.php	/^			$realPath = realpath( '.\/' ) ;$/;"	v
receive	application/controllers/test.php	/^    public function receive(){$/;"	f
receive	system/libraries/Trackback.php	/^	function receive()$/;"	f
receivephp	application/controllers/dsconfig.class.php	/^$receivephp= 'http:\/\/www.edian.me\/dsreceive.class.php';\/\/填写您的空间访问地址，这个地址只是一个范例$/;"	v
receivephp	dsconfig.class.php	/^$receivephp= 'http:\/\/www.edian.me\/dsreceive.class.php';\/\/填写您的空间访问地址，这个地址只是一个范例$/;"	v
reconnect	system/database/drivers/cubrid/cubrid_driver.php	/^	function reconnect()$/;"	f
reconnect	system/database/drivers/mssql/mssql_driver.php	/^	function reconnect()$/;"	f
reconnect	system/database/drivers/mysql/mysql_driver.php	/^	function reconnect()$/;"	f
reconnect	system/database/drivers/mysqli/mysqli_driver.php	/^	function reconnect()$/;"	f
reconnect	system/database/drivers/oci8/oci8_driver.php	/^	public function reconnect()$/;"	f
reconnect	system/database/drivers/odbc/odbc_driver.php	/^	function reconnect()$/;"	f
reconnect	system/database/drivers/pdo/pdo_driver.php	/^	function reconnect()$/;"	f
reconnect	system/database/drivers/postgre/postgre_driver.php	/^	function reconnect()$/;"	f
reconnect	system/database/drivers/sqlite/sqlite_driver.php	/^	function reconnect()$/;"	f
reconnect	system/database/drivers/sqlsrv/sqlsrv_driver.php	/^	function reconnect()$/;"	f
recursively	system/libraries/Ftp.php	/^	 * This function recursively reads a folder and everything it contains (including$/;"	f
recursively	system/libraries/Zip.php	/^	 * This function recursively reads a folder and everything it contains (including$/;"	f
redirect	system/helpers/url_helper.php	/^	function redirect($uri = '', $method = 'location', $http_response_code = 302)$/;"	f
redirect_count	application/controllers/HttpClient.class.php	/^                $this->redirect_count = 0;$/;"	v
redirect_count	application/controllers/HttpClient.class.php	/^    var $redirect_count = 0;$/;"	v
reditor	application/controllers/bg/home.php	/^    function  reditor($id){$/;"	f
reditor	application/controllers/chome.php	/^    function reditor(){$/;"	f
reduce_double_slashes	system/helpers/string_helper.php	/^	function reduce_double_slashes($str)$/;"	f
reduce_linebreaks	system/libraries/Typography.php	/^	function auto_typography($str, $reduce_linebreaks = FALSE)$/;"	v
reduce_multiples	system/helpers/string_helper.php	/^	function reduce_multiples($str, $character = ',', $trim = FALSE)$/;"	f
referer	application/controllers/HttpClient.class.php	/^            $this->referer = $this->getRequestURL();$/;"	v
referer	application/controllers/HttpClient.class.php	/^    var $referer;$/;"	v
referrer	system/libraries/User_agent.php	/^	public function referrer()$/;"	f
reflections	system/libraries/Driver.php	/^	private static $reflections = array();$/;"	v
reg	application/controllers/item.php	/^        $reg = "\/^\\d+$\/";$/;"	v
reg	application/controllers/space.php	/^        $reg = array_unique($reg);$/;"	v
reg	application/core/MY_Controller.php	/^        $reg = array_unique($reg);$/;"	v
reg2	application/controllers/item.php	/^        $reg2 = "\/^\\d+\\.jpg$\/";$/;"	v
regInfoCheck	application/controllers/reg.php	/^    private function regInfoCheck()$/;"	f
regSub	application/controllers/reg.php	/^    public function regSub()    {\/\/处理注册内容的函数;$/;"	f
regex_match	system/libraries/Form_validation.php	/^	public function regex_match($str, $regex)$/;"	f
regexp	system/libraries/Upload.php	/^		$regexp = '\/^([a-z\\-]+\\\/[a-z0-9\\-\\.\\+]+)(;\\s.+)?$\/';$/;"	v
rel	system/helpers/html_helper.php	/^	function link_tag($href = '', $rel = 'stylesheet', $type = 'text\/css', $title = '', $media = '', $index_page = FALSE)$/;"	v
relative	system/libraries/Javascript.php	/^	function external($external_file = '', $relative = FALSE)$/;"	v
relative	system/libraries/javascript/Jquery.php	/^	function effect($src, $relative = FALSE)$/;"	v
relative	system/libraries/javascript/Jquery.php	/^	function modal($src, $relative = FALSE)$/;"	v
relative	system/libraries/javascript/Jquery.php	/^	function plugin($src, $relative = FALSE)$/;"	v
relative	system/libraries/javascript/Jquery.php	/^	function script($library_src = '', $relative = FALSE)$/;"	v
relative	system/libraries/javascript/Jquery.php	/^	function ui($src, $relative = FALSE)$/;"	v
relative_path	system/core/Security.php	/^	public function sanitize_filename($str, $relative_path = FALSE)$/;"	v
relative_path	system/helpers/file_helper.php	/^		$relative_path = $source_dir;$/;"	v
removeClass	system/libraries/Javascript.php	/^	function removeClass($element = 'this', $class = '')$/;"	f
removeFile	js/xheditor_plugins/multiupload/multiupload.js	/^function removeFile()$/;"	f
remove_config_path	system/core/Loader.php	/^	public function remove_package_path($path = '', $remove_config_path = TRUE)$/;"	v
remove_invisible_characters	system/core/Common.php	/^	function remove_invisible_characters($str, $url_encoded = TRUE)$/;"	f
remove_package_path	system/core/Loader.php	/^	public function remove_package_path($path = '', $remove_config_path = TRUE)$/;"	f
remove_spaces	system/libraries/Upload.php	/^	public $remove_spaces			= TRUE;$/;"	v
rename	system/libraries/Ftp.php	/^	function rename($old_file, $new_file, $move = FALSE)$/;"	f
rename_table	system/database/DB_forge.php	/^	function rename_table($table_name, $new_table_name)$/;"	f
repair_table	system/database/DB_utility.php	/^	function repair_table($table_name)$/;"	f
repass	application/controllers/reg.php	/^        $repass = $this->input->post("repasswd");$/;"	v
repeat	application/core/MY_Controller.php	/^        $repeat = array_count_values($id);\/\/计算各个id重复次数的函数$/;"	v
repeater	system/helpers/string_helper.php	/^	function repeater($data, $num = 1)$/;"	f
replace	system/core/Output.php	/^	function set_header($header, $replace = TRUE)$/;"	v
replace	system/database/DB_active_rec.php	/^	public function replace($table = '', $set = NULL)$/;"	f
replace	system/libraries/ckeditor.php	/^	public function replace($id, $config = array(), $events = array())$/;"	f
replaceAll	system/libraries/ckeditor.php	/^	public function replaceAll($className = null)$/;"	f
replacement	system/helpers/text_helper.php	/^	function word_censor($str, $censored, $replacement = '')$/;"	v
reply	system/libraries/Email.php	/^		$reply = $this->_get_smtp_data();$/;"	v
reply_to	system/libraries/Email.php	/^	public function reply_to($replyto, $name = '')$/;"	f
replyto	system/libraries/Email.php	/^			$replyto = $match['1'];$/;"	v
report	js/change2.js	/^function report (cont,select,color) {$/;"	f
report	js/reg.js	/^function report (cont,select,color) {$/;"	f
report	system/libraries/Unit_test.php	/^	function report($result = array())$/;"	f
req	system/core/Security.php	/^			$req = isset($_SERVER['HTTPS']) ? $_SERVER['HTTPS'] : FALSE;$/;"	v
req	system/core/Security.php	/^			if ( ! $req OR $req == 'off')$/;"	v
reqTime	application/controllers/dsprint.class.php	/^		$reqTime = time();$/;"	v
reqTime	application/controllers/dsreceive.class.php	/^	$reqTime = time();$/;"	v
reqTime	application/controllers/test.php	/^            $reqTime = time();$/;"	v
reqTime	dsreceive.class.php	/^	$reqTime = time();$/;"	v
request	application/controllers/HttpClient.class.php	/^    	$request = implode("\\r\\n", $headers)."\\r\\n\\r\\n".$this->postdata;$/;"	v
request	application/controllers/HttpClient.class.php	/^        $request = $this->buildRequest();$/;"	v
request	system/libraries/Xmlrpc.php	/^	function request($incoming)$/;"	f
request_headers	system/core/Input.php	/^	public function request_headers($xss_clean = FALSE)$/;"	f
request_options	system/libraries/javascript/Jquery.php	/^		$request_options = '';$/;"	v
required	system/language/english/imglib_lang.php	/^$lang['imglib_unsupported_imagecreate'] = "Your server does not support the GD function required to process this type of image.";$/;"	f
required	system/libraries/Form_validation.php	/^	public function required($str)$/;"	f
requires	system/helpers/text_helper.php	/^		\/\/ The highlight_string function requires that the text be surrounded$/;"	f
requires	system/libraries/Encrypt.php	/^				show_error('In order to use the encryption class requires that you set an encryption key in your config file.');$/;"	c
res	application/controllers/bg/blocklist.php	/^						$res=$this->mbgblocklist->enable_user($user_id);$/;"	v
res	application/controllers/bg/imglist.php	/^                    $res=$this->mhome->mupload($temp['file_name'],2);$/;"	v
res	application/controllers/bg/imglist.php	/^                \/\/      $res=unlink(base_url("upload")."\/".$img_name);$/;"	v
res	application/controllers/bg/userlist.php	/^                $res=$this->mbguserlist->user_block($user_id);$/;"	v
res	application/controllers/chome.php	/^            $res=$this->img->mupload($re['file_name'],$re["upload_name"],$user_id);$/;"	v
res	application/controllers/message.php	/^		$res = $this->mess->quickAdd($data);$/;"	v
res	application/controllers/order.php	/^        $res  = Array();$/;"	v
res	application/controllers/order.php	/^        $res = "";$/;"	v
res	application/controllers/order.php	/^        $res = $this->setOrderState($data,$this->config->item("Ordered"));\/\/下订单后状态变为2$/;"	v
res	application/controllers/order.php	/^        $res = Array();$/;"	v
res	application/controllers/reg.php	/^                    $res = $this->user->checkPhone($userName);$/;"	v
res	application/controllers/reg.php	/^                    $res = $this->user->checkname($userName);$/;"	v
res	application/controllers/reg.php	/^                $res  = "";$/;"	v
res	application/controllers/reg.php	/^            $res = $this->user->checkPhone($name);$/;"	v
res	application/controllers/reg.php	/^            $res = $this->user->checkname($name);$/;"	v
res	application/controllers/reg.php	/^            $res = $this->user->getUpdate($userId);$/;"	v
res	application/controllers/reg.php	/^            $res=$this->user->checkname($this->input->post("user_name"));\/\/这里只是提取出了name,passwd,id,个人觉得，应该有很多东西值得做的事情，而不止是对比一下而已$/;"	v
res	application/controllers/reg.php	/^        $res =  "";$/;"	v
res	application/controllers/reg.php	/^        $res = $this->user->changeInfo($data,$userId);$/;"	v
res	application/controllers/reg.php	/^        $res = $this->user->checkname($name);$/;"	v
res	application/controllers/reg.php	/^        $res = $this->user->getPassById($userId);$/;"	v
res	application/controllers/sea.php	/^                    $res = Array();$/;"	v
res	application/controllers/sea.php	/^        $res = $this->mitem->getHot($stp);$/;"	v
res	application/controllers/sea.php	/^        $res = Array();$/;"	v
res	application/controllers/sea.php	/^        $res = array();$/;"	v
res	application/controllers/sea.php	/^    public function res()$/;"	f
res	application/controllers/search.php	/^		$res = array();$/;"	v
res	application/controllers/search.php	/^	public function res()$/;"	f
res	application/controllers/sec.php	/^		$res = $this->art->cinsertArt($data,"19");$/;"	v
res	application/controllers/showart.php	/^        $res = $this->art->cinsertArt($data,"19");$/;"	v
res	application/controllers/userspace/user_home.php	/^		$res=$this->muser_home->getInfo($id);$/;"	v
res	application/core/MY_Controller.php	/^        $res = $this->monline_user->checkOnline($_SESSION['id']);$/;"	v
res	application/models/art.php	/^            $res = $this->db->query("select art_id,value from art where title like '%$key%' or keyword like '%;$key;%' AND part_id = '$partId'");$/;"	v
res	application/models/art.php	/^            $res = $this->db->query("select art_id,value from art where title like '%$key%' or keyword like '%;$key;%'");\/\/关键字的存储要；key；的形式，就是两边都是；，查找的时候，也要两边都是;，这样，匹配出来的，就是完整的关键字$/;"	v
res	application/models/art.php	/^            $res = $this->titleFb($res->result_array());$/;"	v
res	application/models/art.php	/^        $res = $this->db->query("select author_id from art where art_id = '$artId'");$/;"	v
res	application/models/art.php	/^        $res = $this->db->query("select img,author_id from art where art_id = '$artId'");$/;"	v
res	application/models/art.php	/^        $res = $this->db->query("select new,art_id,title,time,commer,visitor_num,comment_num,price,img from art where author_id = '$userId' order by value desc");$/;"	v
res	application/models/art.php	/^        $res = $this->db->query("select price,img,title,part_id,time,author_id,visitor_num,comment_num from art where art_id = '$id'");$/;"	v
res	application/models/art.php	/^        $res = $this->db->query("select title,part_id,author_id,content,price,keyword from art where art_id = '$artId'")    ;$/;"	v
res	application/models/art.php	/^        $res = $this->db->query($sql);$/;"	v
res	application/models/art.php	/^        $res=$this->db->query("select count(*) from art ");$/;"	v
res	application/models/art.php	/^        $res=$this->db->query("select count(*) from art where part_id = $part_id");$/;"	v
res	application/models/art.php	/^        $res=$this->db->query($sql);$/;"	v
res	application/models/bghome.php	/^				$res=$this->db->query("select * from art where art_id = '$id'")	;$/;"	v
res	application/models/bghome.php	/^				$res=$this->db->query("select time,author_id,title,art_id from art ");$/;"	v
res	application/models/bghome.php	/^			$res=$this->db->query("delete  from art where art_id = '$id'");$/;"	v
res	application/models/blog.php	/^						$res=$this->db->get('user',5)				;$/;"	v
res	application/models/comitem.php	/^            $res = $arr[0]["context"];$/;"	v
res	application/models/comitem.php	/^            $res = $res->result_array();$/;"	v
res	application/models/comitem.php	/^            $res = $this->conForm($res->result_array());$/;"	v
res	application/models/comitem.php	/^            $res = $this->db->query("select last_insert_id()");$/;"	v
res	application/models/comitem.php	/^        $res = $this->db->query("select id,score,context,time,user_id from comItem where item_id = '$itemId'");$/;"	v
res	application/models/comitem.php	/^        $res = $this->db->query("select user_id from comItem where id = $id");$/;"	v
res	application/models/comitem.php	/^        $res = $this->db->query("select user_id,context,time from comItem where id = $Id");$/;"	v
res	application/models/comitem.php	/^        $res = $this->db->query("select user_id,id,score,context,time,item_id from comItem where seller = $userId && unix_timestamp(time) > (unix_timestamp(now()) - $date)");$/;"	v
res	application/models/comitem.php	/^        $res = $this->db->query("select user_id,id,score,context,time,item_id from comItem where unix_timestamp(time) > (unix_timestamp(now()) - $date)");$/;"	v
res	application/models/comitem.php	/^        $res = $this->db->query($sql);$/;"	v
res	application/models/comment.php	/^			$res = $this->db->query("select art_id from comment where user_id = '$userId'");$/;"	v
res	application/models/comment.php	/^			$res=$this->db->query($sql);$/;"	v
res	application/models/img.php	/^        $res = $res->result_array();$/;"	v
res	application/models/img.php	/^        $res = $this->db->query("insert into img(user_id,img_name,upload_name,upload_time) values('$id','$name','$upload_name',now())");$/;"	v
res	application/models/img.php	/^        $res = $this->db->query("select img_id,img_name from img where user_id = '$userId'");$/;"	v
res	application/models/img.php	/^        $res = $this->db->query("select img_name from img where user_id  = $user_id");$/;"	v
res	application/models/img.php	/^        $res=$this->db->query($sql);$/;"	v
res	application/models/imgcomment.php	/^		$res = $this->db->query("select time,comment,userId from imgComment where imgId = '$imgId'");$/;"	v
res	application/models/mar_list.php	/^		$res=$this->db->query("select time,title from art where author_id = $user_id limit $from,$per_page");$/;"	v
res	application/models/mar_list.php	/^		$res=$this->db->query("select time,title from art where author_id = '$id'")	;$/;"	v
res	application/models/mbgblocklist.php	/^		$res=$this->db->query("select * from user where block = 1");$/;"	v
res	application/models/mbgimglist.php	/^		$res=$this->db->query($sql);$/;"	v
res	application/models/mbgnewreg.php	/^				$res=$this->db->query("select * from user where user_level = -1");$/;"	v
res	application/models/mbguserlist.php	/^						$res=$this->db->query("delete from user where user_id = '$id'");$/;"	v
res	application/models/mbguserlist.php	/^						$res=$this->db->query("update user set block = 1 where user_id = '$id'")				;$/;"	v
res	application/models/mbguserlist.php	/^						$res=$this->db->query($sql);$/;"	v
res	application/models/mess.php	/^		$res = $res->result_array();$/;"	v
res	application/models/mess.php	/^		$res = $this->db->query("select * from message where senderId = '$userId' && replyTo  = 0");$/;"	v
res	application/models/mess.php	/^		$res = $this->db->query("select senderId,geterId from message where messageId = '$messId'");$/;"	v
res	application/models/mess.php	/^		$res = $this->db->query("select senderId,geterId,title,time,read_already,messageId from message where geterId = '$userId' && replyTo  = 0");$/;"	v
res	application/models/mess.php	/^		$res = $this->db->query("select senderId,geterId,title,time,read_already,messageId from message where senderId = '$userId' && replyTo  = 0");$/;"	v
res	application/models/mess.php	/^		$res=$this->db->query($sql);$/;"	v
res	application/models/mhome.php	/^		$res = $this->db->query("select art_title,reg_time,art_id from art where user_id = 2 limit 0,10");$/;"	v
res	application/models/mhome.php	/^		$res = $this->db->query("select img_name from img where user_id  = $user_id");$/;"	v
res	application/models/mhome.php	/^		$res=$this->db->query("insert into img(img_id,user_id,img_name,upload_name,upload_time) values('','$id','$name','$upload_name',now())");$/;"	v
res	application/models/mhome.php	/^		$res=$this->db->query($sql);$/;"	v
res	application/models/mitem.php	/^            $res = $res->result_array();$/;"	v
res	application/models/mitem.php	/^        $res = $res->result_array();$/;"	v
res	application/models/mitem.php	/^        $res = $res[0];$/;"	v
res	application/models/mitem.php	/^        $res = $this->dataFb($res);$/;"	v
res	application/models/mitem.php	/^        $res = $this->db->query("select author_id from item where id = $itemId");$/;"	v
res	application/models/mitem.php	/^        $res = $this->db->query("select id,title,store_num,price,state from item where author_id = $userId");$/;"	v
res	application/models/mitem.php	/^        $res = $this->db->query("select id,value from item where title like '%$key%' or keyword like '%;$key;%' && state = 0");\/\/关键字的存储要；key；的形式，就是两边都是；，查找的时候，也要两边都是;，这样，匹配出来的，就是完整的关键字$/;"	v
res	application/models/mitem.php	/^        $res = $this->db->query("select title from item where id = $itemId");$/;"	v
res	application/models/mitem.php	/^        $res = $this->db->query("select title,author_id,store_num,price,img from item where id = $itemId");$/;"	v
res	application/models/mitem.php	/^        $res = $this->db->query($sql);$/;"	v
res	application/models/mitem.php	/^        $res = $this->titleFb($res);$/;"	v
res	application/models/mitem.php	/^    $res = $this->db->query("select id,title,store_num,price,state from item");$/;"	v
res	application/models/monline_user.php	/^			$res = $res->result_array();$/;"	v
res	application/models/monline_user.php	/^		$res = $this->db->query("$sql");$/;"	v
res	application/models/monline_user.php	/^		$res = $this->db->query("insert into online_user(user_id,user_name,passwd,denglu_time) VALUE($data['user_id'],$data['user_name'],$data['passwd'],$data['time'])");$/;"	v
res	application/models/monline_user.php	/^		$res = $this->db->query("select * from online_user where session_id  = $sessionId")	;$/;"	v
res	application/models/monline_user.php	/^		$res = $this->db->query("update online_user set last_activity  = 'now()' where user_id  = $userId" );$/;"	v
res	application/models/monline_user.php	/^		$res = $this->db->query($sql);$/;"	v
res	application/models/morder.php	/^            $res = $res->result_array();$/;"	v
res	application/models/morder.php	/^            $res = $this->db->query("select last_insert_id()");$/;"	v
res	application/models/morder.php	/^        $res = $res->result_array();$/;"	v
res	application/models/morder.php	/^        $res = $this->db->query("select id,addr,info,item_id,time,ordor,state from ord where  seller = $userId && state > 0");$/;"	v
res	application/models/morder.php	/^        $res = $this->db->query("select id,addr,info,item_id,time,ordor,state from ord where  state > 0");$/;"	v
res	application/models/morder.php	/^        $res = $this->db->query("select id,info,item_id,seller from ord where ordor = $userId && state = 0");$/;"	v
res	application/models/morder.php	/^        $res = $this->db->query("select id,info,state,item_id,seller,time from ord where ordor = $userId && state > 0 && state < 4");$/;"	v
res	application/models/morder.php	/^        $res = $this->db->query("select info,seller,item_id from ord where id = $id");$/;"	v
res	application/models/morder.php	/^        $res = $this->db->query("select time,item_id,state,ordor,info from ord where (unix_timestamp(time) > unix_timestamp(now()) - 86400) or state = $this->printed or state = $this->Ordered");$/;"	v
res	application/models/morder.php	/^        $res = $this->db->query("select time,item_id,state,ordor,info from ord where seller = $userId and  unix_timestamp(time) > unix_timestamp(now()) - 86400 or state = $this->printed or state = $this->Ordered");$/;"	v
res	application/models/morder.php	/^        $res = $this->db->query($sql);$/;"	v
res	application/models/morder.php	/^       $res = $this->db->query("select id,addr,info,item_id,time,ordor,state from ord where ( state = 1 or state = 2 ) && seller = $userId");$/;"	v
res	application/models/morder.php	/^       $res = $this->db->query("select id,addr,info,item_id,time,ordor,state from ord where ( state = 1 or state = 2 )");$/;"	v
res	application/models/morder.php	/^\/\/        $res = $this->db->query("select info,seller,item_id from ord where id = $id && state = 0");$/;"	v
res	application/models/mphoto.php	/^		$res=$this->db->query($sql);$/;"	v
res	application/models/mreg.php	/^						$res=$this->db->query($sql);$/;"	v
res	application/models/mreg.php	/^					$res=$this->db->query($sql);$/;"	v
res	application/models/mshowart.php	/^						$res = $this->db->query("select content,time,title from art where art_id = $id");$/;"	v
res	application/models/muser_home.php	/^		$res=$this->db->query($sql);$/;"	v
res	application/models/mwrong.php	/^         $res = $res->result_array();$/;"	v
res	application/models/mwrong.php	/^         $res = $this->db->query("select id,content from wrong");$/;"	v
res	application/models/order.php	/^            $res = $res->result_array();$/;"	v
res	application/models/order.php	/^            $res = $this->db->query("select last_insert_id()");$/;"	v
res	application/models/order.php	/^        $res = $this->db->query("select info,item_id,seller from ord where ordor = $userId");$/;"	v
res	application/models/order.php	/^        $res = $this->db->query($sql);$/;"	v
res	application/models/user.php	/^                $res = $res[0];$/;"	v
res	application/models/user.php	/^            $res = $res->result_array();$/;"	v
res	application/models/user.php	/^        $res = "";$/;"	v
res	application/models/user.php	/^        $res = $res->result_array();$/;"	v
res	application/models/user.php	/^        $res = $res[0];$/;"	v
res	application/models/user.php	/^        $res = $this->dataFb($res->result_array());$/;"	v
res	application/models/user.php	/^        $res = $this->db->query("select  user_name,reg_time,user_photo from user where user_id  = $user_id");$/;"	v
res	application/models/user.php	/^        $res = $this->db->query("select  user_name,user_photo,contract1,addr,email,lng,lat from user where user_id  = $user_id");$/;"	v
res	application/models/user.php	/^        $res = $this->db->query("select addr,user_name from user where user_id = $userId");$/;"	v
res	application/models/user.php	/^        $res = $this->db->query("select contract1,addr from user where user_id = $userId");$/;"	v
res	application/models/user.php	/^        $res = $this->db->query("select contract1,extro from user where user_id = $userId");$/;"	v
res	application/models/user.php	/^        $res = $this->db->query("select contract1,user_name from user where user_id = $userId");$/;"	v
res	application/models/user.php	/^        $res = $this->db->query("select extro from user where user_id = $userId ");$/;"	v
res	application/models/user.php	/^        $res = $this->db->query("select mailNum,comNum from user where user_id = '$userId'");$/;"	v
res	application/models/user.php	/^        $res = $this->db->query("select user_name from user where user_id = '$id'");$/;"	v
res	application/models/user.php	/^        $res = $this->db->query("select user_name,reg_time,user_photo,last_login_time,email,addr,contract1,contract2 from user where user_id = '$userId'");$/;"	v
res	application/models/user.php	/^        $res = $this->db->query("select user_name,reg_time,user_photo,last_login_time,email,addr,intro,contract1,contract2,user_type,lng,lat from user where user_id = '$userId'");$/;"	v
res	application/models/user.php	/^        $res = $this->db->query("select user_name,user_passwd,user_photo,mailNum,comNum from user where user_id = '$userId'");$/;"	v
res	application/models/user.php	/^        $res = $this->db->query("select user_passwd from user where user_id = '$userId'");$/;"	v
res	application/models/user.php	/^        $res = $this->db->query("select user_type from user where user_id = '$userId'");$/;"	v
res	application/models/user.php	/^        $res = $this->db->query("select user_type,work,operst,opered,contract1,contract2,email,intro,addr,lng,lat,user_name,impress,user_photo from user where user_id = $userId");$/;"	v
res	application/models/user.php	/^        $res = $this->db->query($sql);$/;"	v
res	application/models/user.php	/^        $res = $this->getArray($res->result_array());$/;"	v
res	application/models/user.php	/^        $res = Array();$/;"	v
res	application/models/user.php	/^        $res=$this->db->query("delete from user where user_id = '$id'");$/;"	v
res	application/models/user.php	/^        $res=$this->db->query("insert into user(user_name,user_passwd,reg_time,user_photo,email,addr,intro,contract1,contract2,user_type,lng,lat,operst,opered,work) VALUES('$data[name]','$data[passwd]','$day','$data[photo]','$data[email]','$data[addr]','$data[intro]','$data[contract1]','$data[contract2]','$data[type]','".$data["pos"][0]."','".$data["pos"][1]."','".$data["st"]."','".$data["ed"]."','".$data["work"]."')");$/;"	v
res	application/models/user.php	/^        $res=$this->db->query("select * from user where block = 1" );$/;"	v
res	application/models/user.php	/^        $res=$this->db->query("select * from user where user_level = -1");$/;"	v
res	application/models/user.php	/^        $res=$this->db->query($sql);$/;"	v
res	system/database/DB_utility.php	/^			$res = $query->result_array();$/;"	v
res	system/database/DB_utility.php	/^			$res = current($res);$/;"	v
res	system/database/DB_utility.php	/^		$res = $query->result_array();$/;"	v
res	system/database/drivers/cubrid/cubrid_result.php	/^			$res = cubrid_query($this->conn_id,$/;"	v
res2	application/models/user.php	/^            $res2 = $this->db->query($sql2);$/;"	v
resize	application/views/donghua.php	/^            resize: function(obj, targetPos, count, Func) {$/;"	j
resize	system/libraries/Image_lib.php	/^	function resize()$/;"	f
resize	system/libraries/Javascript.php	/^	function resize($element = 'this', $js = '')$/;"	f
resp	system/libraries/Email.php	/^						$resp = 220;$/;"	v
resp	system/libraries/Email.php	/^						$resp = 221;$/;"	v
resp	system/libraries/Email.php	/^						$resp = 250;$/;"	v
resp	system/libraries/Email.php	/^						$resp = 354;$/;"	v
resp	system/libraries/Xmlrpc.php	/^		$resp = $msg->parseResponse($fp);$/;"	v
response	system/libraries/Trackback.php	/^		$this->response = "";$/;"	v
response	system/libraries/Trackback.php	/^	var $response		= '';$/;"	v
response	system/libraries/Xmlrpc.php	/^		$response = $this->values_parsing($response);$/;"	v
response	system/libraries/Xmlrpc.php	/^		$this->response = $this->result->decode();$/;"	v
response	system/libraries/Xmlrpc.php	/^	var $response			= array();  \/\/ Response from remote server$/;"	v
result	system/database/DB_active_rec.php	/^		$result = $this->query($sql);$/;"	v
result	system/database/DB_driver.php	/^		$result = $segments[0];$/;"	v
result	system/database/DB_result.php	/^		$result = $this->custom_result_object($type);$/;"	v
result	system/database/DB_result.php	/^		$result = $this->result($type);$/;"	v
result	system/database/DB_result.php	/^		$result = $this->result_array();$/;"	v
result	system/database/DB_result.php	/^		$result = $this->result_object();$/;"	v
result	system/database/DB_result.php	/^	public function result($type = 'object')$/;"	f
result	system/database/DB_utility.php	/^		$result = array();$/;"	v
result	system/database/drivers/mysql/mysql_utility.php	/^			$result = $query->result_array();$/;"	v
result	system/database/drivers/mysqli/mysqli_driver.php	/^		$result = @mysqli_query($this->conn_id, $sql);$/;"	v
result	system/database/drivers/pdo/pdo_result.php	/^			$result = $query->fetchAll();$/;"	v
result	system/helpers/inflector_helper.php	/^				$result = preg_replace($rule, $replacement, $result);$/;"	v
result	system/helpers/inflector_helper.php	/^		$result = strval($str);$/;"	v
result	system/libraries/Form_validation.php	/^						$result = $rule($postdata);$/;"	v
result	system/libraries/Form_validation.php	/^				$result = $this->$rule($postdata, $param);$/;"	v
result	system/libraries/Form_validation.php	/^				$result = $this->CI->$rule($postdata, $param);$/;"	v
result	system/libraries/Ftp.php	/^		$result = @ftp_chdir($this->conn_id, $path);$/;"	v
result	system/libraries/Ftp.php	/^		$result = @ftp_chmod($this->conn_id, $perm, $path);$/;"	v
result	system/libraries/Ftp.php	/^		$result = @ftp_delete($this->conn_id, $filepath);$/;"	v
result	system/libraries/Ftp.php	/^		$result = @ftp_get($this->conn_id, $locpath, $rempath, $mode);$/;"	v
result	system/libraries/Ftp.php	/^		$result = @ftp_mkdir($this->conn_id, $path);$/;"	v
result	system/libraries/Ftp.php	/^		$result = @ftp_put($this->conn_id, $rempath, $locpath, $mode);$/;"	v
result	system/libraries/Ftp.php	/^		$result = @ftp_rename($this->conn_id, $old_file, $new_file);$/;"	v
result	system/libraries/Ftp.php	/^		$result = @ftp_rmdir($this->conn_id, $filepath);$/;"	v
result	system/libraries/Unit_test.php	/^				$result = ($test == $expected) ? TRUE : FALSE;$/;"	v
result	system/libraries/Unit_test.php	/^				$result = ($test === $expected) ? TRUE : FALSE;$/;"	v
result	system/libraries/Unit_test.php	/^			$result = $this->result();$/;"	v
result	system/libraries/Unit_test.php	/^			$result = ($expected($test)) ? TRUE : FALSE;$/;"	v
result	system/libraries/Unit_test.php	/^	function result($results = array())$/;"	f
result	system/libraries/Xmlrpc.php	/^				$result = $this->decode($result);$/;"	v
result	system/libraries/Xmlrpc.php	/^				$result = ($this->xss_clean) ? $CI->security->xss_clean($result) : $result;$/;"	v
result	system/libraries/Xmlrpc.php	/^			$result = $array;$/;"	v
result	system/libraries/Xmlrpc.php	/^			$result = $this->xmlrpc_decoder($this->val);$/;"	v
result	system/libraries/Xmlrpc.php	/^		$result = "<methodResponse>\\n";$/;"	v
result	system/libraries/Xmlrpc.php	/^		if ( ! $this->result = $this->client->send($this->message))$/;"	v
result	system/libraries/Xmlrpc.php	/^	var $result;$/;"	v
result	system/libraries/Xmlrpcs.php	/^		$result = $this->_execute($msg);$/;"	v
result	system/libraries/Xmlrpcs.php	/^		$result = array();$/;"	v
result_array	system/database/DB_result.php	/^	public function result_array()$/;"	f
result_array	system/database/DB_result.php	/^	var $result_array			= array();$/;"	v
result_array	system/database/drivers/oci8/oci8_result.php	/^	public function result_array()$/;"	f
result_id	system/database/DB_driver.php	/^	var $result_id		= FALSE;$/;"	v
result_id	system/database/DB_result.php	/^	var $result_id				= NULL;$/;"	v
result_id	system/database/drivers/cubrid/cubrid_result.php	/^				$this->result_id = FALSE;$/;"	v
result_id	system/database/drivers/cubrid/cubrid_result.php	/^			$this->result_id = FALSE;$/;"	v
result_id	system/database/drivers/mssql/mssql_result.php	/^			$this->result_id = FALSE;$/;"	v
result_id	system/database/drivers/mysql/mysql_result.php	/^			$this->result_id = FALSE;$/;"	v
result_id	system/database/drivers/mysqli/mysqli_result.php	/^			$this->result_id = FALSE;$/;"	v
result_id	system/database/drivers/oci8/oci8_result.php	/^			$this->result_id = FALSE;$/;"	v
result_id	system/database/drivers/odbc/odbc_result.php	/^			$this->result_id = FALSE;$/;"	v
result_id	system/database/drivers/pdo/pdo_driver.php	/^		$result_id = $this->conn_id->prepare($sql);$/;"	v
result_id	system/database/drivers/pdo/pdo_result.php	/^			$this->result_id = FALSE;$/;"	v
result_id	system/database/drivers/postgre/postgre_result.php	/^			$this->result_id = FALSE;$/;"	v
result_id	system/database/drivers/sqlsrv/sqlsrv_result.php	/^			$this->result_id = FALSE;$/;"	v
result_object	system/database/DB_result.php	/^		$result_object = array();$/;"	v
result_object	system/database/DB_result.php	/^	public function result_object()$/;"	f
result_object	system/database/DB_result.php	/^	var $result_object			= array();$/;"	v
results	system/libraries/Unit_test.php	/^			$results = $this->results;$/;"	v
results	system/libraries/Unit_test.php	/^	var $results				= array();$/;"	v
ret	system/database/drivers/oci8/oci8_driver.php	/^		$ret = oci_commit($this->conn_id);$/;"	v
ret	system/database/drivers/oci8/oci8_driver.php	/^		$ret = oci_rollback($this->conn_id);$/;"	v
ret	system/database/drivers/odbc/odbc_driver.php	/^		$ret = odbc_commit($this->conn_id);$/;"	v
ret	system/database/drivers/odbc/odbc_driver.php	/^		$ret = odbc_rollback($this->conn_id);$/;"	v
ret	system/database/drivers/pdo/pdo_driver.php	/^		$ret = $this->conn->commit();$/;"	v
ret	system/database/drivers/pdo/pdo_driver.php	/^		$ret = $this->conn_id->rollBack();$/;"	v
return	system/core/Loader.php	/^		if (class_exists('CI_DB') AND $return == FALSE AND $active_record == NULL AND isset($CI->db) AND is_object($CI->db))$/;"	v
return	system/core/Loader.php	/^	public function database($params = '', $return = FALSE, $active_record = NULL)$/;"	v
return	system/core/Loader.php	/^	public function file($path, $return = FALSE)$/;"	v
return	system/helpers/array_helper.php	/^		$return = array();$/;"	v
return	system/helpers/form_helper.php	/^		$return = FALSE;$/;"	v
return	system/libraries/Image_lib.php	/^	function get_image_properties($path = '', $return = FALSE)$/;"	v
return	system/libraries/Parser.php	/^	function _parse($template, $data, $return = FALSE)$/;"	v
return	system/libraries/Parser.php	/^	function parse_string($template, $data, $return = FALSE)$/;"	v
return	system/libraries/Parser.php	/^	public function parse($template, $data, $return = FALSE)$/;"	v
return	system/libraries/Trackback.php	/^					$return = FALSE;$/;"	v
return	system/libraries/Trackback.php	/^		$return = TRUE;$/;"	v
return	system/libraries/User_agent.php	/^			$return = TRUE;$/;"	v
return	system/libraries/User_agent.php	/^		$return = FALSE;$/;"	v
return	system/libraries/Xmlrpc.php	/^	function values_parsing($value, $return = FALSE)$/;"	v
returnGlobalEvents	system/libraries/ckeditor.php	/^	private function returnGlobalEvents()$/;"	f
returnOutput	system/libraries/ckeditor.php	/^	public $returnOutput = false;$/;"	v
returnedEvents	system/libraries/ckeditor.php	/^			$returnedEvents = array();$/;"	v
returnedEvents	system/libraries/ckeditor.php	/^		static $returnedEvents;$/;"	v
returned_values	system/helpers/file_helper.php	/^			$returned_values = explode(',', $returned_values);$/;"	v
returned_values	system/helpers/file_helper.php	/^	function get_file_info($file, $returned_values = array('name', 'server_path', 'size', 'date'))$/;"	v
returns	system/core/Benchmark.php	/^	 * This function returns the {memory_usage} pseudo-variable.$/;"	f
returns	system/core/Loader.php	/^	 * This function returns the object name if the class tested for is loaded,$/;"	f
returns	system/core/URI.php	/^	 * This function returns the URI segment based on the number provided.$/;"	f
returns	system/core/URI.php	/^	 * This function returns the re-routed URI segment (assuming routing rules are used)$/;"	f
returns	system/core/URI.php	/^	 * based on the number provided.  If there is no routing this function returns the$/;"	f
returns	system/libraries/Upload.php	/^				 * it is possible that this function returns an empty string$/;"	f
retval	system/core/URI.php	/^			$retval = array();$/;"	v
retval	system/core/URI.php	/^		$retval  = array();$/;"	v
retval	system/database/DB_driver.php	/^		$retval = array();$/;"	v
retval	system/database/drivers/cubrid/cubrid_result.php	/^		$retval = array();$/;"	v
retval	system/database/drivers/mssql/mssql_result.php	/^		$retval = array();$/;"	v
retval	system/database/drivers/mysql/mysql_result.php	/^		$retval = array();$/;"	v
retval	system/database/drivers/mysqli/mysqli_result.php	/^		$retval = array();$/;"	v
retval	system/database/drivers/oci8/oci8_result.php	/^		$retval = array();$/;"	v
retval	system/database/drivers/odbc/odbc_result.php	/^		$retval = array();$/;"	v
retval	system/database/drivers/postgre/postgre_result.php	/^		$retval = array();$/;"	v
retval	system/database/drivers/sqlite/sqlite_result.php	/^		$retval = array();$/;"	v
retval	system/database/drivers/sqlsrv/sqlsrv_result.php	/^		$retval = array();$/;"	v
retval	system/libraries/Image_lib.php	/^		$retval = 1;$/;"	v
retval	system/libraries/Unit_test.php	/^		$retval = array();$/;"	v
rgba	system/libraries/Image_lib.php	/^		$rgba = imagecolorat($wm_img, $this->wm_x_transp, $this->wm_y_transp);$/;"	v
right	system/libraries/Image_lib.php	/^				$right = $width-1;$/;"	v
rip	system/libraries/Email.php	/^		$rip = (isset($_SERVER['REMOTE_ADDR']) AND $_SERVER['REMOTE_ADDR'] != "") ? $_SERVER['REMOTE_ADDR'] : FALSE;$/;"	v
rmlab	application/views/userDengLu.php	/^function rmlab(node){$/;"	f
robot	system/libraries/User_agent.php	/^					$this->robot = $val;$/;"	v
robot	system/libraries/User_agent.php	/^		return array_key_exists($key, $this->robots) AND $this->robot === $this->robots[$key];$/;"	v
robot	system/libraries/User_agent.php	/^	public function robot()$/;"	f
robot	system/libraries/User_agent.php	/^	var $robot		= '';$/;"	v
robots	application/config/user_agents.php	/^$robots = array($/;"	v
robots	system/libraries/User_agent.php	/^			$this->robots = $robots;$/;"	v
robots	system/libraries/User_agent.php	/^	var $robots		= array();$/;"	v
root_path	system/libraries/Zip.php	/^			$root_path = dirname($path).'\/';$/;"	v
rotate	system/libraries/Image_lib.php	/^	function rotate()$/;"	f
rotation_angle	system/libraries/Image_lib.php	/^		if ($this->rotation_angle == 'hor' OR $this->rotation_angle == 'vrt')$/;"	v
rotation_angle	system/libraries/Image_lib.php	/^		if ($this->rotation_angle == 90 OR $this->rotation_angle == 270)$/;"	v
rotation_angle	system/libraries/Image_lib.php	/^	var $rotation_angle		= '';$/;"	v
round	application/views/load.php	/^        function round(number, count) {$/;"	f
routes	system/core/Router.php	/^		$this->routes = ( ! isset($route) OR ! is_array($route)) ? array() : $route;$/;"	v
routes	system/core/Router.php	/^	var $routes			= array();$/;"	v
row	system/database/DB_active_rec.php	/^		$row = $query->row();$/;"	v
row	system/database/DB_result.php	/^	public function row($n = 0, $type = 'object')$/;"	f
row	system/database/drivers/cubrid/cubrid_driver.php	/^		$row = $query->row();$/;"	v
row	system/database/drivers/cubrid/cubrid_result.php	/^				$row = cubrid_fetch_array($res, CUBRID_NUM);$/;"	v
row	system/database/drivers/mssql/mssql_driver.php	/^		$row = $query->row();$/;"	v
row	system/database/drivers/mysql/mysql_driver.php	/^		$row = $query->row();$/;"	v
row	system/database/drivers/mysqli/mysqli_driver.php	/^		$row = $query->row();$/;"	v
row	system/database/drivers/oci8/oci8_driver.php	/^		$row = $query->row();$/;"	v
row	system/database/drivers/oci8/oci8_result.php	/^		$row = NULL;$/;"	v
row	system/database/drivers/odbc/odbc_driver.php	/^		$row = $query->row();$/;"	v
row	system/database/drivers/pdo/pdo_driver.php	/^			$row = $query->row();$/;"	v
row	system/database/drivers/pdo/pdo_driver.php	/^		$row = $query->row();$/;"	v
row	system/database/drivers/postgre/postgre_driver.php	/^			$row = $query->row();$/;"	v
row	system/database/drivers/postgre/postgre_driver.php	/^		$row = $query->row();$/;"	v
row	system/database/drivers/sqlite/sqlite_driver.php	/^		$row = $query->row();$/;"	v
row	system/database/drivers/sqlsrv/sqlsrv_driver.php	/^		$row = $query->row();$/;"	v
row	system/libraries/Migration.php	/^		$row = $this->db->get('migrations')->row();$/;"	v
row	system/libraries/Session.php	/^			$row = $query->row();$/;"	v
row_array	system/database/DB_result.php	/^	public function row_array($n = 0)$/;"	f
row_data	system/database/DB_result.php	/^				$this->row_data = $this->row_array(0);$/;"	v
row_data	system/database/DB_result.php	/^			$this->row_data = $this->row_array(0);$/;"	v
row_data	system/database/DB_result.php	/^	var $row_data				= NULL;$/;"	v
row_object	system/database/DB_result.php	/^	public function row_object($n = 0)$/;"	f
rowid	system/libraries/Cart.php	/^			$rowid = md5($items['id']);$/;"	v
rowid	system/libraries/Cart.php	/^			$rowid = md5($items['id'].implode('', $items['options']));$/;"	v
rows	system/libraries/Table.php	/^		$this->rows				= array();$/;"	v
rows	system/libraries/Table.php	/^	var $rows				= array();$/;"	v
rs	system/database/drivers/odbc/odbc_result.php	/^		$rs = array();$/;"	v
rs	system/libraries/Xmlrpc.php	/^		$rs = "<value>\\n".$this->serializedata($typ, $val)."<\/value>\\n";$/;"	v
rs	system/libraries/Xmlrpc.php	/^		$rs = '';$/;"	v
rs_assoc	system/database/drivers/odbc/odbc_result.php	/^			$rs_assoc=array();$/;"	v
rs_assoc	system/database/drivers/odbc/odbc_result.php	/^		$rs_assoc = FALSE;$/;"	v
rs_obj	system/database/drivers/odbc/odbc_result.php	/^		$rs_obj = FALSE;$/;"	v
rsegment	system/core/URI.php	/^	function rsegment($n, $no_result = FALSE)$/;"	f
rsegment_array	system/core/URI.php	/^	function rsegment_array()$/;"	f
rsegments	system/core/URI.php	/^	var $rsegments		= array();$/;"	v
rule	system/helpers/inflector_helper.php	/^		foreach ($plural_rules as $rule => $replacement)$/;"	v
rule	system/helpers/inflector_helper.php	/^		foreach ($singular_rules as $rule => $replacement)$/;"	v
rule	system/libraries/Form_validation.php	/^				$rule	= $match[1];$/;"	v
rule	system/libraries/Form_validation.php	/^				$rule = substr($rule, 9);$/;"	v
rules	system/libraries/Form_validation.php	/^				$rules = (array('1' => $match[1]));$/;"	v
run	system/libraries/Form_validation.php	/^	public function run($group = '')$/;"	f
run	system/libraries/Profiler.php	/^	public function run()$/;"	f
run	system/libraries/Unit_test.php	/^	function run($test, $expected = TRUE, $test_name = 'undefined', $notes = '')$/;"	f
ruri_string	system/core/URI.php	/^	function ruri_string()$/;"	f
ruri_to_assoc	system/core/URI.php	/^	function ruri_to_assoc($n = 3, $default = array())$/;"	f
s	system/helpers/text_helper.php	/^			for ($i = 0, $s = count($matches['0']); $i < $s; $i++)$/;"	v
s	system/helpers/text_helper.php	/^		for ($i = 0, $s = strlen($str); $i < $s; $i++)$/;"	v
s	system/libraries/Trackback.php	/^		for ($i = 0, $s = strlen($str); $i < $s; $i++)$/;"	v
safe_ascii_for_xml	system/core/Utf8.php	/^	function safe_ascii_for_xml($str)$/;"	f
safe_mailto	system/helpers/url_helper.php	/^	function safe_mailto($email, $title = '', $attributes = '')$/;"	f
sanitize_filename	system/core/Security.php	/^	public function sanitize_filename($str, $relative_path = FALSE)$/;"	f
sanitize_filename	system/helpers/security_helper.php	/^	function sanitize_filename($filename)$/;"	f
save	system/libraries/Cache/Cache.php	/^	public function save($id, $data, $ttl = 60)$/;"	f
save	system/libraries/Cache/drivers/Cache_apc.php	/^	public function save($id, $data, $ttl = 60)$/;"	f
save	system/libraries/Cache/drivers/Cache_dummy.php	/^	public function save($id, $data, $ttl = 60)$/;"	f
save	system/libraries/Cache/drivers/Cache_file.php	/^	public function save($id, $data, $ttl = 60)$/;"	f
save	system/libraries/Cache/drivers/Cache_memcached.php	/^	public function save($id, $data, $ttl = 60)$/;"	f
save_cart	system/libraries/Cart.php	/^						$save_cart = TRUE;$/;"	v
save_cart	system/libraries/Cart.php	/^				$save_cart = TRUE;$/;"	v
save_cart	system/libraries/Cart.php	/^		$save_cart = FALSE;$/;"	v
save_queries	system/database/DB_driver.php	/^	var $save_queries	= TRUE;$/;"	v
scalar_type	system/libraries/Xmlrpcs.php	/^		$scalar_type = $scalar_type == $this->xmlrpcI4 ? $this->xmlrpcInt : $scalar_type;$/;"	v
scalarval	system/libraries/Xmlrpc.php	/^	function scalarval()$/;"	f
script	system/libraries/ckeditor.php	/^	private function script($js)$/;"	f
script	system/libraries/javascript/Jquery.php	/^		$script = '$(document).ready(function() {' . "\\n";$/;"	v
script	system/libraries/javascript/Jquery.php	/^	function script($library_src = '', $relative = FALSE)$/;"	f
script_tags	system/libraries/Javascript.php	/^	function compile($view_var = 'script_foot', $script_tags = TRUE)$/;"	v
script_tags	system/libraries/javascript/Jquery.php	/^	function _compile($view_var = 'script_foot', $script_tags = TRUE)$/;"	v
scroll	system/libraries/Javascript.php	/^	function scroll($element = 'this', $js = '')$/;"	f
sea	application/controllers/sea.php	/^    protected function sea($id,$currentPage)$/;"	f
seaFlag	js/home.js	/^var seaFlag,passRight,back,np = $("#np"),dir = $("#dir"),dirUl = $("#dirUl");$/;"	v
seaFlag	js/mainpage2.js	/^var seaFlag,passRight,hisLen,back,np = $("#np"),dir = $("#dir"),tot=Array(),isPc;$/;"	v
seaIngkey	js/home.js	/^var seaIngkey;\/\/正在搜索的关键字，如果和当前的字不同，就要废弃掉申请来的结果$/;"	v
search	js/common.js	/^function search () {$/;"	f
search	js/home.js	/^function search () {$/;"	f
search	js/mainpage2.js	/^function search () {$/;"	f
search	js/space.js	/^function search(){$/;"	f
sec	application/controllers/test.php	/^    public function sec()$/;"	f
sec	system/helpers/date_helper.php	/^			$sec  = (strlen($ex['2']) == 1) ? '0'.$ex['2'] : $ex['2'];$/;"	v
sec	system/helpers/date_helper.php	/^			$sec = '00';$/;"	v
seconds	system/helpers/date_helper.php	/^			$seconds = $time - $seconds;$/;"	v
seconds	system/helpers/date_helper.php	/^			$seconds = 1;$/;"	v
seconds	system/helpers/date_helper.php	/^	function unix_to_human($time = '', $seconds = FALSE, $fmt = 'us')$/;"	v
section	system/core/Output.php	/^		foreach ($sections as $section => $enable)$/;"	v
secure	system/core/Input.php	/^			$secure = config_item('cookie_secure');$/;"	v
secure_cookie	system/core/Security.php	/^		$secure_cookie = (config_item('cookie_secure') === TRUE) ? 1 : 0;$/;"	v
security	system/core/Input.php	/^		$this->security =& $SEC;$/;"	v
segment	system/core/URI.php	/^	function segment($n, $no_result = FALSE)$/;"	f
segment_array	system/core/URI.php	/^			$segment_array = 'rsegment_array';$/;"	v
segment_array	system/core/URI.php	/^			$segment_array = 'segment_array';$/;"	v
segment_array	system/core/URI.php	/^	function segment_array()$/;"	f
segment_one	system/database/DB_cache.php	/^			$segment_one  = ($this->CI->uri->segment(1) == FALSE) ? 'default' : $this->CI->uri->segment(1);$/;"	v
segment_one	system/database/DB_cache.php	/^		$segment_one = ($this->CI->uri->segment(1) == FALSE) ? 'default' : $this->CI->uri->segment(1);$/;"	v
segment_two	system/database/DB_cache.php	/^			$segment_two = ($this->CI->uri->segment(2) == FALSE) ? 'index' : $this->CI->uri->segment(2);$/;"	v
segment_two	system/database/DB_cache.php	/^		$segment_two = ($this->CI->uri->segment(2) == FALSE) ? 'index' : $this->CI->uri->segment(2);$/;"	v
segment_two	system/database/DB_cache.php	/^	function delete($segment_one = '', $segment_two = '')$/;"	v
segment_two	system/database/DB_driver.php	/^	function cache_delete($segment_one = '', $segment_two = '')$/;"	v
segments	system/core/Router.php	/^			$segments = array_slice($segments, 1);$/;"	v
segments	system/core/Router.php	/^		$segments = $this->_validate_request($segments);$/;"	v
segments	system/core/Router.php	/^		$segments = array();$/;"	v
segments	system/core/URI.php	/^		$segments = array_slice($this->$segment_array(), ($n - 1));$/;"	v
segments	system/core/URI.php	/^	var $segments		= array();$/;"	v
segments	system/database/DB_driver.php	/^		$segments = explode($this->bind_marker, $sql);$/;"	v
sel	system/helpers/form_helper.php	/^					$sel = (in_array($optgroup_key, $selected)) ? ' selected="selected"' : '';$/;"	v
sel	system/helpers/form_helper.php	/^				$sel = (in_array($key, $selected)) ? ' selected="selected"' : '';$/;"	v
selInfo	application/controllers/order.php	/^        $selInfo = $this->user->informInfo($selId);$/;"	v
selItem	application/models/comitem.php	/^    public function selItem($itemId)$/;"	f
select	system/database/DB_active_rec.php	/^			$select = explode(',', $select);$/;"	v
select	system/database/DB_active_rec.php	/^		if ( ! is_string($select) OR $select == '')$/;"	v
select	system/database/DB_active_rec.php	/^	public function select($select = '*', $escape = NULL)$/;"	f
select_avg	system/database/DB_active_rec.php	/^	public function select_avg($select = '', $alias = '')$/;"	f
select_max	system/database/DB_active_rec.php	/^	public function select_max($select = '', $alias = '')$/;"	f
select_min	system/database/DB_active_rec.php	/^	public function select_min($select = '', $alias = '')$/;"	f
select_sum	system/database/DB_active_rec.php	/^	public function select_sum($select = '', $alias = '')$/;"	f
selected	system/helpers/date_helper.php	/^			$selected = ($default == $key) ? " selected='selected'" : '';$/;"	v
selected	system/helpers/form_helper.php	/^				$selected = array($_POST[$name]);$/;"	v
selected	system/helpers/form_helper.php	/^			$selected = array($selected);$/;"	v
selfPath	system/libraries/ckeditor.php	/^		$selfPath = dirname($_SERVER['PHP_SELF']);$/;"	v
seller	application/controllers/map.php	/^		$seller = $this->user->getSeller($pos);\/\/其他的内容，通过getness读取，没有办法，不准被读取第三次的，但是又不愿意进行数组中查找$/;"	v
seller	application/controllers/order.php	/^        $seller = Array();$/;"	v
seller	application/controllers/order.php	/^        $seller = Array();\/\/用来排序$/;"	v
seller	application/models/comitem.php	/^        $seller = $this->mitem->getMaster($data["item_id"]);\/\/将商品主人的id查找出来，以便将来方便搜索$/;"	v
sellerName	application/controllers/order.php	/^            $sellerName = $this->user->getNameById($temp["seller"]);$/;"	v
send	application/controllers/message.php	/^	function send($messId = -1)$/;"	f
send	application/libraries/sms.php	/^    public function send($cont,$phone){$/;"	f
send	system/libraries/Email.php	/^	public function send()$/;"	f
send	system/libraries/Trackback.php	/^	function send($tb_data)$/;"	f
send	system/libraries/Xmlrpc.php	/^	function send($msg)$/;"	f
sendInMess	application/models/mess.php	/^	public function sendInMess($userId)$/;"	f
sendOrd	js/item.js	/^function sendOrd(){$/;"	f
sendPayload	system/libraries/Xmlrpc.php	/^	function sendPayload($msg)$/;"	f
sendSms	application/controllers/checkcode.php	/^    private function sendSms($url)$/;"	f
sendSms	application/controllers/test.php	/^    private function sendSms($url)$/;"	f
sendSms	application/libraries/sms.php	/^    private function sendSms($url)$/;"	f
send_email	system/helpers/email_helper.php	/^	function send_email($recipient, $subject = 'Test email', $message = 'Hello World')$/;"	f
send_error	system/libraries/Trackback.php	/^	function send_error($message = 'Incomplete Information')$/;"	f
send_error_message	system/libraries/Xmlrpc.php	/^	function send_error_message($number, $message)$/;"	f
send_multipart	system/libraries/Email.php	/^	var $send_multipart	= TRUE;		\/\/ TRUE\/FALSE - Yahoo does not like multipart alternative, so this is an override.  Set to FALSE for Yahoo.$/;"	v
send_request	system/libraries/Xmlrpc.php	/^	function send_request()$/;"	f
send_response	system/libraries/Xmlrpc.php	/^	function send_response($response)$/;"	f
send_success	system/libraries/Trackback.php	/^	function send_success()$/;"	f
sendbox	application/controllers/message.php	/^	public function sendbox($ajax = false)$/;"	f
sended	application/controllers/order.php	/^        $this->sended = 3;\/\/已经发货了$/;"	v
sended	application/controllers/order.php	/^    public function sended()$/;"	f
sends	system/core/Output.php	/^	 * This function sends the finalized output data to the browser along$/;"	f
separator	system/helpers/string_helper.php	/^function increment_string($str, $separator = '_', $first = 1)$/;"	v
separator	system/helpers/url_helper.php	/^		    $separator = '-';$/;"	v
separator	system/helpers/url_helper.php	/^		    $separator = '_';$/;"	v
separator	system/helpers/url_helper.php	/^	function url_title($str, $separator = '-', $lowercase = FALSE)$/;"	v
serialize_class	system/libraries/Xmlrpc.php	/^	function serialize_class()$/;"	f
serializedata	system/libraries/Xmlrpc.php	/^	function serializedata($typ, $val)$/;"	f
serializeval	system/libraries/Xmlrpc.php	/^	function serializeval($o)$/;"	f
serve	system/libraries/Xmlrpcs.php	/^	function serve()$/;"	f
server	system/core/Input.php	/^	function server($index = '', $xss_clean = FALSE)$/;"	f
server	system/libraries/Xmlrpc.php	/^		$this->server = $server;$/;"	v
server	system/libraries/Xmlrpc.php	/^	function server($url, $port=80)$/;"	f
server	system/libraries/Xmlrpc.php	/^	var $server			= '';$/;"	v
server_protocol	system/core/Common.php	/^		$server_protocol = (isset($_SERVER['SERVER_PROTOCOL'])) ? $_SERVER['SERVER_PROTOCOL'] : FALSE;$/;"	v
server_protocol	system/core/Common.php	/^		elseif ($server_protocol == 'HTTP\/1.1' OR $server_protocol == 'HTTP\/1.0')$/;"	v
sess_cookie_name	system/libraries/Session.php	/^		$this->sess_cookie_name = $this->cookie_prefix.$this->sess_cookie_name;$/;"	v
sess_cookie_name	system/libraries/Session.php	/^	var $sess_cookie_name			= 'ci_session';$/;"	v
sess_create	system/libraries/Session.php	/^	function sess_create()$/;"	f
sess_destroy	system/libraries/Session.php	/^	function sess_destroy()$/;"	f
sess_encrypt_cookie	system/libraries/Session.php	/^	var $sess_encrypt_cookie		= FALSE;$/;"	v
sess_expiration	system/libraries/Session.php	/^			$this->sess_expiration = (60*60*24*365*2);$/;"	v
sess_expiration	system/libraries/Session.php	/^	var $sess_expiration			= 7200;$/;"	v
sess_expire_on_close	system/libraries/Session.php	/^	var $sess_expire_on_close		= FALSE;$/;"	v
sess_match_ip	system/libraries/Session.php	/^	var $sess_match_ip				= FALSE;$/;"	v
sess_match_useragent	system/libraries/Session.php	/^	var $sess_match_useragent		= TRUE;$/;"	v
sess_read	system/libraries/Session.php	/^	function sess_read()$/;"	f
sess_table_name	system/libraries/Session.php	/^	var $sess_table_name			= '';$/;"	v
sess_time_to_update	system/libraries/Session.php	/^	var $sess_time_to_update		= 300;$/;"	v
sess_update	system/libraries/Session.php	/^	function sess_update()$/;"	f
sess_use_database	system/libraries/Session.php	/^	var $sess_use_database			= FALSE;$/;"	v
sess_write	system/libraries/Session.php	/^	function sess_write()$/;"	f
sessid	system/libraries/Session.php	/^		$sessid = '';$/;"	v
session	system/libraries/Session.php	/^			$session = $this->CI->encrypt->decode($session);$/;"	v
session	system/libraries/Session.php	/^			$session = substr($session, 0, strlen($session)-32);$/;"	v
session	system/libraries/Session.php	/^		$session = $this->CI->input->cookie($this->sess_cookie_name);$/;"	v
session	system/libraries/Session.php	/^		$session = $this->_unserialize($session);$/;"	v
sessionTime	application/models/monline_user.php	/^		$this->sessionTime = 7200;\/\/应该是2个小时的意思，时间戳应该是计算的秒数$/;"	v
sessionTime	application/models/monline_user.php	/^	var $sessionTime;	$/;"	v
set	application/controllers/bg/home.php	/^    function set()$/;"	f
set	application/controllers/bg/item.php	/^    public function set($state = -1,$itemId = -1)$/;"	f
set	application/controllers/order.php	/^    public function set()$/;"	f
set	system/database/DB_active_rec.php	/^	function insert($table = '', $set = NULL)$/;"	v
set	system/database/DB_active_rec.php	/^	public function insert_batch($table = '', $set = NULL)$/;"	v
set	system/database/DB_active_rec.php	/^	public function replace($table = '', $set = NULL)$/;"	v
set	system/database/DB_active_rec.php	/^	public function set($key, $value = '', $escape = TRUE)$/;"	f
set	system/database/DB_active_rec.php	/^	public function update($table = '', $set = NULL, $where = NULL, $limit = NULL)$/;"	v
set	system/database/DB_active_rec.php	/^	public function update_batch($table = '', $set = NULL, $index = NULL)$/;"	v
set	system/libraries/Email.php	/^				$set = "";$/;"	v
set	system/libraries/Email.php	/^		$set = "";$/;"	v
setAct	application/controllers/bg/home.php	/^    public function setAct(){$/;"	f
setAuthorization	application/controllers/HttpClient.class.php	/^    function setAuthorization($username, $password) {$/;"	f
setBlock	application/models/user.php	/^    public function setBlock($block,$userId)$/;"	f
setCSS	js/xheditor.min.js	/^(function(){var e={};window.XHEDITOR=e})(),function(e,t){e.mapLang={},e.setLang=function(i,s){s===t&&(s=i,i=""),""!==i&&(i+=".");var a,n;for(var o in s)n=s[o],a=i+o,"string"==typeof n||n instanceof Array?e.mapLang[a]=n:e.setLang(a,n)},e.getLang=function(i){var s=e.mapLang[i];if(s===t&&(s=i.replace(\/{#([^{}]+)}\/g,function(t,i){var s=e.mapLang[i];return s?s:i})),"string"==typeof s){var a=arguments;s=s.replace(\/{\\$(\\d+)}\/g,function(e,i){var s=a[parseInt(i,10)+1];return s!==t?s:e})}return s}}(XHEDITOR),function(XHEDITOR,$,undefined){var agent=navigator.userAgent.toLowerCase(),bMobile=\/mobile\/i.test(agent),browser=$.browser,browerVer=parseFloat(browser.version),isIE=browser.msie,isMozilla=browser.mozilla,isWebkit=browser.webkit,isOpera=browser.opera,isChrome=browser.chrome,bAir=agent.indexOf(" adobeair\/")>-1,xCount=0,bShowPanel=!1,bClickCancel=!0,bShowModal=!1,bCheckEscInit=!1,_jPanel,_jShadow,_jCntLine,_jPanelButton,jModal,jModalShadow,layerShadow,jOverlay,jHideSelect,onModalRemove,editorRoot,getLang=XHEDITOR.getLang;if($("script[src*=xheditor]").each(function(){var e=this.src;return e.match(\/xheditor[^\\\/]*\\.js\/i)?(editorRoot=e.replace(\/[\\?#].*$\/,"").replace(\/(^|[\\\/\\\\])[^\\\/]*$\/,"$1"),!1):undefined}),isIE){try{document.execCommand("BackgroundImageCache",!1,!0)}catch(e){}var jqueryVer=$.fn.jquery;jqueryVer&&jqueryVer.match(\/^1\\.[67]\/)&&($.attrHooks.width=$.attrHooks.height=null)}var specialKeys={27:"esc",9:"tab",32:"space",13:"enter",8:"backspace",145:"scroll",20:"capslock",144:"numlock",19:"pause",45:"insert",36:"home",46:"del",35:"end",33:"pageup",34:"pagedown",37:"left",38:"up",39:"right",40:"down",112:"f1",113:"f2",114:"f3",115:"f4",116:"f5",117:"f6",118:"f7",119:"f8",120:"f9",121:"f10",122:"f11",123:"f12"},arrAlign=[{v:"justifyleft"},{v:"justifycenter"},{v:"justifyright"},{v:"justifyfull"}],arrList=[{v:"insertOrderedList"},{v:"insertUnorderedList"}],htmlPastetext='<div><label for="xhePastetextValue">{#PastetextTip}<\/label><\/div><div><textarea id="xhePastetextValue" wrap="soft" spellcheck="false" style="width:300px;height:100px;" \/><\/div><div style="text-align:right;"><input type="button" id="xheSave" value="{#dialogOk}" \/><\/div>',htmlLink='<div><label for="xheLinkUrl">{#link.url}<\/label><input type="text" id="xheLinkUrl" value="http:\/\/" class="xheText" \/><\/div><div><label for="xheLinkTarget">{#link.target}<\/label><select id="xheLinkTarget"><option selected="selected" value="">{#default}<\/option><option value="_blank">{#link.targetBlank}<\/option><option value="_self">{#link.targetSelf}<\/option><option value="_parent">{#link.targetParent}<\/option><\/select><\/div><div style="display:none"><label for="xheLinkText">{#link.linkText}<\/label><input type="text" id="xheLinkText" value="" class="xheText" \/><\/div><div style="text-align:right;"><input type="button" id="xheSave" value="{#dialogOk}" \/><\/div>',htmlAnchor='<div><label for="xheAnchorName">{#anchor.name}<\/label><input type="text" id="xheAnchorName" value="" class="xheText" \/><\/div><div style="text-align:right;"><input type="button" id="xheSave" value="{#dialogOk}" \/><\/div>',htmlImg='<div><label for="xheImgUrl">{#img.url}<\/label><input type="text" id="xheImgUrl" value="http:\/\/" class="xheText" \/><\/div><div><div><label for="xheImgAlt">{#img.alt}<\/label><input type="text" id="xheImgAlt" \/><\/div><div><label for="xheImgAlign">{#img.align}<\/label><select id="xheImgAlign"><option selected="selected" value="">{#default}<\/option><option value="left">{#img.alignLeft}<\/option><option value="right">{#img.alignRight}<\/option><option value="top">{#img.alignTop}<\/option><option value="middle">{#img.alignMiddle}<\/option><option value="baseline">{#img.alignBaseline}<\/option><option value="bottom">{#img.alignBottom}<\/option><\/select><\/div><div><label for="xheImgWidth">{#img.width}<\/label><input type="text" id="xheImgWidth" style="width:40px;" \/> <label for="xheImgHeight">{#img.height}<\/label><input type="text" id="xheImgHeight" style="width:40px;" \/><\/div><div><label for="xheImgBorder">{#img.border}<\/label><input type="text" id="xheImgBorder" style="width:40px;" \/><\/div><div><label for="xheImgHspace">{#img.hspace}<\/label><input type="text" id="xheImgHspace" style="width:40px;" \/> <label for="xheImgVspace">{#img.vspace}<\/label><input type="text" id="xheImgVspace" style="width:40px;" \/><\/div><div style="text-align:right;"><input type="button" id="xheSave" value="{#dialogOk}" \/><\/div>',htmlFlash='<div><label for="xheFlashUrl">{#flash.url}<\/label><input type="text" id="xheFlashUrl" value="http:\/\/" class="xheText" \/><\/div><div><label for="xheFlashWidth">{#flash.width}<\/label><input type="text" id="xheFlashWidth" style="width:40px;" value="480" \/> <label for="xheFlashHeight">{#flash.height}<\/label><input type="text" id="xheFlashHeight" style="width:40px;" value="400" \/><\/div><div style="text-align:right;"><input type="button" id="xheSave" value="{#dialogOk}" \/><\/div>',htmlMedia='<div><label for="xheMediaUrl">{#media.url}<\/label><input type="text" id="xheMediaUrl" value="http:\/\/" class="xheText" \/><\/div><div><label for="xheMediaWidth">{#media.width}<\/label><input type="text" id="xheMediaWidth" style="width:40px;" value="480" \/> <label for="xheMediaHeight">{#media.height}<\/label><input type="text" id="xheMediaHeight" style="width:40px;" value="400" \/><\/div><div style="text-align:right;"><input type="button" id="xheSave" value="{#dialogOk}" \/><\/div>',htmlTable='<div><label for="xheTableRows">{#table.rows}<\/label><input type="text" id="xheTableRows" style="width:40px;" value="3" \/> <label for="xheTableColumns">{#table.columns}<\/label><input type="text" id="xheTableColumns" style="width:40px;" value="2" \/><\/div><div><label for="xheTableHeaders">{#table.headers}<\/label><select id="xheTableHeaders"><option selected="selected" value="">{#none}<\/option><option value="row">{#table.headersRow}<\/option><option value="col">{#table.headersCol}<\/option><option value="both">{#table.headersBoth}<\/option><\/select><\/div><div><label for="xheTableWidth">{#table.width}<\/label><input type="text" id="xheTableWidth" style="width:40px;" value="200" \/> <label for="xheTableHeight">{#table.height}<\/label><input type="text" id="xheTableHeight" style="width:40px;" value="" \/><\/div><div><label for="xheTableBorder">{#table.border}<\/label><input type="text" id="xheTableBorder" style="width:40px;" value="1" \/><\/div><div><label for="xheTableCellSpacing">{#table.cellSpacing}<\/label><input type="text" id="xheTableCellSpacing" style="width:40px;" value="1" \/> <label for="xheTableCellPadding">{#table.cellPadding}<\/label><input type="text" id="xheTableCellPadding" style="width:40px;" value="1" \/><\/div><div><label for="xheTableAlign">{#table.align}<\/label><select id="xheTableAlign"><option selected="selected" value="">{#default}<\/option><option value="left">{#table.alignLeft}<\/option><option value="center">{#table.alignCenter}<\/option><option value="right">{#table.alignRight}<\/option><\/select><\/div><div><label for="xheTableCaption">{#table.caption}<\/label><input type="text" id="xheTableCaption" \/><\/div><div style="text-align:right;"><input type="button" id="xheSave" value="{#dialogOk}" \/><\/div>',htmlAbout='<div style="font:12px Arial;width:245px;word-wrap:break-word;word-break:break-all;outline:none;" role="dialog" tabindex="-1"><p><span style="font-size:20px;color:#1997DF;">xhEditor<\/span><br \/>v1.2.1 (build 130225)<\/p><p>{#aboutXheditor}<\/p><p>Copyright &copy; <a href="http:\/\/xheditor.com\/" target="_blank">xhEditor.com<\/a>. All rights reserved.<\/p><\/div>',itemEmots={"default":{name:"{#default}",width:24,height:24,line:7,list:["smile","tongue","titter","laugh","sad","wronged","fastcry","cry","wail","mad","knock","curse","crazy","angry","ohmy","awkward","panic","shy","cute","envy","proud","struggle","quiet","shutup","doubt","despise","sleep","bye"]}},arrTools={Cut:{t:"Cut"},Copy:{t:"Copy"},Paste:{t:"Paste"},Pastetext:{t:"Pastetext",h:isIE?0:1},Blocktag:{t:"Blocktag",h:1},Fontface:{t:"Fontface",h:1},FontSize:{t:"FontSize",h:1},Bold:{t:"Bold",s:"Ctrl+B"},Italic:{t:"Italic",s:"Ctrl+I"},Underline:{t:"Underline",s:"Ctrl+U"},Strikethrough:{t:"Strikethrough"},FontColor:{t:"FontColor",h:1},BackColor:{t:"BackColor",h:1},SelectAll:{t:"SelectAll"},Removeformat:{t:"Removeformat"},Align:{t:"Align",h:1},List:{t:"List",h:1},Outdent:{t:"Outdent"},Indent:{t:"Indent"},Link:{t:"Link",s:"Ctrl+L",h:1},Unlink:{t:"Unlink"},Anchor:{t:"Anchor",h:1},Img:{t:"Img",h:1},Flash:{t:"Flash",h:1},Media:{t:"Media",h:1},Hr:{t:"Hr"},Emot:{t:"Emot",s:"ctrl+e",h:1},Table:{t:"Table",h:1},Source:{t:"Source"},Preview:{t:"Preview"},Print:{t:"Print",s:"Ctrl+P"},Fullscreen:{t:"Fullscreen",s:"Esc"},About:{t:"About"}},toolsThemes={mini:"Bold,Italic,Underline,Strikethrough,|,Align,List,|,Link,Img",simple:"Blocktag,Fontface,FontSize,Bold,Italic,Underline,Strikethrough,FontColor,BackColor,|,Align,List,Outdent,Indent,|,Link,Img,Emot",full:"Cut,Copy,Paste,Pastetext,|,Blocktag,Fontface,FontSize,Bold,Italic,Underline,Strikethrough,FontColor,BackColor,SelectAll,Removeformat,|,Align,List,Outdent,Indent,|,Link,Unlink,Anchor,Img,Flash,Media,Hr,Emot,Table,|,Source,Preview,Print,Fullscreen"};toolsThemes.mfull=toolsThemes.full.replace(\/\\|(,Align)\/i,"\/$1");var arrDbClick={a:"Link",img:"Img",embed:"Embed"},uploadInputname="filedata",arrEntities={"<":"&lt;",">":"&gt;",'"':"&quot;","\\u00ae":"&reg;","\\u00a9":"&copy;"},regEntities=\/[<>"\\u00ae\\u00a9]\/g,Xheditor=function(textarea,options){function checkDblClick(e){var t=e.target,i=arrDbClick[t.tagName.toLowerCase()];if(i){if("Embed"===i){var s={"application\/x-shockwave-flash":"Flash","application\/x-mplayer2":"Media"};i=s[t.type.toLowerCase()]}_this.exec(i)}}function checkEsc(e){return 27===e.which?(bShowModal?_this.removeModal():bShowPanel&&_this.hidePanel(),!1):undefined}function loadReset(){setTimeout(_this.setSource,10)}function saveResult(){_this.getSource()}function cleanPaste(e){var t,i,s;if(e&&(t=e.originalEvent.clipboardData)&&(i=t.items)&&(s=i[0])&&"file"==s.kind&&s.type.match(\/^image\\\/\/i)){var a=s.getAsFile(),n=new FileReader;return n.onload=function(){var e='<img src="'+event.target.result+'">';e=replaceRemoteImg(e),_this.pasteHTML(e)},n.readAsDataURL(a),!1}var o=settings.cleanPaste;if(0===o||bSource||bCleanPaste)return!0;bCleanPaste=!0,_this.saveBookmark();var l=isIE?"pre":"div",r=$("<"+l+' class="xhe-paste">\\ufeff\\ufeff<\/'+l+">",_doc).appendTo(_doc.body),h=r[0],c=_this.getSel(),d=_this.getRng(!0);r.css("top",_jWin.scrollTop()),isIE?(d.moveToElementText(h),d.select()):(d.selectNodeContents(h),c.removeAllRanges(),c.addRange(d)),setTimeout(function(){var e,t=3===o;if(t)r.html(r.html().replace(\/<br(\\s+[^<>]*)?>\/gi,"\\n")),e=r.text();else{var i=$(".xhe-paste",_doc.body),s=[];i.each(function(e,t){0==$(t).find(".xhe-paste").length&&s.push(t.innerHTML)}),e=s.join("<br \/>")}r.remove(),_this.loadBookmark(),e=e.replace(\/^[\\s\\uFEFF]+|[\\s\\uFEFF]+$\/g,""),e&&(t?_this.pasteText(e):(e=_this.cleanHTML(e),e=_this.cleanWord(e),e=_this.formatXHTML(e),(!settings.onPaste||settings.onPaste&&(e=settings.onPaste(e))!==!1)&&(e=replaceRemoteImg(e),_this.pasteHTML(e)))),bCleanPaste=!1},0)}function replaceRemoteImg(e){var t=settings.localUrlTest,i=settings.remoteImgSaveUrl;if(t&&i){var s=[],a=0;e=e.replace(\/(<img)((?:\\s+[^>]*?)?(?:\\s+src="\\s*([^"]+)\\s*")(?: [^>]*)?)(\\\/?>)\/gi,function(e,i,n,o,l){return!\/^(https?|data:image)\/i.test(o)||\/_xhe_temp\/.test(n)||t.test(o)||(s[a]=o,n=n.replace(\/\\s+(width|height)="[^"]*"\/gi,"").replace(\/\\s+src="[^"]*"\/gi,' src="'+skinPath+'img\/waiting.gif" remoteimg="'+a++ +'"')),i+n+l}),s.length>0&&$.post(i,{urls:s.join("|")},function(e){e=e.split("|"),$("img[remoteimg]",_this.doc).each(function(){var t=$(this);xheAttr(t,"src",e[t.attr("remoteimg")]),t.removeAttr("remoteimg")})})}return e}function setCSS(e){try{_this._exec("styleWithCSS",e,!0)}catch(t){try{_this._exec("useCSS",!e,!0)}catch(t){}}}function setOpts(){if(bInit&&!bSource){setCSS(!1);try{_this._exec("enableObjectResizing",!0,!0)}catch(e){}if(isIE)try{_this._exec("BackgroundImageCache",!0,!0)}catch(e){}}}function forcePtag(e){if(bSource||13!==e.which||e.shiftKey||e.ctrlKey||e.altKey)return!0;var t=_this.getParent("p,h1,h2,h3,h4,h5,h6,pre,address,div,li");return t.is("li")?!0:settings.forcePtag?(0===t.length&&_this._exec("formatblock","<p>"),undefined):(_this.pasteHTML("<br \/>"),isIE&&t.length>0&&2===_this.getRng().parentElement().childNodes.length&&_this.pasteHTML("<br \/>"),!1)}function fixFullHeight(){isMozilla||isWebkit||(bFullscreen&&_jArea.height("100%").css("height",_jArea.outerHeight()-_jTools.outerHeight()),isIE&&_jTools.hide().show())}function fixAppleSel(e){if(e=e.target,e.tagName.match(\/(img|embed)\/i)){var t=_this.getSel(),i=_this.getRng(!0);i.selectNode(e),t.removeAllRanges(),t.addRange(i)}}function xheAttr(e,t,i){if(!t)return!1;var s="_xhe_"+t;return i&&(urlType&&(i=getLocalUrl(i,urlType,urlBase)),e.attr(t,urlBase?getLocalUrl(i,"abs",urlBase):i).removeAttr(s).attr(s,i)),e.attr(s)||e.attr(t)}function clickCancelPanel(){bClickCancel&&_this.hidePanel()}function checkShortcuts(e){if(bSource)return!0;var t=e.which,i=specialKeys[t],s=i?i:String.fromCharCode(t).toLowerCase();sKey="",sKey+=e.ctrlKey?"ctrl+":"",sKey+=e.altKey?"alt+":"",sKey+=e.shiftKey?"shift+":"",sKey+=s;var a,n=arrShortCuts[sKey];for(a in n){if(a=n[a],!$.isFunction(a))return _this.exec(a),!1;if(a.call(_this)===!1)return!1}}function is(e,t){var i=typeof e;return t?"array"===t&&e.hasOwnProperty&&e instanceof Array?!0:i===t:"undefined"!=i}function getLocalUrl(e,t,i){if(e.match(\/^(\\w+):\\\/\\\/\/i)&&!e.match(\/^https?:\/i)||\/^#\/i.test(e)||\/^data:\/i.test(e))return e;var s=i?$('<a href="'+i+'" \/>')[0]:location,a=s.protocol,n=s.host,o=s.hostname,l=s.port,r=s.pathname.replace(\/\\\\\/g,"\/").replace(\/[^\\\/]+$\/i,"");if(""===l&&(l="80"),""===r?r="\/":"\/"!==r.charAt(0)&&(r="\/"+r),e=$.trim(e),"abs"!==t&&(e=e.replace(RegExp(a+"\\\\\/\\\\\/"+o.replace(\/\\.\/g,"\\\\.")+"(?::"+l+")"+("80"===l?"?":"")+"(\/|$)","i"),"\/")),"rel"===t&&(e=e.replace(RegExp("^"+r.replace(\/([\\\/\\.\\+\\[\\]\\(\\)])\/g,"\\\\$1"),"i"),"")),"rel"!==t&&(e.match(\/^(https?:\\\/\\\/|\\\/)\/i)||(e=r+e),"\/"===e.charAt(0))){var h,c,d=[],u=e.split("\/"),p=u.length;for(c=0;p>c;c++)h=u[c],".."===h?d.pop():""!==h&&"."!==h&&d.push(h);""===u[p-1]&&d.push(""),e="\/"+d.join("\/")}return"abs"!==t||e.match(\/^https?:\\\/\\\/\/i)||(e=a+"\/\/"+n+e),e=e.replace(\/(https?:\\\/\\\/[^:\\\/?#]+):80(\\\/|$)\/i,"$1$2")}function checkFileExt(e,t){return"*"===t||e.match(RegExp(".("+t.replace(\/,\/g,"|")+")$","i"))?!0:(alert(getLang("upload.extLimit",t)),!1)}function formatBytes(e){var t=["Byte","KB","MB","GB","TB","PB"],i=Math.floor(Math.log(e)\/Math.log(1024));return(e\/Math.pow(1024,Math.floor(i))).toFixed(2)+t[i]}function returnFalse(){return!1}var _this=this,_text=textarea,_jText=$(_text),_jForm=_jText.closest("form"),_jTools,_jArea,_win,_jWin,_doc,_jDoc,bookmark,bInit=!1,bSource=!1,bFullscreen=!1,bCleanPaste=!1,outerScroll,bShowBlocktag=!1,sLayoutStyle="",ev=null,timer,bDisableHoverExec=!1,bQuickHoverExec=!1,lastPoint=null,lastAngle=null,editorHeight=0,settings=_this.settings=$.extend({},XHEDITOR.settings,options),plugins=settings.plugins,strPlugins=[];if(plugins&&(arrTools=$.extend({},arrTools,plugins),$.each(plugins,function(e){strPlugins.push(e)}),strPlugins=strPlugins.join(",")),settings.tools.match(\/^\\s*(m?full|simple|mini)\\s*$\/i)){var toolsTheme=toolsThemes[$.trim(settings.tools)];settings.tools=settings.tools.match(\/m?full\/i)&&plugins?toolsTheme.replace("Table","Table,"+strPlugins):toolsTheme}settings.tools.match(\/(^|,)\\s*About\\s*(,|$)\/i)||(settings.tools+=",About"),settings.tools=settings.tools.split(","),settings.editorRoot&&(editorRoot=settings.editorRoot),bAir===!1&&(editorRoot=getLocalUrl(editorRoot,"abs")),settings.urlBase&&(settings.urlBase=getLocalUrl(settings.urlBase,"abs"));var idCSS="xheCSS_"+settings.skin,idContainer="xhe"+xCount+"_container",idTools="xhe"+xCount+"_Tool",idIframeArea="xhe"+xCount+"_iframearea",idIframe="xhe"+xCount+"_iframe",idFixFFCursor="xhe"+xCount+"_fixffcursor",headHTML="",bodyClass="",skinPath=editorRoot+"xheditor_skin\/"+settings.skin+"\/",arrEmots=itemEmots,urlType=settings.urlType,urlBase=settings.urlBase,emotPath=settings.emotPath,emotPath=emotPath?emotPath:editorRoot+"xheditor_emot\/",selEmotGroup="";arrEmots=$.extend({},arrEmots,settings.emots),emotPath=getLocalUrl(emotPath,"rel",urlBase?urlBase:null),bShowBlocktag=settings.showBlocktag,bShowBlocktag&&(bodyClass+=" showBlocktag");var arrShortCuts=[];this.init=function(){function e(e){var t,i=$(e.target);(t=i.css("width"))&&i.css("width","").attr("width",t.replace(\/[^0-9%]+\/g,"")),(t=i.css("height"))&&i.css("height","").attr("height",t.replace(\/[^0-9%]+\/g,""))}0===$("#"+idCSS).length&&$("head").append('<link id="'+idCSS+'" rel="stylesheet" type="text\/css" href="'+skinPath+'ui.css" \/>');var t=_jText.outerWidth(),i=_jText.outerHeight(),s=settings.width||_text.style.width||(t>10?t:0);editorHeight=settings.height||_text.style.height||(i>10?i:150),\/^\\d+(?:\\.\\d+)?$\/.test(s)&&(s+="px"),is(editorHeight,"string")&&(editorHeight=editorHeight.replace(\/[^\\d]+\/g,""));var a,n,o=settings.background||_text.style.background,l=['<span class="xheGStart"\/>'],r=\/\\||\\\/\/i;$.each(settings.tools,function(e,t){if(t.match(r)&&l.push('<span class="xheGEnd"\/>'),"|"===t)l.push('<span class="xheSeparator"\/>');else if("\/"===t)l.push("<br \/>");else{if(a=arrTools[t],!a)return;n=a.c?a.c:"xheIcon xheBtn"+t,l.push('<span><a href="#" title="{#'+a.t+'}" cmd="'+t+'" class="xheButton xheEnabled" tabindex="-1" role="button"><span class="'+n+'" unselectable="on" style="font-size:0;color:transparent;text-indent:-999px;">'+a.t+"<\/span><\/a><\/span>"),a.s&&_this.addShortcuts(a.s,t)}t.match(r)&&l.push('<span class="xheGStart"\/>')}),l.push('<span class="xheGEnd"\/><br \/>'),_jText.after($('<input type="text" id="'+idFixFFCursor+'" style="position:absolute;display:none;" \/><span id="'+idContainer+'" class="xhe_'+settings.skin+'" style="display:none"><table cellspacing="0" cellpadding="0" class="xheLayout" style="'+("0px"!=s?"width:"+s+";":"")+"height:"+editorHeight+'px;" role="presentation"><tr><td id="'+idTools+'" class="xheTool" unselectable="on" style="height:1px;" role="presentation"><\/td><\/tr><tr><td id="'+idIframeArea+'" class="xheIframeArea" role="presentation"><iframe frameborder="0" id="'+idIframe+'" src="javascript:;" style="width:100%;"><\/iframe><\/td><\/tr><\/table><\/span>')),_jTools=$("#"+idTools),_jArea=$("#"+idIframeArea),headHTML='<meta http-equiv="Content-Type" content="text\/html; charset=utf-8" \/><link rel="stylesheet" href="'+skinPath+'iframe.css"\/>';var h=settings.loadCSS;if(h)if(is(h,"array"))for(var c in h)headHTML+='<link rel="stylesheet" href="'+h[c]+'"\/>';else headHTML+=h.match(\/\\s*<style(\\s+[^>]*?)?>[\\s\\S]+?<\\\/style>\\s*\/i)?h:'<link rel="stylesheet" href="'+h+'"\/>';var d='<!DOCTYPE html><html xmlns="http:\/\/www.w3.org\/1999\/xhtml"><head>'+headHTML+"<title>{#defaultReadTip} "+(settings.readTip?settings.readTip:"")+"<\/title>";o&&(d+="<style>html{background:"+o+";}<\/style>"),d+='<\/head><body spellcheck="0" class="editMode'+bodyClass+'"><\/body><\/html>',_this.win=_win=$("#"+idIframe)[0].contentWindow,_jWin=$(_win);try{this.doc=_doc=_win.document,_jDoc=$(_doc),_doc.open(),_doc.write(getLang(d)),_doc.close(),isIE?_doc.body.contentEditable="true":_doc.designMode="On"}catch(u){}setTimeout(setOpts,300),_this.setSource(),_win.setInterval=null,_jTools.append(getLang(l.join(""))).bind("mousedown contextmenu",returnFalse).click(function(e){var t=$(e.target).closest("a");return t.is(".xheEnabled")&&(clearTimeout(timer),_jTools.find("a").attr("tabindex","-1"),ev=e,_this.exec(t.attr("cmd"))),!1}),_jTools.find(".xheButton").hover(function(e){var t=$(this),i=settings.hoverExecDelay,s=lastAngle;if(lastAngle=null,-1===i||bDisableHoverExec||!t.is(".xheEnabled"))return!1;if(s&&s>10)return bDisableHoverExec=!0,setTimeout(function(){bDisableHoverExec=!1},100),!1;var a=t.attr("cmd"),n=1===arrTools[a].h;return n?(bQuickHoverExec&&(i=0),i>=0&&(timer=setTimeout(function(){ev=e,lastPoint={x:ev.clientX,y:ev.clientY},_this.exec(a)},i)),undefined):(_this.hidePanel(),!1)},function(){lastPoint=null,timer&&clearTimeout(timer)}).mousemove(function(e){if(lastPoint){var t={x:e.clientX-lastPoint.x,y:e.clientY-lastPoint.y};if(Math.abs(t.x)>1||Math.abs(t.y)>1){if(t.x>0&&t.y>0){var i=Math.round(Math.atan(t.y\/t.x)\/.017453293);lastAngle=lastAngle?(lastAngle+i)\/2:i}else lastAngle=null;lastPoint={x:e.clientX,y:e.clientY}}}}),_jPanel=$("#xhePanel"),_jShadow=$("#xheShadow"),_jCntLine=$("#xheCntLine"),0===_jPanel.length&&(_jPanel=$('<div id="xhePanel"><\/div>').mousedown(function(e){e.stopPropagation()}),_jShadow=$('<div id="xheShadow"><\/div>'),_jCntLine=$('<div id="xheCntLine"><\/div>'),setTimeout(function(){$(document.body).append(_jPanel).append(_jShadow).append(_jCntLine)},10)),$("#"+idContainer).show(),_jText.hide(),_jArea.css("height",editorHeight-_jTools.outerHeight()),isIE&8>browerVer&&setTimeout(function(){_jArea.css("height",editorHeight-_jTools.outerHeight())},1),_jText.focus(_this.focus),_jForm.submit(saveResult).bind("reset",loadReset),settings.submitID&&$("#"+settings.submitID).mousedown(saveResult),$(window).bind("unload beforeunload",saveResult).bind("resize",fixFullHeight),$(document).mousedown(clickCancelPanel),bCheckEscInit||($(document).keydown(checkEsc),bCheckEscInit=!0),_jWin.focus(function(){settings.focus&&settings.focus()}).blur(function(){settings.blur&&settings.blur()}),isWebkit&&_jWin.click(fixAppleSel),_jDoc.mousedown(clickCancelPanel).keydown(checkShortcuts).keypress(forcePtag).dblclick(checkDblClick).bind("mousedown click",function(e){_jText.trigger(e.type)}),isIE&&(_jDoc.keydown(function(e){var t=_this.getRng();return 8===e.which&&t.item?($(t.item(0)).remove(),!1):undefined}),_jDoc.bind("controlselect",function(t){t=t.target,$.nodeName(t,"IMG")&&$(t).unbind("resizeend",e).bind("resizeend",e)})),_jDoc.keydown(function(e){var t=e.which;return e.altKey&&t>=49&&57>=t?(_jTools.find("a").attr("tabindex","0"),_jTools.find(".xheGStart").eq(t-49).next().find("a").focus(),_doc.title="\\ufeff\\ufeff",!1):undefined}).click(function(){_jTools.find("a").attr("tabindex","-1")}),_jTools.keydown(function(e){var t=e.which;if(27==t)_jTools.find("a").attr("tabindex","-1"),_this.focus();else if(e.altKey&&t>=49&&57>=t)return _jTools.find(".xheGStart").eq(t-49).next().find("a").focus(),!1});var p=$(_doc.documentElement);isOpera?p.bind("keydown",function(e){e.ctrlKey&&86===e.which&&cleanPaste()}):p.bind(isIE?"beforepaste":"paste",cleanPaste),settings.disableContextmenu&&p.bind("contextmenu",returnFalse),settings.html5Upload&&p.bind("dragenter dragover",function(e){var t;return(t=e.originalEvent.dataTransfer.types)&&-1!==$.inArray("Files",t)?!1:undefined}).bind("drop",function(e){function t(e){var t,i,s;for(a=0;e.length>a;a++){if(i=e[a].name.replace(\/.+\\.\/,""),!(t=o.match(RegExp("(\\\\w+):[^:]*,"+i+"(?:,|$)","i"))))return 1;if(s){if(s!==t[1])return 2}else s=t[1]}return s}var i,s=e.originalEvent.dataTransfer;if(s&&(i=s.files)&&i.length>0){var a,n,o,l=["Link","Img","Flash","Media"],r=[];for(a in l)n=l[a],settings["up"+n+"Url"]&&settings["up"+n+"Url"].match(\/^[^!].*\/i)&&r.push(n+":,"+settings["up"+n+"Ext"]);return 0===r.length?!1:(o=r.join(","),n=t(i),1===n?alert(getLang("upload.extLimit",o.replace(\/\\w+:,\/g,""))):2===n?alert(getLang("upload.typeLimit")):n&&_this.startUpload(i,settings["up"+n+"Url"],"*",function(e){var t,i=[],s=settings.onUpload;s&&s(e);for(var a=0,o=e.length;o>a;a++)t=e[a],url=is(t,"string")?t:t.url,"!"===url.substr(0,1)&&(url=url.substr(1)),i.push(url);_this.exec(n),$("#xhe"+n+"Url").val(i.join(" ")),$("#xheSave").click()}),!1)}});var g=settings.shortcuts;g&&$.each(g,function(e,t){_this.addShortcuts(e,t)}),xCount++,bInit=!0,settings.fullscreen?_this.toggleFullscreen():settings.sourceMode&&setTimeout(_this.toggleSource,20);var f=settings.plugins;return f&&$.each(f,function(e,t){var i=t.i;i!==undefined&&i(_this)}),!0},this.remove=function(){_this.hidePanel(),saveResult(),_jText.unbind("focus",_this.focus),_jForm.unbind("submit",saveResult).unbind("reset",loadReset),settings.submitID&&$("#"+settings.submitID).unbind("mousedown",saveResult),$(window).unbind("unload beforeunload",saveResult).unbind("resize",fixFullHeight),$(document).unbind("mousedown",clickCancelPanel),$("#"+idContainer).remove(),$("#"+idFixFFCursor).remove(),_jText.show(),bInit=!1},this.saveBookmark=function(){if(!bSource){_this.focus();var e=_this.getRng();e=e.cloneRange?e.cloneRange():e,bookmark={top:_jWin.scrollTop(),rng:e}}},this.loadBookmark=function(){if(!bSource&&bookmark){_this.focus();var e=bookmark.rng;if(isIE)e.select();else{var t=_this.getSel();t.removeAllRanges(),t.addRange(e)}_jWin.scrollTop(bookmark.top),bookmark=null}},this.focus=function(){if(bSource?$("#sourceCode",_doc).focus():_win.focus(),isIE){var e=_this.getRng();e.parentElement&&e.parentElement().ownerDocument!==_doc&&_this.setTextCursor()}return!1},this.setTextCursor=function(e){var t=_this.getRng(!0),i=_doc.body;if(isIE)t.moveToElementText(i);else{for(var s=e?"lastChild":"firstChild";3!=i.nodeType&&i[s];)i=i[s];t.selectNode(i)}if(t.collapse(e?!1:!0),isIE)t.select();else{var a=_this.getSel();a.removeAllRanges(),a.addRange(t)}},this.getSel=function(){return _doc.selection?_doc.selection:_win.getSelection()},this.getRng=function(e){var t,i;try{e||(t=_this.getSel(),i=t.createRange?t.createRange():t.rangeCount>0?t.getRangeAt(0):null),i||(i=_doc.body.createTextRange?_doc.body.createTextRange():_doc.createRange())}catch(s){}return i},this.getParent=function(e){var t,i=_this.getRng();return isIE?t=i.item?i.item(0):i.parentElement():(t=i.commonAncestorContainer,i.collapsed||i.startContainer===i.endContainer&&2>i.startOffset-i.endOffset&&i.startContainer.hasChildNodes()&&(t=i.startContainer.childNodes[i.startOffset])),e=e?e:"*",t=$(t),t.is(e)||(t=$(t).closest(e)),t},this.getSelect=function(e){var t=_this.getSel(),i=_this.getRng(),s=!0;if(s=!i||i.item?!1:!t||0===i.boundingWidth||i.collapsed,"text"===e)return s?"":i.text||(t.toString?""+t:"");var a;if(i.cloneContents){var n,o=$("<div><\/div>");n=i.cloneContents(),n&&o.append(n),a=o.html()}else a=is(i.item)?i.item(0).outerHTML:is(i.htmlText)?i.htmlText:""+i;return s&&(a=""),a=_this.processHTML(a,"read"),a=_this.cleanHTML(a),a=_this.formatXHTML(a)},this.pasteHTML=function(e,t){if(bSource)return!1;_this.focus(),e=_this.processHTML(e,"write");var i=_this.getSel(),s=_this.getRng();if(t!==undefined){if(s.item){var a=s.item(0);s=_this.getRng(!0),s.moveToElementText(a),s.select()}s.collapse(t)}if(e+="<"+(isIE?"img":"span")+' id="_xhe_temp" width="0" height="0" \/>',s.insertNode){if($(s.startContainer).closest("style,script").length>0)return!1;s.deleteContents(),s.insertNode(s.createContextualFragment(e))}else"control"===i.type.toLowerCase()&&(i.clear(),s=_this.getRng()),s.pasteHTML(e);var n=$("#_xhe_temp",_doc),o=n[0];isIE?(s.moveToElementText(o),s.select()):(s.selectNode(o),i.removeAllRanges(),i.addRange(s)),n.remove()},this.pasteText=function(e,t){e||(e=""),e=_this.domEncode(e),e=e.replace(\/\\r?\\n\/g,"<br \/>"),_this.pasteHTML(e,t)},this.appendHTML=function(e){return bSource?!1:(_this.focus(),e=_this.processHTML(e,"write"),$(_doc.body).append(e),_this.setTextCursor(!0),undefined)},this.domEncode=function(e){return e.replace(regEntities,function(e){return arrEntities[e]})},this.setSource=function(e){bookmark=null,"string"!=typeof e&&""!==e&&(e=_text.value),bSource?$("#sourceCode",_doc).val(e):(settings.beforeSetSource&&(e=settings.beforeSetSource(e)),e=_this.cleanHTML(e),e=_this.formatXHTML(e),e=_this.processHTML(e,"write"),isIE?(_doc.body.innerHTML='<img id="_xhe_temp" width="0" height="0" \/>'+e,$("#_xhe_temp",_doc).remove()):_doc.body.innerHTML=e)},this.processHTML=function(e,t){function i(e,t,i,s,a,o){var l,r,h,c,d="";if(l=s.match(\/font-family\\s*:\\s*([^;"]+)\/i),l&&(d+=' face="'+l[1]+'"'),r=s.match(\/font-size\\s*:\\s*([^;"]+)\/i)){r=r[1].toLowerCase();for(var u=0;n.length>u;u++)if(r===n[u].n||r===n[u].s){h=u+1;break}h&&(d+=' size="'+h+'"',s=s.replace(\/(^|;)(\\s*font-size\\s*:\\s*[^;"]+;?)+\/gi,"$1"))}if(c=s.match(\/(?:^|[\\s;])color\\s*:\\s*([^;"]+)\/i)){var p;if(p=c[1].match(\/\\s*rgb\\s*\\(\\s*(\\d+)\\s*,\\s*(\\d+)\\s*,\\s*(\\d+)\\s*\\)\/i)){c[1]="#";for(var g=1;3>=g;g++)c[1]+=("0"+(p[g]-0).toString(16)).slice(-2)}c[1]=c[1].replace(\/^#([0-9a-f])([0-9a-f])([0-9a-f])$\/i,"#$1$1$2$2$3$3"),d+=' color="'+c[1]+'"'}return s=s.replace(\/(^|;)(\\s*(font-family|color)\\s*:\\s*[^;"]+;?)+\/gi,"$1"),""!==d?(s&&(d+=' style="'+s+'"'),"<font"+(i?i:"")+d+(a?a:"")+">"+o+"<\/font>"):e}function s(e,t,i,s,a){for(var n,l,r=(i?i:"")+(s?s:""),h=[],c=[],d=0;o.length>d;d++)n=o[d].r,l=o[d].t,r=r.replace(n,function(){return h.push("<"+l+">"),c.push("<\/"+l+">"),""});return r=r.replace(\/\\s+style\\s*=\\s*"\\s*"\/i,""),(r?"<span"+r+">":"")+h.join("")+a+c.join("")+(r?"<\/span>":"")}var a=' class="Apple-style-span"',n=settings.listFontsize;if("write"===t)e=e.replace(\/(<(\\\/?)(\\w+))((?:\\s+[\\w\\-:]+\\s*=\\s*(?:"[^"]*"|'[^']*'|[^>\\s]+))*)\\s*((\\\/?)>)\/g,function(e,t,i,s,n,o,l){s=s.toLowerCase(),isMozilla?"strong"===s?s="b":"em"===s&&(s="i"):isWebkit&&("strong"===s?(s="span",i||(n+=a+' style="font-weight: bold;"')):"em"===s?(s="span",i||(n+=a+' style="font-style: italic;"')):"u"===s?(s="span",i||(n+=a+' style="text-decoration: underline;"')):"strike"===s&&(s="span",i||(n+=a+' style="text-decoration: line-through;"')));var r,h="";if("del"===s)s="strike";else if("img"===s)n=n.replace(\/\\s+emot\\s*=\\s*("[^"]*"|'[^']*'|[^>\\s]+)\/i,function(e,t){return r=t.match(\/^(["']?)(.*)\\1\/)[2],r=r.split(","),r[1]||(r[1]=r[0],r[0]=""),"default"===r[0]&&(r[0]=""),settings.emotMark?e:""});else if("a"===s)!n.match(\/ href=[^ ]\/i)&&n.match(\/ name=[^ ]\/i)&&(h+=" xhe-anchor"),l&&(o="><\/a>");else if("table"===s&&!i){var c=n.match(\/\\s+border\\s*=\\s*("[^"]*"|'[^']*'|[^>\\s]+)\/i);(!c||c[1].match(\/^(["']?)\\s*0\\s*\\1$\/))&&(h+=" xhe-border")}var d;if(n=n.replace(\/\\s+([\\w\\-:]+)\\s*=\\s*("[^"]*"|'[^']*'|[^>\\s]+)\/g,function(e,t,i){return t=t.toLowerCase(),i=i.match(\/^(["']?)(.*)\\1\/)[2],aft="",isIE&&t.match(\/^(disabled|checked|readonly|selected)$\/)&&i.match(\/^(false|0)$\/i)?"":"img"===s&&r&&"src"===t?"":(t.match(\/^(src|href)$\/)&&(aft=" _xhe_"+t+'="'+i+'"',urlBase&&(i=getLocalUrl(i,"abs",urlBase))),h&&"class"===t&&(i+=" "+h,h=""),isWebkit&&"style"===t&&"span"===s&&i.match(\/(^|;)\\s*(font-family|font-size|color|background-color)\\s*:\\s*[^;]+\\s*(;|$)\/i)&&(d=!0)," "+t+'="'+i+'"'+aft)}),r){var u=emotPath+(r[0]?r[0]:"default")+"\/"+r[1]+".gif";n+=' src="'+u+'" _xhe_src="'+u+'"'}return d&&(n+=a),h&&(n+=' class="'+h+'"'),"<"+i+s+n+o}),isIE&&(e=e.replace(\/&apos;\/gi,"&#39;")),isWebkit||(e=e.replace(\/<(span)(\\s+[^>]*?)?\\s+style\\s*=\\s*"((?:[^"]*?;)?\\s*(?:font-family|font-size|color)\\s*:[^"]*)"( [^>]*)?>(((?!<\\1(\\s+[^>]*?)?>)[\\s\\S]|<\\1(\\s+[^>]*?)?>((?!<\\1(\\s+[^>]*?)?>)[\\s\\S]|<\\1(\\s+[^>]*?)?>((?!<\\1(\\s+[^>]*?)?>)[\\s\\S])*?<\\\/\\1>)*?<\\\/\\1>)*?)<\\\/\\1>\/gi,i),e=e.replace(\/<(span)(\\s+[^>]*?)?\\s+style\\s*=\\s*"((?:[^"]*?;)?\\s*(?:font-family|font-size|color)\\s*:[^"]*)"( [^>]*)?>(((?!<\\1(\\s+[^>]*?)?>)[\\s\\S]|<\\1(\\s+[^>]*?)?>((?!<\\1(\\s+[^>]*?)?>)[\\s\\S])*?<\\\/\\1>)*?)<\\\/\\1>\/gi,i),e=e.replace(\/<(span)(\\s+[^>]*?)?\\s+style\\s*=\\s*"((?:[^"]*?;)?\\s*(?:font-family|font-size|color)\\s*:[^"]*)"( [^>]*)?>(((?!<\\1(\\s+[^>]*?)?>)[\\s\\S])*?)<\\\/\\1>\/gi,i)),e=e.replace(\/<(td|th)(\\s+[^>]*?)?>(\\s|&nbsp;)*<\\\/\\1>\/gi,"<$1$2>"+(isIE?"":"<br \/>")+"<\/$1>");else{if(isWebkit)for(var o=[{r:\/font-weight\\s*:\\s*bold;?\/gi,t:"strong"},{r:\/font-style\\s*:\\s*italic;?\/gi,t:"em"},{r:\/text-decoration\\s*:\\s*underline;?\/gi,t:"u"},{r:\/text-decoration\\s*:\\s*line-through;?\/gi,t:"strike"}],l=0;2>l;l++)e=e.replace(\/<(span)(\\s+[^>]*?)?\\s+class\\s*=\\s*"Apple-style-span"(\\s+[^>]*?)?>(((?!<\\1(\\s+[^>]*?)?>)[\\s\\S]|<\\1(\\s+[^>]*?)?>((?!<\\1(\\s+[^>]*?)?>)[\\s\\S]|<\\1(\\s+[^>]*?)?>((?!<\\1(\\s+[^>]*?)?>)[\\s\\S])*?<\\\/\\1>)*?<\\\/\\1>)*?)<\\\/\\1>\/gi,s),e=e.replace(\/<(span)(\\s+[^>]*?)?\\s+class\\s*=\\s*"Apple-style-span"(\\s+[^>]*?)?>(((?!<\\1(\\s+[^>]*?)?>)[\\s\\S]|<\\1(\\s+[^>]*?)?>((?!<\\1(\\s+[^>]*?)?>)[\\s\\S])*?<\\\/\\1>)*?)<\\\/\\1>\/gi,s),e=e.replace(\/<(span)(\\s+[^>]*?)?\\s+class\\s*=\\s*"Apple-style-span"(\\s+[^>]*?)?>(((?!<\\1(\\s+[^>]*?)?>)[\\s\\S])*?)<\\\/\\1>\/gi,s);e=e.replace(\/(<(\\w+))((?:\\s+[\\w\\-:]+\\s*=\\s*(?:"[^"]*"|'[^']*'|[^>\\s]+))*)\\s*(\\\/?>)\/g,function(e,t,i,s,a){i=i.toLowerCase();$/;"	f
setCookies	application/controllers/HttpClient.class.php	/^    function setCookies($array) {$/;"	f
setDebug	application/controllers/HttpClient.class.php	/^    function setDebug($boolean) {$/;"	f
setFileState	js/xheditor_plugins/multiupload/multiupload.js	/^function setFileState(fileid,txt)$/;"	f
setFive	application/models/morder.php	/^    public function setFive($id,$userId,$state)$/;"	f
setHandleRedirects	application/controllers/HttpClient.class.php	/^    function setHandleRedirects($boolean) {$/;"	f
setHeadersOnly	application/controllers/HttpClient.class.php	/^    function setHeadersOnly($boolean) {$/;"	f
setMaxRedirects	application/controllers/HttpClient.class.php	/^    function setMaxRedirects($num) {$/;"	f
setOpts	js/xheditor.min.js	/^(function(){var e={};window.XHEDITOR=e})(),function(e,t){e.mapLang={},e.setLang=function(i,s){s===t&&(s=i,i=""),""!==i&&(i+=".");var a,n;for(var o in s)n=s[o],a=i+o,"string"==typeof n||n instanceof Array?e.mapLang[a]=n:e.setLang(a,n)},e.getLang=function(i){var s=e.mapLang[i];if(s===t&&(s=i.replace(\/{#([^{}]+)}\/g,function(t,i){var s=e.mapLang[i];return s?s:i})),"string"==typeof s){var a=arguments;s=s.replace(\/{\\$(\\d+)}\/g,function(e,i){var s=a[parseInt(i,10)+1];return s!==t?s:e})}return s}}(XHEDITOR),function(XHEDITOR,$,undefined){var agent=navigator.userAgent.toLowerCase(),bMobile=\/mobile\/i.test(agent),browser=$.browser,browerVer=parseFloat(browser.version),isIE=browser.msie,isMozilla=browser.mozilla,isWebkit=browser.webkit,isOpera=browser.opera,isChrome=browser.chrome,bAir=agent.indexOf(" adobeair\/")>-1,xCount=0,bShowPanel=!1,bClickCancel=!0,bShowModal=!1,bCheckEscInit=!1,_jPanel,_jShadow,_jCntLine,_jPanelButton,jModal,jModalShadow,layerShadow,jOverlay,jHideSelect,onModalRemove,editorRoot,getLang=XHEDITOR.getLang;if($("script[src*=xheditor]").each(function(){var e=this.src;return e.match(\/xheditor[^\\\/]*\\.js\/i)?(editorRoot=e.replace(\/[\\?#].*$\/,"").replace(\/(^|[\\\/\\\\])[^\\\/]*$\/,"$1"),!1):undefined}),isIE){try{document.execCommand("BackgroundImageCache",!1,!0)}catch(e){}var jqueryVer=$.fn.jquery;jqueryVer&&jqueryVer.match(\/^1\\.[67]\/)&&($.attrHooks.width=$.attrHooks.height=null)}var specialKeys={27:"esc",9:"tab",32:"space",13:"enter",8:"backspace",145:"scroll",20:"capslock",144:"numlock",19:"pause",45:"insert",36:"home",46:"del",35:"end",33:"pageup",34:"pagedown",37:"left",38:"up",39:"right",40:"down",112:"f1",113:"f2",114:"f3",115:"f4",116:"f5",117:"f6",118:"f7",119:"f8",120:"f9",121:"f10",122:"f11",123:"f12"},arrAlign=[{v:"justifyleft"},{v:"justifycenter"},{v:"justifyright"},{v:"justifyfull"}],arrList=[{v:"insertOrderedList"},{v:"insertUnorderedList"}],htmlPastetext='<div><label for="xhePastetextValue">{#PastetextTip}<\/label><\/div><div><textarea id="xhePastetextValue" wrap="soft" spellcheck="false" style="width:300px;height:100px;" \/><\/div><div style="text-align:right;"><input type="button" id="xheSave" value="{#dialogOk}" \/><\/div>',htmlLink='<div><label for="xheLinkUrl">{#link.url}<\/label><input type="text" id="xheLinkUrl" value="http:\/\/" class="xheText" \/><\/div><div><label for="xheLinkTarget">{#link.target}<\/label><select id="xheLinkTarget"><option selected="selected" value="">{#default}<\/option><option value="_blank">{#link.targetBlank}<\/option><option value="_self">{#link.targetSelf}<\/option><option value="_parent">{#link.targetParent}<\/option><\/select><\/div><div style="display:none"><label for="xheLinkText">{#link.linkText}<\/label><input type="text" id="xheLinkText" value="" class="xheText" \/><\/div><div style="text-align:right;"><input type="button" id="xheSave" value="{#dialogOk}" \/><\/div>',htmlAnchor='<div><label for="xheAnchorName">{#anchor.name}<\/label><input type="text" id="xheAnchorName" value="" class="xheText" \/><\/div><div style="text-align:right;"><input type="button" id="xheSave" value="{#dialogOk}" \/><\/div>',htmlImg='<div><label for="xheImgUrl">{#img.url}<\/label><input type="text" id="xheImgUrl" value="http:\/\/" class="xheText" \/><\/div><div><div><label for="xheImgAlt">{#img.alt}<\/label><input type="text" id="xheImgAlt" \/><\/div><div><label for="xheImgAlign">{#img.align}<\/label><select id="xheImgAlign"><option selected="selected" value="">{#default}<\/option><option value="left">{#img.alignLeft}<\/option><option value="right">{#img.alignRight}<\/option><option value="top">{#img.alignTop}<\/option><option value="middle">{#img.alignMiddle}<\/option><option value="baseline">{#img.alignBaseline}<\/option><option value="bottom">{#img.alignBottom}<\/option><\/select><\/div><div><label for="xheImgWidth">{#img.width}<\/label><input type="text" id="xheImgWidth" style="width:40px;" \/> <label for="xheImgHeight">{#img.height}<\/label><input type="text" id="xheImgHeight" style="width:40px;" \/><\/div><div><label for="xheImgBorder">{#img.border}<\/label><input type="text" id="xheImgBorder" style="width:40px;" \/><\/div><div><label for="xheImgHspace">{#img.hspace}<\/label><input type="text" id="xheImgHspace" style="width:40px;" \/> <label for="xheImgVspace">{#img.vspace}<\/label><input type="text" id="xheImgVspace" style="width:40px;" \/><\/div><div style="text-align:right;"><input type="button" id="xheSave" value="{#dialogOk}" \/><\/div>',htmlFlash='<div><label for="xheFlashUrl">{#flash.url}<\/label><input type="text" id="xheFlashUrl" value="http:\/\/" class="xheText" \/><\/div><div><label for="xheFlashWidth">{#flash.width}<\/label><input type="text" id="xheFlashWidth" style="width:40px;" value="480" \/> <label for="xheFlashHeight">{#flash.height}<\/label><input type="text" id="xheFlashHeight" style="width:40px;" value="400" \/><\/div><div style="text-align:right;"><input type="button" id="xheSave" value="{#dialogOk}" \/><\/div>',htmlMedia='<div><label for="xheMediaUrl">{#media.url}<\/label><input type="text" id="xheMediaUrl" value="http:\/\/" class="xheText" \/><\/div><div><label for="xheMediaWidth">{#media.width}<\/label><input type="text" id="xheMediaWidth" style="width:40px;" value="480" \/> <label for="xheMediaHeight">{#media.height}<\/label><input type="text" id="xheMediaHeight" style="width:40px;" value="400" \/><\/div><div style="text-align:right;"><input type="button" id="xheSave" value="{#dialogOk}" \/><\/div>',htmlTable='<div><label for="xheTableRows">{#table.rows}<\/label><input type="text" id="xheTableRows" style="width:40px;" value="3" \/> <label for="xheTableColumns">{#table.columns}<\/label><input type="text" id="xheTableColumns" style="width:40px;" value="2" \/><\/div><div><label for="xheTableHeaders">{#table.headers}<\/label><select id="xheTableHeaders"><option selected="selected" value="">{#none}<\/option><option value="row">{#table.headersRow}<\/option><option value="col">{#table.headersCol}<\/option><option value="both">{#table.headersBoth}<\/option><\/select><\/div><div><label for="xheTableWidth">{#table.width}<\/label><input type="text" id="xheTableWidth" style="width:40px;" value="200" \/> <label for="xheTableHeight">{#table.height}<\/label><input type="text" id="xheTableHeight" style="width:40px;" value="" \/><\/div><div><label for="xheTableBorder">{#table.border}<\/label><input type="text" id="xheTableBorder" style="width:40px;" value="1" \/><\/div><div><label for="xheTableCellSpacing">{#table.cellSpacing}<\/label><input type="text" id="xheTableCellSpacing" style="width:40px;" value="1" \/> <label for="xheTableCellPadding">{#table.cellPadding}<\/label><input type="text" id="xheTableCellPadding" style="width:40px;" value="1" \/><\/div><div><label for="xheTableAlign">{#table.align}<\/label><select id="xheTableAlign"><option selected="selected" value="">{#default}<\/option><option value="left">{#table.alignLeft}<\/option><option value="center">{#table.alignCenter}<\/option><option value="right">{#table.alignRight}<\/option><\/select><\/div><div><label for="xheTableCaption">{#table.caption}<\/label><input type="text" id="xheTableCaption" \/><\/div><div style="text-align:right;"><input type="button" id="xheSave" value="{#dialogOk}" \/><\/div>',htmlAbout='<div style="font:12px Arial;width:245px;word-wrap:break-word;word-break:break-all;outline:none;" role="dialog" tabindex="-1"><p><span style="font-size:20px;color:#1997DF;">xhEditor<\/span><br \/>v1.2.1 (build 130225)<\/p><p>{#aboutXheditor}<\/p><p>Copyright &copy; <a href="http:\/\/xheditor.com\/" target="_blank">xhEditor.com<\/a>. All rights reserved.<\/p><\/div>',itemEmots={"default":{name:"{#default}",width:24,height:24,line:7,list:["smile","tongue","titter","laugh","sad","wronged","fastcry","cry","wail","mad","knock","curse","crazy","angry","ohmy","awkward","panic","shy","cute","envy","proud","struggle","quiet","shutup","doubt","despise","sleep","bye"]}},arrTools={Cut:{t:"Cut"},Copy:{t:"Copy"},Paste:{t:"Paste"},Pastetext:{t:"Pastetext",h:isIE?0:1},Blocktag:{t:"Blocktag",h:1},Fontface:{t:"Fontface",h:1},FontSize:{t:"FontSize",h:1},Bold:{t:"Bold",s:"Ctrl+B"},Italic:{t:"Italic",s:"Ctrl+I"},Underline:{t:"Underline",s:"Ctrl+U"},Strikethrough:{t:"Strikethrough"},FontColor:{t:"FontColor",h:1},BackColor:{t:"BackColor",h:1},SelectAll:{t:"SelectAll"},Removeformat:{t:"Removeformat"},Align:{t:"Align",h:1},List:{t:"List",h:1},Outdent:{t:"Outdent"},Indent:{t:"Indent"},Link:{t:"Link",s:"Ctrl+L",h:1},Unlink:{t:"Unlink"},Anchor:{t:"Anchor",h:1},Img:{t:"Img",h:1},Flash:{t:"Flash",h:1},Media:{t:"Media",h:1},Hr:{t:"Hr"},Emot:{t:"Emot",s:"ctrl+e",h:1},Table:{t:"Table",h:1},Source:{t:"Source"},Preview:{t:"Preview"},Print:{t:"Print",s:"Ctrl+P"},Fullscreen:{t:"Fullscreen",s:"Esc"},About:{t:"About"}},toolsThemes={mini:"Bold,Italic,Underline,Strikethrough,|,Align,List,|,Link,Img",simple:"Blocktag,Fontface,FontSize,Bold,Italic,Underline,Strikethrough,FontColor,BackColor,|,Align,List,Outdent,Indent,|,Link,Img,Emot",full:"Cut,Copy,Paste,Pastetext,|,Blocktag,Fontface,FontSize,Bold,Italic,Underline,Strikethrough,FontColor,BackColor,SelectAll,Removeformat,|,Align,List,Outdent,Indent,|,Link,Unlink,Anchor,Img,Flash,Media,Hr,Emot,Table,|,Source,Preview,Print,Fullscreen"};toolsThemes.mfull=toolsThemes.full.replace(\/\\|(,Align)\/i,"\/$1");var arrDbClick={a:"Link",img:"Img",embed:"Embed"},uploadInputname="filedata",arrEntities={"<":"&lt;",">":"&gt;",'"':"&quot;","\\u00ae":"&reg;","\\u00a9":"&copy;"},regEntities=\/[<>"\\u00ae\\u00a9]\/g,Xheditor=function(textarea,options){function checkDblClick(e){var t=e.target,i=arrDbClick[t.tagName.toLowerCase()];if(i){if("Embed"===i){var s={"application\/x-shockwave-flash":"Flash","application\/x-mplayer2":"Media"};i=s[t.type.toLowerCase()]}_this.exec(i)}}function checkEsc(e){return 27===e.which?(bShowModal?_this.removeModal():bShowPanel&&_this.hidePanel(),!1):undefined}function loadReset(){setTimeout(_this.setSource,10)}function saveResult(){_this.getSource()}function cleanPaste(e){var t,i,s;if(e&&(t=e.originalEvent.clipboardData)&&(i=t.items)&&(s=i[0])&&"file"==s.kind&&s.type.match(\/^image\\\/\/i)){var a=s.getAsFile(),n=new FileReader;return n.onload=function(){var e='<img src="'+event.target.result+'">';e=replaceRemoteImg(e),_this.pasteHTML(e)},n.readAsDataURL(a),!1}var o=settings.cleanPaste;if(0===o||bSource||bCleanPaste)return!0;bCleanPaste=!0,_this.saveBookmark();var l=isIE?"pre":"div",r=$("<"+l+' class="xhe-paste">\\ufeff\\ufeff<\/'+l+">",_doc).appendTo(_doc.body),h=r[0],c=_this.getSel(),d=_this.getRng(!0);r.css("top",_jWin.scrollTop()),isIE?(d.moveToElementText(h),d.select()):(d.selectNodeContents(h),c.removeAllRanges(),c.addRange(d)),setTimeout(function(){var e,t=3===o;if(t)r.html(r.html().replace(\/<br(\\s+[^<>]*)?>\/gi,"\\n")),e=r.text();else{var i=$(".xhe-paste",_doc.body),s=[];i.each(function(e,t){0==$(t).find(".xhe-paste").length&&s.push(t.innerHTML)}),e=s.join("<br \/>")}r.remove(),_this.loadBookmark(),e=e.replace(\/^[\\s\\uFEFF]+|[\\s\\uFEFF]+$\/g,""),e&&(t?_this.pasteText(e):(e=_this.cleanHTML(e),e=_this.cleanWord(e),e=_this.formatXHTML(e),(!settings.onPaste||settings.onPaste&&(e=settings.onPaste(e))!==!1)&&(e=replaceRemoteImg(e),_this.pasteHTML(e)))),bCleanPaste=!1},0)}function replaceRemoteImg(e){var t=settings.localUrlTest,i=settings.remoteImgSaveUrl;if(t&&i){var s=[],a=0;e=e.replace(\/(<img)((?:\\s+[^>]*?)?(?:\\s+src="\\s*([^"]+)\\s*")(?: [^>]*)?)(\\\/?>)\/gi,function(e,i,n,o,l){return!\/^(https?|data:image)\/i.test(o)||\/_xhe_temp\/.test(n)||t.test(o)||(s[a]=o,n=n.replace(\/\\s+(width|height)="[^"]*"\/gi,"").replace(\/\\s+src="[^"]*"\/gi,' src="'+skinPath+'img\/waiting.gif" remoteimg="'+a++ +'"')),i+n+l}),s.length>0&&$.post(i,{urls:s.join("|")},function(e){e=e.split("|"),$("img[remoteimg]",_this.doc).each(function(){var t=$(this);xheAttr(t,"src",e[t.attr("remoteimg")]),t.removeAttr("remoteimg")})})}return e}function setCSS(e){try{_this._exec("styleWithCSS",e,!0)}catch(t){try{_this._exec("useCSS",!e,!0)}catch(t){}}}function setOpts(){if(bInit&&!bSource){setCSS(!1);try{_this._exec("enableObjectResizing",!0,!0)}catch(e){}if(isIE)try{_this._exec("BackgroundImageCache",!0,!0)}catch(e){}}}function forcePtag(e){if(bSource||13!==e.which||e.shiftKey||e.ctrlKey||e.altKey)return!0;var t=_this.getParent("p,h1,h2,h3,h4,h5,h6,pre,address,div,li");return t.is("li")?!0:settings.forcePtag?(0===t.length&&_this._exec("formatblock","<p>"),undefined):(_this.pasteHTML("<br \/>"),isIE&&t.length>0&&2===_this.getRng().parentElement().childNodes.length&&_this.pasteHTML("<br \/>"),!1)}function fixFullHeight(){isMozilla||isWebkit||(bFullscreen&&_jArea.height("100%").css("height",_jArea.outerHeight()-_jTools.outerHeight()),isIE&&_jTools.hide().show())}function fixAppleSel(e){if(e=e.target,e.tagName.match(\/(img|embed)\/i)){var t=_this.getSel(),i=_this.getRng(!0);i.selectNode(e),t.removeAllRanges(),t.addRange(i)}}function xheAttr(e,t,i){if(!t)return!1;var s="_xhe_"+t;return i&&(urlType&&(i=getLocalUrl(i,urlType,urlBase)),e.attr(t,urlBase?getLocalUrl(i,"abs",urlBase):i).removeAttr(s).attr(s,i)),e.attr(s)||e.attr(t)}function clickCancelPanel(){bClickCancel&&_this.hidePanel()}function checkShortcuts(e){if(bSource)return!0;var t=e.which,i=specialKeys[t],s=i?i:String.fromCharCode(t).toLowerCase();sKey="",sKey+=e.ctrlKey?"ctrl+":"",sKey+=e.altKey?"alt+":"",sKey+=e.shiftKey?"shift+":"",sKey+=s;var a,n=arrShortCuts[sKey];for(a in n){if(a=n[a],!$.isFunction(a))return _this.exec(a),!1;if(a.call(_this)===!1)return!1}}function is(e,t){var i=typeof e;return t?"array"===t&&e.hasOwnProperty&&e instanceof Array?!0:i===t:"undefined"!=i}function getLocalUrl(e,t,i){if(e.match(\/^(\\w+):\\\/\\\/\/i)&&!e.match(\/^https?:\/i)||\/^#\/i.test(e)||\/^data:\/i.test(e))return e;var s=i?$('<a href="'+i+'" \/>')[0]:location,a=s.protocol,n=s.host,o=s.hostname,l=s.port,r=s.pathname.replace(\/\\\\\/g,"\/").replace(\/[^\\\/]+$\/i,"");if(""===l&&(l="80"),""===r?r="\/":"\/"!==r.charAt(0)&&(r="\/"+r),e=$.trim(e),"abs"!==t&&(e=e.replace(RegExp(a+"\\\\\/\\\\\/"+o.replace(\/\\.\/g,"\\\\.")+"(?::"+l+")"+("80"===l?"?":"")+"(\/|$)","i"),"\/")),"rel"===t&&(e=e.replace(RegExp("^"+r.replace(\/([\\\/\\.\\+\\[\\]\\(\\)])\/g,"\\\\$1"),"i"),"")),"rel"!==t&&(e.match(\/^(https?:\\\/\\\/|\\\/)\/i)||(e=r+e),"\/"===e.charAt(0))){var h,c,d=[],u=e.split("\/"),p=u.length;for(c=0;p>c;c++)h=u[c],".."===h?d.pop():""!==h&&"."!==h&&d.push(h);""===u[p-1]&&d.push(""),e="\/"+d.join("\/")}return"abs"!==t||e.match(\/^https?:\\\/\\\/\/i)||(e=a+"\/\/"+n+e),e=e.replace(\/(https?:\\\/\\\/[^:\\\/?#]+):80(\\\/|$)\/i,"$1$2")}function checkFileExt(e,t){return"*"===t||e.match(RegExp(".("+t.replace(\/,\/g,"|")+")$","i"))?!0:(alert(getLang("upload.extLimit",t)),!1)}function formatBytes(e){var t=["Byte","KB","MB","GB","TB","PB"],i=Math.floor(Math.log(e)\/Math.log(1024));return(e\/Math.pow(1024,Math.floor(i))).toFixed(2)+t[i]}function returnFalse(){return!1}var _this=this,_text=textarea,_jText=$(_text),_jForm=_jText.closest("form"),_jTools,_jArea,_win,_jWin,_doc,_jDoc,bookmark,bInit=!1,bSource=!1,bFullscreen=!1,bCleanPaste=!1,outerScroll,bShowBlocktag=!1,sLayoutStyle="",ev=null,timer,bDisableHoverExec=!1,bQuickHoverExec=!1,lastPoint=null,lastAngle=null,editorHeight=0,settings=_this.settings=$.extend({},XHEDITOR.settings,options),plugins=settings.plugins,strPlugins=[];if(plugins&&(arrTools=$.extend({},arrTools,plugins),$.each(plugins,function(e){strPlugins.push(e)}),strPlugins=strPlugins.join(",")),settings.tools.match(\/^\\s*(m?full|simple|mini)\\s*$\/i)){var toolsTheme=toolsThemes[$.trim(settings.tools)];settings.tools=settings.tools.match(\/m?full\/i)&&plugins?toolsTheme.replace("Table","Table,"+strPlugins):toolsTheme}settings.tools.match(\/(^|,)\\s*About\\s*(,|$)\/i)||(settings.tools+=",About"),settings.tools=settings.tools.split(","),settings.editorRoot&&(editorRoot=settings.editorRoot),bAir===!1&&(editorRoot=getLocalUrl(editorRoot,"abs")),settings.urlBase&&(settings.urlBase=getLocalUrl(settings.urlBase,"abs"));var idCSS="xheCSS_"+settings.skin,idContainer="xhe"+xCount+"_container",idTools="xhe"+xCount+"_Tool",idIframeArea="xhe"+xCount+"_iframearea",idIframe="xhe"+xCount+"_iframe",idFixFFCursor="xhe"+xCount+"_fixffcursor",headHTML="",bodyClass="",skinPath=editorRoot+"xheditor_skin\/"+settings.skin+"\/",arrEmots=itemEmots,urlType=settings.urlType,urlBase=settings.urlBase,emotPath=settings.emotPath,emotPath=emotPath?emotPath:editorRoot+"xheditor_emot\/",selEmotGroup="";arrEmots=$.extend({},arrEmots,settings.emots),emotPath=getLocalUrl(emotPath,"rel",urlBase?urlBase:null),bShowBlocktag=settings.showBlocktag,bShowBlocktag&&(bodyClass+=" showBlocktag");var arrShortCuts=[];this.init=function(){function e(e){var t,i=$(e.target);(t=i.css("width"))&&i.css("width","").attr("width",t.replace(\/[^0-9%]+\/g,"")),(t=i.css("height"))&&i.css("height","").attr("height",t.replace(\/[^0-9%]+\/g,""))}0===$("#"+idCSS).length&&$("head").append('<link id="'+idCSS+'" rel="stylesheet" type="text\/css" href="'+skinPath+'ui.css" \/>');var t=_jText.outerWidth(),i=_jText.outerHeight(),s=settings.width||_text.style.width||(t>10?t:0);editorHeight=settings.height||_text.style.height||(i>10?i:150),\/^\\d+(?:\\.\\d+)?$\/.test(s)&&(s+="px"),is(editorHeight,"string")&&(editorHeight=editorHeight.replace(\/[^\\d]+\/g,""));var a,n,o=settings.background||_text.style.background,l=['<span class="xheGStart"\/>'],r=\/\\||\\\/\/i;$.each(settings.tools,function(e,t){if(t.match(r)&&l.push('<span class="xheGEnd"\/>'),"|"===t)l.push('<span class="xheSeparator"\/>');else if("\/"===t)l.push("<br \/>");else{if(a=arrTools[t],!a)return;n=a.c?a.c:"xheIcon xheBtn"+t,l.push('<span><a href="#" title="{#'+a.t+'}" cmd="'+t+'" class="xheButton xheEnabled" tabindex="-1" role="button"><span class="'+n+'" unselectable="on" style="font-size:0;color:transparent;text-indent:-999px;">'+a.t+"<\/span><\/a><\/span>"),a.s&&_this.addShortcuts(a.s,t)}t.match(r)&&l.push('<span class="xheGStart"\/>')}),l.push('<span class="xheGEnd"\/><br \/>'),_jText.after($('<input type="text" id="'+idFixFFCursor+'" style="position:absolute;display:none;" \/><span id="'+idContainer+'" class="xhe_'+settings.skin+'" style="display:none"><table cellspacing="0" cellpadding="0" class="xheLayout" style="'+("0px"!=s?"width:"+s+";":"")+"height:"+editorHeight+'px;" role="presentation"><tr><td id="'+idTools+'" class="xheTool" unselectable="on" style="height:1px;" role="presentation"><\/td><\/tr><tr><td id="'+idIframeArea+'" class="xheIframeArea" role="presentation"><iframe frameborder="0" id="'+idIframe+'" src="javascript:;" style="width:100%;"><\/iframe><\/td><\/tr><\/table><\/span>')),_jTools=$("#"+idTools),_jArea=$("#"+idIframeArea),headHTML='<meta http-equiv="Content-Type" content="text\/html; charset=utf-8" \/><link rel="stylesheet" href="'+skinPath+'iframe.css"\/>';var h=settings.loadCSS;if(h)if(is(h,"array"))for(var c in h)headHTML+='<link rel="stylesheet" href="'+h[c]+'"\/>';else headHTML+=h.match(\/\\s*<style(\\s+[^>]*?)?>[\\s\\S]+?<\\\/style>\\s*\/i)?h:'<link rel="stylesheet" href="'+h+'"\/>';var d='<!DOCTYPE html><html xmlns="http:\/\/www.w3.org\/1999\/xhtml"><head>'+headHTML+"<title>{#defaultReadTip} "+(settings.readTip?settings.readTip:"")+"<\/title>";o&&(d+="<style>html{background:"+o+";}<\/style>"),d+='<\/head><body spellcheck="0" class="editMode'+bodyClass+'"><\/body><\/html>',_this.win=_win=$("#"+idIframe)[0].contentWindow,_jWin=$(_win);try{this.doc=_doc=_win.document,_jDoc=$(_doc),_doc.open(),_doc.write(getLang(d)),_doc.close(),isIE?_doc.body.contentEditable="true":_doc.designMode="On"}catch(u){}setTimeout(setOpts,300),_this.setSource(),_win.setInterval=null,_jTools.append(getLang(l.join(""))).bind("mousedown contextmenu",returnFalse).click(function(e){var t=$(e.target).closest("a");return t.is(".xheEnabled")&&(clearTimeout(timer),_jTools.find("a").attr("tabindex","-1"),ev=e,_this.exec(t.attr("cmd"))),!1}),_jTools.find(".xheButton").hover(function(e){var t=$(this),i=settings.hoverExecDelay,s=lastAngle;if(lastAngle=null,-1===i||bDisableHoverExec||!t.is(".xheEnabled"))return!1;if(s&&s>10)return bDisableHoverExec=!0,setTimeout(function(){bDisableHoverExec=!1},100),!1;var a=t.attr("cmd"),n=1===arrTools[a].h;return n?(bQuickHoverExec&&(i=0),i>=0&&(timer=setTimeout(function(){ev=e,lastPoint={x:ev.clientX,y:ev.clientY},_this.exec(a)},i)),undefined):(_this.hidePanel(),!1)},function(){lastPoint=null,timer&&clearTimeout(timer)}).mousemove(function(e){if(lastPoint){var t={x:e.clientX-lastPoint.x,y:e.clientY-lastPoint.y};if(Math.abs(t.x)>1||Math.abs(t.y)>1){if(t.x>0&&t.y>0){var i=Math.round(Math.atan(t.y\/t.x)\/.017453293);lastAngle=lastAngle?(lastAngle+i)\/2:i}else lastAngle=null;lastPoint={x:e.clientX,y:e.clientY}}}}),_jPanel=$("#xhePanel"),_jShadow=$("#xheShadow"),_jCntLine=$("#xheCntLine"),0===_jPanel.length&&(_jPanel=$('<div id="xhePanel"><\/div>').mousedown(function(e){e.stopPropagation()}),_jShadow=$('<div id="xheShadow"><\/div>'),_jCntLine=$('<div id="xheCntLine"><\/div>'),setTimeout(function(){$(document.body).append(_jPanel).append(_jShadow).append(_jCntLine)},10)),$("#"+idContainer).show(),_jText.hide(),_jArea.css("height",editorHeight-_jTools.outerHeight()),isIE&8>browerVer&&setTimeout(function(){_jArea.css("height",editorHeight-_jTools.outerHeight())},1),_jText.focus(_this.focus),_jForm.submit(saveResult).bind("reset",loadReset),settings.submitID&&$("#"+settings.submitID).mousedown(saveResult),$(window).bind("unload beforeunload",saveResult).bind("resize",fixFullHeight),$(document).mousedown(clickCancelPanel),bCheckEscInit||($(document).keydown(checkEsc),bCheckEscInit=!0),_jWin.focus(function(){settings.focus&&settings.focus()}).blur(function(){settings.blur&&settings.blur()}),isWebkit&&_jWin.click(fixAppleSel),_jDoc.mousedown(clickCancelPanel).keydown(checkShortcuts).keypress(forcePtag).dblclick(checkDblClick).bind("mousedown click",function(e){_jText.trigger(e.type)}),isIE&&(_jDoc.keydown(function(e){var t=_this.getRng();return 8===e.which&&t.item?($(t.item(0)).remove(),!1):undefined}),_jDoc.bind("controlselect",function(t){t=t.target,$.nodeName(t,"IMG")&&$(t).unbind("resizeend",e).bind("resizeend",e)})),_jDoc.keydown(function(e){var t=e.which;return e.altKey&&t>=49&&57>=t?(_jTools.find("a").attr("tabindex","0"),_jTools.find(".xheGStart").eq(t-49).next().find("a").focus(),_doc.title="\\ufeff\\ufeff",!1):undefined}).click(function(){_jTools.find("a").attr("tabindex","-1")}),_jTools.keydown(function(e){var t=e.which;if(27==t)_jTools.find("a").attr("tabindex","-1"),_this.focus();else if(e.altKey&&t>=49&&57>=t)return _jTools.find(".xheGStart").eq(t-49).next().find("a").focus(),!1});var p=$(_doc.documentElement);isOpera?p.bind("keydown",function(e){e.ctrlKey&&86===e.which&&cleanPaste()}):p.bind(isIE?"beforepaste":"paste",cleanPaste),settings.disableContextmenu&&p.bind("contextmenu",returnFalse),settings.html5Upload&&p.bind("dragenter dragover",function(e){var t;return(t=e.originalEvent.dataTransfer.types)&&-1!==$.inArray("Files",t)?!1:undefined}).bind("drop",function(e){function t(e){var t,i,s;for(a=0;e.length>a;a++){if(i=e[a].name.replace(\/.+\\.\/,""),!(t=o.match(RegExp("(\\\\w+):[^:]*,"+i+"(?:,|$)","i"))))return 1;if(s){if(s!==t[1])return 2}else s=t[1]}return s}var i,s=e.originalEvent.dataTransfer;if(s&&(i=s.files)&&i.length>0){var a,n,o,l=["Link","Img","Flash","Media"],r=[];for(a in l)n=l[a],settings["up"+n+"Url"]&&settings["up"+n+"Url"].match(\/^[^!].*\/i)&&r.push(n+":,"+settings["up"+n+"Ext"]);return 0===r.length?!1:(o=r.join(","),n=t(i),1===n?alert(getLang("upload.extLimit",o.replace(\/\\w+:,\/g,""))):2===n?alert(getLang("upload.typeLimit")):n&&_this.startUpload(i,settings["up"+n+"Url"],"*",function(e){var t,i=[],s=settings.onUpload;s&&s(e);for(var a=0,o=e.length;o>a;a++)t=e[a],url=is(t,"string")?t:t.url,"!"===url.substr(0,1)&&(url=url.substr(1)),i.push(url);_this.exec(n),$("#xhe"+n+"Url").val(i.join(" ")),$("#xheSave").click()}),!1)}});var g=settings.shortcuts;g&&$.each(g,function(e,t){_this.addShortcuts(e,t)}),xCount++,bInit=!0,settings.fullscreen?_this.toggleFullscreen():settings.sourceMode&&setTimeout(_this.toggleSource,20);var f=settings.plugins;return f&&$.each(f,function(e,t){var i=t.i;i!==undefined&&i(_this)}),!0},this.remove=function(){_this.hidePanel(),saveResult(),_jText.unbind("focus",_this.focus),_jForm.unbind("submit",saveResult).unbind("reset",loadReset),settings.submitID&&$("#"+settings.submitID).unbind("mousedown",saveResult),$(window).unbind("unload beforeunload",saveResult).unbind("resize",fixFullHeight),$(document).unbind("mousedown",clickCancelPanel),$("#"+idContainer).remove(),$("#"+idFixFFCursor).remove(),_jText.show(),bInit=!1},this.saveBookmark=function(){if(!bSource){_this.focus();var e=_this.getRng();e=e.cloneRange?e.cloneRange():e,bookmark={top:_jWin.scrollTop(),rng:e}}},this.loadBookmark=function(){if(!bSource&&bookmark){_this.focus();var e=bookmark.rng;if(isIE)e.select();else{var t=_this.getSel();t.removeAllRanges(),t.addRange(e)}_jWin.scrollTop(bookmark.top),bookmark=null}},this.focus=function(){if(bSource?$("#sourceCode",_doc).focus():_win.focus(),isIE){var e=_this.getRng();e.parentElement&&e.parentElement().ownerDocument!==_doc&&_this.setTextCursor()}return!1},this.setTextCursor=function(e){var t=_this.getRng(!0),i=_doc.body;if(isIE)t.moveToElementText(i);else{for(var s=e?"lastChild":"firstChild";3!=i.nodeType&&i[s];)i=i[s];t.selectNode(i)}if(t.collapse(e?!1:!0),isIE)t.select();else{var a=_this.getSel();a.removeAllRanges(),a.addRange(t)}},this.getSel=function(){return _doc.selection?_doc.selection:_win.getSelection()},this.getRng=function(e){var t,i;try{e||(t=_this.getSel(),i=t.createRange?t.createRange():t.rangeCount>0?t.getRangeAt(0):null),i||(i=_doc.body.createTextRange?_doc.body.createTextRange():_doc.createRange())}catch(s){}return i},this.getParent=function(e){var t,i=_this.getRng();return isIE?t=i.item?i.item(0):i.parentElement():(t=i.commonAncestorContainer,i.collapsed||i.startContainer===i.endContainer&&2>i.startOffset-i.endOffset&&i.startContainer.hasChildNodes()&&(t=i.startContainer.childNodes[i.startOffset])),e=e?e:"*",t=$(t),t.is(e)||(t=$(t).closest(e)),t},this.getSelect=function(e){var t=_this.getSel(),i=_this.getRng(),s=!0;if(s=!i||i.item?!1:!t||0===i.boundingWidth||i.collapsed,"text"===e)return s?"":i.text||(t.toString?""+t:"");var a;if(i.cloneContents){var n,o=$("<div><\/div>");n=i.cloneContents(),n&&o.append(n),a=o.html()}else a=is(i.item)?i.item(0).outerHTML:is(i.htmlText)?i.htmlText:""+i;return s&&(a=""),a=_this.processHTML(a,"read"),a=_this.cleanHTML(a),a=_this.formatXHTML(a)},this.pasteHTML=function(e,t){if(bSource)return!1;_this.focus(),e=_this.processHTML(e,"write");var i=_this.getSel(),s=_this.getRng();if(t!==undefined){if(s.item){var a=s.item(0);s=_this.getRng(!0),s.moveToElementText(a),s.select()}s.collapse(t)}if(e+="<"+(isIE?"img":"span")+' id="_xhe_temp" width="0" height="0" \/>',s.insertNode){if($(s.startContainer).closest("style,script").length>0)return!1;s.deleteContents(),s.insertNode(s.createContextualFragment(e))}else"control"===i.type.toLowerCase()&&(i.clear(),s=_this.getRng()),s.pasteHTML(e);var n=$("#_xhe_temp",_doc),o=n[0];isIE?(s.moveToElementText(o),s.select()):(s.selectNode(o),i.removeAllRanges(),i.addRange(s)),n.remove()},this.pasteText=function(e,t){e||(e=""),e=_this.domEncode(e),e=e.replace(\/\\r?\\n\/g,"<br \/>"),_this.pasteHTML(e,t)},this.appendHTML=function(e){return bSource?!1:(_this.focus(),e=_this.processHTML(e,"write"),$(_doc.body).append(e),_this.setTextCursor(!0),undefined)},this.domEncode=function(e){return e.replace(regEntities,function(e){return arrEntities[e]})},this.setSource=function(e){bookmark=null,"string"!=typeof e&&""!==e&&(e=_text.value),bSource?$("#sourceCode",_doc).val(e):(settings.beforeSetSource&&(e=settings.beforeSetSource(e)),e=_this.cleanHTML(e),e=_this.formatXHTML(e),e=_this.processHTML(e,"write"),isIE?(_doc.body.innerHTML='<img id="_xhe_temp" width="0" height="0" \/>'+e,$("#_xhe_temp",_doc).remove()):_doc.body.innerHTML=e)},this.processHTML=function(e,t){function i(e,t,i,s,a,o){var l,r,h,c,d="";if(l=s.match(\/font-family\\s*:\\s*([^;"]+)\/i),l&&(d+=' face="'+l[1]+'"'),r=s.match(\/font-size\\s*:\\s*([^;"]+)\/i)){r=r[1].toLowerCase();for(var u=0;n.length>u;u++)if(r===n[u].n||r===n[u].s){h=u+1;break}h&&(d+=' size="'+h+'"',s=s.replace(\/(^|;)(\\s*font-size\\s*:\\s*[^;"]+;?)+\/gi,"$1"))}if(c=s.match(\/(?:^|[\\s;])color\\s*:\\s*([^;"]+)\/i)){var p;if(p=c[1].match(\/\\s*rgb\\s*\\(\\s*(\\d+)\\s*,\\s*(\\d+)\\s*,\\s*(\\d+)\\s*\\)\/i)){c[1]="#";for(var g=1;3>=g;g++)c[1]+=("0"+(p[g]-0).toString(16)).slice(-2)}c[1]=c[1].replace(\/^#([0-9a-f])([0-9a-f])([0-9a-f])$\/i,"#$1$1$2$2$3$3"),d+=' color="'+c[1]+'"'}return s=s.replace(\/(^|;)(\\s*(font-family|color)\\s*:\\s*[^;"]+;?)+\/gi,"$1"),""!==d?(s&&(d+=' style="'+s+'"'),"<font"+(i?i:"")+d+(a?a:"")+">"+o+"<\/font>"):e}function s(e,t,i,s,a){for(var n,l,r=(i?i:"")+(s?s:""),h=[],c=[],d=0;o.length>d;d++)n=o[d].r,l=o[d].t,r=r.replace(n,function(){return h.push("<"+l+">"),c.push("<\/"+l+">"),""});return r=r.replace(\/\\s+style\\s*=\\s*"\\s*"\/i,""),(r?"<span"+r+">":"")+h.join("")+a+c.join("")+(r?"<\/span>":"")}var a=' class="Apple-style-span"',n=settings.listFontsize;if("write"===t)e=e.replace(\/(<(\\\/?)(\\w+))((?:\\s+[\\w\\-:]+\\s*=\\s*(?:"[^"]*"|'[^']*'|[^>\\s]+))*)\\s*((\\\/?)>)\/g,function(e,t,i,s,n,o,l){s=s.toLowerCase(),isMozilla?"strong"===s?s="b":"em"===s&&(s="i"):isWebkit&&("strong"===s?(s="span",i||(n+=a+' style="font-weight: bold;"')):"em"===s?(s="span",i||(n+=a+' style="font-style: italic;"')):"u"===s?(s="span",i||(n+=a+' style="text-decoration: underline;"')):"strike"===s&&(s="span",i||(n+=a+' style="text-decoration: line-through;"')));var r,h="";if("del"===s)s="strike";else if("img"===s)n=n.replace(\/\\s+emot\\s*=\\s*("[^"]*"|'[^']*'|[^>\\s]+)\/i,function(e,t){return r=t.match(\/^(["']?)(.*)\\1\/)[2],r=r.split(","),r[1]||(r[1]=r[0],r[0]=""),"default"===r[0]&&(r[0]=""),settings.emotMark?e:""});else if("a"===s)!n.match(\/ href=[^ ]\/i)&&n.match(\/ name=[^ ]\/i)&&(h+=" xhe-anchor"),l&&(o="><\/a>");else if("table"===s&&!i){var c=n.match(\/\\s+border\\s*=\\s*("[^"]*"|'[^']*'|[^>\\s]+)\/i);(!c||c[1].match(\/^(["']?)\\s*0\\s*\\1$\/))&&(h+=" xhe-border")}var d;if(n=n.replace(\/\\s+([\\w\\-:]+)\\s*=\\s*("[^"]*"|'[^']*'|[^>\\s]+)\/g,function(e,t,i){return t=t.toLowerCase(),i=i.match(\/^(["']?)(.*)\\1\/)[2],aft="",isIE&&t.match(\/^(disabled|checked|readonly|selected)$\/)&&i.match(\/^(false|0)$\/i)?"":"img"===s&&r&&"src"===t?"":(t.match(\/^(src|href)$\/)&&(aft=" _xhe_"+t+'="'+i+'"',urlBase&&(i=getLocalUrl(i,"abs",urlBase))),h&&"class"===t&&(i+=" "+h,h=""),isWebkit&&"style"===t&&"span"===s&&i.match(\/(^|;)\\s*(font-family|font-size|color|background-color)\\s*:\\s*[^;]+\\s*(;|$)\/i)&&(d=!0)," "+t+'="'+i+'"'+aft)}),r){var u=emotPath+(r[0]?r[0]:"default")+"\/"+r[1]+".gif";n+=' src="'+u+'" _xhe_src="'+u+'"'}return d&&(n+=a),h&&(n+=' class="'+h+'"'),"<"+i+s+n+o}),isIE&&(e=e.replace(\/&apos;\/gi,"&#39;")),isWebkit||(e=e.replace(\/<(span)(\\s+[^>]*?)?\\s+style\\s*=\\s*"((?:[^"]*?;)?\\s*(?:font-family|font-size|color)\\s*:[^"]*)"( [^>]*)?>(((?!<\\1(\\s+[^>]*?)?>)[\\s\\S]|<\\1(\\s+[^>]*?)?>((?!<\\1(\\s+[^>]*?)?>)[\\s\\S]|<\\1(\\s+[^>]*?)?>((?!<\\1(\\s+[^>]*?)?>)[\\s\\S])*?<\\\/\\1>)*?<\\\/\\1>)*?)<\\\/\\1>\/gi,i),e=e.replace(\/<(span)(\\s+[^>]*?)?\\s+style\\s*=\\s*"((?:[^"]*?;)?\\s*(?:font-family|font-size|color)\\s*:[^"]*)"( [^>]*)?>(((?!<\\1(\\s+[^>]*?)?>)[\\s\\S]|<\\1(\\s+[^>]*?)?>((?!<\\1(\\s+[^>]*?)?>)[\\s\\S])*?<\\\/\\1>)*?)<\\\/\\1>\/gi,i),e=e.replace(\/<(span)(\\s+[^>]*?)?\\s+style\\s*=\\s*"((?:[^"]*?;)?\\s*(?:font-family|font-size|color)\\s*:[^"]*)"( [^>]*)?>(((?!<\\1(\\s+[^>]*?)?>)[\\s\\S])*?)<\\\/\\1>\/gi,i)),e=e.replace(\/<(td|th)(\\s+[^>]*?)?>(\\s|&nbsp;)*<\\\/\\1>\/gi,"<$1$2>"+(isIE?"":"<br \/>")+"<\/$1>");else{if(isWebkit)for(var o=[{r:\/font-weight\\s*:\\s*bold;?\/gi,t:"strong"},{r:\/font-style\\s*:\\s*italic;?\/gi,t:"em"},{r:\/text-decoration\\s*:\\s*underline;?\/gi,t:"u"},{r:\/text-decoration\\s*:\\s*line-through;?\/gi,t:"strike"}],l=0;2>l;l++)e=e.replace(\/<(span)(\\s+[^>]*?)?\\s+class\\s*=\\s*"Apple-style-span"(\\s+[^>]*?)?>(((?!<\\1(\\s+[^>]*?)?>)[\\s\\S]|<\\1(\\s+[^>]*?)?>((?!<\\1(\\s+[^>]*?)?>)[\\s\\S]|<\\1(\\s+[^>]*?)?>((?!<\\1(\\s+[^>]*?)?>)[\\s\\S])*?<\\\/\\1>)*?<\\\/\\1>)*?)<\\\/\\1>\/gi,s),e=e.replace(\/<(span)(\\s+[^>]*?)?\\s+class\\s*=\\s*"Apple-style-span"(\\s+[^>]*?)?>(((?!<\\1(\\s+[^>]*?)?>)[\\s\\S]|<\\1(\\s+[^>]*?)?>((?!<\\1(\\s+[^>]*?)?>)[\\s\\S])*?<\\\/\\1>)*?)<\\\/\\1>\/gi,s),e=e.replace(\/<(span)(\\s+[^>]*?)?\\s+class\\s*=\\s*"Apple-style-span"(\\s+[^>]*?)?>(((?!<\\1(\\s+[^>]*?)?>)[\\s\\S])*?)<\\\/\\1>\/gi,s);e=e.replace(\/(<(\\w+))((?:\\s+[\\w\\-:]+\\s*=\\s*(?:"[^"]*"|'[^']*'|[^>\\s]+))*)\\s*(\\\/?>)\/g,function(e,t,i,s,a){i=i.toLowerCase();$/;"	f
setOrder	application/models/morder.php	/^    public function setOrder($addr,$id,$info,$state)$/;"	f
setOrderState	application/controllers/order.php	/^    public function setOrderState($data,$value)$/;"	f
setPersistCookies	application/controllers/HttpClient.class.php	/^    function setPersistCookies($boolean) {$/;"	f
setPersistReferers	application/controllers/HttpClient.class.php	/^    function setPersistReferers($boolean) {$/;"	f
setPrint	application/controllers/order.php	/^    public function setPrint()$/;"	f
setState	application/models/mitem.php	/^    public function setState($state,$itemId)$/;"	f
setState	application/models/morder.php	/^    public function setState($state,$id)$/;"	f
setUserAgent	application/controllers/HttpClient.class.php	/^    function setUserAgent($string) {$/;"	f
set_allowed_types	system/libraries/Upload.php	/^	public function set_allowed_types($types)$/;"	f
set_alt_message	system/libraries/Email.php	/^	public function set_alt_message($str = '')$/;"	f
set_caption	system/libraries/Table.php	/^	function set_caption($caption)$/;"	f
set_checkbox	system/helpers/form_helper.php	/^	function set_checkbox($field = '', $value = '', $default = FALSE)$/;"	f
set_checkbox	system/libraries/Form_validation.php	/^	public function set_checkbox($field = '', $value = '', $default = FALSE)$/;"	f
set_cipher	system/libraries/Encrypt.php	/^	function set_cipher($cipher)$/;"	f
set_class	system/core/Router.php	/^	function set_class($class)$/;"	f
set_content_type	system/core/Output.php	/^	function set_content_type($mime_type)$/;"	f
set_cookie	system/core/Input.php	/^	function set_cookie($name = '', $value = '', $expire = '', $domain = '', $path = '\/', $prefix = '', $secure = FALSE)$/;"	f
set_cookie	system/helpers/cookie_helper.php	/^	function set_cookie($name = '', $value = '', $expire = '', $domain = '', $path = '\/', $prefix = '', $secure = FALSE)$/;"	f
set_crlf	system/libraries/Email.php	/^	public function set_crlf($crlf = "\\n")$/;"	f
set_dbprefix	system/database/DB_active_rec.php	/^	public function set_dbprefix($prefix = '')$/;"	f
set_debug	system/libraries/Xmlrpc.php	/^	function set_debug($flag = TRUE)$/;"	f
set_delimiters	system/libraries/Parser.php	/^	function set_delimiters($l = '{', $r = '}')$/;"	f
set_directory	system/core/Router.php	/^	function set_directory($dir)$/;"	f
set_empty	system/libraries/Table.php	/^	function set_empty($value)$/;"	f
set_error	system/libraries/Image_lib.php	/^	function set_error($msg)$/;"	f
set_error	system/libraries/Trackback.php	/^	function set_error($msg)$/;"	f
set_error	system/libraries/Upload.php	/^	public function set_error($msg)$/;"	f
set_error_delimiters	system/libraries/Form_validation.php	/^	public function set_error_delimiters($prefix = '<p>', $suffix = '<\/p>')$/;"	f
set_filename	system/libraries/Upload.php	/^	public function set_filename($path, $filename)$/;"	f
set_flashdata	system/libraries/Session.php	/^	function set_flashdata($newdata = array(), $newval = '')$/;"	f
set_hash	system/libraries/Encrypt.php	/^	function set_hash($type = 'sha1')$/;"	f
set_header	system/core/Output.php	/^	function set_header($header, $replace = TRUE)$/;"	f
set_heading	system/libraries/Table.php	/^				$set_heading = (count($this->heading) == 0 AND $this->auto_heading == FALSE) ? FALSE : TRUE;$/;"	v
set_heading	system/libraries/Table.php	/^			if ($i == 0 AND count($data) > 1 AND count($this->heading) == 0 AND $set_heading == TRUE)$/;"	v
set_heading	system/libraries/Table.php	/^	function _set_from_array($data, $set_heading = TRUE)$/;"	v
set_heading	system/libraries/Table.php	/^	function set_heading()$/;"	f
set_image_properties	system/libraries/Upload.php	/^	public function set_image_properties($path = '')$/;"	f
set_insert_batch	system/database/DB_active_rec.php	/^	public function set_insert_batch($key, $value = '', $escape = TRUE)$/;"	f
set_item	system/core/Config.php	/^	function set_item($item, $value)$/;"	f
set_key	system/libraries/Encrypt.php	/^	function set_key($key = '')$/;"	f
set_mailtype	system/libraries/Email.php	/^	public function set_mailtype($type = 'text')$/;"	f
set_max_filename	system/libraries/Upload.php	/^	public function set_max_filename($n)$/;"	f
set_max_filesize	system/libraries/Upload.php	/^	public function set_max_filesize($n)$/;"	f
set_max_height	system/libraries/Upload.php	/^	public function set_max_height($n)$/;"	f
set_max_width	system/libraries/Upload.php	/^	public function set_max_width($n)$/;"	f
set_message	system/libraries/Form_validation.php	/^	public function set_message($lang, $val = '')$/;"	f
set_method	system/core/Router.php	/^	function set_method($method)$/;"	f
set_mode	system/libraries/Encrypt.php	/^	function set_mode($mode)$/;"	f
set_newline	system/libraries/Email.php	/^	public function set_newline($newline = "\\n")$/;"	f
set_output	system/core/Output.php	/^	function set_output($output)$/;"	f
set_priority	system/libraries/Email.php	/^	public function set_priority($n = 3)$/;"	f
set_profiler_sections	system/core/Output.php	/^	function set_profiler_sections($sections)$/;"	f
set_protocol	system/libraries/Email.php	/^	public function set_protocol($protocol = 'mail')$/;"	f
set_radio	system/helpers/form_helper.php	/^	function set_radio($field = '', $value = '', $default = FALSE)$/;"	f
set_radio	system/libraries/Form_validation.php	/^	public function set_radio($field = '', $value = '', $default = FALSE)$/;"	f
set_realpath	system/helpers/path_helper.php	/^	function set_realpath($path, $check_existance = FALSE)$/;"	f
set_row	system/database/DB_result.php	/^	public function set_row($key, $value = NULL)$/;"	f
set_rules	system/libraries/Form_validation.php	/^	public function set_rules($field, $label = '', $rules = '')$/;"	f
set_sections	system/libraries/Profiler.php	/^	public function set_sections($config)$/;"	f
set_select	system/helpers/form_helper.php	/^	function set_select($field = '', $value = '', $default = FALSE)$/;"	f
set_select	system/libraries/Form_validation.php	/^	public function set_select($field = '', $value = '', $default = FALSE)$/;"	f
set_status_header	system/core/Common.php	/^	function set_status_header($code = 200, $text = '')$/;"	f
set_status_header	system/core/Output.php	/^	function set_status_header($code = 200, $text = '')$/;"	f
set_system_methods	system/libraries/Xmlrpcs.php	/^	function set_system_methods()$/;"	f
set_template	system/libraries/Table.php	/^	function set_template($template)$/;"	f
set_template	system/libraries/Unit_test.php	/^	function set_template($template)$/;"	f
set_test_items	system/libraries/Unit_test.php	/^	function set_test_items($items = array())$/;"	f
set_update_batch	system/database/DB_active_rec.php	/^	public function set_update_batch($key, $index = '', $escape = TRUE)$/;"	f
set_upload_path	system/libraries/Upload.php	/^	public function set_upload_path($path)$/;"	f
set_userdata	system/libraries/Session.php	/^	function set_userdata($newdata = array(), $newval = '')$/;"	f
set_value	system/helpers/form_helper.php	/^	function set_value($field = '', $default = '')$/;"	f
set_value	system/libraries/Form_validation.php	/^	public function set_value($field = '', $default = '')$/;"	f
set_wordwrap	system/libraries/Email.php	/^	public function set_wordwrap($wordwrap = TRUE)$/;"	f
set_xss_clean	system/libraries/Upload.php	/^	public function set_xss_clean($flag = FALSE)$/;"	f
severity	system/core/Exceptions.php	/^		$severity = ( ! isset($this->levels[$severity])) ? $severity : $this->levels[$severity];$/;"	v
severity	system/core/Exceptions.php	/^	var $severity;$/;"	v
sha1	system/libraries/Encrypt.php	/^	function sha1($str)$/;"	f
shadow_color	system/helpers/captcha_helper.php	/^		$shadow_color	= imagecolorallocate($im, 255, 240, 240);$/;"	v
should	application/config/routes.php	/^| This route indicates which controller class should be loaded if the$/;"	c
should	system/core/Common.php	/^* @param	string	the directory where the class should be found$/;"	c
should	system/core/Security.php	/^	 * Note: This function should only be used to deal with data$/;"	f
show	js/mainpage2.js	/^    function show(node){$/;"	f
show	system/libraries/Javascript.php	/^	function show($element = 'this', $speed = '', $callback = '')$/;"	f
showArr	application/controllers/bg/item.php	/^    private function showArr($array)$/;"	f
showArr	application/controllers/bg/userlist.php	/^        private function showArr($array)$/;"	f
showArr	application/controllers/bg/wrong.php	/^    public function showArr($arr)$/;"	f
showArr	application/controllers/checkcode.php	/^    public function showArr($arr)$/;"	f
showArr	application/controllers/home.php	/^    private function showArr($arr)$/;"	f
showArr	application/controllers/mainpage.php	/^    private function showArr($arr)$/;"	f
showArr	application/controllers/order.php	/^    private function showArr($array)$/;"	f
showArr	application/controllers/sea.php	/^    private function showArr($array)$/;"	f
showArr	application/controllers/space.php	/^    private function showArr($arr)$/;"	f
showArray	application/controllers/item.php	/^    private function showArray($array)$/;"	f
showBlockAll	application/models/mbgblocklist.php	/^	function showBlockAll(){$/;"	f
showBlockAll	application/models/user.php	/^    public function showBlockAll()$/;"	f
showInfo	js/art.js	/^function showInfo (index,main,total) {$/;"	f
showInfo	js/common.js	/^function showInfo () {$/;"	f
showInfo	js/home.js	/^function showInfo () {$/;"	f
showInfo	js/mainpage2.js	/^function showInfo () {$/;"	f
showInfo.close	js/art.js	/^    function close () {$/;"	f
showInfo.close	js/home.js	/^    function close(){$/;"	f
showInfo.down	js/art.js	/^    function down (node) {$/;"	f
showInfo.show	js/home.js	/^    function show(node){$/;"	f
showInfo.up	js/art.js	/^    function up (node) {$/;"	f
showJ	js/art.js	/^function showJ () {$/;"	f
showMsg	js/art.js	/^function showMsg () {$/;"	f
showNum	application/models/mess.php	/^		$this->showNum=15;$/;"	v
showNum	application/models/mess.php	/^	var $showNum;\/\/每次显示的信息数	$/;"	v
showUserAll	application/models/user.php	/^    public function showUserAll()$/;"	f
show_404	system/core/Common.php	/^	function show_404($page = '', $log_error = TRUE)$/;"	f
show_404	system/core/Exceptions.php	/^	function show_404($page = '', $log_error = TRUE)$/;"	f
show_error	system/core/Common.php	/^	function show_error($message, $status_code = 500, $heading = 'An Error Was Encountered')$/;"	f
show_error	system/core/Exceptions.php	/^	function show_error($heading, $message, $template = 'error_general', $status_code = 500)$/;"	f
show_hide_js	system/libraries/Profiler.php	/^				$show_hide_js = '(<span style="cursor: pointer;" onclick="var s=document.getElementById(\\'ci_profiler_queries_db_'.$count.'\\').style;s.display=s.display==\\'none\\'?\\'\\':\\'none\\';this.innerHTML=this.innerHTML==\\''.$this->CI->lang->line('profiler_section_show').'\\'?\\''.$this->CI->lang->line('profiler_section_hide').'\\':\\''.$this->CI->lang->line('profiler_section_show').'\\';">'.$this->CI->lang->line('profiler_section_show').'<\/span>)';$/;"	v
show_hide_js	system/libraries/Profiler.php	/^			$show_hide_js = '(<span style="cursor: pointer;" onclick="var s=document.getElementById(\\'ci_profiler_queries_db_'.$count.'\\').style;s.display=s.display==\\'none\\'?\\'\\':\\'none\\';this.innerHTML=this.innerHTML==\\''.$this->CI->lang->line('profiler_section_hide').'\\'?\\''.$this->CI->lang->line('profiler_section_show').'\\':\\''.$this->CI->lang->line('profiler_section_hide').'\\';">'.$this->CI->lang->line('profiler_section_hide').'<\/span>)';$/;"	v
show_next_prev	system/libraries/Calendar.php	/^	var $show_next_prev	= FALSE;$/;"	v
show_php_error	system/core/Exceptions.php	/^	function show_php_error($severity, $message, $filepath, $line)$/;"	f
showart_content	application/models/mshowart.php	/^				function showart_content($id)$/;"	f
showimg	application/controllers/chome.php	/^    function showimg($id){$/;"	f
showimg_all	application/models/img.php	/^    function showimg_all(){$/;"	f
showimg_all	application/models/mbgimglist.php	/^	function showimg_all($userId){$/;"	f
showuser_all	application/models/mbguserlist.php	/^				function showuser_all(){$/;"	f
shrink	application/controllers/userspace/user_photo.php	/^	function shrink($path,$name,$width,$height) {$/;"	f
sig	system/libraries/Xmlrpcs.php	/^			$sig = $this->methods[$methName]['signature'];$/;"	v
signature	system/libraries/Xmlrpcs.php	/^				$signature = $this->methods[$method_name]['signature'];$/;"	v
signed	application/controllers/order.php	/^        $this->signed = 4;\/\/已经签订了$/;"	v
sigs	system/libraries/Xmlrpcs.php	/^				$sigs = array();$/;"	v
simple	js/xheditor.min.js	/^(function(){var e={};window.XHEDITOR=e})(),function(e,t){e.mapLang={},e.setLang=function(i,s){s===t&&(s=i,i=""),""!==i&&(i+=".");var a,n;for(var o in s)n=s[o],a=i+o,"string"==typeof n||n instanceof Array?e.mapLang[a]=n:e.setLang(a,n)},e.getLang=function(i){var s=e.mapLang[i];if(s===t&&(s=i.replace(\/{#([^{}]+)}\/g,function(t,i){var s=e.mapLang[i];return s?s:i})),"string"==typeof s){var a=arguments;s=s.replace(\/{\\$(\\d+)}\/g,function(e,i){var s=a[parseInt(i,10)+1];return s!==t?s:e})}return s}}(XHEDITOR),function(XHEDITOR,$,undefined){var agent=navigator.userAgent.toLowerCase(),bMobile=\/mobile\/i.test(agent),browser=$.browser,browerVer=parseFloat(browser.version),isIE=browser.msie,isMozilla=browser.mozilla,isWebkit=browser.webkit,isOpera=browser.opera,isChrome=browser.chrome,bAir=agent.indexOf(" adobeair\/")>-1,xCount=0,bShowPanel=!1,bClickCancel=!0,bShowModal=!1,bCheckEscInit=!1,_jPanel,_jShadow,_jCntLine,_jPanelButton,jModal,jModalShadow,layerShadow,jOverlay,jHideSelect,onModalRemove,editorRoot,getLang=XHEDITOR.getLang;if($("script[src*=xheditor]").each(function(){var e=this.src;return e.match(\/xheditor[^\\\/]*\\.js\/i)?(editorRoot=e.replace(\/[\\?#].*$\/,"").replace(\/(^|[\\\/\\\\])[^\\\/]*$\/,"$1"),!1):undefined}),isIE){try{document.execCommand("BackgroundImageCache",!1,!0)}catch(e){}var jqueryVer=$.fn.jquery;jqueryVer&&jqueryVer.match(\/^1\\.[67]\/)&&($.attrHooks.width=$.attrHooks.height=null)}var specialKeys={27:"esc",9:"tab",32:"space",13:"enter",8:"backspace",145:"scroll",20:"capslock",144:"numlock",19:"pause",45:"insert",36:"home",46:"del",35:"end",33:"pageup",34:"pagedown",37:"left",38:"up",39:"right",40:"down",112:"f1",113:"f2",114:"f3",115:"f4",116:"f5",117:"f6",118:"f7",119:"f8",120:"f9",121:"f10",122:"f11",123:"f12"},arrAlign=[{v:"justifyleft"},{v:"justifycenter"},{v:"justifyright"},{v:"justifyfull"}],arrList=[{v:"insertOrderedList"},{v:"insertUnorderedList"}],htmlPastetext='<div><label for="xhePastetextValue">{#PastetextTip}<\/label><\/div><div><textarea id="xhePastetextValue" wrap="soft" spellcheck="false" style="width:300px;height:100px;" \/><\/div><div style="text-align:right;"><input type="button" id="xheSave" value="{#dialogOk}" \/><\/div>',htmlLink='<div><label for="xheLinkUrl">{#link.url}<\/label><input type="text" id="xheLinkUrl" value="http:\/\/" class="xheText" \/><\/div><div><label for="xheLinkTarget">{#link.target}<\/label><select id="xheLinkTarget"><option selected="selected" value="">{#default}<\/option><option value="_blank">{#link.targetBlank}<\/option><option value="_self">{#link.targetSelf}<\/option><option value="_parent">{#link.targetParent}<\/option><\/select><\/div><div style="display:none"><label for="xheLinkText">{#link.linkText}<\/label><input type="text" id="xheLinkText" value="" class="xheText" \/><\/div><div style="text-align:right;"><input type="button" id="xheSave" value="{#dialogOk}" \/><\/div>',htmlAnchor='<div><label for="xheAnchorName">{#anchor.name}<\/label><input type="text" id="xheAnchorName" value="" class="xheText" \/><\/div><div style="text-align:right;"><input type="button" id="xheSave" value="{#dialogOk}" \/><\/div>',htmlImg='<div><label for="xheImgUrl">{#img.url}<\/label><input type="text" id="xheImgUrl" value="http:\/\/" class="xheText" \/><\/div><div><div><label for="xheImgAlt">{#img.alt}<\/label><input type="text" id="xheImgAlt" \/><\/div><div><label for="xheImgAlign">{#img.align}<\/label><select id="xheImgAlign"><option selected="selected" value="">{#default}<\/option><option value="left">{#img.alignLeft}<\/option><option value="right">{#img.alignRight}<\/option><option value="top">{#img.alignTop}<\/option><option value="middle">{#img.alignMiddle}<\/option><option value="baseline">{#img.alignBaseline}<\/option><option value="bottom">{#img.alignBottom}<\/option><\/select><\/div><div><label for="xheImgWidth">{#img.width}<\/label><input type="text" id="xheImgWidth" style="width:40px;" \/> <label for="xheImgHeight">{#img.height}<\/label><input type="text" id="xheImgHeight" style="width:40px;" \/><\/div><div><label for="xheImgBorder">{#img.border}<\/label><input type="text" id="xheImgBorder" style="width:40px;" \/><\/div><div><label for="xheImgHspace">{#img.hspace}<\/label><input type="text" id="xheImgHspace" style="width:40px;" \/> <label for="xheImgVspace">{#img.vspace}<\/label><input type="text" id="xheImgVspace" style="width:40px;" \/><\/div><div style="text-align:right;"><input type="button" id="xheSave" value="{#dialogOk}" \/><\/div>',htmlFlash='<div><label for="xheFlashUrl">{#flash.url}<\/label><input type="text" id="xheFlashUrl" value="http:\/\/" class="xheText" \/><\/div><div><label for="xheFlashWidth">{#flash.width}<\/label><input type="text" id="xheFlashWidth" style="width:40px;" value="480" \/> <label for="xheFlashHeight">{#flash.height}<\/label><input type="text" id="xheFlashHeight" style="width:40px;" value="400" \/><\/div><div style="text-align:right;"><input type="button" id="xheSave" value="{#dialogOk}" \/><\/div>',htmlMedia='<div><label for="xheMediaUrl">{#media.url}<\/label><input type="text" id="xheMediaUrl" value="http:\/\/" class="xheText" \/><\/div><div><label for="xheMediaWidth">{#media.width}<\/label><input type="text" id="xheMediaWidth" style="width:40px;" value="480" \/> <label for="xheMediaHeight">{#media.height}<\/label><input type="text" id="xheMediaHeight" style="width:40px;" value="400" \/><\/div><div style="text-align:right;"><input type="button" id="xheSave" value="{#dialogOk}" \/><\/div>',htmlTable='<div><label for="xheTableRows">{#table.rows}<\/label><input type="text" id="xheTableRows" style="width:40px;" value="3" \/> <label for="xheTableColumns">{#table.columns}<\/label><input type="text" id="xheTableColumns" style="width:40px;" value="2" \/><\/div><div><label for="xheTableHeaders">{#table.headers}<\/label><select id="xheTableHeaders"><option selected="selected" value="">{#none}<\/option><option value="row">{#table.headersRow}<\/option><option value="col">{#table.headersCol}<\/option><option value="both">{#table.headersBoth}<\/option><\/select><\/div><div><label for="xheTableWidth">{#table.width}<\/label><input type="text" id="xheTableWidth" style="width:40px;" value="200" \/> <label for="xheTableHeight">{#table.height}<\/label><input type="text" id="xheTableHeight" style="width:40px;" value="" \/><\/div><div><label for="xheTableBorder">{#table.border}<\/label><input type="text" id="xheTableBorder" style="width:40px;" value="1" \/><\/div><div><label for="xheTableCellSpacing">{#table.cellSpacing}<\/label><input type="text" id="xheTableCellSpacing" style="width:40px;" value="1" \/> <label for="xheTableCellPadding">{#table.cellPadding}<\/label><input type="text" id="xheTableCellPadding" style="width:40px;" value="1" \/><\/div><div><label for="xheTableAlign">{#table.align}<\/label><select id="xheTableAlign"><option selected="selected" value="">{#default}<\/option><option value="left">{#table.alignLeft}<\/option><option value="center">{#table.alignCenter}<\/option><option value="right">{#table.alignRight}<\/option><\/select><\/div><div><label for="xheTableCaption">{#table.caption}<\/label><input type="text" id="xheTableCaption" \/><\/div><div style="text-align:right;"><input type="button" id="xheSave" value="{#dialogOk}" \/><\/div>',htmlAbout='<div style="font:12px Arial;width:245px;word-wrap:break-word;word-break:break-all;outline:none;" role="dialog" tabindex="-1"><p><span style="font-size:20px;color:#1997DF;">xhEditor<\/span><br \/>v1.2.1 (build 130225)<\/p><p>{#aboutXheditor}<\/p><p>Copyright &copy; <a href="http:\/\/xheditor.com\/" target="_blank">xhEditor.com<\/a>. All rights reserved.<\/p><\/div>',itemEmots={"default":{name:"{#default}",width:24,height:24,line:7,list:["smile","tongue","titter","laugh","sad","wronged","fastcry","cry","wail","mad","knock","curse","crazy","angry","ohmy","awkward","panic","shy","cute","envy","proud","struggle","quiet","shutup","doubt","despise","sleep","bye"]}},arrTools={Cut:{t:"Cut"},Copy:{t:"Copy"},Paste:{t:"Paste"},Pastetext:{t:"Pastetext",h:isIE?0:1},Blocktag:{t:"Blocktag",h:1},Fontface:{t:"Fontface",h:1},FontSize:{t:"FontSize",h:1},Bold:{t:"Bold",s:"Ctrl+B"},Italic:{t:"Italic",s:"Ctrl+I"},Underline:{t:"Underline",s:"Ctrl+U"},Strikethrough:{t:"Strikethrough"},FontColor:{t:"FontColor",h:1},BackColor:{t:"BackColor",h:1},SelectAll:{t:"SelectAll"},Removeformat:{t:"Removeformat"},Align:{t:"Align",h:1},List:{t:"List",h:1},Outdent:{t:"Outdent"},Indent:{t:"Indent"},Link:{t:"Link",s:"Ctrl+L",h:1},Unlink:{t:"Unlink"},Anchor:{t:"Anchor",h:1},Img:{t:"Img",h:1},Flash:{t:"Flash",h:1},Media:{t:"Media",h:1},Hr:{t:"Hr"},Emot:{t:"Emot",s:"ctrl+e",h:1},Table:{t:"Table",h:1},Source:{t:"Source"},Preview:{t:"Preview"},Print:{t:"Print",s:"Ctrl+P"},Fullscreen:{t:"Fullscreen",s:"Esc"},About:{t:"About"}},toolsThemes={mini:"Bold,Italic,Underline,Strikethrough,|,Align,List,|,Link,Img",simple:"Blocktag,Fontface,FontSize,Bold,Italic,Underline,Strikethrough,FontColor,BackColor,|,Align,List,Outdent,Indent,|,Link,Img,Emot",full:"Cut,Copy,Paste,Pastetext,|,Blocktag,Fontface,FontSize,Bold,Italic,Underline,Strikethrough,FontColor,BackColor,SelectAll,Removeformat,|,Align,List,Outdent,Indent,|,Link,Unlink,Anchor,Img,Flash,Media,Hr,Emot,Table,|,Source,Preview,Print,Fullscreen"};toolsThemes.mfull=toolsThemes.full.replace(\/\\|(,Align)\/i,"\/$1");var arrDbClick={a:"Link",img:"Img",embed:"Embed"},uploadInputname="filedata",arrEntities={"<":"&lt;",">":"&gt;",'"':"&quot;","\\u00ae":"&reg;","\\u00a9":"&copy;"},regEntities=\/[<>"\\u00ae\\u00a9]\/g,Xheditor=function(textarea,options){function checkDblClick(e){var t=e.target,i=arrDbClick[t.tagName.toLowerCase()];if(i){if("Embed"===i){var s={"application\/x-shockwave-flash":"Flash","application\/x-mplayer2":"Media"};i=s[t.type.toLowerCase()]}_this.exec(i)}}function checkEsc(e){return 27===e.which?(bShowModal?_this.removeModal():bShowPanel&&_this.hidePanel(),!1):undefined}function loadReset(){setTimeout(_this.setSource,10)}function saveResult(){_this.getSource()}function cleanPaste(e){var t,i,s;if(e&&(t=e.originalEvent.clipboardData)&&(i=t.items)&&(s=i[0])&&"file"==s.kind&&s.type.match(\/^image\\\/\/i)){var a=s.getAsFile(),n=new FileReader;return n.onload=function(){var e='<img src="'+event.target.result+'">';e=replaceRemoteImg(e),_this.pasteHTML(e)},n.readAsDataURL(a),!1}var o=settings.cleanPaste;if(0===o||bSource||bCleanPaste)return!0;bCleanPaste=!0,_this.saveBookmark();var l=isIE?"pre":"div",r=$("<"+l+' class="xhe-paste">\\ufeff\\ufeff<\/'+l+">",_doc).appendTo(_doc.body),h=r[0],c=_this.getSel(),d=_this.getRng(!0);r.css("top",_jWin.scrollTop()),isIE?(d.moveToElementText(h),d.select()):(d.selectNodeContents(h),c.removeAllRanges(),c.addRange(d)),setTimeout(function(){var e,t=3===o;if(t)r.html(r.html().replace(\/<br(\\s+[^<>]*)?>\/gi,"\\n")),e=r.text();else{var i=$(".xhe-paste",_doc.body),s=[];i.each(function(e,t){0==$(t).find(".xhe-paste").length&&s.push(t.innerHTML)}),e=s.join("<br \/>")}r.remove(),_this.loadBookmark(),e=e.replace(\/^[\\s\\uFEFF]+|[\\s\\uFEFF]+$\/g,""),e&&(t?_this.pasteText(e):(e=_this.cleanHTML(e),e=_this.cleanWord(e),e=_this.formatXHTML(e),(!settings.onPaste||settings.onPaste&&(e=settings.onPaste(e))!==!1)&&(e=replaceRemoteImg(e),_this.pasteHTML(e)))),bCleanPaste=!1},0)}function replaceRemoteImg(e){var t=settings.localUrlTest,i=settings.remoteImgSaveUrl;if(t&&i){var s=[],a=0;e=e.replace(\/(<img)((?:\\s+[^>]*?)?(?:\\s+src="\\s*([^"]+)\\s*")(?: [^>]*)?)(\\\/?>)\/gi,function(e,i,n,o,l){return!\/^(https?|data:image)\/i.test(o)||\/_xhe_temp\/.test(n)||t.test(o)||(s[a]=o,n=n.replace(\/\\s+(width|height)="[^"]*"\/gi,"").replace(\/\\s+src="[^"]*"\/gi,' src="'+skinPath+'img\/waiting.gif" remoteimg="'+a++ +'"')),i+n+l}),s.length>0&&$.post(i,{urls:s.join("|")},function(e){e=e.split("|"),$("img[remoteimg]",_this.doc).each(function(){var t=$(this);xheAttr(t,"src",e[t.attr("remoteimg")]),t.removeAttr("remoteimg")})})}return e}function setCSS(e){try{_this._exec("styleWithCSS",e,!0)}catch(t){try{_this._exec("useCSS",!e,!0)}catch(t){}}}function setOpts(){if(bInit&&!bSource){setCSS(!1);try{_this._exec("enableObjectResizing",!0,!0)}catch(e){}if(isIE)try{_this._exec("BackgroundImageCache",!0,!0)}catch(e){}}}function forcePtag(e){if(bSource||13!==e.which||e.shiftKey||e.ctrlKey||e.altKey)return!0;var t=_this.getParent("p,h1,h2,h3,h4,h5,h6,pre,address,div,li");return t.is("li")?!0:settings.forcePtag?(0===t.length&&_this._exec("formatblock","<p>"),undefined):(_this.pasteHTML("<br \/>"),isIE&&t.length>0&&2===_this.getRng().parentElement().childNodes.length&&_this.pasteHTML("<br \/>"),!1)}function fixFullHeight(){isMozilla||isWebkit||(bFullscreen&&_jArea.height("100%").css("height",_jArea.outerHeight()-_jTools.outerHeight()),isIE&&_jTools.hide().show())}function fixAppleSel(e){if(e=e.target,e.tagName.match(\/(img|embed)\/i)){var t=_this.getSel(),i=_this.getRng(!0);i.selectNode(e),t.removeAllRanges(),t.addRange(i)}}function xheAttr(e,t,i){if(!t)return!1;var s="_xhe_"+t;return i&&(urlType&&(i=getLocalUrl(i,urlType,urlBase)),e.attr(t,urlBase?getLocalUrl(i,"abs",urlBase):i).removeAttr(s).attr(s,i)),e.attr(s)||e.attr(t)}function clickCancelPanel(){bClickCancel&&_this.hidePanel()}function checkShortcuts(e){if(bSource)return!0;var t=e.which,i=specialKeys[t],s=i?i:String.fromCharCode(t).toLowerCase();sKey="",sKey+=e.ctrlKey?"ctrl+":"",sKey+=e.altKey?"alt+":"",sKey+=e.shiftKey?"shift+":"",sKey+=s;var a,n=arrShortCuts[sKey];for(a in n){if(a=n[a],!$.isFunction(a))return _this.exec(a),!1;if(a.call(_this)===!1)return!1}}function is(e,t){var i=typeof e;return t?"array"===t&&e.hasOwnProperty&&e instanceof Array?!0:i===t:"undefined"!=i}function getLocalUrl(e,t,i){if(e.match(\/^(\\w+):\\\/\\\/\/i)&&!e.match(\/^https?:\/i)||\/^#\/i.test(e)||\/^data:\/i.test(e))return e;var s=i?$('<a href="'+i+'" \/>')[0]:location,a=s.protocol,n=s.host,o=s.hostname,l=s.port,r=s.pathname.replace(\/\\\\\/g,"\/").replace(\/[^\\\/]+$\/i,"");if(""===l&&(l="80"),""===r?r="\/":"\/"!==r.charAt(0)&&(r="\/"+r),e=$.trim(e),"abs"!==t&&(e=e.replace(RegExp(a+"\\\\\/\\\\\/"+o.replace(\/\\.\/g,"\\\\.")+"(?::"+l+")"+("80"===l?"?":"")+"(\/|$)","i"),"\/")),"rel"===t&&(e=e.replace(RegExp("^"+r.replace(\/([\\\/\\.\\+\\[\\]\\(\\)])\/g,"\\\\$1"),"i"),"")),"rel"!==t&&(e.match(\/^(https?:\\\/\\\/|\\\/)\/i)||(e=r+e),"\/"===e.charAt(0))){var h,c,d=[],u=e.split("\/"),p=u.length;for(c=0;p>c;c++)h=u[c],".."===h?d.pop():""!==h&&"."!==h&&d.push(h);""===u[p-1]&&d.push(""),e="\/"+d.join("\/")}return"abs"!==t||e.match(\/^https?:\\\/\\\/\/i)||(e=a+"\/\/"+n+e),e=e.replace(\/(https?:\\\/\\\/[^:\\\/?#]+):80(\\\/|$)\/i,"$1$2")}function checkFileExt(e,t){return"*"===t||e.match(RegExp(".("+t.replace(\/,\/g,"|")+")$","i"))?!0:(alert(getLang("upload.extLimit",t)),!1)}function formatBytes(e){var t=["Byte","KB","MB","GB","TB","PB"],i=Math.floor(Math.log(e)\/Math.log(1024));return(e\/Math.pow(1024,Math.floor(i))).toFixed(2)+t[i]}function returnFalse(){return!1}var _this=this,_text=textarea,_jText=$(_text),_jForm=_jText.closest("form"),_jTools,_jArea,_win,_jWin,_doc,_jDoc,bookmark,bInit=!1,bSource=!1,bFullscreen=!1,bCleanPaste=!1,outerScroll,bShowBlocktag=!1,sLayoutStyle="",ev=null,timer,bDisableHoverExec=!1,bQuickHoverExec=!1,lastPoint=null,lastAngle=null,editorHeight=0,settings=_this.settings=$.extend({},XHEDITOR.settings,options),plugins=settings.plugins,strPlugins=[];if(plugins&&(arrTools=$.extend({},arrTools,plugins),$.each(plugins,function(e){strPlugins.push(e)}),strPlugins=strPlugins.join(",")),settings.tools.match(\/^\\s*(m?full|simple|mini)\\s*$\/i)){var toolsTheme=toolsThemes[$.trim(settings.tools)];settings.tools=settings.tools.match(\/m?full\/i)&&plugins?toolsTheme.replace("Table","Table,"+strPlugins):toolsTheme}settings.tools.match(\/(^|,)\\s*About\\s*(,|$)\/i)||(settings.tools+=",About"),settings.tools=settings.tools.split(","),settings.editorRoot&&(editorRoot=settings.editorRoot),bAir===!1&&(editorRoot=getLocalUrl(editorRoot,"abs")),settings.urlBase&&(settings.urlBase=getLocalUrl(settings.urlBase,"abs"));var idCSS="xheCSS_"+settings.skin,idContainer="xhe"+xCount+"_container",idTools="xhe"+xCount+"_Tool",idIframeArea="xhe"+xCount+"_iframearea",idIframe="xhe"+xCount+"_iframe",idFixFFCursor="xhe"+xCount+"_fixffcursor",headHTML="",bodyClass="",skinPath=editorRoot+"xheditor_skin\/"+settings.skin+"\/",arrEmots=itemEmots,urlType=settings.urlType,urlBase=settings.urlBase,emotPath=settings.emotPath,emotPath=emotPath?emotPath:editorRoot+"xheditor_emot\/",selEmotGroup="";arrEmots=$.extend({},arrEmots,settings.emots),emotPath=getLocalUrl(emotPath,"rel",urlBase?urlBase:null),bShowBlocktag=settings.showBlocktag,bShowBlocktag&&(bodyClass+=" showBlocktag");var arrShortCuts=[];this.init=function(){function e(e){var t,i=$(e.target);(t=i.css("width"))&&i.css("width","").attr("width",t.replace(\/[^0-9%]+\/g,"")),(t=i.css("height"))&&i.css("height","").attr("height",t.replace(\/[^0-9%]+\/g,""))}0===$("#"+idCSS).length&&$("head").append('<link id="'+idCSS+'" rel="stylesheet" type="text\/css" href="'+skinPath+'ui.css" \/>');var t=_jText.outerWidth(),i=_jText.outerHeight(),s=settings.width||_text.style.width||(t>10?t:0);editorHeight=settings.height||_text.style.height||(i>10?i:150),\/^\\d+(?:\\.\\d+)?$\/.test(s)&&(s+="px"),is(editorHeight,"string")&&(editorHeight=editorHeight.replace(\/[^\\d]+\/g,""));var a,n,o=settings.background||_text.style.background,l=['<span class="xheGStart"\/>'],r=\/\\||\\\/\/i;$.each(settings.tools,function(e,t){if(t.match(r)&&l.push('<span class="xheGEnd"\/>'),"|"===t)l.push('<span class="xheSeparator"\/>');else if("\/"===t)l.push("<br \/>");else{if(a=arrTools[t],!a)return;n=a.c?a.c:"xheIcon xheBtn"+t,l.push('<span><a href="#" title="{#'+a.t+'}" cmd="'+t+'" class="xheButton xheEnabled" tabindex="-1" role="button"><span class="'+n+'" unselectable="on" style="font-size:0;color:transparent;text-indent:-999px;">'+a.t+"<\/span><\/a><\/span>"),a.s&&_this.addShortcuts(a.s,t)}t.match(r)&&l.push('<span class="xheGStart"\/>')}),l.push('<span class="xheGEnd"\/><br \/>'),_jText.after($('<input type="text" id="'+idFixFFCursor+'" style="position:absolute;display:none;" \/><span id="'+idContainer+'" class="xhe_'+settings.skin+'" style="display:none"><table cellspacing="0" cellpadding="0" class="xheLayout" style="'+("0px"!=s?"width:"+s+";":"")+"height:"+editorHeight+'px;" role="presentation"><tr><td id="'+idTools+'" class="xheTool" unselectable="on" style="height:1px;" role="presentation"><\/td><\/tr><tr><td id="'+idIframeArea+'" class="xheIframeArea" role="presentation"><iframe frameborder="0" id="'+idIframe+'" src="javascript:;" style="width:100%;"><\/iframe><\/td><\/tr><\/table><\/span>')),_jTools=$("#"+idTools),_jArea=$("#"+idIframeArea),headHTML='<meta http-equiv="Content-Type" content="text\/html; charset=utf-8" \/><link rel="stylesheet" href="'+skinPath+'iframe.css"\/>';var h=settings.loadCSS;if(h)if(is(h,"array"))for(var c in h)headHTML+='<link rel="stylesheet" href="'+h[c]+'"\/>';else headHTML+=h.match(\/\\s*<style(\\s+[^>]*?)?>[\\s\\S]+?<\\\/style>\\s*\/i)?h:'<link rel="stylesheet" href="'+h+'"\/>';var d='<!DOCTYPE html><html xmlns="http:\/\/www.w3.org\/1999\/xhtml"><head>'+headHTML+"<title>{#defaultReadTip} "+(settings.readTip?settings.readTip:"")+"<\/title>";o&&(d+="<style>html{background:"+o+";}<\/style>"),d+='<\/head><body spellcheck="0" class="editMode'+bodyClass+'"><\/body><\/html>',_this.win=_win=$("#"+idIframe)[0].contentWindow,_jWin=$(_win);try{this.doc=_doc=_win.document,_jDoc=$(_doc),_doc.open(),_doc.write(getLang(d)),_doc.close(),isIE?_doc.body.contentEditable="true":_doc.designMode="On"}catch(u){}setTimeout(setOpts,300),_this.setSource(),_win.setInterval=null,_jTools.append(getLang(l.join(""))).bind("mousedown contextmenu",returnFalse).click(function(e){var t=$(e.target).closest("a");return t.is(".xheEnabled")&&(clearTimeout(timer),_jTools.find("a").attr("tabindex","-1"),ev=e,_this.exec(t.attr("cmd"))),!1}),_jTools.find(".xheButton").hover(function(e){var t=$(this),i=settings.hoverExecDelay,s=lastAngle;if(lastAngle=null,-1===i||bDisableHoverExec||!t.is(".xheEnabled"))return!1;if(s&&s>10)return bDisableHoverExec=!0,setTimeout(function(){bDisableHoverExec=!1},100),!1;var a=t.attr("cmd"),n=1===arrTools[a].h;return n?(bQuickHoverExec&&(i=0),i>=0&&(timer=setTimeout(function(){ev=e,lastPoint={x:ev.clientX,y:ev.clientY},_this.exec(a)},i)),undefined):(_this.hidePanel(),!1)},function(){lastPoint=null,timer&&clearTimeout(timer)}).mousemove(function(e){if(lastPoint){var t={x:e.clientX-lastPoint.x,y:e.clientY-lastPoint.y};if(Math.abs(t.x)>1||Math.abs(t.y)>1){if(t.x>0&&t.y>0){var i=Math.round(Math.atan(t.y\/t.x)\/.017453293);lastAngle=lastAngle?(lastAngle+i)\/2:i}else lastAngle=null;lastPoint={x:e.clientX,y:e.clientY}}}}),_jPanel=$("#xhePanel"),_jShadow=$("#xheShadow"),_jCntLine=$("#xheCntLine"),0===_jPanel.length&&(_jPanel=$('<div id="xhePanel"><\/div>').mousedown(function(e){e.stopPropagation()}),_jShadow=$('<div id="xheShadow"><\/div>'),_jCntLine=$('<div id="xheCntLine"><\/div>'),setTimeout(function(){$(document.body).append(_jPanel).append(_jShadow).append(_jCntLine)},10)),$("#"+idContainer).show(),_jText.hide(),_jArea.css("height",editorHeight-_jTools.outerHeight()),isIE&8>browerVer&&setTimeout(function(){_jArea.css("height",editorHeight-_jTools.outerHeight())},1),_jText.focus(_this.focus),_jForm.submit(saveResult).bind("reset",loadReset),settings.submitID&&$("#"+settings.submitID).mousedown(saveResult),$(window).bind("unload beforeunload",saveResult).bind("resize",fixFullHeight),$(document).mousedown(clickCancelPanel),bCheckEscInit||($(document).keydown(checkEsc),bCheckEscInit=!0),_jWin.focus(function(){settings.focus&&settings.focus()}).blur(function(){settings.blur&&settings.blur()}),isWebkit&&_jWin.click(fixAppleSel),_jDoc.mousedown(clickCancelPanel).keydown(checkShortcuts).keypress(forcePtag).dblclick(checkDblClick).bind("mousedown click",function(e){_jText.trigger(e.type)}),isIE&&(_jDoc.keydown(function(e){var t=_this.getRng();return 8===e.which&&t.item?($(t.item(0)).remove(),!1):undefined}),_jDoc.bind("controlselect",function(t){t=t.target,$.nodeName(t,"IMG")&&$(t).unbind("resizeend",e).bind("resizeend",e)})),_jDoc.keydown(function(e){var t=e.which;return e.altKey&&t>=49&&57>=t?(_jTools.find("a").attr("tabindex","0"),_jTools.find(".xheGStart").eq(t-49).next().find("a").focus(),_doc.title="\\ufeff\\ufeff",!1):undefined}).click(function(){_jTools.find("a").attr("tabindex","-1")}),_jTools.keydown(function(e){var t=e.which;if(27==t)_jTools.find("a").attr("tabindex","-1"),_this.focus();else if(e.altKey&&t>=49&&57>=t)return _jTools.find(".xheGStart").eq(t-49).next().find("a").focus(),!1});var p=$(_doc.documentElement);isOpera?p.bind("keydown",function(e){e.ctrlKey&&86===e.which&&cleanPaste()}):p.bind(isIE?"beforepaste":"paste",cleanPaste),settings.disableContextmenu&&p.bind("contextmenu",returnFalse),settings.html5Upload&&p.bind("dragenter dragover",function(e){var t;return(t=e.originalEvent.dataTransfer.types)&&-1!==$.inArray("Files",t)?!1:undefined}).bind("drop",function(e){function t(e){var t,i,s;for(a=0;e.length>a;a++){if(i=e[a].name.replace(\/.+\\.\/,""),!(t=o.match(RegExp("(\\\\w+):[^:]*,"+i+"(?:,|$)","i"))))return 1;if(s){if(s!==t[1])return 2}else s=t[1]}return s}var i,s=e.originalEvent.dataTransfer;if(s&&(i=s.files)&&i.length>0){var a,n,o,l=["Link","Img","Flash","Media"],r=[];for(a in l)n=l[a],settings["up"+n+"Url"]&&settings["up"+n+"Url"].match(\/^[^!].*\/i)&&r.push(n+":,"+settings["up"+n+"Ext"]);return 0===r.length?!1:(o=r.join(","),n=t(i),1===n?alert(getLang("upload.extLimit",o.replace(\/\\w+:,\/g,""))):2===n?alert(getLang("upload.typeLimit")):n&&_this.startUpload(i,settings["up"+n+"Url"],"*",function(e){var t,i=[],s=settings.onUpload;s&&s(e);for(var a=0,o=e.length;o>a;a++)t=e[a],url=is(t,"string")?t:t.url,"!"===url.substr(0,1)&&(url=url.substr(1)),i.push(url);_this.exec(n),$("#xhe"+n+"Url").val(i.join(" ")),$("#xheSave").click()}),!1)}});var g=settings.shortcuts;g&&$.each(g,function(e,t){_this.addShortcuts(e,t)}),xCount++,bInit=!0,settings.fullscreen?_this.toggleFullscreen():settings.sourceMode&&setTimeout(_this.toggleSource,20);var f=settings.plugins;return f&&$.each(f,function(e,t){var i=t.i;i!==undefined&&i(_this)}),!0},this.remove=function(){_this.hidePanel(),saveResult(),_jText.unbind("focus",_this.focus),_jForm.unbind("submit",saveResult).unbind("reset",loadReset),settings.submitID&&$("#"+settings.submitID).unbind("mousedown",saveResult),$(window).unbind("unload beforeunload",saveResult).unbind("resize",fixFullHeight),$(document).unbind("mousedown",clickCancelPanel),$("#"+idContainer).remove(),$("#"+idFixFFCursor).remove(),_jText.show(),bInit=!1},this.saveBookmark=function(){if(!bSource){_this.focus();var e=_this.getRng();e=e.cloneRange?e.cloneRange():e,bookmark={top:_jWin.scrollTop(),rng:e}}},this.loadBookmark=function(){if(!bSource&&bookmark){_this.focus();var e=bookmark.rng;if(isIE)e.select();else{var t=_this.getSel();t.removeAllRanges(),t.addRange(e)}_jWin.scrollTop(bookmark.top),bookmark=null}},this.focus=function(){if(bSource?$("#sourceCode",_doc).focus():_win.focus(),isIE){var e=_this.getRng();e.parentElement&&e.parentElement().ownerDocument!==_doc&&_this.setTextCursor()}return!1},this.setTextCursor=function(e){var t=_this.getRng(!0),i=_doc.body;if(isIE)t.moveToElementText(i);else{for(var s=e?"lastChild":"firstChild";3!=i.nodeType&&i[s];)i=i[s];t.selectNode(i)}if(t.collapse(e?!1:!0),isIE)t.select();else{var a=_this.getSel();a.removeAllRanges(),a.addRange(t)}},this.getSel=function(){return _doc.selection?_doc.selection:_win.getSelection()},this.getRng=function(e){var t,i;try{e||(t=_this.getSel(),i=t.createRange?t.createRange():t.rangeCount>0?t.getRangeAt(0):null),i||(i=_doc.body.createTextRange?_doc.body.createTextRange():_doc.createRange())}catch(s){}return i},this.getParent=function(e){var t,i=_this.getRng();return isIE?t=i.item?i.item(0):i.parentElement():(t=i.commonAncestorContainer,i.collapsed||i.startContainer===i.endContainer&&2>i.startOffset-i.endOffset&&i.startContainer.hasChildNodes()&&(t=i.startContainer.childNodes[i.startOffset])),e=e?e:"*",t=$(t),t.is(e)||(t=$(t).closest(e)),t},this.getSelect=function(e){var t=_this.getSel(),i=_this.getRng(),s=!0;if(s=!i||i.item?!1:!t||0===i.boundingWidth||i.collapsed,"text"===e)return s?"":i.text||(t.toString?""+t:"");var a;if(i.cloneContents){var n,o=$("<div><\/div>");n=i.cloneContents(),n&&o.append(n),a=o.html()}else a=is(i.item)?i.item(0).outerHTML:is(i.htmlText)?i.htmlText:""+i;return s&&(a=""),a=_this.processHTML(a,"read"),a=_this.cleanHTML(a),a=_this.formatXHTML(a)},this.pasteHTML=function(e,t){if(bSource)return!1;_this.focus(),e=_this.processHTML(e,"write");var i=_this.getSel(),s=_this.getRng();if(t!==undefined){if(s.item){var a=s.item(0);s=_this.getRng(!0),s.moveToElementText(a),s.select()}s.collapse(t)}if(e+="<"+(isIE?"img":"span")+' id="_xhe_temp" width="0" height="0" \/>',s.insertNode){if($(s.startContainer).closest("style,script").length>0)return!1;s.deleteContents(),s.insertNode(s.createContextualFragment(e))}else"control"===i.type.toLowerCase()&&(i.clear(),s=_this.getRng()),s.pasteHTML(e);var n=$("#_xhe_temp",_doc),o=n[0];isIE?(s.moveToElementText(o),s.select()):(s.selectNode(o),i.removeAllRanges(),i.addRange(s)),n.remove()},this.pasteText=function(e,t){e||(e=""),e=_this.domEncode(e),e=e.replace(\/\\r?\\n\/g,"<br \/>"),_this.pasteHTML(e,t)},this.appendHTML=function(e){return bSource?!1:(_this.focus(),e=_this.processHTML(e,"write"),$(_doc.body).append(e),_this.setTextCursor(!0),undefined)},this.domEncode=function(e){return e.replace(regEntities,function(e){return arrEntities[e]})},this.setSource=function(e){bookmark=null,"string"!=typeof e&&""!==e&&(e=_text.value),bSource?$("#sourceCode",_doc).val(e):(settings.beforeSetSource&&(e=settings.beforeSetSource(e)),e=_this.cleanHTML(e),e=_this.formatXHTML(e),e=_this.processHTML(e,"write"),isIE?(_doc.body.innerHTML='<img id="_xhe_temp" width="0" height="0" \/>'+e,$("#_xhe_temp",_doc).remove()):_doc.body.innerHTML=e)},this.processHTML=function(e,t){function i(e,t,i,s,a,o){var l,r,h,c,d="";if(l=s.match(\/font-family\\s*:\\s*([^;"]+)\/i),l&&(d+=' face="'+l[1]+'"'),r=s.match(\/font-size\\s*:\\s*([^;"]+)\/i)){r=r[1].toLowerCase();for(var u=0;n.length>u;u++)if(r===n[u].n||r===n[u].s){h=u+1;break}h&&(d+=' size="'+h+'"',s=s.replace(\/(^|;)(\\s*font-size\\s*:\\s*[^;"]+;?)+\/gi,"$1"))}if(c=s.match(\/(?:^|[\\s;])color\\s*:\\s*([^;"]+)\/i)){var p;if(p=c[1].match(\/\\s*rgb\\s*\\(\\s*(\\d+)\\s*,\\s*(\\d+)\\s*,\\s*(\\d+)\\s*\\)\/i)){c[1]="#";for(var g=1;3>=g;g++)c[1]+=("0"+(p[g]-0).toString(16)).slice(-2)}c[1]=c[1].replace(\/^#([0-9a-f])([0-9a-f])([0-9a-f])$\/i,"#$1$1$2$2$3$3"),d+=' color="'+c[1]+'"'}return s=s.replace(\/(^|;)(\\s*(font-family|color)\\s*:\\s*[^;"]+;?)+\/gi,"$1"),""!==d?(s&&(d+=' style="'+s+'"'),"<font"+(i?i:"")+d+(a?a:"")+">"+o+"<\/font>"):e}function s(e,t,i,s,a){for(var n,l,r=(i?i:"")+(s?s:""),h=[],c=[],d=0;o.length>d;d++)n=o[d].r,l=o[d].t,r=r.replace(n,function(){return h.push("<"+l+">"),c.push("<\/"+l+">"),""});return r=r.replace(\/\\s+style\\s*=\\s*"\\s*"\/i,""),(r?"<span"+r+">":"")+h.join("")+a+c.join("")+(r?"<\/span>":"")}var a=' class="Apple-style-span"',n=settings.listFontsize;if("write"===t)e=e.replace(\/(<(\\\/?)(\\w+))((?:\\s+[\\w\\-:]+\\s*=\\s*(?:"[^"]*"|'[^']*'|[^>\\s]+))*)\\s*((\\\/?)>)\/g,function(e,t,i,s,n,o,l){s=s.toLowerCase(),isMozilla?"strong"===s?s="b":"em"===s&&(s="i"):isWebkit&&("strong"===s?(s="span",i||(n+=a+' style="font-weight: bold;"')):"em"===s?(s="span",i||(n+=a+' style="font-style: italic;"')):"u"===s?(s="span",i||(n+=a+' style="text-decoration: underline;"')):"strike"===s&&(s="span",i||(n+=a+' style="text-decoration: line-through;"')));var r,h="";if("del"===s)s="strike";else if("img"===s)n=n.replace(\/\\s+emot\\s*=\\s*("[^"]*"|'[^']*'|[^>\\s]+)\/i,function(e,t){return r=t.match(\/^(["']?)(.*)\\1\/)[2],r=r.split(","),r[1]||(r[1]=r[0],r[0]=""),"default"===r[0]&&(r[0]=""),settings.emotMark?e:""});else if("a"===s)!n.match(\/ href=[^ ]\/i)&&n.match(\/ name=[^ ]\/i)&&(h+=" xhe-anchor"),l&&(o="><\/a>");else if("table"===s&&!i){var c=n.match(\/\\s+border\\s*=\\s*("[^"]*"|'[^']*'|[^>\\s]+)\/i);(!c||c[1].match(\/^(["']?)\\s*0\\s*\\1$\/))&&(h+=" xhe-border")}var d;if(n=n.replace(\/\\s+([\\w\\-:]+)\\s*=\\s*("[^"]*"|'[^']*'|[^>\\s]+)\/g,function(e,t,i){return t=t.toLowerCase(),i=i.match(\/^(["']?)(.*)\\1\/)[2],aft="",isIE&&t.match(\/^(disabled|checked|readonly|selected)$\/)&&i.match(\/^(false|0)$\/i)?"":"img"===s&&r&&"src"===t?"":(t.match(\/^(src|href)$\/)&&(aft=" _xhe_"+t+'="'+i+'"',urlBase&&(i=getLocalUrl(i,"abs",urlBase))),h&&"class"===t&&(i+=" "+h,h=""),isWebkit&&"style"===t&&"span"===s&&i.match(\/(^|;)\\s*(font-family|font-size|color|background-color)\\s*:\\s*[^;]+\\s*(;|$)\/i)&&(d=!0)," "+t+'="'+i+'"'+aft)}),r){var u=emotPath+(r[0]?r[0]:"default")+"\/"+r[1]+".gif";n+=' src="'+u+'" _xhe_src="'+u+'"'}return d&&(n+=a),h&&(n+=' class="'+h+'"'),"<"+i+s+n+o}),isIE&&(e=e.replace(\/&apos;\/gi,"&#39;")),isWebkit||(e=e.replace(\/<(span)(\\s+[^>]*?)?\\s+style\\s*=\\s*"((?:[^"]*?;)?\\s*(?:font-family|font-size|color)\\s*:[^"]*)"( [^>]*)?>(((?!<\\1(\\s+[^>]*?)?>)[\\s\\S]|<\\1(\\s+[^>]*?)?>((?!<\\1(\\s+[^>]*?)?>)[\\s\\S]|<\\1(\\s+[^>]*?)?>((?!<\\1(\\s+[^>]*?)?>)[\\s\\S])*?<\\\/\\1>)*?<\\\/\\1>)*?)<\\\/\\1>\/gi,i),e=e.replace(\/<(span)(\\s+[^>]*?)?\\s+style\\s*=\\s*"((?:[^"]*?;)?\\s*(?:font-family|font-size|color)\\s*:[^"]*)"( [^>]*)?>(((?!<\\1(\\s+[^>]*?)?>)[\\s\\S]|<\\1(\\s+[^>]*?)?>((?!<\\1(\\s+[^>]*?)?>)[\\s\\S])*?<\\\/\\1>)*?)<\\\/\\1>\/gi,i),e=e.replace(\/<(span)(\\s+[^>]*?)?\\s+style\\s*=\\s*"((?:[^"]*?;)?\\s*(?:font-family|font-size|color)\\s*:[^"]*)"( [^>]*)?>(((?!<\\1(\\s+[^>]*?)?>)[\\s\\S])*?)<\\\/\\1>\/gi,i)),e=e.replace(\/<(td|th)(\\s+[^>]*?)?>(\\s|&nbsp;)*<\\\/\\1>\/gi,"<$1$2>"+(isIE?"":"<br \/>")+"<\/$1>");else{if(isWebkit)for(var o=[{r:\/font-weight\\s*:\\s*bold;?\/gi,t:"strong"},{r:\/font-style\\s*:\\s*italic;?\/gi,t:"em"},{r:\/text-decoration\\s*:\\s*underline;?\/gi,t:"u"},{r:\/text-decoration\\s*:\\s*line-through;?\/gi,t:"strike"}],l=0;2>l;l++)e=e.replace(\/<(span)(\\s+[^>]*?)?\\s+class\\s*=\\s*"Apple-style-span"(\\s+[^>]*?)?>(((?!<\\1(\\s+[^>]*?)?>)[\\s\\S]|<\\1(\\s+[^>]*?)?>((?!<\\1(\\s+[^>]*?)?>)[\\s\\S]|<\\1(\\s+[^>]*?)?>((?!<\\1(\\s+[^>]*?)?>)[\\s\\S])*?<\\\/\\1>)*?<\\\/\\1>)*?)<\\\/\\1>\/gi,s),e=e.replace(\/<(span)(\\s+[^>]*?)?\\s+class\\s*=\\s*"Apple-style-span"(\\s+[^>]*?)?>(((?!<\\1(\\s+[^>]*?)?>)[\\s\\S]|<\\1(\\s+[^>]*?)?>((?!<\\1(\\s+[^>]*?)?>)[\\s\\S])*?<\\\/\\1>)*?)<\\\/\\1>\/gi,s),e=e.replace(\/<(span)(\\s+[^>]*?)?\\s+class\\s*=\\s*"Apple-style-span"(\\s+[^>]*?)?>(((?!<\\1(\\s+[^>]*?)?>)[\\s\\S])*?)<\\\/\\1>\/gi,s);e=e.replace(\/(<(\\w+))((?:\\s+[\\w\\-:]+\\s*=\\s*(?:"[^"]*"|'[^']*'|[^>\\s]+))*)\\s*(\\\/?>)\/g,function(e,t,i,s,a){i=i.toLowerCase();$/;"	p
simple_query	system/database/DB_driver.php	/^	function simple_query($sql)$/;"	f
simply	system/libraries/Trackback.php	/^	 * This function simply validates the incoming TB data.$/;"	f
singular	system/helpers/inflector_helper.php	/^	function singular($str)$/;"	f
singular_rules	system/helpers/inflector_helper.php	/^		$singular_rules = array($/;"	v
siteUrl	application/views/bgHomeSet.php	/^    $siteUrl = site_url();$/;"	v
siteUrl	application/views/bgItemMan.php	/^$siteUrl = site_url();$/;"	v
siteUrl	application/views/bgart.php	/^$siteUrl = site_url();$/;"	v
siteUrl	application/views/bgcom.php	/^$siteUrl = site_url();$/;"	v
siteUrl	application/views/bghome.php	/^$siteUrl = site_url();$/;"	v
siteUrl	application/views/dir.php	/^    $siteUrl = site_url();$/;"	v
siteUrl	application/views/fun.php	/^$siteUrl = site_url();$/;"	v
siteUrl	application/views/header.php	/^$siteUrl = site_url();$/;"	v
siteUrl	application/views/histOrder.php	/^$siteUrl = site_url();$/;"	v
siteUrl	application/views/home.php	/^$siteUrl = site_url();$/;"	v
siteUrl	application/views/info.php	/^	$siteUrl = site_url();$/;"	v
siteUrl	application/views/item.php	/^$siteUrl = site_url();$/;"	v
siteUrl	application/views/login.php	/^	$siteUrl = site_url();$/;"	v
siteUrl	application/views/m-bg-imglist.php	/^    $siteUrl = site_url();$/;"	v
siteUrl	application/views/m-bg-userlist.php	/^    $siteUrl = site_url();$/;"	v
siteUrl	application/views/mBgItemAdd.php	/^    $siteUrl = site_url();$/;"	v
siteUrl	application/views/mainpage2.php	/^$siteUrl = site_url();$/;"	v
siteUrl	application/views/manCon.php	/^$siteUrl = site_url();$/;"	v
siteUrl	application/views/message.php	/^	$siteUrl = site_url();$/;"	v
siteUrl	application/views/messout.php	/^	$siteUrl = site_url();$/;"	v
siteUrl	application/views/messwrite.php	/^    $siteUrl = site_url();$/;"	v
siteUrl	application/views/msea.php	/^$siteUrl = site_url();$/;"	v
siteUrl	application/views/myorder.php	/^$siteUrl = site_url();$/;"	v
siteUrl	application/views/onTimeOrder.php	/^$siteUrl = site_url();$/;"	v
siteUrl	application/views/order.php	/^$siteUrl = site_url();$/;"	v
siteUrl	application/views/ordtoday.php	/^$siteUrl = site_url();$/;"	v
siteUrl	application/views/showart.php	/^        $siteUrl = site_url();$/;"	v
siteUrl	application/views/test.php	/^    $siteUrl = site_url();$/;"	v
siteUrl	application/views/userSpace.php	/^    $siteUrl = site_url();$/;"	v
siteUrl	application/views/waimai.php	/^$siteUrl = site_url();$/;"	v
siteUrl	application/views/waimai2.php	/^    $siteUrl = site_url();$/;"	v
site_url	system/core/Config.php	/^	function site_url($uri = '')$/;"	f
site_url	system/helpers/url_helper.php	/^			$site_url = ( ! preg_match('!^\\w+:\/\/! i', $uri)) ? site_url($uri) : $uri;$/;"	v
site_url	system/helpers/url_helper.php	/^			$site_url = site_url($uri);$/;"	v
site_url	system/helpers/url_helper.php	/^		$site_url = ( ! preg_match('!^\\w+:\/\/! i', $uri)) ? site_url($uri) : $uri;$/;"	v
site_url	system/helpers/url_helper.php	/^	function site_url($uri = '')$/;"	f
size	system/libraries/Xmlrpc.php	/^			$size = count($b);$/;"	v
size_calculator	system/libraries/Image_lib.php	/^	function size_calculator($vals)$/;"	f
size_str	system/libraries/Image_lib.php	/^		$this->size_str		= $vals['3'];$/;"	v
size_str	system/libraries/Image_lib.php	/^	var $size_str			= '';$/;"	v
skip_elements	system/libraries/Typography.php	/^	var $skip_elements	= 'p|pre|ol|ul|dl|object|table|h\\d';$/;"	v
slIdx	application/controllers/order.php	/^            $slIdx = $i;$/;"	v
slash_item	system/core/Config.php	/^	function slash_item($item)$/;"	f
slash_rsegment	system/core/URI.php	/^	function slash_rsegment($n, $where = 'trailing')$/;"	f
slash_segment	system/core/URI.php	/^	function slash_segment($n, $where = 'trailing')$/;"	f
slideDown	system/libraries/Javascript.php	/^	function slideDown($element = 'this', $speed = '', $callback = '')$/;"	f
slideToggle	system/libraries/Javascript.php	/^	function slideToggle($element = 'this', $speed = '', $callback = '')$/;"	f
slideUp	system/libraries/Javascript.php	/^	function slideUp($element = 'this', $speed = '', $callback = '')$/;"	f
smiley_js	system/helpers/smiley_helper.php	/^	function smiley_js($alias = '', $field_id = '', $inline = TRUE)$/;"	f
smileys	application/config/smileys.php	/^$smileys = array($/;"	v
smileys	system/helpers/smiley_helper.php	/^			$smileys = $alias;$/;"	v
sms	application/controllers/bg/home.php	/^            $sms = trim($this->input->post("smsOrd"));$/;"	v
sms	application/controllers/checkcode.php	/^   public function sms($imgCode,$phone)$/;"	f
sms	application/controllers/reg.php	/^    $sms = trim($this->input->post("smschk"));$/;"	v
sms	application/controllers/test.php	/^    function sms(){$/;"	f
smsGet	application/controllers/checkcode.php	/^   public function smsGet()$/;"	f
smsInform	application/controllers/order.php	/^    \/\/public function smsInform($text,$selId)$/;"	f
smsInform	application/controllers/order.php	/^    public function smsInform($text,$phone)$/;"	f
smsed	application/controllers/checkcode.php	/^    private function smsed($phone){$/;"	f
smsed	application/controllers/order.php	/^                $smsed = $this->config->item("smsed");$/;"	v
smsed	application/controllers/order.php	/^        $this->smsed = 5;\/\/已经发送了短信，$/;"	v
smtp_crypto	system/libraries/Email.php	/^	var	$smtp_crypto	= "";		\/\/ SMTP Encryption. Can be null, tls or ssl.$/;"	v
smtp_host	system/libraries/Email.php	/^	var	$smtp_host		= "";		\/\/ SMTP Server.  Example: mail.earthlink.net$/;"	v
smtp_pass	system/libraries/Email.php	/^		if ($this->smtp_user == ""  AND  $this->smtp_pass == "")$/;"	v
smtp_pass	system/libraries/Email.php	/^	var	$smtp_pass		= "";		\/\/ SMTP Password$/;"	v
smtp_port	system/libraries/Email.php	/^	var	$smtp_port		= "25";		\/\/ SMTP Port$/;"	v
smtp_timeout	system/libraries/Email.php	/^	var	$smtp_timeout	= 5;		\/\/ SMTP Timeout in seconds$/;"	v
smtp_user	system/libraries/Email.php	/^	var	$smtp_user		= "";		\/\/ SMTP Username$/;"	v
sn	application/views/waimai2.php	/^    $sn = "storeName".rand(1,4);$/;"	v
so	system/libraries/Cart.php	/^		\/\/ Let's pass it to the Session class so it can be stored$/;"	c
sort_options	system/libraries/javascript/Jquery.php	/^			$sort_options = '';$/;"	v
sort_options	system/libraries/javascript/Jquery.php	/^			$sort_options = array();$/;"	v
sort_options	system/libraries/javascript/Jquery.php	/^			$sort_options = implode(",", $sort_options);$/;"	v
sortable	system/libraries/javascript/Jquery.php	/^	function sortable($element, $options = array())$/;"	f
source_dir	system/helpers/directory_helper.php	/^			$source_dir	= rtrim($source_dir, DIRECTORY_SEPARATOR).DIRECTORY_SEPARATOR;$/;"	v
source_dir	system/helpers/file_helper.php	/^				$source_dir = rtrim(realpath($source_dir), DIRECTORY_SEPARATOR).DIRECTORY_SEPARATOR;$/;"	v
source_folder	system/libraries/Image_lib.php	/^		$this->source_folder = str_replace($this->source_image, '', $full_source_path);$/;"	v
source_folder	system/libraries/Image_lib.php	/^	var $source_folder		= '';$/;"	v
source_image	system/libraries/Image_lib.php	/^		$this->source_image = end($x);$/;"	v
source_image	system/libraries/Image_lib.php	/^	var $source_image		= '';$/;"	v
spInf	application/controllers/order.php	/^    private function spInf($info)$/;"	f
spSendOrd	js/space.js	/^function spSendOrd(){$/;"	f
speed	system/libraries/Javascript.php	/^	function fadeIn($element = 'this', $speed = '', $callback = '')$/;"	v
speed	system/libraries/Javascript.php	/^	function fadeOut($element = 'this', $speed = '', $callback = '')$/;"	v
speed	system/libraries/Javascript.php	/^	function hide($element = 'this', $speed = '', $callback = '')$/;"	v
speed	system/libraries/Javascript.php	/^	function show($element = 'this', $speed = '', $callback = '')$/;"	v
speed	system/libraries/Javascript.php	/^	function slideDown($element = 'this', $speed = '', $callback = '')$/;"	v
speed	system/libraries/Javascript.php	/^	function slideToggle($element = 'this', $speed = '', $callback = '')$/;"	v
speed	system/libraries/Javascript.php	/^	function slideUp($element = 'this', $speed = '', $callback = '')$/;"	v
speed	system/libraries/Javascript.php	/^	function update($element = 'this', $speed = '', $callback = '')$/;"	v
speed	system/libraries/javascript/Jquery.php	/^			$speed = '"'.$speed.'"';$/;"	v
speed	system/libraries/javascript/Jquery.php	/^			$speed = '';$/;"	v
speed	system/libraries/javascript/Jquery.php	/^			$speed = ', '.$speed;$/;"	v
speed	system/libraries/javascript/Jquery.php	/^		$speed = $this->_validate_speed($speed);$/;"	v
speed	system/libraries/javascript/Jquery.php	/^	function _fadeIn($element = 'this', $speed = '', $callback = '')$/;"	v
speed	system/libraries/javascript/Jquery.php	/^	function _fadeOut($element = 'this', $speed = '', $callback = '')$/;"	v
speed	system/libraries/javascript/Jquery.php	/^	function _hide($element = 'this', $speed = '', $callback = '')$/;"	v
speed	system/libraries/javascript/Jquery.php	/^	function _show($element = 'this', $speed = '', $callback = '')$/;"	v
speed	system/libraries/javascript/Jquery.php	/^	function _slideDown($element = 'this', $speed = '', $callback = '')$/;"	v
speed	system/libraries/javascript/Jquery.php	/^	function _slideToggle($element = 'this', $speed = '', $callback = '')$/;"	v
speed	system/libraries/javascript/Jquery.php	/^	function _slideUp($element = 'this', $speed = '', $callback = '')$/;"	v
spf	js/item.js	/^        function spf(str){$/;"	f
split	system/helpers/date_helper.php	/^		$split = explode(' ', $datestr);$/;"	v
sql	application/controllers/map.php	/^		$sql = "";$/;"	v
sql	application/models/art.php	/^        $sql = "select art_id,value from art where ( title like '%$key%' or keyword like '%;$key;%' ) AND ( ".$sql." )";$/;"	v
sql	application/models/art.php	/^        $sql = "select title,content,time,price,img,author_id,visitor_num,comment_num,part_id from art where art_id  = $artId";$/;"	v
sql	application/models/art.php	/^        $sql="insert into art(title,content,part_id,time,author_id,value) values('$art_title','$art_text','$part_id',now(),'$user_id','$value')";$/;"	v
sql	application/models/art.php	/^        $sql="select art_id,title,author_id,time,comment_num,visitor_num,price,img from art  order by value  desc limit $data[id],$this->num";$/;"	v
sql	application/models/art.php	/^        $sql="select art_id,title,author_id,time,comment_num,visitor_num,price,img from art order by value  desc limit $page,$this->num";$/;"	v
sql	application/models/art.php	/^        $sql="select art_id,title,author_id,time,comment_num,visitor_num,price,img from art where part_id = $data[part_id] order by value  desc limit $data[id],$this->num";$/;"	v
sql	application/models/art.php	/^        $sql="select art_id,title,price,author_id,time,comment_num,visitor_num,price,img from art where unix_timestamp(time) >(unix_timestamp(now()) - 259200)";\/\/查看三天以内的$/;"	v
sql	application/models/comitem.php	/^        $sql = "insert into comItem(score,context,time,user_id,item_id,seller) values('$data[score]','$data[text]',date_format(now(),'%Y-%m-%d'),'$data[user_id]','$data[item_id]','$seller[author_id]')";$/;"	v
sql	application/models/comitem.php	/^        $sql = "update comItem set context = '".$cont."' where id = $comId";$/;"	v
sql	application/models/comitem.php	/^        $sql = "update comItem set context = concat( context,".'\\'&'.$data['text'].'|\\''.",date_format(now(),'%Y-%m-%d'),'".'|'.$data["userName"]."') where id = $comId";$/;"	v
sql	application/models/comment.php	/^			$sql="insert into comment(art_id,user_id,comment,reg_time) values($art_id,'$user_id','$comment',now())";$/;"	v
sql	application/models/comment.php	/^			$sql="select * from comment where comment_id = '$id' ";$/;"	v
sql	application/models/comment.php	/^			$sql="select comment_id,user_id,comment,reg_time from comment where art_id = '$artId' order by comment_id";$/;"	v
sql	application/models/img.php	/^        $sql="delete  from img where img_name  = '$name'"               ;$/;"	v
sql	application/models/img.php	/^        $sql="select * from img where img_id = '$img_id'";$/;"	v
sql	application/models/img.php	/^        $sql="select * from img";$/;"	v
sql	application/models/img.php	/^        $sql="select img_id from img where upload_name = '$name'";$/;"	v
sql	application/models/img.php	/^        $sql="select img_id from img where user_id = '$user_id'";$/;"	v
sql	application/models/img.php	/^        $sql="select img_id,upload_name,upload_time,img_name from img where user_id = $userId";$/;"	v
sql	application/models/img.php	/^        $sql="select img_name from img where img_id = '$img_id'";$/;"	v
sql	application/models/img.php	/^        $sql="update user set user_photo = '$name' where user_id = '$user_id'";$/;"	v
sql	application/models/mbgimglist.php	/^		$sql="delete  from img where img_name  = '$name'"				;$/;"	v
sql	application/models/mbgimglist.php	/^		$sql="select * from img where user_id = $userId";$/;"	v
sql	application/models/mbguserlist.php	/^						$sql="select * from user "				;$/;"	v
sql	application/models/meditor.php	/^				$sql="insert art values ('$id','','$title','$content',now())";$/;"	v
sql	application/models/meditor.php	/^				$sql="update art set title =  '$title' ,content = '$cont' ,time = 'now()' where art_id = '$id'";$/;"	v
sql	application/models/meditor.php	/^			\/\/	$sql="update art set title = '$title' ,content  = '$content' , time = 'now()' where art_id = $id";$/;"	v
sql	application/models/mess.php	/^		$sql="insert message(senderId,geterId,body,title,time) values('$data[sender]','$data[geterId]','$data[body]','$data[title]',now())";$/;"	v
sql	application/models/mess.php	/^		$sql="select * from message where geterId = $user_id && read_already = 'N'";$/;"	v
sql	application/models/mess.php	/^		$sql="select 1 from message where geterId = $user_id && read_already = 'N' limit 1";$/;"	v
sql	application/models/mhome.php	/^		$sql="select img_id from img where upload_name = '$name'";$/;"	v
sql	application/models/mhome.php	/^		$sql="update user set user_photo = '$name' where user_id = '$user_id'";$/;"	v
sql	application/models/mitem.php	/^        $sql = "insert into item(title,content,time,author_id,value,store_num,price,img,keyword,attr,promise) values('$data[title]','$data[content]',now(),'$data[author_id]','$data[value]','$data[store_num]','$data[price]','$data[img]','$data[keys]','$data[attr]','$data[promise]')";$/;"	v
sql	application/models/mitem.php	/^        $sql = "select id,title,price,author_id,img,visitor_num,judgescore from item where state = 0 order by value desc limit $startId,$this->num";$/;"	v
sql	application/models/mitem.php	/^        $sql = "select id,title,price,author_id,img,visitor_num,judgescore,keyword from item where author_id = $userId && state = 0";$/;"	v
sql	application/models/mitem.php	/^        $sql = "select id,value from item where MATCH(keyword,title) AGAINST('$key')";$/;"	v
sql	application/models/mitem.php	/^        $sql = "select title,content,price,author_id,img,judgescore,promise,attr,visitor_num,store_num,time from item where id = $id";$/;"	v
sql	application/models/mitem.php	/^        $sql = "select title,price,author_id,img,visitor_num,judgescore from item where id = $id";$/;"	v
sql	application/models/monline_user.php	/^		$sql = "delete from online_user where session_id = $sessionId"	;$/;"	v
sql	application/models/monline_user.php	/^		$sql = "select * from online_user where user_id  = $user_id";$/;"	v
sql	application/models/morder.php	/^        $sql = "insert into ord(info,seller,item_id,ordor) values('$data[info]','$data[author_id]','$data[itemId]','$data[ordor]')";$/;"	v
sql	application/models/morder.php	/^        $sql = "update ord set  state = $state,info = '$info',addr = '$addr' where id = $id && state < ".$state;$/;"	v
sql	application/models/mphoto.php	/^		$sql="select * from img where img_id = '$img_id'";$/;"	v
sql	application/models/mphoto.php	/^		$sql="select img_id from img where user_id = '$user_id'";$/;"	v
sql	application/models/mphoto.php	/^		$sql="select img_name from img where img_id = '$img_id'";$/;"	v
sql	application/models/mreg.php	/^						$sql="select user_name,user_id,user_passwd from user where user_name = '$name'";$/;"	v
sql	application/models/mreg.php	/^					$sql="insert into user(user_name,user_passwd,reg_time,user_level) values('$name','$passwd',now(),'1')";$/;"	v
sql	application/models/muser_home.php	/^		$sql="select * from  user where user_id = '$id' ";$/;"	v
sql	application/models/order.php	/^        $sql = "insert into ord(addr,info,seller,item_id,order) values('$data[addr]','$data[info]','$data[seller]','$data[itemId]','$data[ordor]')";$/;"	v
sql	application/models/user.php	/^        $sql = "insert into user(user_name,user_passwd,reg_time,user_photo,email,addr,intro,contract1,contract2,user_type,lng,lat,operst,opered,work) VALUES('$data[name]','$data[passwd]','$day','$data[photo]','$data[email]','$data[addr]','$data[intro]','$data[contract1]','$data[contract2]','$data[type]','".$data["pos"][0]."','".$data["pos"][1]."','".$data["st"]."','".$data["ed"]."','".$data["work"]."')";$/;"	v
sql	application/models/user.php	/^        $sql = "select user_id from user  where user_type = 1 && lng < '".$pos["st"]["lng"]."' && lat < '".$pos["st"]["lat"]."' && lng > '".$pos["en"]["lng"]."' && lat > '".$pos["en"]["lat"]."'";$/;"	v
sql	application/models/user.php	/^        $sql = "select user_id,user_name,user_photo,work,intro,operst,opered from user where user_name like '%送货%' || work like '%送货%'";$/;"	v
sql	application/models/user.php	/^        $sql = "update user set addr  = concat(addr,'".$addr."') where user_id = $userId";$/;"	v
sql	application/models/user.php	/^        $sql = "update user set user_name = '$data[name]',contract1 = '$data[contract1]',contract2 = '$data[contract2]',lng = '".$data["pos"][0]."',lat = '".$data["pos"][1]."',addr = '$data[addr]',user_passwd = '$data[passwd]',email = '$data[email]',intro = '$data[intro]',user_type = '$data[type]',user_photo = '$data[photo]' where user_id = '$userId'";$/;"	v
sql	application/models/user.php	/^        $sql="select * from user where user_id = $id";$/;"	v
sql	application/models/user.php	/^        $sql="select * from user";$/;"	v
sql	application/models/user.php	/^        $sql="select user_id,user_passwd from user where contract1 = '$phone'";$/;"	v
sql	application/models/user.php	/^        $sql="select user_id,user_passwd from user where user_name = '$name'";$/;"	v
sql	system/database/DB_active_rec.php	/^			$sql = $select_override;$/;"	v
sql	system/database/DB_active_rec.php	/^			$sql = $this->_insert_batch($this->_protect_identifiers($table, TRUE, NULL, FALSE), $this->ar_keys, array_slice($this->ar_set, $i, 100));$/;"	v
sql	system/database/DB_active_rec.php	/^			$sql = $this->_limit($sql, $this->ar_limit, $this->ar_offset);$/;"	v
sql	system/database/DB_active_rec.php	/^			$sql = $this->_update_batch($this->_protect_identifiers($table, TRUE, NULL, FALSE), array_slice($this->ar_set, $i, 100), $this->_protect_identifiers($index), $this->ar_where);$/;"	v
sql	system/database/DB_active_rec.php	/^			$sql = ( ! $this->ar_distinct) ? 'SELECT ' : 'SELECT DISTINCT ';$/;"	v
sql	system/database/DB_active_rec.php	/^		$sql = $this->_compile_select($this->_count_string . $this->_protect_identifiers('numrows'));$/;"	v
sql	system/database/DB_active_rec.php	/^		$sql = $this->_compile_select();$/;"	v
sql	system/database/DB_active_rec.php	/^		$sql = $this->_delete($table);$/;"	v
sql	system/database/DB_active_rec.php	/^		$sql = $this->_delete($table, $this->ar_where, $this->ar_like, $this->ar_limit);$/;"	v
sql	system/database/DB_active_rec.php	/^		$sql = $this->_insert($this->_protect_identifiers($table, TRUE, NULL, FALSE), array_keys($this->ar_set), array_values($this->ar_set));$/;"	v
sql	system/database/DB_active_rec.php	/^		$sql = $this->_replace($this->_protect_identifiers($table, TRUE, NULL, FALSE), array_keys($this->ar_set), array_values($this->ar_set));$/;"	v
sql	system/database/DB_active_rec.php	/^		$sql = $this->_truncate($table);$/;"	v
sql	system/database/DB_active_rec.php	/^		$sql = $this->_update($this->_protect_identifiers($table, TRUE, NULL, FALSE), $this->ar_set, $this->ar_where, $this->ar_orderby, $this->ar_limit);$/;"	v
sql	system/database/DB_active_rec.php	/^		$sql = $type.'('.$this->_protect_identifiers(trim($select)).') AS '.$alias;$/;"	v
sql	system/database/DB_driver.php	/^			$sql = $this->compile_binds($sql, $binds);$/;"	v
sql	system/database/DB_driver.php	/^			$sql = preg_replace("\/(\\W)".$this->swap_pre."(\\S+?)\/", "\\\\1".$this->dbprefix."\\\\2", $sql);$/;"	v
sql	system/database/DB_forge.php	/^			$sql = $this->_alter_table('ADD', $this->db->dbprefix.$table, $this->fields, $after_field);$/;"	v
sql	system/database/DB_forge.php	/^			$sql = $this->_alter_table('CHANGE', $this->db->dbprefix.$table, $this->fields);$/;"	v
sql	system/database/DB_forge.php	/^		$sql = $this->_alter_table('DROP', $this->db->dbprefix.$table, $column_name);$/;"	v
sql	system/database/DB_forge.php	/^		$sql = $this->_create_database($db_name);$/;"	v
sql	system/database/DB_forge.php	/^		$sql = $this->_create_table($this->db->dbprefix.$table, $this->fields, $this->primary_keys, $this->keys, $if_not_exists);$/;"	v
sql	system/database/DB_forge.php	/^		$sql = $this->_drop_database($db_name);$/;"	v
sql	system/database/DB_forge.php	/^		$sql = $this->_drop_table($this->db->dbprefix.$table_name);$/;"	v
sql	system/database/DB_forge.php	/^		$sql = $this->_rename_table($this->db->dbprefix.$table_name, $this->db->dbprefix.$new_table_name);$/;"	v
sql	system/database/DB_utility.php	/^			$sql = $this->_optimize_table($table_name);$/;"	v
sql	system/database/DB_utility.php	/^		$sql = $this->_optimize_table($table_name);$/;"	v
sql	system/database/DB_utility.php	/^		$sql = $this->_repair_table($table_name);$/;"	v
sql	system/database/drivers/cubrid/cubrid_driver.php	/^		$sql = "SHOW TABLES";$/;"	v
sql	system/database/drivers/cubrid/cubrid_driver.php	/^		$sql = "UPDATE ".$table." SET ".implode(', ', $valstr);$/;"	v
sql	system/database/drivers/cubrid/cubrid_driver.php	/^		$sql = "UPDATE ".$table." SET ";$/;"	v
sql	system/database/drivers/cubrid/cubrid_driver.php	/^		$sql = $this->_prep_query($sql);$/;"	v
sql	system/database/drivers/cubrid/cubrid_forge.php	/^		$sql = '';$/;"	v
sql	system/database/drivers/cubrid/cubrid_forge.php	/^		$sql = 'ALTER TABLE '.$this->db->_protect_identifiers($table)." $alter_type ";$/;"	v
sql	system/database/drivers/cubrid/cubrid_forge.php	/^		$sql = 'CREATE TABLE ';$/;"	v
sql	system/database/drivers/cubrid/cubrid_forge.php	/^		$sql = 'RENAME TABLE '.$this->db->_protect_identifiers($table_name)." AS ".$this->db->_protect_identifiers($new_table_name);$/;"	v
sql	system/database/drivers/mssql/mssql_driver.php	/^		$sql = "SELECT name FROM sysobjects WHERE type = 'U' ORDER BY name";$/;"	v
sql	system/database/drivers/mssql/mssql_driver.php	/^		$sql = "UPDATE ".$table." SET ".implode(', ', $valstr);$/;"	v
sql	system/database/drivers/mssql/mssql_driver.php	/^		$sql = $this->_prep_query($sql);$/;"	v
sql	system/database/drivers/mssql/mssql_driver.php	/^		$sql = ($ver >= 8 ? "SELECT SCOPE_IDENTITY() AS last_id" : "SELECT @@IDENTITY AS last_id");$/;"	v
sql	system/database/drivers/mssql/mssql_forge.php	/^		$sql = 'ALTER TABLE '.$this->db->_protect_identifiers($table)." $alter_type ".$this->db->_protect_identifiers($column_name);$/;"	v
sql	system/database/drivers/mssql/mssql_forge.php	/^		$sql = 'ALTER TABLE '.$this->db->_protect_identifiers($table_name)." RENAME TO ".$this->db->_protect_identifiers($new_table_name);$/;"	v
sql	system/database/drivers/mssql/mssql_forge.php	/^		$sql = 'CREATE TABLE ';$/;"	v
sql	system/database/drivers/mysql/mysql_driver.php	/^				$sql = preg_replace("\/^\\s*DELETE\\s+FROM\\s+(\\S+)\\s*$\/", "DELETE FROM \\\\1 WHERE 1=1", $sql);$/;"	v
sql	system/database/drivers/mysql/mysql_driver.php	/^		$sql = "SHOW TABLES FROM ".$this->_escape_char.$this->database.$this->_escape_char;$/;"	v
sql	system/database/drivers/mysql/mysql_driver.php	/^		$sql = "UPDATE ".$table." SET ".implode(', ', $valstr);$/;"	v
sql	system/database/drivers/mysql/mysql_driver.php	/^		$sql = "UPDATE ".$table." SET ";$/;"	v
sql	system/database/drivers/mysql/mysql_driver.php	/^		$sql = $this->_prep_query($sql);$/;"	v
sql	system/database/drivers/mysql/mysql_forge.php	/^		$sql = '';$/;"	v
sql	system/database/drivers/mysql/mysql_forge.php	/^		$sql = 'ALTER TABLE '.$this->db->_protect_identifiers($table)." $alter_type ";$/;"	v
sql	system/database/drivers/mysql/mysql_forge.php	/^		$sql = 'ALTER TABLE '.$this->db->_protect_identifiers($table_name)." RENAME TO ".$this->db->_protect_identifiers($new_table_name);$/;"	v
sql	system/database/drivers/mysql/mysql_forge.php	/^		$sql = 'CREATE TABLE ';$/;"	v
sql	system/database/drivers/mysqli/mysqli_driver.php	/^				$sql = preg_replace("\/^\\s*DELETE\\s+FROM\\s+(\\S+)\\s*$\/", "DELETE FROM \\\\1 WHERE 1=1", $sql);$/;"	v
sql	system/database/drivers/mysqli/mysqli_driver.php	/^		$sql = "SHOW TABLES FROM ".$this->_escape_char.$this->database.$this->_escape_char;$/;"	v
sql	system/database/drivers/mysqli/mysqli_driver.php	/^		$sql = "UPDATE ".$table." SET ".implode(', ', $valstr);$/;"	v
sql	system/database/drivers/mysqli/mysqli_driver.php	/^		$sql = "UPDATE ".$table." SET ";$/;"	v
sql	system/database/drivers/mysqli/mysqli_driver.php	/^		$sql = $this->_prep_query($sql);$/;"	v
sql	system/database/drivers/mysqli/mysqli_forge.php	/^		$sql = '';$/;"	v
sql	system/database/drivers/mysqli/mysqli_forge.php	/^		$sql = 'ALTER TABLE '.$this->db->_protect_identifiers($table)." $alter_type ";$/;"	v
sql	system/database/drivers/mysqli/mysqli_forge.php	/^		$sql = 'ALTER TABLE '.$this->db->_protect_identifiers($table_name)." RENAME TO ".$this->db->_protect_identifiers($new_table_name);$/;"	v
sql	system/database/drivers/mysqli/mysqli_forge.php	/^		$sql = 'CREATE TABLE ';$/;"	v
sql	system/database/drivers/oci8/oci8_driver.php	/^		$sql = "INSERT ALL\\n";$/;"	v
sql	system/database/drivers/oci8/oci8_driver.php	/^		$sql = "SELECT TABLE_NAME FROM ALL_TABLES";$/;"	v
sql	system/database/drivers/oci8/oci8_driver.php	/^		$sql = "UPDATE ".$table." SET ".implode(', ', $valstr);$/;"	v
sql	system/database/drivers/oci8/oci8_driver.php	/^		$sql = "begin $package.$procedure(";$/;"	v
sql	system/database/drivers/oci8/oci8_driver.php	/^		$sql = trim($sql, ",") . "); end;";$/;"	v
sql	system/database/drivers/oci8/oci8_forge.php	/^		$sql = 'ALTER TABLE '.$this->db->_protect_identifiers($table)." $alter_type ".$this->db->_protect_identifiers($column_name);$/;"	v
sql	system/database/drivers/oci8/oci8_forge.php	/^		$sql = 'ALTER TABLE '.$this->db->_protect_identifiers($table_name)." RENAME TO ".$this->db->_protect_identifiers($new_table_name);$/;"	v
sql	system/database/drivers/oci8/oci8_forge.php	/^		$sql = 'CREATE TABLE ';$/;"	v
sql	system/database/drivers/odbc/odbc_driver.php	/^		$sql = "SHOW TABLES FROM `".$this->database."`";$/;"	v
sql	system/database/drivers/odbc/odbc_driver.php	/^		$sql = "UPDATE ".$table." SET ".implode(', ', $valstr);$/;"	v
sql	system/database/drivers/odbc/odbc_driver.php	/^		$sql = $this->_prep_query($sql);$/;"	v
sql	system/database/drivers/odbc/odbc_forge.php	/^		$sql = 'ALTER TABLE '.$this->db->_protect_identifiers($table)." $alter_type ".$this->db->_protect_identifiers($column_name);$/;"	v
sql	system/database/drivers/odbc/odbc_forge.php	/^		$sql = 'ALTER TABLE '.$this->db->_protect_identifiers($table_name)." RENAME TO ".$this->db->_protect_identifiers($new_table_name);$/;"	v
sql	system/database/drivers/odbc/odbc_forge.php	/^		$sql = 'CREATE TABLE ';$/;"	v
sql	system/database/drivers/pdo/pdo_driver.php	/^				$sql='SELECT LASTVAL() as ins_id';$/;"	v
sql	system/database/drivers/pdo/pdo_driver.php	/^		$sql = "SHOW TABLES FROM `".$this->database."`";$/;"	v
sql	system/database/drivers/pdo/pdo_driver.php	/^		$sql = "UPDATE ".$table." SET ".implode(', ', $valstr);$/;"	v
sql	system/database/drivers/pdo/pdo_driver.php	/^		$sql = "UPDATE ".$table." SET ";$/;"	v
sql	system/database/drivers/pdo/pdo_driver.php	/^		$sql = $this->_prep_query($sql);$/;"	v
sql	system/database/drivers/pdo/pdo_forge.php	/^		$sql = 'ALTER TABLE '.$this->db->_protect_identifiers($table)." $alter_type ".$this->db->_protect_identifiers($column_name);$/;"	v
sql	system/database/drivers/pdo/pdo_forge.php	/^		$sql = 'ALTER TABLE '.$this->db->_protect_identifiers($table_name)." RENAME TO ".$this->db->_protect_identifiers($new_table_name);$/;"	v
sql	system/database/drivers/pdo/pdo_forge.php	/^		$sql = 'CREATE TABLE ';$/;"	v
sql	system/database/drivers/postgre/postgre_driver.php	/^			$sql = sprintf("SELECT CURRVAL('%s') as ins_id", $row->seq);$/;"	v
sql	system/database/drivers/postgre/postgre_driver.php	/^			$sql = sprintf("SELECT CURRVAL('%s') as ins_id", $table);$/;"	v
sql	system/database/drivers/postgre/postgre_driver.php	/^			$sql = sprintf("SELECT pg_get_serial_sequence('%s','%s') as seq", $table, $column);$/;"	v
sql	system/database/drivers/postgre/postgre_driver.php	/^			$sql='SELECT LASTVAL() as ins_id';$/;"	v
sql	system/database/drivers/postgre/postgre_driver.php	/^		$sql = "SELECT table_name FROM information_schema.tables WHERE table_schema = 'public'";$/;"	v
sql	system/database/drivers/postgre/postgre_driver.php	/^		$sql = "UPDATE ".$table." SET ".implode(', ', $valstr);$/;"	v
sql	system/database/drivers/postgre/postgre_driver.php	/^		$sql = $this->_prep_query($sql);$/;"	v
sql	system/database/drivers/postgre/postgre_forge.php	/^		$sql = 'ALTER TABLE '.$this->db->_protect_identifiers($table)." $alter_type ".$this->db->_protect_identifiers($column_name);$/;"	v
sql	system/database/drivers/postgre/postgre_forge.php	/^		$sql = 'ALTER TABLE '.$this->db->_protect_identifiers($table_name)." RENAME TO ".$this->db->_protect_identifiers($new_table_name);$/;"	v
sql	system/database/drivers/postgre/postgre_forge.php	/^		$sql = 'CREATE TABLE ';$/;"	v
sql	system/database/drivers/sqlite/sqlite_driver.php	/^		$sql = "SELECT name from sqlite_master WHERE type='table'";$/;"	v
sql	system/database/drivers/sqlite/sqlite_driver.php	/^		$sql = "UPDATE ".$table." SET ".implode(', ', $valstr);$/;"	v
sql	system/database/drivers/sqlite/sqlite_driver.php	/^		$sql = $this->_prep_query($sql);$/;"	v
sql	system/database/drivers/sqlite/sqlite_forge.php	/^		$sql = 'ALTER TABLE '.$this->db->_protect_identifiers($table)." $alter_type ".$this->db->_protect_identifiers($column_name);$/;"	v
sql	system/database/drivers/sqlite/sqlite_forge.php	/^		$sql = 'ALTER TABLE '.$this->db->_protect_identifiers($table_name)." RENAME TO ".$this->db->_protect_identifiers($new_table_name);$/;"	v
sql	system/database/drivers/sqlite/sqlite_forge.php	/^		$sql = 'CREATE TABLE ';$/;"	v
sql	system/database/drivers/sqlsrv/sqlsrv_driver.php	/^		$sql = $this->_prep_query($sql);$/;"	v
sql	system/database/drivers/sqlsrv/sqlsrv_forge.php	/^		$sql = 'ALTER TABLE '.$this->db->_protect_identifiers($table)." $alter_type ".$this->db->_protect_identifiers($column_name);$/;"	v
sql	system/database/drivers/sqlsrv/sqlsrv_forge.php	/^		$sql = 'ALTER TABLE '.$this->db->_protect_identifiers($table_name)." RENAME TO ".$this->db->_protect_identifiers($new_table_name);$/;"	v
sql	system/database/drivers/sqlsrv/sqlsrv_forge.php	/^		$sql = 'CREATE TABLE ';$/;"	v
sql2	application/models/user.php	/^            $sql2 = "select id from ord where seller = '$res[$i][user_id]'";$/;"	v
src	application/views/bghome.php	/^    $src = $siteUrl.('\/order\/ontime');$/;"	v
src	application/views/bghome.php	/^$src = $siteUrl.('\/bg\/wrong\/index');$/;"	v
src	system/helpers/html_helper.php	/^			$src = array('src' => $src);$/;"	v
src_img	system/libraries/Image_lib.php	/^		$src_img = $this->image_create_gd($this->full_src_path);$/;"	v
src_img	system/libraries/Image_lib.php	/^		if ( ! $src_img = $this->image_create_gd())$/;"	v
ssl	system/libraries/Email.php	/^			$ssl = 'ssl:\/\/';$/;"	v
ssl	system/libraries/Email.php	/^		$ssl = NULL;$/;"	v
standard_date	system/helpers/date_helper.php	/^	function standard_date($fmt = 'DATE_RFC822', $time = '')$/;"	f
start	application/controllers/checkcode.php	/^				$start = rand(0,40);$/;"	v
start	application/controllers/checkcode.php	/^		     $start = rand(200, 250);$/;"	v
start	application/views/home.php	/^        start: function(slider){$/;"	j
start	application/views/mainpage2.php	/^        start: function(slider){$/;"	j
start	system/libraries/Migration.php	/^		$start = $current_version = $this->_get_version();$/;"	v
start	system/libraries/Pagination.php	/^		$start = (($this->cur_page - $this->num_links) > 0) ? $this->cur_page - ($this->num_links - 1) : 1;$/;"	v
startId	application/models/mitem.php	/^        $startId = $startId*$this->num;$/;"	v
startUploadFiles	js/xheditor_plugins/multiupload/multiupload.js	/^function startUploadFiles()$/;"	f
start_cache	system/database/DB_active_rec.php	/^	public function start_cache()$/;"	f
start_day	system/libraries/Calendar.php	/^		$start_day = ( ! isset($start_days[$this->start_day])) ? 0 : $start_days[$this->start_day];$/;"	v
start_day	system/libraries/Calendar.php	/^	var $start_day		= 'sunday';$/;"	v
start_days	system/libraries/Calendar.php	/^		$start_days	= array('sunday' => 0, 'monday' => 1, 'tuesday' => 2, 'wednesday' => 3, 'thursday' => 4, 'friday' => 5, 'saturday' => 6);$/;"	v
state	application/views/myorder.php	/^    $state = $cart[$cnt]["state"];$/;"	v
stati	system/core/Common.php	/^		$stati = array($/;"	v
status	application/controllers/HttpClient.class.php	/^    	        $this->status = $m[2];$/;"	v
status	application/controllers/HttpClient.class.php	/^    var $status;$/;"	v
status	system/libraries/Email.php	/^			$status = $status >> 8 & 0xFF;$/;"	v
status	system/libraries/Email.php	/^		$status = pclose($fp);$/;"	v
status_code	system/core/Common.php	/^	function show_error($message, $status_code = 500, $heading = 'An Error Was Encountered')$/;"	v
status_string	application/controllers/HttpClient.class.php	/^    	        $status_string = $m[3]; \/\/ not used$/;"	v
step	system/libraries/Migration.php	/^			$step = -1;$/;"	v
step	system/libraries/Migration.php	/^			$step = 1;$/;"	v
sth	application/controllers/reg.php	/^        $sth = trim($this->input->post("opersth"));$/;"	v
stm	application/controllers/reg.php	/^        $stm = trim($this->input->post("operstm"));$/;"	v
stmt_id	system/database/DB_driver.php	/^			$this->stmt_id		= FALSE;$/;"	v
stmt_id	system/database/DB_driver.php	/^	var $stmt_id;$/;"	v
stmt_id	system/database/drivers/oci8/oci8_driver.php	/^			$this->stmt_id = oci_parse($this->conn_id, $this->_prep_query($sql));$/;"	v
stmt_id	system/database/drivers/oci8/oci8_driver.php	/^		$this->stmt_id = FALSE;$/;"	v
stmt_id	system/database/drivers/oci8/oci8_driver.php	/^	var $stmt_id;$/;"	v
stmt_id	system/database/drivers/oci8/oci8_result.php	/^	var $stmt_id;$/;"	v
stop	system/libraries/Migration.php	/^		$stop = $target_version;$/;"	v
stop_cache	system/database/DB_active_rec.php	/^	public function stop_cache()$/;"	f
store	js/mBgItemAdd.js	/^function store() {$/;"	f
stored	system/libraries/Cache/drivers/Cache_apc.php	/^		$stored = apc_fetch($id);$/;"	v
stored	system/libraries/Cache/drivers/Cache_memcached.php	/^		$stored = $this->_memcached->get($id);$/;"	v
stored_procedure	system/database/drivers/oci8/oci8_driver.php	/^	public function stored_procedure($package, $procedure, $params)$/;"	f
str	application/controllers/dsconfig.class.php	/^	$str = join('',explode('\\x',$str));$/;"	v
str	application/controllers/order.php	/^            $str = explode("|",$str);$/;"	v
str	application/controllers/order.php	/^        $str = trim($_GET["id"]);$/;"	v
str	application/models/user.php	/^            $str = explode("&",$str);$/;"	v
str	application/models/user.php	/^        $str = $this->enExtro($data);$/;"	v
str	application/models/user.php	/^        $str = addslashes($str);$/;"	v
str	application/models/user.php	/^        $str = stripslashes($str);$/;"	v
str	application/views/bgWrong.php	/^        $str = "打印出错：".$temp["content"]->pntState."<br\/>";$/;"	v
str	dsconfig.class.php	/^	$str = join('',explode('\\x',$str));$/;"	v
str	system/core/Common.php	/^			$str = preg_replace($non_displayables, '', $str, -1, $count);$/;"	v
str	system/core/Config.php	/^				$str = '';$/;"	v
str	system/core/Input.php	/^				$str = str_replace(array("\\r\\n", "\\r", "\\r\\n\\n"), PHP_EOL, $str);$/;"	v
str	system/core/Input.php	/^			$str = $this->security->xss_clean($str);$/;"	v
str	system/core/Input.php	/^			$str = $this->uni->clean_string($str);$/;"	v
str	system/core/Input.php	/^			$str = stripslashes($str);$/;"	v
str	system/core/Input.php	/^		$str = remove_invisible_characters($str);$/;"	v
str	system/core/Security.php	/^				$str = preg_replace("#<(\/*)(script|xss)(.*?)\\>#si", '[removed]', $str);$/;"	v
str	system/core/Security.php	/^				$str = preg_replace("\/<(\\\/?[^><]+?)([^A-Za-z\\-])(".implode('|', $attribs).")([\\s><])([><]*)\/i", '<$1$2$4$5', $str, -1, $count);$/;"	v
str	system/core/Security.php	/^				$str = preg_replace_callback("#<a\\s+([^>]*?)(>|$)#si", array($this, '_js_link_removal'), $str);$/;"	v
str	system/core/Security.php	/^				$str = preg_replace_callback("#<img\\s+([^>]*?)(\\s?\/?>|$)#si", array($this, '_js_img_removal'), $str);$/;"	v
str	system/core/Security.php	/^			$str = preg_replace("#".$key."#i", $val, $str);$/;"	v
str	system/core/Security.php	/^			$str = preg_replace('\/<\\?(php)\/i', "&lt;?\\\\1", $str);$/;"	v
str	system/core/Security.php	/^			$str = preg_replace_callback('#('.substr($temp, 0, -3).')(\\W)#is', array($this, '_compact_exploded_words'), $str);$/;"	v
str	system/core/Security.php	/^			$str = str_replace("\\t", ' ', $str);$/;"	v
str	system/core/Security.php	/^			$str = str_replace($key, $val, $str);$/;"	v
str	system/core/Security.php	/^			$str = str_replace(array('<?', '?'.'>'),  array('&lt;?', '?&gt;'), $str);$/;"	v
str	system/core/Security.php	/^		$str = $this->_do_never_allowed($str);$/;"	v
str	system/core/Security.php	/^		$str = $this->_remove_evil_attributes($str, $is_image);$/;"	v
str	system/core/Security.php	/^		$str = $this->_validate_entities($str);$/;"	v
str	system/core/Security.php	/^		$str = '&lt;'.$matches[1].$matches[2].$matches[3];$/;"	v
str	system/core/Security.php	/^		$str = html_entity_decode($str, ENT_COMPAT, $charset);$/;"	v
str	system/core/Security.php	/^		$str = preg_replace('#(&\\#?[0-9a-z]{2,})([\\x00-\\x20])*;?#i', "\\\\1;\\\\2", $str);$/;"	v
str	system/core/Security.php	/^		$str = preg_replace('#(&\\#x?)([0-9A-F]+);?#i',"\\\\1\\\\2;",$str);$/;"	v
str	system/core/Security.php	/^		$str = preg_replace('#(alert|cmd|passthru|eval|exec|expression|system|fopen|fsockopen|file|file_get_contents|readfile|unlink)(\\s*)\\((.*?)\\)#si', "\\\\1\\\\2&#40;\\\\3&#41;", $str);$/;"	v
str	system/core/Security.php	/^		$str = preg_replace('|\\&([a-z\\_0-9\\-]+)\\=([a-z\\_0-9\\-]+)|i', $this->xss_hash()."\\\\1=\\\\2", $str);$/;"	v
str	system/core/Security.php	/^		$str = preg_replace('~&#x(0*[0-9a-f]{2,5})~ei', 'chr(hexdec("\\\\1"))', $str);$/;"	v
str	system/core/Security.php	/^		$str = preg_replace_callback("\/<\\w+.*?(?=>|<|$)\/si", array($this, '_decode_entity'), $str);$/;"	v
str	system/core/Security.php	/^		$str = preg_replace_callback("\/[a-z]+=([\\'\\"]).*?\\\\1\/si", array($this, '_convert_attribute'), $str);$/;"	v
str	system/core/Security.php	/^		$str = preg_replace_callback('#<(\/*\\s*)('.$naughty.')([^><]*)([><]*)#is', array($this, '_sanitize_naughty_html'), $str);$/;"	v
str	system/core/Security.php	/^		$str = rawurldecode($str);$/;"	v
str	system/core/Security.php	/^		$str = remove_invisible_characters($str);$/;"	v
str	system/core/Security.php	/^		$str = remove_invisible_characters($str, FALSE);$/;"	v
str	system/core/Security.php	/^		$str = str_replace($this->xss_hash(), '&', $str);$/;"	v
str	system/core/URI.php	/^		$str = remove_invisible_characters($str, FALSE);$/;"	v
str	system/core/Utf8.php	/^			$str = @iconv($encoding, 'UTF-8', $str);$/;"	v
str	system/core/Utf8.php	/^			$str = @iconv('UTF-8', 'UTF-8\/\/IGNORE', $str);$/;"	v
str	system/core/Utf8.php	/^			$str = @mb_convert_encoding($str, 'UTF-8', $encoding);$/;"	v
str	system/database/DB_driver.php	/^			$str = "'".$this->escape_str($str)."'";$/;"	v
str	system/database/DB_driver.php	/^			$str = 'NULL';$/;"	v
str	system/database/DB_driver.php	/^			$str = ($str === FALSE) ? 0 : 1;$/;"	v
str	system/database/DB_driver.php	/^		$str = trim($str);$/;"	v
str	system/database/drivers/cubrid/cubrid_driver.php	/^				$str = $this->_escape_char. str_replace('.', $this->_escape_char.'.', $item);$/;"	v
str	system/database/drivers/cubrid/cubrid_driver.php	/^			$str = $this->_escape_char.$item.$this->_escape_char;$/;"	v
str	system/database/drivers/cubrid/cubrid_driver.php	/^			$str = $this->_escape_char.str_replace('.', $this->_escape_char.'.'.$this->_escape_char, $item).$this->_escape_char;$/;"	v
str	system/database/drivers/cubrid/cubrid_driver.php	/^			$str = addslashes($str);$/;"	v
str	system/database/drivers/cubrid/cubrid_driver.php	/^			$str = cubrid_real_escape_string($str, $this->conn_id);$/;"	v
str	system/database/drivers/cubrid/cubrid_driver.php	/^			$str = str_replace(array('%', '_'), array('\\\\%', '\\\\_'), $str);$/;"	v
str	system/database/drivers/mssql/mssql_driver.php	/^				$str = $this->_escape_char. str_replace('.', $this->_escape_char.'.', $item);$/;"	v
str	system/database/drivers/mssql/mssql_driver.php	/^			$str = $this->_escape_char.$item.$this->_escape_char;$/;"	v
str	system/database/drivers/mssql/mssql_driver.php	/^			$str = $this->_escape_char.str_replace('.', $this->_escape_char.'.'.$this->_escape_char, $item).$this->_escape_char;$/;"	v
str	system/database/drivers/mssql/mssql_driver.php	/^			$str = str_replace($/;"	v
str	system/database/drivers/mssql/mssql_driver.php	/^		$str = str_replace("'", "''", remove_invisible_characters($str));$/;"	v
str	system/database/drivers/mysql/mysql_driver.php	/^				$str = $this->_escape_char. str_replace('.', $this->_escape_char.'.', $item);$/;"	v
str	system/database/drivers/mysql/mysql_driver.php	/^			$str = $this->_escape_char.$item.$this->_escape_char;$/;"	v
str	system/database/drivers/mysql/mysql_driver.php	/^			$str = $this->_escape_char.str_replace('.', $this->_escape_char.'.'.$this->_escape_char, $item).$this->_escape_char;$/;"	v
str	system/database/drivers/mysql/mysql_driver.php	/^			$str = addslashes($str);$/;"	v
str	system/database/drivers/mysql/mysql_driver.php	/^			$str = mysql_escape_string($str);$/;"	v
str	system/database/drivers/mysql/mysql_driver.php	/^			$str = mysql_real_escape_string($str, $this->conn_id);$/;"	v
str	system/database/drivers/mysql/mysql_driver.php	/^			$str = str_replace(array('%', '_'), array('\\\\%', '\\\\_'), $str);$/;"	v
str	system/database/drivers/mysqli/mysqli_driver.php	/^				$str = $this->_escape_char. str_replace('.', $this->_escape_char.'.', $item);$/;"	v
str	system/database/drivers/mysqli/mysqli_driver.php	/^			$str = $this->_escape_char.$item.$this->_escape_char;$/;"	v
str	system/database/drivers/mysqli/mysqli_driver.php	/^			$str = $this->_escape_char.str_replace('.', $this->_escape_char.'.'.$this->_escape_char, $item).$this->_escape_char;$/;"	v
str	system/database/drivers/mysqli/mysqli_driver.php	/^			$str = addslashes($str);$/;"	v
str	system/database/drivers/mysqli/mysqli_driver.php	/^			$str = mysql_escape_string($str);$/;"	v
str	system/database/drivers/mysqli/mysqli_driver.php	/^			$str = mysqli_real_escape_string($this->conn_id, $str);$/;"	v
str	system/database/drivers/mysqli/mysqli_driver.php	/^			$str = str_replace(array('%', '_'), array('\\\\%', '\\\\_'), $str);$/;"	v
str	system/database/drivers/oci8/oci8_driver.php	/^				$str = $this->_escape_char. str_replace('.', $this->_escape_char.'.', $item);$/;"	v
str	system/database/drivers/oci8/oci8_driver.php	/^			$str = $this->_escape_char.$item.$this->_escape_char;$/;"	v
str	system/database/drivers/oci8/oci8_driver.php	/^			$str = $this->_escape_char.str_replace('.', $this->_escape_char.'.'.$this->_escape_char, $item).$this->_escape_char;$/;"	v
str	system/database/drivers/oci8/oci8_driver.php	/^			$str = str_replace(	array('%', '_', $this->_like_escape_chr),$/;"	v
str	system/database/drivers/oci8/oci8_driver.php	/^		$str = remove_invisible_characters($str);$/;"	v
str	system/database/drivers/odbc/odbc_driver.php	/^				$str = $this->_escape_char. str_replace('.', $this->_escape_char.'.', $item);$/;"	v
str	system/database/drivers/odbc/odbc_driver.php	/^			$str = $this->_escape_char.$item.$this->_escape_char;$/;"	v
str	system/database/drivers/odbc/odbc_driver.php	/^			$str = $this->_escape_char.str_replace('.', $this->_escape_char.'.'.$this->_escape_char, $item).$this->_escape_char;$/;"	v
str	system/database/drivers/odbc/odbc_driver.php	/^			$str = str_replace(	array('%', '_', $this->_like_escape_chr),$/;"	v
str	system/database/drivers/odbc/odbc_driver.php	/^		$str = remove_invisible_characters($str);$/;"	v
str	system/database/drivers/pdo/pdo_driver.php	/^				$str = $this->_escape_char. str_replace('.', $this->_escape_char.'.', $item);$/;"	v
str	system/database/drivers/pdo/pdo_driver.php	/^			$str = $this->_escape_char.$item.$this->_escape_char;$/;"	v
str	system/database/drivers/pdo/pdo_driver.php	/^			$str = $this->_escape_char.str_replace('.', $this->_escape_char.'.'.$this->_escape_char, $item).$this->_escape_char;$/;"	v
str	system/database/drivers/pdo/pdo_driver.php	/^			$str = str_replace(	array('%', '_', $this->_like_escape_chr),$/;"	v
str	system/database/drivers/pdo/pdo_driver.php	/^			$str = substr($str, 1, -1);$/;"	v
str	system/database/drivers/pdo/pdo_driver.php	/^		$str = $this->conn_id->quote($str);$/;"	v
str	system/database/drivers/postgre/postgre_driver.php	/^				$str = $this->_escape_char. str_replace('.', $this->_escape_char.'.', $item);$/;"	v
str	system/database/drivers/postgre/postgre_driver.php	/^			$str = $this->_escape_char.$item.$this->_escape_char;$/;"	v
str	system/database/drivers/postgre/postgre_driver.php	/^			$str = $this->_escape_char.str_replace('.', $this->_escape_char.'.'.$this->_escape_char, $item).$this->_escape_char;$/;"	v
str	system/database/drivers/postgre/postgre_driver.php	/^			$str = str_replace(	array('%', '_', $this->_like_escape_chr),$/;"	v
str	system/database/drivers/postgre/postgre_driver.php	/^		$str = pg_escape_string($str);$/;"	v
str	system/database/drivers/sqlite/sqlite_driver.php	/^				$str = $this->_escape_char. str_replace('.', $this->_escape_char.'.', $item);$/;"	v
str	system/database/drivers/sqlite/sqlite_driver.php	/^			$str = $this->_escape_char.$item.$this->_escape_char;$/;"	v
str	system/database/drivers/sqlite/sqlite_driver.php	/^			$str = $this->_escape_char.str_replace('.', $this->_escape_char.'.'.$this->_escape_char, $item).$this->_escape_char;$/;"	v
str	system/database/drivers/sqlite/sqlite_driver.php	/^			$str = str_replace(	array('%', '_', $this->_like_escape_chr),$/;"	v
str	system/database/drivers/sqlite/sqlite_driver.php	/^		$str = sqlite_escape_string($str);$/;"	v
str	system/helpers/captcha_helper.php	/^			$str = '';$/;"	v
str	system/helpers/date_helper.php	/^		$str = '';$/;"	v
str	system/helpers/form_helper.php	/^		$str = htmlspecialchars($str);$/;"	v
str	system/helpers/form_helper.php	/^		$str = str_replace(array("'", '"'), array("&#39;", "&quot;"), $str);$/;"	v
str	system/helpers/html_helper.php	/^		$str = '';$/;"	v
str	system/helpers/inflector_helper.php	/^		$str = 'x'.strtolower(trim($str));$/;"	v
str	system/helpers/inflector_helper.php	/^		$str = ucwords(preg_replace('\/[\\s_]+\/', ' ', $str));$/;"	v
str	system/helpers/security_helper.php	/^		$str = preg_replace("#<img\\s+.*?src\\s*=\\s*(.+?).*?\\>#", "\\\\1", $str);$/;"	v
str	system/helpers/security_helper.php	/^		$str = preg_replace("#<img\\s+.*?src\\s*=\\s*[\\"'](.+?)[\\"'].*?\\>#", "\\\\1", $str);$/;"	v
str	system/helpers/smiley_helper.php	/^			$str = str_replace($key, "<img src=\\"".$image_url.$smileys[$key][0]."\\" width=\\"".$smileys[$key][1]."\\" height=\\"".$smileys[$key][2]."\\" alt=\\"".$smileys[$key][3]."\\" style=\\"border:0;\\" \/>", $str);$/;"	v
str	system/helpers/string_helper.php	/^					$str = '';$/;"	v
str	system/helpers/string_helper.php	/^			$str = stripslashes($str);$/;"	v
str	system/helpers/string_helper.php	/^			$str = trim($str, $character);$/;"	v
str	system/helpers/string_helper.php	/^		$str = preg_replace('#'.preg_quote($character, '#').'{2,}#', $character, $str);$/;"	v
str	system/helpers/text_helper.php	/^				$str = preg_replace("\/({$delim})(".str_replace('\\*', '\\w*?', preg_quote($badword, '\/')).")({$delim})\/i", "\\\\1{$replacement}\\\\3", $str);$/;"	v
str	system/helpers/text_helper.php	/^				$str = preg_replace("\/({$delim})(".str_replace('\\*', '\\w*?', preg_quote($badword, '\/')).")({$delim})\/ie", "'\\\\1'.str_repeat('#', strlen('\\\\2')).'\\\\3'", $str);$/;"	v
str	system/helpers/text_helper.php	/^				$str = str_replace($matches['0'][$i], $out, $str);$/;"	v
str	system/helpers/text_helper.php	/^				$str = str_replace($matches['1'][$i], "{{unwrapped".$i."}}", $str);$/;"	v
str	system/helpers/text_helper.php	/^			$str = preg_replace('#color="(.*?)"#', 'style="color: \\\\1"', $str);$/;"	v
str	system/helpers/text_helper.php	/^			$str = str_replace(array("&amp;", "&lt;", "&gt;", "&quot;", "&apos;", "&#45;"),$/;"	v
str	system/helpers/text_helper.php	/^			$str = str_replace(array("\\r\\n", "\\r"), "\\n", $str);$/;"	v
str	system/helpers/text_helper.php	/^			$str = str_replace(array('<font ', '<\/font>'), array('<span ', '<\/span>'), $str);$/;"	v
str	system/helpers/text_helper.php	/^		$str = ' '.$str.' ';$/;"	v
str	system/helpers/text_helper.php	/^		$str = '<?php '.$str.' ?>'; \/\/ <?$/;"	v
str	system/helpers/text_helper.php	/^		$str = highlight_string($str, TRUE);$/;"	v
str	system/helpers/text_helper.php	/^		$str = preg_replace("\/\\s+\/", ' ', str_replace(array("\\r\\n", "\\r", "\\n"), ' ', $str));$/;"	v
str	system/helpers/text_helper.php	/^		$str = preg_replace("| +|", " ", $str);$/;"	v
str	system/helpers/text_helper.php	/^		$str = preg_replace('\/(<span style="color: #[A-Z0-9]+">.*?)\\?&gt;<\\\/span>\\n<\\\/span>\\n<\\\/code>\/is', "$1<\/span>\\n<\/span>\\n<\/code>", $str);$/;"	v
str	system/helpers/text_helper.php	/^		$str = preg_replace('\/<span style="color: #([A-Z0-9]+)">&lt;\\?php(&nbsp;| )\/i', '<span style="color: #$1">', $str);$/;"	v
str	system/helpers/text_helper.php	/^		$str = preg_replace('\/<span style="color: #[A-Z0-9]+"\\><\\\/span>\/i', '', $str);$/;"	v
str	system/helpers/text_helper.php	/^		$str = str_replace(array('&lt;', '&gt;'), array('<', '>'), $str);$/;"	v
str	system/helpers/text_helper.php	/^		$str = str_replace(array('<?', '?>', '<%', '%>', '\\\\', '<\/script>'),$/;"	v
str	system/helpers/text_helper.php	/^		$str = str_replace(array('phptagopen', 'phptagclose', 'asptagopen', 'asptagclose', 'backslashtmp', 'scriptclose'),$/;"	v
str	system/helpers/text_helper.php	/^		$str = trim(strip_tags($str));$/;"	v
str	system/helpers/text_helper.php	/^		$str = wordwrap($str, $charlim, "\\n", FALSE);$/;"	v
str	system/helpers/url_helper.php	/^					$str = str_replace($matches['0'][$i], safe_mailto($matches['1'][$i].'@'.$matches['2'][$i].'.'.$matches['3'][$i]).$period, $str);$/;"	v
str	system/helpers/url_helper.php	/^					$str = str_replace($matches['0'][$i],$/;"	v
str	system/helpers/url_helper.php	/^			$str = 'http:\/\/'.$str;$/;"	v
str	system/helpers/url_helper.php	/^			$str = preg_replace("#".$key."#i", $val, $str);$/;"	v
str	system/helpers/url_helper.php	/^			$str = strtolower($str);$/;"	v
str	system/helpers/url_helper.php	/^		$str = strip_tags($str);$/;"	v
str	system/helpers/url_helper.php	/^		if ($str == 'http:\/\/' OR $str == '')$/;"	v
str	system/helpers/xml_helper.php	/^			$str = preg_replace("\/$temp(\\w+);\/","&\\\\1;", $str);$/;"	v
str	system/helpers/xml_helper.php	/^			$str = preg_replace("\/&(\\w+);\/",  "$temp\\\\1;", $str);$/;"	v
str	system/helpers/xml_helper.php	/^		$str = preg_replace("\/$temp(\\d+);\/","&#\\\\1;",$str);$/;"	v
str	system/helpers/xml_helper.php	/^		$str = preg_replace("\/&#(\\d+);\/", "$temp\\\\1;", $str);$/;"	v
str	system/helpers/xml_helper.php	/^		$str = str_replace(array("&","<",">","\\"", "'", "-"),$/;"	v
str	system/libraries/Email.php	/^				$str = str_replace($matches['1'][$i], "{{unwrapped".$i."}}", $str);$/;"	v
str	system/libraries/Email.php	/^			$str = str_replace(array("\\r\\n", "\\r"), "\\n", $str);$/;"	v
str	system/libraries/Email.php	/^		$str = $output.$temp;$/;"	v
str	system/libraries/Email.php	/^		$str = preg_replace("| +|", " ", $str);$/;"	v
str	system/libraries/Email.php	/^		$str = preg_replace('\/\\x00+\/', '', $str);$/;"	v
str	system/libraries/Email.php	/^		$str = str_replace(array("\\r", "\\n"), array('', ''), $str);$/;"	v
str	system/libraries/Email.php	/^		$str = str_replace(array('{unwrap}', '{\/unwrap}'), '', $str);$/;"	v
str	system/libraries/Email.php	/^		$str = trim(preg_replace('\/^(.*)$\/m', ' =?'.$this->charset.'?Q?$1?=', $str));$/;"	v
str	system/libraries/Email.php	/^		$str = wordwrap($str, $charlim, "\\n", FALSE);$/;"	v
str	system/libraries/Encrypt.php	/^		$str = '';$/;"	v
str	system/libraries/Form_validation.php	/^			$str = 'http:\/\/'.$str;$/;"	v
str	system/libraries/Form_validation.php	/^		$str = '';$/;"	v
str	system/libraries/Form_validation.php	/^		if ($str == 'http:\/\/' OR $str == '')$/;"	v
str	system/libraries/Image_lib.php	/^		$str = '';$/;"	v
str	system/libraries/Javascript.php	/^			$str = $this->_open_script($external_file);$/;"	v
str	system/libraries/Javascript.php	/^			$str = $this->_open_script($this->CI->config->slash_item('base_url').$this->_javascript_location.$external_file);$/;"	v
str	system/libraries/Javascript.php	/^			$str = $this->_open_script($this->_javascript_location.$external_file);$/;"	v
str	system/libraries/Javascript.php	/^		$str = $this->_open_script();$/;"	v
str	system/libraries/Javascript.php	/^		$str = '<script type="text\/javascript" charset="'.strtolower($this->CI->config->item('charset')).'"';$/;"	v
str	system/libraries/Parser.php	/^		$str = '';$/;"	v
str	system/libraries/Sha1.php	/^			$str = '0'.$str;$/;"	v
str	system/libraries/Sha1.php	/^		$str = dechex($str);$/;"	v
str	system/libraries/Trackback.php	/^		$str = '';$/;"	v
str	system/libraries/Trackback.php	/^		$str = preg_replace("\/$temp(\\d+);\/","&#\\\\1;",$str);$/;"	v
str	system/libraries/Trackback.php	/^		$str = preg_replace("\/$temp(\\w+);\/","&\\\\1;", $str);$/;"	v
str	system/libraries/Trackback.php	/^		$str = preg_replace("\/&#(\\d+);\/", "$temp\\\\1;", $str);$/;"	v
str	system/libraries/Trackback.php	/^		$str = preg_replace("\/&(\\w+);\/",  "$temp\\\\1;", $str);$/;"	v
str	system/libraries/Trackback.php	/^		$str = preg_replace("\/\\s+\/", ' ', str_replace(array("\\r\\n", "\\r", "\\n"), ' ', $str));$/;"	v
str	system/libraries/Trackback.php	/^		$str = str_replace(array("&","<",">","\\"", "'", "-"),$/;"	v
str	system/libraries/Typography.php	/^					$str = str_replace($matches[0][$i], '{@HC'.$i.'}', $str);$/;"	v
str	system/libraries/Typography.php	/^			$str =  '<p>'.rtrim($str).'<\/p>';$/;"	v
str	system/libraries/Typography.php	/^			$str = preg_replace("\/\\n\\n+\/", "\\n\\n", $str);$/;"	v
str	system/libraries/Typography.php	/^			$str = preg_replace("\/^(.*?)<(".$this->block_elements.")\/i", '<p>$1<\/p><$2', $str);$/;"	v
str	system/libraries/Typography.php	/^			$str = preg_replace('#(?(?=<p>\\{@HC'.$i.'\\})<p>\\{@HC'.$i.'\\}(\\s*<\/p>)|\\{@HC'.$i.'\\})#s', $html_comments[$i], $str);$/;"	v
str	system/libraries/Typography.php	/^			$str = preg_replace_callback("#<pre.*?>.*?<\/pre>#si", array($this, '_protect_characters'), $str);$/;"	v
str	system/libraries/Typography.php	/^			$str = preg_replace_callback("#\\{.+?\\}#si", array($this, '_protect_characters'), $str);$/;"	v
str	system/libraries/Typography.php	/^			$str = str_replace(array("\\r\\n", "\\r"), "\\n", $str);$/;"	v
str	system/libraries/Typography.php	/^		$str = $this->format_characters($str);$/;"	v
str	system/libraries/Typography.php	/^		$str = '';$/;"	v
str	system/libraries/Typography.php	/^		$str = preg_replace("#<(\/*)(".$this->inline_elements.")([ >])#i", "{@TAG}\\\\1\\\\2\\\\3", $str);$/;"	v
str	system/libraries/Typography.php	/^		$str = preg_replace("\/([^\\n])(\\n)([^\\n])\/", "\\\\1<br \/>\\\\2\\\\3", $str);$/;"	v
str	system/libraries/Typography.php	/^		$str = preg_replace("\/<p><\\\/p>(.*)\/", "\\\\1", $str, 1);$/;"	v
str	system/libraries/Typography.php	/^		$str = preg_replace_callback("#<.+?>#si", array($this, '_protect_characters'), $str);$/;"	v
str	system/libraries/Typography.php	/^		$str = str_replace("\\n\\n", "<\/p>\\n\\n<p>", $str);$/;"	v
str	system/libraries/Upload.php	/^		$str = '';$/;"	v
str	system/libraries/Xmlrpcs.php	/^		$str  = is_string($err) ? $this->xmlrpcstr["multicall_${err}"] : $err->faultString();$/;"	v
str	system/libraries/javascript/Jquery.php	/^		$str  = "$({$element}).addClass(\\"$class\\");";$/;"	v
str	system/libraries/javascript/Jquery.php	/^		$str  = "$({$element}).animate({\\n$animations\\n\\t\\t}".$speed.$extra.");";$/;"	v
str	system/libraries/javascript/Jquery.php	/^		$str  = "$({$element}).fadeIn({$speed}{$callback});";$/;"	v
str	system/libraries/javascript/Jquery.php	/^		$str  = "$({$element}).fadeOut({$speed}{$callback});";$/;"	v
str	system/libraries/javascript/Jquery.php	/^		$str  = "$({$element}).hide({$speed}{$callback});";$/;"	v
str	system/libraries/javascript/Jquery.php	/^		$str  = "$({$element}).removeClass(\\"$class\\");";$/;"	v
str	system/libraries/javascript/Jquery.php	/^		$str  = "$({$element}).show({$speed}{$callback});";$/;"	v
str	system/libraries/javascript/Jquery.php	/^		$str  = "$({$element}).slideDown({$speed}{$callback});";$/;"	v
str	system/libraries/javascript/Jquery.php	/^		$str  = "$({$element}).slideToggle({$speed}{$callback});";$/;"	v
str	system/libraries/javascript/Jquery.php	/^		$str  = "$({$element}).slideUp({$speed}{$callback});";$/;"	v
str	system/libraries/javascript/Jquery.php	/^		$str  = "$({$element}).toggle();";$/;"	v
str	system/libraries/javascript/Jquery.php	/^		$str  = "$({$element}).toggleClass(\\"$class\\");";$/;"	v
strict	system/libraries/Unit_test.php	/^		$this->strict = ($state == FALSE) ? FALSE : TRUE;$/;"	v
strict	system/libraries/Unit_test.php	/^	var $strict					= FALSE;$/;"	v
string	system/libraries/Encrypt.php	/^		$string = $this->_xor_merge($string, $key);$/;"	v
strip_image_tags	system/helpers/security_helper.php	/^	function strip_image_tags($str)$/;"	f
strip_image_tags	system/libraries/Form_validation.php	/^	public function strip_image_tags($str)$/;"	f
strip_js_event_handlers	system/helpers/typography_helper.php	/^	function auto_typography($str, $strip_js_event_handlers = TRUE, $reduce_linebreaks = FALSE)$/;"	v
strip_quotes	system/helpers/string_helper.php	/^	function strip_quotes($str)$/;"	f
strip_slashes	system/helpers/string_helper.php	/^	function strip_slashes($str)$/;"	f
sub	js/msea.js	/^    var sub = $("#sub"),sea = $("#sea");$/;"	v
sub	js/order.js	/^function sub(){$/;"	f
subCom	js/art.js	/^function subCom() {$/;"	f
subclass	system/core/Loader.php	/^			$subclass = APPPATH.'libraries\/'.$subdir.config_item('subclass_prefix').$class.'.php';$/;"	v
subdir	system/core/Loader.php	/^			$subdir = substr($class, 0, $last_slash + 1);$/;"	v
subdir	system/core/Loader.php	/^		$subdir = '';$/;"	v
subject	system/helpers/email_helper.php	/^	function send_email($recipient, $subject = 'Test email', $message = 'Hello World')$/;"	v
subject	system/libraries/Email.php	/^		$subject = $this->_prep_q_encoding($subject);$/;"	v
subject	system/libraries/Email.php	/^	public function subject($subject)$/;"	f
submitForm	application/views/Cwrite.php	/^function submitForm(){$('#frmDemo').submit();}$/;"	f
submitForm	application/views/mBgItemAdd.php	/^function submitForm(){$('#frmDemo').submit();}$/;"	f
submitForm	application/views/messwrite.php	/^function submitForm(){$('#frmDemo').submit();}$/;"	f
submitForm	application/views/uploadxhe.php	/^function submitForm(){$('#frmDemo').submit();}$/;"	f
submitForm	application/views/wChange.php	/^function submitForm(){$('#frmDemo').submit();}$/;"	f
submitForm	application/views/write.php	/^function submitForm(){$('#frmDemo').submit();}$/;"	f
success	application/views/bgcom.php	/^            success:function  (data) {$/;"	j
success	js/change2.js	/^function success(opt) {$/;"	f
success.opts.title	js/change2.js	/^	var opts = {title:"<i style = 'font-size:10px'>贴心小提示:可以右键修改位置哦<\/i>"}$/;"	p
success.opts.title	js/msea.js	/^        var opts = {title:"<i style = 'font-size:10px'>贴心小提示:可以右键修改位置哦<\/i>"}$/;"	p
suffix	system/core/Config.php	/^			$suffix = ($this->item('url_suffix') == FALSE) ? '' : $this->item('url_suffix');$/;"	v
suffix	system/helpers/form_helper.php	/^	function validation_errors($prefix = '', $suffix = '')$/;"	v
suffix	system/libraries/Form_validation.php	/^			$suffix = $this->_error_suffix;$/;"	v
suffix	system/libraries/Form_validation.php	/^	public function error_string($prefix = '', $suffix = '')$/;"	v
suffix	system/libraries/Form_validation.php	/^	public function set_error_delimiters($prefix = '<p>', $suffix = '<\/p>')$/;"	v
suffix	system/libraries/Pagination.php	/^	var $suffix				= ''; \/\/ A custom suffix added to the path.$/;"	v
support	system/libraries/Cache/Cache.php	/^		static $support = array();$/;"	v
supress_debug	system/libraries/Ftp.php	/^			if ($this->debug == TRUE AND $supress_debug == FALSE)$/;"	v
supress_debug	system/libraries/Ftp.php	/^	function changedir($path = '', $supress_debug = FALSE)$/;"	v
swap	system/database/DB_driver.php	/^	function display_error($error = '', $swap = '', $native = FALSE)$/;"	v
swap_pre	system/database/DB_driver.php	/^	var $swap_pre		= '';$/;"	v
swfu	js/xheditor_plugins/multiupload/multiupload.js	/^var swfu,selQueue=[],selectID,arrMsg=[],allSize=0,uploadSize=0;$/;"	v
symbolic	system/helpers/file_helper.php	/^			$symbolic = '-'; \/\/ Regular$/;"	v
symbolic	system/helpers/file_helper.php	/^			$symbolic = 'b'; \/\/ Block special$/;"	v
symbolic	system/helpers/file_helper.php	/^			$symbolic = 'c'; \/\/ Character special$/;"	v
symbolic	system/helpers/file_helper.php	/^			$symbolic = 'd'; \/\/ Directory$/;"	v
symbolic	system/helpers/file_helper.php	/^			$symbolic = 'l'; \/\/ Symbolic Link$/;"	v
symbolic	system/helpers/file_helper.php	/^			$symbolic = 'p'; \/\/ FIFO pipe$/;"	v
symbolic	system/helpers/file_helper.php	/^			$symbolic = 's'; \/\/ Socket$/;"	v
symbolic	system/helpers/file_helper.php	/^			$symbolic = 'u'; \/\/ Unknown$/;"	v
symbolic_permissions	system/helpers/file_helper.php	/^	function symbolic_permissions($perms)$/;"	f
system_call	system/libraries/Xmlrpcs.php	/^			if ($method_parts[0] == "this" && $system_call == TRUE)$/;"	v
system_call	system/libraries/Xmlrpcs.php	/^		$system_call = (strncmp($methName, 'system', 5) == 0) ? TRUE : FALSE;$/;"	v
system_methods	system/libraries/Xmlrpcs.php	/^	var $system_methods = array();	\/\/ XML RPC Server methods$/;"	v
system_path	index.php	/^		$system_path = realpath($system_path).'\/';$/;"	v
system_path	index.php	/^	$system_path = 'system';$/;"	v
system_path	index.php	/^	$system_path = rtrim($system_path, '\/').'\/';$/;"	v
system_time	system/helpers/date_helper.php	/^				$system_time = time();$/;"	v
system_time	system/helpers/date_helper.php	/^			$system_time = mktime(gmdate("H", $now), gmdate("i", $now), gmdate("s", $now), gmdate("m", $now), gmdate("d", $now), gmdate("Y", $now));$/;"	v
system_url	system/core/Config.php	/^	function system_url()$/;"	f
t	system/libraries/Sha1.php	/^				$t = $this->_safe_add($this->_safe_add($this->_rol($a, 5), $this->_ft($j, $b, $c, $d)), $this->_safe_add($this->_safe_add($e, $w[$j]), $this->_kt($j)));$/;"	v
t	system/libraries/Xmlrpc.php	/^				$t = gmstrftime("%Y%m%dT%H:%i:%s", $time);$/;"	v
t	system/libraries/Xmlrpc.php	/^				$t = strftime("%Y%m%dT%H:%i:%s", $time - date('Z'));$/;"	v
t	system/libraries/Xmlrpc.php	/^			$t = $fnc($regs[4], $regs[5], $regs[6], $regs[2], $regs[3], $regs[1]);$/;"	v
t	system/libraries/Xmlrpc.php	/^			$t = strftime("%Y%m%dT%H:%i:%s", $time);$/;"	v
t	system/libraries/Xmlrpc.php	/^		$t = 0;$/;"	v
table	system/database/DB_active_rec.php	/^			$table = $this->_protect_identifiers($table, TRUE, NULL, FALSE);$/;"	v
table	system/database/DB_active_rec.php	/^			$table = $this->ar_from[0];$/;"	v
table	system/database/DB_active_rec.php	/^			$table = preg_replace('\/\\s+AS\\s+\/i', ' ', $table);$/;"	v
table	system/database/DB_active_rec.php	/^			$table = trim(strrchr($table, " "));$/;"	v
table	system/database/drivers/pdo/pdo_driver.php	/^			$table	= func_num_args() > 0 ? func_get_arg(0) : NULL;$/;"	v
table	system/database/drivers/postgre/postgre_driver.php	/^		$table	= func_num_args() > 0 ? func_get_arg(0) : NULL;$/;"	v
table	system/libraries/Typography.php	/^			$table = array($/;"	v
table	system/libraries/Typography.php	/^		$table = array($/;"	v
table	system/libraries/Typography.php	/^		static $table;$/;"	v
table	system/libraries/Unit_test.php	/^			$table = '';$/;"	v
tablePrimaryKeys	system/database/drivers/cubrid/cubrid_result.php	/^		$tablePrimaryKeys = array();$/;"	v
table_exists	system/database/DB_driver.php	/^	function table_exists($table_name)$/;"	f
tables	system/database/drivers/cubrid/cubrid_driver.php	/^			$tables = array($tables);$/;"	v
tables	system/database/drivers/mssql/mssql_driver.php	/^			$tables = array($tables);$/;"	v
tables	system/database/drivers/mysql/mysql_driver.php	/^			$tables = array($tables);$/;"	v
tables	system/database/drivers/mysqli/mysqli_driver.php	/^			$tables = array($tables);$/;"	v
tables	system/database/drivers/oci8/oci8_driver.php	/^			$tables = array($tables);$/;"	v
tables	system/database/drivers/odbc/odbc_driver.php	/^			$tables = array($tables);$/;"	v
tables	system/database/drivers/pdo/pdo_driver.php	/^			$tables = array($tables);$/;"	v
tables	system/database/drivers/postgre/postgre_driver.php	/^			$tables = array($tables);$/;"	v
tables	system/database/drivers/sqlite/sqlite_driver.php	/^			$tables = array($tables);$/;"	v
tables	system/database/drivers/sqlsrv/sqlsrv_driver.php	/^			$tables = array($tables);$/;"	v
tablesorter	system/libraries/javascript/Jquery.php	/^	function tablesorter($table = '', $options = '')$/;"	f
tag_open	system/helpers/text_helper.php	/^	function highlight_phrase($str, $phrase, $tag_open = '<strong>', $tag_close = '<\/strong>')$/;"	v
takes	system/core/Exceptions.php	/^	 * This function takes an error message as input$/;"	f
takes	system/core/Router.php	/^	 * This function takes an array of URI segments as$/;"	f
takes	system/libraries/Form_validation.php	/^	 * This function takes an array of field names and validation$/;"	f
takes	system/libraries/Image_lib.php	/^	 * This function takes a known width x height and$/;"	f
takes	system/libraries/Upload.php	/^	 * This function takes a filename\/path as input and looks for the$/;"	f
target	application/controllers/reg.php	/^                $target = site_url("mainpage");$/;"	v
target	application/controllers/reg.php	/^            $target = trim($this->input->post("target"));$/;"	v
target	system/libraries/Trackback.php	/^		$target = parse_url($url);$/;"	v
targetPath	application/controllers/write.php	/^                    $targetPath = $attachDir.'\/'.$newFilename;$/;"	v
targetPath	application/controllers/write.php	/^                    $targetPath=base_url("").$this->jsonString($targetPath);$/;"	v
tb_array	system/libraries/Trackback.php	/^			$tb_array = explode('=', $tb_end);$/;"	v
tb_array	system/libraries/Trackback.php	/^			$tb_array = explode('\/', $url);$/;"	v
tb_end	system/libraries/Trackback.php	/^				$tb_end  = $tb_array[count($tb_array)-2];$/;"	v
tb_end	system/libraries/Trackback.php	/^			$tb_end   = $tb_array[count($tb_array)-1];$/;"	v
tb_id	system/libraries/Trackback.php	/^				$tb_id  = $tb_array[count($tb_array)-2];$/;"	v
tb_id	system/libraries/Trackback.php	/^			$tb_id	= $tb_array[count($tb_array)-1];$/;"	v
tb_id	system/libraries/Trackback.php	/^		$tb_id = "";$/;"	v
temp	application/controllers/bg/imglist.php	/^                    $temp=$this->upload->data();$/;"	v
temp	application/controllers/bg/item.php	/^            $temp  = $this->mitem->getTitle($com[$i]["item_id"]);$/;"	v
temp	application/controllers/bg/wrong.php	/^                    $temp = $wrong[$i]["content"];$/;"	v
temp	application/controllers/home.php	/^                $temp  = preg_split("\/\\s\/",$ans[$i]["time"]);$/;"	v
temp	application/controllers/home.php	/^            $temp = $this->user->getNum($user_id);$/;"	v
temp	application/controllers/item.php	/^            $temp = $this->user->getPubById($comt[$i]["user_id"]);$/;"	v
temp	application/controllers/item.php	/^            $temp = explode(":",$attr[$i]);$/;"	v
temp	application/controllers/mainpage.php	/^                $temp  = preg_split("\/\\s\/",$ans[$i]["time"]);$/;"	v
temp	application/controllers/mainpage.php	/^            $temp = $this->user->getNum($user_id);$/;"	v
temp	application/controllers/mainpage.php	/^        $temp = @$_COOKIE["uri"];$/;"	v
temp	application/controllers/map.php	/^			$temp = $this->art->getIdMap($key[$i],$sql);$/;"	v
temp	application/controllers/map.php	/^			$temp= $this->art->getSeaResById($id[$i]);$/;"	v
temp	application/controllers/map.php	/^		$temp = preg_split("\/\\|\/",$temp);$/;"	v
temp	application/controllers/map.php	/^		$temp = trim($_GET["p"]);\/\/p position,前面为右上角的位置，后面为坐下的位置$/;"	v
temp	application/controllers/message.php	/^		$temp = $this->user->getNess($this->user_id);$/;"	v
temp	application/controllers/message.php	/^		$temp = trim($this->input->post("geter"));\/\/名字的接收两种情况，一种是直接的用户名，一种是夹杂了id的，第一种要向数据库查找，大部分情况下为第二种，直接读出来其中的id就可以了$/;"	v
temp	application/controllers/order.php	/^                $temp = $cart["info"];\/\/对info的的风格$/;"	v
temp	application/controllers/order.php	/^                $temp = $ordInfo[$i];$/;"	v
temp	application/controllers/order.php	/^                $temp = explode("&",$info["info"]);$/;"	v
temp	application/controllers/order.php	/^                $temp = explode("&",$ordInfo[$cnt]["info"]);$/;"	v
temp	application/controllers/order.php	/^            $temp = $arr[$i];$/;"	v
temp	application/controllers/order.php	/^            $temp = $this->mitem->getTitle($ans[$i]["item_id"]);$/;"	v
temp	application/controllers/order.php	/^            $temp = $this->user->getNameById($ans[$i]["ordor"]);$/;"	v
temp	application/controllers/order.php	/^        $temp = $this->addrDecode($inf);\/\/用户保存的地址id中记录的就是addrdecode 生成的地址列表中的下标号码$/;"	v
temp	application/controllers/reg.php	/^            $temp = $temp[0];$/;"	v
temp	application/controllers/reg.php	/^            $temp=$this->upload->data();$/;"	v
temp	application/controllers/reg.php	/^        $temp = $this->regInfoCheck();\/\/除了图片,用户名，手机号码，等不允许重复的之外，所有的都在这里取得和检查$/;"	v
temp	application/controllers/reg.php	/^        $temp = $this->user->getNess($userId);$/;"	v
temp	application/controllers/reg.php	/^        $temp=$_FILES['userfile']['name'];        \/\/ 当图片名称超过100的长度的时候，就会出现问题，为了系统的安全，所以需要在客户端进行判断$/;"	v
temp	application/controllers/reg.php	/^    $temp = $this->ans_upload();$/;"	v
temp	application/controllers/sea.php	/^                $temp = $this->mitem->getIdByKey($key[$i]);$/;"	v
temp	application/controllers/sea.php	/^            $temp = $this->mitem->getMin($id[$i]);\/\/通过id获得内容$/;"	v
temp	application/controllers/search.php	/^			$temp = $this->art->getIdByKey($key[$i],$partId);$/;"	v
temp	application/controllers/search.php	/^			$temp = $this->art->getSeaResById($id[$i]);$/;"	v
temp	application/controllers/search.php	/^		$temp= 1 ;$/;"	v
temp	application/controllers/sec.php	/^			$temp = $this->art->getMaster($artId);\/\/找到帖子的主人，告诉他，添加了一个评论$/;"	v
temp	application/controllers/sec.php	/^			$temp = $this->user->getNess($this->user_id);$/;"	v
temp	application/controllers/sec.php	/^			$temp = $this->user->getUpdate($this->user_id);$/;"	v
temp	application/controllers/showart.php	/^            $temp = $this->art->getMaster($artId);\/\/找到帖子的主人，告诉他，添加了一个评论$/;"	v
temp	application/controllers/showart.php	/^            $temp = $this->user->getNess($this->user_id);$/;"	v
temp	application/controllers/showart.php	/^            $temp = $this->user->getUpdate($this->user_id);$/;"	v
temp	application/controllers/space.php	/^                $temp = $this->art->getSeaResById($key);$/;"	v
temp	application/controllers/spacePhoto.php	/^			$temp = $this->user->getNess($ans["judge"][$i]["userId"]);$/;"	v
temp	application/controllers/spacePhoto.php	/^			$temp = $this->user->getNess($this->user_id);$/;"	v
temp	application/controllers/spacePhoto.php	/^		$temp = $this->user->getNess($mastId);$/;"	v
temp	application/controllers/userspace/user_photo.php	/^					$temp=$this->upload->data();$/;"	v
temp	application/controllers/write.php	/^            $temp = $this->insertJudge();$/;"	v
temp	application/controllers/write.php	/^        $temp = "";$/;"	v
temp	application/controllers/write.php	/^        $temp = ";";$/;"	v
temp	application/controllers/write.php	/^        $temp = $this->insertJudge();$/;"	v
temp	application/core/MY_Controller.php	/^                    $temp=$this->upload->data();$/;"	v
temp	application/models/art.php	/^                $temp = $this->user->getNameById($res[$i]["author_id"]);$/;"	v
temp	application/models/comitem.php	/^            $temp = explode("&",$arr[$i]["context"]);$/;"	v
temp	application/models/mitem.php	/^            $temp = $res[$i];$/;"	v
temp	application/models/mitem.php	/^            $temp = $res[$i]["img"];$/;"	v
temp	application/models/mitem.php	/^            $temp = $temp->result_array();$/;"	v
temp	application/models/mitem.php	/^            $temp = $this->db->query("select  count(*) from ord where item_id = ".$res[$i]['id']);$/;"	v
temp	application/models/mitem.php	/^            $temp = $this->db->query("select count(*) from comItem where item_id = ".$res[$i]['id']);$/;"	v
temp	application/models/mitem.php	/^            $temp = $this->db->query("select count(*) from comItem where item_id = $temp[id]");$/;"	v
temp	application/models/mitem.php	/^            $temp = explode("|",$temp);$/;"	v
temp	application/models/mitem.php	/^        $temp = $temp->result_array();$/;"	v
temp	application/models/mitem.php	/^        $temp = $this->db->query("select count(*) from comItem where item_id = $id");$/;"	v
temp	application/models/mitem.php	/^        $temp = $this->db->query("select count(*) from ord where item_id = $id && state");$/;"	v
temp	application/models/morder.php	/^            $temp = explode("|",$temp[1]);$/;"	v
temp	application/models/morder.php	/^        $temp = explode("&",$str);$/;"	v
temp	application/models/user.php	/^            $temp = explode(",",$str);$/;"	v
temp	application/views/bgWrong.php	/^    $temp = $wrong[$i];$/;"	v
temp	application/views/bgart.php	/^                $temp = $art[$i];$/;"	v
temp	application/views/histOrder.php	/^            $temp = $order[$i];$/;"	v
temp	application/views/item.php	/^                    <?php $temp = $comt[$i]?>$/;"	v
temp	application/views/m-bg-userlist.php	/^    $temp = $userall[$i];$/;"	v
temp	application/views/onTimeOrder.php	/^                $temp = $order[$i];$/;"	v
temp	application/views/userSpace.php	/^                    $temp = "";$/;"	v
temp	application/views/userSpace.php	/^    $temp = $cont[$i];$/;"	v
temp	application/views/waimai.php	/^    $temp = $shop[$i];$/;"	v
temp	application/views/waimai2.php	/^    $temp = $shop[$i];$/;"	v
temp	js/item.js	/^        var temp,price = $("#price"),tStore = $("#tS"),len = Array();$/;"	v
temp	system/core/Security.php	/^			$temp = '';$/;"	v
temp	system/core/URI.php	/^		$temp = array();$/;"	v
temp	system/database/DB_active_rec.php	/^			$temp = array();$/;"	v
temp	system/helpers/text_helper.php	/^					$temp = array();$/;"	v
temp	system/helpers/text_helper.php	/^			$temp = '';$/;"	v
temp	system/helpers/text_helper.php	/^		$temp	= array();$/;"	v
temp	system/helpers/url_helper.php	/^					$temp = array();$/;"	v
temp	system/helpers/url_helper.php	/^		$temp = array();$/;"	v
temp	system/helpers/xml_helper.php	/^		$temp = '__TEMP_AMPERSANDS__';$/;"	v
temp	system/libraries/Calendar.php	/^						$temp = ($is_current_month == TRUE AND $day == $cur_day) ? $this->temp['cal_cell_content_today'] : $this->temp['cal_cell_content'];$/;"	v
temp	system/libraries/Calendar.php	/^						$temp = ($is_current_month == TRUE AND $day == $cur_day) ? $this->temp['cal_cell_no_content_today'] : $this->temp['cal_cell_no_content'];$/;"	v
temp	system/libraries/Calendar.php	/^		$this->temp = $this->default_template();$/;"	v
temp	system/libraries/Email.php	/^					$temp = '';$/;"	v
temp	system/libraries/Email.php	/^				$temp = '';$/;"	v
temp	system/libraries/Email.php	/^			$temp = '';$/;"	v
temp	system/libraries/Email.php	/^		$temp = '';$/;"	v
temp	system/libraries/Encrypt.php	/^				$temp = $temp + 256;$/;"	v
temp	system/libraries/Encrypt.php	/^			$temp = ord($data[$i]) - ord($keyhash[$j]);$/;"	v
temp	system/libraries/Parser.php	/^					$temp = $this->_parse_pair($key, $val, $temp);$/;"	v
temp	system/libraries/Parser.php	/^					$temp = $this->_parse_single($key, $val, $temp);$/;"	v
temp	system/libraries/Parser.php	/^			$temp = $match['1'];$/;"	v
temp	system/libraries/Table.php	/^							$temp = str_replace('<td', "<td $key='$val'", $temp);$/;"	v
temp	system/libraries/Table.php	/^						$temp = str_replace('<th', "<th $key='$val'", $temp);$/;"	v
temp	system/libraries/Table.php	/^					$temp = $this->template['cell_'.$name.'start'];$/;"	v
temp	system/libraries/Table.php	/^				$temp = $this->template['heading_cell_start'];$/;"	v
temp	system/libraries/Table.php	/^			$temp = array_splice($array, 0, $col_limit);$/;"	v
temp	system/libraries/Table.php	/^		$this->temp = $this->_default_template();$/;"	v
temp	system/libraries/Trackback.php	/^					$temp = array();$/;"	v
temp	system/libraries/Trackback.php	/^		$temp	= array();$/;"	v
temp	system/libraries/Trackback.php	/^		$temp = '__TEMP_AMPERSANDS__';$/;"	v
temp	system/libraries/Unit_test.php	/^				$temp = $this->_template_rows;$/;"	v
temp	system/libraries/Unit_test.php	/^				$temp = str_replace('{item}', $key, $temp);$/;"	v
temp	system/libraries/Unit_test.php	/^				$temp = str_replace('{result}', $val, $temp);$/;"	v
temp	system/libraries/Unit_test.php	/^			$temp = array();$/;"	v
temp	system/libraries/Xmlrpc.php	/^					$temp = new XML_RPC_Values($value['0'], 'array');$/;"	v
temp	system/libraries/Xmlrpc.php	/^					$temp = new XML_RPC_Values($value['0'], 'string');$/;"	v
temp	system/libraries/Xmlrpc.php	/^				$temp = new XML_RPC_Values($this->xh[$the_parser]['value'], $this->xh[$the_parser]['vt']);$/;"	v
temp	system/libraries/Xmlrpc.php	/^				$temp = new XML_RPC_Values($value['0'], $value['1']);$/;"	v
temp	system/libraries/Xmlrpc.php	/^			$temp = new XML_RPC_Values($value, 'string');$/;"	v
temp	system/libraries/ckeditor.php	/^			$temp = array();$/;"	v
tempPath	application/controllers/write.php	/^        $tempPath=$attachDir.'\/'.date("YmdHis").mt_rand(10000,99999).'.tmp';$/;"	v
temp_prefix	system/libraries/Upload.php	/^	public $temp_prefix				= "temp_file_";$/;"	v
tempj	application/models/comitem.php	/^                $tempj = explode("|",$temp[$j]);$/;"	v
template	system/core/Exceptions.php	/^	function show_error($heading, $message, $template = 'error_general', $status_code = 500)$/;"	v
template	system/libraries/Calendar.php	/^	var $template		= '';$/;"	v
template	system/libraries/Parser.php	/^				$template = $this->_parse_pair($key, $val, $template);$/;"	v
template	system/libraries/Parser.php	/^				$template = $this->_parse_single($key, (string)$val, $template);$/;"	v
template	system/libraries/Parser.php	/^		$template = $CI->load->view($template, $data, TRUE);$/;"	v
template	system/libraries/Table.php	/^			$this->template = $this->_default_template();$/;"	v
template	system/libraries/Table.php	/^		$this->template = $template;$/;"	v
template	system/libraries/Table.php	/^	var $template			= NULL;$/;"	v
test	application/controllers/bg/imglist.php	/^    function test($time,$url,$content){$/;"	f
test	application/controllers/chome.php	/^    function test(){$/;"	f
test	application/controllers/home.php	/^    public function test($id = 0)$/;"	f
test	application/controllers/mainpage.php	/^    public function test($id = 0)$/;"	f
test	application/controllers/sec.php	/^	public function test()$/;"	f
test	application/controllers/showart.php	/^    public function test()$/;"	f
test	system/libraries/Unit_test.php	/^	return (is_bool($test) AND $test === FALSE) ? TRUE : FALSE;$/;"	v
test	system/libraries/Unit_test.php	/^	return (is_bool($test) AND $test === TRUE) ? TRUE : FALSE;$/;"	v
test1	application/controllers/test.php	/^        $test1 = memcache_connect("127.0.0.1",12000);$/;"	v
testChangeURL	application/controllers/apitest.php	/^function testChangeURL(){$/;"	f
testChangeURL	application/controllers/test.php	/^    function testChangeURL(){$/;"	f
testSendFreeMessage	application/controllers/apitest.php	/^function testSendFreeMessage(){$/;"	f
testSendFreeMessage	application/controllers/test.php	/^    function testSendFreeMessage(){$/;"	f
tested	system/core/Loader.php	/^	 * This function returns the object name if the class tested for is loaded,$/;"	c
text	application/controllers/dsprint.class.php	/^		$text = mb_convert_encoding($text, "GBK","UTF-8");$/;"	v
text	application/controllers/order.php	/^            $text = "\\n顾客: ".$user["name"]."\\n";\/\/需要打印的代码$/;"	v
text	application/controllers/printapi.php	/^$text=$_REQUEST['msgdetail'];$/;"	v
text	application/models/mwrong.php	/^        $text = addslashes($text);$/;"	v
text	application/models/mwrong.php	/^        $text = json_encode($text);$/;"	v
text	system/core/Common.php	/^			$text = $stati[$code];$/;"	v
text	system/core/Common.php	/^		if (isset($stati[$code]) AND $text == '')$/;"	v
text	system/core/Common.php	/^	function set_status_header($code = 200, $text = '')$/;"	v
text	system/core/Output.php	/^	function set_status_header($code = 200, $text = '')$/;"	v
text_color	system/helpers/captcha_helper.php	/^		$text_color		= imagecolorallocate ($im, 204, 153, 153);$/;"	v
text_types	system/libraries/Ftp.php	/^		$text_types = array($/;"	v
text_watermark	system/libraries/Image_lib.php	/^	function text_watermark()$/;"	f
textareaAttributes	system/libraries/ckeditor.php	/^	public $textareaAttributes = array( "rows" => 8, "cols" => 60 );$/;"	v
that	system/database/DB.php	/^	\/\/ we need to dynamically create a class that extends proper parent class$/;"	c
that	system/database/drivers/cubrid/cubrid_driver.php	/^ * Note: _DB is an extender class that the app controller$/;"	c
that	system/database/drivers/mssql/mssql_driver.php	/^ * Note: _DB is an extender class that the app controller$/;"	c
that	system/database/drivers/mysql/mysql_driver.php	/^ * Note: _DB is an extender class that the app controller$/;"	c
that	system/database/drivers/mysqli/mysqli_driver.php	/^ * Note: _DB is an extender class that the app controller$/;"	c
that	system/database/drivers/oci8/oci8_driver.php	/^ * Note: _DB is an extender class that the app controller$/;"	c
that	system/database/drivers/odbc/odbc_driver.php	/^ * Note: _DB is an extender class that the app controller$/;"	c
that	system/database/drivers/pdo/pdo_driver.php	/^ * Note: _DB is an extender class that the app controller$/;"	c
that	system/database/drivers/postgre/postgre_driver.php	/^ * Note: _DB is an extender class that the app controller$/;"	c
that	system/database/drivers/sqlite/sqlite_driver.php	/^ * Note: _DB is an extender class that the app controller$/;"	c
that	system/database/drivers/sqlsrv/sqlsrv_driver.php	/^ * Note: _DB is an extender class that the app controller$/;"	c
that	system/libraries/Form_validation.php	/^			\/\/ Call the function that corresponds to the rule$/;"	f
that	system/libraries/Image_lib.php	/^	 * A helper function that gets info about the file$/;"	f
that	system/libraries/Image_lib.php	/^	 * This is a helper function that extracts the extension$/;"	f
that	system/libraries/Image_lib.php	/^	 * This is a wrapper function that chooses the proper$/;"	f
that	system/libraries/Image_lib.php	/^	 * This is a wrapper function that chooses the type$/;"	f
that	system/libraries/Profiler.php	/^	 * Show the controller and function that were called$/;"	f
that	system/libraries/ckeditor.php	/^ * \\brief CKEditor class that can be used to create editor$/;"	c
theta	system/helpers/captcha_helper.php	/^			$theta = $theta + $thetac;$/;"	v
theta	system/helpers/captcha_helper.php	/^			$theta = $theta - $thetac;$/;"	v
theta	system/helpers/captcha_helper.php	/^		$theta		= 1;$/;"	v
thetac	system/helpers/captcha_helper.php	/^		$thetac		= 7;$/;"	v
thumbImg	application/controllers/bg/imglist.php	/^    var $thumbImg = "\/var\/www\/html\/edian\/edian\/thumb\/";$/;"	v
thumb_add	application/controllers/bg/imglist.php	/^    public function thumb_add($path){$/;"	f
thumb_add	application/controllers/reg.php	/^    protected  function thumb_add($path,$name){\/\/为什么这里不可以是private 呢，这里重写了MY_Controller\/thumb_add$/;"	f
thumb_add	application/core/MY_Controller.php	/^    protected function thumb_add($path,$name,$newPath,$width,$height){$/;"	f
thumb_marker	system/libraries/Image_lib.php	/^			$this->thumb_marker = '';$/;"	v
thumb_marker	system/libraries/Image_lib.php	/^		if ($this->create_thumb === FALSE OR $this->thumb_marker == '')$/;"	v
thumb_marker	system/libraries/Image_lib.php	/^	var $thumb_marker		= '_thumb';$/;"	v
thumb_path	application/core/MY_Controller.php	/^        $this->thumb_path = ".\/thumb\/";$/;"	v
thumbclick	application/views/homeUserphoto.php	/^function thumbclick(node){$/;"	f
tim	application/controllers/order.php	/^        $tim = date("Y-m-d H:i:s");$/;"	v
time	application/controllers/chome.php	/^        $time=$this->input->post("time");$/;"	v
time	application/controllers/sea.php	/^            $time = 0;$/;"	v
time	js/fun.js	/^var time = 10;$/;"	v
time	system/helpers/date_helper.php	/^			$time = now();$/;"	v
time	system/helpers/date_helper.php	/^			$time = time();$/;"	v
time	system/helpers/date_helper.php	/^		$time = str_replace(' ', '', $time);$/;"	v
time	system/helpers/date_helper.php	/^		$time = str_replace('-', '', $time);$/;"	v
time	system/helpers/date_helper.php	/^		$time = str_replace(':', '', $time);$/;"	v
time	system/helpers/date_helper.php	/^	function mdate($datestr = '', $time = '')$/;"	v
time	system/helpers/date_helper.php	/^	function standard_date($fmt = 'DATE_RFC822', $time = '')$/;"	v
time	system/helpers/date_helper.php	/^	function timespan($seconds = 1, $time = '')$/;"	v
time	system/libraries/Profiler.php	/^					$time = number_format($db->query_times[$key], 4);$/;"	v
time	system/libraries/Session.php	/^			$time = mktime(gmdate("H", $now), gmdate("i", $now), gmdate("s", $now), gmdate("m", $now), gmdate("d", $now), gmdate("Y", $now));$/;"	v
time	system/libraries/Session.php	/^			$time = time();$/;"	v
timeCal	js/fun.js	/^function timeCal(){$/;"	f
time_end	system/database/DB_driver.php	/^		$time_end = list($em, $es) = explode(' ', microtime());$/;"	v
time_format	system/libraries/Trackback.php	/^	var $time_format	= 'local';$/;"	v
time_reference	system/libraries/Session.php	/^	var $time_reference				= 'time';$/;"	v
time_start	system/database/DB_driver.php	/^		$time_start = list($sm, $ss) = explode(' ', microtime());$/;"	v
timeout	application/controllers/HttpClient.class.php	/^        $this->timeout = $timeout;$/;"	v
timeout	application/controllers/HttpClient.class.php	/^    var $timeout = 90;$/;"	v
timeout	application/controllers/checkcode.php	/^            $timeout = 5;$/;"	v
timeout	application/controllers/dsprint.class.php	/^					$timeout=$timeout-3;$/;"	v
timeout	application/controllers/test.php	/^            $timeout = 5;$/;"	v
timeout	application/libraries/sms.php	/^            $timeout = 5;$/;"	v
timeout	system/libraries/Xmlrpc.php	/^	function timeout($seconds=5)$/;"	f
timeout	system/libraries/Xmlrpc.php	/^	var $timeout		= 5;$/;"	v
timer	application/controllers/map.php	/^		$timer = 0;$/;"	v
timer	application/controllers/sea.php	/^        $timer = 0;$/;"	v
timer	application/controllers/search.php	/^		$timer = 0;$/;"	v
timer	application/controllers/space.php	/^            $timer = 0;\/\/计数器，从0开始计算$/;"	v
timespan	system/helpers/date_helper.php	/^	function timespan($seconds = 1, $time = '')$/;"	f
timestamp	system/libraries/ckeditor.php	/^	public $timestamp = "C6HH5UF";$/;"	v
timezone	system/helpers/date_helper.php	/^	function gmt_to_local($time = '', $timezone = 'UTC', $dst = FALSE)$/;"	v
timezone	system/libraries/Email.php	/^		$timezone = abs($timezone);$/;"	v
timezone	system/libraries/Email.php	/^		$timezone = date("Z");$/;"	v
timezone	system/libraries/Email.php	/^		$timezone = floor($timezone\/3600) * 100 + ($timezone % 3600 ) \/ 60;$/;"	v
timezone_menu	system/helpers/date_helper.php	/^	function timezone_menu($default = 'UTC', $class = "", $name = 'timezones')$/;"	f
timezones	system/helpers/date_helper.php	/^	function timezones($tz = '')$/;"	f
tit	application/views/write.php	/^				<?php if(!isset($tit)) $tit = "标题"?>$/;"	v
title	application/controllers/chome.php	/^        $title=$this->input->post("title");$/;"	v
title	application/controllers/order.php	/^                $title = $this->mitem->getTitle($temp["item_id"]);$/;"	v
title	application/models/blog.php	/^						$this->title=$_POST['title'];$/;"	v
title	application/models/meditor.php	/^				$title = $this->input->post("title");$/;"	v
title	application/models/meditor.php	/^				$title=$this->input->post("title");$/;"	v
title	application/models/user.php	/^        $this->title = $_POST['title'];$/;"	v
title	system/helpers/url_helper.php	/^			$title = $email;$/;"	v
title	system/helpers/url_helper.php	/^			$title = $site_url;$/;"	v
title	system/helpers/url_helper.php	/^		$title = (string) $title;$/;"	v
title	system/helpers/url_helper.php	/^	function anchor($uri = '', $title = '', $attributes = '')$/;"	v
title	system/helpers/url_helper.php	/^	function anchor_popup($uri = '', $title = '', $attributes = FALSE)$/;"	v
title	system/helpers/url_helper.php	/^	function mailto($email, $title = '', $attributes = '')$/;"	v
title	system/helpers/url_helper.php	/^	function safe_mailto($email, $title = '', $attributes = '')$/;"	v
titleFb	application/models/art.php	/^    private function titleFb($res)$/;"	f
titleFb	application/models/mess.php	/^	private function titleFb($res)$/;"	f
titleFb	application/models/mitem.php	/^    private function titleFb($res){$/;"	f
tmp	application/controllers/dsconfig.class.php	/^    $tmp="";$/;"	v
tmp	application/controllers/dsconfig.class.php	/^    $tmp=strtoupper($tmp);$/;"	v
tmp	application/controllers/order.php	/^        $tmp = explode("&",$buyer["addr"]);$/;"	v
tmp	application/controllers/sea.php	/^                $tmp = $this->sea($val,$currentPage);\/\/这里的$val必然是数组，id的数组$/;"	v
tmp	application/views/myorder.php	/^                $tmp = explode("|",$cart[$cnt]["item"]["img"]);$/;"	v
tmp	application/views/order.php	/^                $tmp = explode("|",$cart[$cnt]["item"]["img"]);$/;"	v
tmp	dsconfig.class.php	/^    $tmp="";$/;"	v
tmp	dsconfig.class.php	/^    $tmp=strtoupper($tmp);$/;"	v
tmpIdx	application/controllers/sea.php	/^                    foreach ($arr as $tmpIdx => $secArr) {$/;"	v
to	application/config/mimes.php	/^| Upload class to help identify allowed file types.$/;"	c
to	system/core/Input.php	/^	 * This is a helper function to retrieve values from global arrays$/;"	f
to	system/core/Loader.php	/^		\/\/ Set the variable name we will assign the class to$/;"	c
to	system/core/Loader.php	/^	 * A utility function to test if a class is in the self::$_ci_classes array.$/;"	f
to	system/core/URI.php	/^	 * You can use this function to generate an array with this prototype:$/;"	f
to	system/database/DB_driver.php	/^	 * Dummy method that allows Active Record class to be disabled$/;"	c
to	system/database/DB_driver.php	/^	 * Enables a native PHP function to be run, using a platform agnostic wrapper.$/;"	f
to	system/database/drivers/cubrid/cubrid_driver.php	/^		\/\/ CUBRID PHP API provides a function to determin this value.$/;"	f
to	system/database/drivers/oci8/oci8_driver.php	/^ * This is a modification of the DB_driver class to$/;"	c
to	system/helpers/text_helper.php	/^		\/\/ Use PHP's native function to do the initial wordwrap.$/;"	f
to	system/libraries/Email.php	/^		$to = $this->_str_to_array($to);$/;"	v
to	system/libraries/Email.php	/^		$to = $this->clean_email($to);$/;"	v
to	system/libraries/Email.php	/^		\/\/ Use PHP's native public function to do the initial wordwrap.$/;"	f
to	system/libraries/Email.php	/^	public function to($to)$/;"	f
to	system/libraries/Table.php	/^		\/\/ set a custom cell manipulation function to a locally scoped variable so its callable$/;"	f
today	application/controllers/order.php	/^    public function today()$/;"	f
today	application/models/morder.php	/^    private function today( $arr)$/;"	f
today	system/libraries/Calendar.php	/^		$today = array('cal_cell_start_today', 'cal_cell_content_today', 'cal_cell_no_content_today', 'cal_cell_end_today');$/;"	v
toggle	system/libraries/Javascript.php	/^	function toggle($element = 'this')$/;"	f
toggleClass	application/views/m-bg-test2.php	/^function toggleClass(dom,className){$/;"	f
toggleClass	system/libraries/Javascript.php	/^	function toggleClass($element = 'this', $class='')$/;"	f
top	system/libraries/Image_lib.php	/^				$top = 0;$/;"	v
top_level_only	system/helpers/file_helper.php	/^				if (@is_dir($source_dir.$file) AND strncmp($file, '.', 1) !== 0 AND $top_level_only === FALSE)$/;"	v
top_level_only	system/helpers/file_helper.php	/^	function get_dir_file_info($source_dir, $top_level_only = TRUE, $_recursion = FALSE)$/;"	v
torderNum	application/views/userSpace.php	/^    $torderNum = 0;$/;"	v
total	system/database/DB_active_rec.php	/^		for ($i = 0, $total = count($this->ar_set); $i < $total; $i = $i + 100)$/;"	v
total	system/libraries/Cart.php	/^		$total = 0;$/;"	v
total	system/libraries/Cart.php	/^	function total()$/;"	f
total	system/libraries/Typography.php	/^				for ($i = 0, $total = count($matches[0]); $i < $total; $i++)$/;"	v
total	system/libraries/Typography.php	/^		for ($i = 0, $total = count($html_comments); $i < $total; $i++)$/;"	v
totalPrc	js/cart.js	/^var totalPrc = 0;$/;"	v
total_chunks	system/libraries/Typography.php	/^		$total_chunks = count($chunks);$/;"	v
total_days	system/libraries/Calendar.php	/^		$total_days = $this->get_total_days($month, $year);$/;"	v
total_errors	system/libraries/Form_validation.php	/^		$total_errors = count($this->_error_array);$/;"	v
total_items	system/libraries/Cart.php	/^	function total_items()$/;"	f
total_queries	system/database/DB_driver.php	/^	function total_queries()$/;"	f
total_rows	system/libraries/Pagination.php	/^	var $total_rows			=  0; \/\/ Total number of items (database results)$/;"	v
total_rsegments	system/core/URI.php	/^	function total_rsegments()$/;"	f
total_segments	system/core/URI.php	/^			$total_segments = 'total_rsegments';$/;"	v
total_segments	system/core/URI.php	/^			$total_segments = 'total_segments';$/;"	v
total_segments	system/core/URI.php	/^	function total_segments()$/;"	f
trace	system/database/DB_driver.php	/^		$trace = debug_backtrace();$/;"	v
trace	system/libraries/Driver.php	/^		$trace = debug_backtrace();$/;"	v
trailing	system/core/URI.php	/^			$trailing	= '';$/;"	v
trailing	system/core/URI.php	/^		$trailing	= '\/';$/;"	v
trans	system/helpers/url_helper.php	/^		$trans = array($/;"	v
trans_begin	system/database/drivers/cubrid/cubrid_driver.php	/^	function trans_begin($test_mode = FALSE)$/;"	f
trans_begin	system/database/drivers/mssql/mssql_driver.php	/^	function trans_begin($test_mode = FALSE)$/;"	f
trans_begin	system/database/drivers/mysql/mysql_driver.php	/^	function trans_begin($test_mode = FALSE)$/;"	f
trans_begin	system/database/drivers/mysqli/mysqli_driver.php	/^	function trans_begin($test_mode = FALSE)$/;"	f
trans_begin	system/database/drivers/oci8/oci8_driver.php	/^	public function trans_begin($test_mode = FALSE)$/;"	f
trans_begin	system/database/drivers/odbc/odbc_driver.php	/^	function trans_begin($test_mode = FALSE)$/;"	f
trans_begin	system/database/drivers/pdo/pdo_driver.php	/^	function trans_begin($test_mode = FALSE)$/;"	f
trans_begin	system/database/drivers/postgre/postgre_driver.php	/^	function trans_begin($test_mode = FALSE)$/;"	f
trans_begin	system/database/drivers/sqlite/sqlite_driver.php	/^	function trans_begin($test_mode = FALSE)$/;"	f
trans_begin	system/database/drivers/sqlsrv/sqlsrv_driver.php	/^	function trans_begin($test_mode = FALSE)$/;"	f
trans_commit	system/database/drivers/cubrid/cubrid_driver.php	/^	function trans_commit()$/;"	f
trans_commit	system/database/drivers/mssql/mssql_driver.php	/^	function trans_commit()$/;"	f
trans_commit	system/database/drivers/mysql/mysql_driver.php	/^	function trans_commit()$/;"	f
trans_commit	system/database/drivers/mysqli/mysqli_driver.php	/^	function trans_commit()$/;"	f
trans_commit	system/database/drivers/oci8/oci8_driver.php	/^	public function trans_commit()$/;"	f
trans_commit	system/database/drivers/odbc/odbc_driver.php	/^	function trans_commit()$/;"	f
trans_commit	system/database/drivers/pdo/pdo_driver.php	/^	function trans_commit()$/;"	f
trans_commit	system/database/drivers/postgre/postgre_driver.php	/^	function trans_commit()$/;"	f
trans_commit	system/database/drivers/sqlite/sqlite_driver.php	/^	function trans_commit()$/;"	f
trans_commit	system/database/drivers/sqlsrv/sqlsrv_driver.php	/^	function trans_commit()$/;"	f
trans_complete	system/database/DB_driver.php	/^	function trans_complete()$/;"	f
trans_enabled	system/database/DB_driver.php	/^		$this->trans_enabled = FALSE;$/;"	v
trans_enabled	system/database/DB_driver.php	/^	var $trans_enabled	= TRUE;$/;"	v
trans_enabled	system/database/drivers/pdo/pdo_driver.php	/^		$this->trans_enabled = FALSE;$/;"	v
trans_off	system/database/DB_driver.php	/^	function trans_off()$/;"	f
trans_rollback	system/database/drivers/cubrid/cubrid_driver.php	/^	function trans_rollback()$/;"	f
trans_rollback	system/database/drivers/mssql/mssql_driver.php	/^	function trans_rollback()$/;"	f
trans_rollback	system/database/drivers/mysql/mysql_driver.php	/^	function trans_rollback()$/;"	f
trans_rollback	system/database/drivers/mysqli/mysqli_driver.php	/^	function trans_rollback()$/;"	f
trans_rollback	system/database/drivers/oci8/oci8_driver.php	/^	public function trans_rollback()$/;"	f
trans_rollback	system/database/drivers/odbc/odbc_driver.php	/^	function trans_rollback()$/;"	f
trans_rollback	system/database/drivers/pdo/pdo_driver.php	/^	function trans_rollback()$/;"	f
trans_rollback	system/database/drivers/postgre/postgre_driver.php	/^	function trans_rollback()$/;"	f
trans_rollback	system/database/drivers/sqlite/sqlite_driver.php	/^	function trans_rollback()$/;"	f
trans_rollback	system/database/drivers/sqlsrv/sqlsrv_driver.php	/^	function trans_rollback()$/;"	f
trans_start	system/database/DB_driver.php	/^	function trans_start($test_mode = FALSE)$/;"	f
trans_status	system/database/DB_driver.php	/^	function trans_status()$/;"	f
trans_strict	system/database/DB_driver.php	/^		$this->trans_strict = is_bool($mode) ? $mode : TRUE;$/;"	v
trans_strict	system/database/DB_driver.php	/^	function trans_strict($mode = TRUE)$/;"	f
trans_strict	system/database/DB_driver.php	/^	var $trans_strict	= TRUE;$/;"	v
trim_slashes	system/helpers/string_helper.php	/^	function trim_slashes($str)$/;"	f
truncate	system/database/DB_active_rec.php	/^	public function truncate($table = '')$/;"	f
ts	js/item.js	/^    var ts  = $("#tS");$/;"	v
tse	js/art.js	/^function tse(){$/;"	f
tse	js/home.js	/^function tse(){$/;"	f
tse	js/mainpage2.js	/^function tse(){$/;"	f
ttl	system/libraries/Cache/Cache.php	/^	public function save($id, $data, $ttl = 60)$/;"	v
ttl	system/libraries/Cache/drivers/Cache_apc.php	/^	public function save($id, $data, $ttl = 60)$/;"	v
ttl	system/libraries/Cache/drivers/Cache_dummy.php	/^	public function save($id, $data, $ttl = 60)$/;"	v
ttl	system/libraries/Cache/drivers/Cache_file.php	/^	public function save($id, $data, $ttl = 60)$/;"	v
ttl	system/libraries/Cache/drivers/Cache_memcached.php	/^	public function save($id, $data, $ttl = 60)$/;"	v
txt_color	system/libraries/Image_lib.php	/^		$txt_color	= imagecolorclosest($src_img, $R1, $G1, $B1);$/;"	v
type	application/controllers/bg/bgart.php	/^        $this->type = $this->user->getType($this->user_id);$/;"	v
type	application/controllers/bg/imglist.php	/^        $this->type = $this->user->getType($this->user_id);$/;"	v
type	application/controllers/bg/imglist.php	/^        if($imgId && $img_name && ( $this->type == $this->ADMIN)){$/;"	v
type	application/controllers/bg/item.php	/^        $this->type = $this->user->getType($this->user_id);$/;"	v
type	application/controllers/bg/item.php	/^        $type = $this->user->getType($this->user_id);$/;"	v
type	application/controllers/bg/userlist.php	/^                $this->type = $this->user->getType($this->user_id);$/;"	v
type	application/controllers/bg/wrong.php	/^        $type = $this->getTp($this->user_id);$/;"	v
type	application/controllers/order.php	/^        $type = $this->user->getType($this->user_id);$/;"	v
type	system/database/DB_active_rec.php	/^				$type = '';$/;"	v
type	system/database/DB_active_rec.php	/^			$type = strtoupper(trim($type));$/;"	v
type	system/database/DB_active_rec.php	/^			show_error('Invalid function type: '.$type);$/;"	f
type	system/database/DB_active_rec.php	/^		$type = strtoupper($type);$/;"	v
type	system/database/DB_active_rec.php	/^	public function join($table, $cond, $type = '')$/;"	v
type	system/database/DB_result.php	/^	public function row($n = 0, $type = 'object')$/;"	v
type	system/database/drivers/mysql/mysql_result.php	/^			$type = (array_key_exists(1, $matches)) ? $matches[1] : NULL;$/;"	v
type	system/database/drivers/mysqli/mysqli_result.php	/^			$type = (array_key_exists(1, $matches)) ? $matches[1] : NULL;$/;"	v
type	system/helpers/html_helper.php	/^			$type		= ( ! isset($meta['type']) OR $meta['type'] == 'name') ? 'name' : 'http-equiv';$/;"	v
type	system/helpers/security_helper.php	/^	function do_hash($str, $type = 'sha1')$/;"	v
type	system/helpers/url_helper.php	/^	function auto_link($str, $type = 'both', $popup = FALSE)$/;"	v
type	system/libraries/Form_validation.php	/^				$type = (in_array('required', $rules)) ? 'required' : 'isset';$/;"	v
type	system/libraries/Xmlrpc.php	/^			$type = $type == '' ? 'string' : $type;$/;"	v
type	system/libraries/Xmlrpc.php	/^	function addScalar($val, $type='string')$/;"	v
type	system/libraries/Xmlrpc.php	/^	public function __construct($val=-1, $type='')$/;"	v
typeof	system/libraries/Xmlrpc.php	/^		$typeof = $this->xmlrpcTypes[$type];$/;"	v
types	system/libraries/Image_lib.php	/^		$types = array(1 => 'gif', 2 => 'jpeg', 3 => 'png');$/;"	v
types	system/libraries/Upload.php	/^				$types = array(1 => 'gif', 2 => 'jpeg', 3 => 'png');$/;"	v
types	system/libraries/Upload.php	/^		if ( ! is_array($types) && $types == '*')$/;"	v
tz	system/helpers/date_helper.php	/^			$tz = 'UTC';$/;"	v
ubb2html.font2ubb	js/xheditor_plugins/ubb.js	/^	function font2ubb(all,tag,attrs,content)$/;"	f
ubb2html.formatColor	js/xheditor_plugins/ubb.js	/^	function formatColor(c)$/;"	f
ui	system/libraries/javascript/Jquery.php	/^	function ui($src, $relative = FALSE)$/;"	f
ul	system/helpers/html_helper.php	/^	function ul($list, $attributes = '')$/;"	f
ulCreateLi	js/common.js	/^function ulCreateLi(data,search) {$/;"	f
ulCreateLi	js/home.js	/^function ulCreateLi(data,search) {$/;"	f
ulCreateLi	js/mainpage2.js	/^function ulCreateLi(data,search) {$/;"	f
uncompressed_size	system/libraries/Zip.php	/^		$uncompressed_size = strlen($data);$/;"	v
underscore	system/helpers/inflector_helper.php	/^	function underscore($str)$/;"	f
uni	system/core/Input.php	/^			$this->uni =& $UNI;$/;"	v
uniqueSort	application/core/MY_Controller.php	/^    public function uniqueSort($array2D)$/;"	f
unit	system/helpers/number_helper.php	/^			$unit = $CI->lang->line('bytes');$/;"	v
unit	system/helpers/number_helper.php	/^			$unit = $CI->lang->line('gigabyte_abbr');$/;"	v
unit	system/helpers/number_helper.php	/^			$unit = $CI->lang->line('kilobyte_abbr');$/;"	v
unit	system/helpers/number_helper.php	/^			$unit = $CI->lang->line('megabyte_abbr');$/;"	v
unit	system/helpers/number_helper.php	/^			$unit = $CI->lang->line('terabyte_abbr');$/;"	v
unix_to_human	system/helpers/date_helper.php	/^	function unix_to_human($time = '', $seconds = FALSE, $fmt = 'us')$/;"	f
unload	system/libraries/Javascript.php	/^	function unload($element = 'this', $js = '')$/;"	f
unserializes	system/libraries/Session.php	/^	 * This function unserializes a data string, then converts any$/;"	f
unset_userdata	system/libraries/Session.php	/^	function unset_userdata($newdata = array())$/;"	f
unwrap	system/helpers/text_helper.php	/^		$unwrap = array();$/;"	v
unwrap	system/libraries/Email.php	/^		$unwrap = array();$/;"	v
upCom	js/item.js	/^function upCom(href,con,callback,score) {$/;"	f
upComment	application/models/comment.php	/^		public function upComment($id,$comment)$/;"	f
upExt	application/controllers/write.php	/^        $upExt='txt,rar,zip,jpg,jpeg,gif,png';\/\/上传扩展名$/;"	v
update	application/models/comitem.php	/^    public function update($arr,$comId)$/;"	f
update	system/database/DB_active_rec.php	/^	public function update($table = '', $set = NULL, $where = NULL, $limit = NULL)$/;"	f
update	system/libraries/Cart.php	/^	function update($items = array())$/;"	f
update	system/libraries/Javascript.php	/^	function update($element = 'this', $speed = '', $callback = '')$/;"	f
updateUser	application/models/user.php	/^    public function updateUser()$/;"	f
update_batch	system/database/DB_active_rec.php	/^	public function update_batch($table = '', $set = NULL, $index = NULL)$/;"	f
update_string	system/database/DB_driver.php	/^	function update_string($table, $data, $where)$/;"	f
update_user	application/models/blog.php	/^				function update_user(){$/;"	f
updater	system/libraries/javascript/Jquery.php	/^		$updater = "$($container).empty();\\n"; \/\/ anything that was in... get it out$/;"	v
upfile	application/controllers/write.php	/^            $upfile=@$_FILES[$inputName];$/;"	v
upload	application/controllers/chome.php	/^    public function upload()$/;"	f
upload	application/controllers/reg.php	/^    public function upload()$/;"	f
upload	system/libraries/Ftp.php	/^	function upload($locpath, $rempath, $mode = 'auto', $permissions = NULL)$/;"	f
uploadAllComplete	js/xheditor_plugins/multiupload/multiupload.js	/^function uploadAllComplete()\/\/全部文件上传成功$/;"	f
uploadComplete	js/xheditor_plugins/multiupload/multiupload.js	/^function uploadComplete(file)\/\/文件上传周期结束$/;"	f
uploadDel	application/controllers/chome.php	/^    public function uploadDel()$/;"	f
uploadError	js/xheditor_plugins/multiupload/multiupload.js	/^function uploadError(file, errorCode, message)\/\/单文件上传错误$/;"	f
uploadProgress	js/xheditor_plugins/multiupload/multiupload.js	/^function uploadProgress(file, bytesLoaded, bytesTotal)\/\/单文件上传进度$/;"	f
uploadStart	js/xheditor_plugins/multiupload/multiupload.js	/^function uploadStart(file)\/\/单文件上传开始$/;"	f
uploadSuccess	js/xheditor_plugins/multiupload/multiupload.js	/^function uploadSuccess(file, serverData)\/\/单文件上传成功$/;"	f
upload_name	application/controllers/bg/imglist.php	/^            $upload_name=$_FILES['userfile']['name'];$/;"	v
upload_name	application/controllers/reg.php	/^        $upload_name=time().".jpg";        \/\/ 当图片名称超过100的长度的时候，就会出现问题，为了系统的安全，所以需要在客户端进行判断$/;"	v
upload_name	application/core/MY_Controller.php	/^            $upload_name=$_FILES['userfile']['name'];        \/\/ 当图片名称超过100的长度的时候，就会出现问题，为了系统的安全，所以需要在客户端进行判断$/;"	v
upload_name	application/models/img.php	/^        $upload_name = addslashes($upload_name);$/;"	v
upload_path	system/libraries/Upload.php	/^			$this->upload_path = str_replace("\\\\", "\/", realpath($this->upload_path));$/;"	v
upload_path	system/libraries/Upload.php	/^		$this->upload_path = preg_replace("\/(.+?)\\\/*$\/", "\\\\1\/",  $this->upload_path);$/;"	v
upload_path	system/libraries/Upload.php	/^		$this->upload_path = rtrim($path, '\/').'\/';$/;"	v
upload_path	system/libraries/Upload.php	/^	public $upload_path				= "";$/;"	v
uri	application/controllers/HttpClient.class.php	/^            $uri = isset($this->headers['uri']) ? $this->headers['uri'] : '';$/;"	v
uri	system/core/Config.php	/^				$uri = $str;$/;"	v
uri	system/core/Config.php	/^				$uri = implode('\/', $uri);$/;"	v
uri	system/core/Config.php	/^			$uri = trim($uri, '\/');$/;"	v
uri	system/core/Output.php	/^		$uri =	$CFG->item('base_url').$/;"	v
uri	system/core/Output.php	/^		$uri =	$CI->config->item('base_url').$/;"	v
uri	system/core/Router.php	/^		$this->uri =& load_class('URI', 'core');$/;"	v
uri	system/core/Router.php	/^		$uri = implode('\/', $this->uri->segments);$/;"	v
uri	system/core/URI.php	/^			$uri = substr($uri, 2);$/;"	v
uri	system/core/URI.php	/^			$uri = substr($uri, strlen($_SERVER['SCRIPT_NAME']));$/;"	v
uri	system/core/URI.php	/^			$uri = substr($uri, strlen(dirname($_SERVER['SCRIPT_NAME'])));$/;"	v
uri	system/core/URI.php	/^		$uri = $_SERVER['REQUEST_URI'];$/;"	v
uri	system/core/URI.php	/^		$uri = $parts[0];$/;"	v
uri	system/core/URI.php	/^		$uri = parse_url($uri, PHP_URL_PATH);$/;"	v
uri	system/core/URI.php	/^		$uri = strtoupper($this->config->item('uri_protocol'));$/;"	v
uri	system/helpers/url_helper.php	/^			$uri = site_url($uri);$/;"	v
uri	system/libraries/Form_validation.php	/^			$uri = ($group == '') ? trim($this->CI->uri->ruri_string(), '\/') : $group;$/;"	v
uri_page_number	system/libraries/Pagination.php	/^		$uri_page_number = $this->cur_page;$/;"	v
uri_segment	system/libraries/Pagination.php	/^	var $uri_segment		= 3;$/;"	v
uri_string	system/core/URI.php	/^			$this->uri_string = '';$/;"	v
uri_string	system/core/URI.php	/^			$this->uri_string = preg_replace("|".preg_quote($this->config->item('url_suffix'))."$|", "", $this->uri_string);$/;"	v
uri_string	system/core/URI.php	/^		$this->uri_string = ($str == '\/') ? '' : $str;$/;"	v
uri_string	system/core/URI.php	/^	function uri_string()$/;"	f
uri_string	system/core/URI.php	/^	var $uri_string;$/;"	v
uri_string	system/helpers/url_helper.php	/^	function uri_string()$/;"	f
uri_to_assoc	system/core/URI.php	/^	function uri_to_assoc($n = 3, $default = array())$/;"	f
url	application/controllers/HttpClient.class.php	/^                $url = parse_url($location.$uri);$/;"	v
url	application/controllers/HttpClient.class.php	/^        $url = 'http:\/\/'.$this->host;$/;"	v
url	application/controllers/checkcode.php	/^        $url = "http:\/\/utf8.sms.webchinese.cn\/?Uid=unasm&Key=a35b424a5a7a0107a078&smsMob=".$phone."&smsText=".$cont;$/;"	v
url	application/controllers/home.php	/^        $url = "http:\/\/".$_SERVER["HTTP_HOST"]."\/";$/;"	v
url	application/controllers/test.php	/^        $url = "http:\/\/utf8.sms.webchinese.cn\/?Uid=unasm&Key=a35b424a5a7a0107a078&smsMob=".$phone."&smsText=".$cont;$/;"	v
url	application/libraries/sms.php	/^            $url = "http:\/\/utf8.sms.webchinese.cn\/?Uid=unasm&Key=a35b424a5a7a0107a078&smsMob=".$phone."&smsText=".$cont;$/;"	v
url	system/helpers/url_helper.php	/^		$url = parse_url($str);$/;"	v
url	system/libraries/Trackback.php	/^			$url = "http:\/\/".$url;$/;"	v
url	system/libraries/Trackback.php	/^			$url = rtrim($url, '\/');$/;"	v
url	system/libraries/Trackback.php	/^		$url = trim($url);$/;"	v
url	system/libraries/Xmlrpc.php	/^			$url = "http:\/\/".$url;$/;"	v
urlChange	js/home.js	/^function urlChange () {$/;"	f
urlChange	js/mainpage2.js	/^function urlChange () {$/;"	f
url_encoded	system/core/Common.php	/^	function remove_invisible_characters($str, $url_encoded = TRUE)$/;"	v
url_title	system/helpers/url_helper.php	/^	function url_title($str, $separator = '-', $lowercase = FALSE)$/;"	f
urls	system/libraries/Trackback.php	/^			$urls = substr($urls, 0, -1);$/;"	v
urls	system/libraries/Trackback.php	/^		$urls = array_unique($urls);$/;"	v
urls	system/libraries/Trackback.php	/^		$urls = preg_replace("\/\\s*(\\S+)\\s*\/", "\\\\1,", $urls);$/;"	v
urls	system/libraries/Trackback.php	/^		$urls = preg_split('\/[,]\/', $urls);$/;"	v
urls	system/libraries/Trackback.php	/^		$urls = str_replace(",,", ",", $urls);$/;"	v
useGzip	application/controllers/HttpClient.class.php	/^    function useGzip($boolean) {$/;"	f
use_font	system/helpers/captcha_helper.php	/^		$use_font = ($font_path != '' AND file_exists($font_path) AND function_exists('imagettftext')) ? TRUE : FALSE;$/;"	v
use_gzip	application/controllers/HttpClient.class.php	/^        $this->use_gzip = $boolean;$/;"	v
use_gzip	application/controllers/HttpClient.class.php	/^    var $use_gzip = true;$/;"	v
use_page_numbers	system/libraries/Pagination.php	/^	var $use_page_numbers	= FALSE; \/\/ Use page number for segment instead of offset$/;"	v
use_sections	system/core/Config.php	/^	function load($file = '', $use_sections = FALSE, $fail_gracefully = FALSE)$/;"	v
use_sections	system/core/Loader.php	/^	public function config($file = '', $use_sections = FALSE, $fail_gracefully = FALSE)$/;"	v
use_set_names	system/database/drivers/mysql/mysql_driver.php	/^			$this->use_set_names = (version_compare(PHP_VERSION, '5.2.3', '>=') && version_compare(mysql_get_server_info(), '5.0.7', '>=')) ? FALSE : TRUE;$/;"	v
use_set_names	system/database/drivers/mysql/mysql_driver.php	/^	var $use_set_names;$/;"	v
use_set_names	system/database/drivers/mysqli/mysqli_driver.php	/^			$this->use_set_names = (version_compare(mysqli_get_server_info($this->conn_id), '5.0.7', '>=')) ? FALSE : TRUE;$/;"	v
use_set_names	system/database/drivers/mysqli/mysqli_driver.php	/^	var $use_set_names;$/;"	v
use_strict	system/libraries/Unit_test.php	/^	function use_strict($state = TRUE)$/;"	f
used	system/helpers/form_helper.php	/^ * Helper function used by some of the form helpers$/;"	f
used	system/helpers/smiley_helper.php	/^		$used = array();$/;"	v
used	system/helpers/text_helper.php	/^		\/\/ Prior to PHP 5, the highligh function used icky <font> tags$/;"	f
user	application/controllers/order.php	/^                $user = $this->mitem->getMaster($ajax);$/;"	v
user	application/controllers/order.php	/^        $user = $this->addrDecode($user);$/;"	v
user	application/controllers/order.php	/^        $user = $this->getUser($data["addr"]);\/\/取得用户的信息，$user中有名字，地址和联系方式，$/;"	v
user	application/controllers/order.php	/^        $user = $this->user->ordaddr($this->user_id);$/;"	v
user	application/controllers/reg.php	/^        $user = $this->user->getPubById($userId);\/\/get user_name reg_time,user_photo$/;"	v
userBlock	application/controllers/bg/userlist.php	/^        function  userBlock($user_id){$/;"	f
userBlockById	application/models/user.php	/^    public function userBlockById($id)$/;"	f
userDel	application/controllers/bg/userlist.php	/^        function userDel($user_id){$/;"	f
userEnbleById	application/models/user.php	/^    public function userEnbleById($id)$/;"	f
userId	application/controllers/bg/home.php	/^            $userId = trim($this->input->post("user_id"));$/;"	v
userId	application/controllers/reg.php	/^                $userId = $res["user_id"];$/;"	v
userId	application/controllers/reg.php	/^        $userId =  $this->user->checkname($data["name"]);$/;"	v
userId	application/controllers/reg.php	/^        $userId = $this->user_id_get();$/;"	v
userId	application/controllers/reg.php	/^        $userId = trim($this->input->post("userId"));$/;"	v
userId	application/controllers/write.php	/^        $this->userId = $this->user_id_get();$/;"	v
userImgAll	application/models/img.php	/^    public function userImgAll($userId){$/;"	f
userInfo	application/controllers/sea.php	/^                $userInfo = $this->user->getsea($temp["author_id"]);$/;"	v
userInfo	application/controllers/sea.php	/^            $userInfo = $this->user->getsea($res[$i]["author_id"]);$/;"	v
userInfo	application/controllers/search.php	/^				$userInfo = $this->user->getNess($temp["author_id"]);$/;"	v
userInfoDel	application/core/MY_Controller.php	/^    public function userInfoDel()$/;"	f
userInfoGet	application/core/MY_Controller.php	/^    public function userInfoGet()$/;"	f
userInfoSet	application/core/MY_Controller.php	/^    public function userInfoSet($userid,$userName,$passwd)$/;"	f
userName	application/controllers/bg/item.php	/^        $userName = $this->user->getNameById($this->user_id);$/;"	v
userName	application/controllers/reg.php	/^            $userName = trim($this->input->post("userName"));$/;"	v
userName	application/models/comitem.php	/^            $userName = $this->user->getNameById($arr[$i]["user_id"]);$/;"	v
user_Block	application/models/mbguserlist.php	/^				function  user_Block($id){$/;"	f
user_agent	application/controllers/HttpClient.class.php	/^        $this->user_agent = $string;$/;"	v
user_agent	application/controllers/HttpClient.class.php	/^    var $user_agent = 'Incutio HttpClient v0.9';$/;"	v
user_agent	system/core/Input.php	/^		$this->user_agent = ( ! isset($_SERVER['HTTP_USER_AGENT'])) ? FALSE : $_SERVER['HTTP_USER_AGENT'];$/;"	v
user_agent	system/core/Input.php	/^	function user_agent()$/;"	f
user_agent	system/core/Input.php	/^	var $user_agent				= FALSE;$/;"	v
user_del	application/models/mbguserlist.php	/^				function user_del($id){$/;"	f
user_id	application/controllers/bg/bgart.php	/^        $this->user_id = $this->user_id_get();$/;"	v
user_id	application/controllers/bg/home.php	/^        $this->user_id = $this->user_id_get();$/;"	v
user_id	application/controllers/bg/imglist.php	/^        $this->user_id = $this->user_id_get();$/;"	v
user_id	application/controllers/bg/item.php	/^        $this->user_id = $this->user_id_get();$/;"	v
user_id	application/controllers/bg/order.php	/^    var $user_id;$/;"	v
user_id	application/controllers/bg/userlist.php	/^                $this->user_id = $this->user_id_get();$/;"	v
user_id	application/controllers/bg/wrong.php	/^        $this->user_id = $this->user_id_get();$/;"	v
user_id	application/controllers/chome.php	/^        $user_id = $this->user_id_get();$/;"	v
user_id	application/controllers/chome.php	/^        $user_id=$this->input->post("user_id");\/\/user_id不能这麽取得$/;"	v
user_id	application/controllers/destory.php	/^	var $user_id;$/;"	v
user_id	application/controllers/home.php	/^        $user_id = $this->user_id_get();$/;"	v
user_id	application/controllers/info.php	/^        $this->user_id = $this->user_id_get();$/;"	v
user_id	application/controllers/info.php	/^    var $user_id;$/;"	v
user_id	application/controllers/item.php	/^        $this->user_id = $this->user_id_get();$/;"	v
user_id	application/controllers/item.php	/^    var $user_id;$/;"	v
user_id	application/controllers/mainpage.php	/^        $user_id = $this->user_id_get();$/;"	v
user_id	application/controllers/message.php	/^		$this->user_id = $this->user_id_get();$/;"	v
user_id	application/controllers/message.php	/^	var $user_id;$/;"	v
user_id	application/controllers/order.php	/^        $this->user_id = $this->user_id_get();$/;"	v
user_id	application/controllers/sec.php	/^		$this->user_id = $this->user_id_get();$/;"	v
user_id	application/controllers/sec.php	/^	var $user_id;$/;"	v
user_id	application/controllers/showart.php	/^        $this->user_id = $this->user_id_get();$/;"	v
user_id	application/controllers/showart.php	/^    var $user_id;$/;"	v
user_id	application/controllers/space.php	/^        $this->user_id = $this->user_id_get();$/;"	v
user_id	application/controllers/spacePhoto.php	/^		$this->user_id=$this->user_id_get();$/;"	v
user_id	application/controllers/test.php	/^        $this->user_id = $this->user_id_get();$/;"	v
user_id	application/controllers/test.php	/^    var  $user_id="",$partmap;$/;"	v
user_id	application/controllers/userspace/user_photo.php	/^		$this->user_id=$this->id->user_id_get();$/;"	v
user_id	application/controllers/userspace/user_photo.php	/^	var $user_id="";$/;"	v
user_id	application/controllers/waimai.php	/^    var $user_id;$/;"	v
user_id	application/core/MY_Controller.php	/^            $user_id = $this->session->userdata("user_id");$/;"	v
user_id	application/core/MY_Controller.php	/^        $user_id = false;$/;"	v
user_id	application/core/MY_Controller.php	/^        $user_id=$this->user_id_get();$/;"	v
user_id_get	application/controllers/userspace/user_home.php	/^	function user_id_get(){$/;"	f
user_id_get	application/core/MY_Controller.php	/^    public function user_id_get()$/;"	f
user_photo	application/controllers/bg/imglist.php	/^    function user_photo(){$/;"	f
user_photo	application/models/img.php	/^    function user_photo($name,$user_id){$/;"	f
user_photo	application/models/mhome.php	/^	function user_photo($name,$user_id){        $/;"	f
useragent	system/libraries/Email.php	/^	var	$useragent		= "CodeIgniter";$/;"	v
userdata	system/libraries/Session.php	/^		$this->userdata = $session;$/;"	v
userdata	system/libraries/Session.php	/^		$this->userdata = array($/;"	v
userdata	system/libraries/Session.php	/^		$userdata = $this->all_userdata();$/;"	v
userdata	system/libraries/Session.php	/^	function userdata($item)$/;"	f
userdata	system/libraries/Session.php	/^	var $userdata					= array();$/;"	v
username	application/controllers/HttpClient.class.php	/^        $this->username = $username;$/;"	v
username	application/controllers/HttpClient.class.php	/^    var $username;$/;"	v
username	system/database/DB_driver.php	/^	var $username;$/;"	v
username	system/libraries/Ftp.php	/^	var $username	= '';$/;"	v
usrInf	application/views/histOrder.php	/^            $usrInf = "<p>".$temp["ordorInfo"]["name"]."<\/p>";$/;"	v
usrInf	application/views/onTimeOrder.php	/^                $usrInf = "<p>".$order[$i]["ordorInfo"]["name"]."<\/p>";$/;"	v
utc	system/libraries/Xmlrpc.php	/^	function iso8601_decode($time, $utc=0)$/;"	v
utc	system/libraries/Xmlrpc.php	/^	function iso8601_encode($time, $utc=0)$/;"	v
v	application/controllers/dsconfig.class.php	/^    $v=ord($hex);$/;"	v
v	dsconfig.class.php	/^    $v=ord($hex);$/;"	v
v	system/database/DB_active_rec.php	/^					$v = ' '.$this->escape($v);$/;"	v
v	system/database/DB_active_rec.php	/^					$v = trim($v);$/;"	v
v	system/database/DB_active_rec.php	/^				$v = ' '.$this->escape($v);$/;"	v
v	system/database/DB_active_rec.php	/^			$v = $this->escape_like_str($v);$/;"	v
v	system/database/drivers/pdo/pdo_driver.php	/^			$v = $this->_version();$/;"	v
v	system/database/drivers/postgre/postgre_driver.php	/^		$v = $this->_version();$/;"	v
v	system/database/drivers/postgre/postgre_driver.php	/^		$v = $v['server'];$/;"	v
v	system/libraries/Unit_test.php	/^							$v = $line;$/;"	v
v	system/libraries/Xmlrpc.php	/^		$v = $this->xh[$parser]['value'];$/;"	v
v	system/libraries/Xmlrpcs.php	/^		$v = new XML_RPC_Values();$/;"	v
v2_override	system/libraries/Image_lib.php	/^				$v2_override = ($gd_version == 2) ? TRUE : FALSE;$/;"	v
v2_override	system/libraries/Image_lib.php	/^		$v2_override = FALSE;$/;"	v
v2_override	system/libraries/Image_lib.php	/^		\/\/  if ($this->image_library == 'gd2' AND function_exists('imagecreatetruecolor') AND $v2_override == FALSE)$/;"	v
val	application/controllers/HttpClient.class.php	/^    	        $val = trim($m[2]);$/;"	v
val	system/core/Loader.php	/^	public function vars($vars = array(), $val = '')$/;"	v
val	system/core/Router.php	/^					$val = preg_replace('#^'.$key.'$#', $val, $uri);$/;"	v
val	system/core/URI.php	/^			$val = trim($this->_filter_uri($val));$/;"	v
val	system/database/DB.php	/^					$val = FALSE;$/;"	v
val	system/database/DB.php	/^					$val = TRUE;$/;"	v
val	system/database/DB_active_rec.php	/^				$val = trim($val);$/;"	v
val	system/database/DB_active_rec.php	/^			$val = trim($val);$/;"	v
val	system/database/DB_driver.php	/^					$val = ' '.$this->escape($val);$/;"	v
val	system/database/drivers/postgre/postgre_driver.php	/^				$connect_string .= " $val=".$this->$key;$/;"	v
val	system/helpers/form_helper.php	/^				$val = form_prep($val, $default['name']);$/;"	v
val	system/helpers/form_helper.php	/^			$val = $data['value'];$/;"	v
val	system/helpers/form_helper.php	/^			$val = $value;$/;"	v
val	system/libraries/Email.php	/^			$val = trim($val);$/;"	v
val	system/libraries/Email.php	/^	protected function _set_error_message($msg, $val = '')$/;"	v
val	system/libraries/Form_validation.php	/^	public function set_message($lang, $val = '')$/;"	v
val	system/libraries/Profiler.php	/^						$val = str_replace($bold, '<strong>'.$bold.'<\/strong>', $val);$/;"	v
val	system/libraries/Profiler.php	/^					$val = highlight_code($val, ENT_QUOTES);$/;"	v
val	system/libraries/Profiler.php	/^				$val = print_r($val, TRUE);$/;"	v
val	system/libraries/Profiler.php	/^			$val = (isset($_SERVER[$header])) ? $_SERVER[$header] : '';$/;"	v
val	system/libraries/Unit_test.php	/^						$val = $line;$/;"	v
val	system/libraries/Unit_test.php	/^						$val = '<span style="color: #0C0;">'.$val.'<\/span>';$/;"	v
val	system/libraries/Unit_test.php	/^						$val = '<span style="color: #C00;">'.$val.'<\/span>';$/;"	v
val	system/libraries/Xmlrpc.php	/^				$val = 1;$/;"	v
val	system/libraries/Xmlrpc.php	/^				$val=0;$/;"	v
val	system/libraries/Xmlrpc.php	/^			$this->val = $val;$/;"	v
val	system/libraries/Xmlrpc.php	/^			$this->val = new XML_RPC_Values();$/;"	v
val	system/libraries/Xmlrpc.php	/^			if (strcasecmp($val,'true')==0 OR $val==1 OR ($val==true && strcasecmp($val,'false')))$/;"	v
val	system/libraries/Xmlrpc.php	/^	var $val = 0;$/;"	v
val_str	system/database/drivers/mysql/mysql_utility.php	/^				$val_str = '';$/;"	v
val_str	system/database/drivers/mysql/mysql_utility.php	/^				$val_str = preg_replace( "\/, $\/" , "" , $val_str);$/;"	v
valid_base64	system/libraries/Form_validation.php	/^	public function valid_base64($str)$/;"	f
valid_drivers	system/libraries/Cache/Cache.php	/^	protected $valid_drivers 	= array($/;"	v
valid_drivers	system/libraries/Driver.php	/^	protected $valid_drivers	= array();$/;"	v
valid_email	system/helpers/email_helper.php	/^	function valid_email($address)$/;"	f
valid_email	system/libraries/Email.php	/^	public function valid_email($address)$/;"	f
valid_email	system/libraries/Form_validation.php	/^	public function valid_email($str)$/;"	f
valid_emails	system/libraries/Form_validation.php	/^	public function valid_emails($str)$/;"	f
valid_ip	system/core/Input.php	/^	public function valid_ip($ip, $which = '')$/;"	f
valid_ip	system/libraries/Form_validation.php	/^	public function valid_ip($ip, $which = '')$/;"	f
valid_parents	system/libraries/Xmlrpc.php	/^		$this->valid_parents = array('BOOLEAN'			=> array('VALUE'),$/;"	v
valid_parents	system/libraries/Xmlrpc.php	/^	var $valid_parents	= array();$/;"	v
validate	system/libraries/Email.php	/^	var	$validate		= FALSE;	\/\/ TRUE\/FALSE.  Enables email validation$/;"	v
validate_email	system/libraries/Email.php	/^	public function validate_email($email)$/;"	f
validate_upload_path	system/libraries/Upload.php	/^	public function validate_upload_path()$/;"	f
validate_url	system/libraries/Trackback.php	/^	function validate_url($url)$/;"	f
validation_errors	system/helpers/form_helper.php	/^	function validation_errors($prefix = '', $suffix = '')$/;"	f
vals	system/libraries/Image_lib.php	/^		$vals = @getimagesize($path);$/;"	v
value	application/controllers/chome.php	/^        $value=time();$/;"	v
value	system/core/Input.php	/^	function set_cookie($name = '', $value = '', $expire = '', $domain = '', $path = '\/', $prefix = '', $secure = FALSE)$/;"	v
value	system/core/Lang.php	/^		$value = ($line == '' OR ! isset($this->language[$line])) ? FALSE : $this->language[$line];$/;"	v
value	system/database/DB_active_rec.php	/^	protected function _having($key, $value = '', $type = 'AND ', $escape = TRUE)$/;"	v
value	system/database/DB_active_rec.php	/^	protected function _where($key, $value = NULL, $type = 'AND ', $escape = NULL)$/;"	v
value	system/database/DB_active_rec.php	/^	public function having($key, $value = '', $escape = TRUE)$/;"	v
value	system/database/DB_active_rec.php	/^	public function or_having($key, $value = '', $escape = TRUE)$/;"	v
value	system/database/DB_active_rec.php	/^	public function or_where($key, $value = NULL, $escape = TRUE)$/;"	v
value	system/database/DB_active_rec.php	/^	public function set($key, $value = '', $escape = TRUE)$/;"	v
value	system/database/DB_active_rec.php	/^	public function set_insert_batch($key, $value = '', $escape = TRUE)$/;"	v
value	system/database/DB_active_rec.php	/^	public function where($key, $value = NULL, $escape = TRUE)$/;"	v
value	system/database/DB_result.php	/^	public function set_row($key, $value = NULL)$/;"	v
value	system/helpers/cookie_helper.php	/^	function set_cookie($name = '', $value = '', $expire = '', $domain = '', $path = '\/', $prefix = '', $secure = FALSE)$/;"	v
value	system/helpers/form_helper.php	/^				if (($field == '' OR $value == '') OR ($field != $value))$/;"	v
value	system/helpers/form_helper.php	/^	function form_checkbox($data = '', $value = '', $checked = FALSE, $extra = '')$/;"	v
value	system/helpers/form_helper.php	/^	function form_hidden($name, $value = '', $recursing = FALSE)$/;"	v
value	system/helpers/form_helper.php	/^	function form_input($data = '', $value = '', $extra = '')$/;"	v
value	system/helpers/form_helper.php	/^	function form_password($data = '', $value = '', $extra = '')$/;"	v
value	system/helpers/form_helper.php	/^	function form_radio($data = '', $value = '', $checked = FALSE, $extra = '')$/;"	v
value	system/helpers/form_helper.php	/^	function form_reset($data = '', $value = '', $extra = '')$/;"	v
value	system/helpers/form_helper.php	/^	function form_submit($data = '', $value = '', $extra = '')$/;"	v
value	system/helpers/form_helper.php	/^	function form_textarea($data = '', $value = '', $extra = '')$/;"	v
value	system/helpers/form_helper.php	/^	function form_upload($data = '', $value = '', $extra = '')$/;"	v
value	system/helpers/form_helper.php	/^	function set_checkbox($field = '', $value = '', $default = FALSE)$/;"	v
value	system/helpers/form_helper.php	/^	function set_radio($field = '', $value = '', $default = FALSE)$/;"	v
value	system/helpers/form_helper.php	/^	function set_select($field = '', $value = '', $default = FALSE)$/;"	v
value	system/libraries/Form_validation.php	/^			if (($field == '' OR $value == '') OR ($field != $value))$/;"	v
value	system/libraries/Form_validation.php	/^	public function set_checkbox($field = '', $value = '', $default = FALSE)$/;"	v
value	system/libraries/Form_validation.php	/^	public function set_radio($field = '', $value = '', $default = FALSE)$/;"	v
value	system/libraries/Form_validation.php	/^	public function set_select($field = '', $value = '', $default = FALSE)$/;"	v
value	system/libraries/Session.php	/^		$value = $this->userdata($old_flashdata_key);$/;"	v
value	system/libraries/Xmlrpc.php	/^	function value()$/;"	f
value	system/libraries/ckeditor.php	/^	public function editor($name, $value = "", $config = array(), $events = array())$/;"	v
values	system/database/DB_active_rec.php	/^			$values = array($values);$/;"	v
values	system/database/DB_active_rec.php	/^		if ($key === NULL OR $values === NULL)$/;"	v
values	system/database/DB_active_rec.php	/^	protected function _where_in($key = NULL, $values = NULL, $not = FALSE, $type = 'AND ')$/;"	v
values	system/database/DB_active_rec.php	/^	public function or_where_in($key = NULL, $values = NULL)$/;"	v
values	system/database/DB_active_rec.php	/^	public function or_where_not_in($key = NULL, $values = NULL)$/;"	v
values	system/database/DB_active_rec.php	/^	public function where_in($key = NULL, $values = NULL)$/;"	v
values	system/database/DB_active_rec.php	/^	public function where_not_in($key = NULL, $values = NULL)$/;"	v
values	system/database/DB_driver.php	/^		$values = array();$/;"	v
values_parsing	system/libraries/Xmlrpc.php	/^	function values_parsing($value, $return = FALSE)$/;"	f
var	system/core/Controller.php	/^		foreach (is_loaded() as $var => $class)$/;"	v
var.specialKeys.112	js/xheditor.min.js	/^(function(){var e={};window.XHEDITOR=e})(),function(e,t){e.mapLang={},e.setLang=function(i,s){s===t&&(s=i,i=""),""!==i&&(i+=".");var a,n;for(var o in s)n=s[o],a=i+o,"string"==typeof n||n instanceof Array?e.mapLang[a]=n:e.setLang(a,n)},e.getLang=function(i){var s=e.mapLang[i];if(s===t&&(s=i.replace(\/{#([^{}]+)}\/g,function(t,i){var s=e.mapLang[i];return s?s:i})),"string"==typeof s){var a=arguments;s=s.replace(\/{\\$(\\d+)}\/g,function(e,i){var s=a[parseInt(i,10)+1];return s!==t?s:e})}return s}}(XHEDITOR),function(XHEDITOR,$,undefined){var agent=navigator.userAgent.toLowerCase(),bMobile=\/mobile\/i.test(agent),browser=$.browser,browerVer=parseFloat(browser.version),isIE=browser.msie,isMozilla=browser.mozilla,isWebkit=browser.webkit,isOpera=browser.opera,isChrome=browser.chrome,bAir=agent.indexOf(" adobeair\/")>-1,xCount=0,bShowPanel=!1,bClickCancel=!0,bShowModal=!1,bCheckEscInit=!1,_jPanel,_jShadow,_jCntLine,_jPanelButton,jModal,jModalShadow,layerShadow,jOverlay,jHideSelect,onModalRemove,editorRoot,getLang=XHEDITOR.getLang;if($("script[src*=xheditor]").each(function(){var e=this.src;return e.match(\/xheditor[^\\\/]*\\.js\/i)?(editorRoot=e.replace(\/[\\?#].*$\/,"").replace(\/(^|[\\\/\\\\])[^\\\/]*$\/,"$1"),!1):undefined}),isIE){try{document.execCommand("BackgroundImageCache",!1,!0)}catch(e){}var jqueryVer=$.fn.jquery;jqueryVer&&jqueryVer.match(\/^1\\.[67]\/)&&($.attrHooks.width=$.attrHooks.height=null)}var specialKeys={27:"esc",9:"tab",32:"space",13:"enter",8:"backspace",145:"scroll",20:"capslock",144:"numlock",19:"pause",45:"insert",36:"home",46:"del",35:"end",33:"pageup",34:"pagedown",37:"left",38:"up",39:"right",40:"down",112:"f1",113:"f2",114:"f3",115:"f4",116:"f5",117:"f6",118:"f7",119:"f8",120:"f9",121:"f10",122:"f11",123:"f12"},arrAlign=[{v:"justifyleft"},{v:"justifycenter"},{v:"justifyright"},{v:"justifyfull"}],arrList=[{v:"insertOrderedList"},{v:"insertUnorderedList"}],htmlPastetext='<div><label for="xhePastetextValue">{#PastetextTip}<\/label><\/div><div><textarea id="xhePastetextValue" wrap="soft" spellcheck="false" style="width:300px;height:100px;" \/><\/div><div style="text-align:right;"><input type="button" id="xheSave" value="{#dialogOk}" \/><\/div>',htmlLink='<div><label for="xheLinkUrl">{#link.url}<\/label><input type="text" id="xheLinkUrl" value="http:\/\/" class="xheText" \/><\/div><div><label for="xheLinkTarget">{#link.target}<\/label><select id="xheLinkTarget"><option selected="selected" value="">{#default}<\/option><option value="_blank">{#link.targetBlank}<\/option><option value="_self">{#link.targetSelf}<\/option><option value="_parent">{#link.targetParent}<\/option><\/select><\/div><div style="display:none"><label for="xheLinkText">{#link.linkText}<\/label><input type="text" id="xheLinkText" value="" class="xheText" \/><\/div><div style="text-align:right;"><input type="button" id="xheSave" value="{#dialogOk}" \/><\/div>',htmlAnchor='<div><label for="xheAnchorName">{#anchor.name}<\/label><input type="text" id="xheAnchorName" value="" class="xheText" \/><\/div><div style="text-align:right;"><input type="button" id="xheSave" value="{#dialogOk}" \/><\/div>',htmlImg='<div><label for="xheImgUrl">{#img.url}<\/label><input type="text" id="xheImgUrl" value="http:\/\/" class="xheText" \/><\/div><div><div><label for="xheImgAlt">{#img.alt}<\/label><input type="text" id="xheImgAlt" \/><\/div><div><label for="xheImgAlign">{#img.align}<\/label><select id="xheImgAlign"><option selected="selected" value="">{#default}<\/option><option value="left">{#img.alignLeft}<\/option><option value="right">{#img.alignRight}<\/option><option value="top">{#img.alignTop}<\/option><option value="middle">{#img.alignMiddle}<\/option><option value="baseline">{#img.alignBaseline}<\/option><option value="bottom">{#img.alignBottom}<\/option><\/select><\/div><div><label for="xheImgWidth">{#img.width}<\/label><input type="text" id="xheImgWidth" style="width:40px;" \/> <label for="xheImgHeight">{#img.height}<\/label><input type="text" id="xheImgHeight" style="width:40px;" \/><\/div><div><label for="xheImgBorder">{#img.border}<\/label><input type="text" id="xheImgBorder" style="width:40px;" \/><\/div><div><label for="xheImgHspace">{#img.hspace}<\/label><input type="text" id="xheImgHspace" style="width:40px;" \/> <label for="xheImgVspace">{#img.vspace}<\/label><input type="text" id="xheImgVspace" style="width:40px;" \/><\/div><div style="text-align:right;"><input type="button" id="xheSave" value="{#dialogOk}" \/><\/div>',htmlFlash='<div><label for="xheFlashUrl">{#flash.url}<\/label><input type="text" id="xheFlashUrl" value="http:\/\/" class="xheText" \/><\/div><div><label for="xheFlashWidth">{#flash.width}<\/label><input type="text" id="xheFlashWidth" style="width:40px;" value="480" \/> <label for="xheFlashHeight">{#flash.height}<\/label><input type="text" id="xheFlashHeight" style="width:40px;" value="400" \/><\/div><div style="text-align:right;"><input type="button" id="xheSave" value="{#dialogOk}" \/><\/div>',htmlMedia='<div><label for="xheMediaUrl">{#media.url}<\/label><input type="text" id="xheMediaUrl" value="http:\/\/" class="xheText" \/><\/div><div><label for="xheMediaWidth">{#media.width}<\/label><input type="text" id="xheMediaWidth" style="width:40px;" value="480" \/> <label for="xheMediaHeight">{#media.height}<\/label><input type="text" id="xheMediaHeight" style="width:40px;" value="400" \/><\/div><div style="text-align:right;"><input type="button" id="xheSave" value="{#dialogOk}" \/><\/div>',htmlTable='<div><label for="xheTableRows">{#table.rows}<\/label><input type="text" id="xheTableRows" style="width:40px;" value="3" \/> <label for="xheTableColumns">{#table.columns}<\/label><input type="text" id="xheTableColumns" style="width:40px;" value="2" \/><\/div><div><label for="xheTableHeaders">{#table.headers}<\/label><select id="xheTableHeaders"><option selected="selected" value="">{#none}<\/option><option value="row">{#table.headersRow}<\/option><option value="col">{#table.headersCol}<\/option><option value="both">{#table.headersBoth}<\/option><\/select><\/div><div><label for="xheTableWidth">{#table.width}<\/label><input type="text" id="xheTableWidth" style="width:40px;" value="200" \/> <label for="xheTableHeight">{#table.height}<\/label><input type="text" id="xheTableHeight" style="width:40px;" value="" \/><\/div><div><label for="xheTableBorder">{#table.border}<\/label><input type="text" id="xheTableBorder" style="width:40px;" value="1" \/><\/div><div><label for="xheTableCellSpacing">{#table.cellSpacing}<\/label><input type="text" id="xheTableCellSpacing" style="width:40px;" value="1" \/> <label for="xheTableCellPadding">{#table.cellPadding}<\/label><input type="text" id="xheTableCellPadding" style="width:40px;" value="1" \/><\/div><div><label for="xheTableAlign">{#table.align}<\/label><select id="xheTableAlign"><option selected="selected" value="">{#default}<\/option><option value="left">{#table.alignLeft}<\/option><option value="center">{#table.alignCenter}<\/option><option value="right">{#table.alignRight}<\/option><\/select><\/div><div><label for="xheTableCaption">{#table.caption}<\/label><input type="text" id="xheTableCaption" \/><\/div><div style="text-align:right;"><input type="button" id="xheSave" value="{#dialogOk}" \/><\/div>',htmlAbout='<div style="font:12px Arial;width:245px;word-wrap:break-word;word-break:break-all;outline:none;" role="dialog" tabindex="-1"><p><span style="font-size:20px;color:#1997DF;">xhEditor<\/span><br \/>v1.2.1 (build 130225)<\/p><p>{#aboutXheditor}<\/p><p>Copyright &copy; <a href="http:\/\/xheditor.com\/" target="_blank">xhEditor.com<\/a>. All rights reserved.<\/p><\/div>',itemEmots={"default":{name:"{#default}",width:24,height:24,line:7,list:["smile","tongue","titter","laugh","sad","wronged","fastcry","cry","wail","mad","knock","curse","crazy","angry","ohmy","awkward","panic","shy","cute","envy","proud","struggle","quiet","shutup","doubt","despise","sleep","bye"]}},arrTools={Cut:{t:"Cut"},Copy:{t:"Copy"},Paste:{t:"Paste"},Pastetext:{t:"Pastetext",h:isIE?0:1},Blocktag:{t:"Blocktag",h:1},Fontface:{t:"Fontface",h:1},FontSize:{t:"FontSize",h:1},Bold:{t:"Bold",s:"Ctrl+B"},Italic:{t:"Italic",s:"Ctrl+I"},Underline:{t:"Underline",s:"Ctrl+U"},Strikethrough:{t:"Strikethrough"},FontColor:{t:"FontColor",h:1},BackColor:{t:"BackColor",h:1},SelectAll:{t:"SelectAll"},Removeformat:{t:"Removeformat"},Align:{t:"Align",h:1},List:{t:"List",h:1},Outdent:{t:"Outdent"},Indent:{t:"Indent"},Link:{t:"Link",s:"Ctrl+L",h:1},Unlink:{t:"Unlink"},Anchor:{t:"Anchor",h:1},Img:{t:"Img",h:1},Flash:{t:"Flash",h:1},Media:{t:"Media",h:1},Hr:{t:"Hr"},Emot:{t:"Emot",s:"ctrl+e",h:1},Table:{t:"Table",h:1},Source:{t:"Source"},Preview:{t:"Preview"},Print:{t:"Print",s:"Ctrl+P"},Fullscreen:{t:"Fullscreen",s:"Esc"},About:{t:"About"}},toolsThemes={mini:"Bold,Italic,Underline,Strikethrough,|,Align,List,|,Link,Img",simple:"Blocktag,Fontface,FontSize,Bold,Italic,Underline,Strikethrough,FontColor,BackColor,|,Align,List,Outdent,Indent,|,Link,Img,Emot",full:"Cut,Copy,Paste,Pastetext,|,Blocktag,Fontface,FontSize,Bold,Italic,Underline,Strikethrough,FontColor,BackColor,SelectAll,Removeformat,|,Align,List,Outdent,Indent,|,Link,Unlink,Anchor,Img,Flash,Media,Hr,Emot,Table,|,Source,Preview,Print,Fullscreen"};toolsThemes.mfull=toolsThemes.full.replace(\/\\|(,Align)\/i,"\/$1");var arrDbClick={a:"Link",img:"Img",embed:"Embed"},uploadInputname="filedata",arrEntities={"<":"&lt;",">":"&gt;",'"':"&quot;","\\u00ae":"&reg;","\\u00a9":"&copy;"},regEntities=\/[<>"\\u00ae\\u00a9]\/g,Xheditor=function(textarea,options){function checkDblClick(e){var t=e.target,i=arrDbClick[t.tagName.toLowerCase()];if(i){if("Embed"===i){var s={"application\/x-shockwave-flash":"Flash","application\/x-mplayer2":"Media"};i=s[t.type.toLowerCase()]}_this.exec(i)}}function checkEsc(e){return 27===e.which?(bShowModal?_this.removeModal():bShowPanel&&_this.hidePanel(),!1):undefined}function loadReset(){setTimeout(_this.setSource,10)}function saveResult(){_this.getSource()}function cleanPaste(e){var t,i,s;if(e&&(t=e.originalEvent.clipboardData)&&(i=t.items)&&(s=i[0])&&"file"==s.kind&&s.type.match(\/^image\\\/\/i)){var a=s.getAsFile(),n=new FileReader;return n.onload=function(){var e='<img src="'+event.target.result+'">';e=replaceRemoteImg(e),_this.pasteHTML(e)},n.readAsDataURL(a),!1}var o=settings.cleanPaste;if(0===o||bSource||bCleanPaste)return!0;bCleanPaste=!0,_this.saveBookmark();var l=isIE?"pre":"div",r=$("<"+l+' class="xhe-paste">\\ufeff\\ufeff<\/'+l+">",_doc).appendTo(_doc.body),h=r[0],c=_this.getSel(),d=_this.getRng(!0);r.css("top",_jWin.scrollTop()),isIE?(d.moveToElementText(h),d.select()):(d.selectNodeContents(h),c.removeAllRanges(),c.addRange(d)),setTimeout(function(){var e,t=3===o;if(t)r.html(r.html().replace(\/<br(\\s+[^<>]*)?>\/gi,"\\n")),e=r.text();else{var i=$(".xhe-paste",_doc.body),s=[];i.each(function(e,t){0==$(t).find(".xhe-paste").length&&s.push(t.innerHTML)}),e=s.join("<br \/>")}r.remove(),_this.loadBookmark(),e=e.replace(\/^[\\s\\uFEFF]+|[\\s\\uFEFF]+$\/g,""),e&&(t?_this.pasteText(e):(e=_this.cleanHTML(e),e=_this.cleanWord(e),e=_this.formatXHTML(e),(!settings.onPaste||settings.onPaste&&(e=settings.onPaste(e))!==!1)&&(e=replaceRemoteImg(e),_this.pasteHTML(e)))),bCleanPaste=!1},0)}function replaceRemoteImg(e){var t=settings.localUrlTest,i=settings.remoteImgSaveUrl;if(t&&i){var s=[],a=0;e=e.replace(\/(<img)((?:\\s+[^>]*?)?(?:\\s+src="\\s*([^"]+)\\s*")(?: [^>]*)?)(\\\/?>)\/gi,function(e,i,n,o,l){return!\/^(https?|data:image)\/i.test(o)||\/_xhe_temp\/.test(n)||t.test(o)||(s[a]=o,n=n.replace(\/\\s+(width|height)="[^"]*"\/gi,"").replace(\/\\s+src="[^"]*"\/gi,' src="'+skinPath+'img\/waiting.gif" remoteimg="'+a++ +'"')),i+n+l}),s.length>0&&$.post(i,{urls:s.join("|")},function(e){e=e.split("|"),$("img[remoteimg]",_this.doc).each(function(){var t=$(this);xheAttr(t,"src",e[t.attr("remoteimg")]),t.removeAttr("remoteimg")})})}return e}function setCSS(e){try{_this._exec("styleWithCSS",e,!0)}catch(t){try{_this._exec("useCSS",!e,!0)}catch(t){}}}function setOpts(){if(bInit&&!bSource){setCSS(!1);try{_this._exec("enableObjectResizing",!0,!0)}catch(e){}if(isIE)try{_this._exec("BackgroundImageCache",!0,!0)}catch(e){}}}function forcePtag(e){if(bSource||13!==e.which||e.shiftKey||e.ctrlKey||e.altKey)return!0;var t=_this.getParent("p,h1,h2,h3,h4,h5,h6,pre,address,div,li");return t.is("li")?!0:settings.forcePtag?(0===t.length&&_this._exec("formatblock","<p>"),undefined):(_this.pasteHTML("<br \/>"),isIE&&t.length>0&&2===_this.getRng().parentElement().childNodes.length&&_this.pasteHTML("<br \/>"),!1)}function fixFullHeight(){isMozilla||isWebkit||(bFullscreen&&_jArea.height("100%").css("height",_jArea.outerHeight()-_jTools.outerHeight()),isIE&&_jTools.hide().show())}function fixAppleSel(e){if(e=e.target,e.tagName.match(\/(img|embed)\/i)){var t=_this.getSel(),i=_this.getRng(!0);i.selectNode(e),t.removeAllRanges(),t.addRange(i)}}function xheAttr(e,t,i){if(!t)return!1;var s="_xhe_"+t;return i&&(urlType&&(i=getLocalUrl(i,urlType,urlBase)),e.attr(t,urlBase?getLocalUrl(i,"abs",urlBase):i).removeAttr(s).attr(s,i)),e.attr(s)||e.attr(t)}function clickCancelPanel(){bClickCancel&&_this.hidePanel()}function checkShortcuts(e){if(bSource)return!0;var t=e.which,i=specialKeys[t],s=i?i:String.fromCharCode(t).toLowerCase();sKey="",sKey+=e.ctrlKey?"ctrl+":"",sKey+=e.altKey?"alt+":"",sKey+=e.shiftKey?"shift+":"",sKey+=s;var a,n=arrShortCuts[sKey];for(a in n){if(a=n[a],!$.isFunction(a))return _this.exec(a),!1;if(a.call(_this)===!1)return!1}}function is(e,t){var i=typeof e;return t?"array"===t&&e.hasOwnProperty&&e instanceof Array?!0:i===t:"undefined"!=i}function getLocalUrl(e,t,i){if(e.match(\/^(\\w+):\\\/\\\/\/i)&&!e.match(\/^https?:\/i)||\/^#\/i.test(e)||\/^data:\/i.test(e))return e;var s=i?$('<a href="'+i+'" \/>')[0]:location,a=s.protocol,n=s.host,o=s.hostname,l=s.port,r=s.pathname.replace(\/\\\\\/g,"\/").replace(\/[^\\\/]+$\/i,"");if(""===l&&(l="80"),""===r?r="\/":"\/"!==r.charAt(0)&&(r="\/"+r),e=$.trim(e),"abs"!==t&&(e=e.replace(RegExp(a+"\\\\\/\\\\\/"+o.replace(\/\\.\/g,"\\\\.")+"(?::"+l+")"+("80"===l?"?":"")+"(\/|$)","i"),"\/")),"rel"===t&&(e=e.replace(RegExp("^"+r.replace(\/([\\\/\\.\\+\\[\\]\\(\\)])\/g,"\\\\$1"),"i"),"")),"rel"!==t&&(e.match(\/^(https?:\\\/\\\/|\\\/)\/i)||(e=r+e),"\/"===e.charAt(0))){var h,c,d=[],u=e.split("\/"),p=u.length;for(c=0;p>c;c++)h=u[c],".."===h?d.pop():""!==h&&"."!==h&&d.push(h);""===u[p-1]&&d.push(""),e="\/"+d.join("\/")}return"abs"!==t||e.match(\/^https?:\\\/\\\/\/i)||(e=a+"\/\/"+n+e),e=e.replace(\/(https?:\\\/\\\/[^:\\\/?#]+):80(\\\/|$)\/i,"$1$2")}function checkFileExt(e,t){return"*"===t||e.match(RegExp(".("+t.replace(\/,\/g,"|")+")$","i"))?!0:(alert(getLang("upload.extLimit",t)),!1)}function formatBytes(e){var t=["Byte","KB","MB","GB","TB","PB"],i=Math.floor(Math.log(e)\/Math.log(1024));return(e\/Math.pow(1024,Math.floor(i))).toFixed(2)+t[i]}function returnFalse(){return!1}var _this=this,_text=textarea,_jText=$(_text),_jForm=_jText.closest("form"),_jTools,_jArea,_win,_jWin,_doc,_jDoc,bookmark,bInit=!1,bSource=!1,bFullscreen=!1,bCleanPaste=!1,outerScroll,bShowBlocktag=!1,sLayoutStyle="",ev=null,timer,bDisableHoverExec=!1,bQuickHoverExec=!1,lastPoint=null,lastAngle=null,editorHeight=0,settings=_this.settings=$.extend({},XHEDITOR.settings,options),plugins=settings.plugins,strPlugins=[];if(plugins&&(arrTools=$.extend({},arrTools,plugins),$.each(plugins,function(e){strPlugins.push(e)}),strPlugins=strPlugins.join(",")),settings.tools.match(\/^\\s*(m?full|simple|mini)\\s*$\/i)){var toolsTheme=toolsThemes[$.trim(settings.tools)];settings.tools=settings.tools.match(\/m?full\/i)&&plugins?toolsTheme.replace("Table","Table,"+strPlugins):toolsTheme}settings.tools.match(\/(^|,)\\s*About\\s*(,|$)\/i)||(settings.tools+=",About"),settings.tools=settings.tools.split(","),settings.editorRoot&&(editorRoot=settings.editorRoot),bAir===!1&&(editorRoot=getLocalUrl(editorRoot,"abs")),settings.urlBase&&(settings.urlBase=getLocalUrl(settings.urlBase,"abs"));var idCSS="xheCSS_"+settings.skin,idContainer="xhe"+xCount+"_container",idTools="xhe"+xCount+"_Tool",idIframeArea="xhe"+xCount+"_iframearea",idIframe="xhe"+xCount+"_iframe",idFixFFCursor="xhe"+xCount+"_fixffcursor",headHTML="",bodyClass="",skinPath=editorRoot+"xheditor_skin\/"+settings.skin+"\/",arrEmots=itemEmots,urlType=settings.urlType,urlBase=settings.urlBase,emotPath=settings.emotPath,emotPath=emotPath?emotPath:editorRoot+"xheditor_emot\/",selEmotGroup="";arrEmots=$.extend({},arrEmots,settings.emots),emotPath=getLocalUrl(emotPath,"rel",urlBase?urlBase:null),bShowBlocktag=settings.showBlocktag,bShowBlocktag&&(bodyClass+=" showBlocktag");var arrShortCuts=[];this.init=function(){function e(e){var t,i=$(e.target);(t=i.css("width"))&&i.css("width","").attr("width",t.replace(\/[^0-9%]+\/g,"")),(t=i.css("height"))&&i.css("height","").attr("height",t.replace(\/[^0-9%]+\/g,""))}0===$("#"+idCSS).length&&$("head").append('<link id="'+idCSS+'" rel="stylesheet" type="text\/css" href="'+skinPath+'ui.css" \/>');var t=_jText.outerWidth(),i=_jText.outerHeight(),s=settings.width||_text.style.width||(t>10?t:0);editorHeight=settings.height||_text.style.height||(i>10?i:150),\/^\\d+(?:\\.\\d+)?$\/.test(s)&&(s+="px"),is(editorHeight,"string")&&(editorHeight=editorHeight.replace(\/[^\\d]+\/g,""));var a,n,o=settings.background||_text.style.background,l=['<span class="xheGStart"\/>'],r=\/\\||\\\/\/i;$.each(settings.tools,function(e,t){if(t.match(r)&&l.push('<span class="xheGEnd"\/>'),"|"===t)l.push('<span class="xheSeparator"\/>');else if("\/"===t)l.push("<br \/>");else{if(a=arrTools[t],!a)return;n=a.c?a.c:"xheIcon xheBtn"+t,l.push('<span><a href="#" title="{#'+a.t+'}" cmd="'+t+'" class="xheButton xheEnabled" tabindex="-1" role="button"><span class="'+n+'" unselectable="on" style="font-size:0;color:transparent;text-indent:-999px;">'+a.t+"<\/span><\/a><\/span>"),a.s&&_this.addShortcuts(a.s,t)}t.match(r)&&l.push('<span class="xheGStart"\/>')}),l.push('<span class="xheGEnd"\/><br \/>'),_jText.after($('<input type="text" id="'+idFixFFCursor+'" style="position:absolute;display:none;" \/><span id="'+idContainer+'" class="xhe_'+settings.skin+'" style="display:none"><table cellspacing="0" cellpadding="0" class="xheLayout" style="'+("0px"!=s?"width:"+s+";":"")+"height:"+editorHeight+'px;" role="presentation"><tr><td id="'+idTools+'" class="xheTool" unselectable="on" style="height:1px;" role="presentation"><\/td><\/tr><tr><td id="'+idIframeArea+'" class="xheIframeArea" role="presentation"><iframe frameborder="0" id="'+idIframe+'" src="javascript:;" style="width:100%;"><\/iframe><\/td><\/tr><\/table><\/span>')),_jTools=$("#"+idTools),_jArea=$("#"+idIframeArea),headHTML='<meta http-equiv="Content-Type" content="text\/html; charset=utf-8" \/><link rel="stylesheet" href="'+skinPath+'iframe.css"\/>';var h=settings.loadCSS;if(h)if(is(h,"array"))for(var c in h)headHTML+='<link rel="stylesheet" href="'+h[c]+'"\/>';else headHTML+=h.match(\/\\s*<style(\\s+[^>]*?)?>[\\s\\S]+?<\\\/style>\\s*\/i)?h:'<link rel="stylesheet" href="'+h+'"\/>';var d='<!DOCTYPE html><html xmlns="http:\/\/www.w3.org\/1999\/xhtml"><head>'+headHTML+"<title>{#defaultReadTip} "+(settings.readTip?settings.readTip:"")+"<\/title>";o&&(d+="<style>html{background:"+o+";}<\/style>"),d+='<\/head><body spellcheck="0" class="editMode'+bodyClass+'"><\/body><\/html>',_this.win=_win=$("#"+idIframe)[0].contentWindow,_jWin=$(_win);try{this.doc=_doc=_win.document,_jDoc=$(_doc),_doc.open(),_doc.write(getLang(d)),_doc.close(),isIE?_doc.body.contentEditable="true":_doc.designMode="On"}catch(u){}setTimeout(setOpts,300),_this.setSource(),_win.setInterval=null,_jTools.append(getLang(l.join(""))).bind("mousedown contextmenu",returnFalse).click(function(e){var t=$(e.target).closest("a");return t.is(".xheEnabled")&&(clearTimeout(timer),_jTools.find("a").attr("tabindex","-1"),ev=e,_this.exec(t.attr("cmd"))),!1}),_jTools.find(".xheButton").hover(function(e){var t=$(this),i=settings.hoverExecDelay,s=lastAngle;if(lastAngle=null,-1===i||bDisableHoverExec||!t.is(".xheEnabled"))return!1;if(s&&s>10)return bDisableHoverExec=!0,setTimeout(function(){bDisableHoverExec=!1},100),!1;var a=t.attr("cmd"),n=1===arrTools[a].h;return n?(bQuickHoverExec&&(i=0),i>=0&&(timer=setTimeout(function(){ev=e,lastPoint={x:ev.clientX,y:ev.clientY},_this.exec(a)},i)),undefined):(_this.hidePanel(),!1)},function(){lastPoint=null,timer&&clearTimeout(timer)}).mousemove(function(e){if(lastPoint){var t={x:e.clientX-lastPoint.x,y:e.clientY-lastPoint.y};if(Math.abs(t.x)>1||Math.abs(t.y)>1){if(t.x>0&&t.y>0){var i=Math.round(Math.atan(t.y\/t.x)\/.017453293);lastAngle=lastAngle?(lastAngle+i)\/2:i}else lastAngle=null;lastPoint={x:e.clientX,y:e.clientY}}}}),_jPanel=$("#xhePanel"),_jShadow=$("#xheShadow"),_jCntLine=$("#xheCntLine"),0===_jPanel.length&&(_jPanel=$('<div id="xhePanel"><\/div>').mousedown(function(e){e.stopPropagation()}),_jShadow=$('<div id="xheShadow"><\/div>'),_jCntLine=$('<div id="xheCntLine"><\/div>'),setTimeout(function(){$(document.body).append(_jPanel).append(_jShadow).append(_jCntLine)},10)),$("#"+idContainer).show(),_jText.hide(),_jArea.css("height",editorHeight-_jTools.outerHeight()),isIE&8>browerVer&&setTimeout(function(){_jArea.css("height",editorHeight-_jTools.outerHeight())},1),_jText.focus(_this.focus),_jForm.submit(saveResult).bind("reset",loadReset),settings.submitID&&$("#"+settings.submitID).mousedown(saveResult),$(window).bind("unload beforeunload",saveResult).bind("resize",fixFullHeight),$(document).mousedown(clickCancelPanel),bCheckEscInit||($(document).keydown(checkEsc),bCheckEscInit=!0),_jWin.focus(function(){settings.focus&&settings.focus()}).blur(function(){settings.blur&&settings.blur()}),isWebkit&&_jWin.click(fixAppleSel),_jDoc.mousedown(clickCancelPanel).keydown(checkShortcuts).keypress(forcePtag).dblclick(checkDblClick).bind("mousedown click",function(e){_jText.trigger(e.type)}),isIE&&(_jDoc.keydown(function(e){var t=_this.getRng();return 8===e.which&&t.item?($(t.item(0)).remove(),!1):undefined}),_jDoc.bind("controlselect",function(t){t=t.target,$.nodeName(t,"IMG")&&$(t).unbind("resizeend",e).bind("resizeend",e)})),_jDoc.keydown(function(e){var t=e.which;return e.altKey&&t>=49&&57>=t?(_jTools.find("a").attr("tabindex","0"),_jTools.find(".xheGStart").eq(t-49).next().find("a").focus(),_doc.title="\\ufeff\\ufeff",!1):undefined}).click(function(){_jTools.find("a").attr("tabindex","-1")}),_jTools.keydown(function(e){var t=e.which;if(27==t)_jTools.find("a").attr("tabindex","-1"),_this.focus();else if(e.altKey&&t>=49&&57>=t)return _jTools.find(".xheGStart").eq(t-49).next().find("a").focus(),!1});var p=$(_doc.documentElement);isOpera?p.bind("keydown",function(e){e.ctrlKey&&86===e.which&&cleanPaste()}):p.bind(isIE?"beforepaste":"paste",cleanPaste),settings.disableContextmenu&&p.bind("contextmenu",returnFalse),settings.html5Upload&&p.bind("dragenter dragover",function(e){var t;return(t=e.originalEvent.dataTransfer.types)&&-1!==$.inArray("Files",t)?!1:undefined}).bind("drop",function(e){function t(e){var t,i,s;for(a=0;e.length>a;a++){if(i=e[a].name.replace(\/.+\\.\/,""),!(t=o.match(RegExp("(\\\\w+):[^:]*,"+i+"(?:,|$)","i"))))return 1;if(s){if(s!==t[1])return 2}else s=t[1]}return s}var i,s=e.originalEvent.dataTransfer;if(s&&(i=s.files)&&i.length>0){var a,n,o,l=["Link","Img","Flash","Media"],r=[];for(a in l)n=l[a],settings["up"+n+"Url"]&&settings["up"+n+"Url"].match(\/^[^!].*\/i)&&r.push(n+":,"+settings["up"+n+"Ext"]);return 0===r.length?!1:(o=r.join(","),n=t(i),1===n?alert(getLang("upload.extLimit",o.replace(\/\\w+:,\/g,""))):2===n?alert(getLang("upload.typeLimit")):n&&_this.startUpload(i,settings["up"+n+"Url"],"*",function(e){var t,i=[],s=settings.onUpload;s&&s(e);for(var a=0,o=e.length;o>a;a++)t=e[a],url=is(t,"string")?t:t.url,"!"===url.substr(0,1)&&(url=url.substr(1)),i.push(url);_this.exec(n),$("#xhe"+n+"Url").val(i.join(" ")),$("#xheSave").click()}),!1)}});var g=settings.shortcuts;g&&$.each(g,function(e,t){_this.addShortcuts(e,t)}),xCount++,bInit=!0,settings.fullscreen?_this.toggleFullscreen():settings.sourceMode&&setTimeout(_this.toggleSource,20);var f=settings.plugins;return f&&$.each(f,function(e,t){var i=t.i;i!==undefined&&i(_this)}),!0},this.remove=function(){_this.hidePanel(),saveResult(),_jText.unbind("focus",_this.focus),_jForm.unbind("submit",saveResult).unbind("reset",loadReset),settings.submitID&&$("#"+settings.submitID).unbind("mousedown",saveResult),$(window).unbind("unload beforeunload",saveResult).unbind("resize",fixFullHeight),$(document).unbind("mousedown",clickCancelPanel),$("#"+idContainer).remove(),$("#"+idFixFFCursor).remove(),_jText.show(),bInit=!1},this.saveBookmark=function(){if(!bSource){_this.focus();var e=_this.getRng();e=e.cloneRange?e.cloneRange():e,bookmark={top:_jWin.scrollTop(),rng:e}}},this.loadBookmark=function(){if(!bSource&&bookmark){_this.focus();var e=bookmark.rng;if(isIE)e.select();else{var t=_this.getSel();t.removeAllRanges(),t.addRange(e)}_jWin.scrollTop(bookmark.top),bookmark=null}},this.focus=function(){if(bSource?$("#sourceCode",_doc).focus():_win.focus(),isIE){var e=_this.getRng();e.parentElement&&e.parentElement().ownerDocument!==_doc&&_this.setTextCursor()}return!1},this.setTextCursor=function(e){var t=_this.getRng(!0),i=_doc.body;if(isIE)t.moveToElementText(i);else{for(var s=e?"lastChild":"firstChild";3!=i.nodeType&&i[s];)i=i[s];t.selectNode(i)}if(t.collapse(e?!1:!0),isIE)t.select();else{var a=_this.getSel();a.removeAllRanges(),a.addRange(t)}},this.getSel=function(){return _doc.selection?_doc.selection:_win.getSelection()},this.getRng=function(e){var t,i;try{e||(t=_this.getSel(),i=t.createRange?t.createRange():t.rangeCount>0?t.getRangeAt(0):null),i||(i=_doc.body.createTextRange?_doc.body.createTextRange():_doc.createRange())}catch(s){}return i},this.getParent=function(e){var t,i=_this.getRng();return isIE?t=i.item?i.item(0):i.parentElement():(t=i.commonAncestorContainer,i.collapsed||i.startContainer===i.endContainer&&2>i.startOffset-i.endOffset&&i.startContainer.hasChildNodes()&&(t=i.startContainer.childNodes[i.startOffset])),e=e?e:"*",t=$(t),t.is(e)||(t=$(t).closest(e)),t},this.getSelect=function(e){var t=_this.getSel(),i=_this.getRng(),s=!0;if(s=!i||i.item?!1:!t||0===i.boundingWidth||i.collapsed,"text"===e)return s?"":i.text||(t.toString?""+t:"");var a;if(i.cloneContents){var n,o=$("<div><\/div>");n=i.cloneContents(),n&&o.append(n),a=o.html()}else a=is(i.item)?i.item(0).outerHTML:is(i.htmlText)?i.htmlText:""+i;return s&&(a=""),a=_this.processHTML(a,"read"),a=_this.cleanHTML(a),a=_this.formatXHTML(a)},this.pasteHTML=function(e,t){if(bSource)return!1;_this.focus(),e=_this.processHTML(e,"write");var i=_this.getSel(),s=_this.getRng();if(t!==undefined){if(s.item){var a=s.item(0);s=_this.getRng(!0),s.moveToElementText(a),s.select()}s.collapse(t)}if(e+="<"+(isIE?"img":"span")+' id="_xhe_temp" width="0" height="0" \/>',s.insertNode){if($(s.startContainer).closest("style,script").length>0)return!1;s.deleteContents(),s.insertNode(s.createContextualFragment(e))}else"control"===i.type.toLowerCase()&&(i.clear(),s=_this.getRng()),s.pasteHTML(e);var n=$("#_xhe_temp",_doc),o=n[0];isIE?(s.moveToElementText(o),s.select()):(s.selectNode(o),i.removeAllRanges(),i.addRange(s)),n.remove()},this.pasteText=function(e,t){e||(e=""),e=_this.domEncode(e),e=e.replace(\/\\r?\\n\/g,"<br \/>"),_this.pasteHTML(e,t)},this.appendHTML=function(e){return bSource?!1:(_this.focus(),e=_this.processHTML(e,"write"),$(_doc.body).append(e),_this.setTextCursor(!0),undefined)},this.domEncode=function(e){return e.replace(regEntities,function(e){return arrEntities[e]})},this.setSource=function(e){bookmark=null,"string"!=typeof e&&""!==e&&(e=_text.value),bSource?$("#sourceCode",_doc).val(e):(settings.beforeSetSource&&(e=settings.beforeSetSource(e)),e=_this.cleanHTML(e),e=_this.formatXHTML(e),e=_this.processHTML(e,"write"),isIE?(_doc.body.innerHTML='<img id="_xhe_temp" width="0" height="0" \/>'+e,$("#_xhe_temp",_doc).remove()):_doc.body.innerHTML=e)},this.processHTML=function(e,t){function i(e,t,i,s,a,o){var l,r,h,c,d="";if(l=s.match(\/font-family\\s*:\\s*([^;"]+)\/i),l&&(d+=' face="'+l[1]+'"'),r=s.match(\/font-size\\s*:\\s*([^;"]+)\/i)){r=r[1].toLowerCase();for(var u=0;n.length>u;u++)if(r===n[u].n||r===n[u].s){h=u+1;break}h&&(d+=' size="'+h+'"',s=s.replace(\/(^|;)(\\s*font-size\\s*:\\s*[^;"]+;?)+\/gi,"$1"))}if(c=s.match(\/(?:^|[\\s;])color\\s*:\\s*([^;"]+)\/i)){var p;if(p=c[1].match(\/\\s*rgb\\s*\\(\\s*(\\d+)\\s*,\\s*(\\d+)\\s*,\\s*(\\d+)\\s*\\)\/i)){c[1]="#";for(var g=1;3>=g;g++)c[1]+=("0"+(p[g]-0).toString(16)).slice(-2)}c[1]=c[1].replace(\/^#([0-9a-f])([0-9a-f])([0-9a-f])$\/i,"#$1$1$2$2$3$3"),d+=' color="'+c[1]+'"'}return s=s.replace(\/(^|;)(\\s*(font-family|color)\\s*:\\s*[^;"]+;?)+\/gi,"$1"),""!==d?(s&&(d+=' style="'+s+'"'),"<font"+(i?i:"")+d+(a?a:"")+">"+o+"<\/font>"):e}function s(e,t,i,s,a){for(var n,l,r=(i?i:"")+(s?s:""),h=[],c=[],d=0;o.length>d;d++)n=o[d].r,l=o[d].t,r=r.replace(n,function(){return h.push("<"+l+">"),c.push("<\/"+l+">"),""});return r=r.replace(\/\\s+style\\s*=\\s*"\\s*"\/i,""),(r?"<span"+r+">":"")+h.join("")+a+c.join("")+(r?"<\/span>":"")}var a=' class="Apple-style-span"',n=settings.listFontsize;if("write"===t)e=e.replace(\/(<(\\\/?)(\\w+))((?:\\s+[\\w\\-:]+\\s*=\\s*(?:"[^"]*"|'[^']*'|[^>\\s]+))*)\\s*((\\\/?)>)\/g,function(e,t,i,s,n,o,l){s=s.toLowerCase(),isMozilla?"strong"===s?s="b":"em"===s&&(s="i"):isWebkit&&("strong"===s?(s="span",i||(n+=a+' style="font-weight: bold;"')):"em"===s?(s="span",i||(n+=a+' style="font-style: italic;"')):"u"===s?(s="span",i||(n+=a+' style="text-decoration: underline;"')):"strike"===s&&(s="span",i||(n+=a+' style="text-decoration: line-through;"')));var r,h="";if("del"===s)s="strike";else if("img"===s)n=n.replace(\/\\s+emot\\s*=\\s*("[^"]*"|'[^']*'|[^>\\s]+)\/i,function(e,t){return r=t.match(\/^(["']?)(.*)\\1\/)[2],r=r.split(","),r[1]||(r[1]=r[0],r[0]=""),"default"===r[0]&&(r[0]=""),settings.emotMark?e:""});else if("a"===s)!n.match(\/ href=[^ ]\/i)&&n.match(\/ name=[^ ]\/i)&&(h+=" xhe-anchor"),l&&(o="><\/a>");else if("table"===s&&!i){var c=n.match(\/\\s+border\\s*=\\s*("[^"]*"|'[^']*'|[^>\\s]+)\/i);(!c||c[1].match(\/^(["']?)\\s*0\\s*\\1$\/))&&(h+=" xhe-border")}var d;if(n=n.replace(\/\\s+([\\w\\-:]+)\\s*=\\s*("[^"]*"|'[^']*'|[^>\\s]+)\/g,function(e,t,i){return t=t.toLowerCase(),i=i.match(\/^(["']?)(.*)\\1\/)[2],aft="",isIE&&t.match(\/^(disabled|checked|readonly|selected)$\/)&&i.match(\/^(false|0)$\/i)?"":"img"===s&&r&&"src"===t?"":(t.match(\/^(src|href)$\/)&&(aft=" _xhe_"+t+'="'+i+'"',urlBase&&(i=getLocalUrl(i,"abs",urlBase))),h&&"class"===t&&(i+=" "+h,h=""),isWebkit&&"style"===t&&"span"===s&&i.match(\/(^|;)\\s*(font-family|font-size|color|background-color)\\s*:\\s*[^;]+\\s*(;|$)\/i)&&(d=!0)," "+t+'="'+i+'"'+aft)}),r){var u=emotPath+(r[0]?r[0]:"default")+"\/"+r[1]+".gif";n+=' src="'+u+'" _xhe_src="'+u+'"'}return d&&(n+=a),h&&(n+=' class="'+h+'"'),"<"+i+s+n+o}),isIE&&(e=e.replace(\/&apos;\/gi,"&#39;")),isWebkit||(e=e.replace(\/<(span)(\\s+[^>]*?)?\\s+style\\s*=\\s*"((?:[^"]*?;)?\\s*(?:font-family|font-size|color)\\s*:[^"]*)"( [^>]*)?>(((?!<\\1(\\s+[^>]*?)?>)[\\s\\S]|<\\1(\\s+[^>]*?)?>((?!<\\1(\\s+[^>]*?)?>)[\\s\\S]|<\\1(\\s+[^>]*?)?>((?!<\\1(\\s+[^>]*?)?>)[\\s\\S])*?<\\\/\\1>)*?<\\\/\\1>)*?)<\\\/\\1>\/gi,i),e=e.replace(\/<(span)(\\s+[^>]*?)?\\s+style\\s*=\\s*"((?:[^"]*?;)?\\s*(?:font-family|font-size|color)\\s*:[^"]*)"( [^>]*)?>(((?!<\\1(\\s+[^>]*?)?>)[\\s\\S]|<\\1(\\s+[^>]*?)?>((?!<\\1(\\s+[^>]*?)?>)[\\s\\S])*?<\\\/\\1>)*?)<\\\/\\1>\/gi,i),e=e.replace(\/<(span)(\\s+[^>]*?)?\\s+style\\s*=\\s*"((?:[^"]*?;)?\\s*(?:font-family|font-size|color)\\s*:[^"]*)"( [^>]*)?>(((?!<\\1(\\s+[^>]*?)?>)[\\s\\S])*?)<\\\/\\1>\/gi,i)),e=e.replace(\/<(td|th)(\\s+[^>]*?)?>(\\s|&nbsp;)*<\\\/\\1>\/gi,"<$1$2>"+(isIE?"":"<br \/>")+"<\/$1>");else{if(isWebkit)for(var o=[{r:\/font-weight\\s*:\\s*bold;?\/gi,t:"strong"},{r:\/font-style\\s*:\\s*italic;?\/gi,t:"em"},{r:\/text-decoration\\s*:\\s*underline;?\/gi,t:"u"},{r:\/text-decoration\\s*:\\s*line-through;?\/gi,t:"strike"}],l=0;2>l;l++)e=e.replace(\/<(span)(\\s+[^>]*?)?\\s+class\\s*=\\s*"Apple-style-span"(\\s+[^>]*?)?>(((?!<\\1(\\s+[^>]*?)?>)[\\s\\S]|<\\1(\\s+[^>]*?)?>((?!<\\1(\\s+[^>]*?)?>)[\\s\\S]|<\\1(\\s+[^>]*?)?>((?!<\\1(\\s+[^>]*?)?>)[\\s\\S])*?<\\\/\\1>)*?<\\\/\\1>)*?)<\\\/\\1>\/gi,s),e=e.replace(\/<(span)(\\s+[^>]*?)?\\s+class\\s*=\\s*"Apple-style-span"(\\s+[^>]*?)?>(((?!<\\1(\\s+[^>]*?)?>)[\\s\\S]|<\\1(\\s+[^>]*?)?>((?!<\\1(\\s+[^>]*?)?>)[\\s\\S])*?<\\\/\\1>)*?)<\\\/\\1>\/gi,s),e=e.replace(\/<(span)(\\s+[^>]*?)?\\s+class\\s*=\\s*"Apple-style-span"(\\s+[^>]*?)?>(((?!<\\1(\\s+[^>]*?)?>)[\\s\\S])*?)<\\\/\\1>\/gi,s);e=e.replace(\/(<(\\w+))((?:\\s+[\\w\\-:]+\\s*=\\s*(?:"[^"]*"|'[^']*'|[^>\\s]+))*)\\s*(\\\/?>)\/g,function(e,t,i,s,a){i=i.toLowerCase();$/;"	p
var.specialKeys.113	js/xheditor.min.js	/^(function(){var e={};window.XHEDITOR=e})(),function(e,t){e.mapLang={},e.setLang=function(i,s){s===t&&(s=i,i=""),""!==i&&(i+=".");var a,n;for(var o in s)n=s[o],a=i+o,"string"==typeof n||n instanceof Array?e.mapLang[a]=n:e.setLang(a,n)},e.getLang=function(i){var s=e.mapLang[i];if(s===t&&(s=i.replace(\/{#([^{}]+)}\/g,function(t,i){var s=e.mapLang[i];return s?s:i})),"string"==typeof s){var a=arguments;s=s.replace(\/{\\$(\\d+)}\/g,function(e,i){var s=a[parseInt(i,10)+1];return s!==t?s:e})}return s}}(XHEDITOR),function(XHEDITOR,$,undefined){var agent=navigator.userAgent.toLowerCase(),bMobile=\/mobile\/i.test(agent),browser=$.browser,browerVer=parseFloat(browser.version),isIE=browser.msie,isMozilla=browser.mozilla,isWebkit=browser.webkit,isOpera=browser.opera,isChrome=browser.chrome,bAir=agent.indexOf(" adobeair\/")>-1,xCount=0,bShowPanel=!1,bClickCancel=!0,bShowModal=!1,bCheckEscInit=!1,_jPanel,_jShadow,_jCntLine,_jPanelButton,jModal,jModalShadow,layerShadow,jOverlay,jHideSelect,onModalRemove,editorRoot,getLang=XHEDITOR.getLang;if($("script[src*=xheditor]").each(function(){var e=this.src;return e.match(\/xheditor[^\\\/]*\\.js\/i)?(editorRoot=e.replace(\/[\\?#].*$\/,"").replace(\/(^|[\\\/\\\\])[^\\\/]*$\/,"$1"),!1):undefined}),isIE){try{document.execCommand("BackgroundImageCache",!1,!0)}catch(e){}var jqueryVer=$.fn.jquery;jqueryVer&&jqueryVer.match(\/^1\\.[67]\/)&&($.attrHooks.width=$.attrHooks.height=null)}var specialKeys={27:"esc",9:"tab",32:"space",13:"enter",8:"backspace",145:"scroll",20:"capslock",144:"numlock",19:"pause",45:"insert",36:"home",46:"del",35:"end",33:"pageup",34:"pagedown",37:"left",38:"up",39:"right",40:"down",112:"f1",113:"f2",114:"f3",115:"f4",116:"f5",117:"f6",118:"f7",119:"f8",120:"f9",121:"f10",122:"f11",123:"f12"},arrAlign=[{v:"justifyleft"},{v:"justifycenter"},{v:"justifyright"},{v:"justifyfull"}],arrList=[{v:"insertOrderedList"},{v:"insertUnorderedList"}],htmlPastetext='<div><label for="xhePastetextValue">{#PastetextTip}<\/label><\/div><div><textarea id="xhePastetextValue" wrap="soft" spellcheck="false" style="width:300px;height:100px;" \/><\/div><div style="text-align:right;"><input type="button" id="xheSave" value="{#dialogOk}" \/><\/div>',htmlLink='<div><label for="xheLinkUrl">{#link.url}<\/label><input type="text" id="xheLinkUrl" value="http:\/\/" class="xheText" \/><\/div><div><label for="xheLinkTarget">{#link.target}<\/label><select id="xheLinkTarget"><option selected="selected" value="">{#default}<\/option><option value="_blank">{#link.targetBlank}<\/option><option value="_self">{#link.targetSelf}<\/option><option value="_parent">{#link.targetParent}<\/option><\/select><\/div><div style="display:none"><label for="xheLinkText">{#link.linkText}<\/label><input type="text" id="xheLinkText" value="" class="xheText" \/><\/div><div style="text-align:right;"><input type="button" id="xheSave" value="{#dialogOk}" \/><\/div>',htmlAnchor='<div><label for="xheAnchorName">{#anchor.name}<\/label><input type="text" id="xheAnchorName" value="" class="xheText" \/><\/div><div style="text-align:right;"><input type="button" id="xheSave" value="{#dialogOk}" \/><\/div>',htmlImg='<div><label for="xheImgUrl">{#img.url}<\/label><input type="text" id="xheImgUrl" value="http:\/\/" class="xheText" \/><\/div><div><div><label for="xheImgAlt">{#img.alt}<\/label><input type="text" id="xheImgAlt" \/><\/div><div><label for="xheImgAlign">{#img.align}<\/label><select id="xheImgAlign"><option selected="selected" value="">{#default}<\/option><option value="left">{#img.alignLeft}<\/option><option value="right">{#img.alignRight}<\/option><option value="top">{#img.alignTop}<\/option><option value="middle">{#img.alignMiddle}<\/option><option value="baseline">{#img.alignBaseline}<\/option><option value="bottom">{#img.alignBottom}<\/option><\/select><\/div><div><label for="xheImgWidth">{#img.width}<\/label><input type="text" id="xheImgWidth" style="width:40px;" \/> <label for="xheImgHeight">{#img.height}<\/label><input type="text" id="xheImgHeight" style="width:40px;" \/><\/div><div><label for="xheImgBorder">{#img.border}<\/label><input type="text" id="xheImgBorder" style="width:40px;" \/><\/div><div><label for="xheImgHspace">{#img.hspace}<\/label><input type="text" id="xheImgHspace" style="width:40px;" \/> <label for="xheImgVspace">{#img.vspace}<\/label><input type="text" id="xheImgVspace" style="width:40px;" \/><\/div><div style="text-align:right;"><input type="button" id="xheSave" value="{#dialogOk}" \/><\/div>',htmlFlash='<div><label for="xheFlashUrl">{#flash.url}<\/label><input type="text" id="xheFlashUrl" value="http:\/\/" class="xheText" \/><\/div><div><label for="xheFlashWidth">{#flash.width}<\/label><input type="text" id="xheFlashWidth" style="width:40px;" value="480" \/> <label for="xheFlashHeight">{#flash.height}<\/label><input type="text" id="xheFlashHeight" style="width:40px;" value="400" \/><\/div><div style="text-align:right;"><input type="button" id="xheSave" value="{#dialogOk}" \/><\/div>',htmlMedia='<div><label for="xheMediaUrl">{#media.url}<\/label><input type="text" id="xheMediaUrl" value="http:\/\/" class="xheText" \/><\/div><div><label for="xheMediaWidth">{#media.width}<\/label><input type="text" id="xheMediaWidth" style="width:40px;" value="480" \/> <label for="xheMediaHeight">{#media.height}<\/label><input type="text" id="xheMediaHeight" style="width:40px;" value="400" \/><\/div><div style="text-align:right;"><input type="button" id="xheSave" value="{#dialogOk}" \/><\/div>',htmlTable='<div><label for="xheTableRows">{#table.rows}<\/label><input type="text" id="xheTableRows" style="width:40px;" value="3" \/> <label for="xheTableColumns">{#table.columns}<\/label><input type="text" id="xheTableColumns" style="width:40px;" value="2" \/><\/div><div><label for="xheTableHeaders">{#table.headers}<\/label><select id="xheTableHeaders"><option selected="selected" value="">{#none}<\/option><option value="row">{#table.headersRow}<\/option><option value="col">{#table.headersCol}<\/option><option value="both">{#table.headersBoth}<\/option><\/select><\/div><div><label for="xheTableWidth">{#table.width}<\/label><input type="text" id="xheTableWidth" style="width:40px;" value="200" \/> <label for="xheTableHeight">{#table.height}<\/label><input type="text" id="xheTableHeight" style="width:40px;" value="" \/><\/div><div><label for="xheTableBorder">{#table.border}<\/label><input type="text" id="xheTableBorder" style="width:40px;" value="1" \/><\/div><div><label for="xheTableCellSpacing">{#table.cellSpacing}<\/label><input type="text" id="xheTableCellSpacing" style="width:40px;" value="1" \/> <label for="xheTableCellPadding">{#table.cellPadding}<\/label><input type="text" id="xheTableCellPadding" style="width:40px;" value="1" \/><\/div><div><label for="xheTableAlign">{#table.align}<\/label><select id="xheTableAlign"><option selected="selected" value="">{#default}<\/option><option value="left">{#table.alignLeft}<\/option><option value="center">{#table.alignCenter}<\/option><option value="right">{#table.alignRight}<\/option><\/select><\/div><div><label for="xheTableCaption">{#table.caption}<\/label><input type="text" id="xheTableCaption" \/><\/div><div style="text-align:right;"><input type="button" id="xheSave" value="{#dialogOk}" \/><\/div>',htmlAbout='<div style="font:12px Arial;width:245px;word-wrap:break-word;word-break:break-all;outline:none;" role="dialog" tabindex="-1"><p><span style="font-size:20px;color:#1997DF;">xhEditor<\/span><br \/>v1.2.1 (build 130225)<\/p><p>{#aboutXheditor}<\/p><p>Copyright &copy; <a href="http:\/\/xheditor.com\/" target="_blank">xhEditor.com<\/a>. All rights reserved.<\/p><\/div>',itemEmots={"default":{name:"{#default}",width:24,height:24,line:7,list:["smile","tongue","titter","laugh","sad","wronged","fastcry","cry","wail","mad","knock","curse","crazy","angry","ohmy","awkward","panic","shy","cute","envy","proud","struggle","quiet","shutup","doubt","despise","sleep","bye"]}},arrTools={Cut:{t:"Cut"},Copy:{t:"Copy"},Paste:{t:"Paste"},Pastetext:{t:"Pastetext",h:isIE?0:1},Blocktag:{t:"Blocktag",h:1},Fontface:{t:"Fontface",h:1},FontSize:{t:"FontSize",h:1},Bold:{t:"Bold",s:"Ctrl+B"},Italic:{t:"Italic",s:"Ctrl+I"},Underline:{t:"Underline",s:"Ctrl+U"},Strikethrough:{t:"Strikethrough"},FontColor:{t:"FontColor",h:1},BackColor:{t:"BackColor",h:1},SelectAll:{t:"SelectAll"},Removeformat:{t:"Removeformat"},Align:{t:"Align",h:1},List:{t:"List",h:1},Outdent:{t:"Outdent"},Indent:{t:"Indent"},Link:{t:"Link",s:"Ctrl+L",h:1},Unlink:{t:"Unlink"},Anchor:{t:"Anchor",h:1},Img:{t:"Img",h:1},Flash:{t:"Flash",h:1},Media:{t:"Media",h:1},Hr:{t:"Hr"},Emot:{t:"Emot",s:"ctrl+e",h:1},Table:{t:"Table",h:1},Source:{t:"Source"},Preview:{t:"Preview"},Print:{t:"Print",s:"Ctrl+P"},Fullscreen:{t:"Fullscreen",s:"Esc"},About:{t:"About"}},toolsThemes={mini:"Bold,Italic,Underline,Strikethrough,|,Align,List,|,Link,Img",simple:"Blocktag,Fontface,FontSize,Bold,Italic,Underline,Strikethrough,FontColor,BackColor,|,Align,List,Outdent,Indent,|,Link,Img,Emot",full:"Cut,Copy,Paste,Pastetext,|,Blocktag,Fontface,FontSize,Bold,Italic,Underline,Strikethrough,FontColor,BackColor,SelectAll,Removeformat,|,Align,List,Outdent,Indent,|,Link,Unlink,Anchor,Img,Flash,Media,Hr,Emot,Table,|,Source,Preview,Print,Fullscreen"};toolsThemes.mfull=toolsThemes.full.replace(\/\\|(,Align)\/i,"\/$1");var arrDbClick={a:"Link",img:"Img",embed:"Embed"},uploadInputname="filedata",arrEntities={"<":"&lt;",">":"&gt;",'"':"&quot;","\\u00ae":"&reg;","\\u00a9":"&copy;"},regEntities=\/[<>"\\u00ae\\u00a9]\/g,Xheditor=function(textarea,options){function checkDblClick(e){var t=e.target,i=arrDbClick[t.tagName.toLowerCase()];if(i){if("Embed"===i){var s={"application\/x-shockwave-flash":"Flash","application\/x-mplayer2":"Media"};i=s[t.type.toLowerCase()]}_this.exec(i)}}function checkEsc(e){return 27===e.which?(bShowModal?_this.removeModal():bShowPanel&&_this.hidePanel(),!1):undefined}function loadReset(){setTimeout(_this.setSource,10)}function saveResult(){_this.getSource()}function cleanPaste(e){var t,i,s;if(e&&(t=e.originalEvent.clipboardData)&&(i=t.items)&&(s=i[0])&&"file"==s.kind&&s.type.match(\/^image\\\/\/i)){var a=s.getAsFile(),n=new FileReader;return n.onload=function(){var e='<img src="'+event.target.result+'">';e=replaceRemoteImg(e),_this.pasteHTML(e)},n.readAsDataURL(a),!1}var o=settings.cleanPaste;if(0===o||bSource||bCleanPaste)return!0;bCleanPaste=!0,_this.saveBookmark();var l=isIE?"pre":"div",r=$("<"+l+' class="xhe-paste">\\ufeff\\ufeff<\/'+l+">",_doc).appendTo(_doc.body),h=r[0],c=_this.getSel(),d=_this.getRng(!0);r.css("top",_jWin.scrollTop()),isIE?(d.moveToElementText(h),d.select()):(d.selectNodeContents(h),c.removeAllRanges(),c.addRange(d)),setTimeout(function(){var e,t=3===o;if(t)r.html(r.html().replace(\/<br(\\s+[^<>]*)?>\/gi,"\\n")),e=r.text();else{var i=$(".xhe-paste",_doc.body),s=[];i.each(function(e,t){0==$(t).find(".xhe-paste").length&&s.push(t.innerHTML)}),e=s.join("<br \/>")}r.remove(),_this.loadBookmark(),e=e.replace(\/^[\\s\\uFEFF]+|[\\s\\uFEFF]+$\/g,""),e&&(t?_this.pasteText(e):(e=_this.cleanHTML(e),e=_this.cleanWord(e),e=_this.formatXHTML(e),(!settings.onPaste||settings.onPaste&&(e=settings.onPaste(e))!==!1)&&(e=replaceRemoteImg(e),_this.pasteHTML(e)))),bCleanPaste=!1},0)}function replaceRemoteImg(e){var t=settings.localUrlTest,i=settings.remoteImgSaveUrl;if(t&&i){var s=[],a=0;e=e.replace(\/(<img)((?:\\s+[^>]*?)?(?:\\s+src="\\s*([^"]+)\\s*")(?: [^>]*)?)(\\\/?>)\/gi,function(e,i,n,o,l){return!\/^(https?|data:image)\/i.test(o)||\/_xhe_temp\/.test(n)||t.test(o)||(s[a]=o,n=n.replace(\/\\s+(width|height)="[^"]*"\/gi,"").replace(\/\\s+src="[^"]*"\/gi,' src="'+skinPath+'img\/waiting.gif" remoteimg="'+a++ +'"')),i+n+l}),s.length>0&&$.post(i,{urls:s.join("|")},function(e){e=e.split("|"),$("img[remoteimg]",_this.doc).each(function(){var t=$(this);xheAttr(t,"src",e[t.attr("remoteimg")]),t.removeAttr("remoteimg")})})}return e}function setCSS(e){try{_this._exec("styleWithCSS",e,!0)}catch(t){try{_this._exec("useCSS",!e,!0)}catch(t){}}}function setOpts(){if(bInit&&!bSource){setCSS(!1);try{_this._exec("enableObjectResizing",!0,!0)}catch(e){}if(isIE)try{_this._exec("BackgroundImageCache",!0,!0)}catch(e){}}}function forcePtag(e){if(bSource||13!==e.which||e.shiftKey||e.ctrlKey||e.altKey)return!0;var t=_this.getParent("p,h1,h2,h3,h4,h5,h6,pre,address,div,li");return t.is("li")?!0:settings.forcePtag?(0===t.length&&_this._exec("formatblock","<p>"),undefined):(_this.pasteHTML("<br \/>"),isIE&&t.length>0&&2===_this.getRng().parentElement().childNodes.length&&_this.pasteHTML("<br \/>"),!1)}function fixFullHeight(){isMozilla||isWebkit||(bFullscreen&&_jArea.height("100%").css("height",_jArea.outerHeight()-_jTools.outerHeight()),isIE&&_jTools.hide().show())}function fixAppleSel(e){if(e=e.target,e.tagName.match(\/(img|embed)\/i)){var t=_this.getSel(),i=_this.getRng(!0);i.selectNode(e),t.removeAllRanges(),t.addRange(i)}}function xheAttr(e,t,i){if(!t)return!1;var s="_xhe_"+t;return i&&(urlType&&(i=getLocalUrl(i,urlType,urlBase)),e.attr(t,urlBase?getLocalUrl(i,"abs",urlBase):i).removeAttr(s).attr(s,i)),e.attr(s)||e.attr(t)}function clickCancelPanel(){bClickCancel&&_this.hidePanel()}function checkShortcuts(e){if(bSource)return!0;var t=e.which,i=specialKeys[t],s=i?i:String.fromCharCode(t).toLowerCase();sKey="",sKey+=e.ctrlKey?"ctrl+":"",sKey+=e.altKey?"alt+":"",sKey+=e.shiftKey?"shift+":"",sKey+=s;var a,n=arrShortCuts[sKey];for(a in n){if(a=n[a],!$.isFunction(a))return _this.exec(a),!1;if(a.call(_this)===!1)return!1}}function is(e,t){var i=typeof e;return t?"array"===t&&e.hasOwnProperty&&e instanceof Array?!0:i===t:"undefined"!=i}function getLocalUrl(e,t,i){if(e.match(\/^(\\w+):\\\/\\\/\/i)&&!e.match(\/^https?:\/i)||\/^#\/i.test(e)||\/^data:\/i.test(e))return e;var s=i?$('<a href="'+i+'" \/>')[0]:location,a=s.protocol,n=s.host,o=s.hostname,l=s.port,r=s.pathname.replace(\/\\\\\/g,"\/").replace(\/[^\\\/]+$\/i,"");if(""===l&&(l="80"),""===r?r="\/":"\/"!==r.charAt(0)&&(r="\/"+r),e=$.trim(e),"abs"!==t&&(e=e.replace(RegExp(a+"\\\\\/\\\\\/"+o.replace(\/\\.\/g,"\\\\.")+"(?::"+l+")"+("80"===l?"?":"")+"(\/|$)","i"),"\/")),"rel"===t&&(e=e.replace(RegExp("^"+r.replace(\/([\\\/\\.\\+\\[\\]\\(\\)])\/g,"\\\\$1"),"i"),"")),"rel"!==t&&(e.match(\/^(https?:\\\/\\\/|\\\/)\/i)||(e=r+e),"\/"===e.charAt(0))){var h,c,d=[],u=e.split("\/"),p=u.length;for(c=0;p>c;c++)h=u[c],".."===h?d.pop():""!==h&&"."!==h&&d.push(h);""===u[p-1]&&d.push(""),e="\/"+d.join("\/")}return"abs"!==t||e.match(\/^https?:\\\/\\\/\/i)||(e=a+"\/\/"+n+e),e=e.replace(\/(https?:\\\/\\\/[^:\\\/?#]+):80(\\\/|$)\/i,"$1$2")}function checkFileExt(e,t){return"*"===t||e.match(RegExp(".("+t.replace(\/,\/g,"|")+")$","i"))?!0:(alert(getLang("upload.extLimit",t)),!1)}function formatBytes(e){var t=["Byte","KB","MB","GB","TB","PB"],i=Math.floor(Math.log(e)\/Math.log(1024));return(e\/Math.pow(1024,Math.floor(i))).toFixed(2)+t[i]}function returnFalse(){return!1}var _this=this,_text=textarea,_jText=$(_text),_jForm=_jText.closest("form"),_jTools,_jArea,_win,_jWin,_doc,_jDoc,bookmark,bInit=!1,bSource=!1,bFullscreen=!1,bCleanPaste=!1,outerScroll,bShowBlocktag=!1,sLayoutStyle="",ev=null,timer,bDisableHoverExec=!1,bQuickHoverExec=!1,lastPoint=null,lastAngle=null,editorHeight=0,settings=_this.settings=$.extend({},XHEDITOR.settings,options),plugins=settings.plugins,strPlugins=[];if(plugins&&(arrTools=$.extend({},arrTools,plugins),$.each(plugins,function(e){strPlugins.push(e)}),strPlugins=strPlugins.join(",")),settings.tools.match(\/^\\s*(m?full|simple|mini)\\s*$\/i)){var toolsTheme=toolsThemes[$.trim(settings.tools)];settings.tools=settings.tools.match(\/m?full\/i)&&plugins?toolsTheme.replace("Table","Table,"+strPlugins):toolsTheme}settings.tools.match(\/(^|,)\\s*About\\s*(,|$)\/i)||(settings.tools+=",About"),settings.tools=settings.tools.split(","),settings.editorRoot&&(editorRoot=settings.editorRoot),bAir===!1&&(editorRoot=getLocalUrl(editorRoot,"abs")),settings.urlBase&&(settings.urlBase=getLocalUrl(settings.urlBase,"abs"));var idCSS="xheCSS_"+settings.skin,idContainer="xhe"+xCount+"_container",idTools="xhe"+xCount+"_Tool",idIframeArea="xhe"+xCount+"_iframearea",idIframe="xhe"+xCount+"_iframe",idFixFFCursor="xhe"+xCount+"_fixffcursor",headHTML="",bodyClass="",skinPath=editorRoot+"xheditor_skin\/"+settings.skin+"\/",arrEmots=itemEmots,urlType=settings.urlType,urlBase=settings.urlBase,emotPath=settings.emotPath,emotPath=emotPath?emotPath:editorRoot+"xheditor_emot\/",selEmotGroup="";arrEmots=$.extend({},arrEmots,settings.emots),emotPath=getLocalUrl(emotPath,"rel",urlBase?urlBase:null),bShowBlocktag=settings.showBlocktag,bShowBlocktag&&(bodyClass+=" showBlocktag");var arrShortCuts=[];this.init=function(){function e(e){var t,i=$(e.target);(t=i.css("width"))&&i.css("width","").attr("width",t.replace(\/[^0-9%]+\/g,"")),(t=i.css("height"))&&i.css("height","").attr("height",t.replace(\/[^0-9%]+\/g,""))}0===$("#"+idCSS).length&&$("head").append('<link id="'+idCSS+'" rel="stylesheet" type="text\/css" href="'+skinPath+'ui.css" \/>');var t=_jText.outerWidth(),i=_jText.outerHeight(),s=settings.width||_text.style.width||(t>10?t:0);editorHeight=settings.height||_text.style.height||(i>10?i:150),\/^\\d+(?:\\.\\d+)?$\/.test(s)&&(s+="px"),is(editorHeight,"string")&&(editorHeight=editorHeight.replace(\/[^\\d]+\/g,""));var a,n,o=settings.background||_text.style.background,l=['<span class="xheGStart"\/>'],r=\/\\||\\\/\/i;$.each(settings.tools,function(e,t){if(t.match(r)&&l.push('<span class="xheGEnd"\/>'),"|"===t)l.push('<span class="xheSeparator"\/>');else if("\/"===t)l.push("<br \/>");else{if(a=arrTools[t],!a)return;n=a.c?a.c:"xheIcon xheBtn"+t,l.push('<span><a href="#" title="{#'+a.t+'}" cmd="'+t+'" class="xheButton xheEnabled" tabindex="-1" role="button"><span class="'+n+'" unselectable="on" style="font-size:0;color:transparent;text-indent:-999px;">'+a.t+"<\/span><\/a><\/span>"),a.s&&_this.addShortcuts(a.s,t)}t.match(r)&&l.push('<span class="xheGStart"\/>')}),l.push('<span class="xheGEnd"\/><br \/>'),_jText.after($('<input type="text" id="'+idFixFFCursor+'" style="position:absolute;display:none;" \/><span id="'+idContainer+'" class="xhe_'+settings.skin+'" style="display:none"><table cellspacing="0" cellpadding="0" class="xheLayout" style="'+("0px"!=s?"width:"+s+";":"")+"height:"+editorHeight+'px;" role="presentation"><tr><td id="'+idTools+'" class="xheTool" unselectable="on" style="height:1px;" role="presentation"><\/td><\/tr><tr><td id="'+idIframeArea+'" class="xheIframeArea" role="presentation"><iframe frameborder="0" id="'+idIframe+'" src="javascript:;" style="width:100%;"><\/iframe><\/td><\/tr><\/table><\/span>')),_jTools=$("#"+idTools),_jArea=$("#"+idIframeArea),headHTML='<meta http-equiv="Content-Type" content="text\/html; charset=utf-8" \/><link rel="stylesheet" href="'+skinPath+'iframe.css"\/>';var h=settings.loadCSS;if(h)if(is(h,"array"))for(var c in h)headHTML+='<link rel="stylesheet" href="'+h[c]+'"\/>';else headHTML+=h.match(\/\\s*<style(\\s+[^>]*?)?>[\\s\\S]+?<\\\/style>\\s*\/i)?h:'<link rel="stylesheet" href="'+h+'"\/>';var d='<!DOCTYPE html><html xmlns="http:\/\/www.w3.org\/1999\/xhtml"><head>'+headHTML+"<title>{#defaultReadTip} "+(settings.readTip?settings.readTip:"")+"<\/title>";o&&(d+="<style>html{background:"+o+";}<\/style>"),d+='<\/head><body spellcheck="0" class="editMode'+bodyClass+'"><\/body><\/html>',_this.win=_win=$("#"+idIframe)[0].contentWindow,_jWin=$(_win);try{this.doc=_doc=_win.document,_jDoc=$(_doc),_doc.open(),_doc.write(getLang(d)),_doc.close(),isIE?_doc.body.contentEditable="true":_doc.designMode="On"}catch(u){}setTimeout(setOpts,300),_this.setSource(),_win.setInterval=null,_jTools.append(getLang(l.join(""))).bind("mousedown contextmenu",returnFalse).click(function(e){var t=$(e.target).closest("a");return t.is(".xheEnabled")&&(clearTimeout(timer),_jTools.find("a").attr("tabindex","-1"),ev=e,_this.exec(t.attr("cmd"))),!1}),_jTools.find(".xheButton").hover(function(e){var t=$(this),i=settings.hoverExecDelay,s=lastAngle;if(lastAngle=null,-1===i||bDisableHoverExec||!t.is(".xheEnabled"))return!1;if(s&&s>10)return bDisableHoverExec=!0,setTimeout(function(){bDisableHoverExec=!1},100),!1;var a=t.attr("cmd"),n=1===arrTools[a].h;return n?(bQuickHoverExec&&(i=0),i>=0&&(timer=setTimeout(function(){ev=e,lastPoint={x:ev.clientX,y:ev.clientY},_this.exec(a)},i)),undefined):(_this.hidePanel(),!1)},function(){lastPoint=null,timer&&clearTimeout(timer)}).mousemove(function(e){if(lastPoint){var t={x:e.clientX-lastPoint.x,y:e.clientY-lastPoint.y};if(Math.abs(t.x)>1||Math.abs(t.y)>1){if(t.x>0&&t.y>0){var i=Math.round(Math.atan(t.y\/t.x)\/.017453293);lastAngle=lastAngle?(lastAngle+i)\/2:i}else lastAngle=null;lastPoint={x:e.clientX,y:e.clientY}}}}),_jPanel=$("#xhePanel"),_jShadow=$("#xheShadow"),_jCntLine=$("#xheCntLine"),0===_jPanel.length&&(_jPanel=$('<div id="xhePanel"><\/div>').mousedown(function(e){e.stopPropagation()}),_jShadow=$('<div id="xheShadow"><\/div>'),_jCntLine=$('<div id="xheCntLine"><\/div>'),setTimeout(function(){$(document.body).append(_jPanel).append(_jShadow).append(_jCntLine)},10)),$("#"+idContainer).show(),_jText.hide(),_jArea.css("height",editorHeight-_jTools.outerHeight()),isIE&8>browerVer&&setTimeout(function(){_jArea.css("height",editorHeight-_jTools.outerHeight())},1),_jText.focus(_this.focus),_jForm.submit(saveResult).bind("reset",loadReset),settings.submitID&&$("#"+settings.submitID).mousedown(saveResult),$(window).bind("unload beforeunload",saveResult).bind("resize",fixFullHeight),$(document).mousedown(clickCancelPanel),bCheckEscInit||($(document).keydown(checkEsc),bCheckEscInit=!0),_jWin.focus(function(){settings.focus&&settings.focus()}).blur(function(){settings.blur&&settings.blur()}),isWebkit&&_jWin.click(fixAppleSel),_jDoc.mousedown(clickCancelPanel).keydown(checkShortcuts).keypress(forcePtag).dblclick(checkDblClick).bind("mousedown click",function(e){_jText.trigger(e.type)}),isIE&&(_jDoc.keydown(function(e){var t=_this.getRng();return 8===e.which&&t.item?($(t.item(0)).remove(),!1):undefined}),_jDoc.bind("controlselect",function(t){t=t.target,$.nodeName(t,"IMG")&&$(t).unbind("resizeend",e).bind("resizeend",e)})),_jDoc.keydown(function(e){var t=e.which;return e.altKey&&t>=49&&57>=t?(_jTools.find("a").attr("tabindex","0"),_jTools.find(".xheGStart").eq(t-49).next().find("a").focus(),_doc.title="\\ufeff\\ufeff",!1):undefined}).click(function(){_jTools.find("a").attr("tabindex","-1")}),_jTools.keydown(function(e){var t=e.which;if(27==t)_jTools.find("a").attr("tabindex","-1"),_this.focus();else if(e.altKey&&t>=49&&57>=t)return _jTools.find(".xheGStart").eq(t-49).next().find("a").focus(),!1});var p=$(_doc.documentElement);isOpera?p.bind("keydown",function(e){e.ctrlKey&&86===e.which&&cleanPaste()}):p.bind(isIE?"beforepaste":"paste",cleanPaste),settings.disableContextmenu&&p.bind("contextmenu",returnFalse),settings.html5Upload&&p.bind("dragenter dragover",function(e){var t;return(t=e.originalEvent.dataTransfer.types)&&-1!==$.inArray("Files",t)?!1:undefined}).bind("drop",function(e){function t(e){var t,i,s;for(a=0;e.length>a;a++){if(i=e[a].name.replace(\/.+\\.\/,""),!(t=o.match(RegExp("(\\\\w+):[^:]*,"+i+"(?:,|$)","i"))))return 1;if(s){if(s!==t[1])return 2}else s=t[1]}return s}var i,s=e.originalEvent.dataTransfer;if(s&&(i=s.files)&&i.length>0){var a,n,o,l=["Link","Img","Flash","Media"],r=[];for(a in l)n=l[a],settings["up"+n+"Url"]&&settings["up"+n+"Url"].match(\/^[^!].*\/i)&&r.push(n+":,"+settings["up"+n+"Ext"]);return 0===r.length?!1:(o=r.join(","),n=t(i),1===n?alert(getLang("upload.extLimit",o.replace(\/\\w+:,\/g,""))):2===n?alert(getLang("upload.typeLimit")):n&&_this.startUpload(i,settings["up"+n+"Url"],"*",function(e){var t,i=[],s=settings.onUpload;s&&s(e);for(var a=0,o=e.length;o>a;a++)t=e[a],url=is(t,"string")?t:t.url,"!"===url.substr(0,1)&&(url=url.substr(1)),i.push(url);_this.exec(n),$("#xhe"+n+"Url").val(i.join(" ")),$("#xheSave").click()}),!1)}});var g=settings.shortcuts;g&&$.each(g,function(e,t){_this.addShortcuts(e,t)}),xCount++,bInit=!0,settings.fullscreen?_this.toggleFullscreen():settings.sourceMode&&setTimeout(_this.toggleSource,20);var f=settings.plugins;return f&&$.each(f,function(e,t){var i=t.i;i!==undefined&&i(_this)}),!0},this.remove=function(){_this.hidePanel(),saveResult(),_jText.unbind("focus",_this.focus),_jForm.unbind("submit",saveResult).unbind("reset",loadReset),settings.submitID&&$("#"+settings.submitID).unbind("mousedown",saveResult),$(window).unbind("unload beforeunload",saveResult).unbind("resize",fixFullHeight),$(document).unbind("mousedown",clickCancelPanel),$("#"+idContainer).remove(),$("#"+idFixFFCursor).remove(),_jText.show(),bInit=!1},this.saveBookmark=function(){if(!bSource){_this.focus();var e=_this.getRng();e=e.cloneRange?e.cloneRange():e,bookmark={top:_jWin.scrollTop(),rng:e}}},this.loadBookmark=function(){if(!bSource&&bookmark){_this.focus();var e=bookmark.rng;if(isIE)e.select();else{var t=_this.getSel();t.removeAllRanges(),t.addRange(e)}_jWin.scrollTop(bookmark.top),bookmark=null}},this.focus=function(){if(bSource?$("#sourceCode",_doc).focus():_win.focus(),isIE){var e=_this.getRng();e.parentElement&&e.parentElement().ownerDocument!==_doc&&_this.setTextCursor()}return!1},this.setTextCursor=function(e){var t=_this.getRng(!0),i=_doc.body;if(isIE)t.moveToElementText(i);else{for(var s=e?"lastChild":"firstChild";3!=i.nodeType&&i[s];)i=i[s];t.selectNode(i)}if(t.collapse(e?!1:!0),isIE)t.select();else{var a=_this.getSel();a.removeAllRanges(),a.addRange(t)}},this.getSel=function(){return _doc.selection?_doc.selection:_win.getSelection()},this.getRng=function(e){var t,i;try{e||(t=_this.getSel(),i=t.createRange?t.createRange():t.rangeCount>0?t.getRangeAt(0):null),i||(i=_doc.body.createTextRange?_doc.body.createTextRange():_doc.createRange())}catch(s){}return i},this.getParent=function(e){var t,i=_this.getRng();return isIE?t=i.item?i.item(0):i.parentElement():(t=i.commonAncestorContainer,i.collapsed||i.startContainer===i.endContainer&&2>i.startOffset-i.endOffset&&i.startContainer.hasChildNodes()&&(t=i.startContainer.childNodes[i.startOffset])),e=e?e:"*",t=$(t),t.is(e)||(t=$(t).closest(e)),t},this.getSelect=function(e){var t=_this.getSel(),i=_this.getRng(),s=!0;if(s=!i||i.item?!1:!t||0===i.boundingWidth||i.collapsed,"text"===e)return s?"":i.text||(t.toString?""+t:"");var a;if(i.cloneContents){var n,o=$("<div><\/div>");n=i.cloneContents(),n&&o.append(n),a=o.html()}else a=is(i.item)?i.item(0).outerHTML:is(i.htmlText)?i.htmlText:""+i;return s&&(a=""),a=_this.processHTML(a,"read"),a=_this.cleanHTML(a),a=_this.formatXHTML(a)},this.pasteHTML=function(e,t){if(bSource)return!1;_this.focus(),e=_this.processHTML(e,"write");var i=_this.getSel(),s=_this.getRng();if(t!==undefined){if(s.item){var a=s.item(0);s=_this.getRng(!0),s.moveToElementText(a),s.select()}s.collapse(t)}if(e+="<"+(isIE?"img":"span")+' id="_xhe_temp" width="0" height="0" \/>',s.insertNode){if($(s.startContainer).closest("style,script").length>0)return!1;s.deleteContents(),s.insertNode(s.createContextualFragment(e))}else"control"===i.type.toLowerCase()&&(i.clear(),s=_this.getRng()),s.pasteHTML(e);var n=$("#_xhe_temp",_doc),o=n[0];isIE?(s.moveToElementText(o),s.select()):(s.selectNode(o),i.removeAllRanges(),i.addRange(s)),n.remove()},this.pasteText=function(e,t){e||(e=""),e=_this.domEncode(e),e=e.replace(\/\\r?\\n\/g,"<br \/>"),_this.pasteHTML(e,t)},this.appendHTML=function(e){return bSource?!1:(_this.focus(),e=_this.processHTML(e,"write"),$(_doc.body).append(e),_this.setTextCursor(!0),undefined)},this.domEncode=function(e){return e.replace(regEntities,function(e){return arrEntities[e]})},this.setSource=function(e){bookmark=null,"string"!=typeof e&&""!==e&&(e=_text.value),bSource?$("#sourceCode",_doc).val(e):(settings.beforeSetSource&&(e=settings.beforeSetSource(e)),e=_this.cleanHTML(e),e=_this.formatXHTML(e),e=_this.processHTML(e,"write"),isIE?(_doc.body.innerHTML='<img id="_xhe_temp" width="0" height="0" \/>'+e,$("#_xhe_temp",_doc).remove()):_doc.body.innerHTML=e)},this.processHTML=function(e,t){function i(e,t,i,s,a,o){var l,r,h,c,d="";if(l=s.match(\/font-family\\s*:\\s*([^;"]+)\/i),l&&(d+=' face="'+l[1]+'"'),r=s.match(\/font-size\\s*:\\s*([^;"]+)\/i)){r=r[1].toLowerCase();for(var u=0;n.length>u;u++)if(r===n[u].n||r===n[u].s){h=u+1;break}h&&(d+=' size="'+h+'"',s=s.replace(\/(^|;)(\\s*font-size\\s*:\\s*[^;"]+;?)+\/gi,"$1"))}if(c=s.match(\/(?:^|[\\s;])color\\s*:\\s*([^;"]+)\/i)){var p;if(p=c[1].match(\/\\s*rgb\\s*\\(\\s*(\\d+)\\s*,\\s*(\\d+)\\s*,\\s*(\\d+)\\s*\\)\/i)){c[1]="#";for(var g=1;3>=g;g++)c[1]+=("0"+(p[g]-0).toString(16)).slice(-2)}c[1]=c[1].replace(\/^#([0-9a-f])([0-9a-f])([0-9a-f])$\/i,"#$1$1$2$2$3$3"),d+=' color="'+c[1]+'"'}return s=s.replace(\/(^|;)(\\s*(font-family|color)\\s*:\\s*[^;"]+;?)+\/gi,"$1"),""!==d?(s&&(d+=' style="'+s+'"'),"<font"+(i?i:"")+d+(a?a:"")+">"+o+"<\/font>"):e}function s(e,t,i,s,a){for(var n,l,r=(i?i:"")+(s?s:""),h=[],c=[],d=0;o.length>d;d++)n=o[d].r,l=o[d].t,r=r.replace(n,function(){return h.push("<"+l+">"),c.push("<\/"+l+">"),""});return r=r.replace(\/\\s+style\\s*=\\s*"\\s*"\/i,""),(r?"<span"+r+">":"")+h.join("")+a+c.join("")+(r?"<\/span>":"")}var a=' class="Apple-style-span"',n=settings.listFontsize;if("write"===t)e=e.replace(\/(<(\\\/?)(\\w+))((?:\\s+[\\w\\-:]+\\s*=\\s*(?:"[^"]*"|'[^']*'|[^>\\s]+))*)\\s*((\\\/?)>)\/g,function(e,t,i,s,n,o,l){s=s.toLowerCase(),isMozilla?"strong"===s?s="b":"em"===s&&(s="i"):isWebkit&&("strong"===s?(s="span",i||(n+=a+' style="font-weight: bold;"')):"em"===s?(s="span",i||(n+=a+' style="font-style: italic;"')):"u"===s?(s="span",i||(n+=a+' style="text-decoration: underline;"')):"strike"===s&&(s="span",i||(n+=a+' style="text-decoration: line-through;"')));var r,h="";if("del"===s)s="strike";else if("img"===s)n=n.replace(\/\\s+emot\\s*=\\s*("[^"]*"|'[^']*'|[^>\\s]+)\/i,function(e,t){return r=t.match(\/^(["']?)(.*)\\1\/)[2],r=r.split(","),r[1]||(r[1]=r[0],r[0]=""),"default"===r[0]&&(r[0]=""),settings.emotMark?e:""});else if("a"===s)!n.match(\/ href=[^ ]\/i)&&n.match(\/ name=[^ ]\/i)&&(h+=" xhe-anchor"),l&&(o="><\/a>");else if("table"===s&&!i){var c=n.match(\/\\s+border\\s*=\\s*("[^"]*"|'[^']*'|[^>\\s]+)\/i);(!c||c[1].match(\/^(["']?)\\s*0\\s*\\1$\/))&&(h+=" xhe-border")}var d;if(n=n.replace(\/\\s+([\\w\\-:]+)\\s*=\\s*("[^"]*"|'[^']*'|[^>\\s]+)\/g,function(e,t,i){return t=t.toLowerCase(),i=i.match(\/^(["']?)(.*)\\1\/)[2],aft="",isIE&&t.match(\/^(disabled|checked|readonly|selected)$\/)&&i.match(\/^(false|0)$\/i)?"":"img"===s&&r&&"src"===t?"":(t.match(\/^(src|href)$\/)&&(aft=" _xhe_"+t+'="'+i+'"',urlBase&&(i=getLocalUrl(i,"abs",urlBase))),h&&"class"===t&&(i+=" "+h,h=""),isWebkit&&"style"===t&&"span"===s&&i.match(\/(^|;)\\s*(font-family|font-size|color|background-color)\\s*:\\s*[^;]+\\s*(;|$)\/i)&&(d=!0)," "+t+'="'+i+'"'+aft)}),r){var u=emotPath+(r[0]?r[0]:"default")+"\/"+r[1]+".gif";n+=' src="'+u+'" _xhe_src="'+u+'"'}return d&&(n+=a),h&&(n+=' class="'+h+'"'),"<"+i+s+n+o}),isIE&&(e=e.replace(\/&apos;\/gi,"&#39;")),isWebkit||(e=e.replace(\/<(span)(\\s+[^>]*?)?\\s+style\\s*=\\s*"((?:[^"]*?;)?\\s*(?:font-family|font-size|color)\\s*:[^"]*)"( [^>]*)?>(((?!<\\1(\\s+[^>]*?)?>)[\\s\\S]|<\\1(\\s+[^>]*?)?>((?!<\\1(\\s+[^>]*?)?>)[\\s\\S]|<\\1(\\s+[^>]*?)?>((?!<\\1(\\s+[^>]*?)?>)[\\s\\S])*?<\\\/\\1>)*?<\\\/\\1>)*?)<\\\/\\1>\/gi,i),e=e.replace(\/<(span)(\\s+[^>]*?)?\\s+style\\s*=\\s*"((?:[^"]*?;)?\\s*(?:font-family|font-size|color)\\s*:[^"]*)"( [^>]*)?>(((?!<\\1(\\s+[^>]*?)?>)[\\s\\S]|<\\1(\\s+[^>]*?)?>((?!<\\1(\\s+[^>]*?)?>)[\\s\\S])*?<\\\/\\1>)*?)<\\\/\\1>\/gi,i),e=e.replace(\/<(span)(\\s+[^>]*?)?\\s+style\\s*=\\s*"((?:[^"]*?;)?\\s*(?:font-family|font-size|color)\\s*:[^"]*)"( [^>]*)?>(((?!<\\1(\\s+[^>]*?)?>)[\\s\\S])*?)<\\\/\\1>\/gi,i)),e=e.replace(\/<(td|th)(\\s+[^>]*?)?>(\\s|&nbsp;)*<\\\/\\1>\/gi,"<$1$2>"+(isIE?"":"<br \/>")+"<\/$1>");else{if(isWebkit)for(var o=[{r:\/font-weight\\s*:\\s*bold;?\/gi,t:"strong"},{r:\/font-style\\s*:\\s*italic;?\/gi,t:"em"},{r:\/text-decoration\\s*:\\s*underline;?\/gi,t:"u"},{r:\/text-decoration\\s*:\\s*line-through;?\/gi,t:"strike"}],l=0;2>l;l++)e=e.replace(\/<(span)(\\s+[^>]*?)?\\s+class\\s*=\\s*"Apple-style-span"(\\s+[^>]*?)?>(((?!<\\1(\\s+[^>]*?)?>)[\\s\\S]|<\\1(\\s+[^>]*?)?>((?!<\\1(\\s+[^>]*?)?>)[\\s\\S]|<\\1(\\s+[^>]*?)?>((?!<\\1(\\s+[^>]*?)?>)[\\s\\S])*?<\\\/\\1>)*?<\\\/\\1>)*?)<\\\/\\1>\/gi,s),e=e.replace(\/<(span)(\\s+[^>]*?)?\\s+class\\s*=\\s*"Apple-style-span"(\\s+[^>]*?)?>(((?!<\\1(\\s+[^>]*?)?>)[\\s\\S]|<\\1(\\s+[^>]*?)?>((?!<\\1(\\s+[^>]*?)?>)[\\s\\S])*?<\\\/\\1>)*?)<\\\/\\1>\/gi,s),e=e.replace(\/<(span)(\\s+[^>]*?)?\\s+class\\s*=\\s*"Apple-style-span"(\\s+[^>]*?)?>(((?!<\\1(\\s+[^>]*?)?>)[\\s\\S])*?)<\\\/\\1>\/gi,s);e=e.replace(\/(<(\\w+))((?:\\s+[\\w\\-:]+\\s*=\\s*(?:"[^"]*"|'[^']*'|[^>\\s]+))*)\\s*(\\\/?>)\/g,function(e,t,i,s,a){i=i.toLowerCase();$/;"	p
var.specialKeys.114	js/xheditor.min.js	/^(function(){var e={};window.XHEDITOR=e})(),function(e,t){e.mapLang={},e.setLang=function(i,s){s===t&&(s=i,i=""),""!==i&&(i+=".");var a,n;for(var o in s)n=s[o],a=i+o,"string"==typeof n||n instanceof Array?e.mapLang[a]=n:e.setLang(a,n)},e.getLang=function(i){var s=e.mapLang[i];if(s===t&&(s=i.replace(\/{#([^{}]+)}\/g,function(t,i){var s=e.mapLang[i];return s?s:i})),"string"==typeof s){var a=arguments;s=s.replace(\/{\\$(\\d+)}\/g,function(e,i){var s=a[parseInt(i,10)+1];return s!==t?s:e})}return s}}(XHEDITOR),function(XHEDITOR,$,undefined){var agent=navigator.userAgent.toLowerCase(),bMobile=\/mobile\/i.test(agent),browser=$.browser,browerVer=parseFloat(browser.version),isIE=browser.msie,isMozilla=browser.mozilla,isWebkit=browser.webkit,isOpera=browser.opera,isChrome=browser.chrome,bAir=agent.indexOf(" adobeair\/")>-1,xCount=0,bShowPanel=!1,bClickCancel=!0,bShowModal=!1,bCheckEscInit=!1,_jPanel,_jShadow,_jCntLine,_jPanelButton,jModal,jModalShadow,layerShadow,jOverlay,jHideSelect,onModalRemove,editorRoot,getLang=XHEDITOR.getLang;if($("script[src*=xheditor]").each(function(){var e=this.src;return e.match(\/xheditor[^\\\/]*\\.js\/i)?(editorRoot=e.replace(\/[\\?#].*$\/,"").replace(\/(^|[\\\/\\\\])[^\\\/]*$\/,"$1"),!1):undefined}),isIE){try{document.execCommand("BackgroundImageCache",!1,!0)}catch(e){}var jqueryVer=$.fn.jquery;jqueryVer&&jqueryVer.match(\/^1\\.[67]\/)&&($.attrHooks.width=$.attrHooks.height=null)}var specialKeys={27:"esc",9:"tab",32:"space",13:"enter",8:"backspace",145:"scroll",20:"capslock",144:"numlock",19:"pause",45:"insert",36:"home",46:"del",35:"end",33:"pageup",34:"pagedown",37:"left",38:"up",39:"right",40:"down",112:"f1",113:"f2",114:"f3",115:"f4",116:"f5",117:"f6",118:"f7",119:"f8",120:"f9",121:"f10",122:"f11",123:"f12"},arrAlign=[{v:"justifyleft"},{v:"justifycenter"},{v:"justifyright"},{v:"justifyfull"}],arrList=[{v:"insertOrderedList"},{v:"insertUnorderedList"}],htmlPastetext='<div><label for="xhePastetextValue">{#PastetextTip}<\/label><\/div><div><textarea id="xhePastetextValue" wrap="soft" spellcheck="false" style="width:300px;height:100px;" \/><\/div><div style="text-align:right;"><input type="button" id="xheSave" value="{#dialogOk}" \/><\/div>',htmlLink='<div><label for="xheLinkUrl">{#link.url}<\/label><input type="text" id="xheLinkUrl" value="http:\/\/" class="xheText" \/><\/div><div><label for="xheLinkTarget">{#link.target}<\/label><select id="xheLinkTarget"><option selected="selected" value="">{#default}<\/option><option value="_blank">{#link.targetBlank}<\/option><option value="_self">{#link.targetSelf}<\/option><option value="_parent">{#link.targetParent}<\/option><\/select><\/div><div style="display:none"><label for="xheLinkText">{#link.linkText}<\/label><input type="text" id="xheLinkText" value="" class="xheText" \/><\/div><div style="text-align:right;"><input type="button" id="xheSave" value="{#dialogOk}" \/><\/div>',htmlAnchor='<div><label for="xheAnchorName">{#anchor.name}<\/label><input type="text" id="xheAnchorName" value="" class="xheText" \/><\/div><div style="text-align:right;"><input type="button" id="xheSave" value="{#dialogOk}" \/><\/div>',htmlImg='<div><label for="xheImgUrl">{#img.url}<\/label><input type="text" id="xheImgUrl" value="http:\/\/" class="xheText" \/><\/div><div><div><label for="xheImgAlt">{#img.alt}<\/label><input type="text" id="xheImgAlt" \/><\/div><div><label for="xheImgAlign">{#img.align}<\/label><select id="xheImgAlign"><option selected="selected" value="">{#default}<\/option><option value="left">{#img.alignLeft}<\/option><option value="right">{#img.alignRight}<\/option><option value="top">{#img.alignTop}<\/option><option value="middle">{#img.alignMiddle}<\/option><option value="baseline">{#img.alignBaseline}<\/option><option value="bottom">{#img.alignBottom}<\/option><\/select><\/div><div><label for="xheImgWidth">{#img.width}<\/label><input type="text" id="xheImgWidth" style="width:40px;" \/> <label for="xheImgHeight">{#img.height}<\/label><input type="text" id="xheImgHeight" style="width:40px;" \/><\/div><div><label for="xheImgBorder">{#img.border}<\/label><input type="text" id="xheImgBorder" style="width:40px;" \/><\/div><div><label for="xheImgHspace">{#img.hspace}<\/label><input type="text" id="xheImgHspace" style="width:40px;" \/> <label for="xheImgVspace">{#img.vspace}<\/label><input type="text" id="xheImgVspace" style="width:40px;" \/><\/div><div style="text-align:right;"><input type="button" id="xheSave" value="{#dialogOk}" \/><\/div>',htmlFlash='<div><label for="xheFlashUrl">{#flash.url}<\/label><input type="text" id="xheFlashUrl" value="http:\/\/" class="xheText" \/><\/div><div><label for="xheFlashWidth">{#flash.width}<\/label><input type="text" id="xheFlashWidth" style="width:40px;" value="480" \/> <label for="xheFlashHeight">{#flash.height}<\/label><input type="text" id="xheFlashHeight" style="width:40px;" value="400" \/><\/div><div style="text-align:right;"><input type="button" id="xheSave" value="{#dialogOk}" \/><\/div>',htmlMedia='<div><label for="xheMediaUrl">{#media.url}<\/label><input type="text" id="xheMediaUrl" value="http:\/\/" class="xheText" \/><\/div><div><label for="xheMediaWidth">{#media.width}<\/label><input type="text" id="xheMediaWidth" style="width:40px;" value="480" \/> <label for="xheMediaHeight">{#media.height}<\/label><input type="text" id="xheMediaHeight" style="width:40px;" value="400" \/><\/div><div style="text-align:right;"><input type="button" id="xheSave" value="{#dialogOk}" \/><\/div>',htmlTable='<div><label for="xheTableRows">{#table.rows}<\/label><input type="text" id="xheTableRows" style="width:40px;" value="3" \/> <label for="xheTableColumns">{#table.columns}<\/label><input type="text" id="xheTableColumns" style="width:40px;" value="2" \/><\/div><div><label for="xheTableHeaders">{#table.headers}<\/label><select id="xheTableHeaders"><option selected="selected" value="">{#none}<\/option><option value="row">{#table.headersRow}<\/option><option value="col">{#table.headersCol}<\/option><option value="both">{#table.headersBoth}<\/option><\/select><\/div><div><label for="xheTableWidth">{#table.width}<\/label><input type="text" id="xheTableWidth" style="width:40px;" value="200" \/> <label for="xheTableHeight">{#table.height}<\/label><input type="text" id="xheTableHeight" style="width:40px;" value="" \/><\/div><div><label for="xheTableBorder">{#table.border}<\/label><input type="text" id="xheTableBorder" style="width:40px;" value="1" \/><\/div><div><label for="xheTableCellSpacing">{#table.cellSpacing}<\/label><input type="text" id="xheTableCellSpacing" style="width:40px;" value="1" \/> <label for="xheTableCellPadding">{#table.cellPadding}<\/label><input type="text" id="xheTableCellPadding" style="width:40px;" value="1" \/><\/div><div><label for="xheTableAlign">{#table.align}<\/label><select id="xheTableAlign"><option selected="selected" value="">{#default}<\/option><option value="left">{#table.alignLeft}<\/option><option value="center">{#table.alignCenter}<\/option><option value="right">{#table.alignRight}<\/option><\/select><\/div><div><label for="xheTableCaption">{#table.caption}<\/label><input type="text" id="xheTableCaption" \/><\/div><div style="text-align:right;"><input type="button" id="xheSave" value="{#dialogOk}" \/><\/div>',htmlAbout='<div style="font:12px Arial;width:245px;word-wrap:break-word;word-break:break-all;outline:none;" role="dialog" tabindex="-1"><p><span style="font-size:20px;color:#1997DF;">xhEditor<\/span><br \/>v1.2.1 (build 130225)<\/p><p>{#aboutXheditor}<\/p><p>Copyright &copy; <a href="http:\/\/xheditor.com\/" target="_blank">xhEditor.com<\/a>. All rights reserved.<\/p><\/div>',itemEmots={"default":{name:"{#default}",width:24,height:24,line:7,list:["smile","tongue","titter","laugh","sad","wronged","fastcry","cry","wail","mad","knock","curse","crazy","angry","ohmy","awkward","panic","shy","cute","envy","proud","struggle","quiet","shutup","doubt","despise","sleep","bye"]}},arrTools={Cut:{t:"Cut"},Copy:{t:"Copy"},Paste:{t:"Paste"},Pastetext:{t:"Pastetext",h:isIE?0:1},Blocktag:{t:"Blocktag",h:1},Fontface:{t:"Fontface",h:1},FontSize:{t:"FontSize",h:1},Bold:{t:"Bold",s:"Ctrl+B"},Italic:{t:"Italic",s:"Ctrl+I"},Underline:{t:"Underline",s:"Ctrl+U"},Strikethrough:{t:"Strikethrough"},FontColor:{t:"FontColor",h:1},BackColor:{t:"BackColor",h:1},SelectAll:{t:"SelectAll"},Removeformat:{t:"Removeformat"},Align:{t:"Align",h:1},List:{t:"List",h:1},Outdent:{t:"Outdent"},Indent:{t:"Indent"},Link:{t:"Link",s:"Ctrl+L",h:1},Unlink:{t:"Unlink"},Anchor:{t:"Anchor",h:1},Img:{t:"Img",h:1},Flash:{t:"Flash",h:1},Media:{t:"Media",h:1},Hr:{t:"Hr"},Emot:{t:"Emot",s:"ctrl+e",h:1},Table:{t:"Table",h:1},Source:{t:"Source"},Preview:{t:"Preview"},Print:{t:"Print",s:"Ctrl+P"},Fullscreen:{t:"Fullscreen",s:"Esc"},About:{t:"About"}},toolsThemes={mini:"Bold,Italic,Underline,Strikethrough,|,Align,List,|,Link,Img",simple:"Blocktag,Fontface,FontSize,Bold,Italic,Underline,Strikethrough,FontColor,BackColor,|,Align,List,Outdent,Indent,|,Link,Img,Emot",full:"Cut,Copy,Paste,Pastetext,|,Blocktag,Fontface,FontSize,Bold,Italic,Underline,Strikethrough,FontColor,BackColor,SelectAll,Removeformat,|,Align,List,Outdent,Indent,|,Link,Unlink,Anchor,Img,Flash,Media,Hr,Emot,Table,|,Source,Preview,Print,Fullscreen"};toolsThemes.mfull=toolsThemes.full.replace(\/\\|(,Align)\/i,"\/$1");var arrDbClick={a:"Link",img:"Img",embed:"Embed"},uploadInputname="filedata",arrEntities={"<":"&lt;",">":"&gt;",'"':"&quot;","\\u00ae":"&reg;","\\u00a9":"&copy;"},regEntities=\/[<>"\\u00ae\\u00a9]\/g,Xheditor=function(textarea,options){function checkDblClick(e){var t=e.target,i=arrDbClick[t.tagName.toLowerCase()];if(i){if("Embed"===i){var s={"application\/x-shockwave-flash":"Flash","application\/x-mplayer2":"Media"};i=s[t.type.toLowerCase()]}_this.exec(i)}}function checkEsc(e){return 27===e.which?(bShowModal?_this.removeModal():bShowPanel&&_this.hidePanel(),!1):undefined}function loadReset(){setTimeout(_this.setSource,10)}function saveResult(){_this.getSource()}function cleanPaste(e){var t,i,s;if(e&&(t=e.originalEvent.clipboardData)&&(i=t.items)&&(s=i[0])&&"file"==s.kind&&s.type.match(\/^image\\\/\/i)){var a=s.getAsFile(),n=new FileReader;return n.onload=function(){var e='<img src="'+event.target.result+'">';e=replaceRemoteImg(e),_this.pasteHTML(e)},n.readAsDataURL(a),!1}var o=settings.cleanPaste;if(0===o||bSource||bCleanPaste)return!0;bCleanPaste=!0,_this.saveBookmark();var l=isIE?"pre":"div",r=$("<"+l+' class="xhe-paste">\\ufeff\\ufeff<\/'+l+">",_doc).appendTo(_doc.body),h=r[0],c=_this.getSel(),d=_this.getRng(!0);r.css("top",_jWin.scrollTop()),isIE?(d.moveToElementText(h),d.select()):(d.selectNodeContents(h),c.removeAllRanges(),c.addRange(d)),setTimeout(function(){var e,t=3===o;if(t)r.html(r.html().replace(\/<br(\\s+[^<>]*)?>\/gi,"\\n")),e=r.text();else{var i=$(".xhe-paste",_doc.body),s=[];i.each(function(e,t){0==$(t).find(".xhe-paste").length&&s.push(t.innerHTML)}),e=s.join("<br \/>")}r.remove(),_this.loadBookmark(),e=e.replace(\/^[\\s\\uFEFF]+|[\\s\\uFEFF]+$\/g,""),e&&(t?_this.pasteText(e):(e=_this.cleanHTML(e),e=_this.cleanWord(e),e=_this.formatXHTML(e),(!settings.onPaste||settings.onPaste&&(e=settings.onPaste(e))!==!1)&&(e=replaceRemoteImg(e),_this.pasteHTML(e)))),bCleanPaste=!1},0)}function replaceRemoteImg(e){var t=settings.localUrlTest,i=settings.remoteImgSaveUrl;if(t&&i){var s=[],a=0;e=e.replace(\/(<img)((?:\\s+[^>]*?)?(?:\\s+src="\\s*([^"]+)\\s*")(?: [^>]*)?)(\\\/?>)\/gi,function(e,i,n,o,l){return!\/^(https?|data:image)\/i.test(o)||\/_xhe_temp\/.test(n)||t.test(o)||(s[a]=o,n=n.replace(\/\\s+(width|height)="[^"]*"\/gi,"").replace(\/\\s+src="[^"]*"\/gi,' src="'+skinPath+'img\/waiting.gif" remoteimg="'+a++ +'"')),i+n+l}),s.length>0&&$.post(i,{urls:s.join("|")},function(e){e=e.split("|"),$("img[remoteimg]",_this.doc).each(function(){var t=$(this);xheAttr(t,"src",e[t.attr("remoteimg")]),t.removeAttr("remoteimg")})})}return e}function setCSS(e){try{_this._exec("styleWithCSS",e,!0)}catch(t){try{_this._exec("useCSS",!e,!0)}catch(t){}}}function setOpts(){if(bInit&&!bSource){setCSS(!1);try{_this._exec("enableObjectResizing",!0,!0)}catch(e){}if(isIE)try{_this._exec("BackgroundImageCache",!0,!0)}catch(e){}}}function forcePtag(e){if(bSource||13!==e.which||e.shiftKey||e.ctrlKey||e.altKey)return!0;var t=_this.getParent("p,h1,h2,h3,h4,h5,h6,pre,address,div,li");return t.is("li")?!0:settings.forcePtag?(0===t.length&&_this._exec("formatblock","<p>"),undefined):(_this.pasteHTML("<br \/>"),isIE&&t.length>0&&2===_this.getRng().parentElement().childNodes.length&&_this.pasteHTML("<br \/>"),!1)}function fixFullHeight(){isMozilla||isWebkit||(bFullscreen&&_jArea.height("100%").css("height",_jArea.outerHeight()-_jTools.outerHeight()),isIE&&_jTools.hide().show())}function fixAppleSel(e){if(e=e.target,e.tagName.match(\/(img|embed)\/i)){var t=_this.getSel(),i=_this.getRng(!0);i.selectNode(e),t.removeAllRanges(),t.addRange(i)}}function xheAttr(e,t,i){if(!t)return!1;var s="_xhe_"+t;return i&&(urlType&&(i=getLocalUrl(i,urlType,urlBase)),e.attr(t,urlBase?getLocalUrl(i,"abs",urlBase):i).removeAttr(s).attr(s,i)),e.attr(s)||e.attr(t)}function clickCancelPanel(){bClickCancel&&_this.hidePanel()}function checkShortcuts(e){if(bSource)return!0;var t=e.which,i=specialKeys[t],s=i?i:String.fromCharCode(t).toLowerCase();sKey="",sKey+=e.ctrlKey?"ctrl+":"",sKey+=e.altKey?"alt+":"",sKey+=e.shiftKey?"shift+":"",sKey+=s;var a,n=arrShortCuts[sKey];for(a in n){if(a=n[a],!$.isFunction(a))return _this.exec(a),!1;if(a.call(_this)===!1)return!1}}function is(e,t){var i=typeof e;return t?"array"===t&&e.hasOwnProperty&&e instanceof Array?!0:i===t:"undefined"!=i}function getLocalUrl(e,t,i){if(e.match(\/^(\\w+):\\\/\\\/\/i)&&!e.match(\/^https?:\/i)||\/^#\/i.test(e)||\/^data:\/i.test(e))return e;var s=i?$('<a href="'+i+'" \/>')[0]:location,a=s.protocol,n=s.host,o=s.hostname,l=s.port,r=s.pathname.replace(\/\\\\\/g,"\/").replace(\/[^\\\/]+$\/i,"");if(""===l&&(l="80"),""===r?r="\/":"\/"!==r.charAt(0)&&(r="\/"+r),e=$.trim(e),"abs"!==t&&(e=e.replace(RegExp(a+"\\\\\/\\\\\/"+o.replace(\/\\.\/g,"\\\\.")+"(?::"+l+")"+("80"===l?"?":"")+"(\/|$)","i"),"\/")),"rel"===t&&(e=e.replace(RegExp("^"+r.replace(\/([\\\/\\.\\+\\[\\]\\(\\)])\/g,"\\\\$1"),"i"),"")),"rel"!==t&&(e.match(\/^(https?:\\\/\\\/|\\\/)\/i)||(e=r+e),"\/"===e.charAt(0))){var h,c,d=[],u=e.split("\/"),p=u.length;for(c=0;p>c;c++)h=u[c],".."===h?d.pop():""!==h&&"."!==h&&d.push(h);""===u[p-1]&&d.push(""),e="\/"+d.join("\/")}return"abs"!==t||e.match(\/^https?:\\\/\\\/\/i)||(e=a+"\/\/"+n+e),e=e.replace(\/(https?:\\\/\\\/[^:\\\/?#]+):80(\\\/|$)\/i,"$1$2")}function checkFileExt(e,t){return"*"===t||e.match(RegExp(".("+t.replace(\/,\/g,"|")+")$","i"))?!0:(alert(getLang("upload.extLimit",t)),!1)}function formatBytes(e){var t=["Byte","KB","MB","GB","TB","PB"],i=Math.floor(Math.log(e)\/Math.log(1024));return(e\/Math.pow(1024,Math.floor(i))).toFixed(2)+t[i]}function returnFalse(){return!1}var _this=this,_text=textarea,_jText=$(_text),_jForm=_jText.closest("form"),_jTools,_jArea,_win,_jWin,_doc,_jDoc,bookmark,bInit=!1,bSource=!1,bFullscreen=!1,bCleanPaste=!1,outerScroll,bShowBlocktag=!1,sLayoutStyle="",ev=null,timer,bDisableHoverExec=!1,bQuickHoverExec=!1,lastPoint=null,lastAngle=null,editorHeight=0,settings=_this.settings=$.extend({},XHEDITOR.settings,options),plugins=settings.plugins,strPlugins=[];if(plugins&&(arrTools=$.extend({},arrTools,plugins),$.each(plugins,function(e){strPlugins.push(e)}),strPlugins=strPlugins.join(",")),settings.tools.match(\/^\\s*(m?full|simple|mini)\\s*$\/i)){var toolsTheme=toolsThemes[$.trim(settings.tools)];settings.tools=settings.tools.match(\/m?full\/i)&&plugins?toolsTheme.replace("Table","Table,"+strPlugins):toolsTheme}settings.tools.match(\/(^|,)\\s*About\\s*(,|$)\/i)||(settings.tools+=",About"),settings.tools=settings.tools.split(","),settings.editorRoot&&(editorRoot=settings.editorRoot),bAir===!1&&(editorRoot=getLocalUrl(editorRoot,"abs")),settings.urlBase&&(settings.urlBase=getLocalUrl(settings.urlBase,"abs"));var idCSS="xheCSS_"+settings.skin,idContainer="xhe"+xCount+"_container",idTools="xhe"+xCount+"_Tool",idIframeArea="xhe"+xCount+"_iframearea",idIframe="xhe"+xCount+"_iframe",idFixFFCursor="xhe"+xCount+"_fixffcursor",headHTML="",bodyClass="",skinPath=editorRoot+"xheditor_skin\/"+settings.skin+"\/",arrEmots=itemEmots,urlType=settings.urlType,urlBase=settings.urlBase,emotPath=settings.emotPath,emotPath=emotPath?emotPath:editorRoot+"xheditor_emot\/",selEmotGroup="";arrEmots=$.extend({},arrEmots,settings.emots),emotPath=getLocalUrl(emotPath,"rel",urlBase?urlBase:null),bShowBlocktag=settings.showBlocktag,bShowBlocktag&&(bodyClass+=" showBlocktag");var arrShortCuts=[];this.init=function(){function e(e){var t,i=$(e.target);(t=i.css("width"))&&i.css("width","").attr("width",t.replace(\/[^0-9%]+\/g,"")),(t=i.css("height"))&&i.css("height","").attr("height",t.replace(\/[^0-9%]+\/g,""))}0===$("#"+idCSS).length&&$("head").append('<link id="'+idCSS+'" rel="stylesheet" type="text\/css" href="'+skinPath+'ui.css" \/>');var t=_jText.outerWidth(),i=_jText.outerHeight(),s=settings.width||_text.style.width||(t>10?t:0);editorHeight=settings.height||_text.style.height||(i>10?i:150),\/^\\d+(?:\\.\\d+)?$\/.test(s)&&(s+="px"),is(editorHeight,"string")&&(editorHeight=editorHeight.replace(\/[^\\d]+\/g,""));var a,n,o=settings.background||_text.style.background,l=['<span class="xheGStart"\/>'],r=\/\\||\\\/\/i;$.each(settings.tools,function(e,t){if(t.match(r)&&l.push('<span class="xheGEnd"\/>'),"|"===t)l.push('<span class="xheSeparator"\/>');else if("\/"===t)l.push("<br \/>");else{if(a=arrTools[t],!a)return;n=a.c?a.c:"xheIcon xheBtn"+t,l.push('<span><a href="#" title="{#'+a.t+'}" cmd="'+t+'" class="xheButton xheEnabled" tabindex="-1" role="button"><span class="'+n+'" unselectable="on" style="font-size:0;color:transparent;text-indent:-999px;">'+a.t+"<\/span><\/a><\/span>"),a.s&&_this.addShortcuts(a.s,t)}t.match(r)&&l.push('<span class="xheGStart"\/>')}),l.push('<span class="xheGEnd"\/><br \/>'),_jText.after($('<input type="text" id="'+idFixFFCursor+'" style="position:absolute;display:none;" \/><span id="'+idContainer+'" class="xhe_'+settings.skin+'" style="display:none"><table cellspacing="0" cellpadding="0" class="xheLayout" style="'+("0px"!=s?"width:"+s+";":"")+"height:"+editorHeight+'px;" role="presentation"><tr><td id="'+idTools+'" class="xheTool" unselectable="on" style="height:1px;" role="presentation"><\/td><\/tr><tr><td id="'+idIframeArea+'" class="xheIframeArea" role="presentation"><iframe frameborder="0" id="'+idIframe+'" src="javascript:;" style="width:100%;"><\/iframe><\/td><\/tr><\/table><\/span>')),_jTools=$("#"+idTools),_jArea=$("#"+idIframeArea),headHTML='<meta http-equiv="Content-Type" content="text\/html; charset=utf-8" \/><link rel="stylesheet" href="'+skinPath+'iframe.css"\/>';var h=settings.loadCSS;if(h)if(is(h,"array"))for(var c in h)headHTML+='<link rel="stylesheet" href="'+h[c]+'"\/>';else headHTML+=h.match(\/\\s*<style(\\s+[^>]*?)?>[\\s\\S]+?<\\\/style>\\s*\/i)?h:'<link rel="stylesheet" href="'+h+'"\/>';var d='<!DOCTYPE html><html xmlns="http:\/\/www.w3.org\/1999\/xhtml"><head>'+headHTML+"<title>{#defaultReadTip} "+(settings.readTip?settings.readTip:"")+"<\/title>";o&&(d+="<style>html{background:"+o+";}<\/style>"),d+='<\/head><body spellcheck="0" class="editMode'+bodyClass+'"><\/body><\/html>',_this.win=_win=$("#"+idIframe)[0].contentWindow,_jWin=$(_win);try{this.doc=_doc=_win.document,_jDoc=$(_doc),_doc.open(),_doc.write(getLang(d)),_doc.close(),isIE?_doc.body.contentEditable="true":_doc.designMode="On"}catch(u){}setTimeout(setOpts,300),_this.setSource(),_win.setInterval=null,_jTools.append(getLang(l.join(""))).bind("mousedown contextmenu",returnFalse).click(function(e){var t=$(e.target).closest("a");return t.is(".xheEnabled")&&(clearTimeout(timer),_jTools.find("a").attr("tabindex","-1"),ev=e,_this.exec(t.attr("cmd"))),!1}),_jTools.find(".xheButton").hover(function(e){var t=$(this),i=settings.hoverExecDelay,s=lastAngle;if(lastAngle=null,-1===i||bDisableHoverExec||!t.is(".xheEnabled"))return!1;if(s&&s>10)return bDisableHoverExec=!0,setTimeout(function(){bDisableHoverExec=!1},100),!1;var a=t.attr("cmd"),n=1===arrTools[a].h;return n?(bQuickHoverExec&&(i=0),i>=0&&(timer=setTimeout(function(){ev=e,lastPoint={x:ev.clientX,y:ev.clientY},_this.exec(a)},i)),undefined):(_this.hidePanel(),!1)},function(){lastPoint=null,timer&&clearTimeout(timer)}).mousemove(function(e){if(lastPoint){var t={x:e.clientX-lastPoint.x,y:e.clientY-lastPoint.y};if(Math.abs(t.x)>1||Math.abs(t.y)>1){if(t.x>0&&t.y>0){var i=Math.round(Math.atan(t.y\/t.x)\/.017453293);lastAngle=lastAngle?(lastAngle+i)\/2:i}else lastAngle=null;lastPoint={x:e.clientX,y:e.clientY}}}}),_jPanel=$("#xhePanel"),_jShadow=$("#xheShadow"),_jCntLine=$("#xheCntLine"),0===_jPanel.length&&(_jPanel=$('<div id="xhePanel"><\/div>').mousedown(function(e){e.stopPropagation()}),_jShadow=$('<div id="xheShadow"><\/div>'),_jCntLine=$('<div id="xheCntLine"><\/div>'),setTimeout(function(){$(document.body).append(_jPanel).append(_jShadow).append(_jCntLine)},10)),$("#"+idContainer).show(),_jText.hide(),_jArea.css("height",editorHeight-_jTools.outerHeight()),isIE&8>browerVer&&setTimeout(function(){_jArea.css("height",editorHeight-_jTools.outerHeight())},1),_jText.focus(_this.focus),_jForm.submit(saveResult).bind("reset",loadReset),settings.submitID&&$("#"+settings.submitID).mousedown(saveResult),$(window).bind("unload beforeunload",saveResult).bind("resize",fixFullHeight),$(document).mousedown(clickCancelPanel),bCheckEscInit||($(document).keydown(checkEsc),bCheckEscInit=!0),_jWin.focus(function(){settings.focus&&settings.focus()}).blur(function(){settings.blur&&settings.blur()}),isWebkit&&_jWin.click(fixAppleSel),_jDoc.mousedown(clickCancelPanel).keydown(checkShortcuts).keypress(forcePtag).dblclick(checkDblClick).bind("mousedown click",function(e){_jText.trigger(e.type)}),isIE&&(_jDoc.keydown(function(e){var t=_this.getRng();return 8===e.which&&t.item?($(t.item(0)).remove(),!1):undefined}),_jDoc.bind("controlselect",function(t){t=t.target,$.nodeName(t,"IMG")&&$(t).unbind("resizeend",e).bind("resizeend",e)})),_jDoc.keydown(function(e){var t=e.which;return e.altKey&&t>=49&&57>=t?(_jTools.find("a").attr("tabindex","0"),_jTools.find(".xheGStart").eq(t-49).next().find("a").focus(),_doc.title="\\ufeff\\ufeff",!1):undefined}).click(function(){_jTools.find("a").attr("tabindex","-1")}),_jTools.keydown(function(e){var t=e.which;if(27==t)_jTools.find("a").attr("tabindex","-1"),_this.focus();else if(e.altKey&&t>=49&&57>=t)return _jTools.find(".xheGStart").eq(t-49).next().find("a").focus(),!1});var p=$(_doc.documentElement);isOpera?p.bind("keydown",function(e){e.ctrlKey&&86===e.which&&cleanPaste()}):p.bind(isIE?"beforepaste":"paste",cleanPaste),settings.disableContextmenu&&p.bind("contextmenu",returnFalse),settings.html5Upload&&p.bind("dragenter dragover",function(e){var t;return(t=e.originalEvent.dataTransfer.types)&&-1!==$.inArray("Files",t)?!1:undefined}).bind("drop",function(e){function t(e){var t,i,s;for(a=0;e.length>a;a++){if(i=e[a].name.replace(\/.+\\.\/,""),!(t=o.match(RegExp("(\\\\w+):[^:]*,"+i+"(?:,|$)","i"))))return 1;if(s){if(s!==t[1])return 2}else s=t[1]}return s}var i,s=e.originalEvent.dataTransfer;if(s&&(i=s.files)&&i.length>0){var a,n,o,l=["Link","Img","Flash","Media"],r=[];for(a in l)n=l[a],settings["up"+n+"Url"]&&settings["up"+n+"Url"].match(\/^[^!].*\/i)&&r.push(n+":,"+settings["up"+n+"Ext"]);return 0===r.length?!1:(o=r.join(","),n=t(i),1===n?alert(getLang("upload.extLimit",o.replace(\/\\w+:,\/g,""))):2===n?alert(getLang("upload.typeLimit")):n&&_this.startUpload(i,settings["up"+n+"Url"],"*",function(e){var t,i=[],s=settings.onUpload;s&&s(e);for(var a=0,o=e.length;o>a;a++)t=e[a],url=is(t,"string")?t:t.url,"!"===url.substr(0,1)&&(url=url.substr(1)),i.push(url);_this.exec(n),$("#xhe"+n+"Url").val(i.join(" ")),$("#xheSave").click()}),!1)}});var g=settings.shortcuts;g&&$.each(g,function(e,t){_this.addShortcuts(e,t)}),xCount++,bInit=!0,settings.fullscreen?_this.toggleFullscreen():settings.sourceMode&&setTimeout(_this.toggleSource,20);var f=settings.plugins;return f&&$.each(f,function(e,t){var i=t.i;i!==undefined&&i(_this)}),!0},this.remove=function(){_this.hidePanel(),saveResult(),_jText.unbind("focus",_this.focus),_jForm.unbind("submit",saveResult).unbind("reset",loadReset),settings.submitID&&$("#"+settings.submitID).unbind("mousedown",saveResult),$(window).unbind("unload beforeunload",saveResult).unbind("resize",fixFullHeight),$(document).unbind("mousedown",clickCancelPanel),$("#"+idContainer).remove(),$("#"+idFixFFCursor).remove(),_jText.show(),bInit=!1},this.saveBookmark=function(){if(!bSource){_this.focus();var e=_this.getRng();e=e.cloneRange?e.cloneRange():e,bookmark={top:_jWin.scrollTop(),rng:e}}},this.loadBookmark=function(){if(!bSource&&bookmark){_this.focus();var e=bookmark.rng;if(isIE)e.select();else{var t=_this.getSel();t.removeAllRanges(),t.addRange(e)}_jWin.scrollTop(bookmark.top),bookmark=null}},this.focus=function(){if(bSource?$("#sourceCode",_doc).focus():_win.focus(),isIE){var e=_this.getRng();e.parentElement&&e.parentElement().ownerDocument!==_doc&&_this.setTextCursor()}return!1},this.setTextCursor=function(e){var t=_this.getRng(!0),i=_doc.body;if(isIE)t.moveToElementText(i);else{for(var s=e?"lastChild":"firstChild";3!=i.nodeType&&i[s];)i=i[s];t.selectNode(i)}if(t.collapse(e?!1:!0),isIE)t.select();else{var a=_this.getSel();a.removeAllRanges(),a.addRange(t)}},this.getSel=function(){return _doc.selection?_doc.selection:_win.getSelection()},this.getRng=function(e){var t,i;try{e||(t=_this.getSel(),i=t.createRange?t.createRange():t.rangeCount>0?t.getRangeAt(0):null),i||(i=_doc.body.createTextRange?_doc.body.createTextRange():_doc.createRange())}catch(s){}return i},this.getParent=function(e){var t,i=_this.getRng();return isIE?t=i.item?i.item(0):i.parentElement():(t=i.commonAncestorContainer,i.collapsed||i.startContainer===i.endContainer&&2>i.startOffset-i.endOffset&&i.startContainer.hasChildNodes()&&(t=i.startContainer.childNodes[i.startOffset])),e=e?e:"*",t=$(t),t.is(e)||(t=$(t).closest(e)),t},this.getSelect=function(e){var t=_this.getSel(),i=_this.getRng(),s=!0;if(s=!i||i.item?!1:!t||0===i.boundingWidth||i.collapsed,"text"===e)return s?"":i.text||(t.toString?""+t:"");var a;if(i.cloneContents){var n,o=$("<div><\/div>");n=i.cloneContents(),n&&o.append(n),a=o.html()}else a=is(i.item)?i.item(0).outerHTML:is(i.htmlText)?i.htmlText:""+i;return s&&(a=""),a=_this.processHTML(a,"read"),a=_this.cleanHTML(a),a=_this.formatXHTML(a)},this.pasteHTML=function(e,t){if(bSource)return!1;_this.focus(),e=_this.processHTML(e,"write");var i=_this.getSel(),s=_this.getRng();if(t!==undefined){if(s.item){var a=s.item(0);s=_this.getRng(!0),s.moveToElementText(a),s.select()}s.collapse(t)}if(e+="<"+(isIE?"img":"span")+' id="_xhe_temp" width="0" height="0" \/>',s.insertNode){if($(s.startContainer).closest("style,script").length>0)return!1;s.deleteContents(),s.insertNode(s.createContextualFragment(e))}else"control"===i.type.toLowerCase()&&(i.clear(),s=_this.getRng()),s.pasteHTML(e);var n=$("#_xhe_temp",_doc),o=n[0];isIE?(s.moveToElementText(o),s.select()):(s.selectNode(o),i.removeAllRanges(),i.addRange(s)),n.remove()},this.pasteText=function(e,t){e||(e=""),e=_this.domEncode(e),e=e.replace(\/\\r?\\n\/g,"<br \/>"),_this.pasteHTML(e,t)},this.appendHTML=function(e){return bSource?!1:(_this.focus(),e=_this.processHTML(e,"write"),$(_doc.body).append(e),_this.setTextCursor(!0),undefined)},this.domEncode=function(e){return e.replace(regEntities,function(e){return arrEntities[e]})},this.setSource=function(e){bookmark=null,"string"!=typeof e&&""!==e&&(e=_text.value),bSource?$("#sourceCode",_doc).val(e):(settings.beforeSetSource&&(e=settings.beforeSetSource(e)),e=_this.cleanHTML(e),e=_this.formatXHTML(e),e=_this.processHTML(e,"write"),isIE?(_doc.body.innerHTML='<img id="_xhe_temp" width="0" height="0" \/>'+e,$("#_xhe_temp",_doc).remove()):_doc.body.innerHTML=e)},this.processHTML=function(e,t){function i(e,t,i,s,a,o){var l,r,h,c,d="";if(l=s.match(\/font-family\\s*:\\s*([^;"]+)\/i),l&&(d+=' face="'+l[1]+'"'),r=s.match(\/font-size\\s*:\\s*([^;"]+)\/i)){r=r[1].toLowerCase();for(var u=0;n.length>u;u++)if(r===n[u].n||r===n[u].s){h=u+1;break}h&&(d+=' size="'+h+'"',s=s.replace(\/(^|;)(\\s*font-size\\s*:\\s*[^;"]+;?)+\/gi,"$1"))}if(c=s.match(\/(?:^|[\\s;])color\\s*:\\s*([^;"]+)\/i)){var p;if(p=c[1].match(\/\\s*rgb\\s*\\(\\s*(\\d+)\\s*,\\s*(\\d+)\\s*,\\s*(\\d+)\\s*\\)\/i)){c[1]="#";for(var g=1;3>=g;g++)c[1]+=("0"+(p[g]-0).toString(16)).slice(-2)}c[1]=c[1].replace(\/^#([0-9a-f])([0-9a-f])([0-9a-f])$\/i,"#$1$1$2$2$3$3"),d+=' color="'+c[1]+'"'}return s=s.replace(\/(^|;)(\\s*(font-family|color)\\s*:\\s*[^;"]+;?)+\/gi,"$1"),""!==d?(s&&(d+=' style="'+s+'"'),"<font"+(i?i:"")+d+(a?a:"")+">"+o+"<\/font>"):e}function s(e,t,i,s,a){for(var n,l,r=(i?i:"")+(s?s:""),h=[],c=[],d=0;o.length>d;d++)n=o[d].r,l=o[d].t,r=r.replace(n,function(){return h.push("<"+l+">"),c.push("<\/"+l+">"),""});return r=r.replace(\/\\s+style\\s*=\\s*"\\s*"\/i,""),(r?"<span"+r+">":"")+h.join("")+a+c.join("")+(r?"<\/span>":"")}var a=' class="Apple-style-span"',n=settings.listFontsize;if("write"===t)e=e.replace(\/(<(\\\/?)(\\w+))((?:\\s+[\\w\\-:]+\\s*=\\s*(?:"[^"]*"|'[^']*'|[^>\\s]+))*)\\s*((\\\/?)>)\/g,function(e,t,i,s,n,o,l){s=s.toLowerCase(),isMozilla?"strong"===s?s="b":"em"===s&&(s="i"):isWebkit&&("strong"===s?(s="span",i||(n+=a+' style="font-weight: bold;"')):"em"===s?(s="span",i||(n+=a+' style="font-style: italic;"')):"u"===s?(s="span",i||(n+=a+' style="text-decoration: underline;"')):"strike"===s&&(s="span",i||(n+=a+' style="text-decoration: line-through;"')));var r,h="";if("del"===s)s="strike";else if("img"===s)n=n.replace(\/\\s+emot\\s*=\\s*("[^"]*"|'[^']*'|[^>\\s]+)\/i,function(e,t){return r=t.match(\/^(["']?)(.*)\\1\/)[2],r=r.split(","),r[1]||(r[1]=r[0],r[0]=""),"default"===r[0]&&(r[0]=""),settings.emotMark?e:""});else if("a"===s)!n.match(\/ href=[^ ]\/i)&&n.match(\/ name=[^ ]\/i)&&(h+=" xhe-anchor"),l&&(o="><\/a>");else if("table"===s&&!i){var c=n.match(\/\\s+border\\s*=\\s*("[^"]*"|'[^']*'|[^>\\s]+)\/i);(!c||c[1].match(\/^(["']?)\\s*0\\s*\\1$\/))&&(h+=" xhe-border")}var d;if(n=n.replace(\/\\s+([\\w\\-:]+)\\s*=\\s*("[^"]*"|'[^']*'|[^>\\s]+)\/g,function(e,t,i){return t=t.toLowerCase(),i=i.match(\/^(["']?)(.*)\\1\/)[2],aft="",isIE&&t.match(\/^(disabled|checked|readonly|selected)$\/)&&i.match(\/^(false|0)$\/i)?"":"img"===s&&r&&"src"===t?"":(t.match(\/^(src|href)$\/)&&(aft=" _xhe_"+t+'="'+i+'"',urlBase&&(i=getLocalUrl(i,"abs",urlBase))),h&&"class"===t&&(i+=" "+h,h=""),isWebkit&&"style"===t&&"span"===s&&i.match(\/(^|;)\\s*(font-family|font-size|color|background-color)\\s*:\\s*[^;]+\\s*(;|$)\/i)&&(d=!0)," "+t+'="'+i+'"'+aft)}),r){var u=emotPath+(r[0]?r[0]:"default")+"\/"+r[1]+".gif";n+=' src="'+u+'" _xhe_src="'+u+'"'}return d&&(n+=a),h&&(n+=' class="'+h+'"'),"<"+i+s+n+o}),isIE&&(e=e.replace(\/&apos;\/gi,"&#39;")),isWebkit||(e=e.replace(\/<(span)(\\s+[^>]*?)?\\s+style\\s*=\\s*"((?:[^"]*?;)?\\s*(?:font-family|font-size|color)\\s*:[^"]*)"( [^>]*)?>(((?!<\\1(\\s+[^>]*?)?>)[\\s\\S]|<\\1(\\s+[^>]*?)?>((?!<\\1(\\s+[^>]*?)?>)[\\s\\S]|<\\1(\\s+[^>]*?)?>((?!<\\1(\\s+[^>]*?)?>)[\\s\\S])*?<\\\/\\1>)*?<\\\/\\1>)*?)<\\\/\\1>\/gi,i),e=e.replace(\/<(span)(\\s+[^>]*?)?\\s+style\\s*=\\s*"((?:[^"]*?;)?\\s*(?:font-family|font-size|color)\\s*:[^"]*)"( [^>]*)?>(((?!<\\1(\\s+[^>]*?)?>)[\\s\\S]|<\\1(\\s+[^>]*?)?>((?!<\\1(\\s+[^>]*?)?>)[\\s\\S])*?<\\\/\\1>)*?)<\\\/\\1>\/gi,i),e=e.replace(\/<(span)(\\s+[^>]*?)?\\s+style\\s*=\\s*"((?:[^"]*?;)?\\s*(?:font-family|font-size|color)\\s*:[^"]*)"( [^>]*)?>(((?!<\\1(\\s+[^>]*?)?>)[\\s\\S])*?)<\\\/\\1>\/gi,i)),e=e.replace(\/<(td|th)(\\s+[^>]*?)?>(\\s|&nbsp;)*<\\\/\\1>\/gi,"<$1$2>"+(isIE?"":"<br \/>")+"<\/$1>");else{if(isWebkit)for(var o=[{r:\/font-weight\\s*:\\s*bold;?\/gi,t:"strong"},{r:\/font-style\\s*:\\s*italic;?\/gi,t:"em"},{r:\/text-decoration\\s*:\\s*underline;?\/gi,t:"u"},{r:\/text-decoration\\s*:\\s*line-through;?\/gi,t:"strike"}],l=0;2>l;l++)e=e.replace(\/<(span)(\\s+[^>]*?)?\\s+class\\s*=\\s*"Apple-style-span"(\\s+[^>]*?)?>(((?!<\\1(\\s+[^>]*?)?>)[\\s\\S]|<\\1(\\s+[^>]*?)?>((?!<\\1(\\s+[^>]*?)?>)[\\s\\S]|<\\1(\\s+[^>]*?)?>((?!<\\1(\\s+[^>]*?)?>)[\\s\\S])*?<\\\/\\1>)*?<\\\/\\1>)*?)<\\\/\\1>\/gi,s),e=e.replace(\/<(span)(\\s+[^>]*?)?\\s+class\\s*=\\s*"Apple-style-span"(\\s+[^>]*?)?>(((?!<\\1(\\s+[^>]*?)?>)[\\s\\S]|<\\1(\\s+[^>]*?)?>((?!<\\1(\\s+[^>]*?)?>)[\\s\\S])*?<\\\/\\1>)*?)<\\\/\\1>\/gi,s),e=e.replace(\/<(span)(\\s+[^>]*?)?\\s+class\\s*=\\s*"Apple-style-span"(\\s+[^>]*?)?>(((?!<\\1(\\s+[^>]*?)?>)[\\s\\S])*?)<\\\/\\1>\/gi,s);e=e.replace(\/(<(\\w+))((?:\\s+[\\w\\-:]+\\s*=\\s*(?:"[^"]*"|'[^']*'|[^>\\s]+))*)\\s*(\\\/?>)\/g,function(e,t,i,s,a){i=i.toLowerCase();$/;"	p
var.specialKeys.115	js/xheditor.min.js	/^(function(){var e={};window.XHEDITOR=e})(),function(e,t){e.mapLang={},e.setLang=function(i,s){s===t&&(s=i,i=""),""!==i&&(i+=".");var a,n;for(var o in s)n=s[o],a=i+o,"string"==typeof n||n instanceof Array?e.mapLang[a]=n:e.setLang(a,n)},e.getLang=function(i){var s=e.mapLang[i];if(s===t&&(s=i.replace(\/{#([^{}]+)}\/g,function(t,i){var s=e.mapLang[i];return s?s:i})),"string"==typeof s){var a=arguments;s=s.replace(\/{\\$(\\d+)}\/g,function(e,i){var s=a[parseInt(i,10)+1];return s!==t?s:e})}return s}}(XHEDITOR),function(XHEDITOR,$,undefined){var agent=navigator.userAgent.toLowerCase(),bMobile=\/mobile\/i.test(agent),browser=$.browser,browerVer=parseFloat(browser.version),isIE=browser.msie,isMozilla=browser.mozilla,isWebkit=browser.webkit,isOpera=browser.opera,isChrome=browser.chrome,bAir=agent.indexOf(" adobeair\/")>-1,xCount=0,bShowPanel=!1,bClickCancel=!0,bShowModal=!1,bCheckEscInit=!1,_jPanel,_jShadow,_jCntLine,_jPanelButton,jModal,jModalShadow,layerShadow,jOverlay,jHideSelect,onModalRemove,editorRoot,getLang=XHEDITOR.getLang;if($("script[src*=xheditor]").each(function(){var e=this.src;return e.match(\/xheditor[^\\\/]*\\.js\/i)?(editorRoot=e.replace(\/[\\?#].*$\/,"").replace(\/(^|[\\\/\\\\])[^\\\/]*$\/,"$1"),!1):undefined}),isIE){try{document.execCommand("BackgroundImageCache",!1,!0)}catch(e){}var jqueryVer=$.fn.jquery;jqueryVer&&jqueryVer.match(\/^1\\.[67]\/)&&($.attrHooks.width=$.attrHooks.height=null)}var specialKeys={27:"esc",9:"tab",32:"space",13:"enter",8:"backspace",145:"scroll",20:"capslock",144:"numlock",19:"pause",45:"insert",36:"home",46:"del",35:"end",33:"pageup",34:"pagedown",37:"left",38:"up",39:"right",40:"down",112:"f1",113:"f2",114:"f3",115:"f4",116:"f5",117:"f6",118:"f7",119:"f8",120:"f9",121:"f10",122:"f11",123:"f12"},arrAlign=[{v:"justifyleft"},{v:"justifycenter"},{v:"justifyright"},{v:"justifyfull"}],arrList=[{v:"insertOrderedList"},{v:"insertUnorderedList"}],htmlPastetext='<div><label for="xhePastetextValue">{#PastetextTip}<\/label><\/div><div><textarea id="xhePastetextValue" wrap="soft" spellcheck="false" style="width:300px;height:100px;" \/><\/div><div style="text-align:right;"><input type="button" id="xheSave" value="{#dialogOk}" \/><\/div>',htmlLink='<div><label for="xheLinkUrl">{#link.url}<\/label><input type="text" id="xheLinkUrl" value="http:\/\/" class="xheText" \/><\/div><div><label for="xheLinkTarget">{#link.target}<\/label><select id="xheLinkTarget"><option selected="selected" value="">{#default}<\/option><option value="_blank">{#link.targetBlank}<\/option><option value="_self">{#link.targetSelf}<\/option><option value="_parent">{#link.targetParent}<\/option><\/select><\/div><div style="display:none"><label for="xheLinkText">{#link.linkText}<\/label><input type="text" id="xheLinkText" value="" class="xheText" \/><\/div><div style="text-align:right;"><input type="button" id="xheSave" value="{#dialogOk}" \/><\/div>',htmlAnchor='<div><label for="xheAnchorName">{#anchor.name}<\/label><input type="text" id="xheAnchorName" value="" class="xheText" \/><\/div><div style="text-align:right;"><input type="button" id="xheSave" value="{#dialogOk}" \/><\/div>',htmlImg='<div><label for="xheImgUrl">{#img.url}<\/label><input type="text" id="xheImgUrl" value="http:\/\/" class="xheText" \/><\/div><div><div><label for="xheImgAlt">{#img.alt}<\/label><input type="text" id="xheImgAlt" \/><\/div><div><label for="xheImgAlign">{#img.align}<\/label><select id="xheImgAlign"><option selected="selected" value="">{#default}<\/option><option value="left">{#img.alignLeft}<\/option><option value="right">{#img.alignRight}<\/option><option value="top">{#img.alignTop}<\/option><option value="middle">{#img.alignMiddle}<\/option><option value="baseline">{#img.alignBaseline}<\/option><option value="bottom">{#img.alignBottom}<\/option><\/select><\/div><div><label for="xheImgWidth">{#img.width}<\/label><input type="text" id="xheImgWidth" style="width:40px;" \/> <label for="xheImgHeight">{#img.height}<\/label><input type="text" id="xheImgHeight" style="width:40px;" \/><\/div><div><label for="xheImgBorder">{#img.border}<\/label><input type="text" id="xheImgBorder" style="width:40px;" \/><\/div><div><label for="xheImgHspace">{#img.hspace}<\/label><input type="text" id="xheImgHspace" style="width:40px;" \/> <label for="xheImgVspace">{#img.vspace}<\/label><input type="text" id="xheImgVspace" style="width:40px;" \/><\/div><div style="text-align:right;"><input type="button" id="xheSave" value="{#dialogOk}" \/><\/div>',htmlFlash='<div><label for="xheFlashUrl">{#flash.url}<\/label><input type="text" id="xheFlashUrl" value="http:\/\/" class="xheText" \/><\/div><div><label for="xheFlashWidth">{#flash.width}<\/label><input type="text" id="xheFlashWidth" style="width:40px;" value="480" \/> <label for="xheFlashHeight">{#flash.height}<\/label><input type="text" id="xheFlashHeight" style="width:40px;" value="400" \/><\/div><div style="text-align:right;"><input type="button" id="xheSave" value="{#dialogOk}" \/><\/div>',htmlMedia='<div><label for="xheMediaUrl">{#media.url}<\/label><input type="text" id="xheMediaUrl" value="http:\/\/" class="xheText" \/><\/div><div><label for="xheMediaWidth">{#media.width}<\/label><input type="text" id="xheMediaWidth" style="width:40px;" value="480" \/> <label for="xheMediaHeight">{#media.height}<\/label><input type="text" id="xheMediaHeight" style="width:40px;" value="400" \/><\/div><div style="text-align:right;"><input type="button" id="xheSave" value="{#dialogOk}" \/><\/div>',htmlTable='<div><label for="xheTableRows">{#table.rows}<\/label><input type="text" id="xheTableRows" style="width:40px;" value="3" \/> <label for="xheTableColumns">{#table.columns}<\/label><input type="text" id="xheTableColumns" style="width:40px;" value="2" \/><\/div><div><label for="xheTableHeaders">{#table.headers}<\/label><select id="xheTableHeaders"><option selected="selected" value="">{#none}<\/option><option value="row">{#table.headersRow}<\/option><option value="col">{#table.headersCol}<\/option><option value="both">{#table.headersBoth}<\/option><\/select><\/div><div><label for="xheTableWidth">{#table.width}<\/label><input type="text" id="xheTableWidth" style="width:40px;" value="200" \/> <label for="xheTableHeight">{#table.height}<\/label><input type="text" id="xheTableHeight" style="width:40px;" value="" \/><\/div><div><label for="xheTableBorder">{#table.border}<\/label><input type="text" id="xheTableBorder" style="width:40px;" value="1" \/><\/div><div><label for="xheTableCellSpacing">{#table.cellSpacing}<\/label><input type="text" id="xheTableCellSpacing" style="width:40px;" value="1" \/> <label for="xheTableCellPadding">{#table.cellPadding}<\/label><input type="text" id="xheTableCellPadding" style="width:40px;" value="1" \/><\/div><div><label for="xheTableAlign">{#table.align}<\/label><select id="xheTableAlign"><option selected="selected" value="">{#default}<\/option><option value="left">{#table.alignLeft}<\/option><option value="center">{#table.alignCenter}<\/option><option value="right">{#table.alignRight}<\/option><\/select><\/div><div><label for="xheTableCaption">{#table.caption}<\/label><input type="text" id="xheTableCaption" \/><\/div><div style="text-align:right;"><input type="button" id="xheSave" value="{#dialogOk}" \/><\/div>',htmlAbout='<div style="font:12px Arial;width:245px;word-wrap:break-word;word-break:break-all;outline:none;" role="dialog" tabindex="-1"><p><span style="font-size:20px;color:#1997DF;">xhEditor<\/span><br \/>v1.2.1 (build 130225)<\/p><p>{#aboutXheditor}<\/p><p>Copyright &copy; <a href="http:\/\/xheditor.com\/" target="_blank">xhEditor.com<\/a>. All rights reserved.<\/p><\/div>',itemEmots={"default":{name:"{#default}",width:24,height:24,line:7,list:["smile","tongue","titter","laugh","sad","wronged","fastcry","cry","wail","mad","knock","curse","crazy","angry","ohmy","awkward","panic","shy","cute","envy","proud","struggle","quiet","shutup","doubt","despise","sleep","bye"]}},arrTools={Cut:{t:"Cut"},Copy:{t:"Copy"},Paste:{t:"Paste"},Pastetext:{t:"Pastetext",h:isIE?0:1},Blocktag:{t:"Blocktag",h:1},Fontface:{t:"Fontface",h:1},FontSize:{t:"FontSize",h:1},Bold:{t:"Bold",s:"Ctrl+B"},Italic:{t:"Italic",s:"Ctrl+I"},Underline:{t:"Underline",s:"Ctrl+U"},Strikethrough:{t:"Strikethrough"},FontColor:{t:"FontColor",h:1},BackColor:{t:"BackColor",h:1},SelectAll:{t:"SelectAll"},Removeformat:{t:"Removeformat"},Align:{t:"Align",h:1},List:{t:"List",h:1},Outdent:{t:"Outdent"},Indent:{t:"Indent"},Link:{t:"Link",s:"Ctrl+L",h:1},Unlink:{t:"Unlink"},Anchor:{t:"Anchor",h:1},Img:{t:"Img",h:1},Flash:{t:"Flash",h:1},Media:{t:"Media",h:1},Hr:{t:"Hr"},Emot:{t:"Emot",s:"ctrl+e",h:1},Table:{t:"Table",h:1},Source:{t:"Source"},Preview:{t:"Preview"},Print:{t:"Print",s:"Ctrl+P"},Fullscreen:{t:"Fullscreen",s:"Esc"},About:{t:"About"}},toolsThemes={mini:"Bold,Italic,Underline,Strikethrough,|,Align,List,|,Link,Img",simple:"Blocktag,Fontface,FontSize,Bold,Italic,Underline,Strikethrough,FontColor,BackColor,|,Align,List,Outdent,Indent,|,Link,Img,Emot",full:"Cut,Copy,Paste,Pastetext,|,Blocktag,Fontface,FontSize,Bold,Italic,Underline,Strikethrough,FontColor,BackColor,SelectAll,Removeformat,|,Align,List,Outdent,Indent,|,Link,Unlink,Anchor,Img,Flash,Media,Hr,Emot,Table,|,Source,Preview,Print,Fullscreen"};toolsThemes.mfull=toolsThemes.full.replace(\/\\|(,Align)\/i,"\/$1");var arrDbClick={a:"Link",img:"Img",embed:"Embed"},uploadInputname="filedata",arrEntities={"<":"&lt;",">":"&gt;",'"':"&quot;","\\u00ae":"&reg;","\\u00a9":"&copy;"},regEntities=\/[<>"\\u00ae\\u00a9]\/g,Xheditor=function(textarea,options){function checkDblClick(e){var t=e.target,i=arrDbClick[t.tagName.toLowerCase()];if(i){if("Embed"===i){var s={"application\/x-shockwave-flash":"Flash","application\/x-mplayer2":"Media"};i=s[t.type.toLowerCase()]}_this.exec(i)}}function checkEsc(e){return 27===e.which?(bShowModal?_this.removeModal():bShowPanel&&_this.hidePanel(),!1):undefined}function loadReset(){setTimeout(_this.setSource,10)}function saveResult(){_this.getSource()}function cleanPaste(e){var t,i,s;if(e&&(t=e.originalEvent.clipboardData)&&(i=t.items)&&(s=i[0])&&"file"==s.kind&&s.type.match(\/^image\\\/\/i)){var a=s.getAsFile(),n=new FileReader;return n.onload=function(){var e='<img src="'+event.target.result+'">';e=replaceRemoteImg(e),_this.pasteHTML(e)},n.readAsDataURL(a),!1}var o=settings.cleanPaste;if(0===o||bSource||bCleanPaste)return!0;bCleanPaste=!0,_this.saveBookmark();var l=isIE?"pre":"div",r=$("<"+l+' class="xhe-paste">\\ufeff\\ufeff<\/'+l+">",_doc).appendTo(_doc.body),h=r[0],c=_this.getSel(),d=_this.getRng(!0);r.css("top",_jWin.scrollTop()),isIE?(d.moveToElementText(h),d.select()):(d.selectNodeContents(h),c.removeAllRanges(),c.addRange(d)),setTimeout(function(){var e,t=3===o;if(t)r.html(r.html().replace(\/<br(\\s+[^<>]*)?>\/gi,"\\n")),e=r.text();else{var i=$(".xhe-paste",_doc.body),s=[];i.each(function(e,t){0==$(t).find(".xhe-paste").length&&s.push(t.innerHTML)}),e=s.join("<br \/>")}r.remove(),_this.loadBookmark(),e=e.replace(\/^[\\s\\uFEFF]+|[\\s\\uFEFF]+$\/g,""),e&&(t?_this.pasteText(e):(e=_this.cleanHTML(e),e=_this.cleanWord(e),e=_this.formatXHTML(e),(!settings.onPaste||settings.onPaste&&(e=settings.onPaste(e))!==!1)&&(e=replaceRemoteImg(e),_this.pasteHTML(e)))),bCleanPaste=!1},0)}function replaceRemoteImg(e){var t=settings.localUrlTest,i=settings.remoteImgSaveUrl;if(t&&i){var s=[],a=0;e=e.replace(\/(<img)((?:\\s+[^>]*?)?(?:\\s+src="\\s*([^"]+)\\s*")(?: [^>]*)?)(\\\/?>)\/gi,function(e,i,n,o,l){return!\/^(https?|data:image)\/i.test(o)||\/_xhe_temp\/.test(n)||t.test(o)||(s[a]=o,n=n.replace(\/\\s+(width|height)="[^"]*"\/gi,"").replace(\/\\s+src="[^"]*"\/gi,' src="'+skinPath+'img\/waiting.gif" remoteimg="'+a++ +'"')),i+n+l}),s.length>0&&$.post(i,{urls:s.join("|")},function(e){e=e.split("|"),$("img[remoteimg]",_this.doc).each(function(){var t=$(this);xheAttr(t,"src",e[t.attr("remoteimg")]),t.removeAttr("remoteimg")})})}return e}function setCSS(e){try{_this._exec("styleWithCSS",e,!0)}catch(t){try{_this._exec("useCSS",!e,!0)}catch(t){}}}function setOpts(){if(bInit&&!bSource){setCSS(!1);try{_this._exec("enableObjectResizing",!0,!0)}catch(e){}if(isIE)try{_this._exec("BackgroundImageCache",!0,!0)}catch(e){}}}function forcePtag(e){if(bSource||13!==e.which||e.shiftKey||e.ctrlKey||e.altKey)return!0;var t=_this.getParent("p,h1,h2,h3,h4,h5,h6,pre,address,div,li");return t.is("li")?!0:settings.forcePtag?(0===t.length&&_this._exec("formatblock","<p>"),undefined):(_this.pasteHTML("<br \/>"),isIE&&t.length>0&&2===_this.getRng().parentElement().childNodes.length&&_this.pasteHTML("<br \/>"),!1)}function fixFullHeight(){isMozilla||isWebkit||(bFullscreen&&_jArea.height("100%").css("height",_jArea.outerHeight()-_jTools.outerHeight()),isIE&&_jTools.hide().show())}function fixAppleSel(e){if(e=e.target,e.tagName.match(\/(img|embed)\/i)){var t=_this.getSel(),i=_this.getRng(!0);i.selectNode(e),t.removeAllRanges(),t.addRange(i)}}function xheAttr(e,t,i){if(!t)return!1;var s="_xhe_"+t;return i&&(urlType&&(i=getLocalUrl(i,urlType,urlBase)),e.attr(t,urlBase?getLocalUrl(i,"abs",urlBase):i).removeAttr(s).attr(s,i)),e.attr(s)||e.attr(t)}function clickCancelPanel(){bClickCancel&&_this.hidePanel()}function checkShortcuts(e){if(bSource)return!0;var t=e.which,i=specialKeys[t],s=i?i:String.fromCharCode(t).toLowerCase();sKey="",sKey+=e.ctrlKey?"ctrl+":"",sKey+=e.altKey?"alt+":"",sKey+=e.shiftKey?"shift+":"",sKey+=s;var a,n=arrShortCuts[sKey];for(a in n){if(a=n[a],!$.isFunction(a))return _this.exec(a),!1;if(a.call(_this)===!1)return!1}}function is(e,t){var i=typeof e;return t?"array"===t&&e.hasOwnProperty&&e instanceof Array?!0:i===t:"undefined"!=i}function getLocalUrl(e,t,i){if(e.match(\/^(\\w+):\\\/\\\/\/i)&&!e.match(\/^https?:\/i)||\/^#\/i.test(e)||\/^data:\/i.test(e))return e;var s=i?$('<a href="'+i+'" \/>')[0]:location,a=s.protocol,n=s.host,o=s.hostname,l=s.port,r=s.pathname.replace(\/\\\\\/g,"\/").replace(\/[^\\\/]+$\/i,"");if(""===l&&(l="80"),""===r?r="\/":"\/"!==r.charAt(0)&&(r="\/"+r),e=$.trim(e),"abs"!==t&&(e=e.replace(RegExp(a+"\\\\\/\\\\\/"+o.replace(\/\\.\/g,"\\\\.")+"(?::"+l+")"+("80"===l?"?":"")+"(\/|$)","i"),"\/")),"rel"===t&&(e=e.replace(RegExp("^"+r.replace(\/([\\\/\\.\\+\\[\\]\\(\\)])\/g,"\\\\$1"),"i"),"")),"rel"!==t&&(e.match(\/^(https?:\\\/\\\/|\\\/)\/i)||(e=r+e),"\/"===e.charAt(0))){var h,c,d=[],u=e.split("\/"),p=u.length;for(c=0;p>c;c++)h=u[c],".."===h?d.pop():""!==h&&"."!==h&&d.push(h);""===u[p-1]&&d.push(""),e="\/"+d.join("\/")}return"abs"!==t||e.match(\/^https?:\\\/\\\/\/i)||(e=a+"\/\/"+n+e),e=e.replace(\/(https?:\\\/\\\/[^:\\\/?#]+):80(\\\/|$)\/i,"$1$2")}function checkFileExt(e,t){return"*"===t||e.match(RegExp(".("+t.replace(\/,\/g,"|")+")$","i"))?!0:(alert(getLang("upload.extLimit",t)),!1)}function formatBytes(e){var t=["Byte","KB","MB","GB","TB","PB"],i=Math.floor(Math.log(e)\/Math.log(1024));return(e\/Math.pow(1024,Math.floor(i))).toFixed(2)+t[i]}function returnFalse(){return!1}var _this=this,_text=textarea,_jText=$(_text),_jForm=_jText.closest("form"),_jTools,_jArea,_win,_jWin,_doc,_jDoc,bookmark,bInit=!1,bSource=!1,bFullscreen=!1,bCleanPaste=!1,outerScroll,bShowBlocktag=!1,sLayoutStyle="",ev=null,timer,bDisableHoverExec=!1,bQuickHoverExec=!1,lastPoint=null,lastAngle=null,editorHeight=0,settings=_this.settings=$.extend({},XHEDITOR.settings,options),plugins=settings.plugins,strPlugins=[];if(plugins&&(arrTools=$.extend({},arrTools,plugins),$.each(plugins,function(e){strPlugins.push(e)}),strPlugins=strPlugins.join(",")),settings.tools.match(\/^\\s*(m?full|simple|mini)\\s*$\/i)){var toolsTheme=toolsThemes[$.trim(settings.tools)];settings.tools=settings.tools.match(\/m?full\/i)&&plugins?toolsTheme.replace("Table","Table,"+strPlugins):toolsTheme}settings.tools.match(\/(^|,)\\s*About\\s*(,|$)\/i)||(settings.tools+=",About"),settings.tools=settings.tools.split(","),settings.editorRoot&&(editorRoot=settings.editorRoot),bAir===!1&&(editorRoot=getLocalUrl(editorRoot,"abs")),settings.urlBase&&(settings.urlBase=getLocalUrl(settings.urlBase,"abs"));var idCSS="xheCSS_"+settings.skin,idContainer="xhe"+xCount+"_container",idTools="xhe"+xCount+"_Tool",idIframeArea="xhe"+xCount+"_iframearea",idIframe="xhe"+xCount+"_iframe",idFixFFCursor="xhe"+xCount+"_fixffcursor",headHTML="",bodyClass="",skinPath=editorRoot+"xheditor_skin\/"+settings.skin+"\/",arrEmots=itemEmots,urlType=settings.urlType,urlBase=settings.urlBase,emotPath=settings.emotPath,emotPath=emotPath?emotPath:editorRoot+"xheditor_emot\/",selEmotGroup="";arrEmots=$.extend({},arrEmots,settings.emots),emotPath=getLocalUrl(emotPath,"rel",urlBase?urlBase:null),bShowBlocktag=settings.showBlocktag,bShowBlocktag&&(bodyClass+=" showBlocktag");var arrShortCuts=[];this.init=function(){function e(e){var t,i=$(e.target);(t=i.css("width"))&&i.css("width","").attr("width",t.replace(\/[^0-9%]+\/g,"")),(t=i.css("height"))&&i.css("height","").attr("height",t.replace(\/[^0-9%]+\/g,""))}0===$("#"+idCSS).length&&$("head").append('<link id="'+idCSS+'" rel="stylesheet" type="text\/css" href="'+skinPath+'ui.css" \/>');var t=_jText.outerWidth(),i=_jText.outerHeight(),s=settings.width||_text.style.width||(t>10?t:0);editorHeight=settings.height||_text.style.height||(i>10?i:150),\/^\\d+(?:\\.\\d+)?$\/.test(s)&&(s+="px"),is(editorHeight,"string")&&(editorHeight=editorHeight.replace(\/[^\\d]+\/g,""));var a,n,o=settings.background||_text.style.background,l=['<span class="xheGStart"\/>'],r=\/\\||\\\/\/i;$.each(settings.tools,function(e,t){if(t.match(r)&&l.push('<span class="xheGEnd"\/>'),"|"===t)l.push('<span class="xheSeparator"\/>');else if("\/"===t)l.push("<br \/>");else{if(a=arrTools[t],!a)return;n=a.c?a.c:"xheIcon xheBtn"+t,l.push('<span><a href="#" title="{#'+a.t+'}" cmd="'+t+'" class="xheButton xheEnabled" tabindex="-1" role="button"><span class="'+n+'" unselectable="on" style="font-size:0;color:transparent;text-indent:-999px;">'+a.t+"<\/span><\/a><\/span>"),a.s&&_this.addShortcuts(a.s,t)}t.match(r)&&l.push('<span class="xheGStart"\/>')}),l.push('<span class="xheGEnd"\/><br \/>'),_jText.after($('<input type="text" id="'+idFixFFCursor+'" style="position:absolute;display:none;" \/><span id="'+idContainer+'" class="xhe_'+settings.skin+'" style="display:none"><table cellspacing="0" cellpadding="0" class="xheLayout" style="'+("0px"!=s?"width:"+s+";":"")+"height:"+editorHeight+'px;" role="presentation"><tr><td id="'+idTools+'" class="xheTool" unselectable="on" style="height:1px;" role="presentation"><\/td><\/tr><tr><td id="'+idIframeArea+'" class="xheIframeArea" role="presentation"><iframe frameborder="0" id="'+idIframe+'" src="javascript:;" style="width:100%;"><\/iframe><\/td><\/tr><\/table><\/span>')),_jTools=$("#"+idTools),_jArea=$("#"+idIframeArea),headHTML='<meta http-equiv="Content-Type" content="text\/html; charset=utf-8" \/><link rel="stylesheet" href="'+skinPath+'iframe.css"\/>';var h=settings.loadCSS;if(h)if(is(h,"array"))for(var c in h)headHTML+='<link rel="stylesheet" href="'+h[c]+'"\/>';else headHTML+=h.match(\/\\s*<style(\\s+[^>]*?)?>[\\s\\S]+?<\\\/style>\\s*\/i)?h:'<link rel="stylesheet" href="'+h+'"\/>';var d='<!DOCTYPE html><html xmlns="http:\/\/www.w3.org\/1999\/xhtml"><head>'+headHTML+"<title>{#defaultReadTip} "+(settings.readTip?settings.readTip:"")+"<\/title>";o&&(d+="<style>html{background:"+o+";}<\/style>"),d+='<\/head><body spellcheck="0" class="editMode'+bodyClass+'"><\/body><\/html>',_this.win=_win=$("#"+idIframe)[0].contentWindow,_jWin=$(_win);try{this.doc=_doc=_win.document,_jDoc=$(_doc),_doc.open(),_doc.write(getLang(d)),_doc.close(),isIE?_doc.body.contentEditable="true":_doc.designMode="On"}catch(u){}setTimeout(setOpts,300),_this.setSource(),_win.setInterval=null,_jTools.append(getLang(l.join(""))).bind("mousedown contextmenu",returnFalse).click(function(e){var t=$(e.target).closest("a");return t.is(".xheEnabled")&&(clearTimeout(timer),_jTools.find("a").attr("tabindex","-1"),ev=e,_this.exec(t.attr("cmd"))),!1}),_jTools.find(".xheButton").hover(function(e){var t=$(this),i=settings.hoverExecDelay,s=lastAngle;if(lastAngle=null,-1===i||bDisableHoverExec||!t.is(".xheEnabled"))return!1;if(s&&s>10)return bDisableHoverExec=!0,setTimeout(function(){bDisableHoverExec=!1},100),!1;var a=t.attr("cmd"),n=1===arrTools[a].h;return n?(bQuickHoverExec&&(i=0),i>=0&&(timer=setTimeout(function(){ev=e,lastPoint={x:ev.clientX,y:ev.clientY},_this.exec(a)},i)),undefined):(_this.hidePanel(),!1)},function(){lastPoint=null,timer&&clearTimeout(timer)}).mousemove(function(e){if(lastPoint){var t={x:e.clientX-lastPoint.x,y:e.clientY-lastPoint.y};if(Math.abs(t.x)>1||Math.abs(t.y)>1){if(t.x>0&&t.y>0){var i=Math.round(Math.atan(t.y\/t.x)\/.017453293);lastAngle=lastAngle?(lastAngle+i)\/2:i}else lastAngle=null;lastPoint={x:e.clientX,y:e.clientY}}}}),_jPanel=$("#xhePanel"),_jShadow=$("#xheShadow"),_jCntLine=$("#xheCntLine"),0===_jPanel.length&&(_jPanel=$('<div id="xhePanel"><\/div>').mousedown(function(e){e.stopPropagation()}),_jShadow=$('<div id="xheShadow"><\/div>'),_jCntLine=$('<div id="xheCntLine"><\/div>'),setTimeout(function(){$(document.body).append(_jPanel).append(_jShadow).append(_jCntLine)},10)),$("#"+idContainer).show(),_jText.hide(),_jArea.css("height",editorHeight-_jTools.outerHeight()),isIE&8>browerVer&&setTimeout(function(){_jArea.css("height",editorHeight-_jTools.outerHeight())},1),_jText.focus(_this.focus),_jForm.submit(saveResult).bind("reset",loadReset),settings.submitID&&$("#"+settings.submitID).mousedown(saveResult),$(window).bind("unload beforeunload",saveResult).bind("resize",fixFullHeight),$(document).mousedown(clickCancelPanel),bCheckEscInit||($(document).keydown(checkEsc),bCheckEscInit=!0),_jWin.focus(function(){settings.focus&&settings.focus()}).blur(function(){settings.blur&&settings.blur()}),isWebkit&&_jWin.click(fixAppleSel),_jDoc.mousedown(clickCancelPanel).keydown(checkShortcuts).keypress(forcePtag).dblclick(checkDblClick).bind("mousedown click",function(e){_jText.trigger(e.type)}),isIE&&(_jDoc.keydown(function(e){var t=_this.getRng();return 8===e.which&&t.item?($(t.item(0)).remove(),!1):undefined}),_jDoc.bind("controlselect",function(t){t=t.target,$.nodeName(t,"IMG")&&$(t).unbind("resizeend",e).bind("resizeend",e)})),_jDoc.keydown(function(e){var t=e.which;return e.altKey&&t>=49&&57>=t?(_jTools.find("a").attr("tabindex","0"),_jTools.find(".xheGStart").eq(t-49).next().find("a").focus(),_doc.title="\\ufeff\\ufeff",!1):undefined}).click(function(){_jTools.find("a").attr("tabindex","-1")}),_jTools.keydown(function(e){var t=e.which;if(27==t)_jTools.find("a").attr("tabindex","-1"),_this.focus();else if(e.altKey&&t>=49&&57>=t)return _jTools.find(".xheGStart").eq(t-49).next().find("a").focus(),!1});var p=$(_doc.documentElement);isOpera?p.bind("keydown",function(e){e.ctrlKey&&86===e.which&&cleanPaste()}):p.bind(isIE?"beforepaste":"paste",cleanPaste),settings.disableContextmenu&&p.bind("contextmenu",returnFalse),settings.html5Upload&&p.bind("dragenter dragover",function(e){var t;return(t=e.originalEvent.dataTransfer.types)&&-1!==$.inArray("Files",t)?!1:undefined}).bind("drop",function(e){function t(e){var t,i,s;for(a=0;e.length>a;a++){if(i=e[a].name.replace(\/.+\\.\/,""),!(t=o.match(RegExp("(\\\\w+):[^:]*,"+i+"(?:,|$)","i"))))return 1;if(s){if(s!==t[1])return 2}else s=t[1]}return s}var i,s=e.originalEvent.dataTransfer;if(s&&(i=s.files)&&i.length>0){var a,n,o,l=["Link","Img","Flash","Media"],r=[];for(a in l)n=l[a],settings["up"+n+"Url"]&&settings["up"+n+"Url"].match(\/^[^!].*\/i)&&r.push(n+":,"+settings["up"+n+"Ext"]);return 0===r.length?!1:(o=r.join(","),n=t(i),1===n?alert(getLang("upload.extLimit",o.replace(\/\\w+:,\/g,""))):2===n?alert(getLang("upload.typeLimit")):n&&_this.startUpload(i,settings["up"+n+"Url"],"*",function(e){var t,i=[],s=settings.onUpload;s&&s(e);for(var a=0,o=e.length;o>a;a++)t=e[a],url=is(t,"string")?t:t.url,"!"===url.substr(0,1)&&(url=url.substr(1)),i.push(url);_this.exec(n),$("#xhe"+n+"Url").val(i.join(" ")),$("#xheSave").click()}),!1)}});var g=settings.shortcuts;g&&$.each(g,function(e,t){_this.addShortcuts(e,t)}),xCount++,bInit=!0,settings.fullscreen?_this.toggleFullscreen():settings.sourceMode&&setTimeout(_this.toggleSource,20);var f=settings.plugins;return f&&$.each(f,function(e,t){var i=t.i;i!==undefined&&i(_this)}),!0},this.remove=function(){_this.hidePanel(),saveResult(),_jText.unbind("focus",_this.focus),_jForm.unbind("submit",saveResult).unbind("reset",loadReset),settings.submitID&&$("#"+settings.submitID).unbind("mousedown",saveResult),$(window).unbind("unload beforeunload",saveResult).unbind("resize",fixFullHeight),$(document).unbind("mousedown",clickCancelPanel),$("#"+idContainer).remove(),$("#"+idFixFFCursor).remove(),_jText.show(),bInit=!1},this.saveBookmark=function(){if(!bSource){_this.focus();var e=_this.getRng();e=e.cloneRange?e.cloneRange():e,bookmark={top:_jWin.scrollTop(),rng:e}}},this.loadBookmark=function(){if(!bSource&&bookmark){_this.focus();var e=bookmark.rng;if(isIE)e.select();else{var t=_this.getSel();t.removeAllRanges(),t.addRange(e)}_jWin.scrollTop(bookmark.top),bookmark=null}},this.focus=function(){if(bSource?$("#sourceCode",_doc).focus():_win.focus(),isIE){var e=_this.getRng();e.parentElement&&e.parentElement().ownerDocument!==_doc&&_this.setTextCursor()}return!1},this.setTextCursor=function(e){var t=_this.getRng(!0),i=_doc.body;if(isIE)t.moveToElementText(i);else{for(var s=e?"lastChild":"firstChild";3!=i.nodeType&&i[s];)i=i[s];t.selectNode(i)}if(t.collapse(e?!1:!0),isIE)t.select();else{var a=_this.getSel();a.removeAllRanges(),a.addRange(t)}},this.getSel=function(){return _doc.selection?_doc.selection:_win.getSelection()},this.getRng=function(e){var t,i;try{e||(t=_this.getSel(),i=t.createRange?t.createRange():t.rangeCount>0?t.getRangeAt(0):null),i||(i=_doc.body.createTextRange?_doc.body.createTextRange():_doc.createRange())}catch(s){}return i},this.getParent=function(e){var t,i=_this.getRng();return isIE?t=i.item?i.item(0):i.parentElement():(t=i.commonAncestorContainer,i.collapsed||i.startContainer===i.endContainer&&2>i.startOffset-i.endOffset&&i.startContainer.hasChildNodes()&&(t=i.startContainer.childNodes[i.startOffset])),e=e?e:"*",t=$(t),t.is(e)||(t=$(t).closest(e)),t},this.getSelect=function(e){var t=_this.getSel(),i=_this.getRng(),s=!0;if(s=!i||i.item?!1:!t||0===i.boundingWidth||i.collapsed,"text"===e)return s?"":i.text||(t.toString?""+t:"");var a;if(i.cloneContents){var n,o=$("<div><\/div>");n=i.cloneContents(),n&&o.append(n),a=o.html()}else a=is(i.item)?i.item(0).outerHTML:is(i.htmlText)?i.htmlText:""+i;return s&&(a=""),a=_this.processHTML(a,"read"),a=_this.cleanHTML(a),a=_this.formatXHTML(a)},this.pasteHTML=function(e,t){if(bSource)return!1;_this.focus(),e=_this.processHTML(e,"write");var i=_this.getSel(),s=_this.getRng();if(t!==undefined){if(s.item){var a=s.item(0);s=_this.getRng(!0),s.moveToElementText(a),s.select()}s.collapse(t)}if(e+="<"+(isIE?"img":"span")+' id="_xhe_temp" width="0" height="0" \/>',s.insertNode){if($(s.startContainer).closest("style,script").length>0)return!1;s.deleteContents(),s.insertNode(s.createContextualFragment(e))}else"control"===i.type.toLowerCase()&&(i.clear(),s=_this.getRng()),s.pasteHTML(e);var n=$("#_xhe_temp",_doc),o=n[0];isIE?(s.moveToElementText(o),s.select()):(s.selectNode(o),i.removeAllRanges(),i.addRange(s)),n.remove()},this.pasteText=function(e,t){e||(e=""),e=_this.domEncode(e),e=e.replace(\/\\r?\\n\/g,"<br \/>"),_this.pasteHTML(e,t)},this.appendHTML=function(e){return bSource?!1:(_this.focus(),e=_this.processHTML(e,"write"),$(_doc.body).append(e),_this.setTextCursor(!0),undefined)},this.domEncode=function(e){return e.replace(regEntities,function(e){return arrEntities[e]})},this.setSource=function(e){bookmark=null,"string"!=typeof e&&""!==e&&(e=_text.value),bSource?$("#sourceCode",_doc).val(e):(settings.beforeSetSource&&(e=settings.beforeSetSource(e)),e=_this.cleanHTML(e),e=_this.formatXHTML(e),e=_this.processHTML(e,"write"),isIE?(_doc.body.innerHTML='<img id="_xhe_temp" width="0" height="0" \/>'+e,$("#_xhe_temp",_doc).remove()):_doc.body.innerHTML=e)},this.processHTML=function(e,t){function i(e,t,i,s,a,o){var l,r,h,c,d="";if(l=s.match(\/font-family\\s*:\\s*([^;"]+)\/i),l&&(d+=' face="'+l[1]+'"'),r=s.match(\/font-size\\s*:\\s*([^;"]+)\/i)){r=r[1].toLowerCase();for(var u=0;n.length>u;u++)if(r===n[u].n||r===n[u].s){h=u+1;break}h&&(d+=' size="'+h+'"',s=s.replace(\/(^|;)(\\s*font-size\\s*:\\s*[^;"]+;?)+\/gi,"$1"))}if(c=s.match(\/(?:^|[\\s;])color\\s*:\\s*([^;"]+)\/i)){var p;if(p=c[1].match(\/\\s*rgb\\s*\\(\\s*(\\d+)\\s*,\\s*(\\d+)\\s*,\\s*(\\d+)\\s*\\)\/i)){c[1]="#";for(var g=1;3>=g;g++)c[1]+=("0"+(p[g]-0).toString(16)).slice(-2)}c[1]=c[1].replace(\/^#([0-9a-f])([0-9a-f])([0-9a-f])$\/i,"#$1$1$2$2$3$3"),d+=' color="'+c[1]+'"'}return s=s.replace(\/(^|;)(\\s*(font-family|color)\\s*:\\s*[^;"]+;?)+\/gi,"$1"),""!==d?(s&&(d+=' style="'+s+'"'),"<font"+(i?i:"")+d+(a?a:"")+">"+o+"<\/font>"):e}function s(e,t,i,s,a){for(var n,l,r=(i?i:"")+(s?s:""),h=[],c=[],d=0;o.length>d;d++)n=o[d].r,l=o[d].t,r=r.replace(n,function(){return h.push("<"+l+">"),c.push("<\/"+l+">"),""});return r=r.replace(\/\\s+style\\s*=\\s*"\\s*"\/i,""),(r?"<span"+r+">":"")+h.join("")+a+c.join("")+(r?"<\/span>":"")}var a=' class="Apple-style-span"',n=settings.listFontsize;if("write"===t)e=e.replace(\/(<(\\\/?)(\\w+))((?:\\s+[\\w\\-:]+\\s*=\\s*(?:"[^"]*"|'[^']*'|[^>\\s]+))*)\\s*((\\\/?)>)\/g,function(e,t,i,s,n,o,l){s=s.toLowerCase(),isMozilla?"strong"===s?s="b":"em"===s&&(s="i"):isWebkit&&("strong"===s?(s="span",i||(n+=a+' style="font-weight: bold;"')):"em"===s?(s="span",i||(n+=a+' style="font-style: italic;"')):"u"===s?(s="span",i||(n+=a+' style="text-decoration: underline;"')):"strike"===s&&(s="span",i||(n+=a+' style="text-decoration: line-through;"')));var r,h="";if("del"===s)s="strike";else if("img"===s)n=n.replace(\/\\s+emot\\s*=\\s*("[^"]*"|'[^']*'|[^>\\s]+)\/i,function(e,t){return r=t.match(\/^(["']?)(.*)\\1\/)[2],r=r.split(","),r[1]||(r[1]=r[0],r[0]=""),"default"===r[0]&&(r[0]=""),settings.emotMark?e:""});else if("a"===s)!n.match(\/ href=[^ ]\/i)&&n.match(\/ name=[^ ]\/i)&&(h+=" xhe-anchor"),l&&(o="><\/a>");else if("table"===s&&!i){var c=n.match(\/\\s+border\\s*=\\s*("[^"]*"|'[^']*'|[^>\\s]+)\/i);(!c||c[1].match(\/^(["']?)\\s*0\\s*\\1$\/))&&(h+=" xhe-border")}var d;if(n=n.replace(\/\\s+([\\w\\-:]+)\\s*=\\s*("[^"]*"|'[^']*'|[^>\\s]+)\/g,function(e,t,i){return t=t.toLowerCase(),i=i.match(\/^(["']?)(.*)\\1\/)[2],aft="",isIE&&t.match(\/^(disabled|checked|readonly|selected)$\/)&&i.match(\/^(false|0)$\/i)?"":"img"===s&&r&&"src"===t?"":(t.match(\/^(src|href)$\/)&&(aft=" _xhe_"+t+'="'+i+'"',urlBase&&(i=getLocalUrl(i,"abs",urlBase))),h&&"class"===t&&(i+=" "+h,h=""),isWebkit&&"style"===t&&"span"===s&&i.match(\/(^|;)\\s*(font-family|font-size|color|background-color)\\s*:\\s*[^;]+\\s*(;|$)\/i)&&(d=!0)," "+t+'="'+i+'"'+aft)}),r){var u=emotPath+(r[0]?r[0]:"default")+"\/"+r[1]+".gif";n+=' src="'+u+'" _xhe_src="'+u+'"'}return d&&(n+=a),h&&(n+=' class="'+h+'"'),"<"+i+s+n+o}),isIE&&(e=e.replace(\/&apos;\/gi,"&#39;")),isWebkit||(e=e.replace(\/<(span)(\\s+[^>]*?)?\\s+style\\s*=\\s*"((?:[^"]*?;)?\\s*(?:font-family|font-size|color)\\s*:[^"]*)"( [^>]*)?>(((?!<\\1(\\s+[^>]*?)?>)[\\s\\S]|<\\1(\\s+[^>]*?)?>((?!<\\1(\\s+[^>]*?)?>)[\\s\\S]|<\\1(\\s+[^>]*?)?>((?!<\\1(\\s+[^>]*?)?>)[\\s\\S])*?<\\\/\\1>)*?<\\\/\\1>)*?)<\\\/\\1>\/gi,i),e=e.replace(\/<(span)(\\s+[^>]*?)?\\s+style\\s*=\\s*"((?:[^"]*?;)?\\s*(?:font-family|font-size|color)\\s*:[^"]*)"( [^>]*)?>(((?!<\\1(\\s+[^>]*?)?>)[\\s\\S]|<\\1(\\s+[^>]*?)?>((?!<\\1(\\s+[^>]*?)?>)[\\s\\S])*?<\\\/\\1>)*?)<\\\/\\1>\/gi,i),e=e.replace(\/<(span)(\\s+[^>]*?)?\\s+style\\s*=\\s*"((?:[^"]*?;)?\\s*(?:font-family|font-size|color)\\s*:[^"]*)"( [^>]*)?>(((?!<\\1(\\s+[^>]*?)?>)[\\s\\S])*?)<\\\/\\1>\/gi,i)),e=e.replace(\/<(td|th)(\\s+[^>]*?)?>(\\s|&nbsp;)*<\\\/\\1>\/gi,"<$1$2>"+(isIE?"":"<br \/>")+"<\/$1>");else{if(isWebkit)for(var o=[{r:\/font-weight\\s*:\\s*bold;?\/gi,t:"strong"},{r:\/font-style\\s*:\\s*italic;?\/gi,t:"em"},{r:\/text-decoration\\s*:\\s*underline;?\/gi,t:"u"},{r:\/text-decoration\\s*:\\s*line-through;?\/gi,t:"strike"}],l=0;2>l;l++)e=e.replace(\/<(span)(\\s+[^>]*?)?\\s+class\\s*=\\s*"Apple-style-span"(\\s+[^>]*?)?>(((?!<\\1(\\s+[^>]*?)?>)[\\s\\S]|<\\1(\\s+[^>]*?)?>((?!<\\1(\\s+[^>]*?)?>)[\\s\\S]|<\\1(\\s+[^>]*?)?>((?!<\\1(\\s+[^>]*?)?>)[\\s\\S])*?<\\\/\\1>)*?<\\\/\\1>)*?)<\\\/\\1>\/gi,s),e=e.replace(\/<(span)(\\s+[^>]*?)?\\s+class\\s*=\\s*"Apple-style-span"(\\s+[^>]*?)?>(((?!<\\1(\\s+[^>]*?)?>)[\\s\\S]|<\\1(\\s+[^>]*?)?>((?!<\\1(\\s+[^>]*?)?>)[\\s\\S])*?<\\\/\\1>)*?)<\\\/\\1>\/gi,s),e=e.replace(\/<(span)(\\s+[^>]*?)?\\s+class\\s*=\\s*"Apple-style-span"(\\s+[^>]*?)?>(((?!<\\1(\\s+[^>]*?)?>)[\\s\\S])*?)<\\\/\\1>\/gi,s);e=e.replace(\/(<(\\w+))((?:\\s+[\\w\\-:]+\\s*=\\s*(?:"[^"]*"|'[^']*'|[^>\\s]+))*)\\s*(\\\/?>)\/g,function(e,t,i,s,a){i=i.toLowerCase();$/;"	p
var.specialKeys.116	js/xheditor.min.js	/^(function(){var e={};window.XHEDITOR=e})(),function(e,t){e.mapLang={},e.setLang=function(i,s){s===t&&(s=i,i=""),""!==i&&(i+=".");var a,n;for(var o in s)n=s[o],a=i+o,"string"==typeof n||n instanceof Array?e.mapLang[a]=n:e.setLang(a,n)},e.getLang=function(i){var s=e.mapLang[i];if(s===t&&(s=i.replace(\/{#([^{}]+)}\/g,function(t,i){var s=e.mapLang[i];return s?s:i})),"string"==typeof s){var a=arguments;s=s.replace(\/{\\$(\\d+)}\/g,function(e,i){var s=a[parseInt(i,10)+1];return s!==t?s:e})}return s}}(XHEDITOR),function(XHEDITOR,$,undefined){var agent=navigator.userAgent.toLowerCase(),bMobile=\/mobile\/i.test(agent),browser=$.browser,browerVer=parseFloat(browser.version),isIE=browser.msie,isMozilla=browser.mozilla,isWebkit=browser.webkit,isOpera=browser.opera,isChrome=browser.chrome,bAir=agent.indexOf(" adobeair\/")>-1,xCount=0,bShowPanel=!1,bClickCancel=!0,bShowModal=!1,bCheckEscInit=!1,_jPanel,_jShadow,_jCntLine,_jPanelButton,jModal,jModalShadow,layerShadow,jOverlay,jHideSelect,onModalRemove,editorRoot,getLang=XHEDITOR.getLang;if($("script[src*=xheditor]").each(function(){var e=this.src;return e.match(\/xheditor[^\\\/]*\\.js\/i)?(editorRoot=e.replace(\/[\\?#].*$\/,"").replace(\/(^|[\\\/\\\\])[^\\\/]*$\/,"$1"),!1):undefined}),isIE){try{document.execCommand("BackgroundImageCache",!1,!0)}catch(e){}var jqueryVer=$.fn.jquery;jqueryVer&&jqueryVer.match(\/^1\\.[67]\/)&&($.attrHooks.width=$.attrHooks.height=null)}var specialKeys={27:"esc",9:"tab",32:"space",13:"enter",8:"backspace",145:"scroll",20:"capslock",144:"numlock",19:"pause",45:"insert",36:"home",46:"del",35:"end",33:"pageup",34:"pagedown",37:"left",38:"up",39:"right",40:"down",112:"f1",113:"f2",114:"f3",115:"f4",116:"f5",117:"f6",118:"f7",119:"f8",120:"f9",121:"f10",122:"f11",123:"f12"},arrAlign=[{v:"justifyleft"},{v:"justifycenter"},{v:"justifyright"},{v:"justifyfull"}],arrList=[{v:"insertOrderedList"},{v:"insertUnorderedList"}],htmlPastetext='<div><label for="xhePastetextValue">{#PastetextTip}<\/label><\/div><div><textarea id="xhePastetextValue" wrap="soft" spellcheck="false" style="width:300px;height:100px;" \/><\/div><div style="text-align:right;"><input type="button" id="xheSave" value="{#dialogOk}" \/><\/div>',htmlLink='<div><label for="xheLinkUrl">{#link.url}<\/label><input type="text" id="xheLinkUrl" value="http:\/\/" class="xheText" \/><\/div><div><label for="xheLinkTarget">{#link.target}<\/label><select id="xheLinkTarget"><option selected="selected" value="">{#default}<\/option><option value="_blank">{#link.targetBlank}<\/option><option value="_self">{#link.targetSelf}<\/option><option value="_parent">{#link.targetParent}<\/option><\/select><\/div><div style="display:none"><label for="xheLinkText">{#link.linkText}<\/label><input type="text" id="xheLinkText" value="" class="xheText" \/><\/div><div style="text-align:right;"><input type="button" id="xheSave" value="{#dialogOk}" \/><\/div>',htmlAnchor='<div><label for="xheAnchorName">{#anchor.name}<\/label><input type="text" id="xheAnchorName" value="" class="xheText" \/><\/div><div style="text-align:right;"><input type="button" id="xheSave" value="{#dialogOk}" \/><\/div>',htmlImg='<div><label for="xheImgUrl">{#img.url}<\/label><input type="text" id="xheImgUrl" value="http:\/\/" class="xheText" \/><\/div><div><div><label for="xheImgAlt">{#img.alt}<\/label><input type="text" id="xheImgAlt" \/><\/div><div><label for="xheImgAlign">{#img.align}<\/label><select id="xheImgAlign"><option selected="selected" value="">{#default}<\/option><option value="left">{#img.alignLeft}<\/option><option value="right">{#img.alignRight}<\/option><option value="top">{#img.alignTop}<\/option><option value="middle">{#img.alignMiddle}<\/option><option value="baseline">{#img.alignBaseline}<\/option><option value="bottom">{#img.alignBottom}<\/option><\/select><\/div><div><label for="xheImgWidth">{#img.width}<\/label><input type="text" id="xheImgWidth" style="width:40px;" \/> <label for="xheImgHeight">{#img.height}<\/label><input type="text" id="xheImgHeight" style="width:40px;" \/><\/div><div><label for="xheImgBorder">{#img.border}<\/label><input type="text" id="xheImgBorder" style="width:40px;" \/><\/div><div><label for="xheImgHspace">{#img.hspace}<\/label><input type="text" id="xheImgHspace" style="width:40px;" \/> <label for="xheImgVspace">{#img.vspace}<\/label><input type="text" id="xheImgVspace" style="width:40px;" \/><\/div><div style="text-align:right;"><input type="button" id="xheSave" value="{#dialogOk}" \/><\/div>',htmlFlash='<div><label for="xheFlashUrl">{#flash.url}<\/label><input type="text" id="xheFlashUrl" value="http:\/\/" class="xheText" \/><\/div><div><label for="xheFlashWidth">{#flash.width}<\/label><input type="text" id="xheFlashWidth" style="width:40px;" value="480" \/> <label for="xheFlashHeight">{#flash.height}<\/label><input type="text" id="xheFlashHeight" style="width:40px;" value="400" \/><\/div><div style="text-align:right;"><input type="button" id="xheSave" value="{#dialogOk}" \/><\/div>',htmlMedia='<div><label for="xheMediaUrl">{#media.url}<\/label><input type="text" id="xheMediaUrl" value="http:\/\/" class="xheText" \/><\/div><div><label for="xheMediaWidth">{#media.width}<\/label><input type="text" id="xheMediaWidth" style="width:40px;" value="480" \/> <label for="xheMediaHeight">{#media.height}<\/label><input type="text" id="xheMediaHeight" style="width:40px;" value="400" \/><\/div><div style="text-align:right;"><input type="button" id="xheSave" value="{#dialogOk}" \/><\/div>',htmlTable='<div><label for="xheTableRows">{#table.rows}<\/label><input type="text" id="xheTableRows" style="width:40px;" value="3" \/> <label for="xheTableColumns">{#table.columns}<\/label><input type="text" id="xheTableColumns" style="width:40px;" value="2" \/><\/div><div><label for="xheTableHeaders">{#table.headers}<\/label><select id="xheTableHeaders"><option selected="selected" value="">{#none}<\/option><option value="row">{#table.headersRow}<\/option><option value="col">{#table.headersCol}<\/option><option value="both">{#table.headersBoth}<\/option><\/select><\/div><div><label for="xheTableWidth">{#table.width}<\/label><input type="text" id="xheTableWidth" style="width:40px;" value="200" \/> <label for="xheTableHeight">{#table.height}<\/label><input type="text" id="xheTableHeight" style="width:40px;" value="" \/><\/div><div><label for="xheTableBorder">{#table.border}<\/label><input type="text" id="xheTableBorder" style="width:40px;" value="1" \/><\/div><div><label for="xheTableCellSpacing">{#table.cellSpacing}<\/label><input type="text" id="xheTableCellSpacing" style="width:40px;" value="1" \/> <label for="xheTableCellPadding">{#table.cellPadding}<\/label><input type="text" id="xheTableCellPadding" style="width:40px;" value="1" \/><\/div><div><label for="xheTableAlign">{#table.align}<\/label><select id="xheTableAlign"><option selected="selected" value="">{#default}<\/option><option value="left">{#table.alignLeft}<\/option><option value="center">{#table.alignCenter}<\/option><option value="right">{#table.alignRight}<\/option><\/select><\/div><div><label for="xheTableCaption">{#table.caption}<\/label><input type="text" id="xheTableCaption" \/><\/div><div style="text-align:right;"><input type="button" id="xheSave" value="{#dialogOk}" \/><\/div>',htmlAbout='<div style="font:12px Arial;width:245px;word-wrap:break-word;word-break:break-all;outline:none;" role="dialog" tabindex="-1"><p><span style="font-size:20px;color:#1997DF;">xhEditor<\/span><br \/>v1.2.1 (build 130225)<\/p><p>{#aboutXheditor}<\/p><p>Copyright &copy; <a href="http:\/\/xheditor.com\/" target="_blank">xhEditor.com<\/a>. All rights reserved.<\/p><\/div>',itemEmots={"default":{name:"{#default}",width:24,height:24,line:7,list:["smile","tongue","titter","laugh","sad","wronged","fastcry","cry","wail","mad","knock","curse","crazy","angry","ohmy","awkward","panic","shy","cute","envy","proud","struggle","quiet","shutup","doubt","despise","sleep","bye"]}},arrTools={Cut:{t:"Cut"},Copy:{t:"Copy"},Paste:{t:"Paste"},Pastetext:{t:"Pastetext",h:isIE?0:1},Blocktag:{t:"Blocktag",h:1},Fontface:{t:"Fontface",h:1},FontSize:{t:"FontSize",h:1},Bold:{t:"Bold",s:"Ctrl+B"},Italic:{t:"Italic",s:"Ctrl+I"},Underline:{t:"Underline",s:"Ctrl+U"},Strikethrough:{t:"Strikethrough"},FontColor:{t:"FontColor",h:1},BackColor:{t:"BackColor",h:1},SelectAll:{t:"SelectAll"},Removeformat:{t:"Removeformat"},Align:{t:"Align",h:1},List:{t:"List",h:1},Outdent:{t:"Outdent"},Indent:{t:"Indent"},Link:{t:"Link",s:"Ctrl+L",h:1},Unlink:{t:"Unlink"},Anchor:{t:"Anchor",h:1},Img:{t:"Img",h:1},Flash:{t:"Flash",h:1},Media:{t:"Media",h:1},Hr:{t:"Hr"},Emot:{t:"Emot",s:"ctrl+e",h:1},Table:{t:"Table",h:1},Source:{t:"Source"},Preview:{t:"Preview"},Print:{t:"Print",s:"Ctrl+P"},Fullscreen:{t:"Fullscreen",s:"Esc"},About:{t:"About"}},toolsThemes={mini:"Bold,Italic,Underline,Strikethrough,|,Align,List,|,Link,Img",simple:"Blocktag,Fontface,FontSize,Bold,Italic,Underline,Strikethrough,FontColor,BackColor,|,Align,List,Outdent,Indent,|,Link,Img,Emot",full:"Cut,Copy,Paste,Pastetext,|,Blocktag,Fontface,FontSize,Bold,Italic,Underline,Strikethrough,FontColor,BackColor,SelectAll,Removeformat,|,Align,List,Outdent,Indent,|,Link,Unlink,Anchor,Img,Flash,Media,Hr,Emot,Table,|,Source,Preview,Print,Fullscreen"};toolsThemes.mfull=toolsThemes.full.replace(\/\\|(,Align)\/i,"\/$1");var arrDbClick={a:"Link",img:"Img",embed:"Embed"},uploadInputname="filedata",arrEntities={"<":"&lt;",">":"&gt;",'"':"&quot;","\\u00ae":"&reg;","\\u00a9":"&copy;"},regEntities=\/[<>"\\u00ae\\u00a9]\/g,Xheditor=function(textarea,options){function checkDblClick(e){var t=e.target,i=arrDbClick[t.tagName.toLowerCase()];if(i){if("Embed"===i){var s={"application\/x-shockwave-flash":"Flash","application\/x-mplayer2":"Media"};i=s[t.type.toLowerCase()]}_this.exec(i)}}function checkEsc(e){return 27===e.which?(bShowModal?_this.removeModal():bShowPanel&&_this.hidePanel(),!1):undefined}function loadReset(){setTimeout(_this.setSource,10)}function saveResult(){_this.getSource()}function cleanPaste(e){var t,i,s;if(e&&(t=e.originalEvent.clipboardData)&&(i=t.items)&&(s=i[0])&&"file"==s.kind&&s.type.match(\/^image\\\/\/i)){var a=s.getAsFile(),n=new FileReader;return n.onload=function(){var e='<img src="'+event.target.result+'">';e=replaceRemoteImg(e),_this.pasteHTML(e)},n.readAsDataURL(a),!1}var o=settings.cleanPaste;if(0===o||bSource||bCleanPaste)return!0;bCleanPaste=!0,_this.saveBookmark();var l=isIE?"pre":"div",r=$("<"+l+' class="xhe-paste">\\ufeff\\ufeff<\/'+l+">",_doc).appendTo(_doc.body),h=r[0],c=_this.getSel(),d=_this.getRng(!0);r.css("top",_jWin.scrollTop()),isIE?(d.moveToElementText(h),d.select()):(d.selectNodeContents(h),c.removeAllRanges(),c.addRange(d)),setTimeout(function(){var e,t=3===o;if(t)r.html(r.html().replace(\/<br(\\s+[^<>]*)?>\/gi,"\\n")),e=r.text();else{var i=$(".xhe-paste",_doc.body),s=[];i.each(function(e,t){0==$(t).find(".xhe-paste").length&&s.push(t.innerHTML)}),e=s.join("<br \/>")}r.remove(),_this.loadBookmark(),e=e.replace(\/^[\\s\\uFEFF]+|[\\s\\uFEFF]+$\/g,""),e&&(t?_this.pasteText(e):(e=_this.cleanHTML(e),e=_this.cleanWord(e),e=_this.formatXHTML(e),(!settings.onPaste||settings.onPaste&&(e=settings.onPaste(e))!==!1)&&(e=replaceRemoteImg(e),_this.pasteHTML(e)))),bCleanPaste=!1},0)}function replaceRemoteImg(e){var t=settings.localUrlTest,i=settings.remoteImgSaveUrl;if(t&&i){var s=[],a=0;e=e.replace(\/(<img)((?:\\s+[^>]*?)?(?:\\s+src="\\s*([^"]+)\\s*")(?: [^>]*)?)(\\\/?>)\/gi,function(e,i,n,o,l){return!\/^(https?|data:image)\/i.test(o)||\/_xhe_temp\/.test(n)||t.test(o)||(s[a]=o,n=n.replace(\/\\s+(width|height)="[^"]*"\/gi,"").replace(\/\\s+src="[^"]*"\/gi,' src="'+skinPath+'img\/waiting.gif" remoteimg="'+a++ +'"')),i+n+l}),s.length>0&&$.post(i,{urls:s.join("|")},function(e){e=e.split("|"),$("img[remoteimg]",_this.doc).each(function(){var t=$(this);xheAttr(t,"src",e[t.attr("remoteimg")]),t.removeAttr("remoteimg")})})}return e}function setCSS(e){try{_this._exec("styleWithCSS",e,!0)}catch(t){try{_this._exec("useCSS",!e,!0)}catch(t){}}}function setOpts(){if(bInit&&!bSource){setCSS(!1);try{_this._exec("enableObjectResizing",!0,!0)}catch(e){}if(isIE)try{_this._exec("BackgroundImageCache",!0,!0)}catch(e){}}}function forcePtag(e){if(bSource||13!==e.which||e.shiftKey||e.ctrlKey||e.altKey)return!0;var t=_this.getParent("p,h1,h2,h3,h4,h5,h6,pre,address,div,li");return t.is("li")?!0:settings.forcePtag?(0===t.length&&_this._exec("formatblock","<p>"),undefined):(_this.pasteHTML("<br \/>"),isIE&&t.length>0&&2===_this.getRng().parentElement().childNodes.length&&_this.pasteHTML("<br \/>"),!1)}function fixFullHeight(){isMozilla||isWebkit||(bFullscreen&&_jArea.height("100%").css("height",_jArea.outerHeight()-_jTools.outerHeight()),isIE&&_jTools.hide().show())}function fixAppleSel(e){if(e=e.target,e.tagName.match(\/(img|embed)\/i)){var t=_this.getSel(),i=_this.getRng(!0);i.selectNode(e),t.removeAllRanges(),t.addRange(i)}}function xheAttr(e,t,i){if(!t)return!1;var s="_xhe_"+t;return i&&(urlType&&(i=getLocalUrl(i,urlType,urlBase)),e.attr(t,urlBase?getLocalUrl(i,"abs",urlBase):i).removeAttr(s).attr(s,i)),e.attr(s)||e.attr(t)}function clickCancelPanel(){bClickCancel&&_this.hidePanel()}function checkShortcuts(e){if(bSource)return!0;var t=e.which,i=specialKeys[t],s=i?i:String.fromCharCode(t).toLowerCase();sKey="",sKey+=e.ctrlKey?"ctrl+":"",sKey+=e.altKey?"alt+":"",sKey+=e.shiftKey?"shift+":"",sKey+=s;var a,n=arrShortCuts[sKey];for(a in n){if(a=n[a],!$.isFunction(a))return _this.exec(a),!1;if(a.call(_this)===!1)return!1}}function is(e,t){var i=typeof e;return t?"array"===t&&e.hasOwnProperty&&e instanceof Array?!0:i===t:"undefined"!=i}function getLocalUrl(e,t,i){if(e.match(\/^(\\w+):\\\/\\\/\/i)&&!e.match(\/^https?:\/i)||\/^#\/i.test(e)||\/^data:\/i.test(e))return e;var s=i?$('<a href="'+i+'" \/>')[0]:location,a=s.protocol,n=s.host,o=s.hostname,l=s.port,r=s.pathname.replace(\/\\\\\/g,"\/").replace(\/[^\\\/]+$\/i,"");if(""===l&&(l="80"),""===r?r="\/":"\/"!==r.charAt(0)&&(r="\/"+r),e=$.trim(e),"abs"!==t&&(e=e.replace(RegExp(a+"\\\\\/\\\\\/"+o.replace(\/\\.\/g,"\\\\.")+"(?::"+l+")"+("80"===l?"?":"")+"(\/|$)","i"),"\/")),"rel"===t&&(e=e.replace(RegExp("^"+r.replace(\/([\\\/\\.\\+\\[\\]\\(\\)])\/g,"\\\\$1"),"i"),"")),"rel"!==t&&(e.match(\/^(https?:\\\/\\\/|\\\/)\/i)||(e=r+e),"\/"===e.charAt(0))){var h,c,d=[],u=e.split("\/"),p=u.length;for(c=0;p>c;c++)h=u[c],".."===h?d.pop():""!==h&&"."!==h&&d.push(h);""===u[p-1]&&d.push(""),e="\/"+d.join("\/")}return"abs"!==t||e.match(\/^https?:\\\/\\\/\/i)||(e=a+"\/\/"+n+e),e=e.replace(\/(https?:\\\/\\\/[^:\\\/?#]+):80(\\\/|$)\/i,"$1$2")}function checkFileExt(e,t){return"*"===t||e.match(RegExp(".("+t.replace(\/,\/g,"|")+")$","i"))?!0:(alert(getLang("upload.extLimit",t)),!1)}function formatBytes(e){var t=["Byte","KB","MB","GB","TB","PB"],i=Math.floor(Math.log(e)\/Math.log(1024));return(e\/Math.pow(1024,Math.floor(i))).toFixed(2)+t[i]}function returnFalse(){return!1}var _this=this,_text=textarea,_jText=$(_text),_jForm=_jText.closest("form"),_jTools,_jArea,_win,_jWin,_doc,_jDoc,bookmark,bInit=!1,bSource=!1,bFullscreen=!1,bCleanPaste=!1,outerScroll,bShowBlocktag=!1,sLayoutStyle="",ev=null,timer,bDisableHoverExec=!1,bQuickHoverExec=!1,lastPoint=null,lastAngle=null,editorHeight=0,settings=_this.settings=$.extend({},XHEDITOR.settings,options),plugins=settings.plugins,strPlugins=[];if(plugins&&(arrTools=$.extend({},arrTools,plugins),$.each(plugins,function(e){strPlugins.push(e)}),strPlugins=strPlugins.join(",")),settings.tools.match(\/^\\s*(m?full|simple|mini)\\s*$\/i)){var toolsTheme=toolsThemes[$.trim(settings.tools)];settings.tools=settings.tools.match(\/m?full\/i)&&plugins?toolsTheme.replace("Table","Table,"+strPlugins):toolsTheme}settings.tools.match(\/(^|,)\\s*About\\s*(,|$)\/i)||(settings.tools+=",About"),settings.tools=settings.tools.split(","),settings.editorRoot&&(editorRoot=settings.editorRoot),bAir===!1&&(editorRoot=getLocalUrl(editorRoot,"abs")),settings.urlBase&&(settings.urlBase=getLocalUrl(settings.urlBase,"abs"));var idCSS="xheCSS_"+settings.skin,idContainer="xhe"+xCount+"_container",idTools="xhe"+xCount+"_Tool",idIframeArea="xhe"+xCount+"_iframearea",idIframe="xhe"+xCount+"_iframe",idFixFFCursor="xhe"+xCount+"_fixffcursor",headHTML="",bodyClass="",skinPath=editorRoot+"xheditor_skin\/"+settings.skin+"\/",arrEmots=itemEmots,urlType=settings.urlType,urlBase=settings.urlBase,emotPath=settings.emotPath,emotPath=emotPath?emotPath:editorRoot+"xheditor_emot\/",selEmotGroup="";arrEmots=$.extend({},arrEmots,settings.emots),emotPath=getLocalUrl(emotPath,"rel",urlBase?urlBase:null),bShowBlocktag=settings.showBlocktag,bShowBlocktag&&(bodyClass+=" showBlocktag");var arrShortCuts=[];this.init=function(){function e(e){var t,i=$(e.target);(t=i.css("width"))&&i.css("width","").attr("width",t.replace(\/[^0-9%]+\/g,"")),(t=i.css("height"))&&i.css("height","").attr("height",t.replace(\/[^0-9%]+\/g,""))}0===$("#"+idCSS).length&&$("head").append('<link id="'+idCSS+'" rel="stylesheet" type="text\/css" href="'+skinPath+'ui.css" \/>');var t=_jText.outerWidth(),i=_jText.outerHeight(),s=settings.width||_text.style.width||(t>10?t:0);editorHeight=settings.height||_text.style.height||(i>10?i:150),\/^\\d+(?:\\.\\d+)?$\/.test(s)&&(s+="px"),is(editorHeight,"string")&&(editorHeight=editorHeight.replace(\/[^\\d]+\/g,""));var a,n,o=settings.background||_text.style.background,l=['<span class="xheGStart"\/>'],r=\/\\||\\\/\/i;$.each(settings.tools,function(e,t){if(t.match(r)&&l.push('<span class="xheGEnd"\/>'),"|"===t)l.push('<span class="xheSeparator"\/>');else if("\/"===t)l.push("<br \/>");else{if(a=arrTools[t],!a)return;n=a.c?a.c:"xheIcon xheBtn"+t,l.push('<span><a href="#" title="{#'+a.t+'}" cmd="'+t+'" class="xheButton xheEnabled" tabindex="-1" role="button"><span class="'+n+'" unselectable="on" style="font-size:0;color:transparent;text-indent:-999px;">'+a.t+"<\/span><\/a><\/span>"),a.s&&_this.addShortcuts(a.s,t)}t.match(r)&&l.push('<span class="xheGStart"\/>')}),l.push('<span class="xheGEnd"\/><br \/>'),_jText.after($('<input type="text" id="'+idFixFFCursor+'" style="position:absolute;display:none;" \/><span id="'+idContainer+'" class="xhe_'+settings.skin+'" style="display:none"><table cellspacing="0" cellpadding="0" class="xheLayout" style="'+("0px"!=s?"width:"+s+";":"")+"height:"+editorHeight+'px;" role="presentation"><tr><td id="'+idTools+'" class="xheTool" unselectable="on" style="height:1px;" role="presentation"><\/td><\/tr><tr><td id="'+idIframeArea+'" class="xheIframeArea" role="presentation"><iframe frameborder="0" id="'+idIframe+'" src="javascript:;" style="width:100%;"><\/iframe><\/td><\/tr><\/table><\/span>')),_jTools=$("#"+idTools),_jArea=$("#"+idIframeArea),headHTML='<meta http-equiv="Content-Type" content="text\/html; charset=utf-8" \/><link rel="stylesheet" href="'+skinPath+'iframe.css"\/>';var h=settings.loadCSS;if(h)if(is(h,"array"))for(var c in h)headHTML+='<link rel="stylesheet" href="'+h[c]+'"\/>';else headHTML+=h.match(\/\\s*<style(\\s+[^>]*?)?>[\\s\\S]+?<\\\/style>\\s*\/i)?h:'<link rel="stylesheet" href="'+h+'"\/>';var d='<!DOCTYPE html><html xmlns="http:\/\/www.w3.org\/1999\/xhtml"><head>'+headHTML+"<title>{#defaultReadTip} "+(settings.readTip?settings.readTip:"")+"<\/title>";o&&(d+="<style>html{background:"+o+";}<\/style>"),d+='<\/head><body spellcheck="0" class="editMode'+bodyClass+'"><\/body><\/html>',_this.win=_win=$("#"+idIframe)[0].contentWindow,_jWin=$(_win);try{this.doc=_doc=_win.document,_jDoc=$(_doc),_doc.open(),_doc.write(getLang(d)),_doc.close(),isIE?_doc.body.contentEditable="true":_doc.designMode="On"}catch(u){}setTimeout(setOpts,300),_this.setSource(),_win.setInterval=null,_jTools.append(getLang(l.join(""))).bind("mousedown contextmenu",returnFalse).click(function(e){var t=$(e.target).closest("a");return t.is(".xheEnabled")&&(clearTimeout(timer),_jTools.find("a").attr("tabindex","-1"),ev=e,_this.exec(t.attr("cmd"))),!1}),_jTools.find(".xheButton").hover(function(e){var t=$(this),i=settings.hoverExecDelay,s=lastAngle;if(lastAngle=null,-1===i||bDisableHoverExec||!t.is(".xheEnabled"))return!1;if(s&&s>10)return bDisableHoverExec=!0,setTimeout(function(){bDisableHoverExec=!1},100),!1;var a=t.attr("cmd"),n=1===arrTools[a].h;return n?(bQuickHoverExec&&(i=0),i>=0&&(timer=setTimeout(function(){ev=e,lastPoint={x:ev.clientX,y:ev.clientY},_this.exec(a)},i)),undefined):(_this.hidePanel(),!1)},function(){lastPoint=null,timer&&clearTimeout(timer)}).mousemove(function(e){if(lastPoint){var t={x:e.clientX-lastPoint.x,y:e.clientY-lastPoint.y};if(Math.abs(t.x)>1||Math.abs(t.y)>1){if(t.x>0&&t.y>0){var i=Math.round(Math.atan(t.y\/t.x)\/.017453293);lastAngle=lastAngle?(lastAngle+i)\/2:i}else lastAngle=null;lastPoint={x:e.clientX,y:e.clientY}}}}),_jPanel=$("#xhePanel"),_jShadow=$("#xheShadow"),_jCntLine=$("#xheCntLine"),0===_jPanel.length&&(_jPanel=$('<div id="xhePanel"><\/div>').mousedown(function(e){e.stopPropagation()}),_jShadow=$('<div id="xheShadow"><\/div>'),_jCntLine=$('<div id="xheCntLine"><\/div>'),setTimeout(function(){$(document.body).append(_jPanel).append(_jShadow).append(_jCntLine)},10)),$("#"+idContainer).show(),_jText.hide(),_jArea.css("height",editorHeight-_jTools.outerHeight()),isIE&8>browerVer&&setTimeout(function(){_jArea.css("height",editorHeight-_jTools.outerHeight())},1),_jText.focus(_this.focus),_jForm.submit(saveResult).bind("reset",loadReset),settings.submitID&&$("#"+settings.submitID).mousedown(saveResult),$(window).bind("unload beforeunload",saveResult).bind("resize",fixFullHeight),$(document).mousedown(clickCancelPanel),bCheckEscInit||($(document).keydown(checkEsc),bCheckEscInit=!0),_jWin.focus(function(){settings.focus&&settings.focus()}).blur(function(){settings.blur&&settings.blur()}),isWebkit&&_jWin.click(fixAppleSel),_jDoc.mousedown(clickCancelPanel).keydown(checkShortcuts).keypress(forcePtag).dblclick(checkDblClick).bind("mousedown click",function(e){_jText.trigger(e.type)}),isIE&&(_jDoc.keydown(function(e){var t=_this.getRng();return 8===e.which&&t.item?($(t.item(0)).remove(),!1):undefined}),_jDoc.bind("controlselect",function(t){t=t.target,$.nodeName(t,"IMG")&&$(t).unbind("resizeend",e).bind("resizeend",e)})),_jDoc.keydown(function(e){var t=e.which;return e.altKey&&t>=49&&57>=t?(_jTools.find("a").attr("tabindex","0"),_jTools.find(".xheGStart").eq(t-49).next().find("a").focus(),_doc.title="\\ufeff\\ufeff",!1):undefined}).click(function(){_jTools.find("a").attr("tabindex","-1")}),_jTools.keydown(function(e){var t=e.which;if(27==t)_jTools.find("a").attr("tabindex","-1"),_this.focus();else if(e.altKey&&t>=49&&57>=t)return _jTools.find(".xheGStart").eq(t-49).next().find("a").focus(),!1});var p=$(_doc.documentElement);isOpera?p.bind("keydown",function(e){e.ctrlKey&&86===e.which&&cleanPaste()}):p.bind(isIE?"beforepaste":"paste",cleanPaste),settings.disableContextmenu&&p.bind("contextmenu",returnFalse),settings.html5Upload&&p.bind("dragenter dragover",function(e){var t;return(t=e.originalEvent.dataTransfer.types)&&-1!==$.inArray("Files",t)?!1:undefined}).bind("drop",function(e){function t(e){var t,i,s;for(a=0;e.length>a;a++){if(i=e[a].name.replace(\/.+\\.\/,""),!(t=o.match(RegExp("(\\\\w+):[^:]*,"+i+"(?:,|$)","i"))))return 1;if(s){if(s!==t[1])return 2}else s=t[1]}return s}var i,s=e.originalEvent.dataTransfer;if(s&&(i=s.files)&&i.length>0){var a,n,o,l=["Link","Img","Flash","Media"],r=[];for(a in l)n=l[a],settings["up"+n+"Url"]&&settings["up"+n+"Url"].match(\/^[^!].*\/i)&&r.push(n+":,"+settings["up"+n+"Ext"]);return 0===r.length?!1:(o=r.join(","),n=t(i),1===n?alert(getLang("upload.extLimit",o.replace(\/\\w+:,\/g,""))):2===n?alert(getLang("upload.typeLimit")):n&&_this.startUpload(i,settings["up"+n+"Url"],"*",function(e){var t,i=[],s=settings.onUpload;s&&s(e);for(var a=0,o=e.length;o>a;a++)t=e[a],url=is(t,"string")?t:t.url,"!"===url.substr(0,1)&&(url=url.substr(1)),i.push(url);_this.exec(n),$("#xhe"+n+"Url").val(i.join(" ")),$("#xheSave").click()}),!1)}});var g=settings.shortcuts;g&&$.each(g,function(e,t){_this.addShortcuts(e,t)}),xCount++,bInit=!0,settings.fullscreen?_this.toggleFullscreen():settings.sourceMode&&setTimeout(_this.toggleSource,20);var f=settings.plugins;return f&&$.each(f,function(e,t){var i=t.i;i!==undefined&&i(_this)}),!0},this.remove=function(){_this.hidePanel(),saveResult(),_jText.unbind("focus",_this.focus),_jForm.unbind("submit",saveResult).unbind("reset",loadReset),settings.submitID&&$("#"+settings.submitID).unbind("mousedown",saveResult),$(window).unbind("unload beforeunload",saveResult).unbind("resize",fixFullHeight),$(document).unbind("mousedown",clickCancelPanel),$("#"+idContainer).remove(),$("#"+idFixFFCursor).remove(),_jText.show(),bInit=!1},this.saveBookmark=function(){if(!bSource){_this.focus();var e=_this.getRng();e=e.cloneRange?e.cloneRange():e,bookmark={top:_jWin.scrollTop(),rng:e}}},this.loadBookmark=function(){if(!bSource&&bookmark){_this.focus();var e=bookmark.rng;if(isIE)e.select();else{var t=_this.getSel();t.removeAllRanges(),t.addRange(e)}_jWin.scrollTop(bookmark.top),bookmark=null}},this.focus=function(){if(bSource?$("#sourceCode",_doc).focus():_win.focus(),isIE){var e=_this.getRng();e.parentElement&&e.parentElement().ownerDocument!==_doc&&_this.setTextCursor()}return!1},this.setTextCursor=function(e){var t=_this.getRng(!0),i=_doc.body;if(isIE)t.moveToElementText(i);else{for(var s=e?"lastChild":"firstChild";3!=i.nodeType&&i[s];)i=i[s];t.selectNode(i)}if(t.collapse(e?!1:!0),isIE)t.select();else{var a=_this.getSel();a.removeAllRanges(),a.addRange(t)}},this.getSel=function(){return _doc.selection?_doc.selection:_win.getSelection()},this.getRng=function(e){var t,i;try{e||(t=_this.getSel(),i=t.createRange?t.createRange():t.rangeCount>0?t.getRangeAt(0):null),i||(i=_doc.body.createTextRange?_doc.body.createTextRange():_doc.createRange())}catch(s){}return i},this.getParent=function(e){var t,i=_this.getRng();return isIE?t=i.item?i.item(0):i.parentElement():(t=i.commonAncestorContainer,i.collapsed||i.startContainer===i.endContainer&&2>i.startOffset-i.endOffset&&i.startContainer.hasChildNodes()&&(t=i.startContainer.childNodes[i.startOffset])),e=e?e:"*",t=$(t),t.is(e)||(t=$(t).closest(e)),t},this.getSelect=function(e){var t=_this.getSel(),i=_this.getRng(),s=!0;if(s=!i||i.item?!1:!t||0===i.boundingWidth||i.collapsed,"text"===e)return s?"":i.text||(t.toString?""+t:"");var a;if(i.cloneContents){var n,o=$("<div><\/div>");n=i.cloneContents(),n&&o.append(n),a=o.html()}else a=is(i.item)?i.item(0).outerHTML:is(i.htmlText)?i.htmlText:""+i;return s&&(a=""),a=_this.processHTML(a,"read"),a=_this.cleanHTML(a),a=_this.formatXHTML(a)},this.pasteHTML=function(e,t){if(bSource)return!1;_this.focus(),e=_this.processHTML(e,"write");var i=_this.getSel(),s=_this.getRng();if(t!==undefined){if(s.item){var a=s.item(0);s=_this.getRng(!0),s.moveToElementText(a),s.select()}s.collapse(t)}if(e+="<"+(isIE?"img":"span")+' id="_xhe_temp" width="0" height="0" \/>',s.insertNode){if($(s.startContainer).closest("style,script").length>0)return!1;s.deleteContents(),s.insertNode(s.createContextualFragment(e))}else"control"===i.type.toLowerCase()&&(i.clear(),s=_this.getRng()),s.pasteHTML(e);var n=$("#_xhe_temp",_doc),o=n[0];isIE?(s.moveToElementText(o),s.select()):(s.selectNode(o),i.removeAllRanges(),i.addRange(s)),n.remove()},this.pasteText=function(e,t){e||(e=""),e=_this.domEncode(e),e=e.replace(\/\\r?\\n\/g,"<br \/>"),_this.pasteHTML(e,t)},this.appendHTML=function(e){return bSource?!1:(_this.focus(),e=_this.processHTML(e,"write"),$(_doc.body).append(e),_this.setTextCursor(!0),undefined)},this.domEncode=function(e){return e.replace(regEntities,function(e){return arrEntities[e]})},this.setSource=function(e){bookmark=null,"string"!=typeof e&&""!==e&&(e=_text.value),bSource?$("#sourceCode",_doc).val(e):(settings.beforeSetSource&&(e=settings.beforeSetSource(e)),e=_this.cleanHTML(e),e=_this.formatXHTML(e),e=_this.processHTML(e,"write"),isIE?(_doc.body.innerHTML='<img id="_xhe_temp" width="0" height="0" \/>'+e,$("#_xhe_temp",_doc).remove()):_doc.body.innerHTML=e)},this.processHTML=function(e,t){function i(e,t,i,s,a,o){var l,r,h,c,d="";if(l=s.match(\/font-family\\s*:\\s*([^;"]+)\/i),l&&(d+=' face="'+l[1]+'"'),r=s.match(\/font-size\\s*:\\s*([^;"]+)\/i)){r=r[1].toLowerCase();for(var u=0;n.length>u;u++)if(r===n[u].n||r===n[u].s){h=u+1;break}h&&(d+=' size="'+h+'"',s=s.replace(\/(^|;)(\\s*font-size\\s*:\\s*[^;"]+;?)+\/gi,"$1"))}if(c=s.match(\/(?:^|[\\s;])color\\s*:\\s*([^;"]+)\/i)){var p;if(p=c[1].match(\/\\s*rgb\\s*\\(\\s*(\\d+)\\s*,\\s*(\\d+)\\s*,\\s*(\\d+)\\s*\\)\/i)){c[1]="#";for(var g=1;3>=g;g++)c[1]+=("0"+(p[g]-0).toString(16)).slice(-2)}c[1]=c[1].replace(\/^#([0-9a-f])([0-9a-f])([0-9a-f])$\/i,"#$1$1$2$2$3$3"),d+=' color="'+c[1]+'"'}return s=s.replace(\/(^|;)(\\s*(font-family|color)\\s*:\\s*[^;"]+;?)+\/gi,"$1"),""!==d?(s&&(d+=' style="'+s+'"'),"<font"+(i?i:"")+d+(a?a:"")+">"+o+"<\/font>"):e}function s(e,t,i,s,a){for(var n,l,r=(i?i:"")+(s?s:""),h=[],c=[],d=0;o.length>d;d++)n=o[d].r,l=o[d].t,r=r.replace(n,function(){return h.push("<"+l+">"),c.push("<\/"+l+">"),""});return r=r.replace(\/\\s+style\\s*=\\s*"\\s*"\/i,""),(r?"<span"+r+">":"")+h.join("")+a+c.join("")+(r?"<\/span>":"")}var a=' class="Apple-style-span"',n=settings.listFontsize;if("write"===t)e=e.replace(\/(<(\\\/?)(\\w+))((?:\\s+[\\w\\-:]+\\s*=\\s*(?:"[^"]*"|'[^']*'|[^>\\s]+))*)\\s*((\\\/?)>)\/g,function(e,t,i,s,n,o,l){s=s.toLowerCase(),isMozilla?"strong"===s?s="b":"em"===s&&(s="i"):isWebkit&&("strong"===s?(s="span",i||(n+=a+' style="font-weight: bold;"')):"em"===s?(s="span",i||(n+=a+' style="font-style: italic;"')):"u"===s?(s="span",i||(n+=a+' style="text-decoration: underline;"')):"strike"===s&&(s="span",i||(n+=a+' style="text-decoration: line-through;"')));var r,h="";if("del"===s)s="strike";else if("img"===s)n=n.replace(\/\\s+emot\\s*=\\s*("[^"]*"|'[^']*'|[^>\\s]+)\/i,function(e,t){return r=t.match(\/^(["']?)(.*)\\1\/)[2],r=r.split(","),r[1]||(r[1]=r[0],r[0]=""),"default"===r[0]&&(r[0]=""),settings.emotMark?e:""});else if("a"===s)!n.match(\/ href=[^ ]\/i)&&n.match(\/ name=[^ ]\/i)&&(h+=" xhe-anchor"),l&&(o="><\/a>");else if("table"===s&&!i){var c=n.match(\/\\s+border\\s*=\\s*("[^"]*"|'[^']*'|[^>\\s]+)\/i);(!c||c[1].match(\/^(["']?)\\s*0\\s*\\1$\/))&&(h+=" xhe-border")}var d;if(n=n.replace(\/\\s+([\\w\\-:]+)\\s*=\\s*("[^"]*"|'[^']*'|[^>\\s]+)\/g,function(e,t,i){return t=t.toLowerCase(),i=i.match(\/^(["']?)(.*)\\1\/)[2],aft="",isIE&&t.match(\/^(disabled|checked|readonly|selected)$\/)&&i.match(\/^(false|0)$\/i)?"":"img"===s&&r&&"src"===t?"":(t.match(\/^(src|href)$\/)&&(aft=" _xhe_"+t+'="'+i+'"',urlBase&&(i=getLocalUrl(i,"abs",urlBase))),h&&"class"===t&&(i+=" "+h,h=""),isWebkit&&"style"===t&&"span"===s&&i.match(\/(^|;)\\s*(font-family|font-size|color|background-color)\\s*:\\s*[^;]+\\s*(;|$)\/i)&&(d=!0)," "+t+'="'+i+'"'+aft)}),r){var u=emotPath+(r[0]?r[0]:"default")+"\/"+r[1]+".gif";n+=' src="'+u+'" _xhe_src="'+u+'"'}return d&&(n+=a),h&&(n+=' class="'+h+'"'),"<"+i+s+n+o}),isIE&&(e=e.replace(\/&apos;\/gi,"&#39;")),isWebkit||(e=e.replace(\/<(span)(\\s+[^>]*?)?\\s+style\\s*=\\s*"((?:[^"]*?;)?\\s*(?:font-family|font-size|color)\\s*:[^"]*)"( [^>]*)?>(((?!<\\1(\\s+[^>]*?)?>)[\\s\\S]|<\\1(\\s+[^>]*?)?>((?!<\\1(\\s+[^>]*?)?>)[\\s\\S]|<\\1(\\s+[^>]*?)?>((?!<\\1(\\s+[^>]*?)?>)[\\s\\S])*?<\\\/\\1>)*?<\\\/\\1>)*?)<\\\/\\1>\/gi,i),e=e.replace(\/<(span)(\\s+[^>]*?)?\\s+style\\s*=\\s*"((?:[^"]*?;)?\\s*(?:font-family|font-size|color)\\s*:[^"]*)"( [^>]*)?>(((?!<\\1(\\s+[^>]*?)?>)[\\s\\S]|<\\1(\\s+[^>]*?)?>((?!<\\1(\\s+[^>]*?)?>)[\\s\\S])*?<\\\/\\1>)*?)<\\\/\\1>\/gi,i),e=e.replace(\/<(span)(\\s+[^>]*?)?\\s+style\\s*=\\s*"((?:[^"]*?;)?\\s*(?:font-family|font-size|color)\\s*:[^"]*)"( [^>]*)?>(((?!<\\1(\\s+[^>]*?)?>)[\\s\\S])*?)<\\\/\\1>\/gi,i)),e=e.replace(\/<(td|th)(\\s+[^>]*?)?>(\\s|&nbsp;)*<\\\/\\1>\/gi,"<$1$2>"+(isIE?"":"<br \/>")+"<\/$1>");else{if(isWebkit)for(var o=[{r:\/font-weight\\s*:\\s*bold;?\/gi,t:"strong"},{r:\/font-style\\s*:\\s*italic;?\/gi,t:"em"},{r:\/text-decoration\\s*:\\s*underline;?\/gi,t:"u"},{r:\/text-decoration\\s*:\\s*line-through;?\/gi,t:"strike"}],l=0;2>l;l++)e=e.replace(\/<(span)(\\s+[^>]*?)?\\s+class\\s*=\\s*"Apple-style-span"(\\s+[^>]*?)?>(((?!<\\1(\\s+[^>]*?)?>)[\\s\\S]|<\\1(\\s+[^>]*?)?>((?!<\\1(\\s+[^>]*?)?>)[\\s\\S]|<\\1(\\s+[^>]*?)?>((?!<\\1(\\s+[^>]*?)?>)[\\s\\S])*?<\\\/\\1>)*?<\\\/\\1>)*?)<\\\/\\1>\/gi,s),e=e.replace(\/<(span)(\\s+[^>]*?)?\\s+class\\s*=\\s*"Apple-style-span"(\\s+[^>]*?)?>(((?!<\\1(\\s+[^>]*?)?>)[\\s\\S]|<\\1(\\s+[^>]*?)?>((?!<\\1(\\s+[^>]*?)?>)[\\s\\S])*?<\\\/\\1>)*?)<\\\/\\1>\/gi,s),e=e.replace(\/<(span)(\\s+[^>]*?)?\\s+class\\s*=\\s*"Apple-style-span"(\\s+[^>]*?)?>(((?!<\\1(\\s+[^>]*?)?>)[\\s\\S])*?)<\\\/\\1>\/gi,s);e=e.replace(\/(<(\\w+))((?:\\s+[\\w\\-:]+\\s*=\\s*(?:"[^"]*"|'[^']*'|[^>\\s]+))*)\\s*(\\\/?>)\/g,function(e,t,i,s,a){i=i.toLowerCase();$/;"	p
var.specialKeys.117	js/xheditor.min.js	/^(function(){var e={};window.XHEDITOR=e})(),function(e,t){e.mapLang={},e.setLang=function(i,s){s===t&&(s=i,i=""),""!==i&&(i+=".");var a,n;for(var o in s)n=s[o],a=i+o,"string"==typeof n||n instanceof Array?e.mapLang[a]=n:e.setLang(a,n)},e.getLang=function(i){var s=e.mapLang[i];if(s===t&&(s=i.replace(\/{#([^{}]+)}\/g,function(t,i){var s=e.mapLang[i];return s?s:i})),"string"==typeof s){var a=arguments;s=s.replace(\/{\\$(\\d+)}\/g,function(e,i){var s=a[parseInt(i,10)+1];return s!==t?s:e})}return s}}(XHEDITOR),function(XHEDITOR,$,undefined){var agent=navigator.userAgent.toLowerCase(),bMobile=\/mobile\/i.test(agent),browser=$.browser,browerVer=parseFloat(browser.version),isIE=browser.msie,isMozilla=browser.mozilla,isWebkit=browser.webkit,isOpera=browser.opera,isChrome=browser.chrome,bAir=agent.indexOf(" adobeair\/")>-1,xCount=0,bShowPanel=!1,bClickCancel=!0,bShowModal=!1,bCheckEscInit=!1,_jPanel,_jShadow,_jCntLine,_jPanelButton,jModal,jModalShadow,layerShadow,jOverlay,jHideSelect,onModalRemove,editorRoot,getLang=XHEDITOR.getLang;if($("script[src*=xheditor]").each(function(){var e=this.src;return e.match(\/xheditor[^\\\/]*\\.js\/i)?(editorRoot=e.replace(\/[\\?#].*$\/,"").replace(\/(^|[\\\/\\\\])[^\\\/]*$\/,"$1"),!1):undefined}),isIE){try{document.execCommand("BackgroundImageCache",!1,!0)}catch(e){}var jqueryVer=$.fn.jquery;jqueryVer&&jqueryVer.match(\/^1\\.[67]\/)&&($.attrHooks.width=$.attrHooks.height=null)}var specialKeys={27:"esc",9:"tab",32:"space",13:"enter",8:"backspace",145:"scroll",20:"capslock",144:"numlock",19:"pause",45:"insert",36:"home",46:"del",35:"end",33:"pageup",34:"pagedown",37:"left",38:"up",39:"right",40:"down",112:"f1",113:"f2",114:"f3",115:"f4",116:"f5",117:"f6",118:"f7",119:"f8",120:"f9",121:"f10",122:"f11",123:"f12"},arrAlign=[{v:"justifyleft"},{v:"justifycenter"},{v:"justifyright"},{v:"justifyfull"}],arrList=[{v:"insertOrderedList"},{v:"insertUnorderedList"}],htmlPastetext='<div><label for="xhePastetextValue">{#PastetextTip}<\/label><\/div><div><textarea id="xhePastetextValue" wrap="soft" spellcheck="false" style="width:300px;height:100px;" \/><\/div><div style="text-align:right;"><input type="button" id="xheSave" value="{#dialogOk}" \/><\/div>',htmlLink='<div><label for="xheLinkUrl">{#link.url}<\/label><input type="text" id="xheLinkUrl" value="http:\/\/" class="xheText" \/><\/div><div><label for="xheLinkTarget">{#link.target}<\/label><select id="xheLinkTarget"><option selected="selected" value="">{#default}<\/option><option value="_blank">{#link.targetBlank}<\/option><option value="_self">{#link.targetSelf}<\/option><option value="_parent">{#link.targetParent}<\/option><\/select><\/div><div style="display:none"><label for="xheLinkText">{#link.linkText}<\/label><input type="text" id="xheLinkText" value="" class="xheText" \/><\/div><div style="text-align:right;"><input type="button" id="xheSave" value="{#dialogOk}" \/><\/div>',htmlAnchor='<div><label for="xheAnchorName">{#anchor.name}<\/label><input type="text" id="xheAnchorName" value="" class="xheText" \/><\/div><div style="text-align:right;"><input type="button" id="xheSave" value="{#dialogOk}" \/><\/div>',htmlImg='<div><label for="xheImgUrl">{#img.url}<\/label><input type="text" id="xheImgUrl" value="http:\/\/" class="xheText" \/><\/div><div><div><label for="xheImgAlt">{#img.alt}<\/label><input type="text" id="xheImgAlt" \/><\/div><div><label for="xheImgAlign">{#img.align}<\/label><select id="xheImgAlign"><option selected="selected" value="">{#default}<\/option><option value="left">{#img.alignLeft}<\/option><option value="right">{#img.alignRight}<\/option><option value="top">{#img.alignTop}<\/option><option value="middle">{#img.alignMiddle}<\/option><option value="baseline">{#img.alignBaseline}<\/option><option value="bottom">{#img.alignBottom}<\/option><\/select><\/div><div><label for="xheImgWidth">{#img.width}<\/label><input type="text" id="xheImgWidth" style="width:40px;" \/> <label for="xheImgHeight">{#img.height}<\/label><input type="text" id="xheImgHeight" style="width:40px;" \/><\/div><div><label for="xheImgBorder">{#img.border}<\/label><input type="text" id="xheImgBorder" style="width:40px;" \/><\/div><div><label for="xheImgHspace">{#img.hspace}<\/label><input type="text" id="xheImgHspace" style="width:40px;" \/> <label for="xheImgVspace">{#img.vspace}<\/label><input type="text" id="xheImgVspace" style="width:40px;" \/><\/div><div style="text-align:right;"><input type="button" id="xheSave" value="{#dialogOk}" \/><\/div>',htmlFlash='<div><label for="xheFlashUrl">{#flash.url}<\/label><input type="text" id="xheFlashUrl" value="http:\/\/" class="xheText" \/><\/div><div><label for="xheFlashWidth">{#flash.width}<\/label><input type="text" id="xheFlashWidth" style="width:40px;" value="480" \/> <label for="xheFlashHeight">{#flash.height}<\/label><input type="text" id="xheFlashHeight" style="width:40px;" value="400" \/><\/div><div style="text-align:right;"><input type="button" id="xheSave" value="{#dialogOk}" \/><\/div>',htmlMedia='<div><label for="xheMediaUrl">{#media.url}<\/label><input type="text" id="xheMediaUrl" value="http:\/\/" class="xheText" \/><\/div><div><label for="xheMediaWidth">{#media.width}<\/label><input type="text" id="xheMediaWidth" style="width:40px;" value="480" \/> <label for="xheMediaHeight">{#media.height}<\/label><input type="text" id="xheMediaHeight" style="width:40px;" value="400" \/><\/div><div style="text-align:right;"><input type="button" id="xheSave" value="{#dialogOk}" \/><\/div>',htmlTable='<div><label for="xheTableRows">{#table.rows}<\/label><input type="text" id="xheTableRows" style="width:40px;" value="3" \/> <label for="xheTableColumns">{#table.columns}<\/label><input type="text" id="xheTableColumns" style="width:40px;" value="2" \/><\/div><div><label for="xheTableHeaders">{#table.headers}<\/label><select id="xheTableHeaders"><option selected="selected" value="">{#none}<\/option><option value="row">{#table.headersRow}<\/option><option value="col">{#table.headersCol}<\/option><option value="both">{#table.headersBoth}<\/option><\/select><\/div><div><label for="xheTableWidth">{#table.width}<\/label><input type="text" id="xheTableWidth" style="width:40px;" value="200" \/> <label for="xheTableHeight">{#table.height}<\/label><input type="text" id="xheTableHeight" style="width:40px;" value="" \/><\/div><div><label for="xheTableBorder">{#table.border}<\/label><input type="text" id="xheTableBorder" style="width:40px;" value="1" \/><\/div><div><label for="xheTableCellSpacing">{#table.cellSpacing}<\/label><input type="text" id="xheTableCellSpacing" style="width:40px;" value="1" \/> <label for="xheTableCellPadding">{#table.cellPadding}<\/label><input type="text" id="xheTableCellPadding" style="width:40px;" value="1" \/><\/div><div><label for="xheTableAlign">{#table.align}<\/label><select id="xheTableAlign"><option selected="selected" value="">{#default}<\/option><option value="left">{#table.alignLeft}<\/option><option value="center">{#table.alignCenter}<\/option><option value="right">{#table.alignRight}<\/option><\/select><\/div><div><label for="xheTableCaption">{#table.caption}<\/label><input type="text" id="xheTableCaption" \/><\/div><div style="text-align:right;"><input type="button" id="xheSave" value="{#dialogOk}" \/><\/div>',htmlAbout='<div style="font:12px Arial;width:245px;word-wrap:break-word;word-break:break-all;outline:none;" role="dialog" tabindex="-1"><p><span style="font-size:20px;color:#1997DF;">xhEditor<\/span><br \/>v1.2.1 (build 130225)<\/p><p>{#aboutXheditor}<\/p><p>Copyright &copy; <a href="http:\/\/xheditor.com\/" target="_blank">xhEditor.com<\/a>. All rights reserved.<\/p><\/div>',itemEmots={"default":{name:"{#default}",width:24,height:24,line:7,list:["smile","tongue","titter","laugh","sad","wronged","fastcry","cry","wail","mad","knock","curse","crazy","angry","ohmy","awkward","panic","shy","cute","envy","proud","struggle","quiet","shutup","doubt","despise","sleep","bye"]}},arrTools={Cut:{t:"Cut"},Copy:{t:"Copy"},Paste:{t:"Paste"},Pastetext:{t:"Pastetext",h:isIE?0:1},Blocktag:{t:"Blocktag",h:1},Fontface:{t:"Fontface",h:1},FontSize:{t:"FontSize",h:1},Bold:{t:"Bold",s:"Ctrl+B"},Italic:{t:"Italic",s:"Ctrl+I"},Underline:{t:"Underline",s:"Ctrl+U"},Strikethrough:{t:"Strikethrough"},FontColor:{t:"FontColor",h:1},BackColor:{t:"BackColor",h:1},SelectAll:{t:"SelectAll"},Removeformat:{t:"Removeformat"},Align:{t:"Align",h:1},List:{t:"List",h:1},Outdent:{t:"Outdent"},Indent:{t:"Indent"},Link:{t:"Link",s:"Ctrl+L",h:1},Unlink:{t:"Unlink"},Anchor:{t:"Anchor",h:1},Img:{t:"Img",h:1},Flash:{t:"Flash",h:1},Media:{t:"Media",h:1},Hr:{t:"Hr"},Emot:{t:"Emot",s:"ctrl+e",h:1},Table:{t:"Table",h:1},Source:{t:"Source"},Preview:{t:"Preview"},Print:{t:"Print",s:"Ctrl+P"},Fullscreen:{t:"Fullscreen",s:"Esc"},About:{t:"About"}},toolsThemes={mini:"Bold,Italic,Underline,Strikethrough,|,Align,List,|,Link,Img",simple:"Blocktag,Fontface,FontSize,Bold,Italic,Underline,Strikethrough,FontColor,BackColor,|,Align,List,Outdent,Indent,|,Link,Img,Emot",full:"Cut,Copy,Paste,Pastetext,|,Blocktag,Fontface,FontSize,Bold,Italic,Underline,Strikethrough,FontColor,BackColor,SelectAll,Removeformat,|,Align,List,Outdent,Indent,|,Link,Unlink,Anchor,Img,Flash,Media,Hr,Emot,Table,|,Source,Preview,Print,Fullscreen"};toolsThemes.mfull=toolsThemes.full.replace(\/\\|(,Align)\/i,"\/$1");var arrDbClick={a:"Link",img:"Img",embed:"Embed"},uploadInputname="filedata",arrEntities={"<":"&lt;",">":"&gt;",'"':"&quot;","\\u00ae":"&reg;","\\u00a9":"&copy;"},regEntities=\/[<>"\\u00ae\\u00a9]\/g,Xheditor=function(textarea,options){function checkDblClick(e){var t=e.target,i=arrDbClick[t.tagName.toLowerCase()];if(i){if("Embed"===i){var s={"application\/x-shockwave-flash":"Flash","application\/x-mplayer2":"Media"};i=s[t.type.toLowerCase()]}_this.exec(i)}}function checkEsc(e){return 27===e.which?(bShowModal?_this.removeModal():bShowPanel&&_this.hidePanel(),!1):undefined}function loadReset(){setTimeout(_this.setSource,10)}function saveResult(){_this.getSource()}function cleanPaste(e){var t,i,s;if(e&&(t=e.originalEvent.clipboardData)&&(i=t.items)&&(s=i[0])&&"file"==s.kind&&s.type.match(\/^image\\\/\/i)){var a=s.getAsFile(),n=new FileReader;return n.onload=function(){var e='<img src="'+event.target.result+'">';e=replaceRemoteImg(e),_this.pasteHTML(e)},n.readAsDataURL(a),!1}var o=settings.cleanPaste;if(0===o||bSource||bCleanPaste)return!0;bCleanPaste=!0,_this.saveBookmark();var l=isIE?"pre":"div",r=$("<"+l+' class="xhe-paste">\\ufeff\\ufeff<\/'+l+">",_doc).appendTo(_doc.body),h=r[0],c=_this.getSel(),d=_this.getRng(!0);r.css("top",_jWin.scrollTop()),isIE?(d.moveToElementText(h),d.select()):(d.selectNodeContents(h),c.removeAllRanges(),c.addRange(d)),setTimeout(function(){var e,t=3===o;if(t)r.html(r.html().replace(\/<br(\\s+[^<>]*)?>\/gi,"\\n")),e=r.text();else{var i=$(".xhe-paste",_doc.body),s=[];i.each(function(e,t){0==$(t).find(".xhe-paste").length&&s.push(t.innerHTML)}),e=s.join("<br \/>")}r.remove(),_this.loadBookmark(),e=e.replace(\/^[\\s\\uFEFF]+|[\\s\\uFEFF]+$\/g,""),e&&(t?_this.pasteText(e):(e=_this.cleanHTML(e),e=_this.cleanWord(e),e=_this.formatXHTML(e),(!settings.onPaste||settings.onPaste&&(e=settings.onPaste(e))!==!1)&&(e=replaceRemoteImg(e),_this.pasteHTML(e)))),bCleanPaste=!1},0)}function replaceRemoteImg(e){var t=settings.localUrlTest,i=settings.remoteImgSaveUrl;if(t&&i){var s=[],a=0;e=e.replace(\/(<img)((?:\\s+[^>]*?)?(?:\\s+src="\\s*([^"]+)\\s*")(?: [^>]*)?)(\\\/?>)\/gi,function(e,i,n,o,l){return!\/^(https?|data:image)\/i.test(o)||\/_xhe_temp\/.test(n)||t.test(o)||(s[a]=o,n=n.replace(\/\\s+(width|height)="[^"]*"\/gi,"").replace(\/\\s+src="[^"]*"\/gi,' src="'+skinPath+'img\/waiting.gif" remoteimg="'+a++ +'"')),i+n+l}),s.length>0&&$.post(i,{urls:s.join("|")},function(e){e=e.split("|"),$("img[remoteimg]",_this.doc).each(function(){var t=$(this);xheAttr(t,"src",e[t.attr("remoteimg")]),t.removeAttr("remoteimg")})})}return e}function setCSS(e){try{_this._exec("styleWithCSS",e,!0)}catch(t){try{_this._exec("useCSS",!e,!0)}catch(t){}}}function setOpts(){if(bInit&&!bSource){setCSS(!1);try{_this._exec("enableObjectResizing",!0,!0)}catch(e){}if(isIE)try{_this._exec("BackgroundImageCache",!0,!0)}catch(e){}}}function forcePtag(e){if(bSource||13!==e.which||e.shiftKey||e.ctrlKey||e.altKey)return!0;var t=_this.getParent("p,h1,h2,h3,h4,h5,h6,pre,address,div,li");return t.is("li")?!0:settings.forcePtag?(0===t.length&&_this._exec("formatblock","<p>"),undefined):(_this.pasteHTML("<br \/>"),isIE&&t.length>0&&2===_this.getRng().parentElement().childNodes.length&&_this.pasteHTML("<br \/>"),!1)}function fixFullHeight(){isMozilla||isWebkit||(bFullscreen&&_jArea.height("100%").css("height",_jArea.outerHeight()-_jTools.outerHeight()),isIE&&_jTools.hide().show())}function fixAppleSel(e){if(e=e.target,e.tagName.match(\/(img|embed)\/i)){var t=_this.getSel(),i=_this.getRng(!0);i.selectNode(e),t.removeAllRanges(),t.addRange(i)}}function xheAttr(e,t,i){if(!t)return!1;var s="_xhe_"+t;return i&&(urlType&&(i=getLocalUrl(i,urlType,urlBase)),e.attr(t,urlBase?getLocalUrl(i,"abs",urlBase):i).removeAttr(s).attr(s,i)),e.attr(s)||e.attr(t)}function clickCancelPanel(){bClickCancel&&_this.hidePanel()}function checkShortcuts(e){if(bSource)return!0;var t=e.which,i=specialKeys[t],s=i?i:String.fromCharCode(t).toLowerCase();sKey="",sKey+=e.ctrlKey?"ctrl+":"",sKey+=e.altKey?"alt+":"",sKey+=e.shiftKey?"shift+":"",sKey+=s;var a,n=arrShortCuts[sKey];for(a in n){if(a=n[a],!$.isFunction(a))return _this.exec(a),!1;if(a.call(_this)===!1)return!1}}function is(e,t){var i=typeof e;return t?"array"===t&&e.hasOwnProperty&&e instanceof Array?!0:i===t:"undefined"!=i}function getLocalUrl(e,t,i){if(e.match(\/^(\\w+):\\\/\\\/\/i)&&!e.match(\/^https?:\/i)||\/^#\/i.test(e)||\/^data:\/i.test(e))return e;var s=i?$('<a href="'+i+'" \/>')[0]:location,a=s.protocol,n=s.host,o=s.hostname,l=s.port,r=s.pathname.replace(\/\\\\\/g,"\/").replace(\/[^\\\/]+$\/i,"");if(""===l&&(l="80"),""===r?r="\/":"\/"!==r.charAt(0)&&(r="\/"+r),e=$.trim(e),"abs"!==t&&(e=e.replace(RegExp(a+"\\\\\/\\\\\/"+o.replace(\/\\.\/g,"\\\\.")+"(?::"+l+")"+("80"===l?"?":"")+"(\/|$)","i"),"\/")),"rel"===t&&(e=e.replace(RegExp("^"+r.replace(\/([\\\/\\.\\+\\[\\]\\(\\)])\/g,"\\\\$1"),"i"),"")),"rel"!==t&&(e.match(\/^(https?:\\\/\\\/|\\\/)\/i)||(e=r+e),"\/"===e.charAt(0))){var h,c,d=[],u=e.split("\/"),p=u.length;for(c=0;p>c;c++)h=u[c],".."===h?d.pop():""!==h&&"."!==h&&d.push(h);""===u[p-1]&&d.push(""),e="\/"+d.join("\/")}return"abs"!==t||e.match(\/^https?:\\\/\\\/\/i)||(e=a+"\/\/"+n+e),e=e.replace(\/(https?:\\\/\\\/[^:\\\/?#]+):80(\\\/|$)\/i,"$1$2")}function checkFileExt(e,t){return"*"===t||e.match(RegExp(".("+t.replace(\/,\/g,"|")+")$","i"))?!0:(alert(getLang("upload.extLimit",t)),!1)}function formatBytes(e){var t=["Byte","KB","MB","GB","TB","PB"],i=Math.floor(Math.log(e)\/Math.log(1024));return(e\/Math.pow(1024,Math.floor(i))).toFixed(2)+t[i]}function returnFalse(){return!1}var _this=this,_text=textarea,_jText=$(_text),_jForm=_jText.closest("form"),_jTools,_jArea,_win,_jWin,_doc,_jDoc,bookmark,bInit=!1,bSource=!1,bFullscreen=!1,bCleanPaste=!1,outerScroll,bShowBlocktag=!1,sLayoutStyle="",ev=null,timer,bDisableHoverExec=!1,bQuickHoverExec=!1,lastPoint=null,lastAngle=null,editorHeight=0,settings=_this.settings=$.extend({},XHEDITOR.settings,options),plugins=settings.plugins,strPlugins=[];if(plugins&&(arrTools=$.extend({},arrTools,plugins),$.each(plugins,function(e){strPlugins.push(e)}),strPlugins=strPlugins.join(",")),settings.tools.match(\/^\\s*(m?full|simple|mini)\\s*$\/i)){var toolsTheme=toolsThemes[$.trim(settings.tools)];settings.tools=settings.tools.match(\/m?full\/i)&&plugins?toolsTheme.replace("Table","Table,"+strPlugins):toolsTheme}settings.tools.match(\/(^|,)\\s*About\\s*(,|$)\/i)||(settings.tools+=",About"),settings.tools=settings.tools.split(","),settings.editorRoot&&(editorRoot=settings.editorRoot),bAir===!1&&(editorRoot=getLocalUrl(editorRoot,"abs")),settings.urlBase&&(settings.urlBase=getLocalUrl(settings.urlBase,"abs"));var idCSS="xheCSS_"+settings.skin,idContainer="xhe"+xCount+"_container",idTools="xhe"+xCount+"_Tool",idIframeArea="xhe"+xCount+"_iframearea",idIframe="xhe"+xCount+"_iframe",idFixFFCursor="xhe"+xCount+"_fixffcursor",headHTML="",bodyClass="",skinPath=editorRoot+"xheditor_skin\/"+settings.skin+"\/",arrEmots=itemEmots,urlType=settings.urlType,urlBase=settings.urlBase,emotPath=settings.emotPath,emotPath=emotPath?emotPath:editorRoot+"xheditor_emot\/",selEmotGroup="";arrEmots=$.extend({},arrEmots,settings.emots),emotPath=getLocalUrl(emotPath,"rel",urlBase?urlBase:null),bShowBlocktag=settings.showBlocktag,bShowBlocktag&&(bodyClass+=" showBlocktag");var arrShortCuts=[];this.init=function(){function e(e){var t,i=$(e.target);(t=i.css("width"))&&i.css("width","").attr("width",t.replace(\/[^0-9%]+\/g,"")),(t=i.css("height"))&&i.css("height","").attr("height",t.replace(\/[^0-9%]+\/g,""))}0===$("#"+idCSS).length&&$("head").append('<link id="'+idCSS+'" rel="stylesheet" type="text\/css" href="'+skinPath+'ui.css" \/>');var t=_jText.outerWidth(),i=_jText.outerHeight(),s=settings.width||_text.style.width||(t>10?t:0);editorHeight=settings.height||_text.style.height||(i>10?i:150),\/^\\d+(?:\\.\\d+)?$\/.test(s)&&(s+="px"),is(editorHeight,"string")&&(editorHeight=editorHeight.replace(\/[^\\d]+\/g,""));var a,n,o=settings.background||_text.style.background,l=['<span class="xheGStart"\/>'],r=\/\\||\\\/\/i;$.each(settings.tools,function(e,t){if(t.match(r)&&l.push('<span class="xheGEnd"\/>'),"|"===t)l.push('<span class="xheSeparator"\/>');else if("\/"===t)l.push("<br \/>");else{if(a=arrTools[t],!a)return;n=a.c?a.c:"xheIcon xheBtn"+t,l.push('<span><a href="#" title="{#'+a.t+'}" cmd="'+t+'" class="xheButton xheEnabled" tabindex="-1" role="button"><span class="'+n+'" unselectable="on" style="font-size:0;color:transparent;text-indent:-999px;">'+a.t+"<\/span><\/a><\/span>"),a.s&&_this.addShortcuts(a.s,t)}t.match(r)&&l.push('<span class="xheGStart"\/>')}),l.push('<span class="xheGEnd"\/><br \/>'),_jText.after($('<input type="text" id="'+idFixFFCursor+'" style="position:absolute;display:none;" \/><span id="'+idContainer+'" class="xhe_'+settings.skin+'" style="display:none"><table cellspacing="0" cellpadding="0" class="xheLayout" style="'+("0px"!=s?"width:"+s+";":"")+"height:"+editorHeight+'px;" role="presentation"><tr><td id="'+idTools+'" class="xheTool" unselectable="on" style="height:1px;" role="presentation"><\/td><\/tr><tr><td id="'+idIframeArea+'" class="xheIframeArea" role="presentation"><iframe frameborder="0" id="'+idIframe+'" src="javascript:;" style="width:100%;"><\/iframe><\/td><\/tr><\/table><\/span>')),_jTools=$("#"+idTools),_jArea=$("#"+idIframeArea),headHTML='<meta http-equiv="Content-Type" content="text\/html; charset=utf-8" \/><link rel="stylesheet" href="'+skinPath+'iframe.css"\/>';var h=settings.loadCSS;if(h)if(is(h,"array"))for(var c in h)headHTML+='<link rel="stylesheet" href="'+h[c]+'"\/>';else headHTML+=h.match(\/\\s*<style(\\s+[^>]*?)?>[\\s\\S]+?<\\\/style>\\s*\/i)?h:'<link rel="stylesheet" href="'+h+'"\/>';var d='<!DOCTYPE html><html xmlns="http:\/\/www.w3.org\/1999\/xhtml"><head>'+headHTML+"<title>{#defaultReadTip} "+(settings.readTip?settings.readTip:"")+"<\/title>";o&&(d+="<style>html{background:"+o+";}<\/style>"),d+='<\/head><body spellcheck="0" class="editMode'+bodyClass+'"><\/body><\/html>',_this.win=_win=$("#"+idIframe)[0].contentWindow,_jWin=$(_win);try{this.doc=_doc=_win.document,_jDoc=$(_doc),_doc.open(),_doc.write(getLang(d)),_doc.close(),isIE?_doc.body.contentEditable="true":_doc.designMode="On"}catch(u){}setTimeout(setOpts,300),_this.setSource(),_win.setInterval=null,_jTools.append(getLang(l.join(""))).bind("mousedown contextmenu",returnFalse).click(function(e){var t=$(e.target).closest("a");return t.is(".xheEnabled")&&(clearTimeout(timer),_jTools.find("a").attr("tabindex","-1"),ev=e,_this.exec(t.attr("cmd"))),!1}),_jTools.find(".xheButton").hover(function(e){var t=$(this),i=settings.hoverExecDelay,s=lastAngle;if(lastAngle=null,-1===i||bDisableHoverExec||!t.is(".xheEnabled"))return!1;if(s&&s>10)return bDisableHoverExec=!0,setTimeout(function(){bDisableHoverExec=!1},100),!1;var a=t.attr("cmd"),n=1===arrTools[a].h;return n?(bQuickHoverExec&&(i=0),i>=0&&(timer=setTimeout(function(){ev=e,lastPoint={x:ev.clientX,y:ev.clientY},_this.exec(a)},i)),undefined):(_this.hidePanel(),!1)},function(){lastPoint=null,timer&&clearTimeout(timer)}).mousemove(function(e){if(lastPoint){var t={x:e.clientX-lastPoint.x,y:e.clientY-lastPoint.y};if(Math.abs(t.x)>1||Math.abs(t.y)>1){if(t.x>0&&t.y>0){var i=Math.round(Math.atan(t.y\/t.x)\/.017453293);lastAngle=lastAngle?(lastAngle+i)\/2:i}else lastAngle=null;lastPoint={x:e.clientX,y:e.clientY}}}}),_jPanel=$("#xhePanel"),_jShadow=$("#xheShadow"),_jCntLine=$("#xheCntLine"),0===_jPanel.length&&(_jPanel=$('<div id="xhePanel"><\/div>').mousedown(function(e){e.stopPropagation()}),_jShadow=$('<div id="xheShadow"><\/div>'),_jCntLine=$('<div id="xheCntLine"><\/div>'),setTimeout(function(){$(document.body).append(_jPanel).append(_jShadow).append(_jCntLine)},10)),$("#"+idContainer).show(),_jText.hide(),_jArea.css("height",editorHeight-_jTools.outerHeight()),isIE&8>browerVer&&setTimeout(function(){_jArea.css("height",editorHeight-_jTools.outerHeight())},1),_jText.focus(_this.focus),_jForm.submit(saveResult).bind("reset",loadReset),settings.submitID&&$("#"+settings.submitID).mousedown(saveResult),$(window).bind("unload beforeunload",saveResult).bind("resize",fixFullHeight),$(document).mousedown(clickCancelPanel),bCheckEscInit||($(document).keydown(checkEsc),bCheckEscInit=!0),_jWin.focus(function(){settings.focus&&settings.focus()}).blur(function(){settings.blur&&settings.blur()}),isWebkit&&_jWin.click(fixAppleSel),_jDoc.mousedown(clickCancelPanel).keydown(checkShortcuts).keypress(forcePtag).dblclick(checkDblClick).bind("mousedown click",function(e){_jText.trigger(e.type)}),isIE&&(_jDoc.keydown(function(e){var t=_this.getRng();return 8===e.which&&t.item?($(t.item(0)).remove(),!1):undefined}),_jDoc.bind("controlselect",function(t){t=t.target,$.nodeName(t,"IMG")&&$(t).unbind("resizeend",e).bind("resizeend",e)})),_jDoc.keydown(function(e){var t=e.which;return e.altKey&&t>=49&&57>=t?(_jTools.find("a").attr("tabindex","0"),_jTools.find(".xheGStart").eq(t-49).next().find("a").focus(),_doc.title="\\ufeff\\ufeff",!1):undefined}).click(function(){_jTools.find("a").attr("tabindex","-1")}),_jTools.keydown(function(e){var t=e.which;if(27==t)_jTools.find("a").attr("tabindex","-1"),_this.focus();else if(e.altKey&&t>=49&&57>=t)return _jTools.find(".xheGStart").eq(t-49).next().find("a").focus(),!1});var p=$(_doc.documentElement);isOpera?p.bind("keydown",function(e){e.ctrlKey&&86===e.which&&cleanPaste()}):p.bind(isIE?"beforepaste":"paste",cleanPaste),settings.disableContextmenu&&p.bind("contextmenu",returnFalse),settings.html5Upload&&p.bind("dragenter dragover",function(e){var t;return(t=e.originalEvent.dataTransfer.types)&&-1!==$.inArray("Files",t)?!1:undefined}).bind("drop",function(e){function t(e){var t,i,s;for(a=0;e.length>a;a++){if(i=e[a].name.replace(\/.+\\.\/,""),!(t=o.match(RegExp("(\\\\w+):[^:]*,"+i+"(?:,|$)","i"))))return 1;if(s){if(s!==t[1])return 2}else s=t[1]}return s}var i,s=e.originalEvent.dataTransfer;if(s&&(i=s.files)&&i.length>0){var a,n,o,l=["Link","Img","Flash","Media"],r=[];for(a in l)n=l[a],settings["up"+n+"Url"]&&settings["up"+n+"Url"].match(\/^[^!].*\/i)&&r.push(n+":,"+settings["up"+n+"Ext"]);return 0===r.length?!1:(o=r.join(","),n=t(i),1===n?alert(getLang("upload.extLimit",o.replace(\/\\w+:,\/g,""))):2===n?alert(getLang("upload.typeLimit")):n&&_this.startUpload(i,settings["up"+n+"Url"],"*",function(e){var t,i=[],s=settings.onUpload;s&&s(e);for(var a=0,o=e.length;o>a;a++)t=e[a],url=is(t,"string")?t:t.url,"!"===url.substr(0,1)&&(url=url.substr(1)),i.push(url);_this.exec(n),$("#xhe"+n+"Url").val(i.join(" ")),$("#xheSave").click()}),!1)}});var g=settings.shortcuts;g&&$.each(g,function(e,t){_this.addShortcuts(e,t)}),xCount++,bInit=!0,settings.fullscreen?_this.toggleFullscreen():settings.sourceMode&&setTimeout(_this.toggleSource,20);var f=settings.plugins;return f&&$.each(f,function(e,t){var i=t.i;i!==undefined&&i(_this)}),!0},this.remove=function(){_this.hidePanel(),saveResult(),_jText.unbind("focus",_this.focus),_jForm.unbind("submit",saveResult).unbind("reset",loadReset),settings.submitID&&$("#"+settings.submitID).unbind("mousedown",saveResult),$(window).unbind("unload beforeunload",saveResult).unbind("resize",fixFullHeight),$(document).unbind("mousedown",clickCancelPanel),$("#"+idContainer).remove(),$("#"+idFixFFCursor).remove(),_jText.show(),bInit=!1},this.saveBookmark=function(){if(!bSource){_this.focus();var e=_this.getRng();e=e.cloneRange?e.cloneRange():e,bookmark={top:_jWin.scrollTop(),rng:e}}},this.loadBookmark=function(){if(!bSource&&bookmark){_this.focus();var e=bookmark.rng;if(isIE)e.select();else{var t=_this.getSel();t.removeAllRanges(),t.addRange(e)}_jWin.scrollTop(bookmark.top),bookmark=null}},this.focus=function(){if(bSource?$("#sourceCode",_doc).focus():_win.focus(),isIE){var e=_this.getRng();e.parentElement&&e.parentElement().ownerDocument!==_doc&&_this.setTextCursor()}return!1},this.setTextCursor=function(e){var t=_this.getRng(!0),i=_doc.body;if(isIE)t.moveToElementText(i);else{for(var s=e?"lastChild":"firstChild";3!=i.nodeType&&i[s];)i=i[s];t.selectNode(i)}if(t.collapse(e?!1:!0),isIE)t.select();else{var a=_this.getSel();a.removeAllRanges(),a.addRange(t)}},this.getSel=function(){return _doc.selection?_doc.selection:_win.getSelection()},this.getRng=function(e){var t,i;try{e||(t=_this.getSel(),i=t.createRange?t.createRange():t.rangeCount>0?t.getRangeAt(0):null),i||(i=_doc.body.createTextRange?_doc.body.createTextRange():_doc.createRange())}catch(s){}return i},this.getParent=function(e){var t,i=_this.getRng();return isIE?t=i.item?i.item(0):i.parentElement():(t=i.commonAncestorContainer,i.collapsed||i.startContainer===i.endContainer&&2>i.startOffset-i.endOffset&&i.startContainer.hasChildNodes()&&(t=i.startContainer.childNodes[i.startOffset])),e=e?e:"*",t=$(t),t.is(e)||(t=$(t).closest(e)),t},this.getSelect=function(e){var t=_this.getSel(),i=_this.getRng(),s=!0;if(s=!i||i.item?!1:!t||0===i.boundingWidth||i.collapsed,"text"===e)return s?"":i.text||(t.toString?""+t:"");var a;if(i.cloneContents){var n,o=$("<div><\/div>");n=i.cloneContents(),n&&o.append(n),a=o.html()}else a=is(i.item)?i.item(0).outerHTML:is(i.htmlText)?i.htmlText:""+i;return s&&(a=""),a=_this.processHTML(a,"read"),a=_this.cleanHTML(a),a=_this.formatXHTML(a)},this.pasteHTML=function(e,t){if(bSource)return!1;_this.focus(),e=_this.processHTML(e,"write");var i=_this.getSel(),s=_this.getRng();if(t!==undefined){if(s.item){var a=s.item(0);s=_this.getRng(!0),s.moveToElementText(a),s.select()}s.collapse(t)}if(e+="<"+(isIE?"img":"span")+' id="_xhe_temp" width="0" height="0" \/>',s.insertNode){if($(s.startContainer).closest("style,script").length>0)return!1;s.deleteContents(),s.insertNode(s.createContextualFragment(e))}else"control"===i.type.toLowerCase()&&(i.clear(),s=_this.getRng()),s.pasteHTML(e);var n=$("#_xhe_temp",_doc),o=n[0];isIE?(s.moveToElementText(o),s.select()):(s.selectNode(o),i.removeAllRanges(),i.addRange(s)),n.remove()},this.pasteText=function(e,t){e||(e=""),e=_this.domEncode(e),e=e.replace(\/\\r?\\n\/g,"<br \/>"),_this.pasteHTML(e,t)},this.appendHTML=function(e){return bSource?!1:(_this.focus(),e=_this.processHTML(e,"write"),$(_doc.body).append(e),_this.setTextCursor(!0),undefined)},this.domEncode=function(e){return e.replace(regEntities,function(e){return arrEntities[e]})},this.setSource=function(e){bookmark=null,"string"!=typeof e&&""!==e&&(e=_text.value),bSource?$("#sourceCode",_doc).val(e):(settings.beforeSetSource&&(e=settings.beforeSetSource(e)),e=_this.cleanHTML(e),e=_this.formatXHTML(e),e=_this.processHTML(e,"write"),isIE?(_doc.body.innerHTML='<img id="_xhe_temp" width="0" height="0" \/>'+e,$("#_xhe_temp",_doc).remove()):_doc.body.innerHTML=e)},this.processHTML=function(e,t){function i(e,t,i,s,a,o){var l,r,h,c,d="";if(l=s.match(\/font-family\\s*:\\s*([^;"]+)\/i),l&&(d+=' face="'+l[1]+'"'),r=s.match(\/font-size\\s*:\\s*([^;"]+)\/i)){r=r[1].toLowerCase();for(var u=0;n.length>u;u++)if(r===n[u].n||r===n[u].s){h=u+1;break}h&&(d+=' size="'+h+'"',s=s.replace(\/(^|;)(\\s*font-size\\s*:\\s*[^;"]+;?)+\/gi,"$1"))}if(c=s.match(\/(?:^|[\\s;])color\\s*:\\s*([^;"]+)\/i)){var p;if(p=c[1].match(\/\\s*rgb\\s*\\(\\s*(\\d+)\\s*,\\s*(\\d+)\\s*,\\s*(\\d+)\\s*\\)\/i)){c[1]="#";for(var g=1;3>=g;g++)c[1]+=("0"+(p[g]-0).toString(16)).slice(-2)}c[1]=c[1].replace(\/^#([0-9a-f])([0-9a-f])([0-9a-f])$\/i,"#$1$1$2$2$3$3"),d+=' color="'+c[1]+'"'}return s=s.replace(\/(^|;)(\\s*(font-family|color)\\s*:\\s*[^;"]+;?)+\/gi,"$1"),""!==d?(s&&(d+=' style="'+s+'"'),"<font"+(i?i:"")+d+(a?a:"")+">"+o+"<\/font>"):e}function s(e,t,i,s,a){for(var n,l,r=(i?i:"")+(s?s:""),h=[],c=[],d=0;o.length>d;d++)n=o[d].r,l=o[d].t,r=r.replace(n,function(){return h.push("<"+l+">"),c.push("<\/"+l+">"),""});return r=r.replace(\/\\s+style\\s*=\\s*"\\s*"\/i,""),(r?"<span"+r+">":"")+h.join("")+a+c.join("")+(r?"<\/span>":"")}var a=' class="Apple-style-span"',n=settings.listFontsize;if("write"===t)e=e.replace(\/(<(\\\/?)(\\w+))((?:\\s+[\\w\\-:]+\\s*=\\s*(?:"[^"]*"|'[^']*'|[^>\\s]+))*)\\s*((\\\/?)>)\/g,function(e,t,i,s,n,o,l){s=s.toLowerCase(),isMozilla?"strong"===s?s="b":"em"===s&&(s="i"):isWebkit&&("strong"===s?(s="span",i||(n+=a+' style="font-weight: bold;"')):"em"===s?(s="span",i||(n+=a+' style="font-style: italic;"')):"u"===s?(s="span",i||(n+=a+' style="text-decoration: underline;"')):"strike"===s&&(s="span",i||(n+=a+' style="text-decoration: line-through;"')));var r,h="";if("del"===s)s="strike";else if("img"===s)n=n.replace(\/\\s+emot\\s*=\\s*("[^"]*"|'[^']*'|[^>\\s]+)\/i,function(e,t){return r=t.match(\/^(["']?)(.*)\\1\/)[2],r=r.split(","),r[1]||(r[1]=r[0],r[0]=""),"default"===r[0]&&(r[0]=""),settings.emotMark?e:""});else if("a"===s)!n.match(\/ href=[^ ]\/i)&&n.match(\/ name=[^ ]\/i)&&(h+=" xhe-anchor"),l&&(o="><\/a>");else if("table"===s&&!i){var c=n.match(\/\\s+border\\s*=\\s*("[^"]*"|'[^']*'|[^>\\s]+)\/i);(!c||c[1].match(\/^(["']?)\\s*0\\s*\\1$\/))&&(h+=" xhe-border")}var d;if(n=n.replace(\/\\s+([\\w\\-:]+)\\s*=\\s*("[^"]*"|'[^']*'|[^>\\s]+)\/g,function(e,t,i){return t=t.toLowerCase(),i=i.match(\/^(["']?)(.*)\\1\/)[2],aft="",isIE&&t.match(\/^(disabled|checked|readonly|selected)$\/)&&i.match(\/^(false|0)$\/i)?"":"img"===s&&r&&"src"===t?"":(t.match(\/^(src|href)$\/)&&(aft=" _xhe_"+t+'="'+i+'"',urlBase&&(i=getLocalUrl(i,"abs",urlBase))),h&&"class"===t&&(i+=" "+h,h=""),isWebkit&&"style"===t&&"span"===s&&i.match(\/(^|;)\\s*(font-family|font-size|color|background-color)\\s*:\\s*[^;]+\\s*(;|$)\/i)&&(d=!0)," "+t+'="'+i+'"'+aft)}),r){var u=emotPath+(r[0]?r[0]:"default")+"\/"+r[1]+".gif";n+=' src="'+u+'" _xhe_src="'+u+'"'}return d&&(n+=a),h&&(n+=' class="'+h+'"'),"<"+i+s+n+o}),isIE&&(e=e.replace(\/&apos;\/gi,"&#39;")),isWebkit||(e=e.replace(\/<(span)(\\s+[^>]*?)?\\s+style\\s*=\\s*"((?:[^"]*?;)?\\s*(?:font-family|font-size|color)\\s*:[^"]*)"( [^>]*)?>(((?!<\\1(\\s+[^>]*?)?>)[\\s\\S]|<\\1(\\s+[^>]*?)?>((?!<\\1(\\s+[^>]*?)?>)[\\s\\S]|<\\1(\\s+[^>]*?)?>((?!<\\1(\\s+[^>]*?)?>)[\\s\\S])*?<\\\/\\1>)*?<\\\/\\1>)*?)<\\\/\\1>\/gi,i),e=e.replace(\/<(span)(\\s+[^>]*?)?\\s+style\\s*=\\s*"((?:[^"]*?;)?\\s*(?:font-family|font-size|color)\\s*:[^"]*)"( [^>]*)?>(((?!<\\1(\\s+[^>]*?)?>)[\\s\\S]|<\\1(\\s+[^>]*?)?>((?!<\\1(\\s+[^>]*?)?>)[\\s\\S])*?<\\\/\\1>)*?)<\\\/\\1>\/gi,i),e=e.replace(\/<(span)(\\s+[^>]*?)?\\s+style\\s*=\\s*"((?:[^"]*?;)?\\s*(?:font-family|font-size|color)\\s*:[^"]*)"( [^>]*)?>(((?!<\\1(\\s+[^>]*?)?>)[\\s\\S])*?)<\\\/\\1>\/gi,i)),e=e.replace(\/<(td|th)(\\s+[^>]*?)?>(\\s|&nbsp;)*<\\\/\\1>\/gi,"<$1$2>"+(isIE?"":"<br \/>")+"<\/$1>");else{if(isWebkit)for(var o=[{r:\/font-weight\\s*:\\s*bold;?\/gi,t:"strong"},{r:\/font-style\\s*:\\s*italic;?\/gi,t:"em"},{r:\/text-decoration\\s*:\\s*underline;?\/gi,t:"u"},{r:\/text-decoration\\s*:\\s*line-through;?\/gi,t:"strike"}],l=0;2>l;l++)e=e.replace(\/<(span)(\\s+[^>]*?)?\\s+class\\s*=\\s*"Apple-style-span"(\\s+[^>]*?)?>(((?!<\\1(\\s+[^>]*?)?>)[\\s\\S]|<\\1(\\s+[^>]*?)?>((?!<\\1(\\s+[^>]*?)?>)[\\s\\S]|<\\1(\\s+[^>]*?)?>((?!<\\1(\\s+[^>]*?)?>)[\\s\\S])*?<\\\/\\1>)*?<\\\/\\1>)*?)<\\\/\\1>\/gi,s),e=e.replace(\/<(span)(\\s+[^>]*?)?\\s+class\\s*=\\s*"Apple-style-span"(\\s+[^>]*?)?>(((?!<\\1(\\s+[^>]*?)?>)[\\s\\S]|<\\1(\\s+[^>]*?)?>((?!<\\1(\\s+[^>]*?)?>)[\\s\\S])*?<\\\/\\1>)*?)<\\\/\\1>\/gi,s),e=e.replace(\/<(span)(\\s+[^>]*?)?\\s+class\\s*=\\s*"Apple-style-span"(\\s+[^>]*?)?>(((?!<\\1(\\s+[^>]*?)?>)[\\s\\S])*?)<\\\/\\1>\/gi,s);e=e.replace(\/(<(\\w+))((?:\\s+[\\w\\-:]+\\s*=\\s*(?:"[^"]*"|'[^']*'|[^>\\s]+))*)\\s*(\\\/?>)\/g,function(e,t,i,s,a){i=i.toLowerCase();$/;"	p
var.specialKeys.118	js/xheditor.min.js	/^(function(){var e={};window.XHEDITOR=e})(),function(e,t){e.mapLang={},e.setLang=function(i,s){s===t&&(s=i,i=""),""!==i&&(i+=".");var a,n;for(var o in s)n=s[o],a=i+o,"string"==typeof n||n instanceof Array?e.mapLang[a]=n:e.setLang(a,n)},e.getLang=function(i){var s=e.mapLang[i];if(s===t&&(s=i.replace(\/{#([^{}]+)}\/g,function(t,i){var s=e.mapLang[i];return s?s:i})),"string"==typeof s){var a=arguments;s=s.replace(\/{\\$(\\d+)}\/g,function(e,i){var s=a[parseInt(i,10)+1];return s!==t?s:e})}return s}}(XHEDITOR),function(XHEDITOR,$,undefined){var agent=navigator.userAgent.toLowerCase(),bMobile=\/mobile\/i.test(agent),browser=$.browser,browerVer=parseFloat(browser.version),isIE=browser.msie,isMozilla=browser.mozilla,isWebkit=browser.webkit,isOpera=browser.opera,isChrome=browser.chrome,bAir=agent.indexOf(" adobeair\/")>-1,xCount=0,bShowPanel=!1,bClickCancel=!0,bShowModal=!1,bCheckEscInit=!1,_jPanel,_jShadow,_jCntLine,_jPanelButton,jModal,jModalShadow,layerShadow,jOverlay,jHideSelect,onModalRemove,editorRoot,getLang=XHEDITOR.getLang;if($("script[src*=xheditor]").each(function(){var e=this.src;return e.match(\/xheditor[^\\\/]*\\.js\/i)?(editorRoot=e.replace(\/[\\?#].*$\/,"").replace(\/(^|[\\\/\\\\])[^\\\/]*$\/,"$1"),!1):undefined}),isIE){try{document.execCommand("BackgroundImageCache",!1,!0)}catch(e){}var jqueryVer=$.fn.jquery;jqueryVer&&jqueryVer.match(\/^1\\.[67]\/)&&($.attrHooks.width=$.attrHooks.height=null)}var specialKeys={27:"esc",9:"tab",32:"space",13:"enter",8:"backspace",145:"scroll",20:"capslock",144:"numlock",19:"pause",45:"insert",36:"home",46:"del",35:"end",33:"pageup",34:"pagedown",37:"left",38:"up",39:"right",40:"down",112:"f1",113:"f2",114:"f3",115:"f4",116:"f5",117:"f6",118:"f7",119:"f8",120:"f9",121:"f10",122:"f11",123:"f12"},arrAlign=[{v:"justifyleft"},{v:"justifycenter"},{v:"justifyright"},{v:"justifyfull"}],arrList=[{v:"insertOrderedList"},{v:"insertUnorderedList"}],htmlPastetext='<div><label for="xhePastetextValue">{#PastetextTip}<\/label><\/div><div><textarea id="xhePastetextValue" wrap="soft" spellcheck="false" style="width:300px;height:100px;" \/><\/div><div style="text-align:right;"><input type="button" id="xheSave" value="{#dialogOk}" \/><\/div>',htmlLink='<div><label for="xheLinkUrl">{#link.url}<\/label><input type="text" id="xheLinkUrl" value="http:\/\/" class="xheText" \/><\/div><div><label for="xheLinkTarget">{#link.target}<\/label><select id="xheLinkTarget"><option selected="selected" value="">{#default}<\/option><option value="_blank">{#link.targetBlank}<\/option><option value="_self">{#link.targetSelf}<\/option><option value="_parent">{#link.targetParent}<\/option><\/select><\/div><div style="display:none"><label for="xheLinkText">{#link.linkText}<\/label><input type="text" id="xheLinkText" value="" class="xheText" \/><\/div><div style="text-align:right;"><input type="button" id="xheSave" value="{#dialogOk}" \/><\/div>',htmlAnchor='<div><label for="xheAnchorName">{#anchor.name}<\/label><input type="text" id="xheAnchorName" value="" class="xheText" \/><\/div><div style="text-align:right;"><input type="button" id="xheSave" value="{#dialogOk}" \/><\/div>',htmlImg='<div><label for="xheImgUrl">{#img.url}<\/label><input type="text" id="xheImgUrl" value="http:\/\/" class="xheText" \/><\/div><div><div><label for="xheImgAlt">{#img.alt}<\/label><input type="text" id="xheImgAlt" \/><\/div><div><label for="xheImgAlign">{#img.align}<\/label><select id="xheImgAlign"><option selected="selected" value="">{#default}<\/option><option value="left">{#img.alignLeft}<\/option><option value="right">{#img.alignRight}<\/option><option value="top">{#img.alignTop}<\/option><option value="middle">{#img.alignMiddle}<\/option><option value="baseline">{#img.alignBaseline}<\/option><option value="bottom">{#img.alignBottom}<\/option><\/select><\/div><div><label for="xheImgWidth">{#img.width}<\/label><input type="text" id="xheImgWidth" style="width:40px;" \/> <label for="xheImgHeight">{#img.height}<\/label><input type="text" id="xheImgHeight" style="width:40px;" \/><\/div><div><label for="xheImgBorder">{#img.border}<\/label><input type="text" id="xheImgBorder" style="width:40px;" \/><\/div><div><label for="xheImgHspace">{#img.hspace}<\/label><input type="text" id="xheImgHspace" style="width:40px;" \/> <label for="xheImgVspace">{#img.vspace}<\/label><input type="text" id="xheImgVspace" style="width:40px;" \/><\/div><div style="text-align:right;"><input type="button" id="xheSave" value="{#dialogOk}" \/><\/div>',htmlFlash='<div><label for="xheFlashUrl">{#flash.url}<\/label><input type="text" id="xheFlashUrl" value="http:\/\/" class="xheText" \/><\/div><div><label for="xheFlashWidth">{#flash.width}<\/label><input type="text" id="xheFlashWidth" style="width:40px;" value="480" \/> <label for="xheFlashHeight">{#flash.height}<\/label><input type="text" id="xheFlashHeight" style="width:40px;" value="400" \/><\/div><div style="text-align:right;"><input type="button" id="xheSave" value="{#dialogOk}" \/><\/div>',htmlMedia='<div><label for="xheMediaUrl">{#media.url}<\/label><input type="text" id="xheMediaUrl" value="http:\/\/" class="xheText" \/><\/div><div><label for="xheMediaWidth">{#media.width}<\/label><input type="text" id="xheMediaWidth" style="width:40px;" value="480" \/> <label for="xheMediaHeight">{#media.height}<\/label><input type="text" id="xheMediaHeight" style="width:40px;" value="400" \/><\/div><div style="text-align:right;"><input type="button" id="xheSave" value="{#dialogOk}" \/><\/div>',htmlTable='<div><label for="xheTableRows">{#table.rows}<\/label><input type="text" id="xheTableRows" style="width:40px;" value="3" \/> <label for="xheTableColumns">{#table.columns}<\/label><input type="text" id="xheTableColumns" style="width:40px;" value="2" \/><\/div><div><label for="xheTableHeaders">{#table.headers}<\/label><select id="xheTableHeaders"><option selected="selected" value="">{#none}<\/option><option value="row">{#table.headersRow}<\/option><option value="col">{#table.headersCol}<\/option><option value="both">{#table.headersBoth}<\/option><\/select><\/div><div><label for="xheTableWidth">{#table.width}<\/label><input type="text" id="xheTableWidth" style="width:40px;" value="200" \/> <label for="xheTableHeight">{#table.height}<\/label><input type="text" id="xheTableHeight" style="width:40px;" value="" \/><\/div><div><label for="xheTableBorder">{#table.border}<\/label><input type="text" id="xheTableBorder" style="width:40px;" value="1" \/><\/div><div><label for="xheTableCellSpacing">{#table.cellSpacing}<\/label><input type="text" id="xheTableCellSpacing" style="width:40px;" value="1" \/> <label for="xheTableCellPadding">{#table.cellPadding}<\/label><input type="text" id="xheTableCellPadding" style="width:40px;" value="1" \/><\/div><div><label for="xheTableAlign">{#table.align}<\/label><select id="xheTableAlign"><option selected="selected" value="">{#default}<\/option><option value="left">{#table.alignLeft}<\/option><option value="center">{#table.alignCenter}<\/option><option value="right">{#table.alignRight}<\/option><\/select><\/div><div><label for="xheTableCaption">{#table.caption}<\/label><input type="text" id="xheTableCaption" \/><\/div><div style="text-align:right;"><input type="button" id="xheSave" value="{#dialogOk}" \/><\/div>',htmlAbout='<div style="font:12px Arial;width:245px;word-wrap:break-word;word-break:break-all;outline:none;" role="dialog" tabindex="-1"><p><span style="font-size:20px;color:#1997DF;">xhEditor<\/span><br \/>v1.2.1 (build 130225)<\/p><p>{#aboutXheditor}<\/p><p>Copyright &copy; <a href="http:\/\/xheditor.com\/" target="_blank">xhEditor.com<\/a>. All rights reserved.<\/p><\/div>',itemEmots={"default":{name:"{#default}",width:24,height:24,line:7,list:["smile","tongue","titter","laugh","sad","wronged","fastcry","cry","wail","mad","knock","curse","crazy","angry","ohmy","awkward","panic","shy","cute","envy","proud","struggle","quiet","shutup","doubt","despise","sleep","bye"]}},arrTools={Cut:{t:"Cut"},Copy:{t:"Copy"},Paste:{t:"Paste"},Pastetext:{t:"Pastetext",h:isIE?0:1},Blocktag:{t:"Blocktag",h:1},Fontface:{t:"Fontface",h:1},FontSize:{t:"FontSize",h:1},Bold:{t:"Bold",s:"Ctrl+B"},Italic:{t:"Italic",s:"Ctrl+I"},Underline:{t:"Underline",s:"Ctrl+U"},Strikethrough:{t:"Strikethrough"},FontColor:{t:"FontColor",h:1},BackColor:{t:"BackColor",h:1},SelectAll:{t:"SelectAll"},Removeformat:{t:"Removeformat"},Align:{t:"Align",h:1},List:{t:"List",h:1},Outdent:{t:"Outdent"},Indent:{t:"Indent"},Link:{t:"Link",s:"Ctrl+L",h:1},Unlink:{t:"Unlink"},Anchor:{t:"Anchor",h:1},Img:{t:"Img",h:1},Flash:{t:"Flash",h:1},Media:{t:"Media",h:1},Hr:{t:"Hr"},Emot:{t:"Emot",s:"ctrl+e",h:1},Table:{t:"Table",h:1},Source:{t:"Source"},Preview:{t:"Preview"},Print:{t:"Print",s:"Ctrl+P"},Fullscreen:{t:"Fullscreen",s:"Esc"},About:{t:"About"}},toolsThemes={mini:"Bold,Italic,Underline,Strikethrough,|,Align,List,|,Link,Img",simple:"Blocktag,Fontface,FontSize,Bold,Italic,Underline,Strikethrough,FontColor,BackColor,|,Align,List,Outdent,Indent,|,Link,Img,Emot",full:"Cut,Copy,Paste,Pastetext,|,Blocktag,Fontface,FontSize,Bold,Italic,Underline,Strikethrough,FontColor,BackColor,SelectAll,Removeformat,|,Align,List,Outdent,Indent,|,Link,Unlink,Anchor,Img,Flash,Media,Hr,Emot,Table,|,Source,Preview,Print,Fullscreen"};toolsThemes.mfull=toolsThemes.full.replace(\/\\|(,Align)\/i,"\/$1");var arrDbClick={a:"Link",img:"Img",embed:"Embed"},uploadInputname="filedata",arrEntities={"<":"&lt;",">":"&gt;",'"':"&quot;","\\u00ae":"&reg;","\\u00a9":"&copy;"},regEntities=\/[<>"\\u00ae\\u00a9]\/g,Xheditor=function(textarea,options){function checkDblClick(e){var t=e.target,i=arrDbClick[t.tagName.toLowerCase()];if(i){if("Embed"===i){var s={"application\/x-shockwave-flash":"Flash","application\/x-mplayer2":"Media"};i=s[t.type.toLowerCase()]}_this.exec(i)}}function checkEsc(e){return 27===e.which?(bShowModal?_this.removeModal():bShowPanel&&_this.hidePanel(),!1):undefined}function loadReset(){setTimeout(_this.setSource,10)}function saveResult(){_this.getSource()}function cleanPaste(e){var t,i,s;if(e&&(t=e.originalEvent.clipboardData)&&(i=t.items)&&(s=i[0])&&"file"==s.kind&&s.type.match(\/^image\\\/\/i)){var a=s.getAsFile(),n=new FileReader;return n.onload=function(){var e='<img src="'+event.target.result+'">';e=replaceRemoteImg(e),_this.pasteHTML(e)},n.readAsDataURL(a),!1}var o=settings.cleanPaste;if(0===o||bSource||bCleanPaste)return!0;bCleanPaste=!0,_this.saveBookmark();var l=isIE?"pre":"div",r=$("<"+l+' class="xhe-paste">\\ufeff\\ufeff<\/'+l+">",_doc).appendTo(_doc.body),h=r[0],c=_this.getSel(),d=_this.getRng(!0);r.css("top",_jWin.scrollTop()),isIE?(d.moveToElementText(h),d.select()):(d.selectNodeContents(h),c.removeAllRanges(),c.addRange(d)),setTimeout(function(){var e,t=3===o;if(t)r.html(r.html().replace(\/<br(\\s+[^<>]*)?>\/gi,"\\n")),e=r.text();else{var i=$(".xhe-paste",_doc.body),s=[];i.each(function(e,t){0==$(t).find(".xhe-paste").length&&s.push(t.innerHTML)}),e=s.join("<br \/>")}r.remove(),_this.loadBookmark(),e=e.replace(\/^[\\s\\uFEFF]+|[\\s\\uFEFF]+$\/g,""),e&&(t?_this.pasteText(e):(e=_this.cleanHTML(e),e=_this.cleanWord(e),e=_this.formatXHTML(e),(!settings.onPaste||settings.onPaste&&(e=settings.onPaste(e))!==!1)&&(e=replaceRemoteImg(e),_this.pasteHTML(e)))),bCleanPaste=!1},0)}function replaceRemoteImg(e){var t=settings.localUrlTest,i=settings.remoteImgSaveUrl;if(t&&i){var s=[],a=0;e=e.replace(\/(<img)((?:\\s+[^>]*?)?(?:\\s+src="\\s*([^"]+)\\s*")(?: [^>]*)?)(\\\/?>)\/gi,function(e,i,n,o,l){return!\/^(https?|data:image)\/i.test(o)||\/_xhe_temp\/.test(n)||t.test(o)||(s[a]=o,n=n.replace(\/\\s+(width|height)="[^"]*"\/gi,"").replace(\/\\s+src="[^"]*"\/gi,' src="'+skinPath+'img\/waiting.gif" remoteimg="'+a++ +'"')),i+n+l}),s.length>0&&$.post(i,{urls:s.join("|")},function(e){e=e.split("|"),$("img[remoteimg]",_this.doc).each(function(){var t=$(this);xheAttr(t,"src",e[t.attr("remoteimg")]),t.removeAttr("remoteimg")})})}return e}function setCSS(e){try{_this._exec("styleWithCSS",e,!0)}catch(t){try{_this._exec("useCSS",!e,!0)}catch(t){}}}function setOpts(){if(bInit&&!bSource){setCSS(!1);try{_this._exec("enableObjectResizing",!0,!0)}catch(e){}if(isIE)try{_this._exec("BackgroundImageCache",!0,!0)}catch(e){}}}function forcePtag(e){if(bSource||13!==e.which||e.shiftKey||e.ctrlKey||e.altKey)return!0;var t=_this.getParent("p,h1,h2,h3,h4,h5,h6,pre,address,div,li");return t.is("li")?!0:settings.forcePtag?(0===t.length&&_this._exec("formatblock","<p>"),undefined):(_this.pasteHTML("<br \/>"),isIE&&t.length>0&&2===_this.getRng().parentElement().childNodes.length&&_this.pasteHTML("<br \/>"),!1)}function fixFullHeight(){isMozilla||isWebkit||(bFullscreen&&_jArea.height("100%").css("height",_jArea.outerHeight()-_jTools.outerHeight()),isIE&&_jTools.hide().show())}function fixAppleSel(e){if(e=e.target,e.tagName.match(\/(img|embed)\/i)){var t=_this.getSel(),i=_this.getRng(!0);i.selectNode(e),t.removeAllRanges(),t.addRange(i)}}function xheAttr(e,t,i){if(!t)return!1;var s="_xhe_"+t;return i&&(urlType&&(i=getLocalUrl(i,urlType,urlBase)),e.attr(t,urlBase?getLocalUrl(i,"abs",urlBase):i).removeAttr(s).attr(s,i)),e.attr(s)||e.attr(t)}function clickCancelPanel(){bClickCancel&&_this.hidePanel()}function checkShortcuts(e){if(bSource)return!0;var t=e.which,i=specialKeys[t],s=i?i:String.fromCharCode(t).toLowerCase();sKey="",sKey+=e.ctrlKey?"ctrl+":"",sKey+=e.altKey?"alt+":"",sKey+=e.shiftKey?"shift+":"",sKey+=s;var a,n=arrShortCuts[sKey];for(a in n){if(a=n[a],!$.isFunction(a))return _this.exec(a),!1;if(a.call(_this)===!1)return!1}}function is(e,t){var i=typeof e;return t?"array"===t&&e.hasOwnProperty&&e instanceof Array?!0:i===t:"undefined"!=i}function getLocalUrl(e,t,i){if(e.match(\/^(\\w+):\\\/\\\/\/i)&&!e.match(\/^https?:\/i)||\/^#\/i.test(e)||\/^data:\/i.test(e))return e;var s=i?$('<a href="'+i+'" \/>')[0]:location,a=s.protocol,n=s.host,o=s.hostname,l=s.port,r=s.pathname.replace(\/\\\\\/g,"\/").replace(\/[^\\\/]+$\/i,"");if(""===l&&(l="80"),""===r?r="\/":"\/"!==r.charAt(0)&&(r="\/"+r),e=$.trim(e),"abs"!==t&&(e=e.replace(RegExp(a+"\\\\\/\\\\\/"+o.replace(\/\\.\/g,"\\\\.")+"(?::"+l+")"+("80"===l?"?":"")+"(\/|$)","i"),"\/")),"rel"===t&&(e=e.replace(RegExp("^"+r.replace(\/([\\\/\\.\\+\\[\\]\\(\\)])\/g,"\\\\$1"),"i"),"")),"rel"!==t&&(e.match(\/^(https?:\\\/\\\/|\\\/)\/i)||(e=r+e),"\/"===e.charAt(0))){var h,c,d=[],u=e.split("\/"),p=u.length;for(c=0;p>c;c++)h=u[c],".."===h?d.pop():""!==h&&"."!==h&&d.push(h);""===u[p-1]&&d.push(""),e="\/"+d.join("\/")}return"abs"!==t||e.match(\/^https?:\\\/\\\/\/i)||(e=a+"\/\/"+n+e),e=e.replace(\/(https?:\\\/\\\/[^:\\\/?#]+):80(\\\/|$)\/i,"$1$2")}function checkFileExt(e,t){return"*"===t||e.match(RegExp(".("+t.replace(\/,\/g,"|")+")$","i"))?!0:(alert(getLang("upload.extLimit",t)),!1)}function formatBytes(e){var t=["Byte","KB","MB","GB","TB","PB"],i=Math.floor(Math.log(e)\/Math.log(1024));return(e\/Math.pow(1024,Math.floor(i))).toFixed(2)+t[i]}function returnFalse(){return!1}var _this=this,_text=textarea,_jText=$(_text),_jForm=_jText.closest("form"),_jTools,_jArea,_win,_jWin,_doc,_jDoc,bookmark,bInit=!1,bSource=!1,bFullscreen=!1,bCleanPaste=!1,outerScroll,bShowBlocktag=!1,sLayoutStyle="",ev=null,timer,bDisableHoverExec=!1,bQuickHoverExec=!1,lastPoint=null,lastAngle=null,editorHeight=0,settings=_this.settings=$.extend({},XHEDITOR.settings,options),plugins=settings.plugins,strPlugins=[];if(plugins&&(arrTools=$.extend({},arrTools,plugins),$.each(plugins,function(e){strPlugins.push(e)}),strPlugins=strPlugins.join(",")),settings.tools.match(\/^\\s*(m?full|simple|mini)\\s*$\/i)){var toolsTheme=toolsThemes[$.trim(settings.tools)];settings.tools=settings.tools.match(\/m?full\/i)&&plugins?toolsTheme.replace("Table","Table,"+strPlugins):toolsTheme}settings.tools.match(\/(^|,)\\s*About\\s*(,|$)\/i)||(settings.tools+=",About"),settings.tools=settings.tools.split(","),settings.editorRoot&&(editorRoot=settings.editorRoot),bAir===!1&&(editorRoot=getLocalUrl(editorRoot,"abs")),settings.urlBase&&(settings.urlBase=getLocalUrl(settings.urlBase,"abs"));var idCSS="xheCSS_"+settings.skin,idContainer="xhe"+xCount+"_container",idTools="xhe"+xCount+"_Tool",idIframeArea="xhe"+xCount+"_iframearea",idIframe="xhe"+xCount+"_iframe",idFixFFCursor="xhe"+xCount+"_fixffcursor",headHTML="",bodyClass="",skinPath=editorRoot+"xheditor_skin\/"+settings.skin+"\/",arrEmots=itemEmots,urlType=settings.urlType,urlBase=settings.urlBase,emotPath=settings.emotPath,emotPath=emotPath?emotPath:editorRoot+"xheditor_emot\/",selEmotGroup="";arrEmots=$.extend({},arrEmots,settings.emots),emotPath=getLocalUrl(emotPath,"rel",urlBase?urlBase:null),bShowBlocktag=settings.showBlocktag,bShowBlocktag&&(bodyClass+=" showBlocktag");var arrShortCuts=[];this.init=function(){function e(e){var t,i=$(e.target);(t=i.css("width"))&&i.css("width","").attr("width",t.replace(\/[^0-9%]+\/g,"")),(t=i.css("height"))&&i.css("height","").attr("height",t.replace(\/[^0-9%]+\/g,""))}0===$("#"+idCSS).length&&$("head").append('<link id="'+idCSS+'" rel="stylesheet" type="text\/css" href="'+skinPath+'ui.css" \/>');var t=_jText.outerWidth(),i=_jText.outerHeight(),s=settings.width||_text.style.width||(t>10?t:0);editorHeight=settings.height||_text.style.height||(i>10?i:150),\/^\\d+(?:\\.\\d+)?$\/.test(s)&&(s+="px"),is(editorHeight,"string")&&(editorHeight=editorHeight.replace(\/[^\\d]+\/g,""));var a,n,o=settings.background||_text.style.background,l=['<span class="xheGStart"\/>'],r=\/\\||\\\/\/i;$.each(settings.tools,function(e,t){if(t.match(r)&&l.push('<span class="xheGEnd"\/>'),"|"===t)l.push('<span class="xheSeparator"\/>');else if("\/"===t)l.push("<br \/>");else{if(a=arrTools[t],!a)return;n=a.c?a.c:"xheIcon xheBtn"+t,l.push('<span><a href="#" title="{#'+a.t+'}" cmd="'+t+'" class="xheButton xheEnabled" tabindex="-1" role="button"><span class="'+n+'" unselectable="on" style="font-size:0;color:transparent;text-indent:-999px;">'+a.t+"<\/span><\/a><\/span>"),a.s&&_this.addShortcuts(a.s,t)}t.match(r)&&l.push('<span class="xheGStart"\/>')}),l.push('<span class="xheGEnd"\/><br \/>'),_jText.after($('<input type="text" id="'+idFixFFCursor+'" style="position:absolute;display:none;" \/><span id="'+idContainer+'" class="xhe_'+settings.skin+'" style="display:none"><table cellspacing="0" cellpadding="0" class="xheLayout" style="'+("0px"!=s?"width:"+s+";":"")+"height:"+editorHeight+'px;" role="presentation"><tr><td id="'+idTools+'" class="xheTool" unselectable="on" style="height:1px;" role="presentation"><\/td><\/tr><tr><td id="'+idIframeArea+'" class="xheIframeArea" role="presentation"><iframe frameborder="0" id="'+idIframe+'" src="javascript:;" style="width:100%;"><\/iframe><\/td><\/tr><\/table><\/span>')),_jTools=$("#"+idTools),_jArea=$("#"+idIframeArea),headHTML='<meta http-equiv="Content-Type" content="text\/html; charset=utf-8" \/><link rel="stylesheet" href="'+skinPath+'iframe.css"\/>';var h=settings.loadCSS;if(h)if(is(h,"array"))for(var c in h)headHTML+='<link rel="stylesheet" href="'+h[c]+'"\/>';else headHTML+=h.match(\/\\s*<style(\\s+[^>]*?)?>[\\s\\S]+?<\\\/style>\\s*\/i)?h:'<link rel="stylesheet" href="'+h+'"\/>';var d='<!DOCTYPE html><html xmlns="http:\/\/www.w3.org\/1999\/xhtml"><head>'+headHTML+"<title>{#defaultReadTip} "+(settings.readTip?settings.readTip:"")+"<\/title>";o&&(d+="<style>html{background:"+o+";}<\/style>"),d+='<\/head><body spellcheck="0" class="editMode'+bodyClass+'"><\/body><\/html>',_this.win=_win=$("#"+idIframe)[0].contentWindow,_jWin=$(_win);try{this.doc=_doc=_win.document,_jDoc=$(_doc),_doc.open(),_doc.write(getLang(d)),_doc.close(),isIE?_doc.body.contentEditable="true":_doc.designMode="On"}catch(u){}setTimeout(setOpts,300),_this.setSource(),_win.setInterval=null,_jTools.append(getLang(l.join(""))).bind("mousedown contextmenu",returnFalse).click(function(e){var t=$(e.target).closest("a");return t.is(".xheEnabled")&&(clearTimeout(timer),_jTools.find("a").attr("tabindex","-1"),ev=e,_this.exec(t.attr("cmd"))),!1}),_jTools.find(".xheButton").hover(function(e){var t=$(this),i=settings.hoverExecDelay,s=lastAngle;if(lastAngle=null,-1===i||bDisableHoverExec||!t.is(".xheEnabled"))return!1;if(s&&s>10)return bDisableHoverExec=!0,setTimeout(function(){bDisableHoverExec=!1},100),!1;var a=t.attr("cmd"),n=1===arrTools[a].h;return n?(bQuickHoverExec&&(i=0),i>=0&&(timer=setTimeout(function(){ev=e,lastPoint={x:ev.clientX,y:ev.clientY},_this.exec(a)},i)),undefined):(_this.hidePanel(),!1)},function(){lastPoint=null,timer&&clearTimeout(timer)}).mousemove(function(e){if(lastPoint){var t={x:e.clientX-lastPoint.x,y:e.clientY-lastPoint.y};if(Math.abs(t.x)>1||Math.abs(t.y)>1){if(t.x>0&&t.y>0){var i=Math.round(Math.atan(t.y\/t.x)\/.017453293);lastAngle=lastAngle?(lastAngle+i)\/2:i}else lastAngle=null;lastPoint={x:e.clientX,y:e.clientY}}}}),_jPanel=$("#xhePanel"),_jShadow=$("#xheShadow"),_jCntLine=$("#xheCntLine"),0===_jPanel.length&&(_jPanel=$('<div id="xhePanel"><\/div>').mousedown(function(e){e.stopPropagation()}),_jShadow=$('<div id="xheShadow"><\/div>'),_jCntLine=$('<div id="xheCntLine"><\/div>'),setTimeout(function(){$(document.body).append(_jPanel).append(_jShadow).append(_jCntLine)},10)),$("#"+idContainer).show(),_jText.hide(),_jArea.css("height",editorHeight-_jTools.outerHeight()),isIE&8>browerVer&&setTimeout(function(){_jArea.css("height",editorHeight-_jTools.outerHeight())},1),_jText.focus(_this.focus),_jForm.submit(saveResult).bind("reset",loadReset),settings.submitID&&$("#"+settings.submitID).mousedown(saveResult),$(window).bind("unload beforeunload",saveResult).bind("resize",fixFullHeight),$(document).mousedown(clickCancelPanel),bCheckEscInit||($(document).keydown(checkEsc),bCheckEscInit=!0),_jWin.focus(function(){settings.focus&&settings.focus()}).blur(function(){settings.blur&&settings.blur()}),isWebkit&&_jWin.click(fixAppleSel),_jDoc.mousedown(clickCancelPanel).keydown(checkShortcuts).keypress(forcePtag).dblclick(checkDblClick).bind("mousedown click",function(e){_jText.trigger(e.type)}),isIE&&(_jDoc.keydown(function(e){var t=_this.getRng();return 8===e.which&&t.item?($(t.item(0)).remove(),!1):undefined}),_jDoc.bind("controlselect",function(t){t=t.target,$.nodeName(t,"IMG")&&$(t).unbind("resizeend",e).bind("resizeend",e)})),_jDoc.keydown(function(e){var t=e.which;return e.altKey&&t>=49&&57>=t?(_jTools.find("a").attr("tabindex","0"),_jTools.find(".xheGStart").eq(t-49).next().find("a").focus(),_doc.title="\\ufeff\\ufeff",!1):undefined}).click(function(){_jTools.find("a").attr("tabindex","-1")}),_jTools.keydown(function(e){var t=e.which;if(27==t)_jTools.find("a").attr("tabindex","-1"),_this.focus();else if(e.altKey&&t>=49&&57>=t)return _jTools.find(".xheGStart").eq(t-49).next().find("a").focus(),!1});var p=$(_doc.documentElement);isOpera?p.bind("keydown",function(e){e.ctrlKey&&86===e.which&&cleanPaste()}):p.bind(isIE?"beforepaste":"paste",cleanPaste),settings.disableContextmenu&&p.bind("contextmenu",returnFalse),settings.html5Upload&&p.bind("dragenter dragover",function(e){var t;return(t=e.originalEvent.dataTransfer.types)&&-1!==$.inArray("Files",t)?!1:undefined}).bind("drop",function(e){function t(e){var t,i,s;for(a=0;e.length>a;a++){if(i=e[a].name.replace(\/.+\\.\/,""),!(t=o.match(RegExp("(\\\\w+):[^:]*,"+i+"(?:,|$)","i"))))return 1;if(s){if(s!==t[1])return 2}else s=t[1]}return s}var i,s=e.originalEvent.dataTransfer;if(s&&(i=s.files)&&i.length>0){var a,n,o,l=["Link","Img","Flash","Media"],r=[];for(a in l)n=l[a],settings["up"+n+"Url"]&&settings["up"+n+"Url"].match(\/^[^!].*\/i)&&r.push(n+":,"+settings["up"+n+"Ext"]);return 0===r.length?!1:(o=r.join(","),n=t(i),1===n?alert(getLang("upload.extLimit",o.replace(\/\\w+:,\/g,""))):2===n?alert(getLang("upload.typeLimit")):n&&_this.startUpload(i,settings["up"+n+"Url"],"*",function(e){var t,i=[],s=settings.onUpload;s&&s(e);for(var a=0,o=e.length;o>a;a++)t=e[a],url=is(t,"string")?t:t.url,"!"===url.substr(0,1)&&(url=url.substr(1)),i.push(url);_this.exec(n),$("#xhe"+n+"Url").val(i.join(" ")),$("#xheSave").click()}),!1)}});var g=settings.shortcuts;g&&$.each(g,function(e,t){_this.addShortcuts(e,t)}),xCount++,bInit=!0,settings.fullscreen?_this.toggleFullscreen():settings.sourceMode&&setTimeout(_this.toggleSource,20);var f=settings.plugins;return f&&$.each(f,function(e,t){var i=t.i;i!==undefined&&i(_this)}),!0},this.remove=function(){_this.hidePanel(),saveResult(),_jText.unbind("focus",_this.focus),_jForm.unbind("submit",saveResult).unbind("reset",loadReset),settings.submitID&&$("#"+settings.submitID).unbind("mousedown",saveResult),$(window).unbind("unload beforeunload",saveResult).unbind("resize",fixFullHeight),$(document).unbind("mousedown",clickCancelPanel),$("#"+idContainer).remove(),$("#"+idFixFFCursor).remove(),_jText.show(),bInit=!1},this.saveBookmark=function(){if(!bSource){_this.focus();var e=_this.getRng();e=e.cloneRange?e.cloneRange():e,bookmark={top:_jWin.scrollTop(),rng:e}}},this.loadBookmark=function(){if(!bSource&&bookmark){_this.focus();var e=bookmark.rng;if(isIE)e.select();else{var t=_this.getSel();t.removeAllRanges(),t.addRange(e)}_jWin.scrollTop(bookmark.top),bookmark=null}},this.focus=function(){if(bSource?$("#sourceCode",_doc).focus():_win.focus(),isIE){var e=_this.getRng();e.parentElement&&e.parentElement().ownerDocument!==_doc&&_this.setTextCursor()}return!1},this.setTextCursor=function(e){var t=_this.getRng(!0),i=_doc.body;if(isIE)t.moveToElementText(i);else{for(var s=e?"lastChild":"firstChild";3!=i.nodeType&&i[s];)i=i[s];t.selectNode(i)}if(t.collapse(e?!1:!0),isIE)t.select();else{var a=_this.getSel();a.removeAllRanges(),a.addRange(t)}},this.getSel=function(){return _doc.selection?_doc.selection:_win.getSelection()},this.getRng=function(e){var t,i;try{e||(t=_this.getSel(),i=t.createRange?t.createRange():t.rangeCount>0?t.getRangeAt(0):null),i||(i=_doc.body.createTextRange?_doc.body.createTextRange():_doc.createRange())}catch(s){}return i},this.getParent=function(e){var t,i=_this.getRng();return isIE?t=i.item?i.item(0):i.parentElement():(t=i.commonAncestorContainer,i.collapsed||i.startContainer===i.endContainer&&2>i.startOffset-i.endOffset&&i.startContainer.hasChildNodes()&&(t=i.startContainer.childNodes[i.startOffset])),e=e?e:"*",t=$(t),t.is(e)||(t=$(t).closest(e)),t},this.getSelect=function(e){var t=_this.getSel(),i=_this.getRng(),s=!0;if(s=!i||i.item?!1:!t||0===i.boundingWidth||i.collapsed,"text"===e)return s?"":i.text||(t.toString?""+t:"");var a;if(i.cloneContents){var n,o=$("<div><\/div>");n=i.cloneContents(),n&&o.append(n),a=o.html()}else a=is(i.item)?i.item(0).outerHTML:is(i.htmlText)?i.htmlText:""+i;return s&&(a=""),a=_this.processHTML(a,"read"),a=_this.cleanHTML(a),a=_this.formatXHTML(a)},this.pasteHTML=function(e,t){if(bSource)return!1;_this.focus(),e=_this.processHTML(e,"write");var i=_this.getSel(),s=_this.getRng();if(t!==undefined){if(s.item){var a=s.item(0);s=_this.getRng(!0),s.moveToElementText(a),s.select()}s.collapse(t)}if(e+="<"+(isIE?"img":"span")+' id="_xhe_temp" width="0" height="0" \/>',s.insertNode){if($(s.startContainer).closest("style,script").length>0)return!1;s.deleteContents(),s.insertNode(s.createContextualFragment(e))}else"control"===i.type.toLowerCase()&&(i.clear(),s=_this.getRng()),s.pasteHTML(e);var n=$("#_xhe_temp",_doc),o=n[0];isIE?(s.moveToElementText(o),s.select()):(s.selectNode(o),i.removeAllRanges(),i.addRange(s)),n.remove()},this.pasteText=function(e,t){e||(e=""),e=_this.domEncode(e),e=e.replace(\/\\r?\\n\/g,"<br \/>"),_this.pasteHTML(e,t)},this.appendHTML=function(e){return bSource?!1:(_this.focus(),e=_this.processHTML(e,"write"),$(_doc.body).append(e),_this.setTextCursor(!0),undefined)},this.domEncode=function(e){return e.replace(regEntities,function(e){return arrEntities[e]})},this.setSource=function(e){bookmark=null,"string"!=typeof e&&""!==e&&(e=_text.value),bSource?$("#sourceCode",_doc).val(e):(settings.beforeSetSource&&(e=settings.beforeSetSource(e)),e=_this.cleanHTML(e),e=_this.formatXHTML(e),e=_this.processHTML(e,"write"),isIE?(_doc.body.innerHTML='<img id="_xhe_temp" width="0" height="0" \/>'+e,$("#_xhe_temp",_doc).remove()):_doc.body.innerHTML=e)},this.processHTML=function(e,t){function i(e,t,i,s,a,o){var l,r,h,c,d="";if(l=s.match(\/font-family\\s*:\\s*([^;"]+)\/i),l&&(d+=' face="'+l[1]+'"'),r=s.match(\/font-size\\s*:\\s*([^;"]+)\/i)){r=r[1].toLowerCase();for(var u=0;n.length>u;u++)if(r===n[u].n||r===n[u].s){h=u+1;break}h&&(d+=' size="'+h+'"',s=s.replace(\/(^|;)(\\s*font-size\\s*:\\s*[^;"]+;?)+\/gi,"$1"))}if(c=s.match(\/(?:^|[\\s;])color\\s*:\\s*([^;"]+)\/i)){var p;if(p=c[1].match(\/\\s*rgb\\s*\\(\\s*(\\d+)\\s*,\\s*(\\d+)\\s*,\\s*(\\d+)\\s*\\)\/i)){c[1]="#";for(var g=1;3>=g;g++)c[1]+=("0"+(p[g]-0).toString(16)).slice(-2)}c[1]=c[1].replace(\/^#([0-9a-f])([0-9a-f])([0-9a-f])$\/i,"#$1$1$2$2$3$3"),d+=' color="'+c[1]+'"'}return s=s.replace(\/(^|;)(\\s*(font-family|color)\\s*:\\s*[^;"]+;?)+\/gi,"$1"),""!==d?(s&&(d+=' style="'+s+'"'),"<font"+(i?i:"")+d+(a?a:"")+">"+o+"<\/font>"):e}function s(e,t,i,s,a){for(var n,l,r=(i?i:"")+(s?s:""),h=[],c=[],d=0;o.length>d;d++)n=o[d].r,l=o[d].t,r=r.replace(n,function(){return h.push("<"+l+">"),c.push("<\/"+l+">"),""});return r=r.replace(\/\\s+style\\s*=\\s*"\\s*"\/i,""),(r?"<span"+r+">":"")+h.join("")+a+c.join("")+(r?"<\/span>":"")}var a=' class="Apple-style-span"',n=settings.listFontsize;if("write"===t)e=e.replace(\/(<(\\\/?)(\\w+))((?:\\s+[\\w\\-:]+\\s*=\\s*(?:"[^"]*"|'[^']*'|[^>\\s]+))*)\\s*((\\\/?)>)\/g,function(e,t,i,s,n,o,l){s=s.toLowerCase(),isMozilla?"strong"===s?s="b":"em"===s&&(s="i"):isWebkit&&("strong"===s?(s="span",i||(n+=a+' style="font-weight: bold;"')):"em"===s?(s="span",i||(n+=a+' style="font-style: italic;"')):"u"===s?(s="span",i||(n+=a+' style="text-decoration: underline;"')):"strike"===s&&(s="span",i||(n+=a+' style="text-decoration: line-through;"')));var r,h="";if("del"===s)s="strike";else if("img"===s)n=n.replace(\/\\s+emot\\s*=\\s*("[^"]*"|'[^']*'|[^>\\s]+)\/i,function(e,t){return r=t.match(\/^(["']?)(.*)\\1\/)[2],r=r.split(","),r[1]||(r[1]=r[0],r[0]=""),"default"===r[0]&&(r[0]=""),settings.emotMark?e:""});else if("a"===s)!n.match(\/ href=[^ ]\/i)&&n.match(\/ name=[^ ]\/i)&&(h+=" xhe-anchor"),l&&(o="><\/a>");else if("table"===s&&!i){var c=n.match(\/\\s+border\\s*=\\s*("[^"]*"|'[^']*'|[^>\\s]+)\/i);(!c||c[1].match(\/^(["']?)\\s*0\\s*\\1$\/))&&(h+=" xhe-border")}var d;if(n=n.replace(\/\\s+([\\w\\-:]+)\\s*=\\s*("[^"]*"|'[^']*'|[^>\\s]+)\/g,function(e,t,i){return t=t.toLowerCase(),i=i.match(\/^(["']?)(.*)\\1\/)[2],aft="",isIE&&t.match(\/^(disabled|checked|readonly|selected)$\/)&&i.match(\/^(false|0)$\/i)?"":"img"===s&&r&&"src"===t?"":(t.match(\/^(src|href)$\/)&&(aft=" _xhe_"+t+'="'+i+'"',urlBase&&(i=getLocalUrl(i,"abs",urlBase))),h&&"class"===t&&(i+=" "+h,h=""),isWebkit&&"style"===t&&"span"===s&&i.match(\/(^|;)\\s*(font-family|font-size|color|background-color)\\s*:\\s*[^;]+\\s*(;|$)\/i)&&(d=!0)," "+t+'="'+i+'"'+aft)}),r){var u=emotPath+(r[0]?r[0]:"default")+"\/"+r[1]+".gif";n+=' src="'+u+'" _xhe_src="'+u+'"'}return d&&(n+=a),h&&(n+=' class="'+h+'"'),"<"+i+s+n+o}),isIE&&(e=e.replace(\/&apos;\/gi,"&#39;")),isWebkit||(e=e.replace(\/<(span)(\\s+[^>]*?)?\\s+style\\s*=\\s*"((?:[^"]*?;)?\\s*(?:font-family|font-size|color)\\s*:[^"]*)"( [^>]*)?>(((?!<\\1(\\s+[^>]*?)?>)[\\s\\S]|<\\1(\\s+[^>]*?)?>((?!<\\1(\\s+[^>]*?)?>)[\\s\\S]|<\\1(\\s+[^>]*?)?>((?!<\\1(\\s+[^>]*?)?>)[\\s\\S])*?<\\\/\\1>)*?<\\\/\\1>)*?)<\\\/\\1>\/gi,i),e=e.replace(\/<(span)(\\s+[^>]*?)?\\s+style\\s*=\\s*"((?:[^"]*?;)?\\s*(?:font-family|font-size|color)\\s*:[^"]*)"( [^>]*)?>(((?!<\\1(\\s+[^>]*?)?>)[\\s\\S]|<\\1(\\s+[^>]*?)?>((?!<\\1(\\s+[^>]*?)?>)[\\s\\S])*?<\\\/\\1>)*?)<\\\/\\1>\/gi,i),e=e.replace(\/<(span)(\\s+[^>]*?)?\\s+style\\s*=\\s*"((?:[^"]*?;)?\\s*(?:font-family|font-size|color)\\s*:[^"]*)"( [^>]*)?>(((?!<\\1(\\s+[^>]*?)?>)[\\s\\S])*?)<\\\/\\1>\/gi,i)),e=e.replace(\/<(td|th)(\\s+[^>]*?)?>(\\s|&nbsp;)*<\\\/\\1>\/gi,"<$1$2>"+(isIE?"":"<br \/>")+"<\/$1>");else{if(isWebkit)for(var o=[{r:\/font-weight\\s*:\\s*bold;?\/gi,t:"strong"},{r:\/font-style\\s*:\\s*italic;?\/gi,t:"em"},{r:\/text-decoration\\s*:\\s*underline;?\/gi,t:"u"},{r:\/text-decoration\\s*:\\s*line-through;?\/gi,t:"strike"}],l=0;2>l;l++)e=e.replace(\/<(span)(\\s+[^>]*?)?\\s+class\\s*=\\s*"Apple-style-span"(\\s+[^>]*?)?>(((?!<\\1(\\s+[^>]*?)?>)[\\s\\S]|<\\1(\\s+[^>]*?)?>((?!<\\1(\\s+[^>]*?)?>)[\\s\\S]|<\\1(\\s+[^>]*?)?>((?!<\\1(\\s+[^>]*?)?>)[\\s\\S])*?<\\\/\\1>)*?<\\\/\\1>)*?)<\\\/\\1>\/gi,s),e=e.replace(\/<(span)(\\s+[^>]*?)?\\s+class\\s*=\\s*"Apple-style-span"(\\s+[^>]*?)?>(((?!<\\1(\\s+[^>]*?)?>)[\\s\\S]|<\\1(\\s+[^>]*?)?>((?!<\\1(\\s+[^>]*?)?>)[\\s\\S])*?<\\\/\\1>)*?)<\\\/\\1>\/gi,s),e=e.replace(\/<(span)(\\s+[^>]*?)?\\s+class\\s*=\\s*"Apple-style-span"(\\s+[^>]*?)?>(((?!<\\1(\\s+[^>]*?)?>)[\\s\\S])*?)<\\\/\\1>\/gi,s);e=e.replace(\/(<(\\w+))((?:\\s+[\\w\\-:]+\\s*=\\s*(?:"[^"]*"|'[^']*'|[^>\\s]+))*)\\s*(\\\/?>)\/g,function(e,t,i,s,a){i=i.toLowerCase();$/;"	p
var.specialKeys.119	js/xheditor.min.js	/^(function(){var e={};window.XHEDITOR=e})(),function(e,t){e.mapLang={},e.setLang=function(i,s){s===t&&(s=i,i=""),""!==i&&(i+=".");var a,n;for(var o in s)n=s[o],a=i+o,"string"==typeof n||n instanceof Array?e.mapLang[a]=n:e.setLang(a,n)},e.getLang=function(i){var s=e.mapLang[i];if(s===t&&(s=i.replace(\/{#([^{}]+)}\/g,function(t,i){var s=e.mapLang[i];return s?s:i})),"string"==typeof s){var a=arguments;s=s.replace(\/{\\$(\\d+)}\/g,function(e,i){var s=a[parseInt(i,10)+1];return s!==t?s:e})}return s}}(XHEDITOR),function(XHEDITOR,$,undefined){var agent=navigator.userAgent.toLowerCase(),bMobile=\/mobile\/i.test(agent),browser=$.browser,browerVer=parseFloat(browser.version),isIE=browser.msie,isMozilla=browser.mozilla,isWebkit=browser.webkit,isOpera=browser.opera,isChrome=browser.chrome,bAir=agent.indexOf(" adobeair\/")>-1,xCount=0,bShowPanel=!1,bClickCancel=!0,bShowModal=!1,bCheckEscInit=!1,_jPanel,_jShadow,_jCntLine,_jPanelButton,jModal,jModalShadow,layerShadow,jOverlay,jHideSelect,onModalRemove,editorRoot,getLang=XHEDITOR.getLang;if($("script[src*=xheditor]").each(function(){var e=this.src;return e.match(\/xheditor[^\\\/]*\\.js\/i)?(editorRoot=e.replace(\/[\\?#].*$\/,"").replace(\/(^|[\\\/\\\\])[^\\\/]*$\/,"$1"),!1):undefined}),isIE){try{document.execCommand("BackgroundImageCache",!1,!0)}catch(e){}var jqueryVer=$.fn.jquery;jqueryVer&&jqueryVer.match(\/^1\\.[67]\/)&&($.attrHooks.width=$.attrHooks.height=null)}var specialKeys={27:"esc",9:"tab",32:"space",13:"enter",8:"backspace",145:"scroll",20:"capslock",144:"numlock",19:"pause",45:"insert",36:"home",46:"del",35:"end",33:"pageup",34:"pagedown",37:"left",38:"up",39:"right",40:"down",112:"f1",113:"f2",114:"f3",115:"f4",116:"f5",117:"f6",118:"f7",119:"f8",120:"f9",121:"f10",122:"f11",123:"f12"},arrAlign=[{v:"justifyleft"},{v:"justifycenter"},{v:"justifyright"},{v:"justifyfull"}],arrList=[{v:"insertOrderedList"},{v:"insertUnorderedList"}],htmlPastetext='<div><label for="xhePastetextValue">{#PastetextTip}<\/label><\/div><div><textarea id="xhePastetextValue" wrap="soft" spellcheck="false" style="width:300px;height:100px;" \/><\/div><div style="text-align:right;"><input type="button" id="xheSave" value="{#dialogOk}" \/><\/div>',htmlLink='<div><label for="xheLinkUrl">{#link.url}<\/label><input type="text" id="xheLinkUrl" value="http:\/\/" class="xheText" \/><\/div><div><label for="xheLinkTarget">{#link.target}<\/label><select id="xheLinkTarget"><option selected="selected" value="">{#default}<\/option><option value="_blank">{#link.targetBlank}<\/option><option value="_self">{#link.targetSelf}<\/option><option value="_parent">{#link.targetParent}<\/option><\/select><\/div><div style="display:none"><label for="xheLinkText">{#link.linkText}<\/label><input type="text" id="xheLinkText" value="" class="xheText" \/><\/div><div style="text-align:right;"><input type="button" id="xheSave" value="{#dialogOk}" \/><\/div>',htmlAnchor='<div><label for="xheAnchorName">{#anchor.name}<\/label><input type="text" id="xheAnchorName" value="" class="xheText" \/><\/div><div style="text-align:right;"><input type="button" id="xheSave" value="{#dialogOk}" \/><\/div>',htmlImg='<div><label for="xheImgUrl">{#img.url}<\/label><input type="text" id="xheImgUrl" value="http:\/\/" class="xheText" \/><\/div><div><div><label for="xheImgAlt">{#img.alt}<\/label><input type="text" id="xheImgAlt" \/><\/div><div><label for="xheImgAlign">{#img.align}<\/label><select id="xheImgAlign"><option selected="selected" value="">{#default}<\/option><option value="left">{#img.alignLeft}<\/option><option value="right">{#img.alignRight}<\/option><option value="top">{#img.alignTop}<\/option><option value="middle">{#img.alignMiddle}<\/option><option value="baseline">{#img.alignBaseline}<\/option><option value="bottom">{#img.alignBottom}<\/option><\/select><\/div><div><label for="xheImgWidth">{#img.width}<\/label><input type="text" id="xheImgWidth" style="width:40px;" \/> <label for="xheImgHeight">{#img.height}<\/label><input type="text" id="xheImgHeight" style="width:40px;" \/><\/div><div><label for="xheImgBorder">{#img.border}<\/label><input type="text" id="xheImgBorder" style="width:40px;" \/><\/div><div><label for="xheImgHspace">{#img.hspace}<\/label><input type="text" id="xheImgHspace" style="width:40px;" \/> <label for="xheImgVspace">{#img.vspace}<\/label><input type="text" id="xheImgVspace" style="width:40px;" \/><\/div><div style="text-align:right;"><input type="button" id="xheSave" value="{#dialogOk}" \/><\/div>',htmlFlash='<div><label for="xheFlashUrl">{#flash.url}<\/label><input type="text" id="xheFlashUrl" value="http:\/\/" class="xheText" \/><\/div><div><label for="xheFlashWidth">{#flash.width}<\/label><input type="text" id="xheFlashWidth" style="width:40px;" value="480" \/> <label for="xheFlashHeight">{#flash.height}<\/label><input type="text" id="xheFlashHeight" style="width:40px;" value="400" \/><\/div><div style="text-align:right;"><input type="button" id="xheSave" value="{#dialogOk}" \/><\/div>',htmlMedia='<div><label for="xheMediaUrl">{#media.url}<\/label><input type="text" id="xheMediaUrl" value="http:\/\/" class="xheText" \/><\/div><div><label for="xheMediaWidth">{#media.width}<\/label><input type="text" id="xheMediaWidth" style="width:40px;" value="480" \/> <label for="xheMediaHeight">{#media.height}<\/label><input type="text" id="xheMediaHeight" style="width:40px;" value="400" \/><\/div><div style="text-align:right;"><input type="button" id="xheSave" value="{#dialogOk}" \/><\/div>',htmlTable='<div><label for="xheTableRows">{#table.rows}<\/label><input type="text" id="xheTableRows" style="width:40px;" value="3" \/> <label for="xheTableColumns">{#table.columns}<\/label><input type="text" id="xheTableColumns" style="width:40px;" value="2" \/><\/div><div><label for="xheTableHeaders">{#table.headers}<\/label><select id="xheTableHeaders"><option selected="selected" value="">{#none}<\/option><option value="row">{#table.headersRow}<\/option><option value="col">{#table.headersCol}<\/option><option value="both">{#table.headersBoth}<\/option><\/select><\/div><div><label for="xheTableWidth">{#table.width}<\/label><input type="text" id="xheTableWidth" style="width:40px;" value="200" \/> <label for="xheTableHeight">{#table.height}<\/label><input type="text" id="xheTableHeight" style="width:40px;" value="" \/><\/div><div><label for="xheTableBorder">{#table.border}<\/label><input type="text" id="xheTableBorder" style="width:40px;" value="1" \/><\/div><div><label for="xheTableCellSpacing">{#table.cellSpacing}<\/label><input type="text" id="xheTableCellSpacing" style="width:40px;" value="1" \/> <label for="xheTableCellPadding">{#table.cellPadding}<\/label><input type="text" id="xheTableCellPadding" style="width:40px;" value="1" \/><\/div><div><label for="xheTableAlign">{#table.align}<\/label><select id="xheTableAlign"><option selected="selected" value="">{#default}<\/option><option value="left">{#table.alignLeft}<\/option><option value="center">{#table.alignCenter}<\/option><option value="right">{#table.alignRight}<\/option><\/select><\/div><div><label for="xheTableCaption">{#table.caption}<\/label><input type="text" id="xheTableCaption" \/><\/div><div style="text-align:right;"><input type="button" id="xheSave" value="{#dialogOk}" \/><\/div>',htmlAbout='<div style="font:12px Arial;width:245px;word-wrap:break-word;word-break:break-all;outline:none;" role="dialog" tabindex="-1"><p><span style="font-size:20px;color:#1997DF;">xhEditor<\/span><br \/>v1.2.1 (build 130225)<\/p><p>{#aboutXheditor}<\/p><p>Copyright &copy; <a href="http:\/\/xheditor.com\/" target="_blank">xhEditor.com<\/a>. All rights reserved.<\/p><\/div>',itemEmots={"default":{name:"{#default}",width:24,height:24,line:7,list:["smile","tongue","titter","laugh","sad","wronged","fastcry","cry","wail","mad","knock","curse","crazy","angry","ohmy","awkward","panic","shy","cute","envy","proud","struggle","quiet","shutup","doubt","despise","sleep","bye"]}},arrTools={Cut:{t:"Cut"},Copy:{t:"Copy"},Paste:{t:"Paste"},Pastetext:{t:"Pastetext",h:isIE?0:1},Blocktag:{t:"Blocktag",h:1},Fontface:{t:"Fontface",h:1},FontSize:{t:"FontSize",h:1},Bold:{t:"Bold",s:"Ctrl+B"},Italic:{t:"Italic",s:"Ctrl+I"},Underline:{t:"Underline",s:"Ctrl+U"},Strikethrough:{t:"Strikethrough"},FontColor:{t:"FontColor",h:1},BackColor:{t:"BackColor",h:1},SelectAll:{t:"SelectAll"},Removeformat:{t:"Removeformat"},Align:{t:"Align",h:1},List:{t:"List",h:1},Outdent:{t:"Outdent"},Indent:{t:"Indent"},Link:{t:"Link",s:"Ctrl+L",h:1},Unlink:{t:"Unlink"},Anchor:{t:"Anchor",h:1},Img:{t:"Img",h:1},Flash:{t:"Flash",h:1},Media:{t:"Media",h:1},Hr:{t:"Hr"},Emot:{t:"Emot",s:"ctrl+e",h:1},Table:{t:"Table",h:1},Source:{t:"Source"},Preview:{t:"Preview"},Print:{t:"Print",s:"Ctrl+P"},Fullscreen:{t:"Fullscreen",s:"Esc"},About:{t:"About"}},toolsThemes={mini:"Bold,Italic,Underline,Strikethrough,|,Align,List,|,Link,Img",simple:"Blocktag,Fontface,FontSize,Bold,Italic,Underline,Strikethrough,FontColor,BackColor,|,Align,List,Outdent,Indent,|,Link,Img,Emot",full:"Cut,Copy,Paste,Pastetext,|,Blocktag,Fontface,FontSize,Bold,Italic,Underline,Strikethrough,FontColor,BackColor,SelectAll,Removeformat,|,Align,List,Outdent,Indent,|,Link,Unlink,Anchor,Img,Flash,Media,Hr,Emot,Table,|,Source,Preview,Print,Fullscreen"};toolsThemes.mfull=toolsThemes.full.replace(\/\\|(,Align)\/i,"\/$1");var arrDbClick={a:"Link",img:"Img",embed:"Embed"},uploadInputname="filedata",arrEntities={"<":"&lt;",">":"&gt;",'"':"&quot;","\\u00ae":"&reg;","\\u00a9":"&copy;"},regEntities=\/[<>"\\u00ae\\u00a9]\/g,Xheditor=function(textarea,options){function checkDblClick(e){var t=e.target,i=arrDbClick[t.tagName.toLowerCase()];if(i){if("Embed"===i){var s={"application\/x-shockwave-flash":"Flash","application\/x-mplayer2":"Media"};i=s[t.type.toLowerCase()]}_this.exec(i)}}function checkEsc(e){return 27===e.which?(bShowModal?_this.removeModal():bShowPanel&&_this.hidePanel(),!1):undefined}function loadReset(){setTimeout(_this.setSource,10)}function saveResult(){_this.getSource()}function cleanPaste(e){var t,i,s;if(e&&(t=e.originalEvent.clipboardData)&&(i=t.items)&&(s=i[0])&&"file"==s.kind&&s.type.match(\/^image\\\/\/i)){var a=s.getAsFile(),n=new FileReader;return n.onload=function(){var e='<img src="'+event.target.result+'">';e=replaceRemoteImg(e),_this.pasteHTML(e)},n.readAsDataURL(a),!1}var o=settings.cleanPaste;if(0===o||bSource||bCleanPaste)return!0;bCleanPaste=!0,_this.saveBookmark();var l=isIE?"pre":"div",r=$("<"+l+' class="xhe-paste">\\ufeff\\ufeff<\/'+l+">",_doc).appendTo(_doc.body),h=r[0],c=_this.getSel(),d=_this.getRng(!0);r.css("top",_jWin.scrollTop()),isIE?(d.moveToElementText(h),d.select()):(d.selectNodeContents(h),c.removeAllRanges(),c.addRange(d)),setTimeout(function(){var e,t=3===o;if(t)r.html(r.html().replace(\/<br(\\s+[^<>]*)?>\/gi,"\\n")),e=r.text();else{var i=$(".xhe-paste",_doc.body),s=[];i.each(function(e,t){0==$(t).find(".xhe-paste").length&&s.push(t.innerHTML)}),e=s.join("<br \/>")}r.remove(),_this.loadBookmark(),e=e.replace(\/^[\\s\\uFEFF]+|[\\s\\uFEFF]+$\/g,""),e&&(t?_this.pasteText(e):(e=_this.cleanHTML(e),e=_this.cleanWord(e),e=_this.formatXHTML(e),(!settings.onPaste||settings.onPaste&&(e=settings.onPaste(e))!==!1)&&(e=replaceRemoteImg(e),_this.pasteHTML(e)))),bCleanPaste=!1},0)}function replaceRemoteImg(e){var t=settings.localUrlTest,i=settings.remoteImgSaveUrl;if(t&&i){var s=[],a=0;e=e.replace(\/(<img)((?:\\s+[^>]*?)?(?:\\s+src="\\s*([^"]+)\\s*")(?: [^>]*)?)(\\\/?>)\/gi,function(e,i,n,o,l){return!\/^(https?|data:image)\/i.test(o)||\/_xhe_temp\/.test(n)||t.test(o)||(s[a]=o,n=n.replace(\/\\s+(width|height)="[^"]*"\/gi,"").replace(\/\\s+src="[^"]*"\/gi,' src="'+skinPath+'img\/waiting.gif" remoteimg="'+a++ +'"')),i+n+l}),s.length>0&&$.post(i,{urls:s.join("|")},function(e){e=e.split("|"),$("img[remoteimg]",_this.doc).each(function(){var t=$(this);xheAttr(t,"src",e[t.attr("remoteimg")]),t.removeAttr("remoteimg")})})}return e}function setCSS(e){try{_this._exec("styleWithCSS",e,!0)}catch(t){try{_this._exec("useCSS",!e,!0)}catch(t){}}}function setOpts(){if(bInit&&!bSource){setCSS(!1);try{_this._exec("enableObjectResizing",!0,!0)}catch(e){}if(isIE)try{_this._exec("BackgroundImageCache",!0,!0)}catch(e){}}}function forcePtag(e){if(bSource||13!==e.which||e.shiftKey||e.ctrlKey||e.altKey)return!0;var t=_this.getParent("p,h1,h2,h3,h4,h5,h6,pre,address,div,li");return t.is("li")?!0:settings.forcePtag?(0===t.length&&_this._exec("formatblock","<p>"),undefined):(_this.pasteHTML("<br \/>"),isIE&&t.length>0&&2===_this.getRng().parentElement().childNodes.length&&_this.pasteHTML("<br \/>"),!1)}function fixFullHeight(){isMozilla||isWebkit||(bFullscreen&&_jArea.height("100%").css("height",_jArea.outerHeight()-_jTools.outerHeight()),isIE&&_jTools.hide().show())}function fixAppleSel(e){if(e=e.target,e.tagName.match(\/(img|embed)\/i)){var t=_this.getSel(),i=_this.getRng(!0);i.selectNode(e),t.removeAllRanges(),t.addRange(i)}}function xheAttr(e,t,i){if(!t)return!1;var s="_xhe_"+t;return i&&(urlType&&(i=getLocalUrl(i,urlType,urlBase)),e.attr(t,urlBase?getLocalUrl(i,"abs",urlBase):i).removeAttr(s).attr(s,i)),e.attr(s)||e.attr(t)}function clickCancelPanel(){bClickCancel&&_this.hidePanel()}function checkShortcuts(e){if(bSource)return!0;var t=e.which,i=specialKeys[t],s=i?i:String.fromCharCode(t).toLowerCase();sKey="",sKey+=e.ctrlKey?"ctrl+":"",sKey+=e.altKey?"alt+":"",sKey+=e.shiftKey?"shift+":"",sKey+=s;var a,n=arrShortCuts[sKey];for(a in n){if(a=n[a],!$.isFunction(a))return _this.exec(a),!1;if(a.call(_this)===!1)return!1}}function is(e,t){var i=typeof e;return t?"array"===t&&e.hasOwnProperty&&e instanceof Array?!0:i===t:"undefined"!=i}function getLocalUrl(e,t,i){if(e.match(\/^(\\w+):\\\/\\\/\/i)&&!e.match(\/^https?:\/i)||\/^#\/i.test(e)||\/^data:\/i.test(e))return e;var s=i?$('<a href="'+i+'" \/>')[0]:location,a=s.protocol,n=s.host,o=s.hostname,l=s.port,r=s.pathname.replace(\/\\\\\/g,"\/").replace(\/[^\\\/]+$\/i,"");if(""===l&&(l="80"),""===r?r="\/":"\/"!==r.charAt(0)&&(r="\/"+r),e=$.trim(e),"abs"!==t&&(e=e.replace(RegExp(a+"\\\\\/\\\\\/"+o.replace(\/\\.\/g,"\\\\.")+"(?::"+l+")"+("80"===l?"?":"")+"(\/|$)","i"),"\/")),"rel"===t&&(e=e.replace(RegExp("^"+r.replace(\/([\\\/\\.\\+\\[\\]\\(\\)])\/g,"\\\\$1"),"i"),"")),"rel"!==t&&(e.match(\/^(https?:\\\/\\\/|\\\/)\/i)||(e=r+e),"\/"===e.charAt(0))){var h,c,d=[],u=e.split("\/"),p=u.length;for(c=0;p>c;c++)h=u[c],".."===h?d.pop():""!==h&&"."!==h&&d.push(h);""===u[p-1]&&d.push(""),e="\/"+d.join("\/")}return"abs"!==t||e.match(\/^https?:\\\/\\\/\/i)||(e=a+"\/\/"+n+e),e=e.replace(\/(https?:\\\/\\\/[^:\\\/?#]+):80(\\\/|$)\/i,"$1$2")}function checkFileExt(e,t){return"*"===t||e.match(RegExp(".("+t.replace(\/,\/g,"|")+")$","i"))?!0:(alert(getLang("upload.extLimit",t)),!1)}function formatBytes(e){var t=["Byte","KB","MB","GB","TB","PB"],i=Math.floor(Math.log(e)\/Math.log(1024));return(e\/Math.pow(1024,Math.floor(i))).toFixed(2)+t[i]}function returnFalse(){return!1}var _this=this,_text=textarea,_jText=$(_text),_jForm=_jText.closest("form"),_jTools,_jArea,_win,_jWin,_doc,_jDoc,bookmark,bInit=!1,bSource=!1,bFullscreen=!1,bCleanPaste=!1,outerScroll,bShowBlocktag=!1,sLayoutStyle="",ev=null,timer,bDisableHoverExec=!1,bQuickHoverExec=!1,lastPoint=null,lastAngle=null,editorHeight=0,settings=_this.settings=$.extend({},XHEDITOR.settings,options),plugins=settings.plugins,strPlugins=[];if(plugins&&(arrTools=$.extend({},arrTools,plugins),$.each(plugins,function(e){strPlugins.push(e)}),strPlugins=strPlugins.join(",")),settings.tools.match(\/^\\s*(m?full|simple|mini)\\s*$\/i)){var toolsTheme=toolsThemes[$.trim(settings.tools)];settings.tools=settings.tools.match(\/m?full\/i)&&plugins?toolsTheme.replace("Table","Table,"+strPlugins):toolsTheme}settings.tools.match(\/(^|,)\\s*About\\s*(,|$)\/i)||(settings.tools+=",About"),settings.tools=settings.tools.split(","),settings.editorRoot&&(editorRoot=settings.editorRoot),bAir===!1&&(editorRoot=getLocalUrl(editorRoot,"abs")),settings.urlBase&&(settings.urlBase=getLocalUrl(settings.urlBase,"abs"));var idCSS="xheCSS_"+settings.skin,idContainer="xhe"+xCount+"_container",idTools="xhe"+xCount+"_Tool",idIframeArea="xhe"+xCount+"_iframearea",idIframe="xhe"+xCount+"_iframe",idFixFFCursor="xhe"+xCount+"_fixffcursor",headHTML="",bodyClass="",skinPath=editorRoot+"xheditor_skin\/"+settings.skin+"\/",arrEmots=itemEmots,urlType=settings.urlType,urlBase=settings.urlBase,emotPath=settings.emotPath,emotPath=emotPath?emotPath:editorRoot+"xheditor_emot\/",selEmotGroup="";arrEmots=$.extend({},arrEmots,settings.emots),emotPath=getLocalUrl(emotPath,"rel",urlBase?urlBase:null),bShowBlocktag=settings.showBlocktag,bShowBlocktag&&(bodyClass+=" showBlocktag");var arrShortCuts=[];this.init=function(){function e(e){var t,i=$(e.target);(t=i.css("width"))&&i.css("width","").attr("width",t.replace(\/[^0-9%]+\/g,"")),(t=i.css("height"))&&i.css("height","").attr("height",t.replace(\/[^0-9%]+\/g,""))}0===$("#"+idCSS).length&&$("head").append('<link id="'+idCSS+'" rel="stylesheet" type="text\/css" href="'+skinPath+'ui.css" \/>');var t=_jText.outerWidth(),i=_jText.outerHeight(),s=settings.width||_text.style.width||(t>10?t:0);editorHeight=settings.height||_text.style.height||(i>10?i:150),\/^\\d+(?:\\.\\d+)?$\/.test(s)&&(s+="px"),is(editorHeight,"string")&&(editorHeight=editorHeight.replace(\/[^\\d]+\/g,""));var a,n,o=settings.background||_text.style.background,l=['<span class="xheGStart"\/>'],r=\/\\||\\\/\/i;$.each(settings.tools,function(e,t){if(t.match(r)&&l.push('<span class="xheGEnd"\/>'),"|"===t)l.push('<span class="xheSeparator"\/>');else if("\/"===t)l.push("<br \/>");else{if(a=arrTools[t],!a)return;n=a.c?a.c:"xheIcon xheBtn"+t,l.push('<span><a href="#" title="{#'+a.t+'}" cmd="'+t+'" class="xheButton xheEnabled" tabindex="-1" role="button"><span class="'+n+'" unselectable="on" style="font-size:0;color:transparent;text-indent:-999px;">'+a.t+"<\/span><\/a><\/span>"),a.s&&_this.addShortcuts(a.s,t)}t.match(r)&&l.push('<span class="xheGStart"\/>')}),l.push('<span class="xheGEnd"\/><br \/>'),_jText.after($('<input type="text" id="'+idFixFFCursor+'" style="position:absolute;display:none;" \/><span id="'+idContainer+'" class="xhe_'+settings.skin+'" style="display:none"><table cellspacing="0" cellpadding="0" class="xheLayout" style="'+("0px"!=s?"width:"+s+";":"")+"height:"+editorHeight+'px;" role="presentation"><tr><td id="'+idTools+'" class="xheTool" unselectable="on" style="height:1px;" role="presentation"><\/td><\/tr><tr><td id="'+idIframeArea+'" class="xheIframeArea" role="presentation"><iframe frameborder="0" id="'+idIframe+'" src="javascript:;" style="width:100%;"><\/iframe><\/td><\/tr><\/table><\/span>')),_jTools=$("#"+idTools),_jArea=$("#"+idIframeArea),headHTML='<meta http-equiv="Content-Type" content="text\/html; charset=utf-8" \/><link rel="stylesheet" href="'+skinPath+'iframe.css"\/>';var h=settings.loadCSS;if(h)if(is(h,"array"))for(var c in h)headHTML+='<link rel="stylesheet" href="'+h[c]+'"\/>';else headHTML+=h.match(\/\\s*<style(\\s+[^>]*?)?>[\\s\\S]+?<\\\/style>\\s*\/i)?h:'<link rel="stylesheet" href="'+h+'"\/>';var d='<!DOCTYPE html><html xmlns="http:\/\/www.w3.org\/1999\/xhtml"><head>'+headHTML+"<title>{#defaultReadTip} "+(settings.readTip?settings.readTip:"")+"<\/title>";o&&(d+="<style>html{background:"+o+";}<\/style>"),d+='<\/head><body spellcheck="0" class="editMode'+bodyClass+'"><\/body><\/html>',_this.win=_win=$("#"+idIframe)[0].contentWindow,_jWin=$(_win);try{this.doc=_doc=_win.document,_jDoc=$(_doc),_doc.open(),_doc.write(getLang(d)),_doc.close(),isIE?_doc.body.contentEditable="true":_doc.designMode="On"}catch(u){}setTimeout(setOpts,300),_this.setSource(),_win.setInterval=null,_jTools.append(getLang(l.join(""))).bind("mousedown contextmenu",returnFalse).click(function(e){var t=$(e.target).closest("a");return t.is(".xheEnabled")&&(clearTimeout(timer),_jTools.find("a").attr("tabindex","-1"),ev=e,_this.exec(t.attr("cmd"))),!1}),_jTools.find(".xheButton").hover(function(e){var t=$(this),i=settings.hoverExecDelay,s=lastAngle;if(lastAngle=null,-1===i||bDisableHoverExec||!t.is(".xheEnabled"))return!1;if(s&&s>10)return bDisableHoverExec=!0,setTimeout(function(){bDisableHoverExec=!1},100),!1;var a=t.attr("cmd"),n=1===arrTools[a].h;return n?(bQuickHoverExec&&(i=0),i>=0&&(timer=setTimeout(function(){ev=e,lastPoint={x:ev.clientX,y:ev.clientY},_this.exec(a)},i)),undefined):(_this.hidePanel(),!1)},function(){lastPoint=null,timer&&clearTimeout(timer)}).mousemove(function(e){if(lastPoint){var t={x:e.clientX-lastPoint.x,y:e.clientY-lastPoint.y};if(Math.abs(t.x)>1||Math.abs(t.y)>1){if(t.x>0&&t.y>0){var i=Math.round(Math.atan(t.y\/t.x)\/.017453293);lastAngle=lastAngle?(lastAngle+i)\/2:i}else lastAngle=null;lastPoint={x:e.clientX,y:e.clientY}}}}),_jPanel=$("#xhePanel"),_jShadow=$("#xheShadow"),_jCntLine=$("#xheCntLine"),0===_jPanel.length&&(_jPanel=$('<div id="xhePanel"><\/div>').mousedown(function(e){e.stopPropagation()}),_jShadow=$('<div id="xheShadow"><\/div>'),_jCntLine=$('<div id="xheCntLine"><\/div>'),setTimeout(function(){$(document.body).append(_jPanel).append(_jShadow).append(_jCntLine)},10)),$("#"+idContainer).show(),_jText.hide(),_jArea.css("height",editorHeight-_jTools.outerHeight()),isIE&8>browerVer&&setTimeout(function(){_jArea.css("height",editorHeight-_jTools.outerHeight())},1),_jText.focus(_this.focus),_jForm.submit(saveResult).bind("reset",loadReset),settings.submitID&&$("#"+settings.submitID).mousedown(saveResult),$(window).bind("unload beforeunload",saveResult).bind("resize",fixFullHeight),$(document).mousedown(clickCancelPanel),bCheckEscInit||($(document).keydown(checkEsc),bCheckEscInit=!0),_jWin.focus(function(){settings.focus&&settings.focus()}).blur(function(){settings.blur&&settings.blur()}),isWebkit&&_jWin.click(fixAppleSel),_jDoc.mousedown(clickCancelPanel).keydown(checkShortcuts).keypress(forcePtag).dblclick(checkDblClick).bind("mousedown click",function(e){_jText.trigger(e.type)}),isIE&&(_jDoc.keydown(function(e){var t=_this.getRng();return 8===e.which&&t.item?($(t.item(0)).remove(),!1):undefined}),_jDoc.bind("controlselect",function(t){t=t.target,$.nodeName(t,"IMG")&&$(t).unbind("resizeend",e).bind("resizeend",e)})),_jDoc.keydown(function(e){var t=e.which;return e.altKey&&t>=49&&57>=t?(_jTools.find("a").attr("tabindex","0"),_jTools.find(".xheGStart").eq(t-49).next().find("a").focus(),_doc.title="\\ufeff\\ufeff",!1):undefined}).click(function(){_jTools.find("a").attr("tabindex","-1")}),_jTools.keydown(function(e){var t=e.which;if(27==t)_jTools.find("a").attr("tabindex","-1"),_this.focus();else if(e.altKey&&t>=49&&57>=t)return _jTools.find(".xheGStart").eq(t-49).next().find("a").focus(),!1});var p=$(_doc.documentElement);isOpera?p.bind("keydown",function(e){e.ctrlKey&&86===e.which&&cleanPaste()}):p.bind(isIE?"beforepaste":"paste",cleanPaste),settings.disableContextmenu&&p.bind("contextmenu",returnFalse),settings.html5Upload&&p.bind("dragenter dragover",function(e){var t;return(t=e.originalEvent.dataTransfer.types)&&-1!==$.inArray("Files",t)?!1:undefined}).bind("drop",function(e){function t(e){var t,i,s;for(a=0;e.length>a;a++){if(i=e[a].name.replace(\/.+\\.\/,""),!(t=o.match(RegExp("(\\\\w+):[^:]*,"+i+"(?:,|$)","i"))))return 1;if(s){if(s!==t[1])return 2}else s=t[1]}return s}var i,s=e.originalEvent.dataTransfer;if(s&&(i=s.files)&&i.length>0){var a,n,o,l=["Link","Img","Flash","Media"],r=[];for(a in l)n=l[a],settings["up"+n+"Url"]&&settings["up"+n+"Url"].match(\/^[^!].*\/i)&&r.push(n+":,"+settings["up"+n+"Ext"]);return 0===r.length?!1:(o=r.join(","),n=t(i),1===n?alert(getLang("upload.extLimit",o.replace(\/\\w+:,\/g,""))):2===n?alert(getLang("upload.typeLimit")):n&&_this.startUpload(i,settings["up"+n+"Url"],"*",function(e){var t,i=[],s=settings.onUpload;s&&s(e);for(var a=0,o=e.length;o>a;a++)t=e[a],url=is(t,"string")?t:t.url,"!"===url.substr(0,1)&&(url=url.substr(1)),i.push(url);_this.exec(n),$("#xhe"+n+"Url").val(i.join(" ")),$("#xheSave").click()}),!1)}});var g=settings.shortcuts;g&&$.each(g,function(e,t){_this.addShortcuts(e,t)}),xCount++,bInit=!0,settings.fullscreen?_this.toggleFullscreen():settings.sourceMode&&setTimeout(_this.toggleSource,20);var f=settings.plugins;return f&&$.each(f,function(e,t){var i=t.i;i!==undefined&&i(_this)}),!0},this.remove=function(){_this.hidePanel(),saveResult(),_jText.unbind("focus",_this.focus),_jForm.unbind("submit",saveResult).unbind("reset",loadReset),settings.submitID&&$("#"+settings.submitID).unbind("mousedown",saveResult),$(window).unbind("unload beforeunload",saveResult).unbind("resize",fixFullHeight),$(document).unbind("mousedown",clickCancelPanel),$("#"+idContainer).remove(),$("#"+idFixFFCursor).remove(),_jText.show(),bInit=!1},this.saveBookmark=function(){if(!bSource){_this.focus();var e=_this.getRng();e=e.cloneRange?e.cloneRange():e,bookmark={top:_jWin.scrollTop(),rng:e}}},this.loadBookmark=function(){if(!bSource&&bookmark){_this.focus();var e=bookmark.rng;if(isIE)e.select();else{var t=_this.getSel();t.removeAllRanges(),t.addRange(e)}_jWin.scrollTop(bookmark.top),bookmark=null}},this.focus=function(){if(bSource?$("#sourceCode",_doc).focus():_win.focus(),isIE){var e=_this.getRng();e.parentElement&&e.parentElement().ownerDocument!==_doc&&_this.setTextCursor()}return!1},this.setTextCursor=function(e){var t=_this.getRng(!0),i=_doc.body;if(isIE)t.moveToElementText(i);else{for(var s=e?"lastChild":"firstChild";3!=i.nodeType&&i[s];)i=i[s];t.selectNode(i)}if(t.collapse(e?!1:!0),isIE)t.select();else{var a=_this.getSel();a.removeAllRanges(),a.addRange(t)}},this.getSel=function(){return _doc.selection?_doc.selection:_win.getSelection()},this.getRng=function(e){var t,i;try{e||(t=_this.getSel(),i=t.createRange?t.createRange():t.rangeCount>0?t.getRangeAt(0):null),i||(i=_doc.body.createTextRange?_doc.body.createTextRange():_doc.createRange())}catch(s){}return i},this.getParent=function(e){var t,i=_this.getRng();return isIE?t=i.item?i.item(0):i.parentElement():(t=i.commonAncestorContainer,i.collapsed||i.startContainer===i.endContainer&&2>i.startOffset-i.endOffset&&i.startContainer.hasChildNodes()&&(t=i.startContainer.childNodes[i.startOffset])),e=e?e:"*",t=$(t),t.is(e)||(t=$(t).closest(e)),t},this.getSelect=function(e){var t=_this.getSel(),i=_this.getRng(),s=!0;if(s=!i||i.item?!1:!t||0===i.boundingWidth||i.collapsed,"text"===e)return s?"":i.text||(t.toString?""+t:"");var a;if(i.cloneContents){var n,o=$("<div><\/div>");n=i.cloneContents(),n&&o.append(n),a=o.html()}else a=is(i.item)?i.item(0).outerHTML:is(i.htmlText)?i.htmlText:""+i;return s&&(a=""),a=_this.processHTML(a,"read"),a=_this.cleanHTML(a),a=_this.formatXHTML(a)},this.pasteHTML=function(e,t){if(bSource)return!1;_this.focus(),e=_this.processHTML(e,"write");var i=_this.getSel(),s=_this.getRng();if(t!==undefined){if(s.item){var a=s.item(0);s=_this.getRng(!0),s.moveToElementText(a),s.select()}s.collapse(t)}if(e+="<"+(isIE?"img":"span")+' id="_xhe_temp" width="0" height="0" \/>',s.insertNode){if($(s.startContainer).closest("style,script").length>0)return!1;s.deleteContents(),s.insertNode(s.createContextualFragment(e))}else"control"===i.type.toLowerCase()&&(i.clear(),s=_this.getRng()),s.pasteHTML(e);var n=$("#_xhe_temp",_doc),o=n[0];isIE?(s.moveToElementText(o),s.select()):(s.selectNode(o),i.removeAllRanges(),i.addRange(s)),n.remove()},this.pasteText=function(e,t){e||(e=""),e=_this.domEncode(e),e=e.replace(\/\\r?\\n\/g,"<br \/>"),_this.pasteHTML(e,t)},this.appendHTML=function(e){return bSource?!1:(_this.focus(),e=_this.processHTML(e,"write"),$(_doc.body).append(e),_this.setTextCursor(!0),undefined)},this.domEncode=function(e){return e.replace(regEntities,function(e){return arrEntities[e]})},this.setSource=function(e){bookmark=null,"string"!=typeof e&&""!==e&&(e=_text.value),bSource?$("#sourceCode",_doc).val(e):(settings.beforeSetSource&&(e=settings.beforeSetSource(e)),e=_this.cleanHTML(e),e=_this.formatXHTML(e),e=_this.processHTML(e,"write"),isIE?(_doc.body.innerHTML='<img id="_xhe_temp" width="0" height="0" \/>'+e,$("#_xhe_temp",_doc).remove()):_doc.body.innerHTML=e)},this.processHTML=function(e,t){function i(e,t,i,s,a,o){var l,r,h,c,d="";if(l=s.match(\/font-family\\s*:\\s*([^;"]+)\/i),l&&(d+=' face="'+l[1]+'"'),r=s.match(\/font-size\\s*:\\s*([^;"]+)\/i)){r=r[1].toLowerCase();for(var u=0;n.length>u;u++)if(r===n[u].n||r===n[u].s){h=u+1;break}h&&(d+=' size="'+h+'"',s=s.replace(\/(^|;)(\\s*font-size\\s*:\\s*[^;"]+;?)+\/gi,"$1"))}if(c=s.match(\/(?:^|[\\s;])color\\s*:\\s*([^;"]+)\/i)){var p;if(p=c[1].match(\/\\s*rgb\\s*\\(\\s*(\\d+)\\s*,\\s*(\\d+)\\s*,\\s*(\\d+)\\s*\\)\/i)){c[1]="#";for(var g=1;3>=g;g++)c[1]+=("0"+(p[g]-0).toString(16)).slice(-2)}c[1]=c[1].replace(\/^#([0-9a-f])([0-9a-f])([0-9a-f])$\/i,"#$1$1$2$2$3$3"),d+=' color="'+c[1]+'"'}return s=s.replace(\/(^|;)(\\s*(font-family|color)\\s*:\\s*[^;"]+;?)+\/gi,"$1"),""!==d?(s&&(d+=' style="'+s+'"'),"<font"+(i?i:"")+d+(a?a:"")+">"+o+"<\/font>"):e}function s(e,t,i,s,a){for(var n,l,r=(i?i:"")+(s?s:""),h=[],c=[],d=0;o.length>d;d++)n=o[d].r,l=o[d].t,r=r.replace(n,function(){return h.push("<"+l+">"),c.push("<\/"+l+">"),""});return r=r.replace(\/\\s+style\\s*=\\s*"\\s*"\/i,""),(r?"<span"+r+">":"")+h.join("")+a+c.join("")+(r?"<\/span>":"")}var a=' class="Apple-style-span"',n=settings.listFontsize;if("write"===t)e=e.replace(\/(<(\\\/?)(\\w+))((?:\\s+[\\w\\-:]+\\s*=\\s*(?:"[^"]*"|'[^']*'|[^>\\s]+))*)\\s*((\\\/?)>)\/g,function(e,t,i,s,n,o,l){s=s.toLowerCase(),isMozilla?"strong"===s?s="b":"em"===s&&(s="i"):isWebkit&&("strong"===s?(s="span",i||(n+=a+' style="font-weight: bold;"')):"em"===s?(s="span",i||(n+=a+' style="font-style: italic;"')):"u"===s?(s="span",i||(n+=a+' style="text-decoration: underline;"')):"strike"===s&&(s="span",i||(n+=a+' style="text-decoration: line-through;"')));var r,h="";if("del"===s)s="strike";else if("img"===s)n=n.replace(\/\\s+emot\\s*=\\s*("[^"]*"|'[^']*'|[^>\\s]+)\/i,function(e,t){return r=t.match(\/^(["']?)(.*)\\1\/)[2],r=r.split(","),r[1]||(r[1]=r[0],r[0]=""),"default"===r[0]&&(r[0]=""),settings.emotMark?e:""});else if("a"===s)!n.match(\/ href=[^ ]\/i)&&n.match(\/ name=[^ ]\/i)&&(h+=" xhe-anchor"),l&&(o="><\/a>");else if("table"===s&&!i){var c=n.match(\/\\s+border\\s*=\\s*("[^"]*"|'[^']*'|[^>\\s]+)\/i);(!c||c[1].match(\/^(["']?)\\s*0\\s*\\1$\/))&&(h+=" xhe-border")}var d;if(n=n.replace(\/\\s+([\\w\\-:]+)\\s*=\\s*("[^"]*"|'[^']*'|[^>\\s]+)\/g,function(e,t,i){return t=t.toLowerCase(),i=i.match(\/^(["']?)(.*)\\1\/)[2],aft="",isIE&&t.match(\/^(disabled|checked|readonly|selected)$\/)&&i.match(\/^(false|0)$\/i)?"":"img"===s&&r&&"src"===t?"":(t.match(\/^(src|href)$\/)&&(aft=" _xhe_"+t+'="'+i+'"',urlBase&&(i=getLocalUrl(i,"abs",urlBase))),h&&"class"===t&&(i+=" "+h,h=""),isWebkit&&"style"===t&&"span"===s&&i.match(\/(^|;)\\s*(font-family|font-size|color|background-color)\\s*:\\s*[^;]+\\s*(;|$)\/i)&&(d=!0)," "+t+'="'+i+'"'+aft)}),r){var u=emotPath+(r[0]?r[0]:"default")+"\/"+r[1]+".gif";n+=' src="'+u+'" _xhe_src="'+u+'"'}return d&&(n+=a),h&&(n+=' class="'+h+'"'),"<"+i+s+n+o}),isIE&&(e=e.replace(\/&apos;\/gi,"&#39;")),isWebkit||(e=e.replace(\/<(span)(\\s+[^>]*?)?\\s+style\\s*=\\s*"((?:[^"]*?;)?\\s*(?:font-family|font-size|color)\\s*:[^"]*)"( [^>]*)?>(((?!<\\1(\\s+[^>]*?)?>)[\\s\\S]|<\\1(\\s+[^>]*?)?>((?!<\\1(\\s+[^>]*?)?>)[\\s\\S]|<\\1(\\s+[^>]*?)?>((?!<\\1(\\s+[^>]*?)?>)[\\s\\S])*?<\\\/\\1>)*?<\\\/\\1>)*?)<\\\/\\1>\/gi,i),e=e.replace(\/<(span)(\\s+[^>]*?)?\\s+style\\s*=\\s*"((?:[^"]*?;)?\\s*(?:font-family|font-size|color)\\s*:[^"]*)"( [^>]*)?>(((?!<\\1(\\s+[^>]*?)?>)[\\s\\S]|<\\1(\\s+[^>]*?)?>((?!<\\1(\\s+[^>]*?)?>)[\\s\\S])*?<\\\/\\1>)*?)<\\\/\\1>\/gi,i),e=e.replace(\/<(span)(\\s+[^>]*?)?\\s+style\\s*=\\s*"((?:[^"]*?;)?\\s*(?:font-family|font-size|color)\\s*:[^"]*)"( [^>]*)?>(((?!<\\1(\\s+[^>]*?)?>)[\\s\\S])*?)<\\\/\\1>\/gi,i)),e=e.replace(\/<(td|th)(\\s+[^>]*?)?>(\\s|&nbsp;)*<\\\/\\1>\/gi,"<$1$2>"+(isIE?"":"<br \/>")+"<\/$1>");else{if(isWebkit)for(var o=[{r:\/font-weight\\s*:\\s*bold;?\/gi,t:"strong"},{r:\/font-style\\s*:\\s*italic;?\/gi,t:"em"},{r:\/text-decoration\\s*:\\s*underline;?\/gi,t:"u"},{r:\/text-decoration\\s*:\\s*line-through;?\/gi,t:"strike"}],l=0;2>l;l++)e=e.replace(\/<(span)(\\s+[^>]*?)?\\s+class\\s*=\\s*"Apple-style-span"(\\s+[^>]*?)?>(((?!<\\1(\\s+[^>]*?)?>)[\\s\\S]|<\\1(\\s+[^>]*?)?>((?!<\\1(\\s+[^>]*?)?>)[\\s\\S]|<\\1(\\s+[^>]*?)?>((?!<\\1(\\s+[^>]*?)?>)[\\s\\S])*?<\\\/\\1>)*?<\\\/\\1>)*?)<\\\/\\1>\/gi,s),e=e.replace(\/<(span)(\\s+[^>]*?)?\\s+class\\s*=\\s*"Apple-style-span"(\\s+[^>]*?)?>(((?!<\\1(\\s+[^>]*?)?>)[\\s\\S]|<\\1(\\s+[^>]*?)?>((?!<\\1(\\s+[^>]*?)?>)[\\s\\S])*?<\\\/\\1>)*?)<\\\/\\1>\/gi,s),e=e.replace(\/<(span)(\\s+[^>]*?)?\\s+class\\s*=\\s*"Apple-style-span"(\\s+[^>]*?)?>(((?!<\\1(\\s+[^>]*?)?>)[\\s\\S])*?)<\\\/\\1>\/gi,s);e=e.replace(\/(<(\\w+))((?:\\s+[\\w\\-:]+\\s*=\\s*(?:"[^"]*"|'[^']*'|[^>\\s]+))*)\\s*(\\\/?>)\/g,function(e,t,i,s,a){i=i.toLowerCase();$/;"	p
var.specialKeys.120	js/xheditor.min.js	/^(function(){var e={};window.XHEDITOR=e})(),function(e,t){e.mapLang={},e.setLang=function(i,s){s===t&&(s=i,i=""),""!==i&&(i+=".");var a,n;for(var o in s)n=s[o],a=i+o,"string"==typeof n||n instanceof Array?e.mapLang[a]=n:e.setLang(a,n)},e.getLang=function(i){var s=e.mapLang[i];if(s===t&&(s=i.replace(\/{#([^{}]+)}\/g,function(t,i){var s=e.mapLang[i];return s?s:i})),"string"==typeof s){var a=arguments;s=s.replace(\/{\\$(\\d+)}\/g,function(e,i){var s=a[parseInt(i,10)+1];return s!==t?s:e})}return s}}(XHEDITOR),function(XHEDITOR,$,undefined){var agent=navigator.userAgent.toLowerCase(),bMobile=\/mobile\/i.test(agent),browser=$.browser,browerVer=parseFloat(browser.version),isIE=browser.msie,isMozilla=browser.mozilla,isWebkit=browser.webkit,isOpera=browser.opera,isChrome=browser.chrome,bAir=agent.indexOf(" adobeair\/")>-1,xCount=0,bShowPanel=!1,bClickCancel=!0,bShowModal=!1,bCheckEscInit=!1,_jPanel,_jShadow,_jCntLine,_jPanelButton,jModal,jModalShadow,layerShadow,jOverlay,jHideSelect,onModalRemove,editorRoot,getLang=XHEDITOR.getLang;if($("script[src*=xheditor]").each(function(){var e=this.src;return e.match(\/xheditor[^\\\/]*\\.js\/i)?(editorRoot=e.replace(\/[\\?#].*$\/,"").replace(\/(^|[\\\/\\\\])[^\\\/]*$\/,"$1"),!1):undefined}),isIE){try{document.execCommand("BackgroundImageCache",!1,!0)}catch(e){}var jqueryVer=$.fn.jquery;jqueryVer&&jqueryVer.match(\/^1\\.[67]\/)&&($.attrHooks.width=$.attrHooks.height=null)}var specialKeys={27:"esc",9:"tab",32:"space",13:"enter",8:"backspace",145:"scroll",20:"capslock",144:"numlock",19:"pause",45:"insert",36:"home",46:"del",35:"end",33:"pageup",34:"pagedown",37:"left",38:"up",39:"right",40:"down",112:"f1",113:"f2",114:"f3",115:"f4",116:"f5",117:"f6",118:"f7",119:"f8",120:"f9",121:"f10",122:"f11",123:"f12"},arrAlign=[{v:"justifyleft"},{v:"justifycenter"},{v:"justifyright"},{v:"justifyfull"}],arrList=[{v:"insertOrderedList"},{v:"insertUnorderedList"}],htmlPastetext='<div><label for="xhePastetextValue">{#PastetextTip}<\/label><\/div><div><textarea id="xhePastetextValue" wrap="soft" spellcheck="false" style="width:300px;height:100px;" \/><\/div><div style="text-align:right;"><input type="button" id="xheSave" value="{#dialogOk}" \/><\/div>',htmlLink='<div><label for="xheLinkUrl">{#link.url}<\/label><input type="text" id="xheLinkUrl" value="http:\/\/" class="xheText" \/><\/div><div><label for="xheLinkTarget">{#link.target}<\/label><select id="xheLinkTarget"><option selected="selected" value="">{#default}<\/option><option value="_blank">{#link.targetBlank}<\/option><option value="_self">{#link.targetSelf}<\/option><option value="_parent">{#link.targetParent}<\/option><\/select><\/div><div style="display:none"><label for="xheLinkText">{#link.linkText}<\/label><input type="text" id="xheLinkText" value="" class="xheText" \/><\/div><div style="text-align:right;"><input type="button" id="xheSave" value="{#dialogOk}" \/><\/div>',htmlAnchor='<div><label for="xheAnchorName">{#anchor.name}<\/label><input type="text" id="xheAnchorName" value="" class="xheText" \/><\/div><div style="text-align:right;"><input type="button" id="xheSave" value="{#dialogOk}" \/><\/div>',htmlImg='<div><label for="xheImgUrl">{#img.url}<\/label><input type="text" id="xheImgUrl" value="http:\/\/" class="xheText" \/><\/div><div><div><label for="xheImgAlt">{#img.alt}<\/label><input type="text" id="xheImgAlt" \/><\/div><div><label for="xheImgAlign">{#img.align}<\/label><select id="xheImgAlign"><option selected="selected" value="">{#default}<\/option><option value="left">{#img.alignLeft}<\/option><option value="right">{#img.alignRight}<\/option><option value="top">{#img.alignTop}<\/option><option value="middle">{#img.alignMiddle}<\/option><option value="baseline">{#img.alignBaseline}<\/option><option value="bottom">{#img.alignBottom}<\/option><\/select><\/div><div><label for="xheImgWidth">{#img.width}<\/label><input type="text" id="xheImgWidth" style="width:40px;" \/> <label for="xheImgHeight">{#img.height}<\/label><input type="text" id="xheImgHeight" style="width:40px;" \/><\/div><div><label for="xheImgBorder">{#img.border}<\/label><input type="text" id="xheImgBorder" style="width:40px;" \/><\/div><div><label for="xheImgHspace">{#img.hspace}<\/label><input type="text" id="xheImgHspace" style="width:40px;" \/> <label for="xheImgVspace">{#img.vspace}<\/label><input type="text" id="xheImgVspace" style="width:40px;" \/><\/div><div style="text-align:right;"><input type="button" id="xheSave" value="{#dialogOk}" \/><\/div>',htmlFlash='<div><label for="xheFlashUrl">{#flash.url}<\/label><input type="text" id="xheFlashUrl" value="http:\/\/" class="xheText" \/><\/div><div><label for="xheFlashWidth">{#flash.width}<\/label><input type="text" id="xheFlashWidth" style="width:40px;" value="480" \/> <label for="xheFlashHeight">{#flash.height}<\/label><input type="text" id="xheFlashHeight" style="width:40px;" value="400" \/><\/div><div style="text-align:right;"><input type="button" id="xheSave" value="{#dialogOk}" \/><\/div>',htmlMedia='<div><label for="xheMediaUrl">{#media.url}<\/label><input type="text" id="xheMediaUrl" value="http:\/\/" class="xheText" \/><\/div><div><label for="xheMediaWidth">{#media.width}<\/label><input type="text" id="xheMediaWidth" style="width:40px;" value="480" \/> <label for="xheMediaHeight">{#media.height}<\/label><input type="text" id="xheMediaHeight" style="width:40px;" value="400" \/><\/div><div style="text-align:right;"><input type="button" id="xheSave" value="{#dialogOk}" \/><\/div>',htmlTable='<div><label for="xheTableRows">{#table.rows}<\/label><input type="text" id="xheTableRows" style="width:40px;" value="3" \/> <label for="xheTableColumns">{#table.columns}<\/label><input type="text" id="xheTableColumns" style="width:40px;" value="2" \/><\/div><div><label for="xheTableHeaders">{#table.headers}<\/label><select id="xheTableHeaders"><option selected="selected" value="">{#none}<\/option><option value="row">{#table.headersRow}<\/option><option value="col">{#table.headersCol}<\/option><option value="both">{#table.headersBoth}<\/option><\/select><\/div><div><label for="xheTableWidth">{#table.width}<\/label><input type="text" id="xheTableWidth" style="width:40px;" value="200" \/> <label for="xheTableHeight">{#table.height}<\/label><input type="text" id="xheTableHeight" style="width:40px;" value="" \/><\/div><div><label for="xheTableBorder">{#table.border}<\/label><input type="text" id="xheTableBorder" style="width:40px;" value="1" \/><\/div><div><label for="xheTableCellSpacing">{#table.cellSpacing}<\/label><input type="text" id="xheTableCellSpacing" style="width:40px;" value="1" \/> <label for="xheTableCellPadding">{#table.cellPadding}<\/label><input type="text" id="xheTableCellPadding" style="width:40px;" value="1" \/><\/div><div><label for="xheTableAlign">{#table.align}<\/label><select id="xheTableAlign"><option selected="selected" value="">{#default}<\/option><option value="left">{#table.alignLeft}<\/option><option value="center">{#table.alignCenter}<\/option><option value="right">{#table.alignRight}<\/option><\/select><\/div><div><label for="xheTableCaption">{#table.caption}<\/label><input type="text" id="xheTableCaption" \/><\/div><div style="text-align:right;"><input type="button" id="xheSave" value="{#dialogOk}" \/><\/div>',htmlAbout='<div style="font:12px Arial;width:245px;word-wrap:break-word;word-break:break-all;outline:none;" role="dialog" tabindex="-1"><p><span style="font-size:20px;color:#1997DF;">xhEditor<\/span><br \/>v1.2.1 (build 130225)<\/p><p>{#aboutXheditor}<\/p><p>Copyright &copy; <a href="http:\/\/xheditor.com\/" target="_blank">xhEditor.com<\/a>. All rights reserved.<\/p><\/div>',itemEmots={"default":{name:"{#default}",width:24,height:24,line:7,list:["smile","tongue","titter","laugh","sad","wronged","fastcry","cry","wail","mad","knock","curse","crazy","angry","ohmy","awkward","panic","shy","cute","envy","proud","struggle","quiet","shutup","doubt","despise","sleep","bye"]}},arrTools={Cut:{t:"Cut"},Copy:{t:"Copy"},Paste:{t:"Paste"},Pastetext:{t:"Pastetext",h:isIE?0:1},Blocktag:{t:"Blocktag",h:1},Fontface:{t:"Fontface",h:1},FontSize:{t:"FontSize",h:1},Bold:{t:"Bold",s:"Ctrl+B"},Italic:{t:"Italic",s:"Ctrl+I"},Underline:{t:"Underline",s:"Ctrl+U"},Strikethrough:{t:"Strikethrough"},FontColor:{t:"FontColor",h:1},BackColor:{t:"BackColor",h:1},SelectAll:{t:"SelectAll"},Removeformat:{t:"Removeformat"},Align:{t:"Align",h:1},List:{t:"List",h:1},Outdent:{t:"Outdent"},Indent:{t:"Indent"},Link:{t:"Link",s:"Ctrl+L",h:1},Unlink:{t:"Unlink"},Anchor:{t:"Anchor",h:1},Img:{t:"Img",h:1},Flash:{t:"Flash",h:1},Media:{t:"Media",h:1},Hr:{t:"Hr"},Emot:{t:"Emot",s:"ctrl+e",h:1},Table:{t:"Table",h:1},Source:{t:"Source"},Preview:{t:"Preview"},Print:{t:"Print",s:"Ctrl+P"},Fullscreen:{t:"Fullscreen",s:"Esc"},About:{t:"About"}},toolsThemes={mini:"Bold,Italic,Underline,Strikethrough,|,Align,List,|,Link,Img",simple:"Blocktag,Fontface,FontSize,Bold,Italic,Underline,Strikethrough,FontColor,BackColor,|,Align,List,Outdent,Indent,|,Link,Img,Emot",full:"Cut,Copy,Paste,Pastetext,|,Blocktag,Fontface,FontSize,Bold,Italic,Underline,Strikethrough,FontColor,BackColor,SelectAll,Removeformat,|,Align,List,Outdent,Indent,|,Link,Unlink,Anchor,Img,Flash,Media,Hr,Emot,Table,|,Source,Preview,Print,Fullscreen"};toolsThemes.mfull=toolsThemes.full.replace(\/\\|(,Align)\/i,"\/$1");var arrDbClick={a:"Link",img:"Img",embed:"Embed"},uploadInputname="filedata",arrEntities={"<":"&lt;",">":"&gt;",'"':"&quot;","\\u00ae":"&reg;","\\u00a9":"&copy;"},regEntities=\/[<>"\\u00ae\\u00a9]\/g,Xheditor=function(textarea,options){function checkDblClick(e){var t=e.target,i=arrDbClick[t.tagName.toLowerCase()];if(i){if("Embed"===i){var s={"application\/x-shockwave-flash":"Flash","application\/x-mplayer2":"Media"};i=s[t.type.toLowerCase()]}_this.exec(i)}}function checkEsc(e){return 27===e.which?(bShowModal?_this.removeModal():bShowPanel&&_this.hidePanel(),!1):undefined}function loadReset(){setTimeout(_this.setSource,10)}function saveResult(){_this.getSource()}function cleanPaste(e){var t,i,s;if(e&&(t=e.originalEvent.clipboardData)&&(i=t.items)&&(s=i[0])&&"file"==s.kind&&s.type.match(\/^image\\\/\/i)){var a=s.getAsFile(),n=new FileReader;return n.onload=function(){var e='<img src="'+event.target.result+'">';e=replaceRemoteImg(e),_this.pasteHTML(e)},n.readAsDataURL(a),!1}var o=settings.cleanPaste;if(0===o||bSource||bCleanPaste)return!0;bCleanPaste=!0,_this.saveBookmark();var l=isIE?"pre":"div",r=$("<"+l+' class="xhe-paste">\\ufeff\\ufeff<\/'+l+">",_doc).appendTo(_doc.body),h=r[0],c=_this.getSel(),d=_this.getRng(!0);r.css("top",_jWin.scrollTop()),isIE?(d.moveToElementText(h),d.select()):(d.selectNodeContents(h),c.removeAllRanges(),c.addRange(d)),setTimeout(function(){var e,t=3===o;if(t)r.html(r.html().replace(\/<br(\\s+[^<>]*)?>\/gi,"\\n")),e=r.text();else{var i=$(".xhe-paste",_doc.body),s=[];i.each(function(e,t){0==$(t).find(".xhe-paste").length&&s.push(t.innerHTML)}),e=s.join("<br \/>")}r.remove(),_this.loadBookmark(),e=e.replace(\/^[\\s\\uFEFF]+|[\\s\\uFEFF]+$\/g,""),e&&(t?_this.pasteText(e):(e=_this.cleanHTML(e),e=_this.cleanWord(e),e=_this.formatXHTML(e),(!settings.onPaste||settings.onPaste&&(e=settings.onPaste(e))!==!1)&&(e=replaceRemoteImg(e),_this.pasteHTML(e)))),bCleanPaste=!1},0)}function replaceRemoteImg(e){var t=settings.localUrlTest,i=settings.remoteImgSaveUrl;if(t&&i){var s=[],a=0;e=e.replace(\/(<img)((?:\\s+[^>]*?)?(?:\\s+src="\\s*([^"]+)\\s*")(?: [^>]*)?)(\\\/?>)\/gi,function(e,i,n,o,l){return!\/^(https?|data:image)\/i.test(o)||\/_xhe_temp\/.test(n)||t.test(o)||(s[a]=o,n=n.replace(\/\\s+(width|height)="[^"]*"\/gi,"").replace(\/\\s+src="[^"]*"\/gi,' src="'+skinPath+'img\/waiting.gif" remoteimg="'+a++ +'"')),i+n+l}),s.length>0&&$.post(i,{urls:s.join("|")},function(e){e=e.split("|"),$("img[remoteimg]",_this.doc).each(function(){var t=$(this);xheAttr(t,"src",e[t.attr("remoteimg")]),t.removeAttr("remoteimg")})})}return e}function setCSS(e){try{_this._exec("styleWithCSS",e,!0)}catch(t){try{_this._exec("useCSS",!e,!0)}catch(t){}}}function setOpts(){if(bInit&&!bSource){setCSS(!1);try{_this._exec("enableObjectResizing",!0,!0)}catch(e){}if(isIE)try{_this._exec("BackgroundImageCache",!0,!0)}catch(e){}}}function forcePtag(e){if(bSource||13!==e.which||e.shiftKey||e.ctrlKey||e.altKey)return!0;var t=_this.getParent("p,h1,h2,h3,h4,h5,h6,pre,address,div,li");return t.is("li")?!0:settings.forcePtag?(0===t.length&&_this._exec("formatblock","<p>"),undefined):(_this.pasteHTML("<br \/>"),isIE&&t.length>0&&2===_this.getRng().parentElement().childNodes.length&&_this.pasteHTML("<br \/>"),!1)}function fixFullHeight(){isMozilla||isWebkit||(bFullscreen&&_jArea.height("100%").css("height",_jArea.outerHeight()-_jTools.outerHeight()),isIE&&_jTools.hide().show())}function fixAppleSel(e){if(e=e.target,e.tagName.match(\/(img|embed)\/i)){var t=_this.getSel(),i=_this.getRng(!0);i.selectNode(e),t.removeAllRanges(),t.addRange(i)}}function xheAttr(e,t,i){if(!t)return!1;var s="_xhe_"+t;return i&&(urlType&&(i=getLocalUrl(i,urlType,urlBase)),e.attr(t,urlBase?getLocalUrl(i,"abs",urlBase):i).removeAttr(s).attr(s,i)),e.attr(s)||e.attr(t)}function clickCancelPanel(){bClickCancel&&_this.hidePanel()}function checkShortcuts(e){if(bSource)return!0;var t=e.which,i=specialKeys[t],s=i?i:String.fromCharCode(t).toLowerCase();sKey="",sKey+=e.ctrlKey?"ctrl+":"",sKey+=e.altKey?"alt+":"",sKey+=e.shiftKey?"shift+":"",sKey+=s;var a,n=arrShortCuts[sKey];for(a in n){if(a=n[a],!$.isFunction(a))return _this.exec(a),!1;if(a.call(_this)===!1)return!1}}function is(e,t){var i=typeof e;return t?"array"===t&&e.hasOwnProperty&&e instanceof Array?!0:i===t:"undefined"!=i}function getLocalUrl(e,t,i){if(e.match(\/^(\\w+):\\\/\\\/\/i)&&!e.match(\/^https?:\/i)||\/^#\/i.test(e)||\/^data:\/i.test(e))return e;var s=i?$('<a href="'+i+'" \/>')[0]:location,a=s.protocol,n=s.host,o=s.hostname,l=s.port,r=s.pathname.replace(\/\\\\\/g,"\/").replace(\/[^\\\/]+$\/i,"");if(""===l&&(l="80"),""===r?r="\/":"\/"!==r.charAt(0)&&(r="\/"+r),e=$.trim(e),"abs"!==t&&(e=e.replace(RegExp(a+"\\\\\/\\\\\/"+o.replace(\/\\.\/g,"\\\\.")+"(?::"+l+")"+("80"===l?"?":"")+"(\/|$)","i"),"\/")),"rel"===t&&(e=e.replace(RegExp("^"+r.replace(\/([\\\/\\.\\+\\[\\]\\(\\)])\/g,"\\\\$1"),"i"),"")),"rel"!==t&&(e.match(\/^(https?:\\\/\\\/|\\\/)\/i)||(e=r+e),"\/"===e.charAt(0))){var h,c,d=[],u=e.split("\/"),p=u.length;for(c=0;p>c;c++)h=u[c],".."===h?d.pop():""!==h&&"."!==h&&d.push(h);""===u[p-1]&&d.push(""),e="\/"+d.join("\/")}return"abs"!==t||e.match(\/^https?:\\\/\\\/\/i)||(e=a+"\/\/"+n+e),e=e.replace(\/(https?:\\\/\\\/[^:\\\/?#]+):80(\\\/|$)\/i,"$1$2")}function checkFileExt(e,t){return"*"===t||e.match(RegExp(".("+t.replace(\/,\/g,"|")+")$","i"))?!0:(alert(getLang("upload.extLimit",t)),!1)}function formatBytes(e){var t=["Byte","KB","MB","GB","TB","PB"],i=Math.floor(Math.log(e)\/Math.log(1024));return(e\/Math.pow(1024,Math.floor(i))).toFixed(2)+t[i]}function returnFalse(){return!1}var _this=this,_text=textarea,_jText=$(_text),_jForm=_jText.closest("form"),_jTools,_jArea,_win,_jWin,_doc,_jDoc,bookmark,bInit=!1,bSource=!1,bFullscreen=!1,bCleanPaste=!1,outerScroll,bShowBlocktag=!1,sLayoutStyle="",ev=null,timer,bDisableHoverExec=!1,bQuickHoverExec=!1,lastPoint=null,lastAngle=null,editorHeight=0,settings=_this.settings=$.extend({},XHEDITOR.settings,options),plugins=settings.plugins,strPlugins=[];if(plugins&&(arrTools=$.extend({},arrTools,plugins),$.each(plugins,function(e){strPlugins.push(e)}),strPlugins=strPlugins.join(",")),settings.tools.match(\/^\\s*(m?full|simple|mini)\\s*$\/i)){var toolsTheme=toolsThemes[$.trim(settings.tools)];settings.tools=settings.tools.match(\/m?full\/i)&&plugins?toolsTheme.replace("Table","Table,"+strPlugins):toolsTheme}settings.tools.match(\/(^|,)\\s*About\\s*(,|$)\/i)||(settings.tools+=",About"),settings.tools=settings.tools.split(","),settings.editorRoot&&(editorRoot=settings.editorRoot),bAir===!1&&(editorRoot=getLocalUrl(editorRoot,"abs")),settings.urlBase&&(settings.urlBase=getLocalUrl(settings.urlBase,"abs"));var idCSS="xheCSS_"+settings.skin,idContainer="xhe"+xCount+"_container",idTools="xhe"+xCount+"_Tool",idIframeArea="xhe"+xCount+"_iframearea",idIframe="xhe"+xCount+"_iframe",idFixFFCursor="xhe"+xCount+"_fixffcursor",headHTML="",bodyClass="",skinPath=editorRoot+"xheditor_skin\/"+settings.skin+"\/",arrEmots=itemEmots,urlType=settings.urlType,urlBase=settings.urlBase,emotPath=settings.emotPath,emotPath=emotPath?emotPath:editorRoot+"xheditor_emot\/",selEmotGroup="";arrEmots=$.extend({},arrEmots,settings.emots),emotPath=getLocalUrl(emotPath,"rel",urlBase?urlBase:null),bShowBlocktag=settings.showBlocktag,bShowBlocktag&&(bodyClass+=" showBlocktag");var arrShortCuts=[];this.init=function(){function e(e){var t,i=$(e.target);(t=i.css("width"))&&i.css("width","").attr("width",t.replace(\/[^0-9%]+\/g,"")),(t=i.css("height"))&&i.css("height","").attr("height",t.replace(\/[^0-9%]+\/g,""))}0===$("#"+idCSS).length&&$("head").append('<link id="'+idCSS+'" rel="stylesheet" type="text\/css" href="'+skinPath+'ui.css" \/>');var t=_jText.outerWidth(),i=_jText.outerHeight(),s=settings.width||_text.style.width||(t>10?t:0);editorHeight=settings.height||_text.style.height||(i>10?i:150),\/^\\d+(?:\\.\\d+)?$\/.test(s)&&(s+="px"),is(editorHeight,"string")&&(editorHeight=editorHeight.replace(\/[^\\d]+\/g,""));var a,n,o=settings.background||_text.style.background,l=['<span class="xheGStart"\/>'],r=\/\\||\\\/\/i;$.each(settings.tools,function(e,t){if(t.match(r)&&l.push('<span class="xheGEnd"\/>'),"|"===t)l.push('<span class="xheSeparator"\/>');else if("\/"===t)l.push("<br \/>");else{if(a=arrTools[t],!a)return;n=a.c?a.c:"xheIcon xheBtn"+t,l.push('<span><a href="#" title="{#'+a.t+'}" cmd="'+t+'" class="xheButton xheEnabled" tabindex="-1" role="button"><span class="'+n+'" unselectable="on" style="font-size:0;color:transparent;text-indent:-999px;">'+a.t+"<\/span><\/a><\/span>"),a.s&&_this.addShortcuts(a.s,t)}t.match(r)&&l.push('<span class="xheGStart"\/>')}),l.push('<span class="xheGEnd"\/><br \/>'),_jText.after($('<input type="text" id="'+idFixFFCursor+'" style="position:absolute;display:none;" \/><span id="'+idContainer+'" class="xhe_'+settings.skin+'" style="display:none"><table cellspacing="0" cellpadding="0" class="xheLayout" style="'+("0px"!=s?"width:"+s+";":"")+"height:"+editorHeight+'px;" role="presentation"><tr><td id="'+idTools+'" class="xheTool" unselectable="on" style="height:1px;" role="presentation"><\/td><\/tr><tr><td id="'+idIframeArea+'" class="xheIframeArea" role="presentation"><iframe frameborder="0" id="'+idIframe+'" src="javascript:;" style="width:100%;"><\/iframe><\/td><\/tr><\/table><\/span>')),_jTools=$("#"+idTools),_jArea=$("#"+idIframeArea),headHTML='<meta http-equiv="Content-Type" content="text\/html; charset=utf-8" \/><link rel="stylesheet" href="'+skinPath+'iframe.css"\/>';var h=settings.loadCSS;if(h)if(is(h,"array"))for(var c in h)headHTML+='<link rel="stylesheet" href="'+h[c]+'"\/>';else headHTML+=h.match(\/\\s*<style(\\s+[^>]*?)?>[\\s\\S]+?<\\\/style>\\s*\/i)?h:'<link rel="stylesheet" href="'+h+'"\/>';var d='<!DOCTYPE html><html xmlns="http:\/\/www.w3.org\/1999\/xhtml"><head>'+headHTML+"<title>{#defaultReadTip} "+(settings.readTip?settings.readTip:"")+"<\/title>";o&&(d+="<style>html{background:"+o+";}<\/style>"),d+='<\/head><body spellcheck="0" class="editMode'+bodyClass+'"><\/body><\/html>',_this.win=_win=$("#"+idIframe)[0].contentWindow,_jWin=$(_win);try{this.doc=_doc=_win.document,_jDoc=$(_doc),_doc.open(),_doc.write(getLang(d)),_doc.close(),isIE?_doc.body.contentEditable="true":_doc.designMode="On"}catch(u){}setTimeout(setOpts,300),_this.setSource(),_win.setInterval=null,_jTools.append(getLang(l.join(""))).bind("mousedown contextmenu",returnFalse).click(function(e){var t=$(e.target).closest("a");return t.is(".xheEnabled")&&(clearTimeout(timer),_jTools.find("a").attr("tabindex","-1"),ev=e,_this.exec(t.attr("cmd"))),!1}),_jTools.find(".xheButton").hover(function(e){var t=$(this),i=settings.hoverExecDelay,s=lastAngle;if(lastAngle=null,-1===i||bDisableHoverExec||!t.is(".xheEnabled"))return!1;if(s&&s>10)return bDisableHoverExec=!0,setTimeout(function(){bDisableHoverExec=!1},100),!1;var a=t.attr("cmd"),n=1===arrTools[a].h;return n?(bQuickHoverExec&&(i=0),i>=0&&(timer=setTimeout(function(){ev=e,lastPoint={x:ev.clientX,y:ev.clientY},_this.exec(a)},i)),undefined):(_this.hidePanel(),!1)},function(){lastPoint=null,timer&&clearTimeout(timer)}).mousemove(function(e){if(lastPoint){var t={x:e.clientX-lastPoint.x,y:e.clientY-lastPoint.y};if(Math.abs(t.x)>1||Math.abs(t.y)>1){if(t.x>0&&t.y>0){var i=Math.round(Math.atan(t.y\/t.x)\/.017453293);lastAngle=lastAngle?(lastAngle+i)\/2:i}else lastAngle=null;lastPoint={x:e.clientX,y:e.clientY}}}}),_jPanel=$("#xhePanel"),_jShadow=$("#xheShadow"),_jCntLine=$("#xheCntLine"),0===_jPanel.length&&(_jPanel=$('<div id="xhePanel"><\/div>').mousedown(function(e){e.stopPropagation()}),_jShadow=$('<div id="xheShadow"><\/div>'),_jCntLine=$('<div id="xheCntLine"><\/div>'),setTimeout(function(){$(document.body).append(_jPanel).append(_jShadow).append(_jCntLine)},10)),$("#"+idContainer).show(),_jText.hide(),_jArea.css("height",editorHeight-_jTools.outerHeight()),isIE&8>browerVer&&setTimeout(function(){_jArea.css("height",editorHeight-_jTools.outerHeight())},1),_jText.focus(_this.focus),_jForm.submit(saveResult).bind("reset",loadReset),settings.submitID&&$("#"+settings.submitID).mousedown(saveResult),$(window).bind("unload beforeunload",saveResult).bind("resize",fixFullHeight),$(document).mousedown(clickCancelPanel),bCheckEscInit||($(document).keydown(checkEsc),bCheckEscInit=!0),_jWin.focus(function(){settings.focus&&settings.focus()}).blur(function(){settings.blur&&settings.blur()}),isWebkit&&_jWin.click(fixAppleSel),_jDoc.mousedown(clickCancelPanel).keydown(checkShortcuts).keypress(forcePtag).dblclick(checkDblClick).bind("mousedown click",function(e){_jText.trigger(e.type)}),isIE&&(_jDoc.keydown(function(e){var t=_this.getRng();return 8===e.which&&t.item?($(t.item(0)).remove(),!1):undefined}),_jDoc.bind("controlselect",function(t){t=t.target,$.nodeName(t,"IMG")&&$(t).unbind("resizeend",e).bind("resizeend",e)})),_jDoc.keydown(function(e){var t=e.which;return e.altKey&&t>=49&&57>=t?(_jTools.find("a").attr("tabindex","0"),_jTools.find(".xheGStart").eq(t-49).next().find("a").focus(),_doc.title="\\ufeff\\ufeff",!1):undefined}).click(function(){_jTools.find("a").attr("tabindex","-1")}),_jTools.keydown(function(e){var t=e.which;if(27==t)_jTools.find("a").attr("tabindex","-1"),_this.focus();else if(e.altKey&&t>=49&&57>=t)return _jTools.find(".xheGStart").eq(t-49).next().find("a").focus(),!1});var p=$(_doc.documentElement);isOpera?p.bind("keydown",function(e){e.ctrlKey&&86===e.which&&cleanPaste()}):p.bind(isIE?"beforepaste":"paste",cleanPaste),settings.disableContextmenu&&p.bind("contextmenu",returnFalse),settings.html5Upload&&p.bind("dragenter dragover",function(e){var t;return(t=e.originalEvent.dataTransfer.types)&&-1!==$.inArray("Files",t)?!1:undefined}).bind("drop",function(e){function t(e){var t,i,s;for(a=0;e.length>a;a++){if(i=e[a].name.replace(\/.+\\.\/,""),!(t=o.match(RegExp("(\\\\w+):[^:]*,"+i+"(?:,|$)","i"))))return 1;if(s){if(s!==t[1])return 2}else s=t[1]}return s}var i,s=e.originalEvent.dataTransfer;if(s&&(i=s.files)&&i.length>0){var a,n,o,l=["Link","Img","Flash","Media"],r=[];for(a in l)n=l[a],settings["up"+n+"Url"]&&settings["up"+n+"Url"].match(\/^[^!].*\/i)&&r.push(n+":,"+settings["up"+n+"Ext"]);return 0===r.length?!1:(o=r.join(","),n=t(i),1===n?alert(getLang("upload.extLimit",o.replace(\/\\w+:,\/g,""))):2===n?alert(getLang("upload.typeLimit")):n&&_this.startUpload(i,settings["up"+n+"Url"],"*",function(e){var t,i=[],s=settings.onUpload;s&&s(e);for(var a=0,o=e.length;o>a;a++)t=e[a],url=is(t,"string")?t:t.url,"!"===url.substr(0,1)&&(url=url.substr(1)),i.push(url);_this.exec(n),$("#xhe"+n+"Url").val(i.join(" ")),$("#xheSave").click()}),!1)}});var g=settings.shortcuts;g&&$.each(g,function(e,t){_this.addShortcuts(e,t)}),xCount++,bInit=!0,settings.fullscreen?_this.toggleFullscreen():settings.sourceMode&&setTimeout(_this.toggleSource,20);var f=settings.plugins;return f&&$.each(f,function(e,t){var i=t.i;i!==undefined&&i(_this)}),!0},this.remove=function(){_this.hidePanel(),saveResult(),_jText.unbind("focus",_this.focus),_jForm.unbind("submit",saveResult).unbind("reset",loadReset),settings.submitID&&$("#"+settings.submitID).unbind("mousedown",saveResult),$(window).unbind("unload beforeunload",saveResult).unbind("resize",fixFullHeight),$(document).unbind("mousedown",clickCancelPanel),$("#"+idContainer).remove(),$("#"+idFixFFCursor).remove(),_jText.show(),bInit=!1},this.saveBookmark=function(){if(!bSource){_this.focus();var e=_this.getRng();e=e.cloneRange?e.cloneRange():e,bookmark={top:_jWin.scrollTop(),rng:e}}},this.loadBookmark=function(){if(!bSource&&bookmark){_this.focus();var e=bookmark.rng;if(isIE)e.select();else{var t=_this.getSel();t.removeAllRanges(),t.addRange(e)}_jWin.scrollTop(bookmark.top),bookmark=null}},this.focus=function(){if(bSource?$("#sourceCode",_doc).focus():_win.focus(),isIE){var e=_this.getRng();e.parentElement&&e.parentElement().ownerDocument!==_doc&&_this.setTextCursor()}return!1},this.setTextCursor=function(e){var t=_this.getRng(!0),i=_doc.body;if(isIE)t.moveToElementText(i);else{for(var s=e?"lastChild":"firstChild";3!=i.nodeType&&i[s];)i=i[s];t.selectNode(i)}if(t.collapse(e?!1:!0),isIE)t.select();else{var a=_this.getSel();a.removeAllRanges(),a.addRange(t)}},this.getSel=function(){return _doc.selection?_doc.selection:_win.getSelection()},this.getRng=function(e){var t,i;try{e||(t=_this.getSel(),i=t.createRange?t.createRange():t.rangeCount>0?t.getRangeAt(0):null),i||(i=_doc.body.createTextRange?_doc.body.createTextRange():_doc.createRange())}catch(s){}return i},this.getParent=function(e){var t,i=_this.getRng();return isIE?t=i.item?i.item(0):i.parentElement():(t=i.commonAncestorContainer,i.collapsed||i.startContainer===i.endContainer&&2>i.startOffset-i.endOffset&&i.startContainer.hasChildNodes()&&(t=i.startContainer.childNodes[i.startOffset])),e=e?e:"*",t=$(t),t.is(e)||(t=$(t).closest(e)),t},this.getSelect=function(e){var t=_this.getSel(),i=_this.getRng(),s=!0;if(s=!i||i.item?!1:!t||0===i.boundingWidth||i.collapsed,"text"===e)return s?"":i.text||(t.toString?""+t:"");var a;if(i.cloneContents){var n,o=$("<div><\/div>");n=i.cloneContents(),n&&o.append(n),a=o.html()}else a=is(i.item)?i.item(0).outerHTML:is(i.htmlText)?i.htmlText:""+i;return s&&(a=""),a=_this.processHTML(a,"read"),a=_this.cleanHTML(a),a=_this.formatXHTML(a)},this.pasteHTML=function(e,t){if(bSource)return!1;_this.focus(),e=_this.processHTML(e,"write");var i=_this.getSel(),s=_this.getRng();if(t!==undefined){if(s.item){var a=s.item(0);s=_this.getRng(!0),s.moveToElementText(a),s.select()}s.collapse(t)}if(e+="<"+(isIE?"img":"span")+' id="_xhe_temp" width="0" height="0" \/>',s.insertNode){if($(s.startContainer).closest("style,script").length>0)return!1;s.deleteContents(),s.insertNode(s.createContextualFragment(e))}else"control"===i.type.toLowerCase()&&(i.clear(),s=_this.getRng()),s.pasteHTML(e);var n=$("#_xhe_temp",_doc),o=n[0];isIE?(s.moveToElementText(o),s.select()):(s.selectNode(o),i.removeAllRanges(),i.addRange(s)),n.remove()},this.pasteText=function(e,t){e||(e=""),e=_this.domEncode(e),e=e.replace(\/\\r?\\n\/g,"<br \/>"),_this.pasteHTML(e,t)},this.appendHTML=function(e){return bSource?!1:(_this.focus(),e=_this.processHTML(e,"write"),$(_doc.body).append(e),_this.setTextCursor(!0),undefined)},this.domEncode=function(e){return e.replace(regEntities,function(e){return arrEntities[e]})},this.setSource=function(e){bookmark=null,"string"!=typeof e&&""!==e&&(e=_text.value),bSource?$("#sourceCode",_doc).val(e):(settings.beforeSetSource&&(e=settings.beforeSetSource(e)),e=_this.cleanHTML(e),e=_this.formatXHTML(e),e=_this.processHTML(e,"write"),isIE?(_doc.body.innerHTML='<img id="_xhe_temp" width="0" height="0" \/>'+e,$("#_xhe_temp",_doc).remove()):_doc.body.innerHTML=e)},this.processHTML=function(e,t){function i(e,t,i,s,a,o){var l,r,h,c,d="";if(l=s.match(\/font-family\\s*:\\s*([^;"]+)\/i),l&&(d+=' face="'+l[1]+'"'),r=s.match(\/font-size\\s*:\\s*([^;"]+)\/i)){r=r[1].toLowerCase();for(var u=0;n.length>u;u++)if(r===n[u].n||r===n[u].s){h=u+1;break}h&&(d+=' size="'+h+'"',s=s.replace(\/(^|;)(\\s*font-size\\s*:\\s*[^;"]+;?)+\/gi,"$1"))}if(c=s.match(\/(?:^|[\\s;])color\\s*:\\s*([^;"]+)\/i)){var p;if(p=c[1].match(\/\\s*rgb\\s*\\(\\s*(\\d+)\\s*,\\s*(\\d+)\\s*,\\s*(\\d+)\\s*\\)\/i)){c[1]="#";for(var g=1;3>=g;g++)c[1]+=("0"+(p[g]-0).toString(16)).slice(-2)}c[1]=c[1].replace(\/^#([0-9a-f])([0-9a-f])([0-9a-f])$\/i,"#$1$1$2$2$3$3"),d+=' color="'+c[1]+'"'}return s=s.replace(\/(^|;)(\\s*(font-family|color)\\s*:\\s*[^;"]+;?)+\/gi,"$1"),""!==d?(s&&(d+=' style="'+s+'"'),"<font"+(i?i:"")+d+(a?a:"")+">"+o+"<\/font>"):e}function s(e,t,i,s,a){for(var n,l,r=(i?i:"")+(s?s:""),h=[],c=[],d=0;o.length>d;d++)n=o[d].r,l=o[d].t,r=r.replace(n,function(){return h.push("<"+l+">"),c.push("<\/"+l+">"),""});return r=r.replace(\/\\s+style\\s*=\\s*"\\s*"\/i,""),(r?"<span"+r+">":"")+h.join("")+a+c.join("")+(r?"<\/span>":"")}var a=' class="Apple-style-span"',n=settings.listFontsize;if("write"===t)e=e.replace(\/(<(\\\/?)(\\w+))((?:\\s+[\\w\\-:]+\\s*=\\s*(?:"[^"]*"|'[^']*'|[^>\\s]+))*)\\s*((\\\/?)>)\/g,function(e,t,i,s,n,o,l){s=s.toLowerCase(),isMozilla?"strong"===s?s="b":"em"===s&&(s="i"):isWebkit&&("strong"===s?(s="span",i||(n+=a+' style="font-weight: bold;"')):"em"===s?(s="span",i||(n+=a+' style="font-style: italic;"')):"u"===s?(s="span",i||(n+=a+' style="text-decoration: underline;"')):"strike"===s&&(s="span",i||(n+=a+' style="text-decoration: line-through;"')));var r,h="";if("del"===s)s="strike";else if("img"===s)n=n.replace(\/\\s+emot\\s*=\\s*("[^"]*"|'[^']*'|[^>\\s]+)\/i,function(e,t){return r=t.match(\/^(["']?)(.*)\\1\/)[2],r=r.split(","),r[1]||(r[1]=r[0],r[0]=""),"default"===r[0]&&(r[0]=""),settings.emotMark?e:""});else if("a"===s)!n.match(\/ href=[^ ]\/i)&&n.match(\/ name=[^ ]\/i)&&(h+=" xhe-anchor"),l&&(o="><\/a>");else if("table"===s&&!i){var c=n.match(\/\\s+border\\s*=\\s*("[^"]*"|'[^']*'|[^>\\s]+)\/i);(!c||c[1].match(\/^(["']?)\\s*0\\s*\\1$\/))&&(h+=" xhe-border")}var d;if(n=n.replace(\/\\s+([\\w\\-:]+)\\s*=\\s*("[^"]*"|'[^']*'|[^>\\s]+)\/g,function(e,t,i){return t=t.toLowerCase(),i=i.match(\/^(["']?)(.*)\\1\/)[2],aft="",isIE&&t.match(\/^(disabled|checked|readonly|selected)$\/)&&i.match(\/^(false|0)$\/i)?"":"img"===s&&r&&"src"===t?"":(t.match(\/^(src|href)$\/)&&(aft=" _xhe_"+t+'="'+i+'"',urlBase&&(i=getLocalUrl(i,"abs",urlBase))),h&&"class"===t&&(i+=" "+h,h=""),isWebkit&&"style"===t&&"span"===s&&i.match(\/(^|;)\\s*(font-family|font-size|color|background-color)\\s*:\\s*[^;]+\\s*(;|$)\/i)&&(d=!0)," "+t+'="'+i+'"'+aft)}),r){var u=emotPath+(r[0]?r[0]:"default")+"\/"+r[1]+".gif";n+=' src="'+u+'" _xhe_src="'+u+'"'}return d&&(n+=a),h&&(n+=' class="'+h+'"'),"<"+i+s+n+o}),isIE&&(e=e.replace(\/&apos;\/gi,"&#39;")),isWebkit||(e=e.replace(\/<(span)(\\s+[^>]*?)?\\s+style\\s*=\\s*"((?:[^"]*?;)?\\s*(?:font-family|font-size|color)\\s*:[^"]*)"( [^>]*)?>(((?!<\\1(\\s+[^>]*?)?>)[\\s\\S]|<\\1(\\s+[^>]*?)?>((?!<\\1(\\s+[^>]*?)?>)[\\s\\S]|<\\1(\\s+[^>]*?)?>((?!<\\1(\\s+[^>]*?)?>)[\\s\\S])*?<\\\/\\1>)*?<\\\/\\1>)*?)<\\\/\\1>\/gi,i),e=e.replace(\/<(span)(\\s+[^>]*?)?\\s+style\\s*=\\s*"((?:[^"]*?;)?\\s*(?:font-family|font-size|color)\\s*:[^"]*)"( [^>]*)?>(((?!<\\1(\\s+[^>]*?)?>)[\\s\\S]|<\\1(\\s+[^>]*?)?>((?!<\\1(\\s+[^>]*?)?>)[\\s\\S])*?<\\\/\\1>)*?)<\\\/\\1>\/gi,i),e=e.replace(\/<(span)(\\s+[^>]*?)?\\s+style\\s*=\\s*"((?:[^"]*?;)?\\s*(?:font-family|font-size|color)\\s*:[^"]*)"( [^>]*)?>(((?!<\\1(\\s+[^>]*?)?>)[\\s\\S])*?)<\\\/\\1>\/gi,i)),e=e.replace(\/<(td|th)(\\s+[^>]*?)?>(\\s|&nbsp;)*<\\\/\\1>\/gi,"<$1$2>"+(isIE?"":"<br \/>")+"<\/$1>");else{if(isWebkit)for(var o=[{r:\/font-weight\\s*:\\s*bold;?\/gi,t:"strong"},{r:\/font-style\\s*:\\s*italic;?\/gi,t:"em"},{r:\/text-decoration\\s*:\\s*underline;?\/gi,t:"u"},{r:\/text-decoration\\s*:\\s*line-through;?\/gi,t:"strike"}],l=0;2>l;l++)e=e.replace(\/<(span)(\\s+[^>]*?)?\\s+class\\s*=\\s*"Apple-style-span"(\\s+[^>]*?)?>(((?!<\\1(\\s+[^>]*?)?>)[\\s\\S]|<\\1(\\s+[^>]*?)?>((?!<\\1(\\s+[^>]*?)?>)[\\s\\S]|<\\1(\\s+[^>]*?)?>((?!<\\1(\\s+[^>]*?)?>)[\\s\\S])*?<\\\/\\1>)*?<\\\/\\1>)*?)<\\\/\\1>\/gi,s),e=e.replace(\/<(span)(\\s+[^>]*?)?\\s+class\\s*=\\s*"Apple-style-span"(\\s+[^>]*?)?>(((?!<\\1(\\s+[^>]*?)?>)[\\s\\S]|<\\1(\\s+[^>]*?)?>((?!<\\1(\\s+[^>]*?)?>)[\\s\\S])*?<\\\/\\1>)*?)<\\\/\\1>\/gi,s),e=e.replace(\/<(span)(\\s+[^>]*?)?\\s+class\\s*=\\s*"Apple-style-span"(\\s+[^>]*?)?>(((?!<\\1(\\s+[^>]*?)?>)[\\s\\S])*?)<\\\/\\1>\/gi,s);e=e.replace(\/(<(\\w+))((?:\\s+[\\w\\-:]+\\s*=\\s*(?:"[^"]*"|'[^']*'|[^>\\s]+))*)\\s*(\\\/?>)\/g,function(e,t,i,s,a){i=i.toLowerCase();$/;"	p
var.specialKeys.121	js/xheditor.min.js	/^(function(){var e={};window.XHEDITOR=e})(),function(e,t){e.mapLang={},e.setLang=function(i,s){s===t&&(s=i,i=""),""!==i&&(i+=".");var a,n;for(var o in s)n=s[o],a=i+o,"string"==typeof n||n instanceof Array?e.mapLang[a]=n:e.setLang(a,n)},e.getLang=function(i){var s=e.mapLang[i];if(s===t&&(s=i.replace(\/{#([^{}]+)}\/g,function(t,i){var s=e.mapLang[i];return s?s:i})),"string"==typeof s){var a=arguments;s=s.replace(\/{\\$(\\d+)}\/g,function(e,i){var s=a[parseInt(i,10)+1];return s!==t?s:e})}return s}}(XHEDITOR),function(XHEDITOR,$,undefined){var agent=navigator.userAgent.toLowerCase(),bMobile=\/mobile\/i.test(agent),browser=$.browser,browerVer=parseFloat(browser.version),isIE=browser.msie,isMozilla=browser.mozilla,isWebkit=browser.webkit,isOpera=browser.opera,isChrome=browser.chrome,bAir=agent.indexOf(" adobeair\/")>-1,xCount=0,bShowPanel=!1,bClickCancel=!0,bShowModal=!1,bCheckEscInit=!1,_jPanel,_jShadow,_jCntLine,_jPanelButton,jModal,jModalShadow,layerShadow,jOverlay,jHideSelect,onModalRemove,editorRoot,getLang=XHEDITOR.getLang;if($("script[src*=xheditor]").each(function(){var e=this.src;return e.match(\/xheditor[^\\\/]*\\.js\/i)?(editorRoot=e.replace(\/[\\?#].*$\/,"").replace(\/(^|[\\\/\\\\])[^\\\/]*$\/,"$1"),!1):undefined}),isIE){try{document.execCommand("BackgroundImageCache",!1,!0)}catch(e){}var jqueryVer=$.fn.jquery;jqueryVer&&jqueryVer.match(\/^1\\.[67]\/)&&($.attrHooks.width=$.attrHooks.height=null)}var specialKeys={27:"esc",9:"tab",32:"space",13:"enter",8:"backspace",145:"scroll",20:"capslock",144:"numlock",19:"pause",45:"insert",36:"home",46:"del",35:"end",33:"pageup",34:"pagedown",37:"left",38:"up",39:"right",40:"down",112:"f1",113:"f2",114:"f3",115:"f4",116:"f5",117:"f6",118:"f7",119:"f8",120:"f9",121:"f10",122:"f11",123:"f12"},arrAlign=[{v:"justifyleft"},{v:"justifycenter"},{v:"justifyright"},{v:"justifyfull"}],arrList=[{v:"insertOrderedList"},{v:"insertUnorderedList"}],htmlPastetext='<div><label for="xhePastetextValue">{#PastetextTip}<\/label><\/div><div><textarea id="xhePastetextValue" wrap="soft" spellcheck="false" style="width:300px;height:100px;" \/><\/div><div style="text-align:right;"><input type="button" id="xheSave" value="{#dialogOk}" \/><\/div>',htmlLink='<div><label for="xheLinkUrl">{#link.url}<\/label><input type="text" id="xheLinkUrl" value="http:\/\/" class="xheText" \/><\/div><div><label for="xheLinkTarget">{#link.target}<\/label><select id="xheLinkTarget"><option selected="selected" value="">{#default}<\/option><option value="_blank">{#link.targetBlank}<\/option><option value="_self">{#link.targetSelf}<\/option><option value="_parent">{#link.targetParent}<\/option><\/select><\/div><div style="display:none"><label for="xheLinkText">{#link.linkText}<\/label><input type="text" id="xheLinkText" value="" class="xheText" \/><\/div><div style="text-align:right;"><input type="button" id="xheSave" value="{#dialogOk}" \/><\/div>',htmlAnchor='<div><label for="xheAnchorName">{#anchor.name}<\/label><input type="text" id="xheAnchorName" value="" class="xheText" \/><\/div><div style="text-align:right;"><input type="button" id="xheSave" value="{#dialogOk}" \/><\/div>',htmlImg='<div><label for="xheImgUrl">{#img.url}<\/label><input type="text" id="xheImgUrl" value="http:\/\/" class="xheText" \/><\/div><div><div><label for="xheImgAlt">{#img.alt}<\/label><input type="text" id="xheImgAlt" \/><\/div><div><label for="xheImgAlign">{#img.align}<\/label><select id="xheImgAlign"><option selected="selected" value="">{#default}<\/option><option value="left">{#img.alignLeft}<\/option><option value="right">{#img.alignRight}<\/option><option value="top">{#img.alignTop}<\/option><option value="middle">{#img.alignMiddle}<\/option><option value="baseline">{#img.alignBaseline}<\/option><option value="bottom">{#img.alignBottom}<\/option><\/select><\/div><div><label for="xheImgWidth">{#img.width}<\/label><input type="text" id="xheImgWidth" style="width:40px;" \/> <label for="xheImgHeight">{#img.height}<\/label><input type="text" id="xheImgHeight" style="width:40px;" \/><\/div><div><label for="xheImgBorder">{#img.border}<\/label><input type="text" id="xheImgBorder" style="width:40px;" \/><\/div><div><label for="xheImgHspace">{#img.hspace}<\/label><input type="text" id="xheImgHspace" style="width:40px;" \/> <label for="xheImgVspace">{#img.vspace}<\/label><input type="text" id="xheImgVspace" style="width:40px;" \/><\/div><div style="text-align:right;"><input type="button" id="xheSave" value="{#dialogOk}" \/><\/div>',htmlFlash='<div><label for="xheFlashUrl">{#flash.url}<\/label><input type="text" id="xheFlashUrl" value="http:\/\/" class="xheText" \/><\/div><div><label for="xheFlashWidth">{#flash.width}<\/label><input type="text" id="xheFlashWidth" style="width:40px;" value="480" \/> <label for="xheFlashHeight">{#flash.height}<\/label><input type="text" id="xheFlashHeight" style="width:40px;" value="400" \/><\/div><div style="text-align:right;"><input type="button" id="xheSave" value="{#dialogOk}" \/><\/div>',htmlMedia='<div><label for="xheMediaUrl">{#media.url}<\/label><input type="text" id="xheMediaUrl" value="http:\/\/" class="xheText" \/><\/div><div><label for="xheMediaWidth">{#media.width}<\/label><input type="text" id="xheMediaWidth" style="width:40px;" value="480" \/> <label for="xheMediaHeight">{#media.height}<\/label><input type="text" id="xheMediaHeight" style="width:40px;" value="400" \/><\/div><div style="text-align:right;"><input type="button" id="xheSave" value="{#dialogOk}" \/><\/div>',htmlTable='<div><label for="xheTableRows">{#table.rows}<\/label><input type="text" id="xheTableRows" style="width:40px;" value="3" \/> <label for="xheTableColumns">{#table.columns}<\/label><input type="text" id="xheTableColumns" style="width:40px;" value="2" \/><\/div><div><label for="xheTableHeaders">{#table.headers}<\/label><select id="xheTableHeaders"><option selected="selected" value="">{#none}<\/option><option value="row">{#table.headersRow}<\/option><option value="col">{#table.headersCol}<\/option><option value="both">{#table.headersBoth}<\/option><\/select><\/div><div><label for="xheTableWidth">{#table.width}<\/label><input type="text" id="xheTableWidth" style="width:40px;" value="200" \/> <label for="xheTableHeight">{#table.height}<\/label><input type="text" id="xheTableHeight" style="width:40px;" value="" \/><\/div><div><label for="xheTableBorder">{#table.border}<\/label><input type="text" id="xheTableBorder" style="width:40px;" value="1" \/><\/div><div><label for="xheTableCellSpacing">{#table.cellSpacing}<\/label><input type="text" id="xheTableCellSpacing" style="width:40px;" value="1" \/> <label for="xheTableCellPadding">{#table.cellPadding}<\/label><input type="text" id="xheTableCellPadding" style="width:40px;" value="1" \/><\/div><div><label for="xheTableAlign">{#table.align}<\/label><select id="xheTableAlign"><option selected="selected" value="">{#default}<\/option><option value="left">{#table.alignLeft}<\/option><option value="center">{#table.alignCenter}<\/option><option value="right">{#table.alignRight}<\/option><\/select><\/div><div><label for="xheTableCaption">{#table.caption}<\/label><input type="text" id="xheTableCaption" \/><\/div><div style="text-align:right;"><input type="button" id="xheSave" value="{#dialogOk}" \/><\/div>',htmlAbout='<div style="font:12px Arial;width:245px;word-wrap:break-word;word-break:break-all;outline:none;" role="dialog" tabindex="-1"><p><span style="font-size:20px;color:#1997DF;">xhEditor<\/span><br \/>v1.2.1 (build 130225)<\/p><p>{#aboutXheditor}<\/p><p>Copyright &copy; <a href="http:\/\/xheditor.com\/" target="_blank">xhEditor.com<\/a>. All rights reserved.<\/p><\/div>',itemEmots={"default":{name:"{#default}",width:24,height:24,line:7,list:["smile","tongue","titter","laugh","sad","wronged","fastcry","cry","wail","mad","knock","curse","crazy","angry","ohmy","awkward","panic","shy","cute","envy","proud","struggle","quiet","shutup","doubt","despise","sleep","bye"]}},arrTools={Cut:{t:"Cut"},Copy:{t:"Copy"},Paste:{t:"Paste"},Pastetext:{t:"Pastetext",h:isIE?0:1},Blocktag:{t:"Blocktag",h:1},Fontface:{t:"Fontface",h:1},FontSize:{t:"FontSize",h:1},Bold:{t:"Bold",s:"Ctrl+B"},Italic:{t:"Italic",s:"Ctrl+I"},Underline:{t:"Underline",s:"Ctrl+U"},Strikethrough:{t:"Strikethrough"},FontColor:{t:"FontColor",h:1},BackColor:{t:"BackColor",h:1},SelectAll:{t:"SelectAll"},Removeformat:{t:"Removeformat"},Align:{t:"Align",h:1},List:{t:"List",h:1},Outdent:{t:"Outdent"},Indent:{t:"Indent"},Link:{t:"Link",s:"Ctrl+L",h:1},Unlink:{t:"Unlink"},Anchor:{t:"Anchor",h:1},Img:{t:"Img",h:1},Flash:{t:"Flash",h:1},Media:{t:"Media",h:1},Hr:{t:"Hr"},Emot:{t:"Emot",s:"ctrl+e",h:1},Table:{t:"Table",h:1},Source:{t:"Source"},Preview:{t:"Preview"},Print:{t:"Print",s:"Ctrl+P"},Fullscreen:{t:"Fullscreen",s:"Esc"},About:{t:"About"}},toolsThemes={mini:"Bold,Italic,Underline,Strikethrough,|,Align,List,|,Link,Img",simple:"Blocktag,Fontface,FontSize,Bold,Italic,Underline,Strikethrough,FontColor,BackColor,|,Align,List,Outdent,Indent,|,Link,Img,Emot",full:"Cut,Copy,Paste,Pastetext,|,Blocktag,Fontface,FontSize,Bold,Italic,Underline,Strikethrough,FontColor,BackColor,SelectAll,Removeformat,|,Align,List,Outdent,Indent,|,Link,Unlink,Anchor,Img,Flash,Media,Hr,Emot,Table,|,Source,Preview,Print,Fullscreen"};toolsThemes.mfull=toolsThemes.full.replace(\/\\|(,Align)\/i,"\/$1");var arrDbClick={a:"Link",img:"Img",embed:"Embed"},uploadInputname="filedata",arrEntities={"<":"&lt;",">":"&gt;",'"':"&quot;","\\u00ae":"&reg;","\\u00a9":"&copy;"},regEntities=\/[<>"\\u00ae\\u00a9]\/g,Xheditor=function(textarea,options){function checkDblClick(e){var t=e.target,i=arrDbClick[t.tagName.toLowerCase()];if(i){if("Embed"===i){var s={"application\/x-shockwave-flash":"Flash","application\/x-mplayer2":"Media"};i=s[t.type.toLowerCase()]}_this.exec(i)}}function checkEsc(e){return 27===e.which?(bShowModal?_this.removeModal():bShowPanel&&_this.hidePanel(),!1):undefined}function loadReset(){setTimeout(_this.setSource,10)}function saveResult(){_this.getSource()}function cleanPaste(e){var t,i,s;if(e&&(t=e.originalEvent.clipboardData)&&(i=t.items)&&(s=i[0])&&"file"==s.kind&&s.type.match(\/^image\\\/\/i)){var a=s.getAsFile(),n=new FileReader;return n.onload=function(){var e='<img src="'+event.target.result+'">';e=replaceRemoteImg(e),_this.pasteHTML(e)},n.readAsDataURL(a),!1}var o=settings.cleanPaste;if(0===o||bSource||bCleanPaste)return!0;bCleanPaste=!0,_this.saveBookmark();var l=isIE?"pre":"div",r=$("<"+l+' class="xhe-paste">\\ufeff\\ufeff<\/'+l+">",_doc).appendTo(_doc.body),h=r[0],c=_this.getSel(),d=_this.getRng(!0);r.css("top",_jWin.scrollTop()),isIE?(d.moveToElementText(h),d.select()):(d.selectNodeContents(h),c.removeAllRanges(),c.addRange(d)),setTimeout(function(){var e,t=3===o;if(t)r.html(r.html().replace(\/<br(\\s+[^<>]*)?>\/gi,"\\n")),e=r.text();else{var i=$(".xhe-paste",_doc.body),s=[];i.each(function(e,t){0==$(t).find(".xhe-paste").length&&s.push(t.innerHTML)}),e=s.join("<br \/>")}r.remove(),_this.loadBookmark(),e=e.replace(\/^[\\s\\uFEFF]+|[\\s\\uFEFF]+$\/g,""),e&&(t?_this.pasteText(e):(e=_this.cleanHTML(e),e=_this.cleanWord(e),e=_this.formatXHTML(e),(!settings.onPaste||settings.onPaste&&(e=settings.onPaste(e))!==!1)&&(e=replaceRemoteImg(e),_this.pasteHTML(e)))),bCleanPaste=!1},0)}function replaceRemoteImg(e){var t=settings.localUrlTest,i=settings.remoteImgSaveUrl;if(t&&i){var s=[],a=0;e=e.replace(\/(<img)((?:\\s+[^>]*?)?(?:\\s+src="\\s*([^"]+)\\s*")(?: [^>]*)?)(\\\/?>)\/gi,function(e,i,n,o,l){return!\/^(https?|data:image)\/i.test(o)||\/_xhe_temp\/.test(n)||t.test(o)||(s[a]=o,n=n.replace(\/\\s+(width|height)="[^"]*"\/gi,"").replace(\/\\s+src="[^"]*"\/gi,' src="'+skinPath+'img\/waiting.gif" remoteimg="'+a++ +'"')),i+n+l}),s.length>0&&$.post(i,{urls:s.join("|")},function(e){e=e.split("|"),$("img[remoteimg]",_this.doc).each(function(){var t=$(this);xheAttr(t,"src",e[t.attr("remoteimg")]),t.removeAttr("remoteimg")})})}return e}function setCSS(e){try{_this._exec("styleWithCSS",e,!0)}catch(t){try{_this._exec("useCSS",!e,!0)}catch(t){}}}function setOpts(){if(bInit&&!bSource){setCSS(!1);try{_this._exec("enableObjectResizing",!0,!0)}catch(e){}if(isIE)try{_this._exec("BackgroundImageCache",!0,!0)}catch(e){}}}function forcePtag(e){if(bSource||13!==e.which||e.shiftKey||e.ctrlKey||e.altKey)return!0;var t=_this.getParent("p,h1,h2,h3,h4,h5,h6,pre,address,div,li");return t.is("li")?!0:settings.forcePtag?(0===t.length&&_this._exec("formatblock","<p>"),undefined):(_this.pasteHTML("<br \/>"),isIE&&t.length>0&&2===_this.getRng().parentElement().childNodes.length&&_this.pasteHTML("<br \/>"),!1)}function fixFullHeight(){isMozilla||isWebkit||(bFullscreen&&_jArea.height("100%").css("height",_jArea.outerHeight()-_jTools.outerHeight()),isIE&&_jTools.hide().show())}function fixAppleSel(e){if(e=e.target,e.tagName.match(\/(img|embed)\/i)){var t=_this.getSel(),i=_this.getRng(!0);i.selectNode(e),t.removeAllRanges(),t.addRange(i)}}function xheAttr(e,t,i){if(!t)return!1;var s="_xhe_"+t;return i&&(urlType&&(i=getLocalUrl(i,urlType,urlBase)),e.attr(t,urlBase?getLocalUrl(i,"abs",urlBase):i).removeAttr(s).attr(s,i)),e.attr(s)||e.attr(t)}function clickCancelPanel(){bClickCancel&&_this.hidePanel()}function checkShortcuts(e){if(bSource)return!0;var t=e.which,i=specialKeys[t],s=i?i:String.fromCharCode(t).toLowerCase();sKey="",sKey+=e.ctrlKey?"ctrl+":"",sKey+=e.altKey?"alt+":"",sKey+=e.shiftKey?"shift+":"",sKey+=s;var a,n=arrShortCuts[sKey];for(a in n){if(a=n[a],!$.isFunction(a))return _this.exec(a),!1;if(a.call(_this)===!1)return!1}}function is(e,t){var i=typeof e;return t?"array"===t&&e.hasOwnProperty&&e instanceof Array?!0:i===t:"undefined"!=i}function getLocalUrl(e,t,i){if(e.match(\/^(\\w+):\\\/\\\/\/i)&&!e.match(\/^https?:\/i)||\/^#\/i.test(e)||\/^data:\/i.test(e))return e;var s=i?$('<a href="'+i+'" \/>')[0]:location,a=s.protocol,n=s.host,o=s.hostname,l=s.port,r=s.pathname.replace(\/\\\\\/g,"\/").replace(\/[^\\\/]+$\/i,"");if(""===l&&(l="80"),""===r?r="\/":"\/"!==r.charAt(0)&&(r="\/"+r),e=$.trim(e),"abs"!==t&&(e=e.replace(RegExp(a+"\\\\\/\\\\\/"+o.replace(\/\\.\/g,"\\\\.")+"(?::"+l+")"+("80"===l?"?":"")+"(\/|$)","i"),"\/")),"rel"===t&&(e=e.replace(RegExp("^"+r.replace(\/([\\\/\\.\\+\\[\\]\\(\\)])\/g,"\\\\$1"),"i"),"")),"rel"!==t&&(e.match(\/^(https?:\\\/\\\/|\\\/)\/i)||(e=r+e),"\/"===e.charAt(0))){var h,c,d=[],u=e.split("\/"),p=u.length;for(c=0;p>c;c++)h=u[c],".."===h?d.pop():""!==h&&"."!==h&&d.push(h);""===u[p-1]&&d.push(""),e="\/"+d.join("\/")}return"abs"!==t||e.match(\/^https?:\\\/\\\/\/i)||(e=a+"\/\/"+n+e),e=e.replace(\/(https?:\\\/\\\/[^:\\\/?#]+):80(\\\/|$)\/i,"$1$2")}function checkFileExt(e,t){return"*"===t||e.match(RegExp(".("+t.replace(\/,\/g,"|")+")$","i"))?!0:(alert(getLang("upload.extLimit",t)),!1)}function formatBytes(e){var t=["Byte","KB","MB","GB","TB","PB"],i=Math.floor(Math.log(e)\/Math.log(1024));return(e\/Math.pow(1024,Math.floor(i))).toFixed(2)+t[i]}function returnFalse(){return!1}var _this=this,_text=textarea,_jText=$(_text),_jForm=_jText.closest("form"),_jTools,_jArea,_win,_jWin,_doc,_jDoc,bookmark,bInit=!1,bSource=!1,bFullscreen=!1,bCleanPaste=!1,outerScroll,bShowBlocktag=!1,sLayoutStyle="",ev=null,timer,bDisableHoverExec=!1,bQuickHoverExec=!1,lastPoint=null,lastAngle=null,editorHeight=0,settings=_this.settings=$.extend({},XHEDITOR.settings,options),plugins=settings.plugins,strPlugins=[];if(plugins&&(arrTools=$.extend({},arrTools,plugins),$.each(plugins,function(e){strPlugins.push(e)}),strPlugins=strPlugins.join(",")),settings.tools.match(\/^\\s*(m?full|simple|mini)\\s*$\/i)){var toolsTheme=toolsThemes[$.trim(settings.tools)];settings.tools=settings.tools.match(\/m?full\/i)&&plugins?toolsTheme.replace("Table","Table,"+strPlugins):toolsTheme}settings.tools.match(\/(^|,)\\s*About\\s*(,|$)\/i)||(settings.tools+=",About"),settings.tools=settings.tools.split(","),settings.editorRoot&&(editorRoot=settings.editorRoot),bAir===!1&&(editorRoot=getLocalUrl(editorRoot,"abs")),settings.urlBase&&(settings.urlBase=getLocalUrl(settings.urlBase,"abs"));var idCSS="xheCSS_"+settings.skin,idContainer="xhe"+xCount+"_container",idTools="xhe"+xCount+"_Tool",idIframeArea="xhe"+xCount+"_iframearea",idIframe="xhe"+xCount+"_iframe",idFixFFCursor="xhe"+xCount+"_fixffcursor",headHTML="",bodyClass="",skinPath=editorRoot+"xheditor_skin\/"+settings.skin+"\/",arrEmots=itemEmots,urlType=settings.urlType,urlBase=settings.urlBase,emotPath=settings.emotPath,emotPath=emotPath?emotPath:editorRoot+"xheditor_emot\/",selEmotGroup="";arrEmots=$.extend({},arrEmots,settings.emots),emotPath=getLocalUrl(emotPath,"rel",urlBase?urlBase:null),bShowBlocktag=settings.showBlocktag,bShowBlocktag&&(bodyClass+=" showBlocktag");var arrShortCuts=[];this.init=function(){function e(e){var t,i=$(e.target);(t=i.css("width"))&&i.css("width","").attr("width",t.replace(\/[^0-9%]+\/g,"")),(t=i.css("height"))&&i.css("height","").attr("height",t.replace(\/[^0-9%]+\/g,""))}0===$("#"+idCSS).length&&$("head").append('<link id="'+idCSS+'" rel="stylesheet" type="text\/css" href="'+skinPath+'ui.css" \/>');var t=_jText.outerWidth(),i=_jText.outerHeight(),s=settings.width||_text.style.width||(t>10?t:0);editorHeight=settings.height||_text.style.height||(i>10?i:150),\/^\\d+(?:\\.\\d+)?$\/.test(s)&&(s+="px"),is(editorHeight,"string")&&(editorHeight=editorHeight.replace(\/[^\\d]+\/g,""));var a,n,o=settings.background||_text.style.background,l=['<span class="xheGStart"\/>'],r=\/\\||\\\/\/i;$.each(settings.tools,function(e,t){if(t.match(r)&&l.push('<span class="xheGEnd"\/>'),"|"===t)l.push('<span class="xheSeparator"\/>');else if("\/"===t)l.push("<br \/>");else{if(a=arrTools[t],!a)return;n=a.c?a.c:"xheIcon xheBtn"+t,l.push('<span><a href="#" title="{#'+a.t+'}" cmd="'+t+'" class="xheButton xheEnabled" tabindex="-1" role="button"><span class="'+n+'" unselectable="on" style="font-size:0;color:transparent;text-indent:-999px;">'+a.t+"<\/span><\/a><\/span>"),a.s&&_this.addShortcuts(a.s,t)}t.match(r)&&l.push('<span class="xheGStart"\/>')}),l.push('<span class="xheGEnd"\/><br \/>'),_jText.after($('<input type="text" id="'+idFixFFCursor+'" style="position:absolute;display:none;" \/><span id="'+idContainer+'" class="xhe_'+settings.skin+'" style="display:none"><table cellspacing="0" cellpadding="0" class="xheLayout" style="'+("0px"!=s?"width:"+s+";":"")+"height:"+editorHeight+'px;" role="presentation"><tr><td id="'+idTools+'" class="xheTool" unselectable="on" style="height:1px;" role="presentation"><\/td><\/tr><tr><td id="'+idIframeArea+'" class="xheIframeArea" role="presentation"><iframe frameborder="0" id="'+idIframe+'" src="javascript:;" style="width:100%;"><\/iframe><\/td><\/tr><\/table><\/span>')),_jTools=$("#"+idTools),_jArea=$("#"+idIframeArea),headHTML='<meta http-equiv="Content-Type" content="text\/html; charset=utf-8" \/><link rel="stylesheet" href="'+skinPath+'iframe.css"\/>';var h=settings.loadCSS;if(h)if(is(h,"array"))for(var c in h)headHTML+='<link rel="stylesheet" href="'+h[c]+'"\/>';else headHTML+=h.match(\/\\s*<style(\\s+[^>]*?)?>[\\s\\S]+?<\\\/style>\\s*\/i)?h:'<link rel="stylesheet" href="'+h+'"\/>';var d='<!DOCTYPE html><html xmlns="http:\/\/www.w3.org\/1999\/xhtml"><head>'+headHTML+"<title>{#defaultReadTip} "+(settings.readTip?settings.readTip:"")+"<\/title>";o&&(d+="<style>html{background:"+o+";}<\/style>"),d+='<\/head><body spellcheck="0" class="editMode'+bodyClass+'"><\/body><\/html>',_this.win=_win=$("#"+idIframe)[0].contentWindow,_jWin=$(_win);try{this.doc=_doc=_win.document,_jDoc=$(_doc),_doc.open(),_doc.write(getLang(d)),_doc.close(),isIE?_doc.body.contentEditable="true":_doc.designMode="On"}catch(u){}setTimeout(setOpts,300),_this.setSource(),_win.setInterval=null,_jTools.append(getLang(l.join(""))).bind("mousedown contextmenu",returnFalse).click(function(e){var t=$(e.target).closest("a");return t.is(".xheEnabled")&&(clearTimeout(timer),_jTools.find("a").attr("tabindex","-1"),ev=e,_this.exec(t.attr("cmd"))),!1}),_jTools.find(".xheButton").hover(function(e){var t=$(this),i=settings.hoverExecDelay,s=lastAngle;if(lastAngle=null,-1===i||bDisableHoverExec||!t.is(".xheEnabled"))return!1;if(s&&s>10)return bDisableHoverExec=!0,setTimeout(function(){bDisableHoverExec=!1},100),!1;var a=t.attr("cmd"),n=1===arrTools[a].h;return n?(bQuickHoverExec&&(i=0),i>=0&&(timer=setTimeout(function(){ev=e,lastPoint={x:ev.clientX,y:ev.clientY},_this.exec(a)},i)),undefined):(_this.hidePanel(),!1)},function(){lastPoint=null,timer&&clearTimeout(timer)}).mousemove(function(e){if(lastPoint){var t={x:e.clientX-lastPoint.x,y:e.clientY-lastPoint.y};if(Math.abs(t.x)>1||Math.abs(t.y)>1){if(t.x>0&&t.y>0){var i=Math.round(Math.atan(t.y\/t.x)\/.017453293);lastAngle=lastAngle?(lastAngle+i)\/2:i}else lastAngle=null;lastPoint={x:e.clientX,y:e.clientY}}}}),_jPanel=$("#xhePanel"),_jShadow=$("#xheShadow"),_jCntLine=$("#xheCntLine"),0===_jPanel.length&&(_jPanel=$('<div id="xhePanel"><\/div>').mousedown(function(e){e.stopPropagation()}),_jShadow=$('<div id="xheShadow"><\/div>'),_jCntLine=$('<div id="xheCntLine"><\/div>'),setTimeout(function(){$(document.body).append(_jPanel).append(_jShadow).append(_jCntLine)},10)),$("#"+idContainer).show(),_jText.hide(),_jArea.css("height",editorHeight-_jTools.outerHeight()),isIE&8>browerVer&&setTimeout(function(){_jArea.css("height",editorHeight-_jTools.outerHeight())},1),_jText.focus(_this.focus),_jForm.submit(saveResult).bind("reset",loadReset),settings.submitID&&$("#"+settings.submitID).mousedown(saveResult),$(window).bind("unload beforeunload",saveResult).bind("resize",fixFullHeight),$(document).mousedown(clickCancelPanel),bCheckEscInit||($(document).keydown(checkEsc),bCheckEscInit=!0),_jWin.focus(function(){settings.focus&&settings.focus()}).blur(function(){settings.blur&&settings.blur()}),isWebkit&&_jWin.click(fixAppleSel),_jDoc.mousedown(clickCancelPanel).keydown(checkShortcuts).keypress(forcePtag).dblclick(checkDblClick).bind("mousedown click",function(e){_jText.trigger(e.type)}),isIE&&(_jDoc.keydown(function(e){var t=_this.getRng();return 8===e.which&&t.item?($(t.item(0)).remove(),!1):undefined}),_jDoc.bind("controlselect",function(t){t=t.target,$.nodeName(t,"IMG")&&$(t).unbind("resizeend",e).bind("resizeend",e)})),_jDoc.keydown(function(e){var t=e.which;return e.altKey&&t>=49&&57>=t?(_jTools.find("a").attr("tabindex","0"),_jTools.find(".xheGStart").eq(t-49).next().find("a").focus(),_doc.title="\\ufeff\\ufeff",!1):undefined}).click(function(){_jTools.find("a").attr("tabindex","-1")}),_jTools.keydown(function(e){var t=e.which;if(27==t)_jTools.find("a").attr("tabindex","-1"),_this.focus();else if(e.altKey&&t>=49&&57>=t)return _jTools.find(".xheGStart").eq(t-49).next().find("a").focus(),!1});var p=$(_doc.documentElement);isOpera?p.bind("keydown",function(e){e.ctrlKey&&86===e.which&&cleanPaste()}):p.bind(isIE?"beforepaste":"paste",cleanPaste),settings.disableContextmenu&&p.bind("contextmenu",returnFalse),settings.html5Upload&&p.bind("dragenter dragover",function(e){var t;return(t=e.originalEvent.dataTransfer.types)&&-1!==$.inArray("Files",t)?!1:undefined}).bind("drop",function(e){function t(e){var t,i,s;for(a=0;e.length>a;a++){if(i=e[a].name.replace(\/.+\\.\/,""),!(t=o.match(RegExp("(\\\\w+):[^:]*,"+i+"(?:,|$)","i"))))return 1;if(s){if(s!==t[1])return 2}else s=t[1]}return s}var i,s=e.originalEvent.dataTransfer;if(s&&(i=s.files)&&i.length>0){var a,n,o,l=["Link","Img","Flash","Media"],r=[];for(a in l)n=l[a],settings["up"+n+"Url"]&&settings["up"+n+"Url"].match(\/^[^!].*\/i)&&r.push(n+":,"+settings["up"+n+"Ext"]);return 0===r.length?!1:(o=r.join(","),n=t(i),1===n?alert(getLang("upload.extLimit",o.replace(\/\\w+:,\/g,""))):2===n?alert(getLang("upload.typeLimit")):n&&_this.startUpload(i,settings["up"+n+"Url"],"*",function(e){var t,i=[],s=settings.onUpload;s&&s(e);for(var a=0,o=e.length;o>a;a++)t=e[a],url=is(t,"string")?t:t.url,"!"===url.substr(0,1)&&(url=url.substr(1)),i.push(url);_this.exec(n),$("#xhe"+n+"Url").val(i.join(" ")),$("#xheSave").click()}),!1)}});var g=settings.shortcuts;g&&$.each(g,function(e,t){_this.addShortcuts(e,t)}),xCount++,bInit=!0,settings.fullscreen?_this.toggleFullscreen():settings.sourceMode&&setTimeout(_this.toggleSource,20);var f=settings.plugins;return f&&$.each(f,function(e,t){var i=t.i;i!==undefined&&i(_this)}),!0},this.remove=function(){_this.hidePanel(),saveResult(),_jText.unbind("focus",_this.focus),_jForm.unbind("submit",saveResult).unbind("reset",loadReset),settings.submitID&&$("#"+settings.submitID).unbind("mousedown",saveResult),$(window).unbind("unload beforeunload",saveResult).unbind("resize",fixFullHeight),$(document).unbind("mousedown",clickCancelPanel),$("#"+idContainer).remove(),$("#"+idFixFFCursor).remove(),_jText.show(),bInit=!1},this.saveBookmark=function(){if(!bSource){_this.focus();var e=_this.getRng();e=e.cloneRange?e.cloneRange():e,bookmark={top:_jWin.scrollTop(),rng:e}}},this.loadBookmark=function(){if(!bSource&&bookmark){_this.focus();var e=bookmark.rng;if(isIE)e.select();else{var t=_this.getSel();t.removeAllRanges(),t.addRange(e)}_jWin.scrollTop(bookmark.top),bookmark=null}},this.focus=function(){if(bSource?$("#sourceCode",_doc).focus():_win.focus(),isIE){var e=_this.getRng();e.parentElement&&e.parentElement().ownerDocument!==_doc&&_this.setTextCursor()}return!1},this.setTextCursor=function(e){var t=_this.getRng(!0),i=_doc.body;if(isIE)t.moveToElementText(i);else{for(var s=e?"lastChild":"firstChild";3!=i.nodeType&&i[s];)i=i[s];t.selectNode(i)}if(t.collapse(e?!1:!0),isIE)t.select();else{var a=_this.getSel();a.removeAllRanges(),a.addRange(t)}},this.getSel=function(){return _doc.selection?_doc.selection:_win.getSelection()},this.getRng=function(e){var t,i;try{e||(t=_this.getSel(),i=t.createRange?t.createRange():t.rangeCount>0?t.getRangeAt(0):null),i||(i=_doc.body.createTextRange?_doc.body.createTextRange():_doc.createRange())}catch(s){}return i},this.getParent=function(e){var t,i=_this.getRng();return isIE?t=i.item?i.item(0):i.parentElement():(t=i.commonAncestorContainer,i.collapsed||i.startContainer===i.endContainer&&2>i.startOffset-i.endOffset&&i.startContainer.hasChildNodes()&&(t=i.startContainer.childNodes[i.startOffset])),e=e?e:"*",t=$(t),t.is(e)||(t=$(t).closest(e)),t},this.getSelect=function(e){var t=_this.getSel(),i=_this.getRng(),s=!0;if(s=!i||i.item?!1:!t||0===i.boundingWidth||i.collapsed,"text"===e)return s?"":i.text||(t.toString?""+t:"");var a;if(i.cloneContents){var n,o=$("<div><\/div>");n=i.cloneContents(),n&&o.append(n),a=o.html()}else a=is(i.item)?i.item(0).outerHTML:is(i.htmlText)?i.htmlText:""+i;return s&&(a=""),a=_this.processHTML(a,"read"),a=_this.cleanHTML(a),a=_this.formatXHTML(a)},this.pasteHTML=function(e,t){if(bSource)return!1;_this.focus(),e=_this.processHTML(e,"write");var i=_this.getSel(),s=_this.getRng();if(t!==undefined){if(s.item){var a=s.item(0);s=_this.getRng(!0),s.moveToElementText(a),s.select()}s.collapse(t)}if(e+="<"+(isIE?"img":"span")+' id="_xhe_temp" width="0" height="0" \/>',s.insertNode){if($(s.startContainer).closest("style,script").length>0)return!1;s.deleteContents(),s.insertNode(s.createContextualFragment(e))}else"control"===i.type.toLowerCase()&&(i.clear(),s=_this.getRng()),s.pasteHTML(e);var n=$("#_xhe_temp",_doc),o=n[0];isIE?(s.moveToElementText(o),s.select()):(s.selectNode(o),i.removeAllRanges(),i.addRange(s)),n.remove()},this.pasteText=function(e,t){e||(e=""),e=_this.domEncode(e),e=e.replace(\/\\r?\\n\/g,"<br \/>"),_this.pasteHTML(e,t)},this.appendHTML=function(e){return bSource?!1:(_this.focus(),e=_this.processHTML(e,"write"),$(_doc.body).append(e),_this.setTextCursor(!0),undefined)},this.domEncode=function(e){return e.replace(regEntities,function(e){return arrEntities[e]})},this.setSource=function(e){bookmark=null,"string"!=typeof e&&""!==e&&(e=_text.value),bSource?$("#sourceCode",_doc).val(e):(settings.beforeSetSource&&(e=settings.beforeSetSource(e)),e=_this.cleanHTML(e),e=_this.formatXHTML(e),e=_this.processHTML(e,"write"),isIE?(_doc.body.innerHTML='<img id="_xhe_temp" width="0" height="0" \/>'+e,$("#_xhe_temp",_doc).remove()):_doc.body.innerHTML=e)},this.processHTML=function(e,t){function i(e,t,i,s,a,o){var l,r,h,c,d="";if(l=s.match(\/font-family\\s*:\\s*([^;"]+)\/i),l&&(d+=' face="'+l[1]+'"'),r=s.match(\/font-size\\s*:\\s*([^;"]+)\/i)){r=r[1].toLowerCase();for(var u=0;n.length>u;u++)if(r===n[u].n||r===n[u].s){h=u+1;break}h&&(d+=' size="'+h+'"',s=s.replace(\/(^|;)(\\s*font-size\\s*:\\s*[^;"]+;?)+\/gi,"$1"))}if(c=s.match(\/(?:^|[\\s;])color\\s*:\\s*([^;"]+)\/i)){var p;if(p=c[1].match(\/\\s*rgb\\s*\\(\\s*(\\d+)\\s*,\\s*(\\d+)\\s*,\\s*(\\d+)\\s*\\)\/i)){c[1]="#";for(var g=1;3>=g;g++)c[1]+=("0"+(p[g]-0).toString(16)).slice(-2)}c[1]=c[1].replace(\/^#([0-9a-f])([0-9a-f])([0-9a-f])$\/i,"#$1$1$2$2$3$3"),d+=' color="'+c[1]+'"'}return s=s.replace(\/(^|;)(\\s*(font-family|color)\\s*:\\s*[^;"]+;?)+\/gi,"$1"),""!==d?(s&&(d+=' style="'+s+'"'),"<font"+(i?i:"")+d+(a?a:"")+">"+o+"<\/font>"):e}function s(e,t,i,s,a){for(var n,l,r=(i?i:"")+(s?s:""),h=[],c=[],d=0;o.length>d;d++)n=o[d].r,l=o[d].t,r=r.replace(n,function(){return h.push("<"+l+">"),c.push("<\/"+l+">"),""});return r=r.replace(\/\\s+style\\s*=\\s*"\\s*"\/i,""),(r?"<span"+r+">":"")+h.join("")+a+c.join("")+(r?"<\/span>":"")}var a=' class="Apple-style-span"',n=settings.listFontsize;if("write"===t)e=e.replace(\/(<(\\\/?)(\\w+))((?:\\s+[\\w\\-:]+\\s*=\\s*(?:"[^"]*"|'[^']*'|[^>\\s]+))*)\\s*((\\\/?)>)\/g,function(e,t,i,s,n,o,l){s=s.toLowerCase(),isMozilla?"strong"===s?s="b":"em"===s&&(s="i"):isWebkit&&("strong"===s?(s="span",i||(n+=a+' style="font-weight: bold;"')):"em"===s?(s="span",i||(n+=a+' style="font-style: italic;"')):"u"===s?(s="span",i||(n+=a+' style="text-decoration: underline;"')):"strike"===s&&(s="span",i||(n+=a+' style="text-decoration: line-through;"')));var r,h="";if("del"===s)s="strike";else if("img"===s)n=n.replace(\/\\s+emot\\s*=\\s*("[^"]*"|'[^']*'|[^>\\s]+)\/i,function(e,t){return r=t.match(\/^(["']?)(.*)\\1\/)[2],r=r.split(","),r[1]||(r[1]=r[0],r[0]=""),"default"===r[0]&&(r[0]=""),settings.emotMark?e:""});else if("a"===s)!n.match(\/ href=[^ ]\/i)&&n.match(\/ name=[^ ]\/i)&&(h+=" xhe-anchor"),l&&(o="><\/a>");else if("table"===s&&!i){var c=n.match(\/\\s+border\\s*=\\s*("[^"]*"|'[^']*'|[^>\\s]+)\/i);(!c||c[1].match(\/^(["']?)\\s*0\\s*\\1$\/))&&(h+=" xhe-border")}var d;if(n=n.replace(\/\\s+([\\w\\-:]+)\\s*=\\s*("[^"]*"|'[^']*'|[^>\\s]+)\/g,function(e,t,i){return t=t.toLowerCase(),i=i.match(\/^(["']?)(.*)\\1\/)[2],aft="",isIE&&t.match(\/^(disabled|checked|readonly|selected)$\/)&&i.match(\/^(false|0)$\/i)?"":"img"===s&&r&&"src"===t?"":(t.match(\/^(src|href)$\/)&&(aft=" _xhe_"+t+'="'+i+'"',urlBase&&(i=getLocalUrl(i,"abs",urlBase))),h&&"class"===t&&(i+=" "+h,h=""),isWebkit&&"style"===t&&"span"===s&&i.match(\/(^|;)\\s*(font-family|font-size|color|background-color)\\s*:\\s*[^;]+\\s*(;|$)\/i)&&(d=!0)," "+t+'="'+i+'"'+aft)}),r){var u=emotPath+(r[0]?r[0]:"default")+"\/"+r[1]+".gif";n+=' src="'+u+'" _xhe_src="'+u+'"'}return d&&(n+=a),h&&(n+=' class="'+h+'"'),"<"+i+s+n+o}),isIE&&(e=e.replace(\/&apos;\/gi,"&#39;")),isWebkit||(e=e.replace(\/<(span)(\\s+[^>]*?)?\\s+style\\s*=\\s*"((?:[^"]*?;)?\\s*(?:font-family|font-size|color)\\s*:[^"]*)"( [^>]*)?>(((?!<\\1(\\s+[^>]*?)?>)[\\s\\S]|<\\1(\\s+[^>]*?)?>((?!<\\1(\\s+[^>]*?)?>)[\\s\\S]|<\\1(\\s+[^>]*?)?>((?!<\\1(\\s+[^>]*?)?>)[\\s\\S])*?<\\\/\\1>)*?<\\\/\\1>)*?)<\\\/\\1>\/gi,i),e=e.replace(\/<(span)(\\s+[^>]*?)?\\s+style\\s*=\\s*"((?:[^"]*?;)?\\s*(?:font-family|font-size|color)\\s*:[^"]*)"( [^>]*)?>(((?!<\\1(\\s+[^>]*?)?>)[\\s\\S]|<\\1(\\s+[^>]*?)?>((?!<\\1(\\s+[^>]*?)?>)[\\s\\S])*?<\\\/\\1>)*?)<\\\/\\1>\/gi,i),e=e.replace(\/<(span)(\\s+[^>]*?)?\\s+style\\s*=\\s*"((?:[^"]*?;)?\\s*(?:font-family|font-size|color)\\s*:[^"]*)"( [^>]*)?>(((?!<\\1(\\s+[^>]*?)?>)[\\s\\S])*?)<\\\/\\1>\/gi,i)),e=e.replace(\/<(td|th)(\\s+[^>]*?)?>(\\s|&nbsp;)*<\\\/\\1>\/gi,"<$1$2>"+(isIE?"":"<br \/>")+"<\/$1>");else{if(isWebkit)for(var o=[{r:\/font-weight\\s*:\\s*bold;?\/gi,t:"strong"},{r:\/font-style\\s*:\\s*italic;?\/gi,t:"em"},{r:\/text-decoration\\s*:\\s*underline;?\/gi,t:"u"},{r:\/text-decoration\\s*:\\s*line-through;?\/gi,t:"strike"}],l=0;2>l;l++)e=e.replace(\/<(span)(\\s+[^>]*?)?\\s+class\\s*=\\s*"Apple-style-span"(\\s+[^>]*?)?>(((?!<\\1(\\s+[^>]*?)?>)[\\s\\S]|<\\1(\\s+[^>]*?)?>((?!<\\1(\\s+[^>]*?)?>)[\\s\\S]|<\\1(\\s+[^>]*?)?>((?!<\\1(\\s+[^>]*?)?>)[\\s\\S])*?<\\\/\\1>)*?<\\\/\\1>)*?)<\\\/\\1>\/gi,s),e=e.replace(\/<(span)(\\s+[^>]*?)?\\s+class\\s*=\\s*"Apple-style-span"(\\s+[^>]*?)?>(((?!<\\1(\\s+[^>]*?)?>)[\\s\\S]|<\\1(\\s+[^>]*?)?>((?!<\\1(\\s+[^>]*?)?>)[\\s\\S])*?<\\\/\\1>)*?)<\\\/\\1>\/gi,s),e=e.replace(\/<(span)(\\s+[^>]*?)?\\s+class\\s*=\\s*"Apple-style-span"(\\s+[^>]*?)?>(((?!<\\1(\\s+[^>]*?)?>)[\\s\\S])*?)<\\\/\\1>\/gi,s);e=e.replace(\/(<(\\w+))((?:\\s+[\\w\\-:]+\\s*=\\s*(?:"[^"]*"|'[^']*'|[^>\\s]+))*)\\s*(\\\/?>)\/g,function(e,t,i,s,a){i=i.toLowerCase();$/;"	p
var.specialKeys.122	js/xheditor.min.js	/^(function(){var e={};window.XHEDITOR=e})(),function(e,t){e.mapLang={},e.setLang=function(i,s){s===t&&(s=i,i=""),""!==i&&(i+=".");var a,n;for(var o in s)n=s[o],a=i+o,"string"==typeof n||n instanceof Array?e.mapLang[a]=n:e.setLang(a,n)},e.getLang=function(i){var s=e.mapLang[i];if(s===t&&(s=i.replace(\/{#([^{}]+)}\/g,function(t,i){var s=e.mapLang[i];return s?s:i})),"string"==typeof s){var a=arguments;s=s.replace(\/{\\$(\\d+)}\/g,function(e,i){var s=a[parseInt(i,10)+1];return s!==t?s:e})}return s}}(XHEDITOR),function(XHEDITOR,$,undefined){var agent=navigator.userAgent.toLowerCase(),bMobile=\/mobile\/i.test(agent),browser=$.browser,browerVer=parseFloat(browser.version),isIE=browser.msie,isMozilla=browser.mozilla,isWebkit=browser.webkit,isOpera=browser.opera,isChrome=browser.chrome,bAir=agent.indexOf(" adobeair\/")>-1,xCount=0,bShowPanel=!1,bClickCancel=!0,bShowModal=!1,bCheckEscInit=!1,_jPanel,_jShadow,_jCntLine,_jPanelButton,jModal,jModalShadow,layerShadow,jOverlay,jHideSelect,onModalRemove,editorRoot,getLang=XHEDITOR.getLang;if($("script[src*=xheditor]").each(function(){var e=this.src;return e.match(\/xheditor[^\\\/]*\\.js\/i)?(editorRoot=e.replace(\/[\\?#].*$\/,"").replace(\/(^|[\\\/\\\\])[^\\\/]*$\/,"$1"),!1):undefined}),isIE){try{document.execCommand("BackgroundImageCache",!1,!0)}catch(e){}var jqueryVer=$.fn.jquery;jqueryVer&&jqueryVer.match(\/^1\\.[67]\/)&&($.attrHooks.width=$.attrHooks.height=null)}var specialKeys={27:"esc",9:"tab",32:"space",13:"enter",8:"backspace",145:"scroll",20:"capslock",144:"numlock",19:"pause",45:"insert",36:"home",46:"del",35:"end",33:"pageup",34:"pagedown",37:"left",38:"up",39:"right",40:"down",112:"f1",113:"f2",114:"f3",115:"f4",116:"f5",117:"f6",118:"f7",119:"f8",120:"f9",121:"f10",122:"f11",123:"f12"},arrAlign=[{v:"justifyleft"},{v:"justifycenter"},{v:"justifyright"},{v:"justifyfull"}],arrList=[{v:"insertOrderedList"},{v:"insertUnorderedList"}],htmlPastetext='<div><label for="xhePastetextValue">{#PastetextTip}<\/label><\/div><div><textarea id="xhePastetextValue" wrap="soft" spellcheck="false" style="width:300px;height:100px;" \/><\/div><div style="text-align:right;"><input type="button" id="xheSave" value="{#dialogOk}" \/><\/div>',htmlLink='<div><label for="xheLinkUrl">{#link.url}<\/label><input type="text" id="xheLinkUrl" value="http:\/\/" class="xheText" \/><\/div><div><label for="xheLinkTarget">{#link.target}<\/label><select id="xheLinkTarget"><option selected="selected" value="">{#default}<\/option><option value="_blank">{#link.targetBlank}<\/option><option value="_self">{#link.targetSelf}<\/option><option value="_parent">{#link.targetParent}<\/option><\/select><\/div><div style="display:none"><label for="xheLinkText">{#link.linkText}<\/label><input type="text" id="xheLinkText" value="" class="xheText" \/><\/div><div style="text-align:right;"><input type="button" id="xheSave" value="{#dialogOk}" \/><\/div>',htmlAnchor='<div><label for="xheAnchorName">{#anchor.name}<\/label><input type="text" id="xheAnchorName" value="" class="xheText" \/><\/div><div style="text-align:right;"><input type="button" id="xheSave" value="{#dialogOk}" \/><\/div>',htmlImg='<div><label for="xheImgUrl">{#img.url}<\/label><input type="text" id="xheImgUrl" value="http:\/\/" class="xheText" \/><\/div><div><div><label for="xheImgAlt">{#img.alt}<\/label><input type="text" id="xheImgAlt" \/><\/div><div><label for="xheImgAlign">{#img.align}<\/label><select id="xheImgAlign"><option selected="selected" value="">{#default}<\/option><option value="left">{#img.alignLeft}<\/option><option value="right">{#img.alignRight}<\/option><option value="top">{#img.alignTop}<\/option><option value="middle">{#img.alignMiddle}<\/option><option value="baseline">{#img.alignBaseline}<\/option><option value="bottom">{#img.alignBottom}<\/option><\/select><\/div><div><label for="xheImgWidth">{#img.width}<\/label><input type="text" id="xheImgWidth" style="width:40px;" \/> <label for="xheImgHeight">{#img.height}<\/label><input type="text" id="xheImgHeight" style="width:40px;" \/><\/div><div><label for="xheImgBorder">{#img.border}<\/label><input type="text" id="xheImgBorder" style="width:40px;" \/><\/div><div><label for="xheImgHspace">{#img.hspace}<\/label><input type="text" id="xheImgHspace" style="width:40px;" \/> <label for="xheImgVspace">{#img.vspace}<\/label><input type="text" id="xheImgVspace" style="width:40px;" \/><\/div><div style="text-align:right;"><input type="button" id="xheSave" value="{#dialogOk}" \/><\/div>',htmlFlash='<div><label for="xheFlashUrl">{#flash.url}<\/label><input type="text" id="xheFlashUrl" value="http:\/\/" class="xheText" \/><\/div><div><label for="xheFlashWidth">{#flash.width}<\/label><input type="text" id="xheFlashWidth" style="width:40px;" value="480" \/> <label for="xheFlashHeight">{#flash.height}<\/label><input type="text" id="xheFlashHeight" style="width:40px;" value="400" \/><\/div><div style="text-align:right;"><input type="button" id="xheSave" value="{#dialogOk}" \/><\/div>',htmlMedia='<div><label for="xheMediaUrl">{#media.url}<\/label><input type="text" id="xheMediaUrl" value="http:\/\/" class="xheText" \/><\/div><div><label for="xheMediaWidth">{#media.width}<\/label><input type="text" id="xheMediaWidth" style="width:40px;" value="480" \/> <label for="xheMediaHeight">{#media.height}<\/label><input type="text" id="xheMediaHeight" style="width:40px;" value="400" \/><\/div><div style="text-align:right;"><input type="button" id="xheSave" value="{#dialogOk}" \/><\/div>',htmlTable='<div><label for="xheTableRows">{#table.rows}<\/label><input type="text" id="xheTableRows" style="width:40px;" value="3" \/> <label for="xheTableColumns">{#table.columns}<\/label><input type="text" id="xheTableColumns" style="width:40px;" value="2" \/><\/div><div><label for="xheTableHeaders">{#table.headers}<\/label><select id="xheTableHeaders"><option selected="selected" value="">{#none}<\/option><option value="row">{#table.headersRow}<\/option><option value="col">{#table.headersCol}<\/option><option value="both">{#table.headersBoth}<\/option><\/select><\/div><div><label for="xheTableWidth">{#table.width}<\/label><input type="text" id="xheTableWidth" style="width:40px;" value="200" \/> <label for="xheTableHeight">{#table.height}<\/label><input type="text" id="xheTableHeight" style="width:40px;" value="" \/><\/div><div><label for="xheTableBorder">{#table.border}<\/label><input type="text" id="xheTableBorder" style="width:40px;" value="1" \/><\/div><div><label for="xheTableCellSpacing">{#table.cellSpacing}<\/label><input type="text" id="xheTableCellSpacing" style="width:40px;" value="1" \/> <label for="xheTableCellPadding">{#table.cellPadding}<\/label><input type="text" id="xheTableCellPadding" style="width:40px;" value="1" \/><\/div><div><label for="xheTableAlign">{#table.align}<\/label><select id="xheTableAlign"><option selected="selected" value="">{#default}<\/option><option value="left">{#table.alignLeft}<\/option><option value="center">{#table.alignCenter}<\/option><option value="right">{#table.alignRight}<\/option><\/select><\/div><div><label for="xheTableCaption">{#table.caption}<\/label><input type="text" id="xheTableCaption" \/><\/div><div style="text-align:right;"><input type="button" id="xheSave" value="{#dialogOk}" \/><\/div>',htmlAbout='<div style="font:12px Arial;width:245px;word-wrap:break-word;word-break:break-all;outline:none;" role="dialog" tabindex="-1"><p><span style="font-size:20px;color:#1997DF;">xhEditor<\/span><br \/>v1.2.1 (build 130225)<\/p><p>{#aboutXheditor}<\/p><p>Copyright &copy; <a href="http:\/\/xheditor.com\/" target="_blank">xhEditor.com<\/a>. All rights reserved.<\/p><\/div>',itemEmots={"default":{name:"{#default}",width:24,height:24,line:7,list:["smile","tongue","titter","laugh","sad","wronged","fastcry","cry","wail","mad","knock","curse","crazy","angry","ohmy","awkward","panic","shy","cute","envy","proud","struggle","quiet","shutup","doubt","despise","sleep","bye"]}},arrTools={Cut:{t:"Cut"},Copy:{t:"Copy"},Paste:{t:"Paste"},Pastetext:{t:"Pastetext",h:isIE?0:1},Blocktag:{t:"Blocktag",h:1},Fontface:{t:"Fontface",h:1},FontSize:{t:"FontSize",h:1},Bold:{t:"Bold",s:"Ctrl+B"},Italic:{t:"Italic",s:"Ctrl+I"},Underline:{t:"Underline",s:"Ctrl+U"},Strikethrough:{t:"Strikethrough"},FontColor:{t:"FontColor",h:1},BackColor:{t:"BackColor",h:1},SelectAll:{t:"SelectAll"},Removeformat:{t:"Removeformat"},Align:{t:"Align",h:1},List:{t:"List",h:1},Outdent:{t:"Outdent"},Indent:{t:"Indent"},Link:{t:"Link",s:"Ctrl+L",h:1},Unlink:{t:"Unlink"},Anchor:{t:"Anchor",h:1},Img:{t:"Img",h:1},Flash:{t:"Flash",h:1},Media:{t:"Media",h:1},Hr:{t:"Hr"},Emot:{t:"Emot",s:"ctrl+e",h:1},Table:{t:"Table",h:1},Source:{t:"Source"},Preview:{t:"Preview"},Print:{t:"Print",s:"Ctrl+P"},Fullscreen:{t:"Fullscreen",s:"Esc"},About:{t:"About"}},toolsThemes={mini:"Bold,Italic,Underline,Strikethrough,|,Align,List,|,Link,Img",simple:"Blocktag,Fontface,FontSize,Bold,Italic,Underline,Strikethrough,FontColor,BackColor,|,Align,List,Outdent,Indent,|,Link,Img,Emot",full:"Cut,Copy,Paste,Pastetext,|,Blocktag,Fontface,FontSize,Bold,Italic,Underline,Strikethrough,FontColor,BackColor,SelectAll,Removeformat,|,Align,List,Outdent,Indent,|,Link,Unlink,Anchor,Img,Flash,Media,Hr,Emot,Table,|,Source,Preview,Print,Fullscreen"};toolsThemes.mfull=toolsThemes.full.replace(\/\\|(,Align)\/i,"\/$1");var arrDbClick={a:"Link",img:"Img",embed:"Embed"},uploadInputname="filedata",arrEntities={"<":"&lt;",">":"&gt;",'"':"&quot;","\\u00ae":"&reg;","\\u00a9":"&copy;"},regEntities=\/[<>"\\u00ae\\u00a9]\/g,Xheditor=function(textarea,options){function checkDblClick(e){var t=e.target,i=arrDbClick[t.tagName.toLowerCase()];if(i){if("Embed"===i){var s={"application\/x-shockwave-flash":"Flash","application\/x-mplayer2":"Media"};i=s[t.type.toLowerCase()]}_this.exec(i)}}function checkEsc(e){return 27===e.which?(bShowModal?_this.removeModal():bShowPanel&&_this.hidePanel(),!1):undefined}function loadReset(){setTimeout(_this.setSource,10)}function saveResult(){_this.getSource()}function cleanPaste(e){var t,i,s;if(e&&(t=e.originalEvent.clipboardData)&&(i=t.items)&&(s=i[0])&&"file"==s.kind&&s.type.match(\/^image\\\/\/i)){var a=s.getAsFile(),n=new FileReader;return n.onload=function(){var e='<img src="'+event.target.result+'">';e=replaceRemoteImg(e),_this.pasteHTML(e)},n.readAsDataURL(a),!1}var o=settings.cleanPaste;if(0===o||bSource||bCleanPaste)return!0;bCleanPaste=!0,_this.saveBookmark();var l=isIE?"pre":"div",r=$("<"+l+' class="xhe-paste">\\ufeff\\ufeff<\/'+l+">",_doc).appendTo(_doc.body),h=r[0],c=_this.getSel(),d=_this.getRng(!0);r.css("top",_jWin.scrollTop()),isIE?(d.moveToElementText(h),d.select()):(d.selectNodeContents(h),c.removeAllRanges(),c.addRange(d)),setTimeout(function(){var e,t=3===o;if(t)r.html(r.html().replace(\/<br(\\s+[^<>]*)?>\/gi,"\\n")),e=r.text();else{var i=$(".xhe-paste",_doc.body),s=[];i.each(function(e,t){0==$(t).find(".xhe-paste").length&&s.push(t.innerHTML)}),e=s.join("<br \/>")}r.remove(),_this.loadBookmark(),e=e.replace(\/^[\\s\\uFEFF]+|[\\s\\uFEFF]+$\/g,""),e&&(t?_this.pasteText(e):(e=_this.cleanHTML(e),e=_this.cleanWord(e),e=_this.formatXHTML(e),(!settings.onPaste||settings.onPaste&&(e=settings.onPaste(e))!==!1)&&(e=replaceRemoteImg(e),_this.pasteHTML(e)))),bCleanPaste=!1},0)}function replaceRemoteImg(e){var t=settings.localUrlTest,i=settings.remoteImgSaveUrl;if(t&&i){var s=[],a=0;e=e.replace(\/(<img)((?:\\s+[^>]*?)?(?:\\s+src="\\s*([^"]+)\\s*")(?: [^>]*)?)(\\\/?>)\/gi,function(e,i,n,o,l){return!\/^(https?|data:image)\/i.test(o)||\/_xhe_temp\/.test(n)||t.test(o)||(s[a]=o,n=n.replace(\/\\s+(width|height)="[^"]*"\/gi,"").replace(\/\\s+src="[^"]*"\/gi,' src="'+skinPath+'img\/waiting.gif" remoteimg="'+a++ +'"')),i+n+l}),s.length>0&&$.post(i,{urls:s.join("|")},function(e){e=e.split("|"),$("img[remoteimg]",_this.doc).each(function(){var t=$(this);xheAttr(t,"src",e[t.attr("remoteimg")]),t.removeAttr("remoteimg")})})}return e}function setCSS(e){try{_this._exec("styleWithCSS",e,!0)}catch(t){try{_this._exec("useCSS",!e,!0)}catch(t){}}}function setOpts(){if(bInit&&!bSource){setCSS(!1);try{_this._exec("enableObjectResizing",!0,!0)}catch(e){}if(isIE)try{_this._exec("BackgroundImageCache",!0,!0)}catch(e){}}}function forcePtag(e){if(bSource||13!==e.which||e.shiftKey||e.ctrlKey||e.altKey)return!0;var t=_this.getParent("p,h1,h2,h3,h4,h5,h6,pre,address,div,li");return t.is("li")?!0:settings.forcePtag?(0===t.length&&_this._exec("formatblock","<p>"),undefined):(_this.pasteHTML("<br \/>"),isIE&&t.length>0&&2===_this.getRng().parentElement().childNodes.length&&_this.pasteHTML("<br \/>"),!1)}function fixFullHeight(){isMozilla||isWebkit||(bFullscreen&&_jArea.height("100%").css("height",_jArea.outerHeight()-_jTools.outerHeight()),isIE&&_jTools.hide().show())}function fixAppleSel(e){if(e=e.target,e.tagName.match(\/(img|embed)\/i)){var t=_this.getSel(),i=_this.getRng(!0);i.selectNode(e),t.removeAllRanges(),t.addRange(i)}}function xheAttr(e,t,i){if(!t)return!1;var s="_xhe_"+t;return i&&(urlType&&(i=getLocalUrl(i,urlType,urlBase)),e.attr(t,urlBase?getLocalUrl(i,"abs",urlBase):i).removeAttr(s).attr(s,i)),e.attr(s)||e.attr(t)}function clickCancelPanel(){bClickCancel&&_this.hidePanel()}function checkShortcuts(e){if(bSource)return!0;var t=e.which,i=specialKeys[t],s=i?i:String.fromCharCode(t).toLowerCase();sKey="",sKey+=e.ctrlKey?"ctrl+":"",sKey+=e.altKey?"alt+":"",sKey+=e.shiftKey?"shift+":"",sKey+=s;var a,n=arrShortCuts[sKey];for(a in n){if(a=n[a],!$.isFunction(a))return _this.exec(a),!1;if(a.call(_this)===!1)return!1}}function is(e,t){var i=typeof e;return t?"array"===t&&e.hasOwnProperty&&e instanceof Array?!0:i===t:"undefined"!=i}function getLocalUrl(e,t,i){if(e.match(\/^(\\w+):\\\/\\\/\/i)&&!e.match(\/^https?:\/i)||\/^#\/i.test(e)||\/^data:\/i.test(e))return e;var s=i?$('<a href="'+i+'" \/>')[0]:location,a=s.protocol,n=s.host,o=s.hostname,l=s.port,r=s.pathname.replace(\/\\\\\/g,"\/").replace(\/[^\\\/]+$\/i,"");if(""===l&&(l="80"),""===r?r="\/":"\/"!==r.charAt(0)&&(r="\/"+r),e=$.trim(e),"abs"!==t&&(e=e.replace(RegExp(a+"\\\\\/\\\\\/"+o.replace(\/\\.\/g,"\\\\.")+"(?::"+l+")"+("80"===l?"?":"")+"(\/|$)","i"),"\/")),"rel"===t&&(e=e.replace(RegExp("^"+r.replace(\/([\\\/\\.\\+\\[\\]\\(\\)])\/g,"\\\\$1"),"i"),"")),"rel"!==t&&(e.match(\/^(https?:\\\/\\\/|\\\/)\/i)||(e=r+e),"\/"===e.charAt(0))){var h,c,d=[],u=e.split("\/"),p=u.length;for(c=0;p>c;c++)h=u[c],".."===h?d.pop():""!==h&&"."!==h&&d.push(h);""===u[p-1]&&d.push(""),e="\/"+d.join("\/")}return"abs"!==t||e.match(\/^https?:\\\/\\\/\/i)||(e=a+"\/\/"+n+e),e=e.replace(\/(https?:\\\/\\\/[^:\\\/?#]+):80(\\\/|$)\/i,"$1$2")}function checkFileExt(e,t){return"*"===t||e.match(RegExp(".("+t.replace(\/,\/g,"|")+")$","i"))?!0:(alert(getLang("upload.extLimit",t)),!1)}function formatBytes(e){var t=["Byte","KB","MB","GB","TB","PB"],i=Math.floor(Math.log(e)\/Math.log(1024));return(e\/Math.pow(1024,Math.floor(i))).toFixed(2)+t[i]}function returnFalse(){return!1}var _this=this,_text=textarea,_jText=$(_text),_jForm=_jText.closest("form"),_jTools,_jArea,_win,_jWin,_doc,_jDoc,bookmark,bInit=!1,bSource=!1,bFullscreen=!1,bCleanPaste=!1,outerScroll,bShowBlocktag=!1,sLayoutStyle="",ev=null,timer,bDisableHoverExec=!1,bQuickHoverExec=!1,lastPoint=null,lastAngle=null,editorHeight=0,settings=_this.settings=$.extend({},XHEDITOR.settings,options),plugins=settings.plugins,strPlugins=[];if(plugins&&(arrTools=$.extend({},arrTools,plugins),$.each(plugins,function(e){strPlugins.push(e)}),strPlugins=strPlugins.join(",")),settings.tools.match(\/^\\s*(m?full|simple|mini)\\s*$\/i)){var toolsTheme=toolsThemes[$.trim(settings.tools)];settings.tools=settings.tools.match(\/m?full\/i)&&plugins?toolsTheme.replace("Table","Table,"+strPlugins):toolsTheme}settings.tools.match(\/(^|,)\\s*About\\s*(,|$)\/i)||(settings.tools+=",About"),settings.tools=settings.tools.split(","),settings.editorRoot&&(editorRoot=settings.editorRoot),bAir===!1&&(editorRoot=getLocalUrl(editorRoot,"abs")),settings.urlBase&&(settings.urlBase=getLocalUrl(settings.urlBase,"abs"));var idCSS="xheCSS_"+settings.skin,idContainer="xhe"+xCount+"_container",idTools="xhe"+xCount+"_Tool",idIframeArea="xhe"+xCount+"_iframearea",idIframe="xhe"+xCount+"_iframe",idFixFFCursor="xhe"+xCount+"_fixffcursor",headHTML="",bodyClass="",skinPath=editorRoot+"xheditor_skin\/"+settings.skin+"\/",arrEmots=itemEmots,urlType=settings.urlType,urlBase=settings.urlBase,emotPath=settings.emotPath,emotPath=emotPath?emotPath:editorRoot+"xheditor_emot\/",selEmotGroup="";arrEmots=$.extend({},arrEmots,settings.emots),emotPath=getLocalUrl(emotPath,"rel",urlBase?urlBase:null),bShowBlocktag=settings.showBlocktag,bShowBlocktag&&(bodyClass+=" showBlocktag");var arrShortCuts=[];this.init=function(){function e(e){var t,i=$(e.target);(t=i.css("width"))&&i.css("width","").attr("width",t.replace(\/[^0-9%]+\/g,"")),(t=i.css("height"))&&i.css("height","").attr("height",t.replace(\/[^0-9%]+\/g,""))}0===$("#"+idCSS).length&&$("head").append('<link id="'+idCSS+'" rel="stylesheet" type="text\/css" href="'+skinPath+'ui.css" \/>');var t=_jText.outerWidth(),i=_jText.outerHeight(),s=settings.width||_text.style.width||(t>10?t:0);editorHeight=settings.height||_text.style.height||(i>10?i:150),\/^\\d+(?:\\.\\d+)?$\/.test(s)&&(s+="px"),is(editorHeight,"string")&&(editorHeight=editorHeight.replace(\/[^\\d]+\/g,""));var a,n,o=settings.background||_text.style.background,l=['<span class="xheGStart"\/>'],r=\/\\||\\\/\/i;$.each(settings.tools,function(e,t){if(t.match(r)&&l.push('<span class="xheGEnd"\/>'),"|"===t)l.push('<span class="xheSeparator"\/>');else if("\/"===t)l.push("<br \/>");else{if(a=arrTools[t],!a)return;n=a.c?a.c:"xheIcon xheBtn"+t,l.push('<span><a href="#" title="{#'+a.t+'}" cmd="'+t+'" class="xheButton xheEnabled" tabindex="-1" role="button"><span class="'+n+'" unselectable="on" style="font-size:0;color:transparent;text-indent:-999px;">'+a.t+"<\/span><\/a><\/span>"),a.s&&_this.addShortcuts(a.s,t)}t.match(r)&&l.push('<span class="xheGStart"\/>')}),l.push('<span class="xheGEnd"\/><br \/>'),_jText.after($('<input type="text" id="'+idFixFFCursor+'" style="position:absolute;display:none;" \/><span id="'+idContainer+'" class="xhe_'+settings.skin+'" style="display:none"><table cellspacing="0" cellpadding="0" class="xheLayout" style="'+("0px"!=s?"width:"+s+";":"")+"height:"+editorHeight+'px;" role="presentation"><tr><td id="'+idTools+'" class="xheTool" unselectable="on" style="height:1px;" role="presentation"><\/td><\/tr><tr><td id="'+idIframeArea+'" class="xheIframeArea" role="presentation"><iframe frameborder="0" id="'+idIframe+'" src="javascript:;" style="width:100%;"><\/iframe><\/td><\/tr><\/table><\/span>')),_jTools=$("#"+idTools),_jArea=$("#"+idIframeArea),headHTML='<meta http-equiv="Content-Type" content="text\/html; charset=utf-8" \/><link rel="stylesheet" href="'+skinPath+'iframe.css"\/>';var h=settings.loadCSS;if(h)if(is(h,"array"))for(var c in h)headHTML+='<link rel="stylesheet" href="'+h[c]+'"\/>';else headHTML+=h.match(\/\\s*<style(\\s+[^>]*?)?>[\\s\\S]+?<\\\/style>\\s*\/i)?h:'<link rel="stylesheet" href="'+h+'"\/>';var d='<!DOCTYPE html><html xmlns="http:\/\/www.w3.org\/1999\/xhtml"><head>'+headHTML+"<title>{#defaultReadTip} "+(settings.readTip?settings.readTip:"")+"<\/title>";o&&(d+="<style>html{background:"+o+";}<\/style>"),d+='<\/head><body spellcheck="0" class="editMode'+bodyClass+'"><\/body><\/html>',_this.win=_win=$("#"+idIframe)[0].contentWindow,_jWin=$(_win);try{this.doc=_doc=_win.document,_jDoc=$(_doc),_doc.open(),_doc.write(getLang(d)),_doc.close(),isIE?_doc.body.contentEditable="true":_doc.designMode="On"}catch(u){}setTimeout(setOpts,300),_this.setSource(),_win.setInterval=null,_jTools.append(getLang(l.join(""))).bind("mousedown contextmenu",returnFalse).click(function(e){var t=$(e.target).closest("a");return t.is(".xheEnabled")&&(clearTimeout(timer),_jTools.find("a").attr("tabindex","-1"),ev=e,_this.exec(t.attr("cmd"))),!1}),_jTools.find(".xheButton").hover(function(e){var t=$(this),i=settings.hoverExecDelay,s=lastAngle;if(lastAngle=null,-1===i||bDisableHoverExec||!t.is(".xheEnabled"))return!1;if(s&&s>10)return bDisableHoverExec=!0,setTimeout(function(){bDisableHoverExec=!1},100),!1;var a=t.attr("cmd"),n=1===arrTools[a].h;return n?(bQuickHoverExec&&(i=0),i>=0&&(timer=setTimeout(function(){ev=e,lastPoint={x:ev.clientX,y:ev.clientY},_this.exec(a)},i)),undefined):(_this.hidePanel(),!1)},function(){lastPoint=null,timer&&clearTimeout(timer)}).mousemove(function(e){if(lastPoint){var t={x:e.clientX-lastPoint.x,y:e.clientY-lastPoint.y};if(Math.abs(t.x)>1||Math.abs(t.y)>1){if(t.x>0&&t.y>0){var i=Math.round(Math.atan(t.y\/t.x)\/.017453293);lastAngle=lastAngle?(lastAngle+i)\/2:i}else lastAngle=null;lastPoint={x:e.clientX,y:e.clientY}}}}),_jPanel=$("#xhePanel"),_jShadow=$("#xheShadow"),_jCntLine=$("#xheCntLine"),0===_jPanel.length&&(_jPanel=$('<div id="xhePanel"><\/div>').mousedown(function(e){e.stopPropagation()}),_jShadow=$('<div id="xheShadow"><\/div>'),_jCntLine=$('<div id="xheCntLine"><\/div>'),setTimeout(function(){$(document.body).append(_jPanel).append(_jShadow).append(_jCntLine)},10)),$("#"+idContainer).show(),_jText.hide(),_jArea.css("height",editorHeight-_jTools.outerHeight()),isIE&8>browerVer&&setTimeout(function(){_jArea.css("height",editorHeight-_jTools.outerHeight())},1),_jText.focus(_this.focus),_jForm.submit(saveResult).bind("reset",loadReset),settings.submitID&&$("#"+settings.submitID).mousedown(saveResult),$(window).bind("unload beforeunload",saveResult).bind("resize",fixFullHeight),$(document).mousedown(clickCancelPanel),bCheckEscInit||($(document).keydown(checkEsc),bCheckEscInit=!0),_jWin.focus(function(){settings.focus&&settings.focus()}).blur(function(){settings.blur&&settings.blur()}),isWebkit&&_jWin.click(fixAppleSel),_jDoc.mousedown(clickCancelPanel).keydown(checkShortcuts).keypress(forcePtag).dblclick(checkDblClick).bind("mousedown click",function(e){_jText.trigger(e.type)}),isIE&&(_jDoc.keydown(function(e){var t=_this.getRng();return 8===e.which&&t.item?($(t.item(0)).remove(),!1):undefined}),_jDoc.bind("controlselect",function(t){t=t.target,$.nodeName(t,"IMG")&&$(t).unbind("resizeend",e).bind("resizeend",e)})),_jDoc.keydown(function(e){var t=e.which;return e.altKey&&t>=49&&57>=t?(_jTools.find("a").attr("tabindex","0"),_jTools.find(".xheGStart").eq(t-49).next().find("a").focus(),_doc.title="\\ufeff\\ufeff",!1):undefined}).click(function(){_jTools.find("a").attr("tabindex","-1")}),_jTools.keydown(function(e){var t=e.which;if(27==t)_jTools.find("a").attr("tabindex","-1"),_this.focus();else if(e.altKey&&t>=49&&57>=t)return _jTools.find(".xheGStart").eq(t-49).next().find("a").focus(),!1});var p=$(_doc.documentElement);isOpera?p.bind("keydown",function(e){e.ctrlKey&&86===e.which&&cleanPaste()}):p.bind(isIE?"beforepaste":"paste",cleanPaste),settings.disableContextmenu&&p.bind("contextmenu",returnFalse),settings.html5Upload&&p.bind("dragenter dragover",function(e){var t;return(t=e.originalEvent.dataTransfer.types)&&-1!==$.inArray("Files",t)?!1:undefined}).bind("drop",function(e){function t(e){var t,i,s;for(a=0;e.length>a;a++){if(i=e[a].name.replace(\/.+\\.\/,""),!(t=o.match(RegExp("(\\\\w+):[^:]*,"+i+"(?:,|$)","i"))))return 1;if(s){if(s!==t[1])return 2}else s=t[1]}return s}var i,s=e.originalEvent.dataTransfer;if(s&&(i=s.files)&&i.length>0){var a,n,o,l=["Link","Img","Flash","Media"],r=[];for(a in l)n=l[a],settings["up"+n+"Url"]&&settings["up"+n+"Url"].match(\/^[^!].*\/i)&&r.push(n+":,"+settings["up"+n+"Ext"]);return 0===r.length?!1:(o=r.join(","),n=t(i),1===n?alert(getLang("upload.extLimit",o.replace(\/\\w+:,\/g,""))):2===n?alert(getLang("upload.typeLimit")):n&&_this.startUpload(i,settings["up"+n+"Url"],"*",function(e){var t,i=[],s=settings.onUpload;s&&s(e);for(var a=0,o=e.length;o>a;a++)t=e[a],url=is(t,"string")?t:t.url,"!"===url.substr(0,1)&&(url=url.substr(1)),i.push(url);_this.exec(n),$("#xhe"+n+"Url").val(i.join(" ")),$("#xheSave").click()}),!1)}});var g=settings.shortcuts;g&&$.each(g,function(e,t){_this.addShortcuts(e,t)}),xCount++,bInit=!0,settings.fullscreen?_this.toggleFullscreen():settings.sourceMode&&setTimeout(_this.toggleSource,20);var f=settings.plugins;return f&&$.each(f,function(e,t){var i=t.i;i!==undefined&&i(_this)}),!0},this.remove=function(){_this.hidePanel(),saveResult(),_jText.unbind("focus",_this.focus),_jForm.unbind("submit",saveResult).unbind("reset",loadReset),settings.submitID&&$("#"+settings.submitID).unbind("mousedown",saveResult),$(window).unbind("unload beforeunload",saveResult).unbind("resize",fixFullHeight),$(document).unbind("mousedown",clickCancelPanel),$("#"+idContainer).remove(),$("#"+idFixFFCursor).remove(),_jText.show(),bInit=!1},this.saveBookmark=function(){if(!bSource){_this.focus();var e=_this.getRng();e=e.cloneRange?e.cloneRange():e,bookmark={top:_jWin.scrollTop(),rng:e}}},this.loadBookmark=function(){if(!bSource&&bookmark){_this.focus();var e=bookmark.rng;if(isIE)e.select();else{var t=_this.getSel();t.removeAllRanges(),t.addRange(e)}_jWin.scrollTop(bookmark.top),bookmark=null}},this.focus=function(){if(bSource?$("#sourceCode",_doc).focus():_win.focus(),isIE){var e=_this.getRng();e.parentElement&&e.parentElement().ownerDocument!==_doc&&_this.setTextCursor()}return!1},this.setTextCursor=function(e){var t=_this.getRng(!0),i=_doc.body;if(isIE)t.moveToElementText(i);else{for(var s=e?"lastChild":"firstChild";3!=i.nodeType&&i[s];)i=i[s];t.selectNode(i)}if(t.collapse(e?!1:!0),isIE)t.select();else{var a=_this.getSel();a.removeAllRanges(),a.addRange(t)}},this.getSel=function(){return _doc.selection?_doc.selection:_win.getSelection()},this.getRng=function(e){var t,i;try{e||(t=_this.getSel(),i=t.createRange?t.createRange():t.rangeCount>0?t.getRangeAt(0):null),i||(i=_doc.body.createTextRange?_doc.body.createTextRange():_doc.createRange())}catch(s){}return i},this.getParent=function(e){var t,i=_this.getRng();return isIE?t=i.item?i.item(0):i.parentElement():(t=i.commonAncestorContainer,i.collapsed||i.startContainer===i.endContainer&&2>i.startOffset-i.endOffset&&i.startContainer.hasChildNodes()&&(t=i.startContainer.childNodes[i.startOffset])),e=e?e:"*",t=$(t),t.is(e)||(t=$(t).closest(e)),t},this.getSelect=function(e){var t=_this.getSel(),i=_this.getRng(),s=!0;if(s=!i||i.item?!1:!t||0===i.boundingWidth||i.collapsed,"text"===e)return s?"":i.text||(t.toString?""+t:"");var a;if(i.cloneContents){var n,o=$("<div><\/div>");n=i.cloneContents(),n&&o.append(n),a=o.html()}else a=is(i.item)?i.item(0).outerHTML:is(i.htmlText)?i.htmlText:""+i;return s&&(a=""),a=_this.processHTML(a,"read"),a=_this.cleanHTML(a),a=_this.formatXHTML(a)},this.pasteHTML=function(e,t){if(bSource)return!1;_this.focus(),e=_this.processHTML(e,"write");var i=_this.getSel(),s=_this.getRng();if(t!==undefined){if(s.item){var a=s.item(0);s=_this.getRng(!0),s.moveToElementText(a),s.select()}s.collapse(t)}if(e+="<"+(isIE?"img":"span")+' id="_xhe_temp" width="0" height="0" \/>',s.insertNode){if($(s.startContainer).closest("style,script").length>0)return!1;s.deleteContents(),s.insertNode(s.createContextualFragment(e))}else"control"===i.type.toLowerCase()&&(i.clear(),s=_this.getRng()),s.pasteHTML(e);var n=$("#_xhe_temp",_doc),o=n[0];isIE?(s.moveToElementText(o),s.select()):(s.selectNode(o),i.removeAllRanges(),i.addRange(s)),n.remove()},this.pasteText=function(e,t){e||(e=""),e=_this.domEncode(e),e=e.replace(\/\\r?\\n\/g,"<br \/>"),_this.pasteHTML(e,t)},this.appendHTML=function(e){return bSource?!1:(_this.focus(),e=_this.processHTML(e,"write"),$(_doc.body).append(e),_this.setTextCursor(!0),undefined)},this.domEncode=function(e){return e.replace(regEntities,function(e){return arrEntities[e]})},this.setSource=function(e){bookmark=null,"string"!=typeof e&&""!==e&&(e=_text.value),bSource?$("#sourceCode",_doc).val(e):(settings.beforeSetSource&&(e=settings.beforeSetSource(e)),e=_this.cleanHTML(e),e=_this.formatXHTML(e),e=_this.processHTML(e,"write"),isIE?(_doc.body.innerHTML='<img id="_xhe_temp" width="0" height="0" \/>'+e,$("#_xhe_temp",_doc).remove()):_doc.body.innerHTML=e)},this.processHTML=function(e,t){function i(e,t,i,s,a,o){var l,r,h,c,d="";if(l=s.match(\/font-family\\s*:\\s*([^;"]+)\/i),l&&(d+=' face="'+l[1]+'"'),r=s.match(\/font-size\\s*:\\s*([^;"]+)\/i)){r=r[1].toLowerCase();for(var u=0;n.length>u;u++)if(r===n[u].n||r===n[u].s){h=u+1;break}h&&(d+=' size="'+h+'"',s=s.replace(\/(^|;)(\\s*font-size\\s*:\\s*[^;"]+;?)+\/gi,"$1"))}if(c=s.match(\/(?:^|[\\s;])color\\s*:\\s*([^;"]+)\/i)){var p;if(p=c[1].match(\/\\s*rgb\\s*\\(\\s*(\\d+)\\s*,\\s*(\\d+)\\s*,\\s*(\\d+)\\s*\\)\/i)){c[1]="#";for(var g=1;3>=g;g++)c[1]+=("0"+(p[g]-0).toString(16)).slice(-2)}c[1]=c[1].replace(\/^#([0-9a-f])([0-9a-f])([0-9a-f])$\/i,"#$1$1$2$2$3$3"),d+=' color="'+c[1]+'"'}return s=s.replace(\/(^|;)(\\s*(font-family|color)\\s*:\\s*[^;"]+;?)+\/gi,"$1"),""!==d?(s&&(d+=' style="'+s+'"'),"<font"+(i?i:"")+d+(a?a:"")+">"+o+"<\/font>"):e}function s(e,t,i,s,a){for(var n,l,r=(i?i:"")+(s?s:""),h=[],c=[],d=0;o.length>d;d++)n=o[d].r,l=o[d].t,r=r.replace(n,function(){return h.push("<"+l+">"),c.push("<\/"+l+">"),""});return r=r.replace(\/\\s+style\\s*=\\s*"\\s*"\/i,""),(r?"<span"+r+">":"")+h.join("")+a+c.join("")+(r?"<\/span>":"")}var a=' class="Apple-style-span"',n=settings.listFontsize;if("write"===t)e=e.replace(\/(<(\\\/?)(\\w+))((?:\\s+[\\w\\-:]+\\s*=\\s*(?:"[^"]*"|'[^']*'|[^>\\s]+))*)\\s*((\\\/?)>)\/g,function(e,t,i,s,n,o,l){s=s.toLowerCase(),isMozilla?"strong"===s?s="b":"em"===s&&(s="i"):isWebkit&&("strong"===s?(s="span",i||(n+=a+' style="font-weight: bold;"')):"em"===s?(s="span",i||(n+=a+' style="font-style: italic;"')):"u"===s?(s="span",i||(n+=a+' style="text-decoration: underline;"')):"strike"===s&&(s="span",i||(n+=a+' style="text-decoration: line-through;"')));var r,h="";if("del"===s)s="strike";else if("img"===s)n=n.replace(\/\\s+emot\\s*=\\s*("[^"]*"|'[^']*'|[^>\\s]+)\/i,function(e,t){return r=t.match(\/^(["']?)(.*)\\1\/)[2],r=r.split(","),r[1]||(r[1]=r[0],r[0]=""),"default"===r[0]&&(r[0]=""),settings.emotMark?e:""});else if("a"===s)!n.match(\/ href=[^ ]\/i)&&n.match(\/ name=[^ ]\/i)&&(h+=" xhe-anchor"),l&&(o="><\/a>");else if("table"===s&&!i){var c=n.match(\/\\s+border\\s*=\\s*("[^"]*"|'[^']*'|[^>\\s]+)\/i);(!c||c[1].match(\/^(["']?)\\s*0\\s*\\1$\/))&&(h+=" xhe-border")}var d;if(n=n.replace(\/\\s+([\\w\\-:]+)\\s*=\\s*("[^"]*"|'[^']*'|[^>\\s]+)\/g,function(e,t,i){return t=t.toLowerCase(),i=i.match(\/^(["']?)(.*)\\1\/)[2],aft="",isIE&&t.match(\/^(disabled|checked|readonly|selected)$\/)&&i.match(\/^(false|0)$\/i)?"":"img"===s&&r&&"src"===t?"":(t.match(\/^(src|href)$\/)&&(aft=" _xhe_"+t+'="'+i+'"',urlBase&&(i=getLocalUrl(i,"abs",urlBase))),h&&"class"===t&&(i+=" "+h,h=""),isWebkit&&"style"===t&&"span"===s&&i.match(\/(^|;)\\s*(font-family|font-size|color|background-color)\\s*:\\s*[^;]+\\s*(;|$)\/i)&&(d=!0)," "+t+'="'+i+'"'+aft)}),r){var u=emotPath+(r[0]?r[0]:"default")+"\/"+r[1]+".gif";n+=' src="'+u+'" _xhe_src="'+u+'"'}return d&&(n+=a),h&&(n+=' class="'+h+'"'),"<"+i+s+n+o}),isIE&&(e=e.replace(\/&apos;\/gi,"&#39;")),isWebkit||(e=e.replace(\/<(span)(\\s+[^>]*?)?\\s+style\\s*=\\s*"((?:[^"]*?;)?\\s*(?:font-family|font-size|color)\\s*:[^"]*)"( [^>]*)?>(((?!<\\1(\\s+[^>]*?)?>)[\\s\\S]|<\\1(\\s+[^>]*?)?>((?!<\\1(\\s+[^>]*?)?>)[\\s\\S]|<\\1(\\s+[^>]*?)?>((?!<\\1(\\s+[^>]*?)?>)[\\s\\S])*?<\\\/\\1>)*?<\\\/\\1>)*?)<\\\/\\1>\/gi,i),e=e.replace(\/<(span)(\\s+[^>]*?)?\\s+style\\s*=\\s*"((?:[^"]*?;)?\\s*(?:font-family|font-size|color)\\s*:[^"]*)"( [^>]*)?>(((?!<\\1(\\s+[^>]*?)?>)[\\s\\S]|<\\1(\\s+[^>]*?)?>((?!<\\1(\\s+[^>]*?)?>)[\\s\\S])*?<\\\/\\1>)*?)<\\\/\\1>\/gi,i),e=e.replace(\/<(span)(\\s+[^>]*?)?\\s+style\\s*=\\s*"((?:[^"]*?;)?\\s*(?:font-family|font-size|color)\\s*:[^"]*)"( [^>]*)?>(((?!<\\1(\\s+[^>]*?)?>)[\\s\\S])*?)<\\\/\\1>\/gi,i)),e=e.replace(\/<(td|th)(\\s+[^>]*?)?>(\\s|&nbsp;)*<\\\/\\1>\/gi,"<$1$2>"+(isIE?"":"<br \/>")+"<\/$1>");else{if(isWebkit)for(var o=[{r:\/font-weight\\s*:\\s*bold;?\/gi,t:"strong"},{r:\/font-style\\s*:\\s*italic;?\/gi,t:"em"},{r:\/text-decoration\\s*:\\s*underline;?\/gi,t:"u"},{r:\/text-decoration\\s*:\\s*line-through;?\/gi,t:"strike"}],l=0;2>l;l++)e=e.replace(\/<(span)(\\s+[^>]*?)?\\s+class\\s*=\\s*"Apple-style-span"(\\s+[^>]*?)?>(((?!<\\1(\\s+[^>]*?)?>)[\\s\\S]|<\\1(\\s+[^>]*?)?>((?!<\\1(\\s+[^>]*?)?>)[\\s\\S]|<\\1(\\s+[^>]*?)?>((?!<\\1(\\s+[^>]*?)?>)[\\s\\S])*?<\\\/\\1>)*?<\\\/\\1>)*?)<\\\/\\1>\/gi,s),e=e.replace(\/<(span)(\\s+[^>]*?)?\\s+class\\s*=\\s*"Apple-style-span"(\\s+[^>]*?)?>(((?!<\\1(\\s+[^>]*?)?>)[\\s\\S]|<\\1(\\s+[^>]*?)?>((?!<\\1(\\s+[^>]*?)?>)[\\s\\S])*?<\\\/\\1>)*?)<\\\/\\1>\/gi,s),e=e.replace(\/<(span)(\\s+[^>]*?)?\\s+class\\s*=\\s*"Apple-style-span"(\\s+[^>]*?)?>(((?!<\\1(\\s+[^>]*?)?>)[\\s\\S])*?)<\\\/\\1>\/gi,s);e=e.replace(\/(<(\\w+))((?:\\s+[\\w\\-:]+\\s*=\\s*(?:"[^"]*"|'[^']*'|[^>\\s]+))*)\\s*(\\\/?>)\/g,function(e,t,i,s,a){i=i.toLowerCase();$/;"	p
var.specialKeys.123	js/xheditor.min.js	/^(function(){var e={};window.XHEDITOR=e})(),function(e,t){e.mapLang={},e.setLang=function(i,s){s===t&&(s=i,i=""),""!==i&&(i+=".");var a,n;for(var o in s)n=s[o],a=i+o,"string"==typeof n||n instanceof Array?e.mapLang[a]=n:e.setLang(a,n)},e.getLang=function(i){var s=e.mapLang[i];if(s===t&&(s=i.replace(\/{#([^{}]+)}\/g,function(t,i){var s=e.mapLang[i];return s?s:i})),"string"==typeof s){var a=arguments;s=s.replace(\/{\\$(\\d+)}\/g,function(e,i){var s=a[parseInt(i,10)+1];return s!==t?s:e})}return s}}(XHEDITOR),function(XHEDITOR,$,undefined){var agent=navigator.userAgent.toLowerCase(),bMobile=\/mobile\/i.test(agent),browser=$.browser,browerVer=parseFloat(browser.version),isIE=browser.msie,isMozilla=browser.mozilla,isWebkit=browser.webkit,isOpera=browser.opera,isChrome=browser.chrome,bAir=agent.indexOf(" adobeair\/")>-1,xCount=0,bShowPanel=!1,bClickCancel=!0,bShowModal=!1,bCheckEscInit=!1,_jPanel,_jShadow,_jCntLine,_jPanelButton,jModal,jModalShadow,layerShadow,jOverlay,jHideSelect,onModalRemove,editorRoot,getLang=XHEDITOR.getLang;if($("script[src*=xheditor]").each(function(){var e=this.src;return e.match(\/xheditor[^\\\/]*\\.js\/i)?(editorRoot=e.replace(\/[\\?#].*$\/,"").replace(\/(^|[\\\/\\\\])[^\\\/]*$\/,"$1"),!1):undefined}),isIE){try{document.execCommand("BackgroundImageCache",!1,!0)}catch(e){}var jqueryVer=$.fn.jquery;jqueryVer&&jqueryVer.match(\/^1\\.[67]\/)&&($.attrHooks.width=$.attrHooks.height=null)}var specialKeys={27:"esc",9:"tab",32:"space",13:"enter",8:"backspace",145:"scroll",20:"capslock",144:"numlock",19:"pause",45:"insert",36:"home",46:"del",35:"end",33:"pageup",34:"pagedown",37:"left",38:"up",39:"right",40:"down",112:"f1",113:"f2",114:"f3",115:"f4",116:"f5",117:"f6",118:"f7",119:"f8",120:"f9",121:"f10",122:"f11",123:"f12"},arrAlign=[{v:"justifyleft"},{v:"justifycenter"},{v:"justifyright"},{v:"justifyfull"}],arrList=[{v:"insertOrderedList"},{v:"insertUnorderedList"}],htmlPastetext='<div><label for="xhePastetextValue">{#PastetextTip}<\/label><\/div><div><textarea id="xhePastetextValue" wrap="soft" spellcheck="false" style="width:300px;height:100px;" \/><\/div><div style="text-align:right;"><input type="button" id="xheSave" value="{#dialogOk}" \/><\/div>',htmlLink='<div><label for="xheLinkUrl">{#link.url}<\/label><input type="text" id="xheLinkUrl" value="http:\/\/" class="xheText" \/><\/div><div><label for="xheLinkTarget">{#link.target}<\/label><select id="xheLinkTarget"><option selected="selected" value="">{#default}<\/option><option value="_blank">{#link.targetBlank}<\/option><option value="_self">{#link.targetSelf}<\/option><option value="_parent">{#link.targetParent}<\/option><\/select><\/div><div style="display:none"><label for="xheLinkText">{#link.linkText}<\/label><input type="text" id="xheLinkText" value="" class="xheText" \/><\/div><div style="text-align:right;"><input type="button" id="xheSave" value="{#dialogOk}" \/><\/div>',htmlAnchor='<div><label for="xheAnchorName">{#anchor.name}<\/label><input type="text" id="xheAnchorName" value="" class="xheText" \/><\/div><div style="text-align:right;"><input type="button" id="xheSave" value="{#dialogOk}" \/><\/div>',htmlImg='<div><label for="xheImgUrl">{#img.url}<\/label><input type="text" id="xheImgUrl" value="http:\/\/" class="xheText" \/><\/div><div><div><label for="xheImgAlt">{#img.alt}<\/label><input type="text" id="xheImgAlt" \/><\/div><div><label for="xheImgAlign">{#img.align}<\/label><select id="xheImgAlign"><option selected="selected" value="">{#default}<\/option><option value="left">{#img.alignLeft}<\/option><option value="right">{#img.alignRight}<\/option><option value="top">{#img.alignTop}<\/option><option value="middle">{#img.alignMiddle}<\/option><option value="baseline">{#img.alignBaseline}<\/option><option value="bottom">{#img.alignBottom}<\/option><\/select><\/div><div><label for="xheImgWidth">{#img.width}<\/label><input type="text" id="xheImgWidth" style="width:40px;" \/> <label for="xheImgHeight">{#img.height}<\/label><input type="text" id="xheImgHeight" style="width:40px;" \/><\/div><div><label for="xheImgBorder">{#img.border}<\/label><input type="text" id="xheImgBorder" style="width:40px;" \/><\/div><div><label for="xheImgHspace">{#img.hspace}<\/label><input type="text" id="xheImgHspace" style="width:40px;" \/> <label for="xheImgVspace">{#img.vspace}<\/label><input type="text" id="xheImgVspace" style="width:40px;" \/><\/div><div style="text-align:right;"><input type="button" id="xheSave" value="{#dialogOk}" \/><\/div>',htmlFlash='<div><label for="xheFlashUrl">{#flash.url}<\/label><input type="text" id="xheFlashUrl" value="http:\/\/" class="xheText" \/><\/div><div><label for="xheFlashWidth">{#flash.width}<\/label><input type="text" id="xheFlashWidth" style="width:40px;" value="480" \/> <label for="xheFlashHeight">{#flash.height}<\/label><input type="text" id="xheFlashHeight" style="width:40px;" value="400" \/><\/div><div style="text-align:right;"><input type="button" id="xheSave" value="{#dialogOk}" \/><\/div>',htmlMedia='<div><label for="xheMediaUrl">{#media.url}<\/label><input type="text" id="xheMediaUrl" value="http:\/\/" class="xheText" \/><\/div><div><label for="xheMediaWidth">{#media.width}<\/label><input type="text" id="xheMediaWidth" style="width:40px;" value="480" \/> <label for="xheMediaHeight">{#media.height}<\/label><input type="text" id="xheMediaHeight" style="width:40px;" value="400" \/><\/div><div style="text-align:right;"><input type="button" id="xheSave" value="{#dialogOk}" \/><\/div>',htmlTable='<div><label for="xheTableRows">{#table.rows}<\/label><input type="text" id="xheTableRows" style="width:40px;" value="3" \/> <label for="xheTableColumns">{#table.columns}<\/label><input type="text" id="xheTableColumns" style="width:40px;" value="2" \/><\/div><div><label for="xheTableHeaders">{#table.headers}<\/label><select id="xheTableHeaders"><option selected="selected" value="">{#none}<\/option><option value="row">{#table.headersRow}<\/option><option value="col">{#table.headersCol}<\/option><option value="both">{#table.headersBoth}<\/option><\/select><\/div><div><label for="xheTableWidth">{#table.width}<\/label><input type="text" id="xheTableWidth" style="width:40px;" value="200" \/> <label for="xheTableHeight">{#table.height}<\/label><input type="text" id="xheTableHeight" style="width:40px;" value="" \/><\/div><div><label for="xheTableBorder">{#table.border}<\/label><input type="text" id="xheTableBorder" style="width:40px;" value="1" \/><\/div><div><label for="xheTableCellSpacing">{#table.cellSpacing}<\/label><input type="text" id="xheTableCellSpacing" style="width:40px;" value="1" \/> <label for="xheTableCellPadding">{#table.cellPadding}<\/label><input type="text" id="xheTableCellPadding" style="width:40px;" value="1" \/><\/div><div><label for="xheTableAlign">{#table.align}<\/label><select id="xheTableAlign"><option selected="selected" value="">{#default}<\/option><option value="left">{#table.alignLeft}<\/option><option value="center">{#table.alignCenter}<\/option><option value="right">{#table.alignRight}<\/option><\/select><\/div><div><label for="xheTableCaption">{#table.caption}<\/label><input type="text" id="xheTableCaption" \/><\/div><div style="text-align:right;"><input type="button" id="xheSave" value="{#dialogOk}" \/><\/div>',htmlAbout='<div style="font:12px Arial;width:245px;word-wrap:break-word;word-break:break-all;outline:none;" role="dialog" tabindex="-1"><p><span style="font-size:20px;color:#1997DF;">xhEditor<\/span><br \/>v1.2.1 (build 130225)<\/p><p>{#aboutXheditor}<\/p><p>Copyright &copy; <a href="http:\/\/xheditor.com\/" target="_blank">xhEditor.com<\/a>. All rights reserved.<\/p><\/div>',itemEmots={"default":{name:"{#default}",width:24,height:24,line:7,list:["smile","tongue","titter","laugh","sad","wronged","fastcry","cry","wail","mad","knock","curse","crazy","angry","ohmy","awkward","panic","shy","cute","envy","proud","struggle","quiet","shutup","doubt","despise","sleep","bye"]}},arrTools={Cut:{t:"Cut"},Copy:{t:"Copy"},Paste:{t:"Paste"},Pastetext:{t:"Pastetext",h:isIE?0:1},Blocktag:{t:"Blocktag",h:1},Fontface:{t:"Fontface",h:1},FontSize:{t:"FontSize",h:1},Bold:{t:"Bold",s:"Ctrl+B"},Italic:{t:"Italic",s:"Ctrl+I"},Underline:{t:"Underline",s:"Ctrl+U"},Strikethrough:{t:"Strikethrough"},FontColor:{t:"FontColor",h:1},BackColor:{t:"BackColor",h:1},SelectAll:{t:"SelectAll"},Removeformat:{t:"Removeformat"},Align:{t:"Align",h:1},List:{t:"List",h:1},Outdent:{t:"Outdent"},Indent:{t:"Indent"},Link:{t:"Link",s:"Ctrl+L",h:1},Unlink:{t:"Unlink"},Anchor:{t:"Anchor",h:1},Img:{t:"Img",h:1},Flash:{t:"Flash",h:1},Media:{t:"Media",h:1},Hr:{t:"Hr"},Emot:{t:"Emot",s:"ctrl+e",h:1},Table:{t:"Table",h:1},Source:{t:"Source"},Preview:{t:"Preview"},Print:{t:"Print",s:"Ctrl+P"},Fullscreen:{t:"Fullscreen",s:"Esc"},About:{t:"About"}},toolsThemes={mini:"Bold,Italic,Underline,Strikethrough,|,Align,List,|,Link,Img",simple:"Blocktag,Fontface,FontSize,Bold,Italic,Underline,Strikethrough,FontColor,BackColor,|,Align,List,Outdent,Indent,|,Link,Img,Emot",full:"Cut,Copy,Paste,Pastetext,|,Blocktag,Fontface,FontSize,Bold,Italic,Underline,Strikethrough,FontColor,BackColor,SelectAll,Removeformat,|,Align,List,Outdent,Indent,|,Link,Unlink,Anchor,Img,Flash,Media,Hr,Emot,Table,|,Source,Preview,Print,Fullscreen"};toolsThemes.mfull=toolsThemes.full.replace(\/\\|(,Align)\/i,"\/$1");var arrDbClick={a:"Link",img:"Img",embed:"Embed"},uploadInputname="filedata",arrEntities={"<":"&lt;",">":"&gt;",'"':"&quot;","\\u00ae":"&reg;","\\u00a9":"&copy;"},regEntities=\/[<>"\\u00ae\\u00a9]\/g,Xheditor=function(textarea,options){function checkDblClick(e){var t=e.target,i=arrDbClick[t.tagName.toLowerCase()];if(i){if("Embed"===i){var s={"application\/x-shockwave-flash":"Flash","application\/x-mplayer2":"Media"};i=s[t.type.toLowerCase()]}_this.exec(i)}}function checkEsc(e){return 27===e.which?(bShowModal?_this.removeModal():bShowPanel&&_this.hidePanel(),!1):undefined}function loadReset(){setTimeout(_this.setSource,10)}function saveResult(){_this.getSource()}function cleanPaste(e){var t,i,s;if(e&&(t=e.originalEvent.clipboardData)&&(i=t.items)&&(s=i[0])&&"file"==s.kind&&s.type.match(\/^image\\\/\/i)){var a=s.getAsFile(),n=new FileReader;return n.onload=function(){var e='<img src="'+event.target.result+'">';e=replaceRemoteImg(e),_this.pasteHTML(e)},n.readAsDataURL(a),!1}var o=settings.cleanPaste;if(0===o||bSource||bCleanPaste)return!0;bCleanPaste=!0,_this.saveBookmark();var l=isIE?"pre":"div",r=$("<"+l+' class="xhe-paste">\\ufeff\\ufeff<\/'+l+">",_doc).appendTo(_doc.body),h=r[0],c=_this.getSel(),d=_this.getRng(!0);r.css("top",_jWin.scrollTop()),isIE?(d.moveToElementText(h),d.select()):(d.selectNodeContents(h),c.removeAllRanges(),c.addRange(d)),setTimeout(function(){var e,t=3===o;if(t)r.html(r.html().replace(\/<br(\\s+[^<>]*)?>\/gi,"\\n")),e=r.text();else{var i=$(".xhe-paste",_doc.body),s=[];i.each(function(e,t){0==$(t).find(".xhe-paste").length&&s.push(t.innerHTML)}),e=s.join("<br \/>")}r.remove(),_this.loadBookmark(),e=e.replace(\/^[\\s\\uFEFF]+|[\\s\\uFEFF]+$\/g,""),e&&(t?_this.pasteText(e):(e=_this.cleanHTML(e),e=_this.cleanWord(e),e=_this.formatXHTML(e),(!settings.onPaste||settings.onPaste&&(e=settings.onPaste(e))!==!1)&&(e=replaceRemoteImg(e),_this.pasteHTML(e)))),bCleanPaste=!1},0)}function replaceRemoteImg(e){var t=settings.localUrlTest,i=settings.remoteImgSaveUrl;if(t&&i){var s=[],a=0;e=e.replace(\/(<img)((?:\\s+[^>]*?)?(?:\\s+src="\\s*([^"]+)\\s*")(?: [^>]*)?)(\\\/?>)\/gi,function(e,i,n,o,l){return!\/^(https?|data:image)\/i.test(o)||\/_xhe_temp\/.test(n)||t.test(o)||(s[a]=o,n=n.replace(\/\\s+(width|height)="[^"]*"\/gi,"").replace(\/\\s+src="[^"]*"\/gi,' src="'+skinPath+'img\/waiting.gif" remoteimg="'+a++ +'"')),i+n+l}),s.length>0&&$.post(i,{urls:s.join("|")},function(e){e=e.split("|"),$("img[remoteimg]",_this.doc).each(function(){var t=$(this);xheAttr(t,"src",e[t.attr("remoteimg")]),t.removeAttr("remoteimg")})})}return e}function setCSS(e){try{_this._exec("styleWithCSS",e,!0)}catch(t){try{_this._exec("useCSS",!e,!0)}catch(t){}}}function setOpts(){if(bInit&&!bSource){setCSS(!1);try{_this._exec("enableObjectResizing",!0,!0)}catch(e){}if(isIE)try{_this._exec("BackgroundImageCache",!0,!0)}catch(e){}}}function forcePtag(e){if(bSource||13!==e.which||e.shiftKey||e.ctrlKey||e.altKey)return!0;var t=_this.getParent("p,h1,h2,h3,h4,h5,h6,pre,address,div,li");return t.is("li")?!0:settings.forcePtag?(0===t.length&&_this._exec("formatblock","<p>"),undefined):(_this.pasteHTML("<br \/>"),isIE&&t.length>0&&2===_this.getRng().parentElement().childNodes.length&&_this.pasteHTML("<br \/>"),!1)}function fixFullHeight(){isMozilla||isWebkit||(bFullscreen&&_jArea.height("100%").css("height",_jArea.outerHeight()-_jTools.outerHeight()),isIE&&_jTools.hide().show())}function fixAppleSel(e){if(e=e.target,e.tagName.match(\/(img|embed)\/i)){var t=_this.getSel(),i=_this.getRng(!0);i.selectNode(e),t.removeAllRanges(),t.addRange(i)}}function xheAttr(e,t,i){if(!t)return!1;var s="_xhe_"+t;return i&&(urlType&&(i=getLocalUrl(i,urlType,urlBase)),e.attr(t,urlBase?getLocalUrl(i,"abs",urlBase):i).removeAttr(s).attr(s,i)),e.attr(s)||e.attr(t)}function clickCancelPanel(){bClickCancel&&_this.hidePanel()}function checkShortcuts(e){if(bSource)return!0;var t=e.which,i=specialKeys[t],s=i?i:String.fromCharCode(t).toLowerCase();sKey="",sKey+=e.ctrlKey?"ctrl+":"",sKey+=e.altKey?"alt+":"",sKey+=e.shiftKey?"shift+":"",sKey+=s;var a,n=arrShortCuts[sKey];for(a in n){if(a=n[a],!$.isFunction(a))return _this.exec(a),!1;if(a.call(_this)===!1)return!1}}function is(e,t){var i=typeof e;return t?"array"===t&&e.hasOwnProperty&&e instanceof Array?!0:i===t:"undefined"!=i}function getLocalUrl(e,t,i){if(e.match(\/^(\\w+):\\\/\\\/\/i)&&!e.match(\/^https?:\/i)||\/^#\/i.test(e)||\/^data:\/i.test(e))return e;var s=i?$('<a href="'+i+'" \/>')[0]:location,a=s.protocol,n=s.host,o=s.hostname,l=s.port,r=s.pathname.replace(\/\\\\\/g,"\/").replace(\/[^\\\/]+$\/i,"");if(""===l&&(l="80"),""===r?r="\/":"\/"!==r.charAt(0)&&(r="\/"+r),e=$.trim(e),"abs"!==t&&(e=e.replace(RegExp(a+"\\\\\/\\\\\/"+o.replace(\/\\.\/g,"\\\\.")+"(?::"+l+")"+("80"===l?"?":"")+"(\/|$)","i"),"\/")),"rel"===t&&(e=e.replace(RegExp("^"+r.replace(\/([\\\/\\.\\+\\[\\]\\(\\)])\/g,"\\\\$1"),"i"),"")),"rel"!==t&&(e.match(\/^(https?:\\\/\\\/|\\\/)\/i)||(e=r+e),"\/"===e.charAt(0))){var h,c,d=[],u=e.split("\/"),p=u.length;for(c=0;p>c;c++)h=u[c],".."===h?d.pop():""!==h&&"."!==h&&d.push(h);""===u[p-1]&&d.push(""),e="\/"+d.join("\/")}return"abs"!==t||e.match(\/^https?:\\\/\\\/\/i)||(e=a+"\/\/"+n+e),e=e.replace(\/(https?:\\\/\\\/[^:\\\/?#]+):80(\\\/|$)\/i,"$1$2")}function checkFileExt(e,t){return"*"===t||e.match(RegExp(".("+t.replace(\/,\/g,"|")+")$","i"))?!0:(alert(getLang("upload.extLimit",t)),!1)}function formatBytes(e){var t=["Byte","KB","MB","GB","TB","PB"],i=Math.floor(Math.log(e)\/Math.log(1024));return(e\/Math.pow(1024,Math.floor(i))).toFixed(2)+t[i]}function returnFalse(){return!1}var _this=this,_text=textarea,_jText=$(_text),_jForm=_jText.closest("form"),_jTools,_jArea,_win,_jWin,_doc,_jDoc,bookmark,bInit=!1,bSource=!1,bFullscreen=!1,bCleanPaste=!1,outerScroll,bShowBlocktag=!1,sLayoutStyle="",ev=null,timer,bDisableHoverExec=!1,bQuickHoverExec=!1,lastPoint=null,lastAngle=null,editorHeight=0,settings=_this.settings=$.extend({},XHEDITOR.settings,options),plugins=settings.plugins,strPlugins=[];if(plugins&&(arrTools=$.extend({},arrTools,plugins),$.each(plugins,function(e){strPlugins.push(e)}),strPlugins=strPlugins.join(",")),settings.tools.match(\/^\\s*(m?full|simple|mini)\\s*$\/i)){var toolsTheme=toolsThemes[$.trim(settings.tools)];settings.tools=settings.tools.match(\/m?full\/i)&&plugins?toolsTheme.replace("Table","Table,"+strPlugins):toolsTheme}settings.tools.match(\/(^|,)\\s*About\\s*(,|$)\/i)||(settings.tools+=",About"),settings.tools=settings.tools.split(","),settings.editorRoot&&(editorRoot=settings.editorRoot),bAir===!1&&(editorRoot=getLocalUrl(editorRoot,"abs")),settings.urlBase&&(settings.urlBase=getLocalUrl(settings.urlBase,"abs"));var idCSS="xheCSS_"+settings.skin,idContainer="xhe"+xCount+"_container",idTools="xhe"+xCount+"_Tool",idIframeArea="xhe"+xCount+"_iframearea",idIframe="xhe"+xCount+"_iframe",idFixFFCursor="xhe"+xCount+"_fixffcursor",headHTML="",bodyClass="",skinPath=editorRoot+"xheditor_skin\/"+settings.skin+"\/",arrEmots=itemEmots,urlType=settings.urlType,urlBase=settings.urlBase,emotPath=settings.emotPath,emotPath=emotPath?emotPath:editorRoot+"xheditor_emot\/",selEmotGroup="";arrEmots=$.extend({},arrEmots,settings.emots),emotPath=getLocalUrl(emotPath,"rel",urlBase?urlBase:null),bShowBlocktag=settings.showBlocktag,bShowBlocktag&&(bodyClass+=" showBlocktag");var arrShortCuts=[];this.init=function(){function e(e){var t,i=$(e.target);(t=i.css("width"))&&i.css("width","").attr("width",t.replace(\/[^0-9%]+\/g,"")),(t=i.css("height"))&&i.css("height","").attr("height",t.replace(\/[^0-9%]+\/g,""))}0===$("#"+idCSS).length&&$("head").append('<link id="'+idCSS+'" rel="stylesheet" type="text\/css" href="'+skinPath+'ui.css" \/>');var t=_jText.outerWidth(),i=_jText.outerHeight(),s=settings.width||_text.style.width||(t>10?t:0);editorHeight=settings.height||_text.style.height||(i>10?i:150),\/^\\d+(?:\\.\\d+)?$\/.test(s)&&(s+="px"),is(editorHeight,"string")&&(editorHeight=editorHeight.replace(\/[^\\d]+\/g,""));var a,n,o=settings.background||_text.style.background,l=['<span class="xheGStart"\/>'],r=\/\\||\\\/\/i;$.each(settings.tools,function(e,t){if(t.match(r)&&l.push('<span class="xheGEnd"\/>'),"|"===t)l.push('<span class="xheSeparator"\/>');else if("\/"===t)l.push("<br \/>");else{if(a=arrTools[t],!a)return;n=a.c?a.c:"xheIcon xheBtn"+t,l.push('<span><a href="#" title="{#'+a.t+'}" cmd="'+t+'" class="xheButton xheEnabled" tabindex="-1" role="button"><span class="'+n+'" unselectable="on" style="font-size:0;color:transparent;text-indent:-999px;">'+a.t+"<\/span><\/a><\/span>"),a.s&&_this.addShortcuts(a.s,t)}t.match(r)&&l.push('<span class="xheGStart"\/>')}),l.push('<span class="xheGEnd"\/><br \/>'),_jText.after($('<input type="text" id="'+idFixFFCursor+'" style="position:absolute;display:none;" \/><span id="'+idContainer+'" class="xhe_'+settings.skin+'" style="display:none"><table cellspacing="0" cellpadding="0" class="xheLayout" style="'+("0px"!=s?"width:"+s+";":"")+"height:"+editorHeight+'px;" role="presentation"><tr><td id="'+idTools+'" class="xheTool" unselectable="on" style="height:1px;" role="presentation"><\/td><\/tr><tr><td id="'+idIframeArea+'" class="xheIframeArea" role="presentation"><iframe frameborder="0" id="'+idIframe+'" src="javascript:;" style="width:100%;"><\/iframe><\/td><\/tr><\/table><\/span>')),_jTools=$("#"+idTools),_jArea=$("#"+idIframeArea),headHTML='<meta http-equiv="Content-Type" content="text\/html; charset=utf-8" \/><link rel="stylesheet" href="'+skinPath+'iframe.css"\/>';var h=settings.loadCSS;if(h)if(is(h,"array"))for(var c in h)headHTML+='<link rel="stylesheet" href="'+h[c]+'"\/>';else headHTML+=h.match(\/\\s*<style(\\s+[^>]*?)?>[\\s\\S]+?<\\\/style>\\s*\/i)?h:'<link rel="stylesheet" href="'+h+'"\/>';var d='<!DOCTYPE html><html xmlns="http:\/\/www.w3.org\/1999\/xhtml"><head>'+headHTML+"<title>{#defaultReadTip} "+(settings.readTip?settings.readTip:"")+"<\/title>";o&&(d+="<style>html{background:"+o+";}<\/style>"),d+='<\/head><body spellcheck="0" class="editMode'+bodyClass+'"><\/body><\/html>',_this.win=_win=$("#"+idIframe)[0].contentWindow,_jWin=$(_win);try{this.doc=_doc=_win.document,_jDoc=$(_doc),_doc.open(),_doc.write(getLang(d)),_doc.close(),isIE?_doc.body.contentEditable="true":_doc.designMode="On"}catch(u){}setTimeout(setOpts,300),_this.setSource(),_win.setInterval=null,_jTools.append(getLang(l.join(""))).bind("mousedown contextmenu",returnFalse).click(function(e){var t=$(e.target).closest("a");return t.is(".xheEnabled")&&(clearTimeout(timer),_jTools.find("a").attr("tabindex","-1"),ev=e,_this.exec(t.attr("cmd"))),!1}),_jTools.find(".xheButton").hover(function(e){var t=$(this),i=settings.hoverExecDelay,s=lastAngle;if(lastAngle=null,-1===i||bDisableHoverExec||!t.is(".xheEnabled"))return!1;if(s&&s>10)return bDisableHoverExec=!0,setTimeout(function(){bDisableHoverExec=!1},100),!1;var a=t.attr("cmd"),n=1===arrTools[a].h;return n?(bQuickHoverExec&&(i=0),i>=0&&(timer=setTimeout(function(){ev=e,lastPoint={x:ev.clientX,y:ev.clientY},_this.exec(a)},i)),undefined):(_this.hidePanel(),!1)},function(){lastPoint=null,timer&&clearTimeout(timer)}).mousemove(function(e){if(lastPoint){var t={x:e.clientX-lastPoint.x,y:e.clientY-lastPoint.y};if(Math.abs(t.x)>1||Math.abs(t.y)>1){if(t.x>0&&t.y>0){var i=Math.round(Math.atan(t.y\/t.x)\/.017453293);lastAngle=lastAngle?(lastAngle+i)\/2:i}else lastAngle=null;lastPoint={x:e.clientX,y:e.clientY}}}}),_jPanel=$("#xhePanel"),_jShadow=$("#xheShadow"),_jCntLine=$("#xheCntLine"),0===_jPanel.length&&(_jPanel=$('<div id="xhePanel"><\/div>').mousedown(function(e){e.stopPropagation()}),_jShadow=$('<div id="xheShadow"><\/div>'),_jCntLine=$('<div id="xheCntLine"><\/div>'),setTimeout(function(){$(document.body).append(_jPanel).append(_jShadow).append(_jCntLine)},10)),$("#"+idContainer).show(),_jText.hide(),_jArea.css("height",editorHeight-_jTools.outerHeight()),isIE&8>browerVer&&setTimeout(function(){_jArea.css("height",editorHeight-_jTools.outerHeight())},1),_jText.focus(_this.focus),_jForm.submit(saveResult).bind("reset",loadReset),settings.submitID&&$("#"+settings.submitID).mousedown(saveResult),$(window).bind("unload beforeunload",saveResult).bind("resize",fixFullHeight),$(document).mousedown(clickCancelPanel),bCheckEscInit||($(document).keydown(checkEsc),bCheckEscInit=!0),_jWin.focus(function(){settings.focus&&settings.focus()}).blur(function(){settings.blur&&settings.blur()}),isWebkit&&_jWin.click(fixAppleSel),_jDoc.mousedown(clickCancelPanel).keydown(checkShortcuts).keypress(forcePtag).dblclick(checkDblClick).bind("mousedown click",function(e){_jText.trigger(e.type)}),isIE&&(_jDoc.keydown(function(e){var t=_this.getRng();return 8===e.which&&t.item?($(t.item(0)).remove(),!1):undefined}),_jDoc.bind("controlselect",function(t){t=t.target,$.nodeName(t,"IMG")&&$(t).unbind("resizeend",e).bind("resizeend",e)})),_jDoc.keydown(function(e){var t=e.which;return e.altKey&&t>=49&&57>=t?(_jTools.find("a").attr("tabindex","0"),_jTools.find(".xheGStart").eq(t-49).next().find("a").focus(),_doc.title="\\ufeff\\ufeff",!1):undefined}).click(function(){_jTools.find("a").attr("tabindex","-1")}),_jTools.keydown(function(e){var t=e.which;if(27==t)_jTools.find("a").attr("tabindex","-1"),_this.focus();else if(e.altKey&&t>=49&&57>=t)return _jTools.find(".xheGStart").eq(t-49).next().find("a").focus(),!1});var p=$(_doc.documentElement);isOpera?p.bind("keydown",function(e){e.ctrlKey&&86===e.which&&cleanPaste()}):p.bind(isIE?"beforepaste":"paste",cleanPaste),settings.disableContextmenu&&p.bind("contextmenu",returnFalse),settings.html5Upload&&p.bind("dragenter dragover",function(e){var t;return(t=e.originalEvent.dataTransfer.types)&&-1!==$.inArray("Files",t)?!1:undefined}).bind("drop",function(e){function t(e){var t,i,s;for(a=0;e.length>a;a++){if(i=e[a].name.replace(\/.+\\.\/,""),!(t=o.match(RegExp("(\\\\w+):[^:]*,"+i+"(?:,|$)","i"))))return 1;if(s){if(s!==t[1])return 2}else s=t[1]}return s}var i,s=e.originalEvent.dataTransfer;if(s&&(i=s.files)&&i.length>0){var a,n,o,l=["Link","Img","Flash","Media"],r=[];for(a in l)n=l[a],settings["up"+n+"Url"]&&settings["up"+n+"Url"].match(\/^[^!].*\/i)&&r.push(n+":,"+settings["up"+n+"Ext"]);return 0===r.length?!1:(o=r.join(","),n=t(i),1===n?alert(getLang("upload.extLimit",o.replace(\/\\w+:,\/g,""))):2===n?alert(getLang("upload.typeLimit")):n&&_this.startUpload(i,settings["up"+n+"Url"],"*",function(e){var t,i=[],s=settings.onUpload;s&&s(e);for(var a=0,o=e.length;o>a;a++)t=e[a],url=is(t,"string")?t:t.url,"!"===url.substr(0,1)&&(url=url.substr(1)),i.push(url);_this.exec(n),$("#xhe"+n+"Url").val(i.join(" ")),$("#xheSave").click()}),!1)}});var g=settings.shortcuts;g&&$.each(g,function(e,t){_this.addShortcuts(e,t)}),xCount++,bInit=!0,settings.fullscreen?_this.toggleFullscreen():settings.sourceMode&&setTimeout(_this.toggleSource,20);var f=settings.plugins;return f&&$.each(f,function(e,t){var i=t.i;i!==undefined&&i(_this)}),!0},this.remove=function(){_this.hidePanel(),saveResult(),_jText.unbind("focus",_this.focus),_jForm.unbind("submit",saveResult).unbind("reset",loadReset),settings.submitID&&$("#"+settings.submitID).unbind("mousedown",saveResult),$(window).unbind("unload beforeunload",saveResult).unbind("resize",fixFullHeight),$(document).unbind("mousedown",clickCancelPanel),$("#"+idContainer).remove(),$("#"+idFixFFCursor).remove(),_jText.show(),bInit=!1},this.saveBookmark=function(){if(!bSource){_this.focus();var e=_this.getRng();e=e.cloneRange?e.cloneRange():e,bookmark={top:_jWin.scrollTop(),rng:e}}},this.loadBookmark=function(){if(!bSource&&bookmark){_this.focus();var e=bookmark.rng;if(isIE)e.select();else{var t=_this.getSel();t.removeAllRanges(),t.addRange(e)}_jWin.scrollTop(bookmark.top),bookmark=null}},this.focus=function(){if(bSource?$("#sourceCode",_doc).focus():_win.focus(),isIE){var e=_this.getRng();e.parentElement&&e.parentElement().ownerDocument!==_doc&&_this.setTextCursor()}return!1},this.setTextCursor=function(e){var t=_this.getRng(!0),i=_doc.body;if(isIE)t.moveToElementText(i);else{for(var s=e?"lastChild":"firstChild";3!=i.nodeType&&i[s];)i=i[s];t.selectNode(i)}if(t.collapse(e?!1:!0),isIE)t.select();else{var a=_this.getSel();a.removeAllRanges(),a.addRange(t)}},this.getSel=function(){return _doc.selection?_doc.selection:_win.getSelection()},this.getRng=function(e){var t,i;try{e||(t=_this.getSel(),i=t.createRange?t.createRange():t.rangeCount>0?t.getRangeAt(0):null),i||(i=_doc.body.createTextRange?_doc.body.createTextRange():_doc.createRange())}catch(s){}return i},this.getParent=function(e){var t,i=_this.getRng();return isIE?t=i.item?i.item(0):i.parentElement():(t=i.commonAncestorContainer,i.collapsed||i.startContainer===i.endContainer&&2>i.startOffset-i.endOffset&&i.startContainer.hasChildNodes()&&(t=i.startContainer.childNodes[i.startOffset])),e=e?e:"*",t=$(t),t.is(e)||(t=$(t).closest(e)),t},this.getSelect=function(e){var t=_this.getSel(),i=_this.getRng(),s=!0;if(s=!i||i.item?!1:!t||0===i.boundingWidth||i.collapsed,"text"===e)return s?"":i.text||(t.toString?""+t:"");var a;if(i.cloneContents){var n,o=$("<div><\/div>");n=i.cloneContents(),n&&o.append(n),a=o.html()}else a=is(i.item)?i.item(0).outerHTML:is(i.htmlText)?i.htmlText:""+i;return s&&(a=""),a=_this.processHTML(a,"read"),a=_this.cleanHTML(a),a=_this.formatXHTML(a)},this.pasteHTML=function(e,t){if(bSource)return!1;_this.focus(),e=_this.processHTML(e,"write");var i=_this.getSel(),s=_this.getRng();if(t!==undefined){if(s.item){var a=s.item(0);s=_this.getRng(!0),s.moveToElementText(a),s.select()}s.collapse(t)}if(e+="<"+(isIE?"img":"span")+' id="_xhe_temp" width="0" height="0" \/>',s.insertNode){if($(s.startContainer).closest("style,script").length>0)return!1;s.deleteContents(),s.insertNode(s.createContextualFragment(e))}else"control"===i.type.toLowerCase()&&(i.clear(),s=_this.getRng()),s.pasteHTML(e);var n=$("#_xhe_temp",_doc),o=n[0];isIE?(s.moveToElementText(o),s.select()):(s.selectNode(o),i.removeAllRanges(),i.addRange(s)),n.remove()},this.pasteText=function(e,t){e||(e=""),e=_this.domEncode(e),e=e.replace(\/\\r?\\n\/g,"<br \/>"),_this.pasteHTML(e,t)},this.appendHTML=function(e){return bSource?!1:(_this.focus(),e=_this.processHTML(e,"write"),$(_doc.body).append(e),_this.setTextCursor(!0),undefined)},this.domEncode=function(e){return e.replace(regEntities,function(e){return arrEntities[e]})},this.setSource=function(e){bookmark=null,"string"!=typeof e&&""!==e&&(e=_text.value),bSource?$("#sourceCode",_doc).val(e):(settings.beforeSetSource&&(e=settings.beforeSetSource(e)),e=_this.cleanHTML(e),e=_this.formatXHTML(e),e=_this.processHTML(e,"write"),isIE?(_doc.body.innerHTML='<img id="_xhe_temp" width="0" height="0" \/>'+e,$("#_xhe_temp",_doc).remove()):_doc.body.innerHTML=e)},this.processHTML=function(e,t){function i(e,t,i,s,a,o){var l,r,h,c,d="";if(l=s.match(\/font-family\\s*:\\s*([^;"]+)\/i),l&&(d+=' face="'+l[1]+'"'),r=s.match(\/font-size\\s*:\\s*([^;"]+)\/i)){r=r[1].toLowerCase();for(var u=0;n.length>u;u++)if(r===n[u].n||r===n[u].s){h=u+1;break}h&&(d+=' size="'+h+'"',s=s.replace(\/(^|;)(\\s*font-size\\s*:\\s*[^;"]+;?)+\/gi,"$1"))}if(c=s.match(\/(?:^|[\\s;])color\\s*:\\s*([^;"]+)\/i)){var p;if(p=c[1].match(\/\\s*rgb\\s*\\(\\s*(\\d+)\\s*,\\s*(\\d+)\\s*,\\s*(\\d+)\\s*\\)\/i)){c[1]="#";for(var g=1;3>=g;g++)c[1]+=("0"+(p[g]-0).toString(16)).slice(-2)}c[1]=c[1].replace(\/^#([0-9a-f])([0-9a-f])([0-9a-f])$\/i,"#$1$1$2$2$3$3"),d+=' color="'+c[1]+'"'}return s=s.replace(\/(^|;)(\\s*(font-family|color)\\s*:\\s*[^;"]+;?)+\/gi,"$1"),""!==d?(s&&(d+=' style="'+s+'"'),"<font"+(i?i:"")+d+(a?a:"")+">"+o+"<\/font>"):e}function s(e,t,i,s,a){for(var n,l,r=(i?i:"")+(s?s:""),h=[],c=[],d=0;o.length>d;d++)n=o[d].r,l=o[d].t,r=r.replace(n,function(){return h.push("<"+l+">"),c.push("<\/"+l+">"),""});return r=r.replace(\/\\s+style\\s*=\\s*"\\s*"\/i,""),(r?"<span"+r+">":"")+h.join("")+a+c.join("")+(r?"<\/span>":"")}var a=' class="Apple-style-span"',n=settings.listFontsize;if("write"===t)e=e.replace(\/(<(\\\/?)(\\w+))((?:\\s+[\\w\\-:]+\\s*=\\s*(?:"[^"]*"|'[^']*'|[^>\\s]+))*)\\s*((\\\/?)>)\/g,function(e,t,i,s,n,o,l){s=s.toLowerCase(),isMozilla?"strong"===s?s="b":"em"===s&&(s="i"):isWebkit&&("strong"===s?(s="span",i||(n+=a+' style="font-weight: bold;"')):"em"===s?(s="span",i||(n+=a+' style="font-style: italic;"')):"u"===s?(s="span",i||(n+=a+' style="text-decoration: underline;"')):"strike"===s&&(s="span",i||(n+=a+' style="text-decoration: line-through;"')));var r,h="";if("del"===s)s="strike";else if("img"===s)n=n.replace(\/\\s+emot\\s*=\\s*("[^"]*"|'[^']*'|[^>\\s]+)\/i,function(e,t){return r=t.match(\/^(["']?)(.*)\\1\/)[2],r=r.split(","),r[1]||(r[1]=r[0],r[0]=""),"default"===r[0]&&(r[0]=""),settings.emotMark?e:""});else if("a"===s)!n.match(\/ href=[^ ]\/i)&&n.match(\/ name=[^ ]\/i)&&(h+=" xhe-anchor"),l&&(o="><\/a>");else if("table"===s&&!i){var c=n.match(\/\\s+border\\s*=\\s*("[^"]*"|'[^']*'|[^>\\s]+)\/i);(!c||c[1].match(\/^(["']?)\\s*0\\s*\\1$\/))&&(h+=" xhe-border")}var d;if(n=n.replace(\/\\s+([\\w\\-:]+)\\s*=\\s*("[^"]*"|'[^']*'|[^>\\s]+)\/g,function(e,t,i){return t=t.toLowerCase(),i=i.match(\/^(["']?)(.*)\\1\/)[2],aft="",isIE&&t.match(\/^(disabled|checked|readonly|selected)$\/)&&i.match(\/^(false|0)$\/i)?"":"img"===s&&r&&"src"===t?"":(t.match(\/^(src|href)$\/)&&(aft=" _xhe_"+t+'="'+i+'"',urlBase&&(i=getLocalUrl(i,"abs",urlBase))),h&&"class"===t&&(i+=" "+h,h=""),isWebkit&&"style"===t&&"span"===s&&i.match(\/(^|;)\\s*(font-family|font-size|color|background-color)\\s*:\\s*[^;]+\\s*(;|$)\/i)&&(d=!0)," "+t+'="'+i+'"'+aft)}),r){var u=emotPath+(r[0]?r[0]:"default")+"\/"+r[1]+".gif";n+=' src="'+u+'" _xhe_src="'+u+'"'}return d&&(n+=a),h&&(n+=' class="'+h+'"'),"<"+i+s+n+o}),isIE&&(e=e.replace(\/&apos;\/gi,"&#39;")),isWebkit||(e=e.replace(\/<(span)(\\s+[^>]*?)?\\s+style\\s*=\\s*"((?:[^"]*?;)?\\s*(?:font-family|font-size|color)\\s*:[^"]*)"( [^>]*)?>(((?!<\\1(\\s+[^>]*?)?>)[\\s\\S]|<\\1(\\s+[^>]*?)?>((?!<\\1(\\s+[^>]*?)?>)[\\s\\S]|<\\1(\\s+[^>]*?)?>((?!<\\1(\\s+[^>]*?)?>)[\\s\\S])*?<\\\/\\1>)*?<\\\/\\1>)*?)<\\\/\\1>\/gi,i),e=e.replace(\/<(span)(\\s+[^>]*?)?\\s+style\\s*=\\s*"((?:[^"]*?;)?\\s*(?:font-family|font-size|color)\\s*:[^"]*)"( [^>]*)?>(((?!<\\1(\\s+[^>]*?)?>)[\\s\\S]|<\\1(\\s+[^>]*?)?>((?!<\\1(\\s+[^>]*?)?>)[\\s\\S])*?<\\\/\\1>)*?)<\\\/\\1>\/gi,i),e=e.replace(\/<(span)(\\s+[^>]*?)?\\s+style\\s*=\\s*"((?:[^"]*?;)?\\s*(?:font-family|font-size|color)\\s*:[^"]*)"( [^>]*)?>(((?!<\\1(\\s+[^>]*?)?>)[\\s\\S])*?)<\\\/\\1>\/gi,i)),e=e.replace(\/<(td|th)(\\s+[^>]*?)?>(\\s|&nbsp;)*<\\\/\\1>\/gi,"<$1$2>"+(isIE?"":"<br \/>")+"<\/$1>");else{if(isWebkit)for(var o=[{r:\/font-weight\\s*:\\s*bold;?\/gi,t:"strong"},{r:\/font-style\\s*:\\s*italic;?\/gi,t:"em"},{r:\/text-decoration\\s*:\\s*underline;?\/gi,t:"u"},{r:\/text-decoration\\s*:\\s*line-through;?\/gi,t:"strike"}],l=0;2>l;l++)e=e.replace(\/<(span)(\\s+[^>]*?)?\\s+class\\s*=\\s*"Apple-style-span"(\\s+[^>]*?)?>(((?!<\\1(\\s+[^>]*?)?>)[\\s\\S]|<\\1(\\s+[^>]*?)?>((?!<\\1(\\s+[^>]*?)?>)[\\s\\S]|<\\1(\\s+[^>]*?)?>((?!<\\1(\\s+[^>]*?)?>)[\\s\\S])*?<\\\/\\1>)*?<\\\/\\1>)*?)<\\\/\\1>\/gi,s),e=e.replace(\/<(span)(\\s+[^>]*?)?\\s+class\\s*=\\s*"Apple-style-span"(\\s+[^>]*?)?>(((?!<\\1(\\s+[^>]*?)?>)[\\s\\S]|<\\1(\\s+[^>]*?)?>((?!<\\1(\\s+[^>]*?)?>)[\\s\\S])*?<\\\/\\1>)*?)<\\\/\\1>\/gi,s),e=e.replace(\/<(span)(\\s+[^>]*?)?\\s+class\\s*=\\s*"Apple-style-span"(\\s+[^>]*?)?>(((?!<\\1(\\s+[^>]*?)?>)[\\s\\S])*?)<\\\/\\1>\/gi,s);e=e.replace(\/(<(\\w+))((?:\\s+[\\w\\-:]+\\s*=\\s*(?:"[^"]*"|'[^']*'|[^>\\s]+))*)\\s*(\\\/?>)\/g,function(e,t,i,s,a){i=i.toLowerCase();$/;"	p
var.specialKeys.13	js/xheditor.min.js	/^(function(){var e={};window.XHEDITOR=e})(),function(e,t){e.mapLang={},e.setLang=function(i,s){s===t&&(s=i,i=""),""!==i&&(i+=".");var a,n;for(var o in s)n=s[o],a=i+o,"string"==typeof n||n instanceof Array?e.mapLang[a]=n:e.setLang(a,n)},e.getLang=function(i){var s=e.mapLang[i];if(s===t&&(s=i.replace(\/{#([^{}]+)}\/g,function(t,i){var s=e.mapLang[i];return s?s:i})),"string"==typeof s){var a=arguments;s=s.replace(\/{\\$(\\d+)}\/g,function(e,i){var s=a[parseInt(i,10)+1];return s!==t?s:e})}return s}}(XHEDITOR),function(XHEDITOR,$,undefined){var agent=navigator.userAgent.toLowerCase(),bMobile=\/mobile\/i.test(agent),browser=$.browser,browerVer=parseFloat(browser.version),isIE=browser.msie,isMozilla=browser.mozilla,isWebkit=browser.webkit,isOpera=browser.opera,isChrome=browser.chrome,bAir=agent.indexOf(" adobeair\/")>-1,xCount=0,bShowPanel=!1,bClickCancel=!0,bShowModal=!1,bCheckEscInit=!1,_jPanel,_jShadow,_jCntLine,_jPanelButton,jModal,jModalShadow,layerShadow,jOverlay,jHideSelect,onModalRemove,editorRoot,getLang=XHEDITOR.getLang;if($("script[src*=xheditor]").each(function(){var e=this.src;return e.match(\/xheditor[^\\\/]*\\.js\/i)?(editorRoot=e.replace(\/[\\?#].*$\/,"").replace(\/(^|[\\\/\\\\])[^\\\/]*$\/,"$1"),!1):undefined}),isIE){try{document.execCommand("BackgroundImageCache",!1,!0)}catch(e){}var jqueryVer=$.fn.jquery;jqueryVer&&jqueryVer.match(\/^1\\.[67]\/)&&($.attrHooks.width=$.attrHooks.height=null)}var specialKeys={27:"esc",9:"tab",32:"space",13:"enter",8:"backspace",145:"scroll",20:"capslock",144:"numlock",19:"pause",45:"insert",36:"home",46:"del",35:"end",33:"pageup",34:"pagedown",37:"left",38:"up",39:"right",40:"down",112:"f1",113:"f2",114:"f3",115:"f4",116:"f5",117:"f6",118:"f7",119:"f8",120:"f9",121:"f10",122:"f11",123:"f12"},arrAlign=[{v:"justifyleft"},{v:"justifycenter"},{v:"justifyright"},{v:"justifyfull"}],arrList=[{v:"insertOrderedList"},{v:"insertUnorderedList"}],htmlPastetext='<div><label for="xhePastetextValue">{#PastetextTip}<\/label><\/div><div><textarea id="xhePastetextValue" wrap="soft" spellcheck="false" style="width:300px;height:100px;" \/><\/div><div style="text-align:right;"><input type="button" id="xheSave" value="{#dialogOk}" \/><\/div>',htmlLink='<div><label for="xheLinkUrl">{#link.url}<\/label><input type="text" id="xheLinkUrl" value="http:\/\/" class="xheText" \/><\/div><div><label for="xheLinkTarget">{#link.target}<\/label><select id="xheLinkTarget"><option selected="selected" value="">{#default}<\/option><option value="_blank">{#link.targetBlank}<\/option><option value="_self">{#link.targetSelf}<\/option><option value="_parent">{#link.targetParent}<\/option><\/select><\/div><div style="display:none"><label for="xheLinkText">{#link.linkText}<\/label><input type="text" id="xheLinkText" value="" class="xheText" \/><\/div><div style="text-align:right;"><input type="button" id="xheSave" value="{#dialogOk}" \/><\/div>',htmlAnchor='<div><label for="xheAnchorName">{#anchor.name}<\/label><input type="text" id="xheAnchorName" value="" class="xheText" \/><\/div><div style="text-align:right;"><input type="button" id="xheSave" value="{#dialogOk}" \/><\/div>',htmlImg='<div><label for="xheImgUrl">{#img.url}<\/label><input type="text" id="xheImgUrl" value="http:\/\/" class="xheText" \/><\/div><div><div><label for="xheImgAlt">{#img.alt}<\/label><input type="text" id="xheImgAlt" \/><\/div><div><label for="xheImgAlign">{#img.align}<\/label><select id="xheImgAlign"><option selected="selected" value="">{#default}<\/option><option value="left">{#img.alignLeft}<\/option><option value="right">{#img.alignRight}<\/option><option value="top">{#img.alignTop}<\/option><option value="middle">{#img.alignMiddle}<\/option><option value="baseline">{#img.alignBaseline}<\/option><option value="bottom">{#img.alignBottom}<\/option><\/select><\/div><div><label for="xheImgWidth">{#img.width}<\/label><input type="text" id="xheImgWidth" style="width:40px;" \/> <label for="xheImgHeight">{#img.height}<\/label><input type="text" id="xheImgHeight" style="width:40px;" \/><\/div><div><label for="xheImgBorder">{#img.border}<\/label><input type="text" id="xheImgBorder" style="width:40px;" \/><\/div><div><label for="xheImgHspace">{#img.hspace}<\/label><input type="text" id="xheImgHspace" style="width:40px;" \/> <label for="xheImgVspace">{#img.vspace}<\/label><input type="text" id="xheImgVspace" style="width:40px;" \/><\/div><div style="text-align:right;"><input type="button" id="xheSave" value="{#dialogOk}" \/><\/div>',htmlFlash='<div><label for="xheFlashUrl">{#flash.url}<\/label><input type="text" id="xheFlashUrl" value="http:\/\/" class="xheText" \/><\/div><div><label for="xheFlashWidth">{#flash.width}<\/label><input type="text" id="xheFlashWidth" style="width:40px;" value="480" \/> <label for="xheFlashHeight">{#flash.height}<\/label><input type="text" id="xheFlashHeight" style="width:40px;" value="400" \/><\/div><div style="text-align:right;"><input type="button" id="xheSave" value="{#dialogOk}" \/><\/div>',htmlMedia='<div><label for="xheMediaUrl">{#media.url}<\/label><input type="text" id="xheMediaUrl" value="http:\/\/" class="xheText" \/><\/div><div><label for="xheMediaWidth">{#media.width}<\/label><input type="text" id="xheMediaWidth" style="width:40px;" value="480" \/> <label for="xheMediaHeight">{#media.height}<\/label><input type="text" id="xheMediaHeight" style="width:40px;" value="400" \/><\/div><div style="text-align:right;"><input type="button" id="xheSave" value="{#dialogOk}" \/><\/div>',htmlTable='<div><label for="xheTableRows">{#table.rows}<\/label><input type="text" id="xheTableRows" style="width:40px;" value="3" \/> <label for="xheTableColumns">{#table.columns}<\/label><input type="text" id="xheTableColumns" style="width:40px;" value="2" \/><\/div><div><label for="xheTableHeaders">{#table.headers}<\/label><select id="xheTableHeaders"><option selected="selected" value="">{#none}<\/option><option value="row">{#table.headersRow}<\/option><option value="col">{#table.headersCol}<\/option><option value="both">{#table.headersBoth}<\/option><\/select><\/div><div><label for="xheTableWidth">{#table.width}<\/label><input type="text" id="xheTableWidth" style="width:40px;" value="200" \/> <label for="xheTableHeight">{#table.height}<\/label><input type="text" id="xheTableHeight" style="width:40px;" value="" \/><\/div><div><label for="xheTableBorder">{#table.border}<\/label><input type="text" id="xheTableBorder" style="width:40px;" value="1" \/><\/div><div><label for="xheTableCellSpacing">{#table.cellSpacing}<\/label><input type="text" id="xheTableCellSpacing" style="width:40px;" value="1" \/> <label for="xheTableCellPadding">{#table.cellPadding}<\/label><input type="text" id="xheTableCellPadding" style="width:40px;" value="1" \/><\/div><div><label for="xheTableAlign">{#table.align}<\/label><select id="xheTableAlign"><option selected="selected" value="">{#default}<\/option><option value="left">{#table.alignLeft}<\/option><option value="center">{#table.alignCenter}<\/option><option value="right">{#table.alignRight}<\/option><\/select><\/div><div><label for="xheTableCaption">{#table.caption}<\/label><input type="text" id="xheTableCaption" \/><\/div><div style="text-align:right;"><input type="button" id="xheSave" value="{#dialogOk}" \/><\/div>',htmlAbout='<div style="font:12px Arial;width:245px;word-wrap:break-word;word-break:break-all;outline:none;" role="dialog" tabindex="-1"><p><span style="font-size:20px;color:#1997DF;">xhEditor<\/span><br \/>v1.2.1 (build 130225)<\/p><p>{#aboutXheditor}<\/p><p>Copyright &copy; <a href="http:\/\/xheditor.com\/" target="_blank">xhEditor.com<\/a>. All rights reserved.<\/p><\/div>',itemEmots={"default":{name:"{#default}",width:24,height:24,line:7,list:["smile","tongue","titter","laugh","sad","wronged","fastcry","cry","wail","mad","knock","curse","crazy","angry","ohmy","awkward","panic","shy","cute","envy","proud","struggle","quiet","shutup","doubt","despise","sleep","bye"]}},arrTools={Cut:{t:"Cut"},Copy:{t:"Copy"},Paste:{t:"Paste"},Pastetext:{t:"Pastetext",h:isIE?0:1},Blocktag:{t:"Blocktag",h:1},Fontface:{t:"Fontface",h:1},FontSize:{t:"FontSize",h:1},Bold:{t:"Bold",s:"Ctrl+B"},Italic:{t:"Italic",s:"Ctrl+I"},Underline:{t:"Underline",s:"Ctrl+U"},Strikethrough:{t:"Strikethrough"},FontColor:{t:"FontColor",h:1},BackColor:{t:"BackColor",h:1},SelectAll:{t:"SelectAll"},Removeformat:{t:"Removeformat"},Align:{t:"Align",h:1},List:{t:"List",h:1},Outdent:{t:"Outdent"},Indent:{t:"Indent"},Link:{t:"Link",s:"Ctrl+L",h:1},Unlink:{t:"Unlink"},Anchor:{t:"Anchor",h:1},Img:{t:"Img",h:1},Flash:{t:"Flash",h:1},Media:{t:"Media",h:1},Hr:{t:"Hr"},Emot:{t:"Emot",s:"ctrl+e",h:1},Table:{t:"Table",h:1},Source:{t:"Source"},Preview:{t:"Preview"},Print:{t:"Print",s:"Ctrl+P"},Fullscreen:{t:"Fullscreen",s:"Esc"},About:{t:"About"}},toolsThemes={mini:"Bold,Italic,Underline,Strikethrough,|,Align,List,|,Link,Img",simple:"Blocktag,Fontface,FontSize,Bold,Italic,Underline,Strikethrough,FontColor,BackColor,|,Align,List,Outdent,Indent,|,Link,Img,Emot",full:"Cut,Copy,Paste,Pastetext,|,Blocktag,Fontface,FontSize,Bold,Italic,Underline,Strikethrough,FontColor,BackColor,SelectAll,Removeformat,|,Align,List,Outdent,Indent,|,Link,Unlink,Anchor,Img,Flash,Media,Hr,Emot,Table,|,Source,Preview,Print,Fullscreen"};toolsThemes.mfull=toolsThemes.full.replace(\/\\|(,Align)\/i,"\/$1");var arrDbClick={a:"Link",img:"Img",embed:"Embed"},uploadInputname="filedata",arrEntities={"<":"&lt;",">":"&gt;",'"':"&quot;","\\u00ae":"&reg;","\\u00a9":"&copy;"},regEntities=\/[<>"\\u00ae\\u00a9]\/g,Xheditor=function(textarea,options){function checkDblClick(e){var t=e.target,i=arrDbClick[t.tagName.toLowerCase()];if(i){if("Embed"===i){var s={"application\/x-shockwave-flash":"Flash","application\/x-mplayer2":"Media"};i=s[t.type.toLowerCase()]}_this.exec(i)}}function checkEsc(e){return 27===e.which?(bShowModal?_this.removeModal():bShowPanel&&_this.hidePanel(),!1):undefined}function loadReset(){setTimeout(_this.setSource,10)}function saveResult(){_this.getSource()}function cleanPaste(e){var t,i,s;if(e&&(t=e.originalEvent.clipboardData)&&(i=t.items)&&(s=i[0])&&"file"==s.kind&&s.type.match(\/^image\\\/\/i)){var a=s.getAsFile(),n=new FileReader;return n.onload=function(){var e='<img src="'+event.target.result+'">';e=replaceRemoteImg(e),_this.pasteHTML(e)},n.readAsDataURL(a),!1}var o=settings.cleanPaste;if(0===o||bSource||bCleanPaste)return!0;bCleanPaste=!0,_this.saveBookmark();var l=isIE?"pre":"div",r=$("<"+l+' class="xhe-paste">\\ufeff\\ufeff<\/'+l+">",_doc).appendTo(_doc.body),h=r[0],c=_this.getSel(),d=_this.getRng(!0);r.css("top",_jWin.scrollTop()),isIE?(d.moveToElementText(h),d.select()):(d.selectNodeContents(h),c.removeAllRanges(),c.addRange(d)),setTimeout(function(){var e,t=3===o;if(t)r.html(r.html().replace(\/<br(\\s+[^<>]*)?>\/gi,"\\n")),e=r.text();else{var i=$(".xhe-paste",_doc.body),s=[];i.each(function(e,t){0==$(t).find(".xhe-paste").length&&s.push(t.innerHTML)}),e=s.join("<br \/>")}r.remove(),_this.loadBookmark(),e=e.replace(\/^[\\s\\uFEFF]+|[\\s\\uFEFF]+$\/g,""),e&&(t?_this.pasteText(e):(e=_this.cleanHTML(e),e=_this.cleanWord(e),e=_this.formatXHTML(e),(!settings.onPaste||settings.onPaste&&(e=settings.onPaste(e))!==!1)&&(e=replaceRemoteImg(e),_this.pasteHTML(e)))),bCleanPaste=!1},0)}function replaceRemoteImg(e){var t=settings.localUrlTest,i=settings.remoteImgSaveUrl;if(t&&i){var s=[],a=0;e=e.replace(\/(<img)((?:\\s+[^>]*?)?(?:\\s+src="\\s*([^"]+)\\s*")(?: [^>]*)?)(\\\/?>)\/gi,function(e,i,n,o,l){return!\/^(https?|data:image)\/i.test(o)||\/_xhe_temp\/.test(n)||t.test(o)||(s[a]=o,n=n.replace(\/\\s+(width|height)="[^"]*"\/gi,"").replace(\/\\s+src="[^"]*"\/gi,' src="'+skinPath+'img\/waiting.gif" remoteimg="'+a++ +'"')),i+n+l}),s.length>0&&$.post(i,{urls:s.join("|")},function(e){e=e.split("|"),$("img[remoteimg]",_this.doc).each(function(){var t=$(this);xheAttr(t,"src",e[t.attr("remoteimg")]),t.removeAttr("remoteimg")})})}return e}function setCSS(e){try{_this._exec("styleWithCSS",e,!0)}catch(t){try{_this._exec("useCSS",!e,!0)}catch(t){}}}function setOpts(){if(bInit&&!bSource){setCSS(!1);try{_this._exec("enableObjectResizing",!0,!0)}catch(e){}if(isIE)try{_this._exec("BackgroundImageCache",!0,!0)}catch(e){}}}function forcePtag(e){if(bSource||13!==e.which||e.shiftKey||e.ctrlKey||e.altKey)return!0;var t=_this.getParent("p,h1,h2,h3,h4,h5,h6,pre,address,div,li");return t.is("li")?!0:settings.forcePtag?(0===t.length&&_this._exec("formatblock","<p>"),undefined):(_this.pasteHTML("<br \/>"),isIE&&t.length>0&&2===_this.getRng().parentElement().childNodes.length&&_this.pasteHTML("<br \/>"),!1)}function fixFullHeight(){isMozilla||isWebkit||(bFullscreen&&_jArea.height("100%").css("height",_jArea.outerHeight()-_jTools.outerHeight()),isIE&&_jTools.hide().show())}function fixAppleSel(e){if(e=e.target,e.tagName.match(\/(img|embed)\/i)){var t=_this.getSel(),i=_this.getRng(!0);i.selectNode(e),t.removeAllRanges(),t.addRange(i)}}function xheAttr(e,t,i){if(!t)return!1;var s="_xhe_"+t;return i&&(urlType&&(i=getLocalUrl(i,urlType,urlBase)),e.attr(t,urlBase?getLocalUrl(i,"abs",urlBase):i).removeAttr(s).attr(s,i)),e.attr(s)||e.attr(t)}function clickCancelPanel(){bClickCancel&&_this.hidePanel()}function checkShortcuts(e){if(bSource)return!0;var t=e.which,i=specialKeys[t],s=i?i:String.fromCharCode(t).toLowerCase();sKey="",sKey+=e.ctrlKey?"ctrl+":"",sKey+=e.altKey?"alt+":"",sKey+=e.shiftKey?"shift+":"",sKey+=s;var a,n=arrShortCuts[sKey];for(a in n){if(a=n[a],!$.isFunction(a))return _this.exec(a),!1;if(a.call(_this)===!1)return!1}}function is(e,t){var i=typeof e;return t?"array"===t&&e.hasOwnProperty&&e instanceof Array?!0:i===t:"undefined"!=i}function getLocalUrl(e,t,i){if(e.match(\/^(\\w+):\\\/\\\/\/i)&&!e.match(\/^https?:\/i)||\/^#\/i.test(e)||\/^data:\/i.test(e))return e;var s=i?$('<a href="'+i+'" \/>')[0]:location,a=s.protocol,n=s.host,o=s.hostname,l=s.port,r=s.pathname.replace(\/\\\\\/g,"\/").replace(\/[^\\\/]+$\/i,"");if(""===l&&(l="80"),""===r?r="\/":"\/"!==r.charAt(0)&&(r="\/"+r),e=$.trim(e),"abs"!==t&&(e=e.replace(RegExp(a+"\\\\\/\\\\\/"+o.replace(\/\\.\/g,"\\\\.")+"(?::"+l+")"+("80"===l?"?":"")+"(\/|$)","i"),"\/")),"rel"===t&&(e=e.replace(RegExp("^"+r.replace(\/([\\\/\\.\\+\\[\\]\\(\\)])\/g,"\\\\$1"),"i"),"")),"rel"!==t&&(e.match(\/^(https?:\\\/\\\/|\\\/)\/i)||(e=r+e),"\/"===e.charAt(0))){var h,c,d=[],u=e.split("\/"),p=u.length;for(c=0;p>c;c++)h=u[c],".."===h?d.pop():""!==h&&"."!==h&&d.push(h);""===u[p-1]&&d.push(""),e="\/"+d.join("\/")}return"abs"!==t||e.match(\/^https?:\\\/\\\/\/i)||(e=a+"\/\/"+n+e),e=e.replace(\/(https?:\\\/\\\/[^:\\\/?#]+):80(\\\/|$)\/i,"$1$2")}function checkFileExt(e,t){return"*"===t||e.match(RegExp(".("+t.replace(\/,\/g,"|")+")$","i"))?!0:(alert(getLang("upload.extLimit",t)),!1)}function formatBytes(e){var t=["Byte","KB","MB","GB","TB","PB"],i=Math.floor(Math.log(e)\/Math.log(1024));return(e\/Math.pow(1024,Math.floor(i))).toFixed(2)+t[i]}function returnFalse(){return!1}var _this=this,_text=textarea,_jText=$(_text),_jForm=_jText.closest("form"),_jTools,_jArea,_win,_jWin,_doc,_jDoc,bookmark,bInit=!1,bSource=!1,bFullscreen=!1,bCleanPaste=!1,outerScroll,bShowBlocktag=!1,sLayoutStyle="",ev=null,timer,bDisableHoverExec=!1,bQuickHoverExec=!1,lastPoint=null,lastAngle=null,editorHeight=0,settings=_this.settings=$.extend({},XHEDITOR.settings,options),plugins=settings.plugins,strPlugins=[];if(plugins&&(arrTools=$.extend({},arrTools,plugins),$.each(plugins,function(e){strPlugins.push(e)}),strPlugins=strPlugins.join(",")),settings.tools.match(\/^\\s*(m?full|simple|mini)\\s*$\/i)){var toolsTheme=toolsThemes[$.trim(settings.tools)];settings.tools=settings.tools.match(\/m?full\/i)&&plugins?toolsTheme.replace("Table","Table,"+strPlugins):toolsTheme}settings.tools.match(\/(^|,)\\s*About\\s*(,|$)\/i)||(settings.tools+=",About"),settings.tools=settings.tools.split(","),settings.editorRoot&&(editorRoot=settings.editorRoot),bAir===!1&&(editorRoot=getLocalUrl(editorRoot,"abs")),settings.urlBase&&(settings.urlBase=getLocalUrl(settings.urlBase,"abs"));var idCSS="xheCSS_"+settings.skin,idContainer="xhe"+xCount+"_container",idTools="xhe"+xCount+"_Tool",idIframeArea="xhe"+xCount+"_iframearea",idIframe="xhe"+xCount+"_iframe",idFixFFCursor="xhe"+xCount+"_fixffcursor",headHTML="",bodyClass="",skinPath=editorRoot+"xheditor_skin\/"+settings.skin+"\/",arrEmots=itemEmots,urlType=settings.urlType,urlBase=settings.urlBase,emotPath=settings.emotPath,emotPath=emotPath?emotPath:editorRoot+"xheditor_emot\/",selEmotGroup="";arrEmots=$.extend({},arrEmots,settings.emots),emotPath=getLocalUrl(emotPath,"rel",urlBase?urlBase:null),bShowBlocktag=settings.showBlocktag,bShowBlocktag&&(bodyClass+=" showBlocktag");var arrShortCuts=[];this.init=function(){function e(e){var t,i=$(e.target);(t=i.css("width"))&&i.css("width","").attr("width",t.replace(\/[^0-9%]+\/g,"")),(t=i.css("height"))&&i.css("height","").attr("height",t.replace(\/[^0-9%]+\/g,""))}0===$("#"+idCSS).length&&$("head").append('<link id="'+idCSS+'" rel="stylesheet" type="text\/css" href="'+skinPath+'ui.css" \/>');var t=_jText.outerWidth(),i=_jText.outerHeight(),s=settings.width||_text.style.width||(t>10?t:0);editorHeight=settings.height||_text.style.height||(i>10?i:150),\/^\\d+(?:\\.\\d+)?$\/.test(s)&&(s+="px"),is(editorHeight,"string")&&(editorHeight=editorHeight.replace(\/[^\\d]+\/g,""));var a,n,o=settings.background||_text.style.background,l=['<span class="xheGStart"\/>'],r=\/\\||\\\/\/i;$.each(settings.tools,function(e,t){if(t.match(r)&&l.push('<span class="xheGEnd"\/>'),"|"===t)l.push('<span class="xheSeparator"\/>');else if("\/"===t)l.push("<br \/>");else{if(a=arrTools[t],!a)return;n=a.c?a.c:"xheIcon xheBtn"+t,l.push('<span><a href="#" title="{#'+a.t+'}" cmd="'+t+'" class="xheButton xheEnabled" tabindex="-1" role="button"><span class="'+n+'" unselectable="on" style="font-size:0;color:transparent;text-indent:-999px;">'+a.t+"<\/span><\/a><\/span>"),a.s&&_this.addShortcuts(a.s,t)}t.match(r)&&l.push('<span class="xheGStart"\/>')}),l.push('<span class="xheGEnd"\/><br \/>'),_jText.after($('<input type="text" id="'+idFixFFCursor+'" style="position:absolute;display:none;" \/><span id="'+idContainer+'" class="xhe_'+settings.skin+'" style="display:none"><table cellspacing="0" cellpadding="0" class="xheLayout" style="'+("0px"!=s?"width:"+s+";":"")+"height:"+editorHeight+'px;" role="presentation"><tr><td id="'+idTools+'" class="xheTool" unselectable="on" style="height:1px;" role="presentation"><\/td><\/tr><tr><td id="'+idIframeArea+'" class="xheIframeArea" role="presentation"><iframe frameborder="0" id="'+idIframe+'" src="javascript:;" style="width:100%;"><\/iframe><\/td><\/tr><\/table><\/span>')),_jTools=$("#"+idTools),_jArea=$("#"+idIframeArea),headHTML='<meta http-equiv="Content-Type" content="text\/html; charset=utf-8" \/><link rel="stylesheet" href="'+skinPath+'iframe.css"\/>';var h=settings.loadCSS;if(h)if(is(h,"array"))for(var c in h)headHTML+='<link rel="stylesheet" href="'+h[c]+'"\/>';else headHTML+=h.match(\/\\s*<style(\\s+[^>]*?)?>[\\s\\S]+?<\\\/style>\\s*\/i)?h:'<link rel="stylesheet" href="'+h+'"\/>';var d='<!DOCTYPE html><html xmlns="http:\/\/www.w3.org\/1999\/xhtml"><head>'+headHTML+"<title>{#defaultReadTip} "+(settings.readTip?settings.readTip:"")+"<\/title>";o&&(d+="<style>html{background:"+o+";}<\/style>"),d+='<\/head><body spellcheck="0" class="editMode'+bodyClass+'"><\/body><\/html>',_this.win=_win=$("#"+idIframe)[0].contentWindow,_jWin=$(_win);try{this.doc=_doc=_win.document,_jDoc=$(_doc),_doc.open(),_doc.write(getLang(d)),_doc.close(),isIE?_doc.body.contentEditable="true":_doc.designMode="On"}catch(u){}setTimeout(setOpts,300),_this.setSource(),_win.setInterval=null,_jTools.append(getLang(l.join(""))).bind("mousedown contextmenu",returnFalse).click(function(e){var t=$(e.target).closest("a");return t.is(".xheEnabled")&&(clearTimeout(timer),_jTools.find("a").attr("tabindex","-1"),ev=e,_this.exec(t.attr("cmd"))),!1}),_jTools.find(".xheButton").hover(function(e){var t=$(this),i=settings.hoverExecDelay,s=lastAngle;if(lastAngle=null,-1===i||bDisableHoverExec||!t.is(".xheEnabled"))return!1;if(s&&s>10)return bDisableHoverExec=!0,setTimeout(function(){bDisableHoverExec=!1},100),!1;var a=t.attr("cmd"),n=1===arrTools[a].h;return n?(bQuickHoverExec&&(i=0),i>=0&&(timer=setTimeout(function(){ev=e,lastPoint={x:ev.clientX,y:ev.clientY},_this.exec(a)},i)),undefined):(_this.hidePanel(),!1)},function(){lastPoint=null,timer&&clearTimeout(timer)}).mousemove(function(e){if(lastPoint){var t={x:e.clientX-lastPoint.x,y:e.clientY-lastPoint.y};if(Math.abs(t.x)>1||Math.abs(t.y)>1){if(t.x>0&&t.y>0){var i=Math.round(Math.atan(t.y\/t.x)\/.017453293);lastAngle=lastAngle?(lastAngle+i)\/2:i}else lastAngle=null;lastPoint={x:e.clientX,y:e.clientY}}}}),_jPanel=$("#xhePanel"),_jShadow=$("#xheShadow"),_jCntLine=$("#xheCntLine"),0===_jPanel.length&&(_jPanel=$('<div id="xhePanel"><\/div>').mousedown(function(e){e.stopPropagation()}),_jShadow=$('<div id="xheShadow"><\/div>'),_jCntLine=$('<div id="xheCntLine"><\/div>'),setTimeout(function(){$(document.body).append(_jPanel).append(_jShadow).append(_jCntLine)},10)),$("#"+idContainer).show(),_jText.hide(),_jArea.css("height",editorHeight-_jTools.outerHeight()),isIE&8>browerVer&&setTimeout(function(){_jArea.css("height",editorHeight-_jTools.outerHeight())},1),_jText.focus(_this.focus),_jForm.submit(saveResult).bind("reset",loadReset),settings.submitID&&$("#"+settings.submitID).mousedown(saveResult),$(window).bind("unload beforeunload",saveResult).bind("resize",fixFullHeight),$(document).mousedown(clickCancelPanel),bCheckEscInit||($(document).keydown(checkEsc),bCheckEscInit=!0),_jWin.focus(function(){settings.focus&&settings.focus()}).blur(function(){settings.blur&&settings.blur()}),isWebkit&&_jWin.click(fixAppleSel),_jDoc.mousedown(clickCancelPanel).keydown(checkShortcuts).keypress(forcePtag).dblclick(checkDblClick).bind("mousedown click",function(e){_jText.trigger(e.type)}),isIE&&(_jDoc.keydown(function(e){var t=_this.getRng();return 8===e.which&&t.item?($(t.item(0)).remove(),!1):undefined}),_jDoc.bind("controlselect",function(t){t=t.target,$.nodeName(t,"IMG")&&$(t).unbind("resizeend",e).bind("resizeend",e)})),_jDoc.keydown(function(e){var t=e.which;return e.altKey&&t>=49&&57>=t?(_jTools.find("a").attr("tabindex","0"),_jTools.find(".xheGStart").eq(t-49).next().find("a").focus(),_doc.title="\\ufeff\\ufeff",!1):undefined}).click(function(){_jTools.find("a").attr("tabindex","-1")}),_jTools.keydown(function(e){var t=e.which;if(27==t)_jTools.find("a").attr("tabindex","-1"),_this.focus();else if(e.altKey&&t>=49&&57>=t)return _jTools.find(".xheGStart").eq(t-49).next().find("a").focus(),!1});var p=$(_doc.documentElement);isOpera?p.bind("keydown",function(e){e.ctrlKey&&86===e.which&&cleanPaste()}):p.bind(isIE?"beforepaste":"paste",cleanPaste),settings.disableContextmenu&&p.bind("contextmenu",returnFalse),settings.html5Upload&&p.bind("dragenter dragover",function(e){var t;return(t=e.originalEvent.dataTransfer.types)&&-1!==$.inArray("Files",t)?!1:undefined}).bind("drop",function(e){function t(e){var t,i,s;for(a=0;e.length>a;a++){if(i=e[a].name.replace(\/.+\\.\/,""),!(t=o.match(RegExp("(\\\\w+):[^:]*,"+i+"(?:,|$)","i"))))return 1;if(s){if(s!==t[1])return 2}else s=t[1]}return s}var i,s=e.originalEvent.dataTransfer;if(s&&(i=s.files)&&i.length>0){var a,n,o,l=["Link","Img","Flash","Media"],r=[];for(a in l)n=l[a],settings["up"+n+"Url"]&&settings["up"+n+"Url"].match(\/^[^!].*\/i)&&r.push(n+":,"+settings["up"+n+"Ext"]);return 0===r.length?!1:(o=r.join(","),n=t(i),1===n?alert(getLang("upload.extLimit",o.replace(\/\\w+:,\/g,""))):2===n?alert(getLang("upload.typeLimit")):n&&_this.startUpload(i,settings["up"+n+"Url"],"*",function(e){var t,i=[],s=settings.onUpload;s&&s(e);for(var a=0,o=e.length;o>a;a++)t=e[a],url=is(t,"string")?t:t.url,"!"===url.substr(0,1)&&(url=url.substr(1)),i.push(url);_this.exec(n),$("#xhe"+n+"Url").val(i.join(" ")),$("#xheSave").click()}),!1)}});var g=settings.shortcuts;g&&$.each(g,function(e,t){_this.addShortcuts(e,t)}),xCount++,bInit=!0,settings.fullscreen?_this.toggleFullscreen():settings.sourceMode&&setTimeout(_this.toggleSource,20);var f=settings.plugins;return f&&$.each(f,function(e,t){var i=t.i;i!==undefined&&i(_this)}),!0},this.remove=function(){_this.hidePanel(),saveResult(),_jText.unbind("focus",_this.focus),_jForm.unbind("submit",saveResult).unbind("reset",loadReset),settings.submitID&&$("#"+settings.submitID).unbind("mousedown",saveResult),$(window).unbind("unload beforeunload",saveResult).unbind("resize",fixFullHeight),$(document).unbind("mousedown",clickCancelPanel),$("#"+idContainer).remove(),$("#"+idFixFFCursor).remove(),_jText.show(),bInit=!1},this.saveBookmark=function(){if(!bSource){_this.focus();var e=_this.getRng();e=e.cloneRange?e.cloneRange():e,bookmark={top:_jWin.scrollTop(),rng:e}}},this.loadBookmark=function(){if(!bSource&&bookmark){_this.focus();var e=bookmark.rng;if(isIE)e.select();else{var t=_this.getSel();t.removeAllRanges(),t.addRange(e)}_jWin.scrollTop(bookmark.top),bookmark=null}},this.focus=function(){if(bSource?$("#sourceCode",_doc).focus():_win.focus(),isIE){var e=_this.getRng();e.parentElement&&e.parentElement().ownerDocument!==_doc&&_this.setTextCursor()}return!1},this.setTextCursor=function(e){var t=_this.getRng(!0),i=_doc.body;if(isIE)t.moveToElementText(i);else{for(var s=e?"lastChild":"firstChild";3!=i.nodeType&&i[s];)i=i[s];t.selectNode(i)}if(t.collapse(e?!1:!0),isIE)t.select();else{var a=_this.getSel();a.removeAllRanges(),a.addRange(t)}},this.getSel=function(){return _doc.selection?_doc.selection:_win.getSelection()},this.getRng=function(e){var t,i;try{e||(t=_this.getSel(),i=t.createRange?t.createRange():t.rangeCount>0?t.getRangeAt(0):null),i||(i=_doc.body.createTextRange?_doc.body.createTextRange():_doc.createRange())}catch(s){}return i},this.getParent=function(e){var t,i=_this.getRng();return isIE?t=i.item?i.item(0):i.parentElement():(t=i.commonAncestorContainer,i.collapsed||i.startContainer===i.endContainer&&2>i.startOffset-i.endOffset&&i.startContainer.hasChildNodes()&&(t=i.startContainer.childNodes[i.startOffset])),e=e?e:"*",t=$(t),t.is(e)||(t=$(t).closest(e)),t},this.getSelect=function(e){var t=_this.getSel(),i=_this.getRng(),s=!0;if(s=!i||i.item?!1:!t||0===i.boundingWidth||i.collapsed,"text"===e)return s?"":i.text||(t.toString?""+t:"");var a;if(i.cloneContents){var n,o=$("<div><\/div>");n=i.cloneContents(),n&&o.append(n),a=o.html()}else a=is(i.item)?i.item(0).outerHTML:is(i.htmlText)?i.htmlText:""+i;return s&&(a=""),a=_this.processHTML(a,"read"),a=_this.cleanHTML(a),a=_this.formatXHTML(a)},this.pasteHTML=function(e,t){if(bSource)return!1;_this.focus(),e=_this.processHTML(e,"write");var i=_this.getSel(),s=_this.getRng();if(t!==undefined){if(s.item){var a=s.item(0);s=_this.getRng(!0),s.moveToElementText(a),s.select()}s.collapse(t)}if(e+="<"+(isIE?"img":"span")+' id="_xhe_temp" width="0" height="0" \/>',s.insertNode){if($(s.startContainer).closest("style,script").length>0)return!1;s.deleteContents(),s.insertNode(s.createContextualFragment(e))}else"control"===i.type.toLowerCase()&&(i.clear(),s=_this.getRng()),s.pasteHTML(e);var n=$("#_xhe_temp",_doc),o=n[0];isIE?(s.moveToElementText(o),s.select()):(s.selectNode(o),i.removeAllRanges(),i.addRange(s)),n.remove()},this.pasteText=function(e,t){e||(e=""),e=_this.domEncode(e),e=e.replace(\/\\r?\\n\/g,"<br \/>"),_this.pasteHTML(e,t)},this.appendHTML=function(e){return bSource?!1:(_this.focus(),e=_this.processHTML(e,"write"),$(_doc.body).append(e),_this.setTextCursor(!0),undefined)},this.domEncode=function(e){return e.replace(regEntities,function(e){return arrEntities[e]})},this.setSource=function(e){bookmark=null,"string"!=typeof e&&""!==e&&(e=_text.value),bSource?$("#sourceCode",_doc).val(e):(settings.beforeSetSource&&(e=settings.beforeSetSource(e)),e=_this.cleanHTML(e),e=_this.formatXHTML(e),e=_this.processHTML(e,"write"),isIE?(_doc.body.innerHTML='<img id="_xhe_temp" width="0" height="0" \/>'+e,$("#_xhe_temp",_doc).remove()):_doc.body.innerHTML=e)},this.processHTML=function(e,t){function i(e,t,i,s,a,o){var l,r,h,c,d="";if(l=s.match(\/font-family\\s*:\\s*([^;"]+)\/i),l&&(d+=' face="'+l[1]+'"'),r=s.match(\/font-size\\s*:\\s*([^;"]+)\/i)){r=r[1].toLowerCase();for(var u=0;n.length>u;u++)if(r===n[u].n||r===n[u].s){h=u+1;break}h&&(d+=' size="'+h+'"',s=s.replace(\/(^|;)(\\s*font-size\\s*:\\s*[^;"]+;?)+\/gi,"$1"))}if(c=s.match(\/(?:^|[\\s;])color\\s*:\\s*([^;"]+)\/i)){var p;if(p=c[1].match(\/\\s*rgb\\s*\\(\\s*(\\d+)\\s*,\\s*(\\d+)\\s*,\\s*(\\d+)\\s*\\)\/i)){c[1]="#";for(var g=1;3>=g;g++)c[1]+=("0"+(p[g]-0).toString(16)).slice(-2)}c[1]=c[1].replace(\/^#([0-9a-f])([0-9a-f])([0-9a-f])$\/i,"#$1$1$2$2$3$3"),d+=' color="'+c[1]+'"'}return s=s.replace(\/(^|;)(\\s*(font-family|color)\\s*:\\s*[^;"]+;?)+\/gi,"$1"),""!==d?(s&&(d+=' style="'+s+'"'),"<font"+(i?i:"")+d+(a?a:"")+">"+o+"<\/font>"):e}function s(e,t,i,s,a){for(var n,l,r=(i?i:"")+(s?s:""),h=[],c=[],d=0;o.length>d;d++)n=o[d].r,l=o[d].t,r=r.replace(n,function(){return h.push("<"+l+">"),c.push("<\/"+l+">"),""});return r=r.replace(\/\\s+style\\s*=\\s*"\\s*"\/i,""),(r?"<span"+r+">":"")+h.join("")+a+c.join("")+(r?"<\/span>":"")}var a=' class="Apple-style-span"',n=settings.listFontsize;if("write"===t)e=e.replace(\/(<(\\\/?)(\\w+))((?:\\s+[\\w\\-:]+\\s*=\\s*(?:"[^"]*"|'[^']*'|[^>\\s]+))*)\\s*((\\\/?)>)\/g,function(e,t,i,s,n,o,l){s=s.toLowerCase(),isMozilla?"strong"===s?s="b":"em"===s&&(s="i"):isWebkit&&("strong"===s?(s="span",i||(n+=a+' style="font-weight: bold;"')):"em"===s?(s="span",i||(n+=a+' style="font-style: italic;"')):"u"===s?(s="span",i||(n+=a+' style="text-decoration: underline;"')):"strike"===s&&(s="span",i||(n+=a+' style="text-decoration: line-through;"')));var r,h="";if("del"===s)s="strike";else if("img"===s)n=n.replace(\/\\s+emot\\s*=\\s*("[^"]*"|'[^']*'|[^>\\s]+)\/i,function(e,t){return r=t.match(\/^(["']?)(.*)\\1\/)[2],r=r.split(","),r[1]||(r[1]=r[0],r[0]=""),"default"===r[0]&&(r[0]=""),settings.emotMark?e:""});else if("a"===s)!n.match(\/ href=[^ ]\/i)&&n.match(\/ name=[^ ]\/i)&&(h+=" xhe-anchor"),l&&(o="><\/a>");else if("table"===s&&!i){var c=n.match(\/\\s+border\\s*=\\s*("[^"]*"|'[^']*'|[^>\\s]+)\/i);(!c||c[1].match(\/^(["']?)\\s*0\\s*\\1$\/))&&(h+=" xhe-border")}var d;if(n=n.replace(\/\\s+([\\w\\-:]+)\\s*=\\s*("[^"]*"|'[^']*'|[^>\\s]+)\/g,function(e,t,i){return t=t.toLowerCase(),i=i.match(\/^(["']?)(.*)\\1\/)[2],aft="",isIE&&t.match(\/^(disabled|checked|readonly|selected)$\/)&&i.match(\/^(false|0)$\/i)?"":"img"===s&&r&&"src"===t?"":(t.match(\/^(src|href)$\/)&&(aft=" _xhe_"+t+'="'+i+'"',urlBase&&(i=getLocalUrl(i,"abs",urlBase))),h&&"class"===t&&(i+=" "+h,h=""),isWebkit&&"style"===t&&"span"===s&&i.match(\/(^|;)\\s*(font-family|font-size|color|background-color)\\s*:\\s*[^;]+\\s*(;|$)\/i)&&(d=!0)," "+t+'="'+i+'"'+aft)}),r){var u=emotPath+(r[0]?r[0]:"default")+"\/"+r[1]+".gif";n+=' src="'+u+'" _xhe_src="'+u+'"'}return d&&(n+=a),h&&(n+=' class="'+h+'"'),"<"+i+s+n+o}),isIE&&(e=e.replace(\/&apos;\/gi,"&#39;")),isWebkit||(e=e.replace(\/<(span)(\\s+[^>]*?)?\\s+style\\s*=\\s*"((?:[^"]*?;)?\\s*(?:font-family|font-size|color)\\s*:[^"]*)"( [^>]*)?>(((?!<\\1(\\s+[^>]*?)?>)[\\s\\S]|<\\1(\\s+[^>]*?)?>((?!<\\1(\\s+[^>]*?)?>)[\\s\\S]|<\\1(\\s+[^>]*?)?>((?!<\\1(\\s+[^>]*?)?>)[\\s\\S])*?<\\\/\\1>)*?<\\\/\\1>)*?)<\\\/\\1>\/gi,i),e=e.replace(\/<(span)(\\s+[^>]*?)?\\s+style\\s*=\\s*"((?:[^"]*?;)?\\s*(?:font-family|font-size|color)\\s*:[^"]*)"( [^>]*)?>(((?!<\\1(\\s+[^>]*?)?>)[\\s\\S]|<\\1(\\s+[^>]*?)?>((?!<\\1(\\s+[^>]*?)?>)[\\s\\S])*?<\\\/\\1>)*?)<\\\/\\1>\/gi,i),e=e.replace(\/<(span)(\\s+[^>]*?)?\\s+style\\s*=\\s*"((?:[^"]*?;)?\\s*(?:font-family|font-size|color)\\s*:[^"]*)"( [^>]*)?>(((?!<\\1(\\s+[^>]*?)?>)[\\s\\S])*?)<\\\/\\1>\/gi,i)),e=e.replace(\/<(td|th)(\\s+[^>]*?)?>(\\s|&nbsp;)*<\\\/\\1>\/gi,"<$1$2>"+(isIE?"":"<br \/>")+"<\/$1>");else{if(isWebkit)for(var o=[{r:\/font-weight\\s*:\\s*bold;?\/gi,t:"strong"},{r:\/font-style\\s*:\\s*italic;?\/gi,t:"em"},{r:\/text-decoration\\s*:\\s*underline;?\/gi,t:"u"},{r:\/text-decoration\\s*:\\s*line-through;?\/gi,t:"strike"}],l=0;2>l;l++)e=e.replace(\/<(span)(\\s+[^>]*?)?\\s+class\\s*=\\s*"Apple-style-span"(\\s+[^>]*?)?>(((?!<\\1(\\s+[^>]*?)?>)[\\s\\S]|<\\1(\\s+[^>]*?)?>((?!<\\1(\\s+[^>]*?)?>)[\\s\\S]|<\\1(\\s+[^>]*?)?>((?!<\\1(\\s+[^>]*?)?>)[\\s\\S])*?<\\\/\\1>)*?<\\\/\\1>)*?)<\\\/\\1>\/gi,s),e=e.replace(\/<(span)(\\s+[^>]*?)?\\s+class\\s*=\\s*"Apple-style-span"(\\s+[^>]*?)?>(((?!<\\1(\\s+[^>]*?)?>)[\\s\\S]|<\\1(\\s+[^>]*?)?>((?!<\\1(\\s+[^>]*?)?>)[\\s\\S])*?<\\\/\\1>)*?)<\\\/\\1>\/gi,s),e=e.replace(\/<(span)(\\s+[^>]*?)?\\s+class\\s*=\\s*"Apple-style-span"(\\s+[^>]*?)?>(((?!<\\1(\\s+[^>]*?)?>)[\\s\\S])*?)<\\\/\\1>\/gi,s);e=e.replace(\/(<(\\w+))((?:\\s+[\\w\\-:]+\\s*=\\s*(?:"[^"]*"|'[^']*'|[^>\\s]+))*)\\s*(\\\/?>)\/g,function(e,t,i,s,a){i=i.toLowerCase();$/;"	p
var.specialKeys.144	js/xheditor.min.js	/^(function(){var e={};window.XHEDITOR=e})(),function(e,t){e.mapLang={},e.setLang=function(i,s){s===t&&(s=i,i=""),""!==i&&(i+=".");var a,n;for(var o in s)n=s[o],a=i+o,"string"==typeof n||n instanceof Array?e.mapLang[a]=n:e.setLang(a,n)},e.getLang=function(i){var s=e.mapLang[i];if(s===t&&(s=i.replace(\/{#([^{}]+)}\/g,function(t,i){var s=e.mapLang[i];return s?s:i})),"string"==typeof s){var a=arguments;s=s.replace(\/{\\$(\\d+)}\/g,function(e,i){var s=a[parseInt(i,10)+1];return s!==t?s:e})}return s}}(XHEDITOR),function(XHEDITOR,$,undefined){var agent=navigator.userAgent.toLowerCase(),bMobile=\/mobile\/i.test(agent),browser=$.browser,browerVer=parseFloat(browser.version),isIE=browser.msie,isMozilla=browser.mozilla,isWebkit=browser.webkit,isOpera=browser.opera,isChrome=browser.chrome,bAir=agent.indexOf(" adobeair\/")>-1,xCount=0,bShowPanel=!1,bClickCancel=!0,bShowModal=!1,bCheckEscInit=!1,_jPanel,_jShadow,_jCntLine,_jPanelButton,jModal,jModalShadow,layerShadow,jOverlay,jHideSelect,onModalRemove,editorRoot,getLang=XHEDITOR.getLang;if($("script[src*=xheditor]").each(function(){var e=this.src;return e.match(\/xheditor[^\\\/]*\\.js\/i)?(editorRoot=e.replace(\/[\\?#].*$\/,"").replace(\/(^|[\\\/\\\\])[^\\\/]*$\/,"$1"),!1):undefined}),isIE){try{document.execCommand("BackgroundImageCache",!1,!0)}catch(e){}var jqueryVer=$.fn.jquery;jqueryVer&&jqueryVer.match(\/^1\\.[67]\/)&&($.attrHooks.width=$.attrHooks.height=null)}var specialKeys={27:"esc",9:"tab",32:"space",13:"enter",8:"backspace",145:"scroll",20:"capslock",144:"numlock",19:"pause",45:"insert",36:"home",46:"del",35:"end",33:"pageup",34:"pagedown",37:"left",38:"up",39:"right",40:"down",112:"f1",113:"f2",114:"f3",115:"f4",116:"f5",117:"f6",118:"f7",119:"f8",120:"f9",121:"f10",122:"f11",123:"f12"},arrAlign=[{v:"justifyleft"},{v:"justifycenter"},{v:"justifyright"},{v:"justifyfull"}],arrList=[{v:"insertOrderedList"},{v:"insertUnorderedList"}],htmlPastetext='<div><label for="xhePastetextValue">{#PastetextTip}<\/label><\/div><div><textarea id="xhePastetextValue" wrap="soft" spellcheck="false" style="width:300px;height:100px;" \/><\/div><div style="text-align:right;"><input type="button" id="xheSave" value="{#dialogOk}" \/><\/div>',htmlLink='<div><label for="xheLinkUrl">{#link.url}<\/label><input type="text" id="xheLinkUrl" value="http:\/\/" class="xheText" \/><\/div><div><label for="xheLinkTarget">{#link.target}<\/label><select id="xheLinkTarget"><option selected="selected" value="">{#default}<\/option><option value="_blank">{#link.targetBlank}<\/option><option value="_self">{#link.targetSelf}<\/option><option value="_parent">{#link.targetParent}<\/option><\/select><\/div><div style="display:none"><label for="xheLinkText">{#link.linkText}<\/label><input type="text" id="xheLinkText" value="" class="xheText" \/><\/div><div style="text-align:right;"><input type="button" id="xheSave" value="{#dialogOk}" \/><\/div>',htmlAnchor='<div><label for="xheAnchorName">{#anchor.name}<\/label><input type="text" id="xheAnchorName" value="" class="xheText" \/><\/div><div style="text-align:right;"><input type="button" id="xheSave" value="{#dialogOk}" \/><\/div>',htmlImg='<div><label for="xheImgUrl">{#img.url}<\/label><input type="text" id="xheImgUrl" value="http:\/\/" class="xheText" \/><\/div><div><div><label for="xheImgAlt">{#img.alt}<\/label><input type="text" id="xheImgAlt" \/><\/div><div><label for="xheImgAlign">{#img.align}<\/label><select id="xheImgAlign"><option selected="selected" value="">{#default}<\/option><option value="left">{#img.alignLeft}<\/option><option value="right">{#img.alignRight}<\/option><option value="top">{#img.alignTop}<\/option><option value="middle">{#img.alignMiddle}<\/option><option value="baseline">{#img.alignBaseline}<\/option><option value="bottom">{#img.alignBottom}<\/option><\/select><\/div><div><label for="xheImgWidth">{#img.width}<\/label><input type="text" id="xheImgWidth" style="width:40px;" \/> <label for="xheImgHeight">{#img.height}<\/label><input type="text" id="xheImgHeight" style="width:40px;" \/><\/div><div><label for="xheImgBorder">{#img.border}<\/label><input type="text" id="xheImgBorder" style="width:40px;" \/><\/div><div><label for="xheImgHspace">{#img.hspace}<\/label><input type="text" id="xheImgHspace" style="width:40px;" \/> <label for="xheImgVspace">{#img.vspace}<\/label><input type="text" id="xheImgVspace" style="width:40px;" \/><\/div><div style="text-align:right;"><input type="button" id="xheSave" value="{#dialogOk}" \/><\/div>',htmlFlash='<div><label for="xheFlashUrl">{#flash.url}<\/label><input type="text" id="xheFlashUrl" value="http:\/\/" class="xheText" \/><\/div><div><label for="xheFlashWidth">{#flash.width}<\/label><input type="text" id="xheFlashWidth" style="width:40px;" value="480" \/> <label for="xheFlashHeight">{#flash.height}<\/label><input type="text" id="xheFlashHeight" style="width:40px;" value="400" \/><\/div><div style="text-align:right;"><input type="button" id="xheSave" value="{#dialogOk}" \/><\/div>',htmlMedia='<div><label for="xheMediaUrl">{#media.url}<\/label><input type="text" id="xheMediaUrl" value="http:\/\/" class="xheText" \/><\/div><div><label for="xheMediaWidth">{#media.width}<\/label><input type="text" id="xheMediaWidth" style="width:40px;" value="480" \/> <label for="xheMediaHeight">{#media.height}<\/label><input type="text" id="xheMediaHeight" style="width:40px;" value="400" \/><\/div><div style="text-align:right;"><input type="button" id="xheSave" value="{#dialogOk}" \/><\/div>',htmlTable='<div><label for="xheTableRows">{#table.rows}<\/label><input type="text" id="xheTableRows" style="width:40px;" value="3" \/> <label for="xheTableColumns">{#table.columns}<\/label><input type="text" id="xheTableColumns" style="width:40px;" value="2" \/><\/div><div><label for="xheTableHeaders">{#table.headers}<\/label><select id="xheTableHeaders"><option selected="selected" value="">{#none}<\/option><option value="row">{#table.headersRow}<\/option><option value="col">{#table.headersCol}<\/option><option value="both">{#table.headersBoth}<\/option><\/select><\/div><div><label for="xheTableWidth">{#table.width}<\/label><input type="text" id="xheTableWidth" style="width:40px;" value="200" \/> <label for="xheTableHeight">{#table.height}<\/label><input type="text" id="xheTableHeight" style="width:40px;" value="" \/><\/div><div><label for="xheTableBorder">{#table.border}<\/label><input type="text" id="xheTableBorder" style="width:40px;" value="1" \/><\/div><div><label for="xheTableCellSpacing">{#table.cellSpacing}<\/label><input type="text" id="xheTableCellSpacing" style="width:40px;" value="1" \/> <label for="xheTableCellPadding">{#table.cellPadding}<\/label><input type="text" id="xheTableCellPadding" style="width:40px;" value="1" \/><\/div><div><label for="xheTableAlign">{#table.align}<\/label><select id="xheTableAlign"><option selected="selected" value="">{#default}<\/option><option value="left">{#table.alignLeft}<\/option><option value="center">{#table.alignCenter}<\/option><option value="right">{#table.alignRight}<\/option><\/select><\/div><div><label for="xheTableCaption">{#table.caption}<\/label><input type="text" id="xheTableCaption" \/><\/div><div style="text-align:right;"><input type="button" id="xheSave" value="{#dialogOk}" \/><\/div>',htmlAbout='<div style="font:12px Arial;width:245px;word-wrap:break-word;word-break:break-all;outline:none;" role="dialog" tabindex="-1"><p><span style="font-size:20px;color:#1997DF;">xhEditor<\/span><br \/>v1.2.1 (build 130225)<\/p><p>{#aboutXheditor}<\/p><p>Copyright &copy; <a href="http:\/\/xheditor.com\/" target="_blank">xhEditor.com<\/a>. All rights reserved.<\/p><\/div>',itemEmots={"default":{name:"{#default}",width:24,height:24,line:7,list:["smile","tongue","titter","laugh","sad","wronged","fastcry","cry","wail","mad","knock","curse","crazy","angry","ohmy","awkward","panic","shy","cute","envy","proud","struggle","quiet","shutup","doubt","despise","sleep","bye"]}},arrTools={Cut:{t:"Cut"},Copy:{t:"Copy"},Paste:{t:"Paste"},Pastetext:{t:"Pastetext",h:isIE?0:1},Blocktag:{t:"Blocktag",h:1},Fontface:{t:"Fontface",h:1},FontSize:{t:"FontSize",h:1},Bold:{t:"Bold",s:"Ctrl+B"},Italic:{t:"Italic",s:"Ctrl+I"},Underline:{t:"Underline",s:"Ctrl+U"},Strikethrough:{t:"Strikethrough"},FontColor:{t:"FontColor",h:1},BackColor:{t:"BackColor",h:1},SelectAll:{t:"SelectAll"},Removeformat:{t:"Removeformat"},Align:{t:"Align",h:1},List:{t:"List",h:1},Outdent:{t:"Outdent"},Indent:{t:"Indent"},Link:{t:"Link",s:"Ctrl+L",h:1},Unlink:{t:"Unlink"},Anchor:{t:"Anchor",h:1},Img:{t:"Img",h:1},Flash:{t:"Flash",h:1},Media:{t:"Media",h:1},Hr:{t:"Hr"},Emot:{t:"Emot",s:"ctrl+e",h:1},Table:{t:"Table",h:1},Source:{t:"Source"},Preview:{t:"Preview"},Print:{t:"Print",s:"Ctrl+P"},Fullscreen:{t:"Fullscreen",s:"Esc"},About:{t:"About"}},toolsThemes={mini:"Bold,Italic,Underline,Strikethrough,|,Align,List,|,Link,Img",simple:"Blocktag,Fontface,FontSize,Bold,Italic,Underline,Strikethrough,FontColor,BackColor,|,Align,List,Outdent,Indent,|,Link,Img,Emot",full:"Cut,Copy,Paste,Pastetext,|,Blocktag,Fontface,FontSize,Bold,Italic,Underline,Strikethrough,FontColor,BackColor,SelectAll,Removeformat,|,Align,List,Outdent,Indent,|,Link,Unlink,Anchor,Img,Flash,Media,Hr,Emot,Table,|,Source,Preview,Print,Fullscreen"};toolsThemes.mfull=toolsThemes.full.replace(\/\\|(,Align)\/i,"\/$1");var arrDbClick={a:"Link",img:"Img",embed:"Embed"},uploadInputname="filedata",arrEntities={"<":"&lt;",">":"&gt;",'"':"&quot;","\\u00ae":"&reg;","\\u00a9":"&copy;"},regEntities=\/[<>"\\u00ae\\u00a9]\/g,Xheditor=function(textarea,options){function checkDblClick(e){var t=e.target,i=arrDbClick[t.tagName.toLowerCase()];if(i){if("Embed"===i){var s={"application\/x-shockwave-flash":"Flash","application\/x-mplayer2":"Media"};i=s[t.type.toLowerCase()]}_this.exec(i)}}function checkEsc(e){return 27===e.which?(bShowModal?_this.removeModal():bShowPanel&&_this.hidePanel(),!1):undefined}function loadReset(){setTimeout(_this.setSource,10)}function saveResult(){_this.getSource()}function cleanPaste(e){var t,i,s;if(e&&(t=e.originalEvent.clipboardData)&&(i=t.items)&&(s=i[0])&&"file"==s.kind&&s.type.match(\/^image\\\/\/i)){var a=s.getAsFile(),n=new FileReader;return n.onload=function(){var e='<img src="'+event.target.result+'">';e=replaceRemoteImg(e),_this.pasteHTML(e)},n.readAsDataURL(a),!1}var o=settings.cleanPaste;if(0===o||bSource||bCleanPaste)return!0;bCleanPaste=!0,_this.saveBookmark();var l=isIE?"pre":"div",r=$("<"+l+' class="xhe-paste">\\ufeff\\ufeff<\/'+l+">",_doc).appendTo(_doc.body),h=r[0],c=_this.getSel(),d=_this.getRng(!0);r.css("top",_jWin.scrollTop()),isIE?(d.moveToElementText(h),d.select()):(d.selectNodeContents(h),c.removeAllRanges(),c.addRange(d)),setTimeout(function(){var e,t=3===o;if(t)r.html(r.html().replace(\/<br(\\s+[^<>]*)?>\/gi,"\\n")),e=r.text();else{var i=$(".xhe-paste",_doc.body),s=[];i.each(function(e,t){0==$(t).find(".xhe-paste").length&&s.push(t.innerHTML)}),e=s.join("<br \/>")}r.remove(),_this.loadBookmark(),e=e.replace(\/^[\\s\\uFEFF]+|[\\s\\uFEFF]+$\/g,""),e&&(t?_this.pasteText(e):(e=_this.cleanHTML(e),e=_this.cleanWord(e),e=_this.formatXHTML(e),(!settings.onPaste||settings.onPaste&&(e=settings.onPaste(e))!==!1)&&(e=replaceRemoteImg(e),_this.pasteHTML(e)))),bCleanPaste=!1},0)}function replaceRemoteImg(e){var t=settings.localUrlTest,i=settings.remoteImgSaveUrl;if(t&&i){var s=[],a=0;e=e.replace(\/(<img)((?:\\s+[^>]*?)?(?:\\s+src="\\s*([^"]+)\\s*")(?: [^>]*)?)(\\\/?>)\/gi,function(e,i,n,o,l){return!\/^(https?|data:image)\/i.test(o)||\/_xhe_temp\/.test(n)||t.test(o)||(s[a]=o,n=n.replace(\/\\s+(width|height)="[^"]*"\/gi,"").replace(\/\\s+src="[^"]*"\/gi,' src="'+skinPath+'img\/waiting.gif" remoteimg="'+a++ +'"')),i+n+l}),s.length>0&&$.post(i,{urls:s.join("|")},function(e){e=e.split("|"),$("img[remoteimg]",_this.doc).each(function(){var t=$(this);xheAttr(t,"src",e[t.attr("remoteimg")]),t.removeAttr("remoteimg")})})}return e}function setCSS(e){try{_this._exec("styleWithCSS",e,!0)}catch(t){try{_this._exec("useCSS",!e,!0)}catch(t){}}}function setOpts(){if(bInit&&!bSource){setCSS(!1);try{_this._exec("enableObjectResizing",!0,!0)}catch(e){}if(isIE)try{_this._exec("BackgroundImageCache",!0,!0)}catch(e){}}}function forcePtag(e){if(bSource||13!==e.which||e.shiftKey||e.ctrlKey||e.altKey)return!0;var t=_this.getParent("p,h1,h2,h3,h4,h5,h6,pre,address,div,li");return t.is("li")?!0:settings.forcePtag?(0===t.length&&_this._exec("formatblock","<p>"),undefined):(_this.pasteHTML("<br \/>"),isIE&&t.length>0&&2===_this.getRng().parentElement().childNodes.length&&_this.pasteHTML("<br \/>"),!1)}function fixFullHeight(){isMozilla||isWebkit||(bFullscreen&&_jArea.height("100%").css("height",_jArea.outerHeight()-_jTools.outerHeight()),isIE&&_jTools.hide().show())}function fixAppleSel(e){if(e=e.target,e.tagName.match(\/(img|embed)\/i)){var t=_this.getSel(),i=_this.getRng(!0);i.selectNode(e),t.removeAllRanges(),t.addRange(i)}}function xheAttr(e,t,i){if(!t)return!1;var s="_xhe_"+t;return i&&(urlType&&(i=getLocalUrl(i,urlType,urlBase)),e.attr(t,urlBase?getLocalUrl(i,"abs",urlBase):i).removeAttr(s).attr(s,i)),e.attr(s)||e.attr(t)}function clickCancelPanel(){bClickCancel&&_this.hidePanel()}function checkShortcuts(e){if(bSource)return!0;var t=e.which,i=specialKeys[t],s=i?i:String.fromCharCode(t).toLowerCase();sKey="",sKey+=e.ctrlKey?"ctrl+":"",sKey+=e.altKey?"alt+":"",sKey+=e.shiftKey?"shift+":"",sKey+=s;var a,n=arrShortCuts[sKey];for(a in n){if(a=n[a],!$.isFunction(a))return _this.exec(a),!1;if(a.call(_this)===!1)return!1}}function is(e,t){var i=typeof e;return t?"array"===t&&e.hasOwnProperty&&e instanceof Array?!0:i===t:"undefined"!=i}function getLocalUrl(e,t,i){if(e.match(\/^(\\w+):\\\/\\\/\/i)&&!e.match(\/^https?:\/i)||\/^#\/i.test(e)||\/^data:\/i.test(e))return e;var s=i?$('<a href="'+i+'" \/>')[0]:location,a=s.protocol,n=s.host,o=s.hostname,l=s.port,r=s.pathname.replace(\/\\\\\/g,"\/").replace(\/[^\\\/]+$\/i,"");if(""===l&&(l="80"),""===r?r="\/":"\/"!==r.charAt(0)&&(r="\/"+r),e=$.trim(e),"abs"!==t&&(e=e.replace(RegExp(a+"\\\\\/\\\\\/"+o.replace(\/\\.\/g,"\\\\.")+"(?::"+l+")"+("80"===l?"?":"")+"(\/|$)","i"),"\/")),"rel"===t&&(e=e.replace(RegExp("^"+r.replace(\/([\\\/\\.\\+\\[\\]\\(\\)])\/g,"\\\\$1"),"i"),"")),"rel"!==t&&(e.match(\/^(https?:\\\/\\\/|\\\/)\/i)||(e=r+e),"\/"===e.charAt(0))){var h,c,d=[],u=e.split("\/"),p=u.length;for(c=0;p>c;c++)h=u[c],".."===h?d.pop():""!==h&&"."!==h&&d.push(h);""===u[p-1]&&d.push(""),e="\/"+d.join("\/")}return"abs"!==t||e.match(\/^https?:\\\/\\\/\/i)||(e=a+"\/\/"+n+e),e=e.replace(\/(https?:\\\/\\\/[^:\\\/?#]+):80(\\\/|$)\/i,"$1$2")}function checkFileExt(e,t){return"*"===t||e.match(RegExp(".("+t.replace(\/,\/g,"|")+")$","i"))?!0:(alert(getLang("upload.extLimit",t)),!1)}function formatBytes(e){var t=["Byte","KB","MB","GB","TB","PB"],i=Math.floor(Math.log(e)\/Math.log(1024));return(e\/Math.pow(1024,Math.floor(i))).toFixed(2)+t[i]}function returnFalse(){return!1}var _this=this,_text=textarea,_jText=$(_text),_jForm=_jText.closest("form"),_jTools,_jArea,_win,_jWin,_doc,_jDoc,bookmark,bInit=!1,bSource=!1,bFullscreen=!1,bCleanPaste=!1,outerScroll,bShowBlocktag=!1,sLayoutStyle="",ev=null,timer,bDisableHoverExec=!1,bQuickHoverExec=!1,lastPoint=null,lastAngle=null,editorHeight=0,settings=_this.settings=$.extend({},XHEDITOR.settings,options),plugins=settings.plugins,strPlugins=[];if(plugins&&(arrTools=$.extend({},arrTools,plugins),$.each(plugins,function(e){strPlugins.push(e)}),strPlugins=strPlugins.join(",")),settings.tools.match(\/^\\s*(m?full|simple|mini)\\s*$\/i)){var toolsTheme=toolsThemes[$.trim(settings.tools)];settings.tools=settings.tools.match(\/m?full\/i)&&plugins?toolsTheme.replace("Table","Table,"+strPlugins):toolsTheme}settings.tools.match(\/(^|,)\\s*About\\s*(,|$)\/i)||(settings.tools+=",About"),settings.tools=settings.tools.split(","),settings.editorRoot&&(editorRoot=settings.editorRoot),bAir===!1&&(editorRoot=getLocalUrl(editorRoot,"abs")),settings.urlBase&&(settings.urlBase=getLocalUrl(settings.urlBase,"abs"));var idCSS="xheCSS_"+settings.skin,idContainer="xhe"+xCount+"_container",idTools="xhe"+xCount+"_Tool",idIframeArea="xhe"+xCount+"_iframearea",idIframe="xhe"+xCount+"_iframe",idFixFFCursor="xhe"+xCount+"_fixffcursor",headHTML="",bodyClass="",skinPath=editorRoot+"xheditor_skin\/"+settings.skin+"\/",arrEmots=itemEmots,urlType=settings.urlType,urlBase=settings.urlBase,emotPath=settings.emotPath,emotPath=emotPath?emotPath:editorRoot+"xheditor_emot\/",selEmotGroup="";arrEmots=$.extend({},arrEmots,settings.emots),emotPath=getLocalUrl(emotPath,"rel",urlBase?urlBase:null),bShowBlocktag=settings.showBlocktag,bShowBlocktag&&(bodyClass+=" showBlocktag");var arrShortCuts=[];this.init=function(){function e(e){var t,i=$(e.target);(t=i.css("width"))&&i.css("width","").attr("width",t.replace(\/[^0-9%]+\/g,"")),(t=i.css("height"))&&i.css("height","").attr("height",t.replace(\/[^0-9%]+\/g,""))}0===$("#"+idCSS).length&&$("head").append('<link id="'+idCSS+'" rel="stylesheet" type="text\/css" href="'+skinPath+'ui.css" \/>');var t=_jText.outerWidth(),i=_jText.outerHeight(),s=settings.width||_text.style.width||(t>10?t:0);editorHeight=settings.height||_text.style.height||(i>10?i:150),\/^\\d+(?:\\.\\d+)?$\/.test(s)&&(s+="px"),is(editorHeight,"string")&&(editorHeight=editorHeight.replace(\/[^\\d]+\/g,""));var a,n,o=settings.background||_text.style.background,l=['<span class="xheGStart"\/>'],r=\/\\||\\\/\/i;$.each(settings.tools,function(e,t){if(t.match(r)&&l.push('<span class="xheGEnd"\/>'),"|"===t)l.push('<span class="xheSeparator"\/>');else if("\/"===t)l.push("<br \/>");else{if(a=arrTools[t],!a)return;n=a.c?a.c:"xheIcon xheBtn"+t,l.push('<span><a href="#" title="{#'+a.t+'}" cmd="'+t+'" class="xheButton xheEnabled" tabindex="-1" role="button"><span class="'+n+'" unselectable="on" style="font-size:0;color:transparent;text-indent:-999px;">'+a.t+"<\/span><\/a><\/span>"),a.s&&_this.addShortcuts(a.s,t)}t.match(r)&&l.push('<span class="xheGStart"\/>')}),l.push('<span class="xheGEnd"\/><br \/>'),_jText.after($('<input type="text" id="'+idFixFFCursor+'" style="position:absolute;display:none;" \/><span id="'+idContainer+'" class="xhe_'+settings.skin+'" style="display:none"><table cellspacing="0" cellpadding="0" class="xheLayout" style="'+("0px"!=s?"width:"+s+";":"")+"height:"+editorHeight+'px;" role="presentation"><tr><td id="'+idTools+'" class="xheTool" unselectable="on" style="height:1px;" role="presentation"><\/td><\/tr><tr><td id="'+idIframeArea+'" class="xheIframeArea" role="presentation"><iframe frameborder="0" id="'+idIframe+'" src="javascript:;" style="width:100%;"><\/iframe><\/td><\/tr><\/table><\/span>')),_jTools=$("#"+idTools),_jArea=$("#"+idIframeArea),headHTML='<meta http-equiv="Content-Type" content="text\/html; charset=utf-8" \/><link rel="stylesheet" href="'+skinPath+'iframe.css"\/>';var h=settings.loadCSS;if(h)if(is(h,"array"))for(var c in h)headHTML+='<link rel="stylesheet" href="'+h[c]+'"\/>';else headHTML+=h.match(\/\\s*<style(\\s+[^>]*?)?>[\\s\\S]+?<\\\/style>\\s*\/i)?h:'<link rel="stylesheet" href="'+h+'"\/>';var d='<!DOCTYPE html><html xmlns="http:\/\/www.w3.org\/1999\/xhtml"><head>'+headHTML+"<title>{#defaultReadTip} "+(settings.readTip?settings.readTip:"")+"<\/title>";o&&(d+="<style>html{background:"+o+";}<\/style>"),d+='<\/head><body spellcheck="0" class="editMode'+bodyClass+'"><\/body><\/html>',_this.win=_win=$("#"+idIframe)[0].contentWindow,_jWin=$(_win);try{this.doc=_doc=_win.document,_jDoc=$(_doc),_doc.open(),_doc.write(getLang(d)),_doc.close(),isIE?_doc.body.contentEditable="true":_doc.designMode="On"}catch(u){}setTimeout(setOpts,300),_this.setSource(),_win.setInterval=null,_jTools.append(getLang(l.join(""))).bind("mousedown contextmenu",returnFalse).click(function(e){var t=$(e.target).closest("a");return t.is(".xheEnabled")&&(clearTimeout(timer),_jTools.find("a").attr("tabindex","-1"),ev=e,_this.exec(t.attr("cmd"))),!1}),_jTools.find(".xheButton").hover(function(e){var t=$(this),i=settings.hoverExecDelay,s=lastAngle;if(lastAngle=null,-1===i||bDisableHoverExec||!t.is(".xheEnabled"))return!1;if(s&&s>10)return bDisableHoverExec=!0,setTimeout(function(){bDisableHoverExec=!1},100),!1;var a=t.attr("cmd"),n=1===arrTools[a].h;return n?(bQuickHoverExec&&(i=0),i>=0&&(timer=setTimeout(function(){ev=e,lastPoint={x:ev.clientX,y:ev.clientY},_this.exec(a)},i)),undefined):(_this.hidePanel(),!1)},function(){lastPoint=null,timer&&clearTimeout(timer)}).mousemove(function(e){if(lastPoint){var t={x:e.clientX-lastPoint.x,y:e.clientY-lastPoint.y};if(Math.abs(t.x)>1||Math.abs(t.y)>1){if(t.x>0&&t.y>0){var i=Math.round(Math.atan(t.y\/t.x)\/.017453293);lastAngle=lastAngle?(lastAngle+i)\/2:i}else lastAngle=null;lastPoint={x:e.clientX,y:e.clientY}}}}),_jPanel=$("#xhePanel"),_jShadow=$("#xheShadow"),_jCntLine=$("#xheCntLine"),0===_jPanel.length&&(_jPanel=$('<div id="xhePanel"><\/div>').mousedown(function(e){e.stopPropagation()}),_jShadow=$('<div id="xheShadow"><\/div>'),_jCntLine=$('<div id="xheCntLine"><\/div>'),setTimeout(function(){$(document.body).append(_jPanel).append(_jShadow).append(_jCntLine)},10)),$("#"+idContainer).show(),_jText.hide(),_jArea.css("height",editorHeight-_jTools.outerHeight()),isIE&8>browerVer&&setTimeout(function(){_jArea.css("height",editorHeight-_jTools.outerHeight())},1),_jText.focus(_this.focus),_jForm.submit(saveResult).bind("reset",loadReset),settings.submitID&&$("#"+settings.submitID).mousedown(saveResult),$(window).bind("unload beforeunload",saveResult).bind("resize",fixFullHeight),$(document).mousedown(clickCancelPanel),bCheckEscInit||($(document).keydown(checkEsc),bCheckEscInit=!0),_jWin.focus(function(){settings.focus&&settings.focus()}).blur(function(){settings.blur&&settings.blur()}),isWebkit&&_jWin.click(fixAppleSel),_jDoc.mousedown(clickCancelPanel).keydown(checkShortcuts).keypress(forcePtag).dblclick(checkDblClick).bind("mousedown click",function(e){_jText.trigger(e.type)}),isIE&&(_jDoc.keydown(function(e){var t=_this.getRng();return 8===e.which&&t.item?($(t.item(0)).remove(),!1):undefined}),_jDoc.bind("controlselect",function(t){t=t.target,$.nodeName(t,"IMG")&&$(t).unbind("resizeend",e).bind("resizeend",e)})),_jDoc.keydown(function(e){var t=e.which;return e.altKey&&t>=49&&57>=t?(_jTools.find("a").attr("tabindex","0"),_jTools.find(".xheGStart").eq(t-49).next().find("a").focus(),_doc.title="\\ufeff\\ufeff",!1):undefined}).click(function(){_jTools.find("a").attr("tabindex","-1")}),_jTools.keydown(function(e){var t=e.which;if(27==t)_jTools.find("a").attr("tabindex","-1"),_this.focus();else if(e.altKey&&t>=49&&57>=t)return _jTools.find(".xheGStart").eq(t-49).next().find("a").focus(),!1});var p=$(_doc.documentElement);isOpera?p.bind("keydown",function(e){e.ctrlKey&&86===e.which&&cleanPaste()}):p.bind(isIE?"beforepaste":"paste",cleanPaste),settings.disableContextmenu&&p.bind("contextmenu",returnFalse),settings.html5Upload&&p.bind("dragenter dragover",function(e){var t;return(t=e.originalEvent.dataTransfer.types)&&-1!==$.inArray("Files",t)?!1:undefined}).bind("drop",function(e){function t(e){var t,i,s;for(a=0;e.length>a;a++){if(i=e[a].name.replace(\/.+\\.\/,""),!(t=o.match(RegExp("(\\\\w+):[^:]*,"+i+"(?:,|$)","i"))))return 1;if(s){if(s!==t[1])return 2}else s=t[1]}return s}var i,s=e.originalEvent.dataTransfer;if(s&&(i=s.files)&&i.length>0){var a,n,o,l=["Link","Img","Flash","Media"],r=[];for(a in l)n=l[a],settings["up"+n+"Url"]&&settings["up"+n+"Url"].match(\/^[^!].*\/i)&&r.push(n+":,"+settings["up"+n+"Ext"]);return 0===r.length?!1:(o=r.join(","),n=t(i),1===n?alert(getLang("upload.extLimit",o.replace(\/\\w+:,\/g,""))):2===n?alert(getLang("upload.typeLimit")):n&&_this.startUpload(i,settings["up"+n+"Url"],"*",function(e){var t,i=[],s=settings.onUpload;s&&s(e);for(var a=0,o=e.length;o>a;a++)t=e[a],url=is(t,"string")?t:t.url,"!"===url.substr(0,1)&&(url=url.substr(1)),i.push(url);_this.exec(n),$("#xhe"+n+"Url").val(i.join(" ")),$("#xheSave").click()}),!1)}});var g=settings.shortcuts;g&&$.each(g,function(e,t){_this.addShortcuts(e,t)}),xCount++,bInit=!0,settings.fullscreen?_this.toggleFullscreen():settings.sourceMode&&setTimeout(_this.toggleSource,20);var f=settings.plugins;return f&&$.each(f,function(e,t){var i=t.i;i!==undefined&&i(_this)}),!0},this.remove=function(){_this.hidePanel(),saveResult(),_jText.unbind("focus",_this.focus),_jForm.unbind("submit",saveResult).unbind("reset",loadReset),settings.submitID&&$("#"+settings.submitID).unbind("mousedown",saveResult),$(window).unbind("unload beforeunload",saveResult).unbind("resize",fixFullHeight),$(document).unbind("mousedown",clickCancelPanel),$("#"+idContainer).remove(),$("#"+idFixFFCursor).remove(),_jText.show(),bInit=!1},this.saveBookmark=function(){if(!bSource){_this.focus();var e=_this.getRng();e=e.cloneRange?e.cloneRange():e,bookmark={top:_jWin.scrollTop(),rng:e}}},this.loadBookmark=function(){if(!bSource&&bookmark){_this.focus();var e=bookmark.rng;if(isIE)e.select();else{var t=_this.getSel();t.removeAllRanges(),t.addRange(e)}_jWin.scrollTop(bookmark.top),bookmark=null}},this.focus=function(){if(bSource?$("#sourceCode",_doc).focus():_win.focus(),isIE){var e=_this.getRng();e.parentElement&&e.parentElement().ownerDocument!==_doc&&_this.setTextCursor()}return!1},this.setTextCursor=function(e){var t=_this.getRng(!0),i=_doc.body;if(isIE)t.moveToElementText(i);else{for(var s=e?"lastChild":"firstChild";3!=i.nodeType&&i[s];)i=i[s];t.selectNode(i)}if(t.collapse(e?!1:!0),isIE)t.select();else{var a=_this.getSel();a.removeAllRanges(),a.addRange(t)}},this.getSel=function(){return _doc.selection?_doc.selection:_win.getSelection()},this.getRng=function(e){var t,i;try{e||(t=_this.getSel(),i=t.createRange?t.createRange():t.rangeCount>0?t.getRangeAt(0):null),i||(i=_doc.body.createTextRange?_doc.body.createTextRange():_doc.createRange())}catch(s){}return i},this.getParent=function(e){var t,i=_this.getRng();return isIE?t=i.item?i.item(0):i.parentElement():(t=i.commonAncestorContainer,i.collapsed||i.startContainer===i.endContainer&&2>i.startOffset-i.endOffset&&i.startContainer.hasChildNodes()&&(t=i.startContainer.childNodes[i.startOffset])),e=e?e:"*",t=$(t),t.is(e)||(t=$(t).closest(e)),t},this.getSelect=function(e){var t=_this.getSel(),i=_this.getRng(),s=!0;if(s=!i||i.item?!1:!t||0===i.boundingWidth||i.collapsed,"text"===e)return s?"":i.text||(t.toString?""+t:"");var a;if(i.cloneContents){var n,o=$("<div><\/div>");n=i.cloneContents(),n&&o.append(n),a=o.html()}else a=is(i.item)?i.item(0).outerHTML:is(i.htmlText)?i.htmlText:""+i;return s&&(a=""),a=_this.processHTML(a,"read"),a=_this.cleanHTML(a),a=_this.formatXHTML(a)},this.pasteHTML=function(e,t){if(bSource)return!1;_this.focus(),e=_this.processHTML(e,"write");var i=_this.getSel(),s=_this.getRng();if(t!==undefined){if(s.item){var a=s.item(0);s=_this.getRng(!0),s.moveToElementText(a),s.select()}s.collapse(t)}if(e+="<"+(isIE?"img":"span")+' id="_xhe_temp" width="0" height="0" \/>',s.insertNode){if($(s.startContainer).closest("style,script").length>0)return!1;s.deleteContents(),s.insertNode(s.createContextualFragment(e))}else"control"===i.type.toLowerCase()&&(i.clear(),s=_this.getRng()),s.pasteHTML(e);var n=$("#_xhe_temp",_doc),o=n[0];isIE?(s.moveToElementText(o),s.select()):(s.selectNode(o),i.removeAllRanges(),i.addRange(s)),n.remove()},this.pasteText=function(e,t){e||(e=""),e=_this.domEncode(e),e=e.replace(\/\\r?\\n\/g,"<br \/>"),_this.pasteHTML(e,t)},this.appendHTML=function(e){return bSource?!1:(_this.focus(),e=_this.processHTML(e,"write"),$(_doc.body).append(e),_this.setTextCursor(!0),undefined)},this.domEncode=function(e){return e.replace(regEntities,function(e){return arrEntities[e]})},this.setSource=function(e){bookmark=null,"string"!=typeof e&&""!==e&&(e=_text.value),bSource?$("#sourceCode",_doc).val(e):(settings.beforeSetSource&&(e=settings.beforeSetSource(e)),e=_this.cleanHTML(e),e=_this.formatXHTML(e),e=_this.processHTML(e,"write"),isIE?(_doc.body.innerHTML='<img id="_xhe_temp" width="0" height="0" \/>'+e,$("#_xhe_temp",_doc).remove()):_doc.body.innerHTML=e)},this.processHTML=function(e,t){function i(e,t,i,s,a,o){var l,r,h,c,d="";if(l=s.match(\/font-family\\s*:\\s*([^;"]+)\/i),l&&(d+=' face="'+l[1]+'"'),r=s.match(\/font-size\\s*:\\s*([^;"]+)\/i)){r=r[1].toLowerCase();for(var u=0;n.length>u;u++)if(r===n[u].n||r===n[u].s){h=u+1;break}h&&(d+=' size="'+h+'"',s=s.replace(\/(^|;)(\\s*font-size\\s*:\\s*[^;"]+;?)+\/gi,"$1"))}if(c=s.match(\/(?:^|[\\s;])color\\s*:\\s*([^;"]+)\/i)){var p;if(p=c[1].match(\/\\s*rgb\\s*\\(\\s*(\\d+)\\s*,\\s*(\\d+)\\s*,\\s*(\\d+)\\s*\\)\/i)){c[1]="#";for(var g=1;3>=g;g++)c[1]+=("0"+(p[g]-0).toString(16)).slice(-2)}c[1]=c[1].replace(\/^#([0-9a-f])([0-9a-f])([0-9a-f])$\/i,"#$1$1$2$2$3$3"),d+=' color="'+c[1]+'"'}return s=s.replace(\/(^|;)(\\s*(font-family|color)\\s*:\\s*[^;"]+;?)+\/gi,"$1"),""!==d?(s&&(d+=' style="'+s+'"'),"<font"+(i?i:"")+d+(a?a:"")+">"+o+"<\/font>"):e}function s(e,t,i,s,a){for(var n,l,r=(i?i:"")+(s?s:""),h=[],c=[],d=0;o.length>d;d++)n=o[d].r,l=o[d].t,r=r.replace(n,function(){return h.push("<"+l+">"),c.push("<\/"+l+">"),""});return r=r.replace(\/\\s+style\\s*=\\s*"\\s*"\/i,""),(r?"<span"+r+">":"")+h.join("")+a+c.join("")+(r?"<\/span>":"")}var a=' class="Apple-style-span"',n=settings.listFontsize;if("write"===t)e=e.replace(\/(<(\\\/?)(\\w+))((?:\\s+[\\w\\-:]+\\s*=\\s*(?:"[^"]*"|'[^']*'|[^>\\s]+))*)\\s*((\\\/?)>)\/g,function(e,t,i,s,n,o,l){s=s.toLowerCase(),isMozilla?"strong"===s?s="b":"em"===s&&(s="i"):isWebkit&&("strong"===s?(s="span",i||(n+=a+' style="font-weight: bold;"')):"em"===s?(s="span",i||(n+=a+' style="font-style: italic;"')):"u"===s?(s="span",i||(n+=a+' style="text-decoration: underline;"')):"strike"===s&&(s="span",i||(n+=a+' style="text-decoration: line-through;"')));var r,h="";if("del"===s)s="strike";else if("img"===s)n=n.replace(\/\\s+emot\\s*=\\s*("[^"]*"|'[^']*'|[^>\\s]+)\/i,function(e,t){return r=t.match(\/^(["']?)(.*)\\1\/)[2],r=r.split(","),r[1]||(r[1]=r[0],r[0]=""),"default"===r[0]&&(r[0]=""),settings.emotMark?e:""});else if("a"===s)!n.match(\/ href=[^ ]\/i)&&n.match(\/ name=[^ ]\/i)&&(h+=" xhe-anchor"),l&&(o="><\/a>");else if("table"===s&&!i){var c=n.match(\/\\s+border\\s*=\\s*("[^"]*"|'[^']*'|[^>\\s]+)\/i);(!c||c[1].match(\/^(["']?)\\s*0\\s*\\1$\/))&&(h+=" xhe-border")}var d;if(n=n.replace(\/\\s+([\\w\\-:]+)\\s*=\\s*("[^"]*"|'[^']*'|[^>\\s]+)\/g,function(e,t,i){return t=t.toLowerCase(),i=i.match(\/^(["']?)(.*)\\1\/)[2],aft="",isIE&&t.match(\/^(disabled|checked|readonly|selected)$\/)&&i.match(\/^(false|0)$\/i)?"":"img"===s&&r&&"src"===t?"":(t.match(\/^(src|href)$\/)&&(aft=" _xhe_"+t+'="'+i+'"',urlBase&&(i=getLocalUrl(i,"abs",urlBase))),h&&"class"===t&&(i+=" "+h,h=""),isWebkit&&"style"===t&&"span"===s&&i.match(\/(^|;)\\s*(font-family|font-size|color|background-color)\\s*:\\s*[^;]+\\s*(;|$)\/i)&&(d=!0)," "+t+'="'+i+'"'+aft)}),r){var u=emotPath+(r[0]?r[0]:"default")+"\/"+r[1]+".gif";n+=' src="'+u+'" _xhe_src="'+u+'"'}return d&&(n+=a),h&&(n+=' class="'+h+'"'),"<"+i+s+n+o}),isIE&&(e=e.replace(\/&apos;\/gi,"&#39;")),isWebkit||(e=e.replace(\/<(span)(\\s+[^>]*?)?\\s+style\\s*=\\s*"((?:[^"]*?;)?\\s*(?:font-family|font-size|color)\\s*:[^"]*)"( [^>]*)?>(((?!<\\1(\\s+[^>]*?)?>)[\\s\\S]|<\\1(\\s+[^>]*?)?>((?!<\\1(\\s+[^>]*?)?>)[\\s\\S]|<\\1(\\s+[^>]*?)?>((?!<\\1(\\s+[^>]*?)?>)[\\s\\S])*?<\\\/\\1>)*?<\\\/\\1>)*?)<\\\/\\1>\/gi,i),e=e.replace(\/<(span)(\\s+[^>]*?)?\\s+style\\s*=\\s*"((?:[^"]*?;)?\\s*(?:font-family|font-size|color)\\s*:[^"]*)"( [^>]*)?>(((?!<\\1(\\s+[^>]*?)?>)[\\s\\S]|<\\1(\\s+[^>]*?)?>((?!<\\1(\\s+[^>]*?)?>)[\\s\\S])*?<\\\/\\1>)*?)<\\\/\\1>\/gi,i),e=e.replace(\/<(span)(\\s+[^>]*?)?\\s+style\\s*=\\s*"((?:[^"]*?;)?\\s*(?:font-family|font-size|color)\\s*:[^"]*)"( [^>]*)?>(((?!<\\1(\\s+[^>]*?)?>)[\\s\\S])*?)<\\\/\\1>\/gi,i)),e=e.replace(\/<(td|th)(\\s+[^>]*?)?>(\\s|&nbsp;)*<\\\/\\1>\/gi,"<$1$2>"+(isIE?"":"<br \/>")+"<\/$1>");else{if(isWebkit)for(var o=[{r:\/font-weight\\s*:\\s*bold;?\/gi,t:"strong"},{r:\/font-style\\s*:\\s*italic;?\/gi,t:"em"},{r:\/text-decoration\\s*:\\s*underline;?\/gi,t:"u"},{r:\/text-decoration\\s*:\\s*line-through;?\/gi,t:"strike"}],l=0;2>l;l++)e=e.replace(\/<(span)(\\s+[^>]*?)?\\s+class\\s*=\\s*"Apple-style-span"(\\s+[^>]*?)?>(((?!<\\1(\\s+[^>]*?)?>)[\\s\\S]|<\\1(\\s+[^>]*?)?>((?!<\\1(\\s+[^>]*?)?>)[\\s\\S]|<\\1(\\s+[^>]*?)?>((?!<\\1(\\s+[^>]*?)?>)[\\s\\S])*?<\\\/\\1>)*?<\\\/\\1>)*?)<\\\/\\1>\/gi,s),e=e.replace(\/<(span)(\\s+[^>]*?)?\\s+class\\s*=\\s*"Apple-style-span"(\\s+[^>]*?)?>(((?!<\\1(\\s+[^>]*?)?>)[\\s\\S]|<\\1(\\s+[^>]*?)?>((?!<\\1(\\s+[^>]*?)?>)[\\s\\S])*?<\\\/\\1>)*?)<\\\/\\1>\/gi,s),e=e.replace(\/<(span)(\\s+[^>]*?)?\\s+class\\s*=\\s*"Apple-style-span"(\\s+[^>]*?)?>(((?!<\\1(\\s+[^>]*?)?>)[\\s\\S])*?)<\\\/\\1>\/gi,s);e=e.replace(\/(<(\\w+))((?:\\s+[\\w\\-:]+\\s*=\\s*(?:"[^"]*"|'[^']*'|[^>\\s]+))*)\\s*(\\\/?>)\/g,function(e,t,i,s,a){i=i.toLowerCase();$/;"	p
var.specialKeys.145	js/xheditor.min.js	/^(function(){var e={};window.XHEDITOR=e})(),function(e,t){e.mapLang={},e.setLang=function(i,s){s===t&&(s=i,i=""),""!==i&&(i+=".");var a,n;for(var o in s)n=s[o],a=i+o,"string"==typeof n||n instanceof Array?e.mapLang[a]=n:e.setLang(a,n)},e.getLang=function(i){var s=e.mapLang[i];if(s===t&&(s=i.replace(\/{#([^{}]+)}\/g,function(t,i){var s=e.mapLang[i];return s?s:i})),"string"==typeof s){var a=arguments;s=s.replace(\/{\\$(\\d+)}\/g,function(e,i){var s=a[parseInt(i,10)+1];return s!==t?s:e})}return s}}(XHEDITOR),function(XHEDITOR,$,undefined){var agent=navigator.userAgent.toLowerCase(),bMobile=\/mobile\/i.test(agent),browser=$.browser,browerVer=parseFloat(browser.version),isIE=browser.msie,isMozilla=browser.mozilla,isWebkit=browser.webkit,isOpera=browser.opera,isChrome=browser.chrome,bAir=agent.indexOf(" adobeair\/")>-1,xCount=0,bShowPanel=!1,bClickCancel=!0,bShowModal=!1,bCheckEscInit=!1,_jPanel,_jShadow,_jCntLine,_jPanelButton,jModal,jModalShadow,layerShadow,jOverlay,jHideSelect,onModalRemove,editorRoot,getLang=XHEDITOR.getLang;if($("script[src*=xheditor]").each(function(){var e=this.src;return e.match(\/xheditor[^\\\/]*\\.js\/i)?(editorRoot=e.replace(\/[\\?#].*$\/,"").replace(\/(^|[\\\/\\\\])[^\\\/]*$\/,"$1"),!1):undefined}),isIE){try{document.execCommand("BackgroundImageCache",!1,!0)}catch(e){}var jqueryVer=$.fn.jquery;jqueryVer&&jqueryVer.match(\/^1\\.[67]\/)&&($.attrHooks.width=$.attrHooks.height=null)}var specialKeys={27:"esc",9:"tab",32:"space",13:"enter",8:"backspace",145:"scroll",20:"capslock",144:"numlock",19:"pause",45:"insert",36:"home",46:"del",35:"end",33:"pageup",34:"pagedown",37:"left",38:"up",39:"right",40:"down",112:"f1",113:"f2",114:"f3",115:"f4",116:"f5",117:"f6",118:"f7",119:"f8",120:"f9",121:"f10",122:"f11",123:"f12"},arrAlign=[{v:"justifyleft"},{v:"justifycenter"},{v:"justifyright"},{v:"justifyfull"}],arrList=[{v:"insertOrderedList"},{v:"insertUnorderedList"}],htmlPastetext='<div><label for="xhePastetextValue">{#PastetextTip}<\/label><\/div><div><textarea id="xhePastetextValue" wrap="soft" spellcheck="false" style="width:300px;height:100px;" \/><\/div><div style="text-align:right;"><input type="button" id="xheSave" value="{#dialogOk}" \/><\/div>',htmlLink='<div><label for="xheLinkUrl">{#link.url}<\/label><input type="text" id="xheLinkUrl" value="http:\/\/" class="xheText" \/><\/div><div><label for="xheLinkTarget">{#link.target}<\/label><select id="xheLinkTarget"><option selected="selected" value="">{#default}<\/option><option value="_blank">{#link.targetBlank}<\/option><option value="_self">{#link.targetSelf}<\/option><option value="_parent">{#link.targetParent}<\/option><\/select><\/div><div style="display:none"><label for="xheLinkText">{#link.linkText}<\/label><input type="text" id="xheLinkText" value="" class="xheText" \/><\/div><div style="text-align:right;"><input type="button" id="xheSave" value="{#dialogOk}" \/><\/div>',htmlAnchor='<div><label for="xheAnchorName">{#anchor.name}<\/label><input type="text" id="xheAnchorName" value="" class="xheText" \/><\/div><div style="text-align:right;"><input type="button" id="xheSave" value="{#dialogOk}" \/><\/div>',htmlImg='<div><label for="xheImgUrl">{#img.url}<\/label><input type="text" id="xheImgUrl" value="http:\/\/" class="xheText" \/><\/div><div><div><label for="xheImgAlt">{#img.alt}<\/label><input type="text" id="xheImgAlt" \/><\/div><div><label for="xheImgAlign">{#img.align}<\/label><select id="xheImgAlign"><option selected="selected" value="">{#default}<\/option><option value="left">{#img.alignLeft}<\/option><option value="right">{#img.alignRight}<\/option><option value="top">{#img.alignTop}<\/option><option value="middle">{#img.alignMiddle}<\/option><option value="baseline">{#img.alignBaseline}<\/option><option value="bottom">{#img.alignBottom}<\/option><\/select><\/div><div><label for="xheImgWidth">{#img.width}<\/label><input type="text" id="xheImgWidth" style="width:40px;" \/> <label for="xheImgHeight">{#img.height}<\/label><input type="text" id="xheImgHeight" style="width:40px;" \/><\/div><div><label for="xheImgBorder">{#img.border}<\/label><input type="text" id="xheImgBorder" style="width:40px;" \/><\/div><div><label for="xheImgHspace">{#img.hspace}<\/label><input type="text" id="xheImgHspace" style="width:40px;" \/> <label for="xheImgVspace">{#img.vspace}<\/label><input type="text" id="xheImgVspace" style="width:40px;" \/><\/div><div style="text-align:right;"><input type="button" id="xheSave" value="{#dialogOk}" \/><\/div>',htmlFlash='<div><label for="xheFlashUrl">{#flash.url}<\/label><input type="text" id="xheFlashUrl" value="http:\/\/" class="xheText" \/><\/div><div><label for="xheFlashWidth">{#flash.width}<\/label><input type="text" id="xheFlashWidth" style="width:40px;" value="480" \/> <label for="xheFlashHeight">{#flash.height}<\/label><input type="text" id="xheFlashHeight" style="width:40px;" value="400" \/><\/div><div style="text-align:right;"><input type="button" id="xheSave" value="{#dialogOk}" \/><\/div>',htmlMedia='<div><label for="xheMediaUrl">{#media.url}<\/label><input type="text" id="xheMediaUrl" value="http:\/\/" class="xheText" \/><\/div><div><label for="xheMediaWidth">{#media.width}<\/label><input type="text" id="xheMediaWidth" style="width:40px;" value="480" \/> <label for="xheMediaHeight">{#media.height}<\/label><input type="text" id="xheMediaHeight" style="width:40px;" value="400" \/><\/div><div style="text-align:right;"><input type="button" id="xheSave" value="{#dialogOk}" \/><\/div>',htmlTable='<div><label for="xheTableRows">{#table.rows}<\/label><input type="text" id="xheTableRows" style="width:40px;" value="3" \/> <label for="xheTableColumns">{#table.columns}<\/label><input type="text" id="xheTableColumns" style="width:40px;" value="2" \/><\/div><div><label for="xheTableHeaders">{#table.headers}<\/label><select id="xheTableHeaders"><option selected="selected" value="">{#none}<\/option><option value="row">{#table.headersRow}<\/option><option value="col">{#table.headersCol}<\/option><option value="both">{#table.headersBoth}<\/option><\/select><\/div><div><label for="xheTableWidth">{#table.width}<\/label><input type="text" id="xheTableWidth" style="width:40px;" value="200" \/> <label for="xheTableHeight">{#table.height}<\/label><input type="text" id="xheTableHeight" style="width:40px;" value="" \/><\/div><div><label for="xheTableBorder">{#table.border}<\/label><input type="text" id="xheTableBorder" style="width:40px;" value="1" \/><\/div><div><label for="xheTableCellSpacing">{#table.cellSpacing}<\/label><input type="text" id="xheTableCellSpacing" style="width:40px;" value="1" \/> <label for="xheTableCellPadding">{#table.cellPadding}<\/label><input type="text" id="xheTableCellPadding" style="width:40px;" value="1" \/><\/div><div><label for="xheTableAlign">{#table.align}<\/label><select id="xheTableAlign"><option selected="selected" value="">{#default}<\/option><option value="left">{#table.alignLeft}<\/option><option value="center">{#table.alignCenter}<\/option><option value="right">{#table.alignRight}<\/option><\/select><\/div><div><label for="xheTableCaption">{#table.caption}<\/label><input type="text" id="xheTableCaption" \/><\/div><div style="text-align:right;"><input type="button" id="xheSave" value="{#dialogOk}" \/><\/div>',htmlAbout='<div style="font:12px Arial;width:245px;word-wrap:break-word;word-break:break-all;outline:none;" role="dialog" tabindex="-1"><p><span style="font-size:20px;color:#1997DF;">xhEditor<\/span><br \/>v1.2.1 (build 130225)<\/p><p>{#aboutXheditor}<\/p><p>Copyright &copy; <a href="http:\/\/xheditor.com\/" target="_blank">xhEditor.com<\/a>. All rights reserved.<\/p><\/div>',itemEmots={"default":{name:"{#default}",width:24,height:24,line:7,list:["smile","tongue","titter","laugh","sad","wronged","fastcry","cry","wail","mad","knock","curse","crazy","angry","ohmy","awkward","panic","shy","cute","envy","proud","struggle","quiet","shutup","doubt","despise","sleep","bye"]}},arrTools={Cut:{t:"Cut"},Copy:{t:"Copy"},Paste:{t:"Paste"},Pastetext:{t:"Pastetext",h:isIE?0:1},Blocktag:{t:"Blocktag",h:1},Fontface:{t:"Fontface",h:1},FontSize:{t:"FontSize",h:1},Bold:{t:"Bold",s:"Ctrl+B"},Italic:{t:"Italic",s:"Ctrl+I"},Underline:{t:"Underline",s:"Ctrl+U"},Strikethrough:{t:"Strikethrough"},FontColor:{t:"FontColor",h:1},BackColor:{t:"BackColor",h:1},SelectAll:{t:"SelectAll"},Removeformat:{t:"Removeformat"},Align:{t:"Align",h:1},List:{t:"List",h:1},Outdent:{t:"Outdent"},Indent:{t:"Indent"},Link:{t:"Link",s:"Ctrl+L",h:1},Unlink:{t:"Unlink"},Anchor:{t:"Anchor",h:1},Img:{t:"Img",h:1},Flash:{t:"Flash",h:1},Media:{t:"Media",h:1},Hr:{t:"Hr"},Emot:{t:"Emot",s:"ctrl+e",h:1},Table:{t:"Table",h:1},Source:{t:"Source"},Preview:{t:"Preview"},Print:{t:"Print",s:"Ctrl+P"},Fullscreen:{t:"Fullscreen",s:"Esc"},About:{t:"About"}},toolsThemes={mini:"Bold,Italic,Underline,Strikethrough,|,Align,List,|,Link,Img",simple:"Blocktag,Fontface,FontSize,Bold,Italic,Underline,Strikethrough,FontColor,BackColor,|,Align,List,Outdent,Indent,|,Link,Img,Emot",full:"Cut,Copy,Paste,Pastetext,|,Blocktag,Fontface,FontSize,Bold,Italic,Underline,Strikethrough,FontColor,BackColor,SelectAll,Removeformat,|,Align,List,Outdent,Indent,|,Link,Unlink,Anchor,Img,Flash,Media,Hr,Emot,Table,|,Source,Preview,Print,Fullscreen"};toolsThemes.mfull=toolsThemes.full.replace(\/\\|(,Align)\/i,"\/$1");var arrDbClick={a:"Link",img:"Img",embed:"Embed"},uploadInputname="filedata",arrEntities={"<":"&lt;",">":"&gt;",'"':"&quot;","\\u00ae":"&reg;","\\u00a9":"&copy;"},regEntities=\/[<>"\\u00ae\\u00a9]\/g,Xheditor=function(textarea,options){function checkDblClick(e){var t=e.target,i=arrDbClick[t.tagName.toLowerCase()];if(i){if("Embed"===i){var s={"application\/x-shockwave-flash":"Flash","application\/x-mplayer2":"Media"};i=s[t.type.toLowerCase()]}_this.exec(i)}}function checkEsc(e){return 27===e.which?(bShowModal?_this.removeModal():bShowPanel&&_this.hidePanel(),!1):undefined}function loadReset(){setTimeout(_this.setSource,10)}function saveResult(){_this.getSource()}function cleanPaste(e){var t,i,s;if(e&&(t=e.originalEvent.clipboardData)&&(i=t.items)&&(s=i[0])&&"file"==s.kind&&s.type.match(\/^image\\\/\/i)){var a=s.getAsFile(),n=new FileReader;return n.onload=function(){var e='<img src="'+event.target.result+'">';e=replaceRemoteImg(e),_this.pasteHTML(e)},n.readAsDataURL(a),!1}var o=settings.cleanPaste;if(0===o||bSource||bCleanPaste)return!0;bCleanPaste=!0,_this.saveBookmark();var l=isIE?"pre":"div",r=$("<"+l+' class="xhe-paste">\\ufeff\\ufeff<\/'+l+">",_doc).appendTo(_doc.body),h=r[0],c=_this.getSel(),d=_this.getRng(!0);r.css("top",_jWin.scrollTop()),isIE?(d.moveToElementText(h),d.select()):(d.selectNodeContents(h),c.removeAllRanges(),c.addRange(d)),setTimeout(function(){var e,t=3===o;if(t)r.html(r.html().replace(\/<br(\\s+[^<>]*)?>\/gi,"\\n")),e=r.text();else{var i=$(".xhe-paste",_doc.body),s=[];i.each(function(e,t){0==$(t).find(".xhe-paste").length&&s.push(t.innerHTML)}),e=s.join("<br \/>")}r.remove(),_this.loadBookmark(),e=e.replace(\/^[\\s\\uFEFF]+|[\\s\\uFEFF]+$\/g,""),e&&(t?_this.pasteText(e):(e=_this.cleanHTML(e),e=_this.cleanWord(e),e=_this.formatXHTML(e),(!settings.onPaste||settings.onPaste&&(e=settings.onPaste(e))!==!1)&&(e=replaceRemoteImg(e),_this.pasteHTML(e)))),bCleanPaste=!1},0)}function replaceRemoteImg(e){var t=settings.localUrlTest,i=settings.remoteImgSaveUrl;if(t&&i){var s=[],a=0;e=e.replace(\/(<img)((?:\\s+[^>]*?)?(?:\\s+src="\\s*([^"]+)\\s*")(?: [^>]*)?)(\\\/?>)\/gi,function(e,i,n,o,l){return!\/^(https?|data:image)\/i.test(o)||\/_xhe_temp\/.test(n)||t.test(o)||(s[a]=o,n=n.replace(\/\\s+(width|height)="[^"]*"\/gi,"").replace(\/\\s+src="[^"]*"\/gi,' src="'+skinPath+'img\/waiting.gif" remoteimg="'+a++ +'"')),i+n+l}),s.length>0&&$.post(i,{urls:s.join("|")},function(e){e=e.split("|"),$("img[remoteimg]",_this.doc).each(function(){var t=$(this);xheAttr(t,"src",e[t.attr("remoteimg")]),t.removeAttr("remoteimg")})})}return e}function setCSS(e){try{_this._exec("styleWithCSS",e,!0)}catch(t){try{_this._exec("useCSS",!e,!0)}catch(t){}}}function setOpts(){if(bInit&&!bSource){setCSS(!1);try{_this._exec("enableObjectResizing",!0,!0)}catch(e){}if(isIE)try{_this._exec("BackgroundImageCache",!0,!0)}catch(e){}}}function forcePtag(e){if(bSource||13!==e.which||e.shiftKey||e.ctrlKey||e.altKey)return!0;var t=_this.getParent("p,h1,h2,h3,h4,h5,h6,pre,address,div,li");return t.is("li")?!0:settings.forcePtag?(0===t.length&&_this._exec("formatblock","<p>"),undefined):(_this.pasteHTML("<br \/>"),isIE&&t.length>0&&2===_this.getRng().parentElement().childNodes.length&&_this.pasteHTML("<br \/>"),!1)}function fixFullHeight(){isMozilla||isWebkit||(bFullscreen&&_jArea.height("100%").css("height",_jArea.outerHeight()-_jTools.outerHeight()),isIE&&_jTools.hide().show())}function fixAppleSel(e){if(e=e.target,e.tagName.match(\/(img|embed)\/i)){var t=_this.getSel(),i=_this.getRng(!0);i.selectNode(e),t.removeAllRanges(),t.addRange(i)}}function xheAttr(e,t,i){if(!t)return!1;var s="_xhe_"+t;return i&&(urlType&&(i=getLocalUrl(i,urlType,urlBase)),e.attr(t,urlBase?getLocalUrl(i,"abs",urlBase):i).removeAttr(s).attr(s,i)),e.attr(s)||e.attr(t)}function clickCancelPanel(){bClickCancel&&_this.hidePanel()}function checkShortcuts(e){if(bSource)return!0;var t=e.which,i=specialKeys[t],s=i?i:String.fromCharCode(t).toLowerCase();sKey="",sKey+=e.ctrlKey?"ctrl+":"",sKey+=e.altKey?"alt+":"",sKey+=e.shiftKey?"shift+":"",sKey+=s;var a,n=arrShortCuts[sKey];for(a in n){if(a=n[a],!$.isFunction(a))return _this.exec(a),!1;if(a.call(_this)===!1)return!1}}function is(e,t){var i=typeof e;return t?"array"===t&&e.hasOwnProperty&&e instanceof Array?!0:i===t:"undefined"!=i}function getLocalUrl(e,t,i){if(e.match(\/^(\\w+):\\\/\\\/\/i)&&!e.match(\/^https?:\/i)||\/^#\/i.test(e)||\/^data:\/i.test(e))return e;var s=i?$('<a href="'+i+'" \/>')[0]:location,a=s.protocol,n=s.host,o=s.hostname,l=s.port,r=s.pathname.replace(\/\\\\\/g,"\/").replace(\/[^\\\/]+$\/i,"");if(""===l&&(l="80"),""===r?r="\/":"\/"!==r.charAt(0)&&(r="\/"+r),e=$.trim(e),"abs"!==t&&(e=e.replace(RegExp(a+"\\\\\/\\\\\/"+o.replace(\/\\.\/g,"\\\\.")+"(?::"+l+")"+("80"===l?"?":"")+"(\/|$)","i"),"\/")),"rel"===t&&(e=e.replace(RegExp("^"+r.replace(\/([\\\/\\.\\+\\[\\]\\(\\)])\/g,"\\\\$1"),"i"),"")),"rel"!==t&&(e.match(\/^(https?:\\\/\\\/|\\\/)\/i)||(e=r+e),"\/"===e.charAt(0))){var h,c,d=[],u=e.split("\/"),p=u.length;for(c=0;p>c;c++)h=u[c],".."===h?d.pop():""!==h&&"."!==h&&d.push(h);""===u[p-1]&&d.push(""),e="\/"+d.join("\/")}return"abs"!==t||e.match(\/^https?:\\\/\\\/\/i)||(e=a+"\/\/"+n+e),e=e.replace(\/(https?:\\\/\\\/[^:\\\/?#]+):80(\\\/|$)\/i,"$1$2")}function checkFileExt(e,t){return"*"===t||e.match(RegExp(".("+t.replace(\/,\/g,"|")+")$","i"))?!0:(alert(getLang("upload.extLimit",t)),!1)}function formatBytes(e){var t=["Byte","KB","MB","GB","TB","PB"],i=Math.floor(Math.log(e)\/Math.log(1024));return(e\/Math.pow(1024,Math.floor(i))).toFixed(2)+t[i]}function returnFalse(){return!1}var _this=this,_text=textarea,_jText=$(_text),_jForm=_jText.closest("form"),_jTools,_jArea,_win,_jWin,_doc,_jDoc,bookmark,bInit=!1,bSource=!1,bFullscreen=!1,bCleanPaste=!1,outerScroll,bShowBlocktag=!1,sLayoutStyle="",ev=null,timer,bDisableHoverExec=!1,bQuickHoverExec=!1,lastPoint=null,lastAngle=null,editorHeight=0,settings=_this.settings=$.extend({},XHEDITOR.settings,options),plugins=settings.plugins,strPlugins=[];if(plugins&&(arrTools=$.extend({},arrTools,plugins),$.each(plugins,function(e){strPlugins.push(e)}),strPlugins=strPlugins.join(",")),settings.tools.match(\/^\\s*(m?full|simple|mini)\\s*$\/i)){var toolsTheme=toolsThemes[$.trim(settings.tools)];settings.tools=settings.tools.match(\/m?full\/i)&&plugins?toolsTheme.replace("Table","Table,"+strPlugins):toolsTheme}settings.tools.match(\/(^|,)\\s*About\\s*(,|$)\/i)||(settings.tools+=",About"),settings.tools=settings.tools.split(","),settings.editorRoot&&(editorRoot=settings.editorRoot),bAir===!1&&(editorRoot=getLocalUrl(editorRoot,"abs")),settings.urlBase&&(settings.urlBase=getLocalUrl(settings.urlBase,"abs"));var idCSS="xheCSS_"+settings.skin,idContainer="xhe"+xCount+"_container",idTools="xhe"+xCount+"_Tool",idIframeArea="xhe"+xCount+"_iframearea",idIframe="xhe"+xCount+"_iframe",idFixFFCursor="xhe"+xCount+"_fixffcursor",headHTML="",bodyClass="",skinPath=editorRoot+"xheditor_skin\/"+settings.skin+"\/",arrEmots=itemEmots,urlType=settings.urlType,urlBase=settings.urlBase,emotPath=settings.emotPath,emotPath=emotPath?emotPath:editorRoot+"xheditor_emot\/",selEmotGroup="";arrEmots=$.extend({},arrEmots,settings.emots),emotPath=getLocalUrl(emotPath,"rel",urlBase?urlBase:null),bShowBlocktag=settings.showBlocktag,bShowBlocktag&&(bodyClass+=" showBlocktag");var arrShortCuts=[];this.init=function(){function e(e){var t,i=$(e.target);(t=i.css("width"))&&i.css("width","").attr("width",t.replace(\/[^0-9%]+\/g,"")),(t=i.css("height"))&&i.css("height","").attr("height",t.replace(\/[^0-9%]+\/g,""))}0===$("#"+idCSS).length&&$("head").append('<link id="'+idCSS+'" rel="stylesheet" type="text\/css" href="'+skinPath+'ui.css" \/>');var t=_jText.outerWidth(),i=_jText.outerHeight(),s=settings.width||_text.style.width||(t>10?t:0);editorHeight=settings.height||_text.style.height||(i>10?i:150),\/^\\d+(?:\\.\\d+)?$\/.test(s)&&(s+="px"),is(editorHeight,"string")&&(editorHeight=editorHeight.replace(\/[^\\d]+\/g,""));var a,n,o=settings.background||_text.style.background,l=['<span class="xheGStart"\/>'],r=\/\\||\\\/\/i;$.each(settings.tools,function(e,t){if(t.match(r)&&l.push('<span class="xheGEnd"\/>'),"|"===t)l.push('<span class="xheSeparator"\/>');else if("\/"===t)l.push("<br \/>");else{if(a=arrTools[t],!a)return;n=a.c?a.c:"xheIcon xheBtn"+t,l.push('<span><a href="#" title="{#'+a.t+'}" cmd="'+t+'" class="xheButton xheEnabled" tabindex="-1" role="button"><span class="'+n+'" unselectable="on" style="font-size:0;color:transparent;text-indent:-999px;">'+a.t+"<\/span><\/a><\/span>"),a.s&&_this.addShortcuts(a.s,t)}t.match(r)&&l.push('<span class="xheGStart"\/>')}),l.push('<span class="xheGEnd"\/><br \/>'),_jText.after($('<input type="text" id="'+idFixFFCursor+'" style="position:absolute;display:none;" \/><span id="'+idContainer+'" class="xhe_'+settings.skin+'" style="display:none"><table cellspacing="0" cellpadding="0" class="xheLayout" style="'+("0px"!=s?"width:"+s+";":"")+"height:"+editorHeight+'px;" role="presentation"><tr><td id="'+idTools+'" class="xheTool" unselectable="on" style="height:1px;" role="presentation"><\/td><\/tr><tr><td id="'+idIframeArea+'" class="xheIframeArea" role="presentation"><iframe frameborder="0" id="'+idIframe+'" src="javascript:;" style="width:100%;"><\/iframe><\/td><\/tr><\/table><\/span>')),_jTools=$("#"+idTools),_jArea=$("#"+idIframeArea),headHTML='<meta http-equiv="Content-Type" content="text\/html; charset=utf-8" \/><link rel="stylesheet" href="'+skinPath+'iframe.css"\/>';var h=settings.loadCSS;if(h)if(is(h,"array"))for(var c in h)headHTML+='<link rel="stylesheet" href="'+h[c]+'"\/>';else headHTML+=h.match(\/\\s*<style(\\s+[^>]*?)?>[\\s\\S]+?<\\\/style>\\s*\/i)?h:'<link rel="stylesheet" href="'+h+'"\/>';var d='<!DOCTYPE html><html xmlns="http:\/\/www.w3.org\/1999\/xhtml"><head>'+headHTML+"<title>{#defaultReadTip} "+(settings.readTip?settings.readTip:"")+"<\/title>";o&&(d+="<style>html{background:"+o+";}<\/style>"),d+='<\/head><body spellcheck="0" class="editMode'+bodyClass+'"><\/body><\/html>',_this.win=_win=$("#"+idIframe)[0].contentWindow,_jWin=$(_win);try{this.doc=_doc=_win.document,_jDoc=$(_doc),_doc.open(),_doc.write(getLang(d)),_doc.close(),isIE?_doc.body.contentEditable="true":_doc.designMode="On"}catch(u){}setTimeout(setOpts,300),_this.setSource(),_win.setInterval=null,_jTools.append(getLang(l.join(""))).bind("mousedown contextmenu",returnFalse).click(function(e){var t=$(e.target).closest("a");return t.is(".xheEnabled")&&(clearTimeout(timer),_jTools.find("a").attr("tabindex","-1"),ev=e,_this.exec(t.attr("cmd"))),!1}),_jTools.find(".xheButton").hover(function(e){var t=$(this),i=settings.hoverExecDelay,s=lastAngle;if(lastAngle=null,-1===i||bDisableHoverExec||!t.is(".xheEnabled"))return!1;if(s&&s>10)return bDisableHoverExec=!0,setTimeout(function(){bDisableHoverExec=!1},100),!1;var a=t.attr("cmd"),n=1===arrTools[a].h;return n?(bQuickHoverExec&&(i=0),i>=0&&(timer=setTimeout(function(){ev=e,lastPoint={x:ev.clientX,y:ev.clientY},_this.exec(a)},i)),undefined):(_this.hidePanel(),!1)},function(){lastPoint=null,timer&&clearTimeout(timer)}).mousemove(function(e){if(lastPoint){var t={x:e.clientX-lastPoint.x,y:e.clientY-lastPoint.y};if(Math.abs(t.x)>1||Math.abs(t.y)>1){if(t.x>0&&t.y>0){var i=Math.round(Math.atan(t.y\/t.x)\/.017453293);lastAngle=lastAngle?(lastAngle+i)\/2:i}else lastAngle=null;lastPoint={x:e.clientX,y:e.clientY}}}}),_jPanel=$("#xhePanel"),_jShadow=$("#xheShadow"),_jCntLine=$("#xheCntLine"),0===_jPanel.length&&(_jPanel=$('<div id="xhePanel"><\/div>').mousedown(function(e){e.stopPropagation()}),_jShadow=$('<div id="xheShadow"><\/div>'),_jCntLine=$('<div id="xheCntLine"><\/div>'),setTimeout(function(){$(document.body).append(_jPanel).append(_jShadow).append(_jCntLine)},10)),$("#"+idContainer).show(),_jText.hide(),_jArea.css("height",editorHeight-_jTools.outerHeight()),isIE&8>browerVer&&setTimeout(function(){_jArea.css("height",editorHeight-_jTools.outerHeight())},1),_jText.focus(_this.focus),_jForm.submit(saveResult).bind("reset",loadReset),settings.submitID&&$("#"+settings.submitID).mousedown(saveResult),$(window).bind("unload beforeunload",saveResult).bind("resize",fixFullHeight),$(document).mousedown(clickCancelPanel),bCheckEscInit||($(document).keydown(checkEsc),bCheckEscInit=!0),_jWin.focus(function(){settings.focus&&settings.focus()}).blur(function(){settings.blur&&settings.blur()}),isWebkit&&_jWin.click(fixAppleSel),_jDoc.mousedown(clickCancelPanel).keydown(checkShortcuts).keypress(forcePtag).dblclick(checkDblClick).bind("mousedown click",function(e){_jText.trigger(e.type)}),isIE&&(_jDoc.keydown(function(e){var t=_this.getRng();return 8===e.which&&t.item?($(t.item(0)).remove(),!1):undefined}),_jDoc.bind("controlselect",function(t){t=t.target,$.nodeName(t,"IMG")&&$(t).unbind("resizeend",e).bind("resizeend",e)})),_jDoc.keydown(function(e){var t=e.which;return e.altKey&&t>=49&&57>=t?(_jTools.find("a").attr("tabindex","0"),_jTools.find(".xheGStart").eq(t-49).next().find("a").focus(),_doc.title="\\ufeff\\ufeff",!1):undefined}).click(function(){_jTools.find("a").attr("tabindex","-1")}),_jTools.keydown(function(e){var t=e.which;if(27==t)_jTools.find("a").attr("tabindex","-1"),_this.focus();else if(e.altKey&&t>=49&&57>=t)return _jTools.find(".xheGStart").eq(t-49).next().find("a").focus(),!1});var p=$(_doc.documentElement);isOpera?p.bind("keydown",function(e){e.ctrlKey&&86===e.which&&cleanPaste()}):p.bind(isIE?"beforepaste":"paste",cleanPaste),settings.disableContextmenu&&p.bind("contextmenu",returnFalse),settings.html5Upload&&p.bind("dragenter dragover",function(e){var t;return(t=e.originalEvent.dataTransfer.types)&&-1!==$.inArray("Files",t)?!1:undefined}).bind("drop",function(e){function t(e){var t,i,s;for(a=0;e.length>a;a++){if(i=e[a].name.replace(\/.+\\.\/,""),!(t=o.match(RegExp("(\\\\w+):[^:]*,"+i+"(?:,|$)","i"))))return 1;if(s){if(s!==t[1])return 2}else s=t[1]}return s}var i,s=e.originalEvent.dataTransfer;if(s&&(i=s.files)&&i.length>0){var a,n,o,l=["Link","Img","Flash","Media"],r=[];for(a in l)n=l[a],settings["up"+n+"Url"]&&settings["up"+n+"Url"].match(\/^[^!].*\/i)&&r.push(n+":,"+settings["up"+n+"Ext"]);return 0===r.length?!1:(o=r.join(","),n=t(i),1===n?alert(getLang("upload.extLimit",o.replace(\/\\w+:,\/g,""))):2===n?alert(getLang("upload.typeLimit")):n&&_this.startUpload(i,settings["up"+n+"Url"],"*",function(e){var t,i=[],s=settings.onUpload;s&&s(e);for(var a=0,o=e.length;o>a;a++)t=e[a],url=is(t,"string")?t:t.url,"!"===url.substr(0,1)&&(url=url.substr(1)),i.push(url);_this.exec(n),$("#xhe"+n+"Url").val(i.join(" ")),$("#xheSave").click()}),!1)}});var g=settings.shortcuts;g&&$.each(g,function(e,t){_this.addShortcuts(e,t)}),xCount++,bInit=!0,settings.fullscreen?_this.toggleFullscreen():settings.sourceMode&&setTimeout(_this.toggleSource,20);var f=settings.plugins;return f&&$.each(f,function(e,t){var i=t.i;i!==undefined&&i(_this)}),!0},this.remove=function(){_this.hidePanel(),saveResult(),_jText.unbind("focus",_this.focus),_jForm.unbind("submit",saveResult).unbind("reset",loadReset),settings.submitID&&$("#"+settings.submitID).unbind("mousedown",saveResult),$(window).unbind("unload beforeunload",saveResult).unbind("resize",fixFullHeight),$(document).unbind("mousedown",clickCancelPanel),$("#"+idContainer).remove(),$("#"+idFixFFCursor).remove(),_jText.show(),bInit=!1},this.saveBookmark=function(){if(!bSource){_this.focus();var e=_this.getRng();e=e.cloneRange?e.cloneRange():e,bookmark={top:_jWin.scrollTop(),rng:e}}},this.loadBookmark=function(){if(!bSource&&bookmark){_this.focus();var e=bookmark.rng;if(isIE)e.select();else{var t=_this.getSel();t.removeAllRanges(),t.addRange(e)}_jWin.scrollTop(bookmark.top),bookmark=null}},this.focus=function(){if(bSource?$("#sourceCode",_doc).focus():_win.focus(),isIE){var e=_this.getRng();e.parentElement&&e.parentElement().ownerDocument!==_doc&&_this.setTextCursor()}return!1},this.setTextCursor=function(e){var t=_this.getRng(!0),i=_doc.body;if(isIE)t.moveToElementText(i);else{for(var s=e?"lastChild":"firstChild";3!=i.nodeType&&i[s];)i=i[s];t.selectNode(i)}if(t.collapse(e?!1:!0),isIE)t.select();else{var a=_this.getSel();a.removeAllRanges(),a.addRange(t)}},this.getSel=function(){return _doc.selection?_doc.selection:_win.getSelection()},this.getRng=function(e){var t,i;try{e||(t=_this.getSel(),i=t.createRange?t.createRange():t.rangeCount>0?t.getRangeAt(0):null),i||(i=_doc.body.createTextRange?_doc.body.createTextRange():_doc.createRange())}catch(s){}return i},this.getParent=function(e){var t,i=_this.getRng();return isIE?t=i.item?i.item(0):i.parentElement():(t=i.commonAncestorContainer,i.collapsed||i.startContainer===i.endContainer&&2>i.startOffset-i.endOffset&&i.startContainer.hasChildNodes()&&(t=i.startContainer.childNodes[i.startOffset])),e=e?e:"*",t=$(t),t.is(e)||(t=$(t).closest(e)),t},this.getSelect=function(e){var t=_this.getSel(),i=_this.getRng(),s=!0;if(s=!i||i.item?!1:!t||0===i.boundingWidth||i.collapsed,"text"===e)return s?"":i.text||(t.toString?""+t:"");var a;if(i.cloneContents){var n,o=$("<div><\/div>");n=i.cloneContents(),n&&o.append(n),a=o.html()}else a=is(i.item)?i.item(0).outerHTML:is(i.htmlText)?i.htmlText:""+i;return s&&(a=""),a=_this.processHTML(a,"read"),a=_this.cleanHTML(a),a=_this.formatXHTML(a)},this.pasteHTML=function(e,t){if(bSource)return!1;_this.focus(),e=_this.processHTML(e,"write");var i=_this.getSel(),s=_this.getRng();if(t!==undefined){if(s.item){var a=s.item(0);s=_this.getRng(!0),s.moveToElementText(a),s.select()}s.collapse(t)}if(e+="<"+(isIE?"img":"span")+' id="_xhe_temp" width="0" height="0" \/>',s.insertNode){if($(s.startContainer).closest("style,script").length>0)return!1;s.deleteContents(),s.insertNode(s.createContextualFragment(e))}else"control"===i.type.toLowerCase()&&(i.clear(),s=_this.getRng()),s.pasteHTML(e);var n=$("#_xhe_temp",_doc),o=n[0];isIE?(s.moveToElementText(o),s.select()):(s.selectNode(o),i.removeAllRanges(),i.addRange(s)),n.remove()},this.pasteText=function(e,t){e||(e=""),e=_this.domEncode(e),e=e.replace(\/\\r?\\n\/g,"<br \/>"),_this.pasteHTML(e,t)},this.appendHTML=function(e){return bSource?!1:(_this.focus(),e=_this.processHTML(e,"write"),$(_doc.body).append(e),_this.setTextCursor(!0),undefined)},this.domEncode=function(e){return e.replace(regEntities,function(e){return arrEntities[e]})},this.setSource=function(e){bookmark=null,"string"!=typeof e&&""!==e&&(e=_text.value),bSource?$("#sourceCode",_doc).val(e):(settings.beforeSetSource&&(e=settings.beforeSetSource(e)),e=_this.cleanHTML(e),e=_this.formatXHTML(e),e=_this.processHTML(e,"write"),isIE?(_doc.body.innerHTML='<img id="_xhe_temp" width="0" height="0" \/>'+e,$("#_xhe_temp",_doc).remove()):_doc.body.innerHTML=e)},this.processHTML=function(e,t){function i(e,t,i,s,a,o){var l,r,h,c,d="";if(l=s.match(\/font-family\\s*:\\s*([^;"]+)\/i),l&&(d+=' face="'+l[1]+'"'),r=s.match(\/font-size\\s*:\\s*([^;"]+)\/i)){r=r[1].toLowerCase();for(var u=0;n.length>u;u++)if(r===n[u].n||r===n[u].s){h=u+1;break}h&&(d+=' size="'+h+'"',s=s.replace(\/(^|;)(\\s*font-size\\s*:\\s*[^;"]+;?)+\/gi,"$1"))}if(c=s.match(\/(?:^|[\\s;])color\\s*:\\s*([^;"]+)\/i)){var p;if(p=c[1].match(\/\\s*rgb\\s*\\(\\s*(\\d+)\\s*,\\s*(\\d+)\\s*,\\s*(\\d+)\\s*\\)\/i)){c[1]="#";for(var g=1;3>=g;g++)c[1]+=("0"+(p[g]-0).toString(16)).slice(-2)}c[1]=c[1].replace(\/^#([0-9a-f])([0-9a-f])([0-9a-f])$\/i,"#$1$1$2$2$3$3"),d+=' color="'+c[1]+'"'}return s=s.replace(\/(^|;)(\\s*(font-family|color)\\s*:\\s*[^;"]+;?)+\/gi,"$1"),""!==d?(s&&(d+=' style="'+s+'"'),"<font"+(i?i:"")+d+(a?a:"")+">"+o+"<\/font>"):e}function s(e,t,i,s,a){for(var n,l,r=(i?i:"")+(s?s:""),h=[],c=[],d=0;o.length>d;d++)n=o[d].r,l=o[d].t,r=r.replace(n,function(){return h.push("<"+l+">"),c.push("<\/"+l+">"),""});return r=r.replace(\/\\s+style\\s*=\\s*"\\s*"\/i,""),(r?"<span"+r+">":"")+h.join("")+a+c.join("")+(r?"<\/span>":"")}var a=' class="Apple-style-span"',n=settings.listFontsize;if("write"===t)e=e.replace(\/(<(\\\/?)(\\w+))((?:\\s+[\\w\\-:]+\\s*=\\s*(?:"[^"]*"|'[^']*'|[^>\\s]+))*)\\s*((\\\/?)>)\/g,function(e,t,i,s,n,o,l){s=s.toLowerCase(),isMozilla?"strong"===s?s="b":"em"===s&&(s="i"):isWebkit&&("strong"===s?(s="span",i||(n+=a+' style="font-weight: bold;"')):"em"===s?(s="span",i||(n+=a+' style="font-style: italic;"')):"u"===s?(s="span",i||(n+=a+' style="text-decoration: underline;"')):"strike"===s&&(s="span",i||(n+=a+' style="text-decoration: line-through;"')));var r,h="";if("del"===s)s="strike";else if("img"===s)n=n.replace(\/\\s+emot\\s*=\\s*("[^"]*"|'[^']*'|[^>\\s]+)\/i,function(e,t){return r=t.match(\/^(["']?)(.*)\\1\/)[2],r=r.split(","),r[1]||(r[1]=r[0],r[0]=""),"default"===r[0]&&(r[0]=""),settings.emotMark?e:""});else if("a"===s)!n.match(\/ href=[^ ]\/i)&&n.match(\/ name=[^ ]\/i)&&(h+=" xhe-anchor"),l&&(o="><\/a>");else if("table"===s&&!i){var c=n.match(\/\\s+border\\s*=\\s*("[^"]*"|'[^']*'|[^>\\s]+)\/i);(!c||c[1].match(\/^(["']?)\\s*0\\s*\\1$\/))&&(h+=" xhe-border")}var d;if(n=n.replace(\/\\s+([\\w\\-:]+)\\s*=\\s*("[^"]*"|'[^']*'|[^>\\s]+)\/g,function(e,t,i){return t=t.toLowerCase(),i=i.match(\/^(["']?)(.*)\\1\/)[2],aft="",isIE&&t.match(\/^(disabled|checked|readonly|selected)$\/)&&i.match(\/^(false|0)$\/i)?"":"img"===s&&r&&"src"===t?"":(t.match(\/^(src|href)$\/)&&(aft=" _xhe_"+t+'="'+i+'"',urlBase&&(i=getLocalUrl(i,"abs",urlBase))),h&&"class"===t&&(i+=" "+h,h=""),isWebkit&&"style"===t&&"span"===s&&i.match(\/(^|;)\\s*(font-family|font-size|color|background-color)\\s*:\\s*[^;]+\\s*(;|$)\/i)&&(d=!0)," "+t+'="'+i+'"'+aft)}),r){var u=emotPath+(r[0]?r[0]:"default")+"\/"+r[1]+".gif";n+=' src="'+u+'" _xhe_src="'+u+'"'}return d&&(n+=a),h&&(n+=' class="'+h+'"'),"<"+i+s+n+o}),isIE&&(e=e.replace(\/&apos;\/gi,"&#39;")),isWebkit||(e=e.replace(\/<(span)(\\s+[^>]*?)?\\s+style\\s*=\\s*"((?:[^"]*?;)?\\s*(?:font-family|font-size|color)\\s*:[^"]*)"( [^>]*)?>(((?!<\\1(\\s+[^>]*?)?>)[\\s\\S]|<\\1(\\s+[^>]*?)?>((?!<\\1(\\s+[^>]*?)?>)[\\s\\S]|<\\1(\\s+[^>]*?)?>((?!<\\1(\\s+[^>]*?)?>)[\\s\\S])*?<\\\/\\1>)*?<\\\/\\1>)*?)<\\\/\\1>\/gi,i),e=e.replace(\/<(span)(\\s+[^>]*?)?\\s+style\\s*=\\s*"((?:[^"]*?;)?\\s*(?:font-family|font-size|color)\\s*:[^"]*)"( [^>]*)?>(((?!<\\1(\\s+[^>]*?)?>)[\\s\\S]|<\\1(\\s+[^>]*?)?>((?!<\\1(\\s+[^>]*?)?>)[\\s\\S])*?<\\\/\\1>)*?)<\\\/\\1>\/gi,i),e=e.replace(\/<(span)(\\s+[^>]*?)?\\s+style\\s*=\\s*"((?:[^"]*?;)?\\s*(?:font-family|font-size|color)\\s*:[^"]*)"( [^>]*)?>(((?!<\\1(\\s+[^>]*?)?>)[\\s\\S])*?)<\\\/\\1>\/gi,i)),e=e.replace(\/<(td|th)(\\s+[^>]*?)?>(\\s|&nbsp;)*<\\\/\\1>\/gi,"<$1$2>"+(isIE?"":"<br \/>")+"<\/$1>");else{if(isWebkit)for(var o=[{r:\/font-weight\\s*:\\s*bold;?\/gi,t:"strong"},{r:\/font-style\\s*:\\s*italic;?\/gi,t:"em"},{r:\/text-decoration\\s*:\\s*underline;?\/gi,t:"u"},{r:\/text-decoration\\s*:\\s*line-through;?\/gi,t:"strike"}],l=0;2>l;l++)e=e.replace(\/<(span)(\\s+[^>]*?)?\\s+class\\s*=\\s*"Apple-style-span"(\\s+[^>]*?)?>(((?!<\\1(\\s+[^>]*?)?>)[\\s\\S]|<\\1(\\s+[^>]*?)?>((?!<\\1(\\s+[^>]*?)?>)[\\s\\S]|<\\1(\\s+[^>]*?)?>((?!<\\1(\\s+[^>]*?)?>)[\\s\\S])*?<\\\/\\1>)*?<\\\/\\1>)*?)<\\\/\\1>\/gi,s),e=e.replace(\/<(span)(\\s+[^>]*?)?\\s+class\\s*=\\s*"Apple-style-span"(\\s+[^>]*?)?>(((?!<\\1(\\s+[^>]*?)?>)[\\s\\S]|<\\1(\\s+[^>]*?)?>((?!<\\1(\\s+[^>]*?)?>)[\\s\\S])*?<\\\/\\1>)*?)<\\\/\\1>\/gi,s),e=e.replace(\/<(span)(\\s+[^>]*?)?\\s+class\\s*=\\s*"Apple-style-span"(\\s+[^>]*?)?>(((?!<\\1(\\s+[^>]*?)?>)[\\s\\S])*?)<\\\/\\1>\/gi,s);e=e.replace(\/(<(\\w+))((?:\\s+[\\w\\-:]+\\s*=\\s*(?:"[^"]*"|'[^']*'|[^>\\s]+))*)\\s*(\\\/?>)\/g,function(e,t,i,s,a){i=i.toLowerCase();$/;"	p
var.specialKeys.19	js/xheditor.min.js	/^(function(){var e={};window.XHEDITOR=e})(),function(e,t){e.mapLang={},e.setLang=function(i,s){s===t&&(s=i,i=""),""!==i&&(i+=".");var a,n;for(var o in s)n=s[o],a=i+o,"string"==typeof n||n instanceof Array?e.mapLang[a]=n:e.setLang(a,n)},e.getLang=function(i){var s=e.mapLang[i];if(s===t&&(s=i.replace(\/{#([^{}]+)}\/g,function(t,i){var s=e.mapLang[i];return s?s:i})),"string"==typeof s){var a=arguments;s=s.replace(\/{\\$(\\d+)}\/g,function(e,i){var s=a[parseInt(i,10)+1];return s!==t?s:e})}return s}}(XHEDITOR),function(XHEDITOR,$,undefined){var agent=navigator.userAgent.toLowerCase(),bMobile=\/mobile\/i.test(agent),browser=$.browser,browerVer=parseFloat(browser.version),isIE=browser.msie,isMozilla=browser.mozilla,isWebkit=browser.webkit,isOpera=browser.opera,isChrome=browser.chrome,bAir=agent.indexOf(" adobeair\/")>-1,xCount=0,bShowPanel=!1,bClickCancel=!0,bShowModal=!1,bCheckEscInit=!1,_jPanel,_jShadow,_jCntLine,_jPanelButton,jModal,jModalShadow,layerShadow,jOverlay,jHideSelect,onModalRemove,editorRoot,getLang=XHEDITOR.getLang;if($("script[src*=xheditor]").each(function(){var e=this.src;return e.match(\/xheditor[^\\\/]*\\.js\/i)?(editorRoot=e.replace(\/[\\?#].*$\/,"").replace(\/(^|[\\\/\\\\])[^\\\/]*$\/,"$1"),!1):undefined}),isIE){try{document.execCommand("BackgroundImageCache",!1,!0)}catch(e){}var jqueryVer=$.fn.jquery;jqueryVer&&jqueryVer.match(\/^1\\.[67]\/)&&($.attrHooks.width=$.attrHooks.height=null)}var specialKeys={27:"esc",9:"tab",32:"space",13:"enter",8:"backspace",145:"scroll",20:"capslock",144:"numlock",19:"pause",45:"insert",36:"home",46:"del",35:"end",33:"pageup",34:"pagedown",37:"left",38:"up",39:"right",40:"down",112:"f1",113:"f2",114:"f3",115:"f4",116:"f5",117:"f6",118:"f7",119:"f8",120:"f9",121:"f10",122:"f11",123:"f12"},arrAlign=[{v:"justifyleft"},{v:"justifycenter"},{v:"justifyright"},{v:"justifyfull"}],arrList=[{v:"insertOrderedList"},{v:"insertUnorderedList"}],htmlPastetext='<div><label for="xhePastetextValue">{#PastetextTip}<\/label><\/div><div><textarea id="xhePastetextValue" wrap="soft" spellcheck="false" style="width:300px;height:100px;" \/><\/div><div style="text-align:right;"><input type="button" id="xheSave" value="{#dialogOk}" \/><\/div>',htmlLink='<div><label for="xheLinkUrl">{#link.url}<\/label><input type="text" id="xheLinkUrl" value="http:\/\/" class="xheText" \/><\/div><div><label for="xheLinkTarget">{#link.target}<\/label><select id="xheLinkTarget"><option selected="selected" value="">{#default}<\/option><option value="_blank">{#link.targetBlank}<\/option><option value="_self">{#link.targetSelf}<\/option><option value="_parent">{#link.targetParent}<\/option><\/select><\/div><div style="display:none"><label for="xheLinkText">{#link.linkText}<\/label><input type="text" id="xheLinkText" value="" class="xheText" \/><\/div><div style="text-align:right;"><input type="button" id="xheSave" value="{#dialogOk}" \/><\/div>',htmlAnchor='<div><label for="xheAnchorName">{#anchor.name}<\/label><input type="text" id="xheAnchorName" value="" class="xheText" \/><\/div><div style="text-align:right;"><input type="button" id="xheSave" value="{#dialogOk}" \/><\/div>',htmlImg='<div><label for="xheImgUrl">{#img.url}<\/label><input type="text" id="xheImgUrl" value="http:\/\/" class="xheText" \/><\/div><div><div><label for="xheImgAlt">{#img.alt}<\/label><input type="text" id="xheImgAlt" \/><\/div><div><label for="xheImgAlign">{#img.align}<\/label><select id="xheImgAlign"><option selected="selected" value="">{#default}<\/option><option value="left">{#img.alignLeft}<\/option><option value="right">{#img.alignRight}<\/option><option value="top">{#img.alignTop}<\/option><option value="middle">{#img.alignMiddle}<\/option><option value="baseline">{#img.alignBaseline}<\/option><option value="bottom">{#img.alignBottom}<\/option><\/select><\/div><div><label for="xheImgWidth">{#img.width}<\/label><input type="text" id="xheImgWidth" style="width:40px;" \/> <label for="xheImgHeight">{#img.height}<\/label><input type="text" id="xheImgHeight" style="width:40px;" \/><\/div><div><label for="xheImgBorder">{#img.border}<\/label><input type="text" id="xheImgBorder" style="width:40px;" \/><\/div><div><label for="xheImgHspace">{#img.hspace}<\/label><input type="text" id="xheImgHspace" style="width:40px;" \/> <label for="xheImgVspace">{#img.vspace}<\/label><input type="text" id="xheImgVspace" style="width:40px;" \/><\/div><div style="text-align:right;"><input type="button" id="xheSave" value="{#dialogOk}" \/><\/div>',htmlFlash='<div><label for="xheFlashUrl">{#flash.url}<\/label><input type="text" id="xheFlashUrl" value="http:\/\/" class="xheText" \/><\/div><div><label for="xheFlashWidth">{#flash.width}<\/label><input type="text" id="xheFlashWidth" style="width:40px;" value="480" \/> <label for="xheFlashHeight">{#flash.height}<\/label><input type="text" id="xheFlashHeight" style="width:40px;" value="400" \/><\/div><div style="text-align:right;"><input type="button" id="xheSave" value="{#dialogOk}" \/><\/div>',htmlMedia='<div><label for="xheMediaUrl">{#media.url}<\/label><input type="text" id="xheMediaUrl" value="http:\/\/" class="xheText" \/><\/div><div><label for="xheMediaWidth">{#media.width}<\/label><input type="text" id="xheMediaWidth" style="width:40px;" value="480" \/> <label for="xheMediaHeight">{#media.height}<\/label><input type="text" id="xheMediaHeight" style="width:40px;" value="400" \/><\/div><div style="text-align:right;"><input type="button" id="xheSave" value="{#dialogOk}" \/><\/div>',htmlTable='<div><label for="xheTableRows">{#table.rows}<\/label><input type="text" id="xheTableRows" style="width:40px;" value="3" \/> <label for="xheTableColumns">{#table.columns}<\/label><input type="text" id="xheTableColumns" style="width:40px;" value="2" \/><\/div><div><label for="xheTableHeaders">{#table.headers}<\/label><select id="xheTableHeaders"><option selected="selected" value="">{#none}<\/option><option value="row">{#table.headersRow}<\/option><option value="col">{#table.headersCol}<\/option><option value="both">{#table.headersBoth}<\/option><\/select><\/div><div><label for="xheTableWidth">{#table.width}<\/label><input type="text" id="xheTableWidth" style="width:40px;" value="200" \/> <label for="xheTableHeight">{#table.height}<\/label><input type="text" id="xheTableHeight" style="width:40px;" value="" \/><\/div><div><label for="xheTableBorder">{#table.border}<\/label><input type="text" id="xheTableBorder" style="width:40px;" value="1" \/><\/div><div><label for="xheTableCellSpacing">{#table.cellSpacing}<\/label><input type="text" id="xheTableCellSpacing" style="width:40px;" value="1" \/> <label for="xheTableCellPadding">{#table.cellPadding}<\/label><input type="text" id="xheTableCellPadding" style="width:40px;" value="1" \/><\/div><div><label for="xheTableAlign">{#table.align}<\/label><select id="xheTableAlign"><option selected="selected" value="">{#default}<\/option><option value="left">{#table.alignLeft}<\/option><option value="center">{#table.alignCenter}<\/option><option value="right">{#table.alignRight}<\/option><\/select><\/div><div><label for="xheTableCaption">{#table.caption}<\/label><input type="text" id="xheTableCaption" \/><\/div><div style="text-align:right;"><input type="button" id="xheSave" value="{#dialogOk}" \/><\/div>',htmlAbout='<div style="font:12px Arial;width:245px;word-wrap:break-word;word-break:break-all;outline:none;" role="dialog" tabindex="-1"><p><span style="font-size:20px;color:#1997DF;">xhEditor<\/span><br \/>v1.2.1 (build 130225)<\/p><p>{#aboutXheditor}<\/p><p>Copyright &copy; <a href="http:\/\/xheditor.com\/" target="_blank">xhEditor.com<\/a>. All rights reserved.<\/p><\/div>',itemEmots={"default":{name:"{#default}",width:24,height:24,line:7,list:["smile","tongue","titter","laugh","sad","wronged","fastcry","cry","wail","mad","knock","curse","crazy","angry","ohmy","awkward","panic","shy","cute","envy","proud","struggle","quiet","shutup","doubt","despise","sleep","bye"]}},arrTools={Cut:{t:"Cut"},Copy:{t:"Copy"},Paste:{t:"Paste"},Pastetext:{t:"Pastetext",h:isIE?0:1},Blocktag:{t:"Blocktag",h:1},Fontface:{t:"Fontface",h:1},FontSize:{t:"FontSize",h:1},Bold:{t:"Bold",s:"Ctrl+B"},Italic:{t:"Italic",s:"Ctrl+I"},Underline:{t:"Underline",s:"Ctrl+U"},Strikethrough:{t:"Strikethrough"},FontColor:{t:"FontColor",h:1},BackColor:{t:"BackColor",h:1},SelectAll:{t:"SelectAll"},Removeformat:{t:"Removeformat"},Align:{t:"Align",h:1},List:{t:"List",h:1},Outdent:{t:"Outdent"},Indent:{t:"Indent"},Link:{t:"Link",s:"Ctrl+L",h:1},Unlink:{t:"Unlink"},Anchor:{t:"Anchor",h:1},Img:{t:"Img",h:1},Flash:{t:"Flash",h:1},Media:{t:"Media",h:1},Hr:{t:"Hr"},Emot:{t:"Emot",s:"ctrl+e",h:1},Table:{t:"Table",h:1},Source:{t:"Source"},Preview:{t:"Preview"},Print:{t:"Print",s:"Ctrl+P"},Fullscreen:{t:"Fullscreen",s:"Esc"},About:{t:"About"}},toolsThemes={mini:"Bold,Italic,Underline,Strikethrough,|,Align,List,|,Link,Img",simple:"Blocktag,Fontface,FontSize,Bold,Italic,Underline,Strikethrough,FontColor,BackColor,|,Align,List,Outdent,Indent,|,Link,Img,Emot",full:"Cut,Copy,Paste,Pastetext,|,Blocktag,Fontface,FontSize,Bold,Italic,Underline,Strikethrough,FontColor,BackColor,SelectAll,Removeformat,|,Align,List,Outdent,Indent,|,Link,Unlink,Anchor,Img,Flash,Media,Hr,Emot,Table,|,Source,Preview,Print,Fullscreen"};toolsThemes.mfull=toolsThemes.full.replace(\/\\|(,Align)\/i,"\/$1");var arrDbClick={a:"Link",img:"Img",embed:"Embed"},uploadInputname="filedata",arrEntities={"<":"&lt;",">":"&gt;",'"':"&quot;","\\u00ae":"&reg;","\\u00a9":"&copy;"},regEntities=\/[<>"\\u00ae\\u00a9]\/g,Xheditor=function(textarea,options){function checkDblClick(e){var t=e.target,i=arrDbClick[t.tagName.toLowerCase()];if(i){if("Embed"===i){var s={"application\/x-shockwave-flash":"Flash","application\/x-mplayer2":"Media"};i=s[t.type.toLowerCase()]}_this.exec(i)}}function checkEsc(e){return 27===e.which?(bShowModal?_this.removeModal():bShowPanel&&_this.hidePanel(),!1):undefined}function loadReset(){setTimeout(_this.setSource,10)}function saveResult(){_this.getSource()}function cleanPaste(e){var t,i,s;if(e&&(t=e.originalEvent.clipboardData)&&(i=t.items)&&(s=i[0])&&"file"==s.kind&&s.type.match(\/^image\\\/\/i)){var a=s.getAsFile(),n=new FileReader;return n.onload=function(){var e='<img src="'+event.target.result+'">';e=replaceRemoteImg(e),_this.pasteHTML(e)},n.readAsDataURL(a),!1}var o=settings.cleanPaste;if(0===o||bSource||bCleanPaste)return!0;bCleanPaste=!0,_this.saveBookmark();var l=isIE?"pre":"div",r=$("<"+l+' class="xhe-paste">\\ufeff\\ufeff<\/'+l+">",_doc).appendTo(_doc.body),h=r[0],c=_this.getSel(),d=_this.getRng(!0);r.css("top",_jWin.scrollTop()),isIE?(d.moveToElementText(h),d.select()):(d.selectNodeContents(h),c.removeAllRanges(),c.addRange(d)),setTimeout(function(){var e,t=3===o;if(t)r.html(r.html().replace(\/<br(\\s+[^<>]*)?>\/gi,"\\n")),e=r.text();else{var i=$(".xhe-paste",_doc.body),s=[];i.each(function(e,t){0==$(t).find(".xhe-paste").length&&s.push(t.innerHTML)}),e=s.join("<br \/>")}r.remove(),_this.loadBookmark(),e=e.replace(\/^[\\s\\uFEFF]+|[\\s\\uFEFF]+$\/g,""),e&&(t?_this.pasteText(e):(e=_this.cleanHTML(e),e=_this.cleanWord(e),e=_this.formatXHTML(e),(!settings.onPaste||settings.onPaste&&(e=settings.onPaste(e))!==!1)&&(e=replaceRemoteImg(e),_this.pasteHTML(e)))),bCleanPaste=!1},0)}function replaceRemoteImg(e){var t=settings.localUrlTest,i=settings.remoteImgSaveUrl;if(t&&i){var s=[],a=0;e=e.replace(\/(<img)((?:\\s+[^>]*?)?(?:\\s+src="\\s*([^"]+)\\s*")(?: [^>]*)?)(\\\/?>)\/gi,function(e,i,n,o,l){return!\/^(https?|data:image)\/i.test(o)||\/_xhe_temp\/.test(n)||t.test(o)||(s[a]=o,n=n.replace(\/\\s+(width|height)="[^"]*"\/gi,"").replace(\/\\s+src="[^"]*"\/gi,' src="'+skinPath+'img\/waiting.gif" remoteimg="'+a++ +'"')),i+n+l}),s.length>0&&$.post(i,{urls:s.join("|")},function(e){e=e.split("|"),$("img[remoteimg]",_this.doc).each(function(){var t=$(this);xheAttr(t,"src",e[t.attr("remoteimg")]),t.removeAttr("remoteimg")})})}return e}function setCSS(e){try{_this._exec("styleWithCSS",e,!0)}catch(t){try{_this._exec("useCSS",!e,!0)}catch(t){}}}function setOpts(){if(bInit&&!bSource){setCSS(!1);try{_this._exec("enableObjectResizing",!0,!0)}catch(e){}if(isIE)try{_this._exec("BackgroundImageCache",!0,!0)}catch(e){}}}function forcePtag(e){if(bSource||13!==e.which||e.shiftKey||e.ctrlKey||e.altKey)return!0;var t=_this.getParent("p,h1,h2,h3,h4,h5,h6,pre,address,div,li");return t.is("li")?!0:settings.forcePtag?(0===t.length&&_this._exec("formatblock","<p>"),undefined):(_this.pasteHTML("<br \/>"),isIE&&t.length>0&&2===_this.getRng().parentElement().childNodes.length&&_this.pasteHTML("<br \/>"),!1)}function fixFullHeight(){isMozilla||isWebkit||(bFullscreen&&_jArea.height("100%").css("height",_jArea.outerHeight()-_jTools.outerHeight()),isIE&&_jTools.hide().show())}function fixAppleSel(e){if(e=e.target,e.tagName.match(\/(img|embed)\/i)){var t=_this.getSel(),i=_this.getRng(!0);i.selectNode(e),t.removeAllRanges(),t.addRange(i)}}function xheAttr(e,t,i){if(!t)return!1;var s="_xhe_"+t;return i&&(urlType&&(i=getLocalUrl(i,urlType,urlBase)),e.attr(t,urlBase?getLocalUrl(i,"abs",urlBase):i).removeAttr(s).attr(s,i)),e.attr(s)||e.attr(t)}function clickCancelPanel(){bClickCancel&&_this.hidePanel()}function checkShortcuts(e){if(bSource)return!0;var t=e.which,i=specialKeys[t],s=i?i:String.fromCharCode(t).toLowerCase();sKey="",sKey+=e.ctrlKey?"ctrl+":"",sKey+=e.altKey?"alt+":"",sKey+=e.shiftKey?"shift+":"",sKey+=s;var a,n=arrShortCuts[sKey];for(a in n){if(a=n[a],!$.isFunction(a))return _this.exec(a),!1;if(a.call(_this)===!1)return!1}}function is(e,t){var i=typeof e;return t?"array"===t&&e.hasOwnProperty&&e instanceof Array?!0:i===t:"undefined"!=i}function getLocalUrl(e,t,i){if(e.match(\/^(\\w+):\\\/\\\/\/i)&&!e.match(\/^https?:\/i)||\/^#\/i.test(e)||\/^data:\/i.test(e))return e;var s=i?$('<a href="'+i+'" \/>')[0]:location,a=s.protocol,n=s.host,o=s.hostname,l=s.port,r=s.pathname.replace(\/\\\\\/g,"\/").replace(\/[^\\\/]+$\/i,"");if(""===l&&(l="80"),""===r?r="\/":"\/"!==r.charAt(0)&&(r="\/"+r),e=$.trim(e),"abs"!==t&&(e=e.replace(RegExp(a+"\\\\\/\\\\\/"+o.replace(\/\\.\/g,"\\\\.")+"(?::"+l+")"+("80"===l?"?":"")+"(\/|$)","i"),"\/")),"rel"===t&&(e=e.replace(RegExp("^"+r.replace(\/([\\\/\\.\\+\\[\\]\\(\\)])\/g,"\\\\$1"),"i"),"")),"rel"!==t&&(e.match(\/^(https?:\\\/\\\/|\\\/)\/i)||(e=r+e),"\/"===e.charAt(0))){var h,c,d=[],u=e.split("\/"),p=u.length;for(c=0;p>c;c++)h=u[c],".."===h?d.pop():""!==h&&"."!==h&&d.push(h);""===u[p-1]&&d.push(""),e="\/"+d.join("\/")}return"abs"!==t||e.match(\/^https?:\\\/\\\/\/i)||(e=a+"\/\/"+n+e),e=e.replace(\/(https?:\\\/\\\/[^:\\\/?#]+):80(\\\/|$)\/i,"$1$2")}function checkFileExt(e,t){return"*"===t||e.match(RegExp(".("+t.replace(\/,\/g,"|")+")$","i"))?!0:(alert(getLang("upload.extLimit",t)),!1)}function formatBytes(e){var t=["Byte","KB","MB","GB","TB","PB"],i=Math.floor(Math.log(e)\/Math.log(1024));return(e\/Math.pow(1024,Math.floor(i))).toFixed(2)+t[i]}function returnFalse(){return!1}var _this=this,_text=textarea,_jText=$(_text),_jForm=_jText.closest("form"),_jTools,_jArea,_win,_jWin,_doc,_jDoc,bookmark,bInit=!1,bSource=!1,bFullscreen=!1,bCleanPaste=!1,outerScroll,bShowBlocktag=!1,sLayoutStyle="",ev=null,timer,bDisableHoverExec=!1,bQuickHoverExec=!1,lastPoint=null,lastAngle=null,editorHeight=0,settings=_this.settings=$.extend({},XHEDITOR.settings,options),plugins=settings.plugins,strPlugins=[];if(plugins&&(arrTools=$.extend({},arrTools,plugins),$.each(plugins,function(e){strPlugins.push(e)}),strPlugins=strPlugins.join(",")),settings.tools.match(\/^\\s*(m?full|simple|mini)\\s*$\/i)){var toolsTheme=toolsThemes[$.trim(settings.tools)];settings.tools=settings.tools.match(\/m?full\/i)&&plugins?toolsTheme.replace("Table","Table,"+strPlugins):toolsTheme}settings.tools.match(\/(^|,)\\s*About\\s*(,|$)\/i)||(settings.tools+=",About"),settings.tools=settings.tools.split(","),settings.editorRoot&&(editorRoot=settings.editorRoot),bAir===!1&&(editorRoot=getLocalUrl(editorRoot,"abs")),settings.urlBase&&(settings.urlBase=getLocalUrl(settings.urlBase,"abs"));var idCSS="xheCSS_"+settings.skin,idContainer="xhe"+xCount+"_container",idTools="xhe"+xCount+"_Tool",idIframeArea="xhe"+xCount+"_iframearea",idIframe="xhe"+xCount+"_iframe",idFixFFCursor="xhe"+xCount+"_fixffcursor",headHTML="",bodyClass="",skinPath=editorRoot+"xheditor_skin\/"+settings.skin+"\/",arrEmots=itemEmots,urlType=settings.urlType,urlBase=settings.urlBase,emotPath=settings.emotPath,emotPath=emotPath?emotPath:editorRoot+"xheditor_emot\/",selEmotGroup="";arrEmots=$.extend({},arrEmots,settings.emots),emotPath=getLocalUrl(emotPath,"rel",urlBase?urlBase:null),bShowBlocktag=settings.showBlocktag,bShowBlocktag&&(bodyClass+=" showBlocktag");var arrShortCuts=[];this.init=function(){function e(e){var t,i=$(e.target);(t=i.css("width"))&&i.css("width","").attr("width",t.replace(\/[^0-9%]+\/g,"")),(t=i.css("height"))&&i.css("height","").attr("height",t.replace(\/[^0-9%]+\/g,""))}0===$("#"+idCSS).length&&$("head").append('<link id="'+idCSS+'" rel="stylesheet" type="text\/css" href="'+skinPath+'ui.css" \/>');var t=_jText.outerWidth(),i=_jText.outerHeight(),s=settings.width||_text.style.width||(t>10?t:0);editorHeight=settings.height||_text.style.height||(i>10?i:150),\/^\\d+(?:\\.\\d+)?$\/.test(s)&&(s+="px"),is(editorHeight,"string")&&(editorHeight=editorHeight.replace(\/[^\\d]+\/g,""));var a,n,o=settings.background||_text.style.background,l=['<span class="xheGStart"\/>'],r=\/\\||\\\/\/i;$.each(settings.tools,function(e,t){if(t.match(r)&&l.push('<span class="xheGEnd"\/>'),"|"===t)l.push('<span class="xheSeparator"\/>');else if("\/"===t)l.push("<br \/>");else{if(a=arrTools[t],!a)return;n=a.c?a.c:"xheIcon xheBtn"+t,l.push('<span><a href="#" title="{#'+a.t+'}" cmd="'+t+'" class="xheButton xheEnabled" tabindex="-1" role="button"><span class="'+n+'" unselectable="on" style="font-size:0;color:transparent;text-indent:-999px;">'+a.t+"<\/span><\/a><\/span>"),a.s&&_this.addShortcuts(a.s,t)}t.match(r)&&l.push('<span class="xheGStart"\/>')}),l.push('<span class="xheGEnd"\/><br \/>'),_jText.after($('<input type="text" id="'+idFixFFCursor+'" style="position:absolute;display:none;" \/><span id="'+idContainer+'" class="xhe_'+settings.skin+'" style="display:none"><table cellspacing="0" cellpadding="0" class="xheLayout" style="'+("0px"!=s?"width:"+s+";":"")+"height:"+editorHeight+'px;" role="presentation"><tr><td id="'+idTools+'" class="xheTool" unselectable="on" style="height:1px;" role="presentation"><\/td><\/tr><tr><td id="'+idIframeArea+'" class="xheIframeArea" role="presentation"><iframe frameborder="0" id="'+idIframe+'" src="javascript:;" style="width:100%;"><\/iframe><\/td><\/tr><\/table><\/span>')),_jTools=$("#"+idTools),_jArea=$("#"+idIframeArea),headHTML='<meta http-equiv="Content-Type" content="text\/html; charset=utf-8" \/><link rel="stylesheet" href="'+skinPath+'iframe.css"\/>';var h=settings.loadCSS;if(h)if(is(h,"array"))for(var c in h)headHTML+='<link rel="stylesheet" href="'+h[c]+'"\/>';else headHTML+=h.match(\/\\s*<style(\\s+[^>]*?)?>[\\s\\S]+?<\\\/style>\\s*\/i)?h:'<link rel="stylesheet" href="'+h+'"\/>';var d='<!DOCTYPE html><html xmlns="http:\/\/www.w3.org\/1999\/xhtml"><head>'+headHTML+"<title>{#defaultReadTip} "+(settings.readTip?settings.readTip:"")+"<\/title>";o&&(d+="<style>html{background:"+o+";}<\/style>"),d+='<\/head><body spellcheck="0" class="editMode'+bodyClass+'"><\/body><\/html>',_this.win=_win=$("#"+idIframe)[0].contentWindow,_jWin=$(_win);try{this.doc=_doc=_win.document,_jDoc=$(_doc),_doc.open(),_doc.write(getLang(d)),_doc.close(),isIE?_doc.body.contentEditable="true":_doc.designMode="On"}catch(u){}setTimeout(setOpts,300),_this.setSource(),_win.setInterval=null,_jTools.append(getLang(l.join(""))).bind("mousedown contextmenu",returnFalse).click(function(e){var t=$(e.target).closest("a");return t.is(".xheEnabled")&&(clearTimeout(timer),_jTools.find("a").attr("tabindex","-1"),ev=e,_this.exec(t.attr("cmd"))),!1}),_jTools.find(".xheButton").hover(function(e){var t=$(this),i=settings.hoverExecDelay,s=lastAngle;if(lastAngle=null,-1===i||bDisableHoverExec||!t.is(".xheEnabled"))return!1;if(s&&s>10)return bDisableHoverExec=!0,setTimeout(function(){bDisableHoverExec=!1},100),!1;var a=t.attr("cmd"),n=1===arrTools[a].h;return n?(bQuickHoverExec&&(i=0),i>=0&&(timer=setTimeout(function(){ev=e,lastPoint={x:ev.clientX,y:ev.clientY},_this.exec(a)},i)),undefined):(_this.hidePanel(),!1)},function(){lastPoint=null,timer&&clearTimeout(timer)}).mousemove(function(e){if(lastPoint){var t={x:e.clientX-lastPoint.x,y:e.clientY-lastPoint.y};if(Math.abs(t.x)>1||Math.abs(t.y)>1){if(t.x>0&&t.y>0){var i=Math.round(Math.atan(t.y\/t.x)\/.017453293);lastAngle=lastAngle?(lastAngle+i)\/2:i}else lastAngle=null;lastPoint={x:e.clientX,y:e.clientY}}}}),_jPanel=$("#xhePanel"),_jShadow=$("#xheShadow"),_jCntLine=$("#xheCntLine"),0===_jPanel.length&&(_jPanel=$('<div id="xhePanel"><\/div>').mousedown(function(e){e.stopPropagation()}),_jShadow=$('<div id="xheShadow"><\/div>'),_jCntLine=$('<div id="xheCntLine"><\/div>'),setTimeout(function(){$(document.body).append(_jPanel).append(_jShadow).append(_jCntLine)},10)),$("#"+idContainer).show(),_jText.hide(),_jArea.css("height",editorHeight-_jTools.outerHeight()),isIE&8>browerVer&&setTimeout(function(){_jArea.css("height",editorHeight-_jTools.outerHeight())},1),_jText.focus(_this.focus),_jForm.submit(saveResult).bind("reset",loadReset),settings.submitID&&$("#"+settings.submitID).mousedown(saveResult),$(window).bind("unload beforeunload",saveResult).bind("resize",fixFullHeight),$(document).mousedown(clickCancelPanel),bCheckEscInit||($(document).keydown(checkEsc),bCheckEscInit=!0),_jWin.focus(function(){settings.focus&&settings.focus()}).blur(function(){settings.blur&&settings.blur()}),isWebkit&&_jWin.click(fixAppleSel),_jDoc.mousedown(clickCancelPanel).keydown(checkShortcuts).keypress(forcePtag).dblclick(checkDblClick).bind("mousedown click",function(e){_jText.trigger(e.type)}),isIE&&(_jDoc.keydown(function(e){var t=_this.getRng();return 8===e.which&&t.item?($(t.item(0)).remove(),!1):undefined}),_jDoc.bind("controlselect",function(t){t=t.target,$.nodeName(t,"IMG")&&$(t).unbind("resizeend",e).bind("resizeend",e)})),_jDoc.keydown(function(e){var t=e.which;return e.altKey&&t>=49&&57>=t?(_jTools.find("a").attr("tabindex","0"),_jTools.find(".xheGStart").eq(t-49).next().find("a").focus(),_doc.title="\\ufeff\\ufeff",!1):undefined}).click(function(){_jTools.find("a").attr("tabindex","-1")}),_jTools.keydown(function(e){var t=e.which;if(27==t)_jTools.find("a").attr("tabindex","-1"),_this.focus();else if(e.altKey&&t>=49&&57>=t)return _jTools.find(".xheGStart").eq(t-49).next().find("a").focus(),!1});var p=$(_doc.documentElement);isOpera?p.bind("keydown",function(e){e.ctrlKey&&86===e.which&&cleanPaste()}):p.bind(isIE?"beforepaste":"paste",cleanPaste),settings.disableContextmenu&&p.bind("contextmenu",returnFalse),settings.html5Upload&&p.bind("dragenter dragover",function(e){var t;return(t=e.originalEvent.dataTransfer.types)&&-1!==$.inArray("Files",t)?!1:undefined}).bind("drop",function(e){function t(e){var t,i,s;for(a=0;e.length>a;a++){if(i=e[a].name.replace(\/.+\\.\/,""),!(t=o.match(RegExp("(\\\\w+):[^:]*,"+i+"(?:,|$)","i"))))return 1;if(s){if(s!==t[1])return 2}else s=t[1]}return s}var i,s=e.originalEvent.dataTransfer;if(s&&(i=s.files)&&i.length>0){var a,n,o,l=["Link","Img","Flash","Media"],r=[];for(a in l)n=l[a],settings["up"+n+"Url"]&&settings["up"+n+"Url"].match(\/^[^!].*\/i)&&r.push(n+":,"+settings["up"+n+"Ext"]);return 0===r.length?!1:(o=r.join(","),n=t(i),1===n?alert(getLang("upload.extLimit",o.replace(\/\\w+:,\/g,""))):2===n?alert(getLang("upload.typeLimit")):n&&_this.startUpload(i,settings["up"+n+"Url"],"*",function(e){var t,i=[],s=settings.onUpload;s&&s(e);for(var a=0,o=e.length;o>a;a++)t=e[a],url=is(t,"string")?t:t.url,"!"===url.substr(0,1)&&(url=url.substr(1)),i.push(url);_this.exec(n),$("#xhe"+n+"Url").val(i.join(" ")),$("#xheSave").click()}),!1)}});var g=settings.shortcuts;g&&$.each(g,function(e,t){_this.addShortcuts(e,t)}),xCount++,bInit=!0,settings.fullscreen?_this.toggleFullscreen():settings.sourceMode&&setTimeout(_this.toggleSource,20);var f=settings.plugins;return f&&$.each(f,function(e,t){var i=t.i;i!==undefined&&i(_this)}),!0},this.remove=function(){_this.hidePanel(),saveResult(),_jText.unbind("focus",_this.focus),_jForm.unbind("submit",saveResult).unbind("reset",loadReset),settings.submitID&&$("#"+settings.submitID).unbind("mousedown",saveResult),$(window).unbind("unload beforeunload",saveResult).unbind("resize",fixFullHeight),$(document).unbind("mousedown",clickCancelPanel),$("#"+idContainer).remove(),$("#"+idFixFFCursor).remove(),_jText.show(),bInit=!1},this.saveBookmark=function(){if(!bSource){_this.focus();var e=_this.getRng();e=e.cloneRange?e.cloneRange():e,bookmark={top:_jWin.scrollTop(),rng:e}}},this.loadBookmark=function(){if(!bSource&&bookmark){_this.focus();var e=bookmark.rng;if(isIE)e.select();else{var t=_this.getSel();t.removeAllRanges(),t.addRange(e)}_jWin.scrollTop(bookmark.top),bookmark=null}},this.focus=function(){if(bSource?$("#sourceCode",_doc).focus():_win.focus(),isIE){var e=_this.getRng();e.parentElement&&e.parentElement().ownerDocument!==_doc&&_this.setTextCursor()}return!1},this.setTextCursor=function(e){var t=_this.getRng(!0),i=_doc.body;if(isIE)t.moveToElementText(i);else{for(var s=e?"lastChild":"firstChild";3!=i.nodeType&&i[s];)i=i[s];t.selectNode(i)}if(t.collapse(e?!1:!0),isIE)t.select();else{var a=_this.getSel();a.removeAllRanges(),a.addRange(t)}},this.getSel=function(){return _doc.selection?_doc.selection:_win.getSelection()},this.getRng=function(e){var t,i;try{e||(t=_this.getSel(),i=t.createRange?t.createRange():t.rangeCount>0?t.getRangeAt(0):null),i||(i=_doc.body.createTextRange?_doc.body.createTextRange():_doc.createRange())}catch(s){}return i},this.getParent=function(e){var t,i=_this.getRng();return isIE?t=i.item?i.item(0):i.parentElement():(t=i.commonAncestorContainer,i.collapsed||i.startContainer===i.endContainer&&2>i.startOffset-i.endOffset&&i.startContainer.hasChildNodes()&&(t=i.startContainer.childNodes[i.startOffset])),e=e?e:"*",t=$(t),t.is(e)||(t=$(t).closest(e)),t},this.getSelect=function(e){var t=_this.getSel(),i=_this.getRng(),s=!0;if(s=!i||i.item?!1:!t||0===i.boundingWidth||i.collapsed,"text"===e)return s?"":i.text||(t.toString?""+t:"");var a;if(i.cloneContents){var n,o=$("<div><\/div>");n=i.cloneContents(),n&&o.append(n),a=o.html()}else a=is(i.item)?i.item(0).outerHTML:is(i.htmlText)?i.htmlText:""+i;return s&&(a=""),a=_this.processHTML(a,"read"),a=_this.cleanHTML(a),a=_this.formatXHTML(a)},this.pasteHTML=function(e,t){if(bSource)return!1;_this.focus(),e=_this.processHTML(e,"write");var i=_this.getSel(),s=_this.getRng();if(t!==undefined){if(s.item){var a=s.item(0);s=_this.getRng(!0),s.moveToElementText(a),s.select()}s.collapse(t)}if(e+="<"+(isIE?"img":"span")+' id="_xhe_temp" width="0" height="0" \/>',s.insertNode){if($(s.startContainer).closest("style,script").length>0)return!1;s.deleteContents(),s.insertNode(s.createContextualFragment(e))}else"control"===i.type.toLowerCase()&&(i.clear(),s=_this.getRng()),s.pasteHTML(e);var n=$("#_xhe_temp",_doc),o=n[0];isIE?(s.moveToElementText(o),s.select()):(s.selectNode(o),i.removeAllRanges(),i.addRange(s)),n.remove()},this.pasteText=function(e,t){e||(e=""),e=_this.domEncode(e),e=e.replace(\/\\r?\\n\/g,"<br \/>"),_this.pasteHTML(e,t)},this.appendHTML=function(e){return bSource?!1:(_this.focus(),e=_this.processHTML(e,"write"),$(_doc.body).append(e),_this.setTextCursor(!0),undefined)},this.domEncode=function(e){return e.replace(regEntities,function(e){return arrEntities[e]})},this.setSource=function(e){bookmark=null,"string"!=typeof e&&""!==e&&(e=_text.value),bSource?$("#sourceCode",_doc).val(e):(settings.beforeSetSource&&(e=settings.beforeSetSource(e)),e=_this.cleanHTML(e),e=_this.formatXHTML(e),e=_this.processHTML(e,"write"),isIE?(_doc.body.innerHTML='<img id="_xhe_temp" width="0" height="0" \/>'+e,$("#_xhe_temp",_doc).remove()):_doc.body.innerHTML=e)},this.processHTML=function(e,t){function i(e,t,i,s,a,o){var l,r,h,c,d="";if(l=s.match(\/font-family\\s*:\\s*([^;"]+)\/i),l&&(d+=' face="'+l[1]+'"'),r=s.match(\/font-size\\s*:\\s*([^;"]+)\/i)){r=r[1].toLowerCase();for(var u=0;n.length>u;u++)if(r===n[u].n||r===n[u].s){h=u+1;break}h&&(d+=' size="'+h+'"',s=s.replace(\/(^|;)(\\s*font-size\\s*:\\s*[^;"]+;?)+\/gi,"$1"))}if(c=s.match(\/(?:^|[\\s;])color\\s*:\\s*([^;"]+)\/i)){var p;if(p=c[1].match(\/\\s*rgb\\s*\\(\\s*(\\d+)\\s*,\\s*(\\d+)\\s*,\\s*(\\d+)\\s*\\)\/i)){c[1]="#";for(var g=1;3>=g;g++)c[1]+=("0"+(p[g]-0).toString(16)).slice(-2)}c[1]=c[1].replace(\/^#([0-9a-f])([0-9a-f])([0-9a-f])$\/i,"#$1$1$2$2$3$3"),d+=' color="'+c[1]+'"'}return s=s.replace(\/(^|;)(\\s*(font-family|color)\\s*:\\s*[^;"]+;?)+\/gi,"$1"),""!==d?(s&&(d+=' style="'+s+'"'),"<font"+(i?i:"")+d+(a?a:"")+">"+o+"<\/font>"):e}function s(e,t,i,s,a){for(var n,l,r=(i?i:"")+(s?s:""),h=[],c=[],d=0;o.length>d;d++)n=o[d].r,l=o[d].t,r=r.replace(n,function(){return h.push("<"+l+">"),c.push("<\/"+l+">"),""});return r=r.replace(\/\\s+style\\s*=\\s*"\\s*"\/i,""),(r?"<span"+r+">":"")+h.join("")+a+c.join("")+(r?"<\/span>":"")}var a=' class="Apple-style-span"',n=settings.listFontsize;if("write"===t)e=e.replace(\/(<(\\\/?)(\\w+))((?:\\s+[\\w\\-:]+\\s*=\\s*(?:"[^"]*"|'[^']*'|[^>\\s]+))*)\\s*((\\\/?)>)\/g,function(e,t,i,s,n,o,l){s=s.toLowerCase(),isMozilla?"strong"===s?s="b":"em"===s&&(s="i"):isWebkit&&("strong"===s?(s="span",i||(n+=a+' style="font-weight: bold;"')):"em"===s?(s="span",i||(n+=a+' style="font-style: italic;"')):"u"===s?(s="span",i||(n+=a+' style="text-decoration: underline;"')):"strike"===s&&(s="span",i||(n+=a+' style="text-decoration: line-through;"')));var r,h="";if("del"===s)s="strike";else if("img"===s)n=n.replace(\/\\s+emot\\s*=\\s*("[^"]*"|'[^']*'|[^>\\s]+)\/i,function(e,t){return r=t.match(\/^(["']?)(.*)\\1\/)[2],r=r.split(","),r[1]||(r[1]=r[0],r[0]=""),"default"===r[0]&&(r[0]=""),settings.emotMark?e:""});else if("a"===s)!n.match(\/ href=[^ ]\/i)&&n.match(\/ name=[^ ]\/i)&&(h+=" xhe-anchor"),l&&(o="><\/a>");else if("table"===s&&!i){var c=n.match(\/\\s+border\\s*=\\s*("[^"]*"|'[^']*'|[^>\\s]+)\/i);(!c||c[1].match(\/^(["']?)\\s*0\\s*\\1$\/))&&(h+=" xhe-border")}var d;if(n=n.replace(\/\\s+([\\w\\-:]+)\\s*=\\s*("[^"]*"|'[^']*'|[^>\\s]+)\/g,function(e,t,i){return t=t.toLowerCase(),i=i.match(\/^(["']?)(.*)\\1\/)[2],aft="",isIE&&t.match(\/^(disabled|checked|readonly|selected)$\/)&&i.match(\/^(false|0)$\/i)?"":"img"===s&&r&&"src"===t?"":(t.match(\/^(src|href)$\/)&&(aft=" _xhe_"+t+'="'+i+'"',urlBase&&(i=getLocalUrl(i,"abs",urlBase))),h&&"class"===t&&(i+=" "+h,h=""),isWebkit&&"style"===t&&"span"===s&&i.match(\/(^|;)\\s*(font-family|font-size|color|background-color)\\s*:\\s*[^;]+\\s*(;|$)\/i)&&(d=!0)," "+t+'="'+i+'"'+aft)}),r){var u=emotPath+(r[0]?r[0]:"default")+"\/"+r[1]+".gif";n+=' src="'+u+'" _xhe_src="'+u+'"'}return d&&(n+=a),h&&(n+=' class="'+h+'"'),"<"+i+s+n+o}),isIE&&(e=e.replace(\/&apos;\/gi,"&#39;")),isWebkit||(e=e.replace(\/<(span)(\\s+[^>]*?)?\\s+style\\s*=\\s*"((?:[^"]*?;)?\\s*(?:font-family|font-size|color)\\s*:[^"]*)"( [^>]*)?>(((?!<\\1(\\s+[^>]*?)?>)[\\s\\S]|<\\1(\\s+[^>]*?)?>((?!<\\1(\\s+[^>]*?)?>)[\\s\\S]|<\\1(\\s+[^>]*?)?>((?!<\\1(\\s+[^>]*?)?>)[\\s\\S])*?<\\\/\\1>)*?<\\\/\\1>)*?)<\\\/\\1>\/gi,i),e=e.replace(\/<(span)(\\s+[^>]*?)?\\s+style\\s*=\\s*"((?:[^"]*?;)?\\s*(?:font-family|font-size|color)\\s*:[^"]*)"( [^>]*)?>(((?!<\\1(\\s+[^>]*?)?>)[\\s\\S]|<\\1(\\s+[^>]*?)?>((?!<\\1(\\s+[^>]*?)?>)[\\s\\S])*?<\\\/\\1>)*?)<\\\/\\1>\/gi,i),e=e.replace(\/<(span)(\\s+[^>]*?)?\\s+style\\s*=\\s*"((?:[^"]*?;)?\\s*(?:font-family|font-size|color)\\s*:[^"]*)"( [^>]*)?>(((?!<\\1(\\s+[^>]*?)?>)[\\s\\S])*?)<\\\/\\1>\/gi,i)),e=e.replace(\/<(td|th)(\\s+[^>]*?)?>(\\s|&nbsp;)*<\\\/\\1>\/gi,"<$1$2>"+(isIE?"":"<br \/>")+"<\/$1>");else{if(isWebkit)for(var o=[{r:\/font-weight\\s*:\\s*bold;?\/gi,t:"strong"},{r:\/font-style\\s*:\\s*italic;?\/gi,t:"em"},{r:\/text-decoration\\s*:\\s*underline;?\/gi,t:"u"},{r:\/text-decoration\\s*:\\s*line-through;?\/gi,t:"strike"}],l=0;2>l;l++)e=e.replace(\/<(span)(\\s+[^>]*?)?\\s+class\\s*=\\s*"Apple-style-span"(\\s+[^>]*?)?>(((?!<\\1(\\s+[^>]*?)?>)[\\s\\S]|<\\1(\\s+[^>]*?)?>((?!<\\1(\\s+[^>]*?)?>)[\\s\\S]|<\\1(\\s+[^>]*?)?>((?!<\\1(\\s+[^>]*?)?>)[\\s\\S])*?<\\\/\\1>)*?<\\\/\\1>)*?)<\\\/\\1>\/gi,s),e=e.replace(\/<(span)(\\s+[^>]*?)?\\s+class\\s*=\\s*"Apple-style-span"(\\s+[^>]*?)?>(((?!<\\1(\\s+[^>]*?)?>)[\\s\\S]|<\\1(\\s+[^>]*?)?>((?!<\\1(\\s+[^>]*?)?>)[\\s\\S])*?<\\\/\\1>)*?)<\\\/\\1>\/gi,s),e=e.replace(\/<(span)(\\s+[^>]*?)?\\s+class\\s*=\\s*"Apple-style-span"(\\s+[^>]*?)?>(((?!<\\1(\\s+[^>]*?)?>)[\\s\\S])*?)<\\\/\\1>\/gi,s);e=e.replace(\/(<(\\w+))((?:\\s+[\\w\\-:]+\\s*=\\s*(?:"[^"]*"|'[^']*'|[^>\\s]+))*)\\s*(\\\/?>)\/g,function(e,t,i,s,a){i=i.toLowerCase();$/;"	p
var.specialKeys.20	js/xheditor.min.js	/^(function(){var e={};window.XHEDITOR=e})(),function(e,t){e.mapLang={},e.setLang=function(i,s){s===t&&(s=i,i=""),""!==i&&(i+=".");var a,n;for(var o in s)n=s[o],a=i+o,"string"==typeof n||n instanceof Array?e.mapLang[a]=n:e.setLang(a,n)},e.getLang=function(i){var s=e.mapLang[i];if(s===t&&(s=i.replace(\/{#([^{}]+)}\/g,function(t,i){var s=e.mapLang[i];return s?s:i})),"string"==typeof s){var a=arguments;s=s.replace(\/{\\$(\\d+)}\/g,function(e,i){var s=a[parseInt(i,10)+1];return s!==t?s:e})}return s}}(XHEDITOR),function(XHEDITOR,$,undefined){var agent=navigator.userAgent.toLowerCase(),bMobile=\/mobile\/i.test(agent),browser=$.browser,browerVer=parseFloat(browser.version),isIE=browser.msie,isMozilla=browser.mozilla,isWebkit=browser.webkit,isOpera=browser.opera,isChrome=browser.chrome,bAir=agent.indexOf(" adobeair\/")>-1,xCount=0,bShowPanel=!1,bClickCancel=!0,bShowModal=!1,bCheckEscInit=!1,_jPanel,_jShadow,_jCntLine,_jPanelButton,jModal,jModalShadow,layerShadow,jOverlay,jHideSelect,onModalRemove,editorRoot,getLang=XHEDITOR.getLang;if($("script[src*=xheditor]").each(function(){var e=this.src;return e.match(\/xheditor[^\\\/]*\\.js\/i)?(editorRoot=e.replace(\/[\\?#].*$\/,"").replace(\/(^|[\\\/\\\\])[^\\\/]*$\/,"$1"),!1):undefined}),isIE){try{document.execCommand("BackgroundImageCache",!1,!0)}catch(e){}var jqueryVer=$.fn.jquery;jqueryVer&&jqueryVer.match(\/^1\\.[67]\/)&&($.attrHooks.width=$.attrHooks.height=null)}var specialKeys={27:"esc",9:"tab",32:"space",13:"enter",8:"backspace",145:"scroll",20:"capslock",144:"numlock",19:"pause",45:"insert",36:"home",46:"del",35:"end",33:"pageup",34:"pagedown",37:"left",38:"up",39:"right",40:"down",112:"f1",113:"f2",114:"f3",115:"f4",116:"f5",117:"f6",118:"f7",119:"f8",120:"f9",121:"f10",122:"f11",123:"f12"},arrAlign=[{v:"justifyleft"},{v:"justifycenter"},{v:"justifyright"},{v:"justifyfull"}],arrList=[{v:"insertOrderedList"},{v:"insertUnorderedList"}],htmlPastetext='<div><label for="xhePastetextValue">{#PastetextTip}<\/label><\/div><div><textarea id="xhePastetextValue" wrap="soft" spellcheck="false" style="width:300px;height:100px;" \/><\/div><div style="text-align:right;"><input type="button" id="xheSave" value="{#dialogOk}" \/><\/div>',htmlLink='<div><label for="xheLinkUrl">{#link.url}<\/label><input type="text" id="xheLinkUrl" value="http:\/\/" class="xheText" \/><\/div><div><label for="xheLinkTarget">{#link.target}<\/label><select id="xheLinkTarget"><option selected="selected" value="">{#default}<\/option><option value="_blank">{#link.targetBlank}<\/option><option value="_self">{#link.targetSelf}<\/option><option value="_parent">{#link.targetParent}<\/option><\/select><\/div><div style="display:none"><label for="xheLinkText">{#link.linkText}<\/label><input type="text" id="xheLinkText" value="" class="xheText" \/><\/div><div style="text-align:right;"><input type="button" id="xheSave" value="{#dialogOk}" \/><\/div>',htmlAnchor='<div><label for="xheAnchorName">{#anchor.name}<\/label><input type="text" id="xheAnchorName" value="" class="xheText" \/><\/div><div style="text-align:right;"><input type="button" id="xheSave" value="{#dialogOk}" \/><\/div>',htmlImg='<div><label for="xheImgUrl">{#img.url}<\/label><input type="text" id="xheImgUrl" value="http:\/\/" class="xheText" \/><\/div><div><div><label for="xheImgAlt">{#img.alt}<\/label><input type="text" id="xheImgAlt" \/><\/div><div><label for="xheImgAlign">{#img.align}<\/label><select id="xheImgAlign"><option selected="selected" value="">{#default}<\/option><option value="left">{#img.alignLeft}<\/option><option value="right">{#img.alignRight}<\/option><option value="top">{#img.alignTop}<\/option><option value="middle">{#img.alignMiddle}<\/option><option value="baseline">{#img.alignBaseline}<\/option><option value="bottom">{#img.alignBottom}<\/option><\/select><\/div><div><label for="xheImgWidth">{#img.width}<\/label><input type="text" id="xheImgWidth" style="width:40px;" \/> <label for="xheImgHeight">{#img.height}<\/label><input type="text" id="xheImgHeight" style="width:40px;" \/><\/div><div><label for="xheImgBorder">{#img.border}<\/label><input type="text" id="xheImgBorder" style="width:40px;" \/><\/div><div><label for="xheImgHspace">{#img.hspace}<\/label><input type="text" id="xheImgHspace" style="width:40px;" \/> <label for="xheImgVspace">{#img.vspace}<\/label><input type="text" id="xheImgVspace" style="width:40px;" \/><\/div><div style="text-align:right;"><input type="button" id="xheSave" value="{#dialogOk}" \/><\/div>',htmlFlash='<div><label for="xheFlashUrl">{#flash.url}<\/label><input type="text" id="xheFlashUrl" value="http:\/\/" class="xheText" \/><\/div><div><label for="xheFlashWidth">{#flash.width}<\/label><input type="text" id="xheFlashWidth" style="width:40px;" value="480" \/> <label for="xheFlashHeight">{#flash.height}<\/label><input type="text" id="xheFlashHeight" style="width:40px;" value="400" \/><\/div><div style="text-align:right;"><input type="button" id="xheSave" value="{#dialogOk}" \/><\/div>',htmlMedia='<div><label for="xheMediaUrl">{#media.url}<\/label><input type="text" id="xheMediaUrl" value="http:\/\/" class="xheText" \/><\/div><div><label for="xheMediaWidth">{#media.width}<\/label><input type="text" id="xheMediaWidth" style="width:40px;" value="480" \/> <label for="xheMediaHeight">{#media.height}<\/label><input type="text" id="xheMediaHeight" style="width:40px;" value="400" \/><\/div><div style="text-align:right;"><input type="button" id="xheSave" value="{#dialogOk}" \/><\/div>',htmlTable='<div><label for="xheTableRows">{#table.rows}<\/label><input type="text" id="xheTableRows" style="width:40px;" value="3" \/> <label for="xheTableColumns">{#table.columns}<\/label><input type="text" id="xheTableColumns" style="width:40px;" value="2" \/><\/div><div><label for="xheTableHeaders">{#table.headers}<\/label><select id="xheTableHeaders"><option selected="selected" value="">{#none}<\/option><option value="row">{#table.headersRow}<\/option><option value="col">{#table.headersCol}<\/option><option value="both">{#table.headersBoth}<\/option><\/select><\/div><div><label for="xheTableWidth">{#table.width}<\/label><input type="text" id="xheTableWidth" style="width:40px;" value="200" \/> <label for="xheTableHeight">{#table.height}<\/label><input type="text" id="xheTableHeight" style="width:40px;" value="" \/><\/div><div><label for="xheTableBorder">{#table.border}<\/label><input type="text" id="xheTableBorder" style="width:40px;" value="1" \/><\/div><div><label for="xheTableCellSpacing">{#table.cellSpacing}<\/label><input type="text" id="xheTableCellSpacing" style="width:40px;" value="1" \/> <label for="xheTableCellPadding">{#table.cellPadding}<\/label><input type="text" id="xheTableCellPadding" style="width:40px;" value="1" \/><\/div><div><label for="xheTableAlign">{#table.align}<\/label><select id="xheTableAlign"><option selected="selected" value="">{#default}<\/option><option value="left">{#table.alignLeft}<\/option><option value="center">{#table.alignCenter}<\/option><option value="right">{#table.alignRight}<\/option><\/select><\/div><div><label for="xheTableCaption">{#table.caption}<\/label><input type="text" id="xheTableCaption" \/><\/div><div style="text-align:right;"><input type="button" id="xheSave" value="{#dialogOk}" \/><\/div>',htmlAbout='<div style="font:12px Arial;width:245px;word-wrap:break-word;word-break:break-all;outline:none;" role="dialog" tabindex="-1"><p><span style="font-size:20px;color:#1997DF;">xhEditor<\/span><br \/>v1.2.1 (build 130225)<\/p><p>{#aboutXheditor}<\/p><p>Copyright &copy; <a href="http:\/\/xheditor.com\/" target="_blank">xhEditor.com<\/a>. All rights reserved.<\/p><\/div>',itemEmots={"default":{name:"{#default}",width:24,height:24,line:7,list:["smile","tongue","titter","laugh","sad","wronged","fastcry","cry","wail","mad","knock","curse","crazy","angry","ohmy","awkward","panic","shy","cute","envy","proud","struggle","quiet","shutup","doubt","despise","sleep","bye"]}},arrTools={Cut:{t:"Cut"},Copy:{t:"Copy"},Paste:{t:"Paste"},Pastetext:{t:"Pastetext",h:isIE?0:1},Blocktag:{t:"Blocktag",h:1},Fontface:{t:"Fontface",h:1},FontSize:{t:"FontSize",h:1},Bold:{t:"Bold",s:"Ctrl+B"},Italic:{t:"Italic",s:"Ctrl+I"},Underline:{t:"Underline",s:"Ctrl+U"},Strikethrough:{t:"Strikethrough"},FontColor:{t:"FontColor",h:1},BackColor:{t:"BackColor",h:1},SelectAll:{t:"SelectAll"},Removeformat:{t:"Removeformat"},Align:{t:"Align",h:1},List:{t:"List",h:1},Outdent:{t:"Outdent"},Indent:{t:"Indent"},Link:{t:"Link",s:"Ctrl+L",h:1},Unlink:{t:"Unlink"},Anchor:{t:"Anchor",h:1},Img:{t:"Img",h:1},Flash:{t:"Flash",h:1},Media:{t:"Media",h:1},Hr:{t:"Hr"},Emot:{t:"Emot",s:"ctrl+e",h:1},Table:{t:"Table",h:1},Source:{t:"Source"},Preview:{t:"Preview"},Print:{t:"Print",s:"Ctrl+P"},Fullscreen:{t:"Fullscreen",s:"Esc"},About:{t:"About"}},toolsThemes={mini:"Bold,Italic,Underline,Strikethrough,|,Align,List,|,Link,Img",simple:"Blocktag,Fontface,FontSize,Bold,Italic,Underline,Strikethrough,FontColor,BackColor,|,Align,List,Outdent,Indent,|,Link,Img,Emot",full:"Cut,Copy,Paste,Pastetext,|,Blocktag,Fontface,FontSize,Bold,Italic,Underline,Strikethrough,FontColor,BackColor,SelectAll,Removeformat,|,Align,List,Outdent,Indent,|,Link,Unlink,Anchor,Img,Flash,Media,Hr,Emot,Table,|,Source,Preview,Print,Fullscreen"};toolsThemes.mfull=toolsThemes.full.replace(\/\\|(,Align)\/i,"\/$1");var arrDbClick={a:"Link",img:"Img",embed:"Embed"},uploadInputname="filedata",arrEntities={"<":"&lt;",">":"&gt;",'"':"&quot;","\\u00ae":"&reg;","\\u00a9":"&copy;"},regEntities=\/[<>"\\u00ae\\u00a9]\/g,Xheditor=function(textarea,options){function checkDblClick(e){var t=e.target,i=arrDbClick[t.tagName.toLowerCase()];if(i){if("Embed"===i){var s={"application\/x-shockwave-flash":"Flash","application\/x-mplayer2":"Media"};i=s[t.type.toLowerCase()]}_this.exec(i)}}function checkEsc(e){return 27===e.which?(bShowModal?_this.removeModal():bShowPanel&&_this.hidePanel(),!1):undefined}function loadReset(){setTimeout(_this.setSource,10)}function saveResult(){_this.getSource()}function cleanPaste(e){var t,i,s;if(e&&(t=e.originalEvent.clipboardData)&&(i=t.items)&&(s=i[0])&&"file"==s.kind&&s.type.match(\/^image\\\/\/i)){var a=s.getAsFile(),n=new FileReader;return n.onload=function(){var e='<img src="'+event.target.result+'">';e=replaceRemoteImg(e),_this.pasteHTML(e)},n.readAsDataURL(a),!1}var o=settings.cleanPaste;if(0===o||bSource||bCleanPaste)return!0;bCleanPaste=!0,_this.saveBookmark();var l=isIE?"pre":"div",r=$("<"+l+' class="xhe-paste">\\ufeff\\ufeff<\/'+l+">",_doc).appendTo(_doc.body),h=r[0],c=_this.getSel(),d=_this.getRng(!0);r.css("top",_jWin.scrollTop()),isIE?(d.moveToElementText(h),d.select()):(d.selectNodeContents(h),c.removeAllRanges(),c.addRange(d)),setTimeout(function(){var e,t=3===o;if(t)r.html(r.html().replace(\/<br(\\s+[^<>]*)?>\/gi,"\\n")),e=r.text();else{var i=$(".xhe-paste",_doc.body),s=[];i.each(function(e,t){0==$(t).find(".xhe-paste").length&&s.push(t.innerHTML)}),e=s.join("<br \/>")}r.remove(),_this.loadBookmark(),e=e.replace(\/^[\\s\\uFEFF]+|[\\s\\uFEFF]+$\/g,""),e&&(t?_this.pasteText(e):(e=_this.cleanHTML(e),e=_this.cleanWord(e),e=_this.formatXHTML(e),(!settings.onPaste||settings.onPaste&&(e=settings.onPaste(e))!==!1)&&(e=replaceRemoteImg(e),_this.pasteHTML(e)))),bCleanPaste=!1},0)}function replaceRemoteImg(e){var t=settings.localUrlTest,i=settings.remoteImgSaveUrl;if(t&&i){var s=[],a=0;e=e.replace(\/(<img)((?:\\s+[^>]*?)?(?:\\s+src="\\s*([^"]+)\\s*")(?: [^>]*)?)(\\\/?>)\/gi,function(e,i,n,o,l){return!\/^(https?|data:image)\/i.test(o)||\/_xhe_temp\/.test(n)||t.test(o)||(s[a]=o,n=n.replace(\/\\s+(width|height)="[^"]*"\/gi,"").replace(\/\\s+src="[^"]*"\/gi,' src="'+skinPath+'img\/waiting.gif" remoteimg="'+a++ +'"')),i+n+l}),s.length>0&&$.post(i,{urls:s.join("|")},function(e){e=e.split("|"),$("img[remoteimg]",_this.doc).each(function(){var t=$(this);xheAttr(t,"src",e[t.attr("remoteimg")]),t.removeAttr("remoteimg")})})}return e}function setCSS(e){try{_this._exec("styleWithCSS",e,!0)}catch(t){try{_this._exec("useCSS",!e,!0)}catch(t){}}}function setOpts(){if(bInit&&!bSource){setCSS(!1);try{_this._exec("enableObjectResizing",!0,!0)}catch(e){}if(isIE)try{_this._exec("BackgroundImageCache",!0,!0)}catch(e){}}}function forcePtag(e){if(bSource||13!==e.which||e.shiftKey||e.ctrlKey||e.altKey)return!0;var t=_this.getParent("p,h1,h2,h3,h4,h5,h6,pre,address,div,li");return t.is("li")?!0:settings.forcePtag?(0===t.length&&_this._exec("formatblock","<p>"),undefined):(_this.pasteHTML("<br \/>"),isIE&&t.length>0&&2===_this.getRng().parentElement().childNodes.length&&_this.pasteHTML("<br \/>"),!1)}function fixFullHeight(){isMozilla||isWebkit||(bFullscreen&&_jArea.height("100%").css("height",_jArea.outerHeight()-_jTools.outerHeight()),isIE&&_jTools.hide().show())}function fixAppleSel(e){if(e=e.target,e.tagName.match(\/(img|embed)\/i)){var t=_this.getSel(),i=_this.getRng(!0);i.selectNode(e),t.removeAllRanges(),t.addRange(i)}}function xheAttr(e,t,i){if(!t)return!1;var s="_xhe_"+t;return i&&(urlType&&(i=getLocalUrl(i,urlType,urlBase)),e.attr(t,urlBase?getLocalUrl(i,"abs",urlBase):i).removeAttr(s).attr(s,i)),e.attr(s)||e.attr(t)}function clickCancelPanel(){bClickCancel&&_this.hidePanel()}function checkShortcuts(e){if(bSource)return!0;var t=e.which,i=specialKeys[t],s=i?i:String.fromCharCode(t).toLowerCase();sKey="",sKey+=e.ctrlKey?"ctrl+":"",sKey+=e.altKey?"alt+":"",sKey+=e.shiftKey?"shift+":"",sKey+=s;var a,n=arrShortCuts[sKey];for(a in n){if(a=n[a],!$.isFunction(a))return _this.exec(a),!1;if(a.call(_this)===!1)return!1}}function is(e,t){var i=typeof e;return t?"array"===t&&e.hasOwnProperty&&e instanceof Array?!0:i===t:"undefined"!=i}function getLocalUrl(e,t,i){if(e.match(\/^(\\w+):\\\/\\\/\/i)&&!e.match(\/^https?:\/i)||\/^#\/i.test(e)||\/^data:\/i.test(e))return e;var s=i?$('<a href="'+i+'" \/>')[0]:location,a=s.protocol,n=s.host,o=s.hostname,l=s.port,r=s.pathname.replace(\/\\\\\/g,"\/").replace(\/[^\\\/]+$\/i,"");if(""===l&&(l="80"),""===r?r="\/":"\/"!==r.charAt(0)&&(r="\/"+r),e=$.trim(e),"abs"!==t&&(e=e.replace(RegExp(a+"\\\\\/\\\\\/"+o.replace(\/\\.\/g,"\\\\.")+"(?::"+l+")"+("80"===l?"?":"")+"(\/|$)","i"),"\/")),"rel"===t&&(e=e.replace(RegExp("^"+r.replace(\/([\\\/\\.\\+\\[\\]\\(\\)])\/g,"\\\\$1"),"i"),"")),"rel"!==t&&(e.match(\/^(https?:\\\/\\\/|\\\/)\/i)||(e=r+e),"\/"===e.charAt(0))){var h,c,d=[],u=e.split("\/"),p=u.length;for(c=0;p>c;c++)h=u[c],".."===h?d.pop():""!==h&&"."!==h&&d.push(h);""===u[p-1]&&d.push(""),e="\/"+d.join("\/")}return"abs"!==t||e.match(\/^https?:\\\/\\\/\/i)||(e=a+"\/\/"+n+e),e=e.replace(\/(https?:\\\/\\\/[^:\\\/?#]+):80(\\\/|$)\/i,"$1$2")}function checkFileExt(e,t){return"*"===t||e.match(RegExp(".("+t.replace(\/,\/g,"|")+")$","i"))?!0:(alert(getLang("upload.extLimit",t)),!1)}function formatBytes(e){var t=["Byte","KB","MB","GB","TB","PB"],i=Math.floor(Math.log(e)\/Math.log(1024));return(e\/Math.pow(1024,Math.floor(i))).toFixed(2)+t[i]}function returnFalse(){return!1}var _this=this,_text=textarea,_jText=$(_text),_jForm=_jText.closest("form"),_jTools,_jArea,_win,_jWin,_doc,_jDoc,bookmark,bInit=!1,bSource=!1,bFullscreen=!1,bCleanPaste=!1,outerScroll,bShowBlocktag=!1,sLayoutStyle="",ev=null,timer,bDisableHoverExec=!1,bQuickHoverExec=!1,lastPoint=null,lastAngle=null,editorHeight=0,settings=_this.settings=$.extend({},XHEDITOR.settings,options),plugins=settings.plugins,strPlugins=[];if(plugins&&(arrTools=$.extend({},arrTools,plugins),$.each(plugins,function(e){strPlugins.push(e)}),strPlugins=strPlugins.join(",")),settings.tools.match(\/^\\s*(m?full|simple|mini)\\s*$\/i)){var toolsTheme=toolsThemes[$.trim(settings.tools)];settings.tools=settings.tools.match(\/m?full\/i)&&plugins?toolsTheme.replace("Table","Table,"+strPlugins):toolsTheme}settings.tools.match(\/(^|,)\\s*About\\s*(,|$)\/i)||(settings.tools+=",About"),settings.tools=settings.tools.split(","),settings.editorRoot&&(editorRoot=settings.editorRoot),bAir===!1&&(editorRoot=getLocalUrl(editorRoot,"abs")),settings.urlBase&&(settings.urlBase=getLocalUrl(settings.urlBase,"abs"));var idCSS="xheCSS_"+settings.skin,idContainer="xhe"+xCount+"_container",idTools="xhe"+xCount+"_Tool",idIframeArea="xhe"+xCount+"_iframearea",idIframe="xhe"+xCount+"_iframe",idFixFFCursor="xhe"+xCount+"_fixffcursor",headHTML="",bodyClass="",skinPath=editorRoot+"xheditor_skin\/"+settings.skin+"\/",arrEmots=itemEmots,urlType=settings.urlType,urlBase=settings.urlBase,emotPath=settings.emotPath,emotPath=emotPath?emotPath:editorRoot+"xheditor_emot\/",selEmotGroup="";arrEmots=$.extend({},arrEmots,settings.emots),emotPath=getLocalUrl(emotPath,"rel",urlBase?urlBase:null),bShowBlocktag=settings.showBlocktag,bShowBlocktag&&(bodyClass+=" showBlocktag");var arrShortCuts=[];this.init=function(){function e(e){var t,i=$(e.target);(t=i.css("width"))&&i.css("width","").attr("width",t.replace(\/[^0-9%]+\/g,"")),(t=i.css("height"))&&i.css("height","").attr("height",t.replace(\/[^0-9%]+\/g,""))}0===$("#"+idCSS).length&&$("head").append('<link id="'+idCSS+'" rel="stylesheet" type="text\/css" href="'+skinPath+'ui.css" \/>');var t=_jText.outerWidth(),i=_jText.outerHeight(),s=settings.width||_text.style.width||(t>10?t:0);editorHeight=settings.height||_text.style.height||(i>10?i:150),\/^\\d+(?:\\.\\d+)?$\/.test(s)&&(s+="px"),is(editorHeight,"string")&&(editorHeight=editorHeight.replace(\/[^\\d]+\/g,""));var a,n,o=settings.background||_text.style.background,l=['<span class="xheGStart"\/>'],r=\/\\||\\\/\/i;$.each(settings.tools,function(e,t){if(t.match(r)&&l.push('<span class="xheGEnd"\/>'),"|"===t)l.push('<span class="xheSeparator"\/>');else if("\/"===t)l.push("<br \/>");else{if(a=arrTools[t],!a)return;n=a.c?a.c:"xheIcon xheBtn"+t,l.push('<span><a href="#" title="{#'+a.t+'}" cmd="'+t+'" class="xheButton xheEnabled" tabindex="-1" role="button"><span class="'+n+'" unselectable="on" style="font-size:0;color:transparent;text-indent:-999px;">'+a.t+"<\/span><\/a><\/span>"),a.s&&_this.addShortcuts(a.s,t)}t.match(r)&&l.push('<span class="xheGStart"\/>')}),l.push('<span class="xheGEnd"\/><br \/>'),_jText.after($('<input type="text" id="'+idFixFFCursor+'" style="position:absolute;display:none;" \/><span id="'+idContainer+'" class="xhe_'+settings.skin+'" style="display:none"><table cellspacing="0" cellpadding="0" class="xheLayout" style="'+("0px"!=s?"width:"+s+";":"")+"height:"+editorHeight+'px;" role="presentation"><tr><td id="'+idTools+'" class="xheTool" unselectable="on" style="height:1px;" role="presentation"><\/td><\/tr><tr><td id="'+idIframeArea+'" class="xheIframeArea" role="presentation"><iframe frameborder="0" id="'+idIframe+'" src="javascript:;" style="width:100%;"><\/iframe><\/td><\/tr><\/table><\/span>')),_jTools=$("#"+idTools),_jArea=$("#"+idIframeArea),headHTML='<meta http-equiv="Content-Type" content="text\/html; charset=utf-8" \/><link rel="stylesheet" href="'+skinPath+'iframe.css"\/>';var h=settings.loadCSS;if(h)if(is(h,"array"))for(var c in h)headHTML+='<link rel="stylesheet" href="'+h[c]+'"\/>';else headHTML+=h.match(\/\\s*<style(\\s+[^>]*?)?>[\\s\\S]+?<\\\/style>\\s*\/i)?h:'<link rel="stylesheet" href="'+h+'"\/>';var d='<!DOCTYPE html><html xmlns="http:\/\/www.w3.org\/1999\/xhtml"><head>'+headHTML+"<title>{#defaultReadTip} "+(settings.readTip?settings.readTip:"")+"<\/title>";o&&(d+="<style>html{background:"+o+";}<\/style>"),d+='<\/head><body spellcheck="0" class="editMode'+bodyClass+'"><\/body><\/html>',_this.win=_win=$("#"+idIframe)[0].contentWindow,_jWin=$(_win);try{this.doc=_doc=_win.document,_jDoc=$(_doc),_doc.open(),_doc.write(getLang(d)),_doc.close(),isIE?_doc.body.contentEditable="true":_doc.designMode="On"}catch(u){}setTimeout(setOpts,300),_this.setSource(),_win.setInterval=null,_jTools.append(getLang(l.join(""))).bind("mousedown contextmenu",returnFalse).click(function(e){var t=$(e.target).closest("a");return t.is(".xheEnabled")&&(clearTimeout(timer),_jTools.find("a").attr("tabindex","-1"),ev=e,_this.exec(t.attr("cmd"))),!1}),_jTools.find(".xheButton").hover(function(e){var t=$(this),i=settings.hoverExecDelay,s=lastAngle;if(lastAngle=null,-1===i||bDisableHoverExec||!t.is(".xheEnabled"))return!1;if(s&&s>10)return bDisableHoverExec=!0,setTimeout(function(){bDisableHoverExec=!1},100),!1;var a=t.attr("cmd"),n=1===arrTools[a].h;return n?(bQuickHoverExec&&(i=0),i>=0&&(timer=setTimeout(function(){ev=e,lastPoint={x:ev.clientX,y:ev.clientY},_this.exec(a)},i)),undefined):(_this.hidePanel(),!1)},function(){lastPoint=null,timer&&clearTimeout(timer)}).mousemove(function(e){if(lastPoint){var t={x:e.clientX-lastPoint.x,y:e.clientY-lastPoint.y};if(Math.abs(t.x)>1||Math.abs(t.y)>1){if(t.x>0&&t.y>0){var i=Math.round(Math.atan(t.y\/t.x)\/.017453293);lastAngle=lastAngle?(lastAngle+i)\/2:i}else lastAngle=null;lastPoint={x:e.clientX,y:e.clientY}}}}),_jPanel=$("#xhePanel"),_jShadow=$("#xheShadow"),_jCntLine=$("#xheCntLine"),0===_jPanel.length&&(_jPanel=$('<div id="xhePanel"><\/div>').mousedown(function(e){e.stopPropagation()}),_jShadow=$('<div id="xheShadow"><\/div>'),_jCntLine=$('<div id="xheCntLine"><\/div>'),setTimeout(function(){$(document.body).append(_jPanel).append(_jShadow).append(_jCntLine)},10)),$("#"+idContainer).show(),_jText.hide(),_jArea.css("height",editorHeight-_jTools.outerHeight()),isIE&8>browerVer&&setTimeout(function(){_jArea.css("height",editorHeight-_jTools.outerHeight())},1),_jText.focus(_this.focus),_jForm.submit(saveResult).bind("reset",loadReset),settings.submitID&&$("#"+settings.submitID).mousedown(saveResult),$(window).bind("unload beforeunload",saveResult).bind("resize",fixFullHeight),$(document).mousedown(clickCancelPanel),bCheckEscInit||($(document).keydown(checkEsc),bCheckEscInit=!0),_jWin.focus(function(){settings.focus&&settings.focus()}).blur(function(){settings.blur&&settings.blur()}),isWebkit&&_jWin.click(fixAppleSel),_jDoc.mousedown(clickCancelPanel).keydown(checkShortcuts).keypress(forcePtag).dblclick(checkDblClick).bind("mousedown click",function(e){_jText.trigger(e.type)}),isIE&&(_jDoc.keydown(function(e){var t=_this.getRng();return 8===e.which&&t.item?($(t.item(0)).remove(),!1):undefined}),_jDoc.bind("controlselect",function(t){t=t.target,$.nodeName(t,"IMG")&&$(t).unbind("resizeend",e).bind("resizeend",e)})),_jDoc.keydown(function(e){var t=e.which;return e.altKey&&t>=49&&57>=t?(_jTools.find("a").attr("tabindex","0"),_jTools.find(".xheGStart").eq(t-49).next().find("a").focus(),_doc.title="\\ufeff\\ufeff",!1):undefined}).click(function(){_jTools.find("a").attr("tabindex","-1")}),_jTools.keydown(function(e){var t=e.which;if(27==t)_jTools.find("a").attr("tabindex","-1"),_this.focus();else if(e.altKey&&t>=49&&57>=t)return _jTools.find(".xheGStart").eq(t-49).next().find("a").focus(),!1});var p=$(_doc.documentElement);isOpera?p.bind("keydown",function(e){e.ctrlKey&&86===e.which&&cleanPaste()}):p.bind(isIE?"beforepaste":"paste",cleanPaste),settings.disableContextmenu&&p.bind("contextmenu",returnFalse),settings.html5Upload&&p.bind("dragenter dragover",function(e){var t;return(t=e.originalEvent.dataTransfer.types)&&-1!==$.inArray("Files",t)?!1:undefined}).bind("drop",function(e){function t(e){var t,i,s;for(a=0;e.length>a;a++){if(i=e[a].name.replace(\/.+\\.\/,""),!(t=o.match(RegExp("(\\\\w+):[^:]*,"+i+"(?:,|$)","i"))))return 1;if(s){if(s!==t[1])return 2}else s=t[1]}return s}var i,s=e.originalEvent.dataTransfer;if(s&&(i=s.files)&&i.length>0){var a,n,o,l=["Link","Img","Flash","Media"],r=[];for(a in l)n=l[a],settings["up"+n+"Url"]&&settings["up"+n+"Url"].match(\/^[^!].*\/i)&&r.push(n+":,"+settings["up"+n+"Ext"]);return 0===r.length?!1:(o=r.join(","),n=t(i),1===n?alert(getLang("upload.extLimit",o.replace(\/\\w+:,\/g,""))):2===n?alert(getLang("upload.typeLimit")):n&&_this.startUpload(i,settings["up"+n+"Url"],"*",function(e){var t,i=[],s=settings.onUpload;s&&s(e);for(var a=0,o=e.length;o>a;a++)t=e[a],url=is(t,"string")?t:t.url,"!"===url.substr(0,1)&&(url=url.substr(1)),i.push(url);_this.exec(n),$("#xhe"+n+"Url").val(i.join(" ")),$("#xheSave").click()}),!1)}});var g=settings.shortcuts;g&&$.each(g,function(e,t){_this.addShortcuts(e,t)}),xCount++,bInit=!0,settings.fullscreen?_this.toggleFullscreen():settings.sourceMode&&setTimeout(_this.toggleSource,20);var f=settings.plugins;return f&&$.each(f,function(e,t){var i=t.i;i!==undefined&&i(_this)}),!0},this.remove=function(){_this.hidePanel(),saveResult(),_jText.unbind("focus",_this.focus),_jForm.unbind("submit",saveResult).unbind("reset",loadReset),settings.submitID&&$("#"+settings.submitID).unbind("mousedown",saveResult),$(window).unbind("unload beforeunload",saveResult).unbind("resize",fixFullHeight),$(document).unbind("mousedown",clickCancelPanel),$("#"+idContainer).remove(),$("#"+idFixFFCursor).remove(),_jText.show(),bInit=!1},this.saveBookmark=function(){if(!bSource){_this.focus();var e=_this.getRng();e=e.cloneRange?e.cloneRange():e,bookmark={top:_jWin.scrollTop(),rng:e}}},this.loadBookmark=function(){if(!bSource&&bookmark){_this.focus();var e=bookmark.rng;if(isIE)e.select();else{var t=_this.getSel();t.removeAllRanges(),t.addRange(e)}_jWin.scrollTop(bookmark.top),bookmark=null}},this.focus=function(){if(bSource?$("#sourceCode",_doc).focus():_win.focus(),isIE){var e=_this.getRng();e.parentElement&&e.parentElement().ownerDocument!==_doc&&_this.setTextCursor()}return!1},this.setTextCursor=function(e){var t=_this.getRng(!0),i=_doc.body;if(isIE)t.moveToElementText(i);else{for(var s=e?"lastChild":"firstChild";3!=i.nodeType&&i[s];)i=i[s];t.selectNode(i)}if(t.collapse(e?!1:!0),isIE)t.select();else{var a=_this.getSel();a.removeAllRanges(),a.addRange(t)}},this.getSel=function(){return _doc.selection?_doc.selection:_win.getSelection()},this.getRng=function(e){var t,i;try{e||(t=_this.getSel(),i=t.createRange?t.createRange():t.rangeCount>0?t.getRangeAt(0):null),i||(i=_doc.body.createTextRange?_doc.body.createTextRange():_doc.createRange())}catch(s){}return i},this.getParent=function(e){var t,i=_this.getRng();return isIE?t=i.item?i.item(0):i.parentElement():(t=i.commonAncestorContainer,i.collapsed||i.startContainer===i.endContainer&&2>i.startOffset-i.endOffset&&i.startContainer.hasChildNodes()&&(t=i.startContainer.childNodes[i.startOffset])),e=e?e:"*",t=$(t),t.is(e)||(t=$(t).closest(e)),t},this.getSelect=function(e){var t=_this.getSel(),i=_this.getRng(),s=!0;if(s=!i||i.item?!1:!t||0===i.boundingWidth||i.collapsed,"text"===e)return s?"":i.text||(t.toString?""+t:"");var a;if(i.cloneContents){var n,o=$("<div><\/div>");n=i.cloneContents(),n&&o.append(n),a=o.html()}else a=is(i.item)?i.item(0).outerHTML:is(i.htmlText)?i.htmlText:""+i;return s&&(a=""),a=_this.processHTML(a,"read"),a=_this.cleanHTML(a),a=_this.formatXHTML(a)},this.pasteHTML=function(e,t){if(bSource)return!1;_this.focus(),e=_this.processHTML(e,"write");var i=_this.getSel(),s=_this.getRng();if(t!==undefined){if(s.item){var a=s.item(0);s=_this.getRng(!0),s.moveToElementText(a),s.select()}s.collapse(t)}if(e+="<"+(isIE?"img":"span")+' id="_xhe_temp" width="0" height="0" \/>',s.insertNode){if($(s.startContainer).closest("style,script").length>0)return!1;s.deleteContents(),s.insertNode(s.createContextualFragment(e))}else"control"===i.type.toLowerCase()&&(i.clear(),s=_this.getRng()),s.pasteHTML(e);var n=$("#_xhe_temp",_doc),o=n[0];isIE?(s.moveToElementText(o),s.select()):(s.selectNode(o),i.removeAllRanges(),i.addRange(s)),n.remove()},this.pasteText=function(e,t){e||(e=""),e=_this.domEncode(e),e=e.replace(\/\\r?\\n\/g,"<br \/>"),_this.pasteHTML(e,t)},this.appendHTML=function(e){return bSource?!1:(_this.focus(),e=_this.processHTML(e,"write"),$(_doc.body).append(e),_this.setTextCursor(!0),undefined)},this.domEncode=function(e){return e.replace(regEntities,function(e){return arrEntities[e]})},this.setSource=function(e){bookmark=null,"string"!=typeof e&&""!==e&&(e=_text.value),bSource?$("#sourceCode",_doc).val(e):(settings.beforeSetSource&&(e=settings.beforeSetSource(e)),e=_this.cleanHTML(e),e=_this.formatXHTML(e),e=_this.processHTML(e,"write"),isIE?(_doc.body.innerHTML='<img id="_xhe_temp" width="0" height="0" \/>'+e,$("#_xhe_temp",_doc).remove()):_doc.body.innerHTML=e)},this.processHTML=function(e,t){function i(e,t,i,s,a,o){var l,r,h,c,d="";if(l=s.match(\/font-family\\s*:\\s*([^;"]+)\/i),l&&(d+=' face="'+l[1]+'"'),r=s.match(\/font-size\\s*:\\s*([^;"]+)\/i)){r=r[1].toLowerCase();for(var u=0;n.length>u;u++)if(r===n[u].n||r===n[u].s){h=u+1;break}h&&(d+=' size="'+h+'"',s=s.replace(\/(^|;)(\\s*font-size\\s*:\\s*[^;"]+;?)+\/gi,"$1"))}if(c=s.match(\/(?:^|[\\s;])color\\s*:\\s*([^;"]+)\/i)){var p;if(p=c[1].match(\/\\s*rgb\\s*\\(\\s*(\\d+)\\s*,\\s*(\\d+)\\s*,\\s*(\\d+)\\s*\\)\/i)){c[1]="#";for(var g=1;3>=g;g++)c[1]+=("0"+(p[g]-0).toString(16)).slice(-2)}c[1]=c[1].replace(\/^#([0-9a-f])([0-9a-f])([0-9a-f])$\/i,"#$1$1$2$2$3$3"),d+=' color="'+c[1]+'"'}return s=s.replace(\/(^|;)(\\s*(font-family|color)\\s*:\\s*[^;"]+;?)+\/gi,"$1"),""!==d?(s&&(d+=' style="'+s+'"'),"<font"+(i?i:"")+d+(a?a:"")+">"+o+"<\/font>"):e}function s(e,t,i,s,a){for(var n,l,r=(i?i:"")+(s?s:""),h=[],c=[],d=0;o.length>d;d++)n=o[d].r,l=o[d].t,r=r.replace(n,function(){return h.push("<"+l+">"),c.push("<\/"+l+">"),""});return r=r.replace(\/\\s+style\\s*=\\s*"\\s*"\/i,""),(r?"<span"+r+">":"")+h.join("")+a+c.join("")+(r?"<\/span>":"")}var a=' class="Apple-style-span"',n=settings.listFontsize;if("write"===t)e=e.replace(\/(<(\\\/?)(\\w+))((?:\\s+[\\w\\-:]+\\s*=\\s*(?:"[^"]*"|'[^']*'|[^>\\s]+))*)\\s*((\\\/?)>)\/g,function(e,t,i,s,n,o,l){s=s.toLowerCase(),isMozilla?"strong"===s?s="b":"em"===s&&(s="i"):isWebkit&&("strong"===s?(s="span",i||(n+=a+' style="font-weight: bold;"')):"em"===s?(s="span",i||(n+=a+' style="font-style: italic;"')):"u"===s?(s="span",i||(n+=a+' style="text-decoration: underline;"')):"strike"===s&&(s="span",i||(n+=a+' style="text-decoration: line-through;"')));var r,h="";if("del"===s)s="strike";else if("img"===s)n=n.replace(\/\\s+emot\\s*=\\s*("[^"]*"|'[^']*'|[^>\\s]+)\/i,function(e,t){return r=t.match(\/^(["']?)(.*)\\1\/)[2],r=r.split(","),r[1]||(r[1]=r[0],r[0]=""),"default"===r[0]&&(r[0]=""),settings.emotMark?e:""});else if("a"===s)!n.match(\/ href=[^ ]\/i)&&n.match(\/ name=[^ ]\/i)&&(h+=" xhe-anchor"),l&&(o="><\/a>");else if("table"===s&&!i){var c=n.match(\/\\s+border\\s*=\\s*("[^"]*"|'[^']*'|[^>\\s]+)\/i);(!c||c[1].match(\/^(["']?)\\s*0\\s*\\1$\/))&&(h+=" xhe-border")}var d;if(n=n.replace(\/\\s+([\\w\\-:]+)\\s*=\\s*("[^"]*"|'[^']*'|[^>\\s]+)\/g,function(e,t,i){return t=t.toLowerCase(),i=i.match(\/^(["']?)(.*)\\1\/)[2],aft="",isIE&&t.match(\/^(disabled|checked|readonly|selected)$\/)&&i.match(\/^(false|0)$\/i)?"":"img"===s&&r&&"src"===t?"":(t.match(\/^(src|href)$\/)&&(aft=" _xhe_"+t+'="'+i+'"',urlBase&&(i=getLocalUrl(i,"abs",urlBase))),h&&"class"===t&&(i+=" "+h,h=""),isWebkit&&"style"===t&&"span"===s&&i.match(\/(^|;)\\s*(font-family|font-size|color|background-color)\\s*:\\s*[^;]+\\s*(;|$)\/i)&&(d=!0)," "+t+'="'+i+'"'+aft)}),r){var u=emotPath+(r[0]?r[0]:"default")+"\/"+r[1]+".gif";n+=' src="'+u+'" _xhe_src="'+u+'"'}return d&&(n+=a),h&&(n+=' class="'+h+'"'),"<"+i+s+n+o}),isIE&&(e=e.replace(\/&apos;\/gi,"&#39;")),isWebkit||(e=e.replace(\/<(span)(\\s+[^>]*?)?\\s+style\\s*=\\s*"((?:[^"]*?;)?\\s*(?:font-family|font-size|color)\\s*:[^"]*)"( [^>]*)?>(((?!<\\1(\\s+[^>]*?)?>)[\\s\\S]|<\\1(\\s+[^>]*?)?>((?!<\\1(\\s+[^>]*?)?>)[\\s\\S]|<\\1(\\s+[^>]*?)?>((?!<\\1(\\s+[^>]*?)?>)[\\s\\S])*?<\\\/\\1>)*?<\\\/\\1>)*?)<\\\/\\1>\/gi,i),e=e.replace(\/<(span)(\\s+[^>]*?)?\\s+style\\s*=\\s*"((?:[^"]*?;)?\\s*(?:font-family|font-size|color)\\s*:[^"]*)"( [^>]*)?>(((?!<\\1(\\s+[^>]*?)?>)[\\s\\S]|<\\1(\\s+[^>]*?)?>((?!<\\1(\\s+[^>]*?)?>)[\\s\\S])*?<\\\/\\1>)*?)<\\\/\\1>\/gi,i),e=e.replace(\/<(span)(\\s+[^>]*?)?\\s+style\\s*=\\s*"((?:[^"]*?;)?\\s*(?:font-family|font-size|color)\\s*:[^"]*)"( [^>]*)?>(((?!<\\1(\\s+[^>]*?)?>)[\\s\\S])*?)<\\\/\\1>\/gi,i)),e=e.replace(\/<(td|th)(\\s+[^>]*?)?>(\\s|&nbsp;)*<\\\/\\1>\/gi,"<$1$2>"+(isIE?"":"<br \/>")+"<\/$1>");else{if(isWebkit)for(var o=[{r:\/font-weight\\s*:\\s*bold;?\/gi,t:"strong"},{r:\/font-style\\s*:\\s*italic;?\/gi,t:"em"},{r:\/text-decoration\\s*:\\s*underline;?\/gi,t:"u"},{r:\/text-decoration\\s*:\\s*line-through;?\/gi,t:"strike"}],l=0;2>l;l++)e=e.replace(\/<(span)(\\s+[^>]*?)?\\s+class\\s*=\\s*"Apple-style-span"(\\s+[^>]*?)?>(((?!<\\1(\\s+[^>]*?)?>)[\\s\\S]|<\\1(\\s+[^>]*?)?>((?!<\\1(\\s+[^>]*?)?>)[\\s\\S]|<\\1(\\s+[^>]*?)?>((?!<\\1(\\s+[^>]*?)?>)[\\s\\S])*?<\\\/\\1>)*?<\\\/\\1>)*?)<\\\/\\1>\/gi,s),e=e.replace(\/<(span)(\\s+[^>]*?)?\\s+class\\s*=\\s*"Apple-style-span"(\\s+[^>]*?)?>(((?!<\\1(\\s+[^>]*?)?>)[\\s\\S]|<\\1(\\s+[^>]*?)?>((?!<\\1(\\s+[^>]*?)?>)[\\s\\S])*?<\\\/\\1>)*?)<\\\/\\1>\/gi,s),e=e.replace(\/<(span)(\\s+[^>]*?)?\\s+class\\s*=\\s*"Apple-style-span"(\\s+[^>]*?)?>(((?!<\\1(\\s+[^>]*?)?>)[\\s\\S])*?)<\\\/\\1>\/gi,s);e=e.replace(\/(<(\\w+))((?:\\s+[\\w\\-:]+\\s*=\\s*(?:"[^"]*"|'[^']*'|[^>\\s]+))*)\\s*(\\\/?>)\/g,function(e,t,i,s,a){i=i.toLowerCase();$/;"	p
var.specialKeys.27	js/xheditor.min.js	/^(function(){var e={};window.XHEDITOR=e})(),function(e,t){e.mapLang={},e.setLang=function(i,s){s===t&&(s=i,i=""),""!==i&&(i+=".");var a,n;for(var o in s)n=s[o],a=i+o,"string"==typeof n||n instanceof Array?e.mapLang[a]=n:e.setLang(a,n)},e.getLang=function(i){var s=e.mapLang[i];if(s===t&&(s=i.replace(\/{#([^{}]+)}\/g,function(t,i){var s=e.mapLang[i];return s?s:i})),"string"==typeof s){var a=arguments;s=s.replace(\/{\\$(\\d+)}\/g,function(e,i){var s=a[parseInt(i,10)+1];return s!==t?s:e})}return s}}(XHEDITOR),function(XHEDITOR,$,undefined){var agent=navigator.userAgent.toLowerCase(),bMobile=\/mobile\/i.test(agent),browser=$.browser,browerVer=parseFloat(browser.version),isIE=browser.msie,isMozilla=browser.mozilla,isWebkit=browser.webkit,isOpera=browser.opera,isChrome=browser.chrome,bAir=agent.indexOf(" adobeair\/")>-1,xCount=0,bShowPanel=!1,bClickCancel=!0,bShowModal=!1,bCheckEscInit=!1,_jPanel,_jShadow,_jCntLine,_jPanelButton,jModal,jModalShadow,layerShadow,jOverlay,jHideSelect,onModalRemove,editorRoot,getLang=XHEDITOR.getLang;if($("script[src*=xheditor]").each(function(){var e=this.src;return e.match(\/xheditor[^\\\/]*\\.js\/i)?(editorRoot=e.replace(\/[\\?#].*$\/,"").replace(\/(^|[\\\/\\\\])[^\\\/]*$\/,"$1"),!1):undefined}),isIE){try{document.execCommand("BackgroundImageCache",!1,!0)}catch(e){}var jqueryVer=$.fn.jquery;jqueryVer&&jqueryVer.match(\/^1\\.[67]\/)&&($.attrHooks.width=$.attrHooks.height=null)}var specialKeys={27:"esc",9:"tab",32:"space",13:"enter",8:"backspace",145:"scroll",20:"capslock",144:"numlock",19:"pause",45:"insert",36:"home",46:"del",35:"end",33:"pageup",34:"pagedown",37:"left",38:"up",39:"right",40:"down",112:"f1",113:"f2",114:"f3",115:"f4",116:"f5",117:"f6",118:"f7",119:"f8",120:"f9",121:"f10",122:"f11",123:"f12"},arrAlign=[{v:"justifyleft"},{v:"justifycenter"},{v:"justifyright"},{v:"justifyfull"}],arrList=[{v:"insertOrderedList"},{v:"insertUnorderedList"}],htmlPastetext='<div><label for="xhePastetextValue">{#PastetextTip}<\/label><\/div><div><textarea id="xhePastetextValue" wrap="soft" spellcheck="false" style="width:300px;height:100px;" \/><\/div><div style="text-align:right;"><input type="button" id="xheSave" value="{#dialogOk}" \/><\/div>',htmlLink='<div><label for="xheLinkUrl">{#link.url}<\/label><input type="text" id="xheLinkUrl" value="http:\/\/" class="xheText" \/><\/div><div><label for="xheLinkTarget">{#link.target}<\/label><select id="xheLinkTarget"><option selected="selected" value="">{#default}<\/option><option value="_blank">{#link.targetBlank}<\/option><option value="_self">{#link.targetSelf}<\/option><option value="_parent">{#link.targetParent}<\/option><\/select><\/div><div style="display:none"><label for="xheLinkText">{#link.linkText}<\/label><input type="text" id="xheLinkText" value="" class="xheText" \/><\/div><div style="text-align:right;"><input type="button" id="xheSave" value="{#dialogOk}" \/><\/div>',htmlAnchor='<div><label for="xheAnchorName">{#anchor.name}<\/label><input type="text" id="xheAnchorName" value="" class="xheText" \/><\/div><div style="text-align:right;"><input type="button" id="xheSave" value="{#dialogOk}" \/><\/div>',htmlImg='<div><label for="xheImgUrl">{#img.url}<\/label><input type="text" id="xheImgUrl" value="http:\/\/" class="xheText" \/><\/div><div><div><label for="xheImgAlt">{#img.alt}<\/label><input type="text" id="xheImgAlt" \/><\/div><div><label for="xheImgAlign">{#img.align}<\/label><select id="xheImgAlign"><option selected="selected" value="">{#default}<\/option><option value="left">{#img.alignLeft}<\/option><option value="right">{#img.alignRight}<\/option><option value="top">{#img.alignTop}<\/option><option value="middle">{#img.alignMiddle}<\/option><option value="baseline">{#img.alignBaseline}<\/option><option value="bottom">{#img.alignBottom}<\/option><\/select><\/div><div><label for="xheImgWidth">{#img.width}<\/label><input type="text" id="xheImgWidth" style="width:40px;" \/> <label for="xheImgHeight">{#img.height}<\/label><input type="text" id="xheImgHeight" style="width:40px;" \/><\/div><div><label for="xheImgBorder">{#img.border}<\/label><input type="text" id="xheImgBorder" style="width:40px;" \/><\/div><div><label for="xheImgHspace">{#img.hspace}<\/label><input type="text" id="xheImgHspace" style="width:40px;" \/> <label for="xheImgVspace">{#img.vspace}<\/label><input type="text" id="xheImgVspace" style="width:40px;" \/><\/div><div style="text-align:right;"><input type="button" id="xheSave" value="{#dialogOk}" \/><\/div>',htmlFlash='<div><label for="xheFlashUrl">{#flash.url}<\/label><input type="text" id="xheFlashUrl" value="http:\/\/" class="xheText" \/><\/div><div><label for="xheFlashWidth">{#flash.width}<\/label><input type="text" id="xheFlashWidth" style="width:40px;" value="480" \/> <label for="xheFlashHeight">{#flash.height}<\/label><input type="text" id="xheFlashHeight" style="width:40px;" value="400" \/><\/div><div style="text-align:right;"><input type="button" id="xheSave" value="{#dialogOk}" \/><\/div>',htmlMedia='<div><label for="xheMediaUrl">{#media.url}<\/label><input type="text" id="xheMediaUrl" value="http:\/\/" class="xheText" \/><\/div><div><label for="xheMediaWidth">{#media.width}<\/label><input type="text" id="xheMediaWidth" style="width:40px;" value="480" \/> <label for="xheMediaHeight">{#media.height}<\/label><input type="text" id="xheMediaHeight" style="width:40px;" value="400" \/><\/div><div style="text-align:right;"><input type="button" id="xheSave" value="{#dialogOk}" \/><\/div>',htmlTable='<div><label for="xheTableRows">{#table.rows}<\/label><input type="text" id="xheTableRows" style="width:40px;" value="3" \/> <label for="xheTableColumns">{#table.columns}<\/label><input type="text" id="xheTableColumns" style="width:40px;" value="2" \/><\/div><div><label for="xheTableHeaders">{#table.headers}<\/label><select id="xheTableHeaders"><option selected="selected" value="">{#none}<\/option><option value="row">{#table.headersRow}<\/option><option value="col">{#table.headersCol}<\/option><option value="both">{#table.headersBoth}<\/option><\/select><\/div><div><label for="xheTableWidth">{#table.width}<\/label><input type="text" id="xheTableWidth" style="width:40px;" value="200" \/> <label for="xheTableHeight">{#table.height}<\/label><input type="text" id="xheTableHeight" style="width:40px;" value="" \/><\/div><div><label for="xheTableBorder">{#table.border}<\/label><input type="text" id="xheTableBorder" style="width:40px;" value="1" \/><\/div><div><label for="xheTableCellSpacing">{#table.cellSpacing}<\/label><input type="text" id="xheTableCellSpacing" style="width:40px;" value="1" \/> <label for="xheTableCellPadding">{#table.cellPadding}<\/label><input type="text" id="xheTableCellPadding" style="width:40px;" value="1" \/><\/div><div><label for="xheTableAlign">{#table.align}<\/label><select id="xheTableAlign"><option selected="selected" value="">{#default}<\/option><option value="left">{#table.alignLeft}<\/option><option value="center">{#table.alignCenter}<\/option><option value="right">{#table.alignRight}<\/option><\/select><\/div><div><label for="xheTableCaption">{#table.caption}<\/label><input type="text" id="xheTableCaption" \/><\/div><div style="text-align:right;"><input type="button" id="xheSave" value="{#dialogOk}" \/><\/div>',htmlAbout='<div style="font:12px Arial;width:245px;word-wrap:break-word;word-break:break-all;outline:none;" role="dialog" tabindex="-1"><p><span style="font-size:20px;color:#1997DF;">xhEditor<\/span><br \/>v1.2.1 (build 130225)<\/p><p>{#aboutXheditor}<\/p><p>Copyright &copy; <a href="http:\/\/xheditor.com\/" target="_blank">xhEditor.com<\/a>. All rights reserved.<\/p><\/div>',itemEmots={"default":{name:"{#default}",width:24,height:24,line:7,list:["smile","tongue","titter","laugh","sad","wronged","fastcry","cry","wail","mad","knock","curse","crazy","angry","ohmy","awkward","panic","shy","cute","envy","proud","struggle","quiet","shutup","doubt","despise","sleep","bye"]}},arrTools={Cut:{t:"Cut"},Copy:{t:"Copy"},Paste:{t:"Paste"},Pastetext:{t:"Pastetext",h:isIE?0:1},Blocktag:{t:"Blocktag",h:1},Fontface:{t:"Fontface",h:1},FontSize:{t:"FontSize",h:1},Bold:{t:"Bold",s:"Ctrl+B"},Italic:{t:"Italic",s:"Ctrl+I"},Underline:{t:"Underline",s:"Ctrl+U"},Strikethrough:{t:"Strikethrough"},FontColor:{t:"FontColor",h:1},BackColor:{t:"BackColor",h:1},SelectAll:{t:"SelectAll"},Removeformat:{t:"Removeformat"},Align:{t:"Align",h:1},List:{t:"List",h:1},Outdent:{t:"Outdent"},Indent:{t:"Indent"},Link:{t:"Link",s:"Ctrl+L",h:1},Unlink:{t:"Unlink"},Anchor:{t:"Anchor",h:1},Img:{t:"Img",h:1},Flash:{t:"Flash",h:1},Media:{t:"Media",h:1},Hr:{t:"Hr"},Emot:{t:"Emot",s:"ctrl+e",h:1},Table:{t:"Table",h:1},Source:{t:"Source"},Preview:{t:"Preview"},Print:{t:"Print",s:"Ctrl+P"},Fullscreen:{t:"Fullscreen",s:"Esc"},About:{t:"About"}},toolsThemes={mini:"Bold,Italic,Underline,Strikethrough,|,Align,List,|,Link,Img",simple:"Blocktag,Fontface,FontSize,Bold,Italic,Underline,Strikethrough,FontColor,BackColor,|,Align,List,Outdent,Indent,|,Link,Img,Emot",full:"Cut,Copy,Paste,Pastetext,|,Blocktag,Fontface,FontSize,Bold,Italic,Underline,Strikethrough,FontColor,BackColor,SelectAll,Removeformat,|,Align,List,Outdent,Indent,|,Link,Unlink,Anchor,Img,Flash,Media,Hr,Emot,Table,|,Source,Preview,Print,Fullscreen"};toolsThemes.mfull=toolsThemes.full.replace(\/\\|(,Align)\/i,"\/$1");var arrDbClick={a:"Link",img:"Img",embed:"Embed"},uploadInputname="filedata",arrEntities={"<":"&lt;",">":"&gt;",'"':"&quot;","\\u00ae":"&reg;","\\u00a9":"&copy;"},regEntities=\/[<>"\\u00ae\\u00a9]\/g,Xheditor=function(textarea,options){function checkDblClick(e){var t=e.target,i=arrDbClick[t.tagName.toLowerCase()];if(i){if("Embed"===i){var s={"application\/x-shockwave-flash":"Flash","application\/x-mplayer2":"Media"};i=s[t.type.toLowerCase()]}_this.exec(i)}}function checkEsc(e){return 27===e.which?(bShowModal?_this.removeModal():bShowPanel&&_this.hidePanel(),!1):undefined}function loadReset(){setTimeout(_this.setSource,10)}function saveResult(){_this.getSource()}function cleanPaste(e){var t,i,s;if(e&&(t=e.originalEvent.clipboardData)&&(i=t.items)&&(s=i[0])&&"file"==s.kind&&s.type.match(\/^image\\\/\/i)){var a=s.getAsFile(),n=new FileReader;return n.onload=function(){var e='<img src="'+event.target.result+'">';e=replaceRemoteImg(e),_this.pasteHTML(e)},n.readAsDataURL(a),!1}var o=settings.cleanPaste;if(0===o||bSource||bCleanPaste)return!0;bCleanPaste=!0,_this.saveBookmark();var l=isIE?"pre":"div",r=$("<"+l+' class="xhe-paste">\\ufeff\\ufeff<\/'+l+">",_doc).appendTo(_doc.body),h=r[0],c=_this.getSel(),d=_this.getRng(!0);r.css("top",_jWin.scrollTop()),isIE?(d.moveToElementText(h),d.select()):(d.selectNodeContents(h),c.removeAllRanges(),c.addRange(d)),setTimeout(function(){var e,t=3===o;if(t)r.html(r.html().replace(\/<br(\\s+[^<>]*)?>\/gi,"\\n")),e=r.text();else{var i=$(".xhe-paste",_doc.body),s=[];i.each(function(e,t){0==$(t).find(".xhe-paste").length&&s.push(t.innerHTML)}),e=s.join("<br \/>")}r.remove(),_this.loadBookmark(),e=e.replace(\/^[\\s\\uFEFF]+|[\\s\\uFEFF]+$\/g,""),e&&(t?_this.pasteText(e):(e=_this.cleanHTML(e),e=_this.cleanWord(e),e=_this.formatXHTML(e),(!settings.onPaste||settings.onPaste&&(e=settings.onPaste(e))!==!1)&&(e=replaceRemoteImg(e),_this.pasteHTML(e)))),bCleanPaste=!1},0)}function replaceRemoteImg(e){var t=settings.localUrlTest,i=settings.remoteImgSaveUrl;if(t&&i){var s=[],a=0;e=e.replace(\/(<img)((?:\\s+[^>]*?)?(?:\\s+src="\\s*([^"]+)\\s*")(?: [^>]*)?)(\\\/?>)\/gi,function(e,i,n,o,l){return!\/^(https?|data:image)\/i.test(o)||\/_xhe_temp\/.test(n)||t.test(o)||(s[a]=o,n=n.replace(\/\\s+(width|height)="[^"]*"\/gi,"").replace(\/\\s+src="[^"]*"\/gi,' src="'+skinPath+'img\/waiting.gif" remoteimg="'+a++ +'"')),i+n+l}),s.length>0&&$.post(i,{urls:s.join("|")},function(e){e=e.split("|"),$("img[remoteimg]",_this.doc).each(function(){var t=$(this);xheAttr(t,"src",e[t.attr("remoteimg")]),t.removeAttr("remoteimg")})})}return e}function setCSS(e){try{_this._exec("styleWithCSS",e,!0)}catch(t){try{_this._exec("useCSS",!e,!0)}catch(t){}}}function setOpts(){if(bInit&&!bSource){setCSS(!1);try{_this._exec("enableObjectResizing",!0,!0)}catch(e){}if(isIE)try{_this._exec("BackgroundImageCache",!0,!0)}catch(e){}}}function forcePtag(e){if(bSource||13!==e.which||e.shiftKey||e.ctrlKey||e.altKey)return!0;var t=_this.getParent("p,h1,h2,h3,h4,h5,h6,pre,address,div,li");return t.is("li")?!0:settings.forcePtag?(0===t.length&&_this._exec("formatblock","<p>"),undefined):(_this.pasteHTML("<br \/>"),isIE&&t.length>0&&2===_this.getRng().parentElement().childNodes.length&&_this.pasteHTML("<br \/>"),!1)}function fixFullHeight(){isMozilla||isWebkit||(bFullscreen&&_jArea.height("100%").css("height",_jArea.outerHeight()-_jTools.outerHeight()),isIE&&_jTools.hide().show())}function fixAppleSel(e){if(e=e.target,e.tagName.match(\/(img|embed)\/i)){var t=_this.getSel(),i=_this.getRng(!0);i.selectNode(e),t.removeAllRanges(),t.addRange(i)}}function xheAttr(e,t,i){if(!t)return!1;var s="_xhe_"+t;return i&&(urlType&&(i=getLocalUrl(i,urlType,urlBase)),e.attr(t,urlBase?getLocalUrl(i,"abs",urlBase):i).removeAttr(s).attr(s,i)),e.attr(s)||e.attr(t)}function clickCancelPanel(){bClickCancel&&_this.hidePanel()}function checkShortcuts(e){if(bSource)return!0;var t=e.which,i=specialKeys[t],s=i?i:String.fromCharCode(t).toLowerCase();sKey="",sKey+=e.ctrlKey?"ctrl+":"",sKey+=e.altKey?"alt+":"",sKey+=e.shiftKey?"shift+":"",sKey+=s;var a,n=arrShortCuts[sKey];for(a in n){if(a=n[a],!$.isFunction(a))return _this.exec(a),!1;if(a.call(_this)===!1)return!1}}function is(e,t){var i=typeof e;return t?"array"===t&&e.hasOwnProperty&&e instanceof Array?!0:i===t:"undefined"!=i}function getLocalUrl(e,t,i){if(e.match(\/^(\\w+):\\\/\\\/\/i)&&!e.match(\/^https?:\/i)||\/^#\/i.test(e)||\/^data:\/i.test(e))return e;var s=i?$('<a href="'+i+'" \/>')[0]:location,a=s.protocol,n=s.host,o=s.hostname,l=s.port,r=s.pathname.replace(\/\\\\\/g,"\/").replace(\/[^\\\/]+$\/i,"");if(""===l&&(l="80"),""===r?r="\/":"\/"!==r.charAt(0)&&(r="\/"+r),e=$.trim(e),"abs"!==t&&(e=e.replace(RegExp(a+"\\\\\/\\\\\/"+o.replace(\/\\.\/g,"\\\\.")+"(?::"+l+")"+("80"===l?"?":"")+"(\/|$)","i"),"\/")),"rel"===t&&(e=e.replace(RegExp("^"+r.replace(\/([\\\/\\.\\+\\[\\]\\(\\)])\/g,"\\\\$1"),"i"),"")),"rel"!==t&&(e.match(\/^(https?:\\\/\\\/|\\\/)\/i)||(e=r+e),"\/"===e.charAt(0))){var h,c,d=[],u=e.split("\/"),p=u.length;for(c=0;p>c;c++)h=u[c],".."===h?d.pop():""!==h&&"."!==h&&d.push(h);""===u[p-1]&&d.push(""),e="\/"+d.join("\/")}return"abs"!==t||e.match(\/^https?:\\\/\\\/\/i)||(e=a+"\/\/"+n+e),e=e.replace(\/(https?:\\\/\\\/[^:\\\/?#]+):80(\\\/|$)\/i,"$1$2")}function checkFileExt(e,t){return"*"===t||e.match(RegExp(".("+t.replace(\/,\/g,"|")+")$","i"))?!0:(alert(getLang("upload.extLimit",t)),!1)}function formatBytes(e){var t=["Byte","KB","MB","GB","TB","PB"],i=Math.floor(Math.log(e)\/Math.log(1024));return(e\/Math.pow(1024,Math.floor(i))).toFixed(2)+t[i]}function returnFalse(){return!1}var _this=this,_text=textarea,_jText=$(_text),_jForm=_jText.closest("form"),_jTools,_jArea,_win,_jWin,_doc,_jDoc,bookmark,bInit=!1,bSource=!1,bFullscreen=!1,bCleanPaste=!1,outerScroll,bShowBlocktag=!1,sLayoutStyle="",ev=null,timer,bDisableHoverExec=!1,bQuickHoverExec=!1,lastPoint=null,lastAngle=null,editorHeight=0,settings=_this.settings=$.extend({},XHEDITOR.settings,options),plugins=settings.plugins,strPlugins=[];if(plugins&&(arrTools=$.extend({},arrTools,plugins),$.each(plugins,function(e){strPlugins.push(e)}),strPlugins=strPlugins.join(",")),settings.tools.match(\/^\\s*(m?full|simple|mini)\\s*$\/i)){var toolsTheme=toolsThemes[$.trim(settings.tools)];settings.tools=settings.tools.match(\/m?full\/i)&&plugins?toolsTheme.replace("Table","Table,"+strPlugins):toolsTheme}settings.tools.match(\/(^|,)\\s*About\\s*(,|$)\/i)||(settings.tools+=",About"),settings.tools=settings.tools.split(","),settings.editorRoot&&(editorRoot=settings.editorRoot),bAir===!1&&(editorRoot=getLocalUrl(editorRoot,"abs")),settings.urlBase&&(settings.urlBase=getLocalUrl(settings.urlBase,"abs"));var idCSS="xheCSS_"+settings.skin,idContainer="xhe"+xCount+"_container",idTools="xhe"+xCount+"_Tool",idIframeArea="xhe"+xCount+"_iframearea",idIframe="xhe"+xCount+"_iframe",idFixFFCursor="xhe"+xCount+"_fixffcursor",headHTML="",bodyClass="",skinPath=editorRoot+"xheditor_skin\/"+settings.skin+"\/",arrEmots=itemEmots,urlType=settings.urlType,urlBase=settings.urlBase,emotPath=settings.emotPath,emotPath=emotPath?emotPath:editorRoot+"xheditor_emot\/",selEmotGroup="";arrEmots=$.extend({},arrEmots,settings.emots),emotPath=getLocalUrl(emotPath,"rel",urlBase?urlBase:null),bShowBlocktag=settings.showBlocktag,bShowBlocktag&&(bodyClass+=" showBlocktag");var arrShortCuts=[];this.init=function(){function e(e){var t,i=$(e.target);(t=i.css("width"))&&i.css("width","").attr("width",t.replace(\/[^0-9%]+\/g,"")),(t=i.css("height"))&&i.css("height","").attr("height",t.replace(\/[^0-9%]+\/g,""))}0===$("#"+idCSS).length&&$("head").append('<link id="'+idCSS+'" rel="stylesheet" type="text\/css" href="'+skinPath+'ui.css" \/>');var t=_jText.outerWidth(),i=_jText.outerHeight(),s=settings.width||_text.style.width||(t>10?t:0);editorHeight=settings.height||_text.style.height||(i>10?i:150),\/^\\d+(?:\\.\\d+)?$\/.test(s)&&(s+="px"),is(editorHeight,"string")&&(editorHeight=editorHeight.replace(\/[^\\d]+\/g,""));var a,n,o=settings.background||_text.style.background,l=['<span class="xheGStart"\/>'],r=\/\\||\\\/\/i;$.each(settings.tools,function(e,t){if(t.match(r)&&l.push('<span class="xheGEnd"\/>'),"|"===t)l.push('<span class="xheSeparator"\/>');else if("\/"===t)l.push("<br \/>");else{if(a=arrTools[t],!a)return;n=a.c?a.c:"xheIcon xheBtn"+t,l.push('<span><a href="#" title="{#'+a.t+'}" cmd="'+t+'" class="xheButton xheEnabled" tabindex="-1" role="button"><span class="'+n+'" unselectable="on" style="font-size:0;color:transparent;text-indent:-999px;">'+a.t+"<\/span><\/a><\/span>"),a.s&&_this.addShortcuts(a.s,t)}t.match(r)&&l.push('<span class="xheGStart"\/>')}),l.push('<span class="xheGEnd"\/><br \/>'),_jText.after($('<input type="text" id="'+idFixFFCursor+'" style="position:absolute;display:none;" \/><span id="'+idContainer+'" class="xhe_'+settings.skin+'" style="display:none"><table cellspacing="0" cellpadding="0" class="xheLayout" style="'+("0px"!=s?"width:"+s+";":"")+"height:"+editorHeight+'px;" role="presentation"><tr><td id="'+idTools+'" class="xheTool" unselectable="on" style="height:1px;" role="presentation"><\/td><\/tr><tr><td id="'+idIframeArea+'" class="xheIframeArea" role="presentation"><iframe frameborder="0" id="'+idIframe+'" src="javascript:;" style="width:100%;"><\/iframe><\/td><\/tr><\/table><\/span>')),_jTools=$("#"+idTools),_jArea=$("#"+idIframeArea),headHTML='<meta http-equiv="Content-Type" content="text\/html; charset=utf-8" \/><link rel="stylesheet" href="'+skinPath+'iframe.css"\/>';var h=settings.loadCSS;if(h)if(is(h,"array"))for(var c in h)headHTML+='<link rel="stylesheet" href="'+h[c]+'"\/>';else headHTML+=h.match(\/\\s*<style(\\s+[^>]*?)?>[\\s\\S]+?<\\\/style>\\s*\/i)?h:'<link rel="stylesheet" href="'+h+'"\/>';var d='<!DOCTYPE html><html xmlns="http:\/\/www.w3.org\/1999\/xhtml"><head>'+headHTML+"<title>{#defaultReadTip} "+(settings.readTip?settings.readTip:"")+"<\/title>";o&&(d+="<style>html{background:"+o+";}<\/style>"),d+='<\/head><body spellcheck="0" class="editMode'+bodyClass+'"><\/body><\/html>',_this.win=_win=$("#"+idIframe)[0].contentWindow,_jWin=$(_win);try{this.doc=_doc=_win.document,_jDoc=$(_doc),_doc.open(),_doc.write(getLang(d)),_doc.close(),isIE?_doc.body.contentEditable="true":_doc.designMode="On"}catch(u){}setTimeout(setOpts,300),_this.setSource(),_win.setInterval=null,_jTools.append(getLang(l.join(""))).bind("mousedown contextmenu",returnFalse).click(function(e){var t=$(e.target).closest("a");return t.is(".xheEnabled")&&(clearTimeout(timer),_jTools.find("a").attr("tabindex","-1"),ev=e,_this.exec(t.attr("cmd"))),!1}),_jTools.find(".xheButton").hover(function(e){var t=$(this),i=settings.hoverExecDelay,s=lastAngle;if(lastAngle=null,-1===i||bDisableHoverExec||!t.is(".xheEnabled"))return!1;if(s&&s>10)return bDisableHoverExec=!0,setTimeout(function(){bDisableHoverExec=!1},100),!1;var a=t.attr("cmd"),n=1===arrTools[a].h;return n?(bQuickHoverExec&&(i=0),i>=0&&(timer=setTimeout(function(){ev=e,lastPoint={x:ev.clientX,y:ev.clientY},_this.exec(a)},i)),undefined):(_this.hidePanel(),!1)},function(){lastPoint=null,timer&&clearTimeout(timer)}).mousemove(function(e){if(lastPoint){var t={x:e.clientX-lastPoint.x,y:e.clientY-lastPoint.y};if(Math.abs(t.x)>1||Math.abs(t.y)>1){if(t.x>0&&t.y>0){var i=Math.round(Math.atan(t.y\/t.x)\/.017453293);lastAngle=lastAngle?(lastAngle+i)\/2:i}else lastAngle=null;lastPoint={x:e.clientX,y:e.clientY}}}}),_jPanel=$("#xhePanel"),_jShadow=$("#xheShadow"),_jCntLine=$("#xheCntLine"),0===_jPanel.length&&(_jPanel=$('<div id="xhePanel"><\/div>').mousedown(function(e){e.stopPropagation()}),_jShadow=$('<div id="xheShadow"><\/div>'),_jCntLine=$('<div id="xheCntLine"><\/div>'),setTimeout(function(){$(document.body).append(_jPanel).append(_jShadow).append(_jCntLine)},10)),$("#"+idContainer).show(),_jText.hide(),_jArea.css("height",editorHeight-_jTools.outerHeight()),isIE&8>browerVer&&setTimeout(function(){_jArea.css("height",editorHeight-_jTools.outerHeight())},1),_jText.focus(_this.focus),_jForm.submit(saveResult).bind("reset",loadReset),settings.submitID&&$("#"+settings.submitID).mousedown(saveResult),$(window).bind("unload beforeunload",saveResult).bind("resize",fixFullHeight),$(document).mousedown(clickCancelPanel),bCheckEscInit||($(document).keydown(checkEsc),bCheckEscInit=!0),_jWin.focus(function(){settings.focus&&settings.focus()}).blur(function(){settings.blur&&settings.blur()}),isWebkit&&_jWin.click(fixAppleSel),_jDoc.mousedown(clickCancelPanel).keydown(checkShortcuts).keypress(forcePtag).dblclick(checkDblClick).bind("mousedown click",function(e){_jText.trigger(e.type)}),isIE&&(_jDoc.keydown(function(e){var t=_this.getRng();return 8===e.which&&t.item?($(t.item(0)).remove(),!1):undefined}),_jDoc.bind("controlselect",function(t){t=t.target,$.nodeName(t,"IMG")&&$(t).unbind("resizeend",e).bind("resizeend",e)})),_jDoc.keydown(function(e){var t=e.which;return e.altKey&&t>=49&&57>=t?(_jTools.find("a").attr("tabindex","0"),_jTools.find(".xheGStart").eq(t-49).next().find("a").focus(),_doc.title="\\ufeff\\ufeff",!1):undefined}).click(function(){_jTools.find("a").attr("tabindex","-1")}),_jTools.keydown(function(e){var t=e.which;if(27==t)_jTools.find("a").attr("tabindex","-1"),_this.focus();else if(e.altKey&&t>=49&&57>=t)return _jTools.find(".xheGStart").eq(t-49).next().find("a").focus(),!1});var p=$(_doc.documentElement);isOpera?p.bind("keydown",function(e){e.ctrlKey&&86===e.which&&cleanPaste()}):p.bind(isIE?"beforepaste":"paste",cleanPaste),settings.disableContextmenu&&p.bind("contextmenu",returnFalse),settings.html5Upload&&p.bind("dragenter dragover",function(e){var t;return(t=e.originalEvent.dataTransfer.types)&&-1!==$.inArray("Files",t)?!1:undefined}).bind("drop",function(e){function t(e){var t,i,s;for(a=0;e.length>a;a++){if(i=e[a].name.replace(\/.+\\.\/,""),!(t=o.match(RegExp("(\\\\w+):[^:]*,"+i+"(?:,|$)","i"))))return 1;if(s){if(s!==t[1])return 2}else s=t[1]}return s}var i,s=e.originalEvent.dataTransfer;if(s&&(i=s.files)&&i.length>0){var a,n,o,l=["Link","Img","Flash","Media"],r=[];for(a in l)n=l[a],settings["up"+n+"Url"]&&settings["up"+n+"Url"].match(\/^[^!].*\/i)&&r.push(n+":,"+settings["up"+n+"Ext"]);return 0===r.length?!1:(o=r.join(","),n=t(i),1===n?alert(getLang("upload.extLimit",o.replace(\/\\w+:,\/g,""))):2===n?alert(getLang("upload.typeLimit")):n&&_this.startUpload(i,settings["up"+n+"Url"],"*",function(e){var t,i=[],s=settings.onUpload;s&&s(e);for(var a=0,o=e.length;o>a;a++)t=e[a],url=is(t,"string")?t:t.url,"!"===url.substr(0,1)&&(url=url.substr(1)),i.push(url);_this.exec(n),$("#xhe"+n+"Url").val(i.join(" ")),$("#xheSave").click()}),!1)}});var g=settings.shortcuts;g&&$.each(g,function(e,t){_this.addShortcuts(e,t)}),xCount++,bInit=!0,settings.fullscreen?_this.toggleFullscreen():settings.sourceMode&&setTimeout(_this.toggleSource,20);var f=settings.plugins;return f&&$.each(f,function(e,t){var i=t.i;i!==undefined&&i(_this)}),!0},this.remove=function(){_this.hidePanel(),saveResult(),_jText.unbind("focus",_this.focus),_jForm.unbind("submit",saveResult).unbind("reset",loadReset),settings.submitID&&$("#"+settings.submitID).unbind("mousedown",saveResult),$(window).unbind("unload beforeunload",saveResult).unbind("resize",fixFullHeight),$(document).unbind("mousedown",clickCancelPanel),$("#"+idContainer).remove(),$("#"+idFixFFCursor).remove(),_jText.show(),bInit=!1},this.saveBookmark=function(){if(!bSource){_this.focus();var e=_this.getRng();e=e.cloneRange?e.cloneRange():e,bookmark={top:_jWin.scrollTop(),rng:e}}},this.loadBookmark=function(){if(!bSource&&bookmark){_this.focus();var e=bookmark.rng;if(isIE)e.select();else{var t=_this.getSel();t.removeAllRanges(),t.addRange(e)}_jWin.scrollTop(bookmark.top),bookmark=null}},this.focus=function(){if(bSource?$("#sourceCode",_doc).focus():_win.focus(),isIE){var e=_this.getRng();e.parentElement&&e.parentElement().ownerDocument!==_doc&&_this.setTextCursor()}return!1},this.setTextCursor=function(e){var t=_this.getRng(!0),i=_doc.body;if(isIE)t.moveToElementText(i);else{for(var s=e?"lastChild":"firstChild";3!=i.nodeType&&i[s];)i=i[s];t.selectNode(i)}if(t.collapse(e?!1:!0),isIE)t.select();else{var a=_this.getSel();a.removeAllRanges(),a.addRange(t)}},this.getSel=function(){return _doc.selection?_doc.selection:_win.getSelection()},this.getRng=function(e){var t,i;try{e||(t=_this.getSel(),i=t.createRange?t.createRange():t.rangeCount>0?t.getRangeAt(0):null),i||(i=_doc.body.createTextRange?_doc.body.createTextRange():_doc.createRange())}catch(s){}return i},this.getParent=function(e){var t,i=_this.getRng();return isIE?t=i.item?i.item(0):i.parentElement():(t=i.commonAncestorContainer,i.collapsed||i.startContainer===i.endContainer&&2>i.startOffset-i.endOffset&&i.startContainer.hasChildNodes()&&(t=i.startContainer.childNodes[i.startOffset])),e=e?e:"*",t=$(t),t.is(e)||(t=$(t).closest(e)),t},this.getSelect=function(e){var t=_this.getSel(),i=_this.getRng(),s=!0;if(s=!i||i.item?!1:!t||0===i.boundingWidth||i.collapsed,"text"===e)return s?"":i.text||(t.toString?""+t:"");var a;if(i.cloneContents){var n,o=$("<div><\/div>");n=i.cloneContents(),n&&o.append(n),a=o.html()}else a=is(i.item)?i.item(0).outerHTML:is(i.htmlText)?i.htmlText:""+i;return s&&(a=""),a=_this.processHTML(a,"read"),a=_this.cleanHTML(a),a=_this.formatXHTML(a)},this.pasteHTML=function(e,t){if(bSource)return!1;_this.focus(),e=_this.processHTML(e,"write");var i=_this.getSel(),s=_this.getRng();if(t!==undefined){if(s.item){var a=s.item(0);s=_this.getRng(!0),s.moveToElementText(a),s.select()}s.collapse(t)}if(e+="<"+(isIE?"img":"span")+' id="_xhe_temp" width="0" height="0" \/>',s.insertNode){if($(s.startContainer).closest("style,script").length>0)return!1;s.deleteContents(),s.insertNode(s.createContextualFragment(e))}else"control"===i.type.toLowerCase()&&(i.clear(),s=_this.getRng()),s.pasteHTML(e);var n=$("#_xhe_temp",_doc),o=n[0];isIE?(s.moveToElementText(o),s.select()):(s.selectNode(o),i.removeAllRanges(),i.addRange(s)),n.remove()},this.pasteText=function(e,t){e||(e=""),e=_this.domEncode(e),e=e.replace(\/\\r?\\n\/g,"<br \/>"),_this.pasteHTML(e,t)},this.appendHTML=function(e){return bSource?!1:(_this.focus(),e=_this.processHTML(e,"write"),$(_doc.body).append(e),_this.setTextCursor(!0),undefined)},this.domEncode=function(e){return e.replace(regEntities,function(e){return arrEntities[e]})},this.setSource=function(e){bookmark=null,"string"!=typeof e&&""!==e&&(e=_text.value),bSource?$("#sourceCode",_doc).val(e):(settings.beforeSetSource&&(e=settings.beforeSetSource(e)),e=_this.cleanHTML(e),e=_this.formatXHTML(e),e=_this.processHTML(e,"write"),isIE?(_doc.body.innerHTML='<img id="_xhe_temp" width="0" height="0" \/>'+e,$("#_xhe_temp",_doc).remove()):_doc.body.innerHTML=e)},this.processHTML=function(e,t){function i(e,t,i,s,a,o){var l,r,h,c,d="";if(l=s.match(\/font-family\\s*:\\s*([^;"]+)\/i),l&&(d+=' face="'+l[1]+'"'),r=s.match(\/font-size\\s*:\\s*([^;"]+)\/i)){r=r[1].toLowerCase();for(var u=0;n.length>u;u++)if(r===n[u].n||r===n[u].s){h=u+1;break}h&&(d+=' size="'+h+'"',s=s.replace(\/(^|;)(\\s*font-size\\s*:\\s*[^;"]+;?)+\/gi,"$1"))}if(c=s.match(\/(?:^|[\\s;])color\\s*:\\s*([^;"]+)\/i)){var p;if(p=c[1].match(\/\\s*rgb\\s*\\(\\s*(\\d+)\\s*,\\s*(\\d+)\\s*,\\s*(\\d+)\\s*\\)\/i)){c[1]="#";for(var g=1;3>=g;g++)c[1]+=("0"+(p[g]-0).toString(16)).slice(-2)}c[1]=c[1].replace(\/^#([0-9a-f])([0-9a-f])([0-9a-f])$\/i,"#$1$1$2$2$3$3"),d+=' color="'+c[1]+'"'}return s=s.replace(\/(^|;)(\\s*(font-family|color)\\s*:\\s*[^;"]+;?)+\/gi,"$1"),""!==d?(s&&(d+=' style="'+s+'"'),"<font"+(i?i:"")+d+(a?a:"")+">"+o+"<\/font>"):e}function s(e,t,i,s,a){for(var n,l,r=(i?i:"")+(s?s:""),h=[],c=[],d=0;o.length>d;d++)n=o[d].r,l=o[d].t,r=r.replace(n,function(){return h.push("<"+l+">"),c.push("<\/"+l+">"),""});return r=r.replace(\/\\s+style\\s*=\\s*"\\s*"\/i,""),(r?"<span"+r+">":"")+h.join("")+a+c.join("")+(r?"<\/span>":"")}var a=' class="Apple-style-span"',n=settings.listFontsize;if("write"===t)e=e.replace(\/(<(\\\/?)(\\w+))((?:\\s+[\\w\\-:]+\\s*=\\s*(?:"[^"]*"|'[^']*'|[^>\\s]+))*)\\s*((\\\/?)>)\/g,function(e,t,i,s,n,o,l){s=s.toLowerCase(),isMozilla?"strong"===s?s="b":"em"===s&&(s="i"):isWebkit&&("strong"===s?(s="span",i||(n+=a+' style="font-weight: bold;"')):"em"===s?(s="span",i||(n+=a+' style="font-style: italic;"')):"u"===s?(s="span",i||(n+=a+' style="text-decoration: underline;"')):"strike"===s&&(s="span",i||(n+=a+' style="text-decoration: line-through;"')));var r,h="";if("del"===s)s="strike";else if("img"===s)n=n.replace(\/\\s+emot\\s*=\\s*("[^"]*"|'[^']*'|[^>\\s]+)\/i,function(e,t){return r=t.match(\/^(["']?)(.*)\\1\/)[2],r=r.split(","),r[1]||(r[1]=r[0],r[0]=""),"default"===r[0]&&(r[0]=""),settings.emotMark?e:""});else if("a"===s)!n.match(\/ href=[^ ]\/i)&&n.match(\/ name=[^ ]\/i)&&(h+=" xhe-anchor"),l&&(o="><\/a>");else if("table"===s&&!i){var c=n.match(\/\\s+border\\s*=\\s*("[^"]*"|'[^']*'|[^>\\s]+)\/i);(!c||c[1].match(\/^(["']?)\\s*0\\s*\\1$\/))&&(h+=" xhe-border")}var d;if(n=n.replace(\/\\s+([\\w\\-:]+)\\s*=\\s*("[^"]*"|'[^']*'|[^>\\s]+)\/g,function(e,t,i){return t=t.toLowerCase(),i=i.match(\/^(["']?)(.*)\\1\/)[2],aft="",isIE&&t.match(\/^(disabled|checked|readonly|selected)$\/)&&i.match(\/^(false|0)$\/i)?"":"img"===s&&r&&"src"===t?"":(t.match(\/^(src|href)$\/)&&(aft=" _xhe_"+t+'="'+i+'"',urlBase&&(i=getLocalUrl(i,"abs",urlBase))),h&&"class"===t&&(i+=" "+h,h=""),isWebkit&&"style"===t&&"span"===s&&i.match(\/(^|;)\\s*(font-family|font-size|color|background-color)\\s*:\\s*[^;]+\\s*(;|$)\/i)&&(d=!0)," "+t+'="'+i+'"'+aft)}),r){var u=emotPath+(r[0]?r[0]:"default")+"\/"+r[1]+".gif";n+=' src="'+u+'" _xhe_src="'+u+'"'}return d&&(n+=a),h&&(n+=' class="'+h+'"'),"<"+i+s+n+o}),isIE&&(e=e.replace(\/&apos;\/gi,"&#39;")),isWebkit||(e=e.replace(\/<(span)(\\s+[^>]*?)?\\s+style\\s*=\\s*"((?:[^"]*?;)?\\s*(?:font-family|font-size|color)\\s*:[^"]*)"( [^>]*)?>(((?!<\\1(\\s+[^>]*?)?>)[\\s\\S]|<\\1(\\s+[^>]*?)?>((?!<\\1(\\s+[^>]*?)?>)[\\s\\S]|<\\1(\\s+[^>]*?)?>((?!<\\1(\\s+[^>]*?)?>)[\\s\\S])*?<\\\/\\1>)*?<\\\/\\1>)*?)<\\\/\\1>\/gi,i),e=e.replace(\/<(span)(\\s+[^>]*?)?\\s+style\\s*=\\s*"((?:[^"]*?;)?\\s*(?:font-family|font-size|color)\\s*:[^"]*)"( [^>]*)?>(((?!<\\1(\\s+[^>]*?)?>)[\\s\\S]|<\\1(\\s+[^>]*?)?>((?!<\\1(\\s+[^>]*?)?>)[\\s\\S])*?<\\\/\\1>)*?)<\\\/\\1>\/gi,i),e=e.replace(\/<(span)(\\s+[^>]*?)?\\s+style\\s*=\\s*"((?:[^"]*?;)?\\s*(?:font-family|font-size|color)\\s*:[^"]*)"( [^>]*)?>(((?!<\\1(\\s+[^>]*?)?>)[\\s\\S])*?)<\\\/\\1>\/gi,i)),e=e.replace(\/<(td|th)(\\s+[^>]*?)?>(\\s|&nbsp;)*<\\\/\\1>\/gi,"<$1$2>"+(isIE?"":"<br \/>")+"<\/$1>");else{if(isWebkit)for(var o=[{r:\/font-weight\\s*:\\s*bold;?\/gi,t:"strong"},{r:\/font-style\\s*:\\s*italic;?\/gi,t:"em"},{r:\/text-decoration\\s*:\\s*underline;?\/gi,t:"u"},{r:\/text-decoration\\s*:\\s*line-through;?\/gi,t:"strike"}],l=0;2>l;l++)e=e.replace(\/<(span)(\\s+[^>]*?)?\\s+class\\s*=\\s*"Apple-style-span"(\\s+[^>]*?)?>(((?!<\\1(\\s+[^>]*?)?>)[\\s\\S]|<\\1(\\s+[^>]*?)?>((?!<\\1(\\s+[^>]*?)?>)[\\s\\S]|<\\1(\\s+[^>]*?)?>((?!<\\1(\\s+[^>]*?)?>)[\\s\\S])*?<\\\/\\1>)*?<\\\/\\1>)*?)<\\\/\\1>\/gi,s),e=e.replace(\/<(span)(\\s+[^>]*?)?\\s+class\\s*=\\s*"Apple-style-span"(\\s+[^>]*?)?>(((?!<\\1(\\s+[^>]*?)?>)[\\s\\S]|<\\1(\\s+[^>]*?)?>((?!<\\1(\\s+[^>]*?)?>)[\\s\\S])*?<\\\/\\1>)*?)<\\\/\\1>\/gi,s),e=e.replace(\/<(span)(\\s+[^>]*?)?\\s+class\\s*=\\s*"Apple-style-span"(\\s+[^>]*?)?>(((?!<\\1(\\s+[^>]*?)?>)[\\s\\S])*?)<\\\/\\1>\/gi,s);e=e.replace(\/(<(\\w+))((?:\\s+[\\w\\-:]+\\s*=\\s*(?:"[^"]*"|'[^']*'|[^>\\s]+))*)\\s*(\\\/?>)\/g,function(e,t,i,s,a){i=i.toLowerCase();$/;"	p
var.specialKeys.32	js/xheditor.min.js	/^(function(){var e={};window.XHEDITOR=e})(),function(e,t){e.mapLang={},e.setLang=function(i,s){s===t&&(s=i,i=""),""!==i&&(i+=".");var a,n;for(var o in s)n=s[o],a=i+o,"string"==typeof n||n instanceof Array?e.mapLang[a]=n:e.setLang(a,n)},e.getLang=function(i){var s=e.mapLang[i];if(s===t&&(s=i.replace(\/{#([^{}]+)}\/g,function(t,i){var s=e.mapLang[i];return s?s:i})),"string"==typeof s){var a=arguments;s=s.replace(\/{\\$(\\d+)}\/g,function(e,i){var s=a[parseInt(i,10)+1];return s!==t?s:e})}return s}}(XHEDITOR),function(XHEDITOR,$,undefined){var agent=navigator.userAgent.toLowerCase(),bMobile=\/mobile\/i.test(agent),browser=$.browser,browerVer=parseFloat(browser.version),isIE=browser.msie,isMozilla=browser.mozilla,isWebkit=browser.webkit,isOpera=browser.opera,isChrome=browser.chrome,bAir=agent.indexOf(" adobeair\/")>-1,xCount=0,bShowPanel=!1,bClickCancel=!0,bShowModal=!1,bCheckEscInit=!1,_jPanel,_jShadow,_jCntLine,_jPanelButton,jModal,jModalShadow,layerShadow,jOverlay,jHideSelect,onModalRemove,editorRoot,getLang=XHEDITOR.getLang;if($("script[src*=xheditor]").each(function(){var e=this.src;return e.match(\/xheditor[^\\\/]*\\.js\/i)?(editorRoot=e.replace(\/[\\?#].*$\/,"").replace(\/(^|[\\\/\\\\])[^\\\/]*$\/,"$1"),!1):undefined}),isIE){try{document.execCommand("BackgroundImageCache",!1,!0)}catch(e){}var jqueryVer=$.fn.jquery;jqueryVer&&jqueryVer.match(\/^1\\.[67]\/)&&($.attrHooks.width=$.attrHooks.height=null)}var specialKeys={27:"esc",9:"tab",32:"space",13:"enter",8:"backspace",145:"scroll",20:"capslock",144:"numlock",19:"pause",45:"insert",36:"home",46:"del",35:"end",33:"pageup",34:"pagedown",37:"left",38:"up",39:"right",40:"down",112:"f1",113:"f2",114:"f3",115:"f4",116:"f5",117:"f6",118:"f7",119:"f8",120:"f9",121:"f10",122:"f11",123:"f12"},arrAlign=[{v:"justifyleft"},{v:"justifycenter"},{v:"justifyright"},{v:"justifyfull"}],arrList=[{v:"insertOrderedList"},{v:"insertUnorderedList"}],htmlPastetext='<div><label for="xhePastetextValue">{#PastetextTip}<\/label><\/div><div><textarea id="xhePastetextValue" wrap="soft" spellcheck="false" style="width:300px;height:100px;" \/><\/div><div style="text-align:right;"><input type="button" id="xheSave" value="{#dialogOk}" \/><\/div>',htmlLink='<div><label for="xheLinkUrl">{#link.url}<\/label><input type="text" id="xheLinkUrl" value="http:\/\/" class="xheText" \/><\/div><div><label for="xheLinkTarget">{#link.target}<\/label><select id="xheLinkTarget"><option selected="selected" value="">{#default}<\/option><option value="_blank">{#link.targetBlank}<\/option><option value="_self">{#link.targetSelf}<\/option><option value="_parent">{#link.targetParent}<\/option><\/select><\/div><div style="display:none"><label for="xheLinkText">{#link.linkText}<\/label><input type="text" id="xheLinkText" value="" class="xheText" \/><\/div><div style="text-align:right;"><input type="button" id="xheSave" value="{#dialogOk}" \/><\/div>',htmlAnchor='<div><label for="xheAnchorName">{#anchor.name}<\/label><input type="text" id="xheAnchorName" value="" class="xheText" \/><\/div><div style="text-align:right;"><input type="button" id="xheSave" value="{#dialogOk}" \/><\/div>',htmlImg='<div><label for="xheImgUrl">{#img.url}<\/label><input type="text" id="xheImgUrl" value="http:\/\/" class="xheText" \/><\/div><div><div><label for="xheImgAlt">{#img.alt}<\/label><input type="text" id="xheImgAlt" \/><\/div><div><label for="xheImgAlign">{#img.align}<\/label><select id="xheImgAlign"><option selected="selected" value="">{#default}<\/option><option value="left">{#img.alignLeft}<\/option><option value="right">{#img.alignRight}<\/option><option value="top">{#img.alignTop}<\/option><option value="middle">{#img.alignMiddle}<\/option><option value="baseline">{#img.alignBaseline}<\/option><option value="bottom">{#img.alignBottom}<\/option><\/select><\/div><div><label for="xheImgWidth">{#img.width}<\/label><input type="text" id="xheImgWidth" style="width:40px;" \/> <label for="xheImgHeight">{#img.height}<\/label><input type="text" id="xheImgHeight" style="width:40px;" \/><\/div><div><label for="xheImgBorder">{#img.border}<\/label><input type="text" id="xheImgBorder" style="width:40px;" \/><\/div><div><label for="xheImgHspace">{#img.hspace}<\/label><input type="text" id="xheImgHspace" style="width:40px;" \/> <label for="xheImgVspace">{#img.vspace}<\/label><input type="text" id="xheImgVspace" style="width:40px;" \/><\/div><div style="text-align:right;"><input type="button" id="xheSave" value="{#dialogOk}" \/><\/div>',htmlFlash='<div><label for="xheFlashUrl">{#flash.url}<\/label><input type="text" id="xheFlashUrl" value="http:\/\/" class="xheText" \/><\/div><div><label for="xheFlashWidth">{#flash.width}<\/label><input type="text" id="xheFlashWidth" style="width:40px;" value="480" \/> <label for="xheFlashHeight">{#flash.height}<\/label><input type="text" id="xheFlashHeight" style="width:40px;" value="400" \/><\/div><div style="text-align:right;"><input type="button" id="xheSave" value="{#dialogOk}" \/><\/div>',htmlMedia='<div><label for="xheMediaUrl">{#media.url}<\/label><input type="text" id="xheMediaUrl" value="http:\/\/" class="xheText" \/><\/div><div><label for="xheMediaWidth">{#media.width}<\/label><input type="text" id="xheMediaWidth" style="width:40px;" value="480" \/> <label for="xheMediaHeight">{#media.height}<\/label><input type="text" id="xheMediaHeight" style="width:40px;" value="400" \/><\/div><div style="text-align:right;"><input type="button" id="xheSave" value="{#dialogOk}" \/><\/div>',htmlTable='<div><label for="xheTableRows">{#table.rows}<\/label><input type="text" id="xheTableRows" style="width:40px;" value="3" \/> <label for="xheTableColumns">{#table.columns}<\/label><input type="text" id="xheTableColumns" style="width:40px;" value="2" \/><\/div><div><label for="xheTableHeaders">{#table.headers}<\/label><select id="xheTableHeaders"><option selected="selected" value="">{#none}<\/option><option value="row">{#table.headersRow}<\/option><option value="col">{#table.headersCol}<\/option><option value="both">{#table.headersBoth}<\/option><\/select><\/div><div><label for="xheTableWidth">{#table.width}<\/label><input type="text" id="xheTableWidth" style="width:40px;" value="200" \/> <label for="xheTableHeight">{#table.height}<\/label><input type="text" id="xheTableHeight" style="width:40px;" value="" \/><\/div><div><label for="xheTableBorder">{#table.border}<\/label><input type="text" id="xheTableBorder" style="width:40px;" value="1" \/><\/div><div><label for="xheTableCellSpacing">{#table.cellSpacing}<\/label><input type="text" id="xheTableCellSpacing" style="width:40px;" value="1" \/> <label for="xheTableCellPadding">{#table.cellPadding}<\/label><input type="text" id="xheTableCellPadding" style="width:40px;" value="1" \/><\/div><div><label for="xheTableAlign">{#table.align}<\/label><select id="xheTableAlign"><option selected="selected" value="">{#default}<\/option><option value="left">{#table.alignLeft}<\/option><option value="center">{#table.alignCenter}<\/option><option value="right">{#table.alignRight}<\/option><\/select><\/div><div><label for="xheTableCaption">{#table.caption}<\/label><input type="text" id="xheTableCaption" \/><\/div><div style="text-align:right;"><input type="button" id="xheSave" value="{#dialogOk}" \/><\/div>',htmlAbout='<div style="font:12px Arial;width:245px;word-wrap:break-word;word-break:break-all;outline:none;" role="dialog" tabindex="-1"><p><span style="font-size:20px;color:#1997DF;">xhEditor<\/span><br \/>v1.2.1 (build 130225)<\/p><p>{#aboutXheditor}<\/p><p>Copyright &copy; <a href="http:\/\/xheditor.com\/" target="_blank">xhEditor.com<\/a>. All rights reserved.<\/p><\/div>',itemEmots={"default":{name:"{#default}",width:24,height:24,line:7,list:["smile","tongue","titter","laugh","sad","wronged","fastcry","cry","wail","mad","knock","curse","crazy","angry","ohmy","awkward","panic","shy","cute","envy","proud","struggle","quiet","shutup","doubt","despise","sleep","bye"]}},arrTools={Cut:{t:"Cut"},Copy:{t:"Copy"},Paste:{t:"Paste"},Pastetext:{t:"Pastetext",h:isIE?0:1},Blocktag:{t:"Blocktag",h:1},Fontface:{t:"Fontface",h:1},FontSize:{t:"FontSize",h:1},Bold:{t:"Bold",s:"Ctrl+B"},Italic:{t:"Italic",s:"Ctrl+I"},Underline:{t:"Underline",s:"Ctrl+U"},Strikethrough:{t:"Strikethrough"},FontColor:{t:"FontColor",h:1},BackColor:{t:"BackColor",h:1},SelectAll:{t:"SelectAll"},Removeformat:{t:"Removeformat"},Align:{t:"Align",h:1},List:{t:"List",h:1},Outdent:{t:"Outdent"},Indent:{t:"Indent"},Link:{t:"Link",s:"Ctrl+L",h:1},Unlink:{t:"Unlink"},Anchor:{t:"Anchor",h:1},Img:{t:"Img",h:1},Flash:{t:"Flash",h:1},Media:{t:"Media",h:1},Hr:{t:"Hr"},Emot:{t:"Emot",s:"ctrl+e",h:1},Table:{t:"Table",h:1},Source:{t:"Source"},Preview:{t:"Preview"},Print:{t:"Print",s:"Ctrl+P"},Fullscreen:{t:"Fullscreen",s:"Esc"},About:{t:"About"}},toolsThemes={mini:"Bold,Italic,Underline,Strikethrough,|,Align,List,|,Link,Img",simple:"Blocktag,Fontface,FontSize,Bold,Italic,Underline,Strikethrough,FontColor,BackColor,|,Align,List,Outdent,Indent,|,Link,Img,Emot",full:"Cut,Copy,Paste,Pastetext,|,Blocktag,Fontface,FontSize,Bold,Italic,Underline,Strikethrough,FontColor,BackColor,SelectAll,Removeformat,|,Align,List,Outdent,Indent,|,Link,Unlink,Anchor,Img,Flash,Media,Hr,Emot,Table,|,Source,Preview,Print,Fullscreen"};toolsThemes.mfull=toolsThemes.full.replace(\/\\|(,Align)\/i,"\/$1");var arrDbClick={a:"Link",img:"Img",embed:"Embed"},uploadInputname="filedata",arrEntities={"<":"&lt;",">":"&gt;",'"':"&quot;","\\u00ae":"&reg;","\\u00a9":"&copy;"},regEntities=\/[<>"\\u00ae\\u00a9]\/g,Xheditor=function(textarea,options){function checkDblClick(e){var t=e.target,i=arrDbClick[t.tagName.toLowerCase()];if(i){if("Embed"===i){var s={"application\/x-shockwave-flash":"Flash","application\/x-mplayer2":"Media"};i=s[t.type.toLowerCase()]}_this.exec(i)}}function checkEsc(e){return 27===e.which?(bShowModal?_this.removeModal():bShowPanel&&_this.hidePanel(),!1):undefined}function loadReset(){setTimeout(_this.setSource,10)}function saveResult(){_this.getSource()}function cleanPaste(e){var t,i,s;if(e&&(t=e.originalEvent.clipboardData)&&(i=t.items)&&(s=i[0])&&"file"==s.kind&&s.type.match(\/^image\\\/\/i)){var a=s.getAsFile(),n=new FileReader;return n.onload=function(){var e='<img src="'+event.target.result+'">';e=replaceRemoteImg(e),_this.pasteHTML(e)},n.readAsDataURL(a),!1}var o=settings.cleanPaste;if(0===o||bSource||bCleanPaste)return!0;bCleanPaste=!0,_this.saveBookmark();var l=isIE?"pre":"div",r=$("<"+l+' class="xhe-paste">\\ufeff\\ufeff<\/'+l+">",_doc).appendTo(_doc.body),h=r[0],c=_this.getSel(),d=_this.getRng(!0);r.css("top",_jWin.scrollTop()),isIE?(d.moveToElementText(h),d.select()):(d.selectNodeContents(h),c.removeAllRanges(),c.addRange(d)),setTimeout(function(){var e,t=3===o;if(t)r.html(r.html().replace(\/<br(\\s+[^<>]*)?>\/gi,"\\n")),e=r.text();else{var i=$(".xhe-paste",_doc.body),s=[];i.each(function(e,t){0==$(t).find(".xhe-paste").length&&s.push(t.innerHTML)}),e=s.join("<br \/>")}r.remove(),_this.loadBookmark(),e=e.replace(\/^[\\s\\uFEFF]+|[\\s\\uFEFF]+$\/g,""),e&&(t?_this.pasteText(e):(e=_this.cleanHTML(e),e=_this.cleanWord(e),e=_this.formatXHTML(e),(!settings.onPaste||settings.onPaste&&(e=settings.onPaste(e))!==!1)&&(e=replaceRemoteImg(e),_this.pasteHTML(e)))),bCleanPaste=!1},0)}function replaceRemoteImg(e){var t=settings.localUrlTest,i=settings.remoteImgSaveUrl;if(t&&i){var s=[],a=0;e=e.replace(\/(<img)((?:\\s+[^>]*?)?(?:\\s+src="\\s*([^"]+)\\s*")(?: [^>]*)?)(\\\/?>)\/gi,function(e,i,n,o,l){return!\/^(https?|data:image)\/i.test(o)||\/_xhe_temp\/.test(n)||t.test(o)||(s[a]=o,n=n.replace(\/\\s+(width|height)="[^"]*"\/gi,"").replace(\/\\s+src="[^"]*"\/gi,' src="'+skinPath+'img\/waiting.gif" remoteimg="'+a++ +'"')),i+n+l}),s.length>0&&$.post(i,{urls:s.join("|")},function(e){e=e.split("|"),$("img[remoteimg]",_this.doc).each(function(){var t=$(this);xheAttr(t,"src",e[t.attr("remoteimg")]),t.removeAttr("remoteimg")})})}return e}function setCSS(e){try{_this._exec("styleWithCSS",e,!0)}catch(t){try{_this._exec("useCSS",!e,!0)}catch(t){}}}function setOpts(){if(bInit&&!bSource){setCSS(!1);try{_this._exec("enableObjectResizing",!0,!0)}catch(e){}if(isIE)try{_this._exec("BackgroundImageCache",!0,!0)}catch(e){}}}function forcePtag(e){if(bSource||13!==e.which||e.shiftKey||e.ctrlKey||e.altKey)return!0;var t=_this.getParent("p,h1,h2,h3,h4,h5,h6,pre,address,div,li");return t.is("li")?!0:settings.forcePtag?(0===t.length&&_this._exec("formatblock","<p>"),undefined):(_this.pasteHTML("<br \/>"),isIE&&t.length>0&&2===_this.getRng().parentElement().childNodes.length&&_this.pasteHTML("<br \/>"),!1)}function fixFullHeight(){isMozilla||isWebkit||(bFullscreen&&_jArea.height("100%").css("height",_jArea.outerHeight()-_jTools.outerHeight()),isIE&&_jTools.hide().show())}function fixAppleSel(e){if(e=e.target,e.tagName.match(\/(img|embed)\/i)){var t=_this.getSel(),i=_this.getRng(!0);i.selectNode(e),t.removeAllRanges(),t.addRange(i)}}function xheAttr(e,t,i){if(!t)return!1;var s="_xhe_"+t;return i&&(urlType&&(i=getLocalUrl(i,urlType,urlBase)),e.attr(t,urlBase?getLocalUrl(i,"abs",urlBase):i).removeAttr(s).attr(s,i)),e.attr(s)||e.attr(t)}function clickCancelPanel(){bClickCancel&&_this.hidePanel()}function checkShortcuts(e){if(bSource)return!0;var t=e.which,i=specialKeys[t],s=i?i:String.fromCharCode(t).toLowerCase();sKey="",sKey+=e.ctrlKey?"ctrl+":"",sKey+=e.altKey?"alt+":"",sKey+=e.shiftKey?"shift+":"",sKey+=s;var a,n=arrShortCuts[sKey];for(a in n){if(a=n[a],!$.isFunction(a))return _this.exec(a),!1;if(a.call(_this)===!1)return!1}}function is(e,t){var i=typeof e;return t?"array"===t&&e.hasOwnProperty&&e instanceof Array?!0:i===t:"undefined"!=i}function getLocalUrl(e,t,i){if(e.match(\/^(\\w+):\\\/\\\/\/i)&&!e.match(\/^https?:\/i)||\/^#\/i.test(e)||\/^data:\/i.test(e))return e;var s=i?$('<a href="'+i+'" \/>')[0]:location,a=s.protocol,n=s.host,o=s.hostname,l=s.port,r=s.pathname.replace(\/\\\\\/g,"\/").replace(\/[^\\\/]+$\/i,"");if(""===l&&(l="80"),""===r?r="\/":"\/"!==r.charAt(0)&&(r="\/"+r),e=$.trim(e),"abs"!==t&&(e=e.replace(RegExp(a+"\\\\\/\\\\\/"+o.replace(\/\\.\/g,"\\\\.")+"(?::"+l+")"+("80"===l?"?":"")+"(\/|$)","i"),"\/")),"rel"===t&&(e=e.replace(RegExp("^"+r.replace(\/([\\\/\\.\\+\\[\\]\\(\\)])\/g,"\\\\$1"),"i"),"")),"rel"!==t&&(e.match(\/^(https?:\\\/\\\/|\\\/)\/i)||(e=r+e),"\/"===e.charAt(0))){var h,c,d=[],u=e.split("\/"),p=u.length;for(c=0;p>c;c++)h=u[c],".."===h?d.pop():""!==h&&"."!==h&&d.push(h);""===u[p-1]&&d.push(""),e="\/"+d.join("\/")}return"abs"!==t||e.match(\/^https?:\\\/\\\/\/i)||(e=a+"\/\/"+n+e),e=e.replace(\/(https?:\\\/\\\/[^:\\\/?#]+):80(\\\/|$)\/i,"$1$2")}function checkFileExt(e,t){return"*"===t||e.match(RegExp(".("+t.replace(\/,\/g,"|")+")$","i"))?!0:(alert(getLang("upload.extLimit",t)),!1)}function formatBytes(e){var t=["Byte","KB","MB","GB","TB","PB"],i=Math.floor(Math.log(e)\/Math.log(1024));return(e\/Math.pow(1024,Math.floor(i))).toFixed(2)+t[i]}function returnFalse(){return!1}var _this=this,_text=textarea,_jText=$(_text),_jForm=_jText.closest("form"),_jTools,_jArea,_win,_jWin,_doc,_jDoc,bookmark,bInit=!1,bSource=!1,bFullscreen=!1,bCleanPaste=!1,outerScroll,bShowBlocktag=!1,sLayoutStyle="",ev=null,timer,bDisableHoverExec=!1,bQuickHoverExec=!1,lastPoint=null,lastAngle=null,editorHeight=0,settings=_this.settings=$.extend({},XHEDITOR.settings,options),plugins=settings.plugins,strPlugins=[];if(plugins&&(arrTools=$.extend({},arrTools,plugins),$.each(plugins,function(e){strPlugins.push(e)}),strPlugins=strPlugins.join(",")),settings.tools.match(\/^\\s*(m?full|simple|mini)\\s*$\/i)){var toolsTheme=toolsThemes[$.trim(settings.tools)];settings.tools=settings.tools.match(\/m?full\/i)&&plugins?toolsTheme.replace("Table","Table,"+strPlugins):toolsTheme}settings.tools.match(\/(^|,)\\s*About\\s*(,|$)\/i)||(settings.tools+=",About"),settings.tools=settings.tools.split(","),settings.editorRoot&&(editorRoot=settings.editorRoot),bAir===!1&&(editorRoot=getLocalUrl(editorRoot,"abs")),settings.urlBase&&(settings.urlBase=getLocalUrl(settings.urlBase,"abs"));var idCSS="xheCSS_"+settings.skin,idContainer="xhe"+xCount+"_container",idTools="xhe"+xCount+"_Tool",idIframeArea="xhe"+xCount+"_iframearea",idIframe="xhe"+xCount+"_iframe",idFixFFCursor="xhe"+xCount+"_fixffcursor",headHTML="",bodyClass="",skinPath=editorRoot+"xheditor_skin\/"+settings.skin+"\/",arrEmots=itemEmots,urlType=settings.urlType,urlBase=settings.urlBase,emotPath=settings.emotPath,emotPath=emotPath?emotPath:editorRoot+"xheditor_emot\/",selEmotGroup="";arrEmots=$.extend({},arrEmots,settings.emots),emotPath=getLocalUrl(emotPath,"rel",urlBase?urlBase:null),bShowBlocktag=settings.showBlocktag,bShowBlocktag&&(bodyClass+=" showBlocktag");var arrShortCuts=[];this.init=function(){function e(e){var t,i=$(e.target);(t=i.css("width"))&&i.css("width","").attr("width",t.replace(\/[^0-9%]+\/g,"")),(t=i.css("height"))&&i.css("height","").attr("height",t.replace(\/[^0-9%]+\/g,""))}0===$("#"+idCSS).length&&$("head").append('<link id="'+idCSS+'" rel="stylesheet" type="text\/css" href="'+skinPath+'ui.css" \/>');var t=_jText.outerWidth(),i=_jText.outerHeight(),s=settings.width||_text.style.width||(t>10?t:0);editorHeight=settings.height||_text.style.height||(i>10?i:150),\/^\\d+(?:\\.\\d+)?$\/.test(s)&&(s+="px"),is(editorHeight,"string")&&(editorHeight=editorHeight.replace(\/[^\\d]+\/g,""));var a,n,o=settings.background||_text.style.background,l=['<span class="xheGStart"\/>'],r=\/\\||\\\/\/i;$.each(settings.tools,function(e,t){if(t.match(r)&&l.push('<span class="xheGEnd"\/>'),"|"===t)l.push('<span class="xheSeparator"\/>');else if("\/"===t)l.push("<br \/>");else{if(a=arrTools[t],!a)return;n=a.c?a.c:"xheIcon xheBtn"+t,l.push('<span><a href="#" title="{#'+a.t+'}" cmd="'+t+'" class="xheButton xheEnabled" tabindex="-1" role="button"><span class="'+n+'" unselectable="on" style="font-size:0;color:transparent;text-indent:-999px;">'+a.t+"<\/span><\/a><\/span>"),a.s&&_this.addShortcuts(a.s,t)}t.match(r)&&l.push('<span class="xheGStart"\/>')}),l.push('<span class="xheGEnd"\/><br \/>'),_jText.after($('<input type="text" id="'+idFixFFCursor+'" style="position:absolute;display:none;" \/><span id="'+idContainer+'" class="xhe_'+settings.skin+'" style="display:none"><table cellspacing="0" cellpadding="0" class="xheLayout" style="'+("0px"!=s?"width:"+s+";":"")+"height:"+editorHeight+'px;" role="presentation"><tr><td id="'+idTools+'" class="xheTool" unselectable="on" style="height:1px;" role="presentation"><\/td><\/tr><tr><td id="'+idIframeArea+'" class="xheIframeArea" role="presentation"><iframe frameborder="0" id="'+idIframe+'" src="javascript:;" style="width:100%;"><\/iframe><\/td><\/tr><\/table><\/span>')),_jTools=$("#"+idTools),_jArea=$("#"+idIframeArea),headHTML='<meta http-equiv="Content-Type" content="text\/html; charset=utf-8" \/><link rel="stylesheet" href="'+skinPath+'iframe.css"\/>';var h=settings.loadCSS;if(h)if(is(h,"array"))for(var c in h)headHTML+='<link rel="stylesheet" href="'+h[c]+'"\/>';else headHTML+=h.match(\/\\s*<style(\\s+[^>]*?)?>[\\s\\S]+?<\\\/style>\\s*\/i)?h:'<link rel="stylesheet" href="'+h+'"\/>';var d='<!DOCTYPE html><html xmlns="http:\/\/www.w3.org\/1999\/xhtml"><head>'+headHTML+"<title>{#defaultReadTip} "+(settings.readTip?settings.readTip:"")+"<\/title>";o&&(d+="<style>html{background:"+o+";}<\/style>"),d+='<\/head><body spellcheck="0" class="editMode'+bodyClass+'"><\/body><\/html>',_this.win=_win=$("#"+idIframe)[0].contentWindow,_jWin=$(_win);try{this.doc=_doc=_win.document,_jDoc=$(_doc),_doc.open(),_doc.write(getLang(d)),_doc.close(),isIE?_doc.body.contentEditable="true":_doc.designMode="On"}catch(u){}setTimeout(setOpts,300),_this.setSource(),_win.setInterval=null,_jTools.append(getLang(l.join(""))).bind("mousedown contextmenu",returnFalse).click(function(e){var t=$(e.target).closest("a");return t.is(".xheEnabled")&&(clearTimeout(timer),_jTools.find("a").attr("tabindex","-1"),ev=e,_this.exec(t.attr("cmd"))),!1}),_jTools.find(".xheButton").hover(function(e){var t=$(this),i=settings.hoverExecDelay,s=lastAngle;if(lastAngle=null,-1===i||bDisableHoverExec||!t.is(".xheEnabled"))return!1;if(s&&s>10)return bDisableHoverExec=!0,setTimeout(function(){bDisableHoverExec=!1},100),!1;var a=t.attr("cmd"),n=1===arrTools[a].h;return n?(bQuickHoverExec&&(i=0),i>=0&&(timer=setTimeout(function(){ev=e,lastPoint={x:ev.clientX,y:ev.clientY},_this.exec(a)},i)),undefined):(_this.hidePanel(),!1)},function(){lastPoint=null,timer&&clearTimeout(timer)}).mousemove(function(e){if(lastPoint){var t={x:e.clientX-lastPoint.x,y:e.clientY-lastPoint.y};if(Math.abs(t.x)>1||Math.abs(t.y)>1){if(t.x>0&&t.y>0){var i=Math.round(Math.atan(t.y\/t.x)\/.017453293);lastAngle=lastAngle?(lastAngle+i)\/2:i}else lastAngle=null;lastPoint={x:e.clientX,y:e.clientY}}}}),_jPanel=$("#xhePanel"),_jShadow=$("#xheShadow"),_jCntLine=$("#xheCntLine"),0===_jPanel.length&&(_jPanel=$('<div id="xhePanel"><\/div>').mousedown(function(e){e.stopPropagation()}),_jShadow=$('<div id="xheShadow"><\/div>'),_jCntLine=$('<div id="xheCntLine"><\/div>'),setTimeout(function(){$(document.body).append(_jPanel).append(_jShadow).append(_jCntLine)},10)),$("#"+idContainer).show(),_jText.hide(),_jArea.css("height",editorHeight-_jTools.outerHeight()),isIE&8>browerVer&&setTimeout(function(){_jArea.css("height",editorHeight-_jTools.outerHeight())},1),_jText.focus(_this.focus),_jForm.submit(saveResult).bind("reset",loadReset),settings.submitID&&$("#"+settings.submitID).mousedown(saveResult),$(window).bind("unload beforeunload",saveResult).bind("resize",fixFullHeight),$(document).mousedown(clickCancelPanel),bCheckEscInit||($(document).keydown(checkEsc),bCheckEscInit=!0),_jWin.focus(function(){settings.focus&&settings.focus()}).blur(function(){settings.blur&&settings.blur()}),isWebkit&&_jWin.click(fixAppleSel),_jDoc.mousedown(clickCancelPanel).keydown(checkShortcuts).keypress(forcePtag).dblclick(checkDblClick).bind("mousedown click",function(e){_jText.trigger(e.type)}),isIE&&(_jDoc.keydown(function(e){var t=_this.getRng();return 8===e.which&&t.item?($(t.item(0)).remove(),!1):undefined}),_jDoc.bind("controlselect",function(t){t=t.target,$.nodeName(t,"IMG")&&$(t).unbind("resizeend",e).bind("resizeend",e)})),_jDoc.keydown(function(e){var t=e.which;return e.altKey&&t>=49&&57>=t?(_jTools.find("a").attr("tabindex","0"),_jTools.find(".xheGStart").eq(t-49).next().find("a").focus(),_doc.title="\\ufeff\\ufeff",!1):undefined}).click(function(){_jTools.find("a").attr("tabindex","-1")}),_jTools.keydown(function(e){var t=e.which;if(27==t)_jTools.find("a").attr("tabindex","-1"),_this.focus();else if(e.altKey&&t>=49&&57>=t)return _jTools.find(".xheGStart").eq(t-49).next().find("a").focus(),!1});var p=$(_doc.documentElement);isOpera?p.bind("keydown",function(e){e.ctrlKey&&86===e.which&&cleanPaste()}):p.bind(isIE?"beforepaste":"paste",cleanPaste),settings.disableContextmenu&&p.bind("contextmenu",returnFalse),settings.html5Upload&&p.bind("dragenter dragover",function(e){var t;return(t=e.originalEvent.dataTransfer.types)&&-1!==$.inArray("Files",t)?!1:undefined}).bind("drop",function(e){function t(e){var t,i,s;for(a=0;e.length>a;a++){if(i=e[a].name.replace(\/.+\\.\/,""),!(t=o.match(RegExp("(\\\\w+):[^:]*,"+i+"(?:,|$)","i"))))return 1;if(s){if(s!==t[1])return 2}else s=t[1]}return s}var i,s=e.originalEvent.dataTransfer;if(s&&(i=s.files)&&i.length>0){var a,n,o,l=["Link","Img","Flash","Media"],r=[];for(a in l)n=l[a],settings["up"+n+"Url"]&&settings["up"+n+"Url"].match(\/^[^!].*\/i)&&r.push(n+":,"+settings["up"+n+"Ext"]);return 0===r.length?!1:(o=r.join(","),n=t(i),1===n?alert(getLang("upload.extLimit",o.replace(\/\\w+:,\/g,""))):2===n?alert(getLang("upload.typeLimit")):n&&_this.startUpload(i,settings["up"+n+"Url"],"*",function(e){var t,i=[],s=settings.onUpload;s&&s(e);for(var a=0,o=e.length;o>a;a++)t=e[a],url=is(t,"string")?t:t.url,"!"===url.substr(0,1)&&(url=url.substr(1)),i.push(url);_this.exec(n),$("#xhe"+n+"Url").val(i.join(" ")),$("#xheSave").click()}),!1)}});var g=settings.shortcuts;g&&$.each(g,function(e,t){_this.addShortcuts(e,t)}),xCount++,bInit=!0,settings.fullscreen?_this.toggleFullscreen():settings.sourceMode&&setTimeout(_this.toggleSource,20);var f=settings.plugins;return f&&$.each(f,function(e,t){var i=t.i;i!==undefined&&i(_this)}),!0},this.remove=function(){_this.hidePanel(),saveResult(),_jText.unbind("focus",_this.focus),_jForm.unbind("submit",saveResult).unbind("reset",loadReset),settings.submitID&&$("#"+settings.submitID).unbind("mousedown",saveResult),$(window).unbind("unload beforeunload",saveResult).unbind("resize",fixFullHeight),$(document).unbind("mousedown",clickCancelPanel),$("#"+idContainer).remove(),$("#"+idFixFFCursor).remove(),_jText.show(),bInit=!1},this.saveBookmark=function(){if(!bSource){_this.focus();var e=_this.getRng();e=e.cloneRange?e.cloneRange():e,bookmark={top:_jWin.scrollTop(),rng:e}}},this.loadBookmark=function(){if(!bSource&&bookmark){_this.focus();var e=bookmark.rng;if(isIE)e.select();else{var t=_this.getSel();t.removeAllRanges(),t.addRange(e)}_jWin.scrollTop(bookmark.top),bookmark=null}},this.focus=function(){if(bSource?$("#sourceCode",_doc).focus():_win.focus(),isIE){var e=_this.getRng();e.parentElement&&e.parentElement().ownerDocument!==_doc&&_this.setTextCursor()}return!1},this.setTextCursor=function(e){var t=_this.getRng(!0),i=_doc.body;if(isIE)t.moveToElementText(i);else{for(var s=e?"lastChild":"firstChild";3!=i.nodeType&&i[s];)i=i[s];t.selectNode(i)}if(t.collapse(e?!1:!0),isIE)t.select();else{var a=_this.getSel();a.removeAllRanges(),a.addRange(t)}},this.getSel=function(){return _doc.selection?_doc.selection:_win.getSelection()},this.getRng=function(e){var t,i;try{e||(t=_this.getSel(),i=t.createRange?t.createRange():t.rangeCount>0?t.getRangeAt(0):null),i||(i=_doc.body.createTextRange?_doc.body.createTextRange():_doc.createRange())}catch(s){}return i},this.getParent=function(e){var t,i=_this.getRng();return isIE?t=i.item?i.item(0):i.parentElement():(t=i.commonAncestorContainer,i.collapsed||i.startContainer===i.endContainer&&2>i.startOffset-i.endOffset&&i.startContainer.hasChildNodes()&&(t=i.startContainer.childNodes[i.startOffset])),e=e?e:"*",t=$(t),t.is(e)||(t=$(t).closest(e)),t},this.getSelect=function(e){var t=_this.getSel(),i=_this.getRng(),s=!0;if(s=!i||i.item?!1:!t||0===i.boundingWidth||i.collapsed,"text"===e)return s?"":i.text||(t.toString?""+t:"");var a;if(i.cloneContents){var n,o=$("<div><\/div>");n=i.cloneContents(),n&&o.append(n),a=o.html()}else a=is(i.item)?i.item(0).outerHTML:is(i.htmlText)?i.htmlText:""+i;return s&&(a=""),a=_this.processHTML(a,"read"),a=_this.cleanHTML(a),a=_this.formatXHTML(a)},this.pasteHTML=function(e,t){if(bSource)return!1;_this.focus(),e=_this.processHTML(e,"write");var i=_this.getSel(),s=_this.getRng();if(t!==undefined){if(s.item){var a=s.item(0);s=_this.getRng(!0),s.moveToElementText(a),s.select()}s.collapse(t)}if(e+="<"+(isIE?"img":"span")+' id="_xhe_temp" width="0" height="0" \/>',s.insertNode){if($(s.startContainer).closest("style,script").length>0)return!1;s.deleteContents(),s.insertNode(s.createContextualFragment(e))}else"control"===i.type.toLowerCase()&&(i.clear(),s=_this.getRng()),s.pasteHTML(e);var n=$("#_xhe_temp",_doc),o=n[0];isIE?(s.moveToElementText(o),s.select()):(s.selectNode(o),i.removeAllRanges(),i.addRange(s)),n.remove()},this.pasteText=function(e,t){e||(e=""),e=_this.domEncode(e),e=e.replace(\/\\r?\\n\/g,"<br \/>"),_this.pasteHTML(e,t)},this.appendHTML=function(e){return bSource?!1:(_this.focus(),e=_this.processHTML(e,"write"),$(_doc.body).append(e),_this.setTextCursor(!0),undefined)},this.domEncode=function(e){return e.replace(regEntities,function(e){return arrEntities[e]})},this.setSource=function(e){bookmark=null,"string"!=typeof e&&""!==e&&(e=_text.value),bSource?$("#sourceCode",_doc).val(e):(settings.beforeSetSource&&(e=settings.beforeSetSource(e)),e=_this.cleanHTML(e),e=_this.formatXHTML(e),e=_this.processHTML(e,"write"),isIE?(_doc.body.innerHTML='<img id="_xhe_temp" width="0" height="0" \/>'+e,$("#_xhe_temp",_doc).remove()):_doc.body.innerHTML=e)},this.processHTML=function(e,t){function i(e,t,i,s,a,o){var l,r,h,c,d="";if(l=s.match(\/font-family\\s*:\\s*([^;"]+)\/i),l&&(d+=' face="'+l[1]+'"'),r=s.match(\/font-size\\s*:\\s*([^;"]+)\/i)){r=r[1].toLowerCase();for(var u=0;n.length>u;u++)if(r===n[u].n||r===n[u].s){h=u+1;break}h&&(d+=' size="'+h+'"',s=s.replace(\/(^|;)(\\s*font-size\\s*:\\s*[^;"]+;?)+\/gi,"$1"))}if(c=s.match(\/(?:^|[\\s;])color\\s*:\\s*([^;"]+)\/i)){var p;if(p=c[1].match(\/\\s*rgb\\s*\\(\\s*(\\d+)\\s*,\\s*(\\d+)\\s*,\\s*(\\d+)\\s*\\)\/i)){c[1]="#";for(var g=1;3>=g;g++)c[1]+=("0"+(p[g]-0).toString(16)).slice(-2)}c[1]=c[1].replace(\/^#([0-9a-f])([0-9a-f])([0-9a-f])$\/i,"#$1$1$2$2$3$3"),d+=' color="'+c[1]+'"'}return s=s.replace(\/(^|;)(\\s*(font-family|color)\\s*:\\s*[^;"]+;?)+\/gi,"$1"),""!==d?(s&&(d+=' style="'+s+'"'),"<font"+(i?i:"")+d+(a?a:"")+">"+o+"<\/font>"):e}function s(e,t,i,s,a){for(var n,l,r=(i?i:"")+(s?s:""),h=[],c=[],d=0;o.length>d;d++)n=o[d].r,l=o[d].t,r=r.replace(n,function(){return h.push("<"+l+">"),c.push("<\/"+l+">"),""});return r=r.replace(\/\\s+style\\s*=\\s*"\\s*"\/i,""),(r?"<span"+r+">":"")+h.join("")+a+c.join("")+(r?"<\/span>":"")}var a=' class="Apple-style-span"',n=settings.listFontsize;if("write"===t)e=e.replace(\/(<(\\\/?)(\\w+))((?:\\s+[\\w\\-:]+\\s*=\\s*(?:"[^"]*"|'[^']*'|[^>\\s]+))*)\\s*((\\\/?)>)\/g,function(e,t,i,s,n,o,l){s=s.toLowerCase(),isMozilla?"strong"===s?s="b":"em"===s&&(s="i"):isWebkit&&("strong"===s?(s="span",i||(n+=a+' style="font-weight: bold;"')):"em"===s?(s="span",i||(n+=a+' style="font-style: italic;"')):"u"===s?(s="span",i||(n+=a+' style="text-decoration: underline;"')):"strike"===s&&(s="span",i||(n+=a+' style="text-decoration: line-through;"')));var r,h="";if("del"===s)s="strike";else if("img"===s)n=n.replace(\/\\s+emot\\s*=\\s*("[^"]*"|'[^']*'|[^>\\s]+)\/i,function(e,t){return r=t.match(\/^(["']?)(.*)\\1\/)[2],r=r.split(","),r[1]||(r[1]=r[0],r[0]=""),"default"===r[0]&&(r[0]=""),settings.emotMark?e:""});else if("a"===s)!n.match(\/ href=[^ ]\/i)&&n.match(\/ name=[^ ]\/i)&&(h+=" xhe-anchor"),l&&(o="><\/a>");else if("table"===s&&!i){var c=n.match(\/\\s+border\\s*=\\s*("[^"]*"|'[^']*'|[^>\\s]+)\/i);(!c||c[1].match(\/^(["']?)\\s*0\\s*\\1$\/))&&(h+=" xhe-border")}var d;if(n=n.replace(\/\\s+([\\w\\-:]+)\\s*=\\s*("[^"]*"|'[^']*'|[^>\\s]+)\/g,function(e,t,i){return t=t.toLowerCase(),i=i.match(\/^(["']?)(.*)\\1\/)[2],aft="",isIE&&t.match(\/^(disabled|checked|readonly|selected)$\/)&&i.match(\/^(false|0)$\/i)?"":"img"===s&&r&&"src"===t?"":(t.match(\/^(src|href)$\/)&&(aft=" _xhe_"+t+'="'+i+'"',urlBase&&(i=getLocalUrl(i,"abs",urlBase))),h&&"class"===t&&(i+=" "+h,h=""),isWebkit&&"style"===t&&"span"===s&&i.match(\/(^|;)\\s*(font-family|font-size|color|background-color)\\s*:\\s*[^;]+\\s*(;|$)\/i)&&(d=!0)," "+t+'="'+i+'"'+aft)}),r){var u=emotPath+(r[0]?r[0]:"default")+"\/"+r[1]+".gif";n+=' src="'+u+'" _xhe_src="'+u+'"'}return d&&(n+=a),h&&(n+=' class="'+h+'"'),"<"+i+s+n+o}),isIE&&(e=e.replace(\/&apos;\/gi,"&#39;")),isWebkit||(e=e.replace(\/<(span)(\\s+[^>]*?)?\\s+style\\s*=\\s*"((?:[^"]*?;)?\\s*(?:font-family|font-size|color)\\s*:[^"]*)"( [^>]*)?>(((?!<\\1(\\s+[^>]*?)?>)[\\s\\S]|<\\1(\\s+[^>]*?)?>((?!<\\1(\\s+[^>]*?)?>)[\\s\\S]|<\\1(\\s+[^>]*?)?>((?!<\\1(\\s+[^>]*?)?>)[\\s\\S])*?<\\\/\\1>)*?<\\\/\\1>)*?)<\\\/\\1>\/gi,i),e=e.replace(\/<(span)(\\s+[^>]*?)?\\s+style\\s*=\\s*"((?:[^"]*?;)?\\s*(?:font-family|font-size|color)\\s*:[^"]*)"( [^>]*)?>(((?!<\\1(\\s+[^>]*?)?>)[\\s\\S]|<\\1(\\s+[^>]*?)?>((?!<\\1(\\s+[^>]*?)?>)[\\s\\S])*?<\\\/\\1>)*?)<\\\/\\1>\/gi,i),e=e.replace(\/<(span)(\\s+[^>]*?)?\\s+style\\s*=\\s*"((?:[^"]*?;)?\\s*(?:font-family|font-size|color)\\s*:[^"]*)"( [^>]*)?>(((?!<\\1(\\s+[^>]*?)?>)[\\s\\S])*?)<\\\/\\1>\/gi,i)),e=e.replace(\/<(td|th)(\\s+[^>]*?)?>(\\s|&nbsp;)*<\\\/\\1>\/gi,"<$1$2>"+(isIE?"":"<br \/>")+"<\/$1>");else{if(isWebkit)for(var o=[{r:\/font-weight\\s*:\\s*bold;?\/gi,t:"strong"},{r:\/font-style\\s*:\\s*italic;?\/gi,t:"em"},{r:\/text-decoration\\s*:\\s*underline;?\/gi,t:"u"},{r:\/text-decoration\\s*:\\s*line-through;?\/gi,t:"strike"}],l=0;2>l;l++)e=e.replace(\/<(span)(\\s+[^>]*?)?\\s+class\\s*=\\s*"Apple-style-span"(\\s+[^>]*?)?>(((?!<\\1(\\s+[^>]*?)?>)[\\s\\S]|<\\1(\\s+[^>]*?)?>((?!<\\1(\\s+[^>]*?)?>)[\\s\\S]|<\\1(\\s+[^>]*?)?>((?!<\\1(\\s+[^>]*?)?>)[\\s\\S])*?<\\\/\\1>)*?<\\\/\\1>)*?)<\\\/\\1>\/gi,s),e=e.replace(\/<(span)(\\s+[^>]*?)?\\s+class\\s*=\\s*"Apple-style-span"(\\s+[^>]*?)?>(((?!<\\1(\\s+[^>]*?)?>)[\\s\\S]|<\\1(\\s+[^>]*?)?>((?!<\\1(\\s+[^>]*?)?>)[\\s\\S])*?<\\\/\\1>)*?)<\\\/\\1>\/gi,s),e=e.replace(\/<(span)(\\s+[^>]*?)?\\s+class\\s*=\\s*"Apple-style-span"(\\s+[^>]*?)?>(((?!<\\1(\\s+[^>]*?)?>)[\\s\\S])*?)<\\\/\\1>\/gi,s);e=e.replace(\/(<(\\w+))((?:\\s+[\\w\\-:]+\\s*=\\s*(?:"[^"]*"|'[^']*'|[^>\\s]+))*)\\s*(\\\/?>)\/g,function(e,t,i,s,a){i=i.toLowerCase();$/;"	p
var.specialKeys.33	js/xheditor.min.js	/^(function(){var e={};window.XHEDITOR=e})(),function(e,t){e.mapLang={},e.setLang=function(i,s){s===t&&(s=i,i=""),""!==i&&(i+=".");var a,n;for(var o in s)n=s[o],a=i+o,"string"==typeof n||n instanceof Array?e.mapLang[a]=n:e.setLang(a,n)},e.getLang=function(i){var s=e.mapLang[i];if(s===t&&(s=i.replace(\/{#([^{}]+)}\/g,function(t,i){var s=e.mapLang[i];return s?s:i})),"string"==typeof s){var a=arguments;s=s.replace(\/{\\$(\\d+)}\/g,function(e,i){var s=a[parseInt(i,10)+1];return s!==t?s:e})}return s}}(XHEDITOR),function(XHEDITOR,$,undefined){var agent=navigator.userAgent.toLowerCase(),bMobile=\/mobile\/i.test(agent),browser=$.browser,browerVer=parseFloat(browser.version),isIE=browser.msie,isMozilla=browser.mozilla,isWebkit=browser.webkit,isOpera=browser.opera,isChrome=browser.chrome,bAir=agent.indexOf(" adobeair\/")>-1,xCount=0,bShowPanel=!1,bClickCancel=!0,bShowModal=!1,bCheckEscInit=!1,_jPanel,_jShadow,_jCntLine,_jPanelButton,jModal,jModalShadow,layerShadow,jOverlay,jHideSelect,onModalRemove,editorRoot,getLang=XHEDITOR.getLang;if($("script[src*=xheditor]").each(function(){var e=this.src;return e.match(\/xheditor[^\\\/]*\\.js\/i)?(editorRoot=e.replace(\/[\\?#].*$\/,"").replace(\/(^|[\\\/\\\\])[^\\\/]*$\/,"$1"),!1):undefined}),isIE){try{document.execCommand("BackgroundImageCache",!1,!0)}catch(e){}var jqueryVer=$.fn.jquery;jqueryVer&&jqueryVer.match(\/^1\\.[67]\/)&&($.attrHooks.width=$.attrHooks.height=null)}var specialKeys={27:"esc",9:"tab",32:"space",13:"enter",8:"backspace",145:"scroll",20:"capslock",144:"numlock",19:"pause",45:"insert",36:"home",46:"del",35:"end",33:"pageup",34:"pagedown",37:"left",38:"up",39:"right",40:"down",112:"f1",113:"f2",114:"f3",115:"f4",116:"f5",117:"f6",118:"f7",119:"f8",120:"f9",121:"f10",122:"f11",123:"f12"},arrAlign=[{v:"justifyleft"},{v:"justifycenter"},{v:"justifyright"},{v:"justifyfull"}],arrList=[{v:"insertOrderedList"},{v:"insertUnorderedList"}],htmlPastetext='<div><label for="xhePastetextValue">{#PastetextTip}<\/label><\/div><div><textarea id="xhePastetextValue" wrap="soft" spellcheck="false" style="width:300px;height:100px;" \/><\/div><div style="text-align:right;"><input type="button" id="xheSave" value="{#dialogOk}" \/><\/div>',htmlLink='<div><label for="xheLinkUrl">{#link.url}<\/label><input type="text" id="xheLinkUrl" value="http:\/\/" class="xheText" \/><\/div><div><label for="xheLinkTarget">{#link.target}<\/label><select id="xheLinkTarget"><option selected="selected" value="">{#default}<\/option><option value="_blank">{#link.targetBlank}<\/option><option value="_self">{#link.targetSelf}<\/option><option value="_parent">{#link.targetParent}<\/option><\/select><\/div><div style="display:none"><label for="xheLinkText">{#link.linkText}<\/label><input type="text" id="xheLinkText" value="" class="xheText" \/><\/div><div style="text-align:right;"><input type="button" id="xheSave" value="{#dialogOk}" \/><\/div>',htmlAnchor='<div><label for="xheAnchorName">{#anchor.name}<\/label><input type="text" id="xheAnchorName" value="" class="xheText" \/><\/div><div style="text-align:right;"><input type="button" id="xheSave" value="{#dialogOk}" \/><\/div>',htmlImg='<div><label for="xheImgUrl">{#img.url}<\/label><input type="text" id="xheImgUrl" value="http:\/\/" class="xheText" \/><\/div><div><div><label for="xheImgAlt">{#img.alt}<\/label><input type="text" id="xheImgAlt" \/><\/div><div><label for="xheImgAlign">{#img.align}<\/label><select id="xheImgAlign"><option selected="selected" value="">{#default}<\/option><option value="left">{#img.alignLeft}<\/option><option value="right">{#img.alignRight}<\/option><option value="top">{#img.alignTop}<\/option><option value="middle">{#img.alignMiddle}<\/option><option value="baseline">{#img.alignBaseline}<\/option><option value="bottom">{#img.alignBottom}<\/option><\/select><\/div><div><label for="xheImgWidth">{#img.width}<\/label><input type="text" id="xheImgWidth" style="width:40px;" \/> <label for="xheImgHeight">{#img.height}<\/label><input type="text" id="xheImgHeight" style="width:40px;" \/><\/div><div><label for="xheImgBorder">{#img.border}<\/label><input type="text" id="xheImgBorder" style="width:40px;" \/><\/div><div><label for="xheImgHspace">{#img.hspace}<\/label><input type="text" id="xheImgHspace" style="width:40px;" \/> <label for="xheImgVspace">{#img.vspace}<\/label><input type="text" id="xheImgVspace" style="width:40px;" \/><\/div><div style="text-align:right;"><input type="button" id="xheSave" value="{#dialogOk}" \/><\/div>',htmlFlash='<div><label for="xheFlashUrl">{#flash.url}<\/label><input type="text" id="xheFlashUrl" value="http:\/\/" class="xheText" \/><\/div><div><label for="xheFlashWidth">{#flash.width}<\/label><input type="text" id="xheFlashWidth" style="width:40px;" value="480" \/> <label for="xheFlashHeight">{#flash.height}<\/label><input type="text" id="xheFlashHeight" style="width:40px;" value="400" \/><\/div><div style="text-align:right;"><input type="button" id="xheSave" value="{#dialogOk}" \/><\/div>',htmlMedia='<div><label for="xheMediaUrl">{#media.url}<\/label><input type="text" id="xheMediaUrl" value="http:\/\/" class="xheText" \/><\/div><div><label for="xheMediaWidth">{#media.width}<\/label><input type="text" id="xheMediaWidth" style="width:40px;" value="480" \/> <label for="xheMediaHeight">{#media.height}<\/label><input type="text" id="xheMediaHeight" style="width:40px;" value="400" \/><\/div><div style="text-align:right;"><input type="button" id="xheSave" value="{#dialogOk}" \/><\/div>',htmlTable='<div><label for="xheTableRows">{#table.rows}<\/label><input type="text" id="xheTableRows" style="width:40px;" value="3" \/> <label for="xheTableColumns">{#table.columns}<\/label><input type="text" id="xheTableColumns" style="width:40px;" value="2" \/><\/div><div><label for="xheTableHeaders">{#table.headers}<\/label><select id="xheTableHeaders"><option selected="selected" value="">{#none}<\/option><option value="row">{#table.headersRow}<\/option><option value="col">{#table.headersCol}<\/option><option value="both">{#table.headersBoth}<\/option><\/select><\/div><div><label for="xheTableWidth">{#table.width}<\/label><input type="text" id="xheTableWidth" style="width:40px;" value="200" \/> <label for="xheTableHeight">{#table.height}<\/label><input type="text" id="xheTableHeight" style="width:40px;" value="" \/><\/div><div><label for="xheTableBorder">{#table.border}<\/label><input type="text" id="xheTableBorder" style="width:40px;" value="1" \/><\/div><div><label for="xheTableCellSpacing">{#table.cellSpacing}<\/label><input type="text" id="xheTableCellSpacing" style="width:40px;" value="1" \/> <label for="xheTableCellPadding">{#table.cellPadding}<\/label><input type="text" id="xheTableCellPadding" style="width:40px;" value="1" \/><\/div><div><label for="xheTableAlign">{#table.align}<\/label><select id="xheTableAlign"><option selected="selected" value="">{#default}<\/option><option value="left">{#table.alignLeft}<\/option><option value="center">{#table.alignCenter}<\/option><option value="right">{#table.alignRight}<\/option><\/select><\/div><div><label for="xheTableCaption">{#table.caption}<\/label><input type="text" id="xheTableCaption" \/><\/div><div style="text-align:right;"><input type="button" id="xheSave" value="{#dialogOk}" \/><\/div>',htmlAbout='<div style="font:12px Arial;width:245px;word-wrap:break-word;word-break:break-all;outline:none;" role="dialog" tabindex="-1"><p><span style="font-size:20px;color:#1997DF;">xhEditor<\/span><br \/>v1.2.1 (build 130225)<\/p><p>{#aboutXheditor}<\/p><p>Copyright &copy; <a href="http:\/\/xheditor.com\/" target="_blank">xhEditor.com<\/a>. All rights reserved.<\/p><\/div>',itemEmots={"default":{name:"{#default}",width:24,height:24,line:7,list:["smile","tongue","titter","laugh","sad","wronged","fastcry","cry","wail","mad","knock","curse","crazy","angry","ohmy","awkward","panic","shy","cute","envy","proud","struggle","quiet","shutup","doubt","despise","sleep","bye"]}},arrTools={Cut:{t:"Cut"},Copy:{t:"Copy"},Paste:{t:"Paste"},Pastetext:{t:"Pastetext",h:isIE?0:1},Blocktag:{t:"Blocktag",h:1},Fontface:{t:"Fontface",h:1},FontSize:{t:"FontSize",h:1},Bold:{t:"Bold",s:"Ctrl+B"},Italic:{t:"Italic",s:"Ctrl+I"},Underline:{t:"Underline",s:"Ctrl+U"},Strikethrough:{t:"Strikethrough"},FontColor:{t:"FontColor",h:1},BackColor:{t:"BackColor",h:1},SelectAll:{t:"SelectAll"},Removeformat:{t:"Removeformat"},Align:{t:"Align",h:1},List:{t:"List",h:1},Outdent:{t:"Outdent"},Indent:{t:"Indent"},Link:{t:"Link",s:"Ctrl+L",h:1},Unlink:{t:"Unlink"},Anchor:{t:"Anchor",h:1},Img:{t:"Img",h:1},Flash:{t:"Flash",h:1},Media:{t:"Media",h:1},Hr:{t:"Hr"},Emot:{t:"Emot",s:"ctrl+e",h:1},Table:{t:"Table",h:1},Source:{t:"Source"},Preview:{t:"Preview"},Print:{t:"Print",s:"Ctrl+P"},Fullscreen:{t:"Fullscreen",s:"Esc"},About:{t:"About"}},toolsThemes={mini:"Bold,Italic,Underline,Strikethrough,|,Align,List,|,Link,Img",simple:"Blocktag,Fontface,FontSize,Bold,Italic,Underline,Strikethrough,FontColor,BackColor,|,Align,List,Outdent,Indent,|,Link,Img,Emot",full:"Cut,Copy,Paste,Pastetext,|,Blocktag,Fontface,FontSize,Bold,Italic,Underline,Strikethrough,FontColor,BackColor,SelectAll,Removeformat,|,Align,List,Outdent,Indent,|,Link,Unlink,Anchor,Img,Flash,Media,Hr,Emot,Table,|,Source,Preview,Print,Fullscreen"};toolsThemes.mfull=toolsThemes.full.replace(\/\\|(,Align)\/i,"\/$1");var arrDbClick={a:"Link",img:"Img",embed:"Embed"},uploadInputname="filedata",arrEntities={"<":"&lt;",">":"&gt;",'"':"&quot;","\\u00ae":"&reg;","\\u00a9":"&copy;"},regEntities=\/[<>"\\u00ae\\u00a9]\/g,Xheditor=function(textarea,options){function checkDblClick(e){var t=e.target,i=arrDbClick[t.tagName.toLowerCase()];if(i){if("Embed"===i){var s={"application\/x-shockwave-flash":"Flash","application\/x-mplayer2":"Media"};i=s[t.type.toLowerCase()]}_this.exec(i)}}function checkEsc(e){return 27===e.which?(bShowModal?_this.removeModal():bShowPanel&&_this.hidePanel(),!1):undefined}function loadReset(){setTimeout(_this.setSource,10)}function saveResult(){_this.getSource()}function cleanPaste(e){var t,i,s;if(e&&(t=e.originalEvent.clipboardData)&&(i=t.items)&&(s=i[0])&&"file"==s.kind&&s.type.match(\/^image\\\/\/i)){var a=s.getAsFile(),n=new FileReader;return n.onload=function(){var e='<img src="'+event.target.result+'">';e=replaceRemoteImg(e),_this.pasteHTML(e)},n.readAsDataURL(a),!1}var o=settings.cleanPaste;if(0===o||bSource||bCleanPaste)return!0;bCleanPaste=!0,_this.saveBookmark();var l=isIE?"pre":"div",r=$("<"+l+' class="xhe-paste">\\ufeff\\ufeff<\/'+l+">",_doc).appendTo(_doc.body),h=r[0],c=_this.getSel(),d=_this.getRng(!0);r.css("top",_jWin.scrollTop()),isIE?(d.moveToElementText(h),d.select()):(d.selectNodeContents(h),c.removeAllRanges(),c.addRange(d)),setTimeout(function(){var e,t=3===o;if(t)r.html(r.html().replace(\/<br(\\s+[^<>]*)?>\/gi,"\\n")),e=r.text();else{var i=$(".xhe-paste",_doc.body),s=[];i.each(function(e,t){0==$(t).find(".xhe-paste").length&&s.push(t.innerHTML)}),e=s.join("<br \/>")}r.remove(),_this.loadBookmark(),e=e.replace(\/^[\\s\\uFEFF]+|[\\s\\uFEFF]+$\/g,""),e&&(t?_this.pasteText(e):(e=_this.cleanHTML(e),e=_this.cleanWord(e),e=_this.formatXHTML(e),(!settings.onPaste||settings.onPaste&&(e=settings.onPaste(e))!==!1)&&(e=replaceRemoteImg(e),_this.pasteHTML(e)))),bCleanPaste=!1},0)}function replaceRemoteImg(e){var t=settings.localUrlTest,i=settings.remoteImgSaveUrl;if(t&&i){var s=[],a=0;e=e.replace(\/(<img)((?:\\s+[^>]*?)?(?:\\s+src="\\s*([^"]+)\\s*")(?: [^>]*)?)(\\\/?>)\/gi,function(e,i,n,o,l){return!\/^(https?|data:image)\/i.test(o)||\/_xhe_temp\/.test(n)||t.test(o)||(s[a]=o,n=n.replace(\/\\s+(width|height)="[^"]*"\/gi,"").replace(\/\\s+src="[^"]*"\/gi,' src="'+skinPath+'img\/waiting.gif" remoteimg="'+a++ +'"')),i+n+l}),s.length>0&&$.post(i,{urls:s.join("|")},function(e){e=e.split("|"),$("img[remoteimg]",_this.doc).each(function(){var t=$(this);xheAttr(t,"src",e[t.attr("remoteimg")]),t.removeAttr("remoteimg")})})}return e}function setCSS(e){try{_this._exec("styleWithCSS",e,!0)}catch(t){try{_this._exec("useCSS",!e,!0)}catch(t){}}}function setOpts(){if(bInit&&!bSource){setCSS(!1);try{_this._exec("enableObjectResizing",!0,!0)}catch(e){}if(isIE)try{_this._exec("BackgroundImageCache",!0,!0)}catch(e){}}}function forcePtag(e){if(bSource||13!==e.which||e.shiftKey||e.ctrlKey||e.altKey)return!0;var t=_this.getParent("p,h1,h2,h3,h4,h5,h6,pre,address,div,li");return t.is("li")?!0:settings.forcePtag?(0===t.length&&_this._exec("formatblock","<p>"),undefined):(_this.pasteHTML("<br \/>"),isIE&&t.length>0&&2===_this.getRng().parentElement().childNodes.length&&_this.pasteHTML("<br \/>"),!1)}function fixFullHeight(){isMozilla||isWebkit||(bFullscreen&&_jArea.height("100%").css("height",_jArea.outerHeight()-_jTools.outerHeight()),isIE&&_jTools.hide().show())}function fixAppleSel(e){if(e=e.target,e.tagName.match(\/(img|embed)\/i)){var t=_this.getSel(),i=_this.getRng(!0);i.selectNode(e),t.removeAllRanges(),t.addRange(i)}}function xheAttr(e,t,i){if(!t)return!1;var s="_xhe_"+t;return i&&(urlType&&(i=getLocalUrl(i,urlType,urlBase)),e.attr(t,urlBase?getLocalUrl(i,"abs",urlBase):i).removeAttr(s).attr(s,i)),e.attr(s)||e.attr(t)}function clickCancelPanel(){bClickCancel&&_this.hidePanel()}function checkShortcuts(e){if(bSource)return!0;var t=e.which,i=specialKeys[t],s=i?i:String.fromCharCode(t).toLowerCase();sKey="",sKey+=e.ctrlKey?"ctrl+":"",sKey+=e.altKey?"alt+":"",sKey+=e.shiftKey?"shift+":"",sKey+=s;var a,n=arrShortCuts[sKey];for(a in n){if(a=n[a],!$.isFunction(a))return _this.exec(a),!1;if(a.call(_this)===!1)return!1}}function is(e,t){var i=typeof e;return t?"array"===t&&e.hasOwnProperty&&e instanceof Array?!0:i===t:"undefined"!=i}function getLocalUrl(e,t,i){if(e.match(\/^(\\w+):\\\/\\\/\/i)&&!e.match(\/^https?:\/i)||\/^#\/i.test(e)||\/^data:\/i.test(e))return e;var s=i?$('<a href="'+i+'" \/>')[0]:location,a=s.protocol,n=s.host,o=s.hostname,l=s.port,r=s.pathname.replace(\/\\\\\/g,"\/").replace(\/[^\\\/]+$\/i,"");if(""===l&&(l="80"),""===r?r="\/":"\/"!==r.charAt(0)&&(r="\/"+r),e=$.trim(e),"abs"!==t&&(e=e.replace(RegExp(a+"\\\\\/\\\\\/"+o.replace(\/\\.\/g,"\\\\.")+"(?::"+l+")"+("80"===l?"?":"")+"(\/|$)","i"),"\/")),"rel"===t&&(e=e.replace(RegExp("^"+r.replace(\/([\\\/\\.\\+\\[\\]\\(\\)])\/g,"\\\\$1"),"i"),"")),"rel"!==t&&(e.match(\/^(https?:\\\/\\\/|\\\/)\/i)||(e=r+e),"\/"===e.charAt(0))){var h,c,d=[],u=e.split("\/"),p=u.length;for(c=0;p>c;c++)h=u[c],".."===h?d.pop():""!==h&&"."!==h&&d.push(h);""===u[p-1]&&d.push(""),e="\/"+d.join("\/")}return"abs"!==t||e.match(\/^https?:\\\/\\\/\/i)||(e=a+"\/\/"+n+e),e=e.replace(\/(https?:\\\/\\\/[^:\\\/?#]+):80(\\\/|$)\/i,"$1$2")}function checkFileExt(e,t){return"*"===t||e.match(RegExp(".("+t.replace(\/,\/g,"|")+")$","i"))?!0:(alert(getLang("upload.extLimit",t)),!1)}function formatBytes(e){var t=["Byte","KB","MB","GB","TB","PB"],i=Math.floor(Math.log(e)\/Math.log(1024));return(e\/Math.pow(1024,Math.floor(i))).toFixed(2)+t[i]}function returnFalse(){return!1}var _this=this,_text=textarea,_jText=$(_text),_jForm=_jText.closest("form"),_jTools,_jArea,_win,_jWin,_doc,_jDoc,bookmark,bInit=!1,bSource=!1,bFullscreen=!1,bCleanPaste=!1,outerScroll,bShowBlocktag=!1,sLayoutStyle="",ev=null,timer,bDisableHoverExec=!1,bQuickHoverExec=!1,lastPoint=null,lastAngle=null,editorHeight=0,settings=_this.settings=$.extend({},XHEDITOR.settings,options),plugins=settings.plugins,strPlugins=[];if(plugins&&(arrTools=$.extend({},arrTools,plugins),$.each(plugins,function(e){strPlugins.push(e)}),strPlugins=strPlugins.join(",")),settings.tools.match(\/^\\s*(m?full|simple|mini)\\s*$\/i)){var toolsTheme=toolsThemes[$.trim(settings.tools)];settings.tools=settings.tools.match(\/m?full\/i)&&plugins?toolsTheme.replace("Table","Table,"+strPlugins):toolsTheme}settings.tools.match(\/(^|,)\\s*About\\s*(,|$)\/i)||(settings.tools+=",About"),settings.tools=settings.tools.split(","),settings.editorRoot&&(editorRoot=settings.editorRoot),bAir===!1&&(editorRoot=getLocalUrl(editorRoot,"abs")),settings.urlBase&&(settings.urlBase=getLocalUrl(settings.urlBase,"abs"));var idCSS="xheCSS_"+settings.skin,idContainer="xhe"+xCount+"_container",idTools="xhe"+xCount+"_Tool",idIframeArea="xhe"+xCount+"_iframearea",idIframe="xhe"+xCount+"_iframe",idFixFFCursor="xhe"+xCount+"_fixffcursor",headHTML="",bodyClass="",skinPath=editorRoot+"xheditor_skin\/"+settings.skin+"\/",arrEmots=itemEmots,urlType=settings.urlType,urlBase=settings.urlBase,emotPath=settings.emotPath,emotPath=emotPath?emotPath:editorRoot+"xheditor_emot\/",selEmotGroup="";arrEmots=$.extend({},arrEmots,settings.emots),emotPath=getLocalUrl(emotPath,"rel",urlBase?urlBase:null),bShowBlocktag=settings.showBlocktag,bShowBlocktag&&(bodyClass+=" showBlocktag");var arrShortCuts=[];this.init=function(){function e(e){var t,i=$(e.target);(t=i.css("width"))&&i.css("width","").attr("width",t.replace(\/[^0-9%]+\/g,"")),(t=i.css("height"))&&i.css("height","").attr("height",t.replace(\/[^0-9%]+\/g,""))}0===$("#"+idCSS).length&&$("head").append('<link id="'+idCSS+'" rel="stylesheet" type="text\/css" href="'+skinPath+'ui.css" \/>');var t=_jText.outerWidth(),i=_jText.outerHeight(),s=settings.width||_text.style.width||(t>10?t:0);editorHeight=settings.height||_text.style.height||(i>10?i:150),\/^\\d+(?:\\.\\d+)?$\/.test(s)&&(s+="px"),is(editorHeight,"string")&&(editorHeight=editorHeight.replace(\/[^\\d]+\/g,""));var a,n,o=settings.background||_text.style.background,l=['<span class="xheGStart"\/>'],r=\/\\||\\\/\/i;$.each(settings.tools,function(e,t){if(t.match(r)&&l.push('<span class="xheGEnd"\/>'),"|"===t)l.push('<span class="xheSeparator"\/>');else if("\/"===t)l.push("<br \/>");else{if(a=arrTools[t],!a)return;n=a.c?a.c:"xheIcon xheBtn"+t,l.push('<span><a href="#" title="{#'+a.t+'}" cmd="'+t+'" class="xheButton xheEnabled" tabindex="-1" role="button"><span class="'+n+'" unselectable="on" style="font-size:0;color:transparent;text-indent:-999px;">'+a.t+"<\/span><\/a><\/span>"),a.s&&_this.addShortcuts(a.s,t)}t.match(r)&&l.push('<span class="xheGStart"\/>')}),l.push('<span class="xheGEnd"\/><br \/>'),_jText.after($('<input type="text" id="'+idFixFFCursor+'" style="position:absolute;display:none;" \/><span id="'+idContainer+'" class="xhe_'+settings.skin+'" style="display:none"><table cellspacing="0" cellpadding="0" class="xheLayout" style="'+("0px"!=s?"width:"+s+";":"")+"height:"+editorHeight+'px;" role="presentation"><tr><td id="'+idTools+'" class="xheTool" unselectable="on" style="height:1px;" role="presentation"><\/td><\/tr><tr><td id="'+idIframeArea+'" class="xheIframeArea" role="presentation"><iframe frameborder="0" id="'+idIframe+'" src="javascript:;" style="width:100%;"><\/iframe><\/td><\/tr><\/table><\/span>')),_jTools=$("#"+idTools),_jArea=$("#"+idIframeArea),headHTML='<meta http-equiv="Content-Type" content="text\/html; charset=utf-8" \/><link rel="stylesheet" href="'+skinPath+'iframe.css"\/>';var h=settings.loadCSS;if(h)if(is(h,"array"))for(var c in h)headHTML+='<link rel="stylesheet" href="'+h[c]+'"\/>';else headHTML+=h.match(\/\\s*<style(\\s+[^>]*?)?>[\\s\\S]+?<\\\/style>\\s*\/i)?h:'<link rel="stylesheet" href="'+h+'"\/>';var d='<!DOCTYPE html><html xmlns="http:\/\/www.w3.org\/1999\/xhtml"><head>'+headHTML+"<title>{#defaultReadTip} "+(settings.readTip?settings.readTip:"")+"<\/title>";o&&(d+="<style>html{background:"+o+";}<\/style>"),d+='<\/head><body spellcheck="0" class="editMode'+bodyClass+'"><\/body><\/html>',_this.win=_win=$("#"+idIframe)[0].contentWindow,_jWin=$(_win);try{this.doc=_doc=_win.document,_jDoc=$(_doc),_doc.open(),_doc.write(getLang(d)),_doc.close(),isIE?_doc.body.contentEditable="true":_doc.designMode="On"}catch(u){}setTimeout(setOpts,300),_this.setSource(),_win.setInterval=null,_jTools.append(getLang(l.join(""))).bind("mousedown contextmenu",returnFalse).click(function(e){var t=$(e.target).closest("a");return t.is(".xheEnabled")&&(clearTimeout(timer),_jTools.find("a").attr("tabindex","-1"),ev=e,_this.exec(t.attr("cmd"))),!1}),_jTools.find(".xheButton").hover(function(e){var t=$(this),i=settings.hoverExecDelay,s=lastAngle;if(lastAngle=null,-1===i||bDisableHoverExec||!t.is(".xheEnabled"))return!1;if(s&&s>10)return bDisableHoverExec=!0,setTimeout(function(){bDisableHoverExec=!1},100),!1;var a=t.attr("cmd"),n=1===arrTools[a].h;return n?(bQuickHoverExec&&(i=0),i>=0&&(timer=setTimeout(function(){ev=e,lastPoint={x:ev.clientX,y:ev.clientY},_this.exec(a)},i)),undefined):(_this.hidePanel(),!1)},function(){lastPoint=null,timer&&clearTimeout(timer)}).mousemove(function(e){if(lastPoint){var t={x:e.clientX-lastPoint.x,y:e.clientY-lastPoint.y};if(Math.abs(t.x)>1||Math.abs(t.y)>1){if(t.x>0&&t.y>0){var i=Math.round(Math.atan(t.y\/t.x)\/.017453293);lastAngle=lastAngle?(lastAngle+i)\/2:i}else lastAngle=null;lastPoint={x:e.clientX,y:e.clientY}}}}),_jPanel=$("#xhePanel"),_jShadow=$("#xheShadow"),_jCntLine=$("#xheCntLine"),0===_jPanel.length&&(_jPanel=$('<div id="xhePanel"><\/div>').mousedown(function(e){e.stopPropagation()}),_jShadow=$('<div id="xheShadow"><\/div>'),_jCntLine=$('<div id="xheCntLine"><\/div>'),setTimeout(function(){$(document.body).append(_jPanel).append(_jShadow).append(_jCntLine)},10)),$("#"+idContainer).show(),_jText.hide(),_jArea.css("height",editorHeight-_jTools.outerHeight()),isIE&8>browerVer&&setTimeout(function(){_jArea.css("height",editorHeight-_jTools.outerHeight())},1),_jText.focus(_this.focus),_jForm.submit(saveResult).bind("reset",loadReset),settings.submitID&&$("#"+settings.submitID).mousedown(saveResult),$(window).bind("unload beforeunload",saveResult).bind("resize",fixFullHeight),$(document).mousedown(clickCancelPanel),bCheckEscInit||($(document).keydown(checkEsc),bCheckEscInit=!0),_jWin.focus(function(){settings.focus&&settings.focus()}).blur(function(){settings.blur&&settings.blur()}),isWebkit&&_jWin.click(fixAppleSel),_jDoc.mousedown(clickCancelPanel).keydown(checkShortcuts).keypress(forcePtag).dblclick(checkDblClick).bind("mousedown click",function(e){_jText.trigger(e.type)}),isIE&&(_jDoc.keydown(function(e){var t=_this.getRng();return 8===e.which&&t.item?($(t.item(0)).remove(),!1):undefined}),_jDoc.bind("controlselect",function(t){t=t.target,$.nodeName(t,"IMG")&&$(t).unbind("resizeend",e).bind("resizeend",e)})),_jDoc.keydown(function(e){var t=e.which;return e.altKey&&t>=49&&57>=t?(_jTools.find("a").attr("tabindex","0"),_jTools.find(".xheGStart").eq(t-49).next().find("a").focus(),_doc.title="\\ufeff\\ufeff",!1):undefined}).click(function(){_jTools.find("a").attr("tabindex","-1")}),_jTools.keydown(function(e){var t=e.which;if(27==t)_jTools.find("a").attr("tabindex","-1"),_this.focus();else if(e.altKey&&t>=49&&57>=t)return _jTools.find(".xheGStart").eq(t-49).next().find("a").focus(),!1});var p=$(_doc.documentElement);isOpera?p.bind("keydown",function(e){e.ctrlKey&&86===e.which&&cleanPaste()}):p.bind(isIE?"beforepaste":"paste",cleanPaste),settings.disableContextmenu&&p.bind("contextmenu",returnFalse),settings.html5Upload&&p.bind("dragenter dragover",function(e){var t;return(t=e.originalEvent.dataTransfer.types)&&-1!==$.inArray("Files",t)?!1:undefined}).bind("drop",function(e){function t(e){var t,i,s;for(a=0;e.length>a;a++){if(i=e[a].name.replace(\/.+\\.\/,""),!(t=o.match(RegExp("(\\\\w+):[^:]*,"+i+"(?:,|$)","i"))))return 1;if(s){if(s!==t[1])return 2}else s=t[1]}return s}var i,s=e.originalEvent.dataTransfer;if(s&&(i=s.files)&&i.length>0){var a,n,o,l=["Link","Img","Flash","Media"],r=[];for(a in l)n=l[a],settings["up"+n+"Url"]&&settings["up"+n+"Url"].match(\/^[^!].*\/i)&&r.push(n+":,"+settings["up"+n+"Ext"]);return 0===r.length?!1:(o=r.join(","),n=t(i),1===n?alert(getLang("upload.extLimit",o.replace(\/\\w+:,\/g,""))):2===n?alert(getLang("upload.typeLimit")):n&&_this.startUpload(i,settings["up"+n+"Url"],"*",function(e){var t,i=[],s=settings.onUpload;s&&s(e);for(var a=0,o=e.length;o>a;a++)t=e[a],url=is(t,"string")?t:t.url,"!"===url.substr(0,1)&&(url=url.substr(1)),i.push(url);_this.exec(n),$("#xhe"+n+"Url").val(i.join(" ")),$("#xheSave").click()}),!1)}});var g=settings.shortcuts;g&&$.each(g,function(e,t){_this.addShortcuts(e,t)}),xCount++,bInit=!0,settings.fullscreen?_this.toggleFullscreen():settings.sourceMode&&setTimeout(_this.toggleSource,20);var f=settings.plugins;return f&&$.each(f,function(e,t){var i=t.i;i!==undefined&&i(_this)}),!0},this.remove=function(){_this.hidePanel(),saveResult(),_jText.unbind("focus",_this.focus),_jForm.unbind("submit",saveResult).unbind("reset",loadReset),settings.submitID&&$("#"+settings.submitID).unbind("mousedown",saveResult),$(window).unbind("unload beforeunload",saveResult).unbind("resize",fixFullHeight),$(document).unbind("mousedown",clickCancelPanel),$("#"+idContainer).remove(),$("#"+idFixFFCursor).remove(),_jText.show(),bInit=!1},this.saveBookmark=function(){if(!bSource){_this.focus();var e=_this.getRng();e=e.cloneRange?e.cloneRange():e,bookmark={top:_jWin.scrollTop(),rng:e}}},this.loadBookmark=function(){if(!bSource&&bookmark){_this.focus();var e=bookmark.rng;if(isIE)e.select();else{var t=_this.getSel();t.removeAllRanges(),t.addRange(e)}_jWin.scrollTop(bookmark.top),bookmark=null}},this.focus=function(){if(bSource?$("#sourceCode",_doc).focus():_win.focus(),isIE){var e=_this.getRng();e.parentElement&&e.parentElement().ownerDocument!==_doc&&_this.setTextCursor()}return!1},this.setTextCursor=function(e){var t=_this.getRng(!0),i=_doc.body;if(isIE)t.moveToElementText(i);else{for(var s=e?"lastChild":"firstChild";3!=i.nodeType&&i[s];)i=i[s];t.selectNode(i)}if(t.collapse(e?!1:!0),isIE)t.select();else{var a=_this.getSel();a.removeAllRanges(),a.addRange(t)}},this.getSel=function(){return _doc.selection?_doc.selection:_win.getSelection()},this.getRng=function(e){var t,i;try{e||(t=_this.getSel(),i=t.createRange?t.createRange():t.rangeCount>0?t.getRangeAt(0):null),i||(i=_doc.body.createTextRange?_doc.body.createTextRange():_doc.createRange())}catch(s){}return i},this.getParent=function(e){var t,i=_this.getRng();return isIE?t=i.item?i.item(0):i.parentElement():(t=i.commonAncestorContainer,i.collapsed||i.startContainer===i.endContainer&&2>i.startOffset-i.endOffset&&i.startContainer.hasChildNodes()&&(t=i.startContainer.childNodes[i.startOffset])),e=e?e:"*",t=$(t),t.is(e)||(t=$(t).closest(e)),t},this.getSelect=function(e){var t=_this.getSel(),i=_this.getRng(),s=!0;if(s=!i||i.item?!1:!t||0===i.boundingWidth||i.collapsed,"text"===e)return s?"":i.text||(t.toString?""+t:"");var a;if(i.cloneContents){var n,o=$("<div><\/div>");n=i.cloneContents(),n&&o.append(n),a=o.html()}else a=is(i.item)?i.item(0).outerHTML:is(i.htmlText)?i.htmlText:""+i;return s&&(a=""),a=_this.processHTML(a,"read"),a=_this.cleanHTML(a),a=_this.formatXHTML(a)},this.pasteHTML=function(e,t){if(bSource)return!1;_this.focus(),e=_this.processHTML(e,"write");var i=_this.getSel(),s=_this.getRng();if(t!==undefined){if(s.item){var a=s.item(0);s=_this.getRng(!0),s.moveToElementText(a),s.select()}s.collapse(t)}if(e+="<"+(isIE?"img":"span")+' id="_xhe_temp" width="0" height="0" \/>',s.insertNode){if($(s.startContainer).closest("style,script").length>0)return!1;s.deleteContents(),s.insertNode(s.createContextualFragment(e))}else"control"===i.type.toLowerCase()&&(i.clear(),s=_this.getRng()),s.pasteHTML(e);var n=$("#_xhe_temp",_doc),o=n[0];isIE?(s.moveToElementText(o),s.select()):(s.selectNode(o),i.removeAllRanges(),i.addRange(s)),n.remove()},this.pasteText=function(e,t){e||(e=""),e=_this.domEncode(e),e=e.replace(\/\\r?\\n\/g,"<br \/>"),_this.pasteHTML(e,t)},this.appendHTML=function(e){return bSource?!1:(_this.focus(),e=_this.processHTML(e,"write"),$(_doc.body).append(e),_this.setTextCursor(!0),undefined)},this.domEncode=function(e){return e.replace(regEntities,function(e){return arrEntities[e]})},this.setSource=function(e){bookmark=null,"string"!=typeof e&&""!==e&&(e=_text.value),bSource?$("#sourceCode",_doc).val(e):(settings.beforeSetSource&&(e=settings.beforeSetSource(e)),e=_this.cleanHTML(e),e=_this.formatXHTML(e),e=_this.processHTML(e,"write"),isIE?(_doc.body.innerHTML='<img id="_xhe_temp" width="0" height="0" \/>'+e,$("#_xhe_temp",_doc).remove()):_doc.body.innerHTML=e)},this.processHTML=function(e,t){function i(e,t,i,s,a,o){var l,r,h,c,d="";if(l=s.match(\/font-family\\s*:\\s*([^;"]+)\/i),l&&(d+=' face="'+l[1]+'"'),r=s.match(\/font-size\\s*:\\s*([^;"]+)\/i)){r=r[1].toLowerCase();for(var u=0;n.length>u;u++)if(r===n[u].n||r===n[u].s){h=u+1;break}h&&(d+=' size="'+h+'"',s=s.replace(\/(^|;)(\\s*font-size\\s*:\\s*[^;"]+;?)+\/gi,"$1"))}if(c=s.match(\/(?:^|[\\s;])color\\s*:\\s*([^;"]+)\/i)){var p;if(p=c[1].match(\/\\s*rgb\\s*\\(\\s*(\\d+)\\s*,\\s*(\\d+)\\s*,\\s*(\\d+)\\s*\\)\/i)){c[1]="#";for(var g=1;3>=g;g++)c[1]+=("0"+(p[g]-0).toString(16)).slice(-2)}c[1]=c[1].replace(\/^#([0-9a-f])([0-9a-f])([0-9a-f])$\/i,"#$1$1$2$2$3$3"),d+=' color="'+c[1]+'"'}return s=s.replace(\/(^|;)(\\s*(font-family|color)\\s*:\\s*[^;"]+;?)+\/gi,"$1"),""!==d?(s&&(d+=' style="'+s+'"'),"<font"+(i?i:"")+d+(a?a:"")+">"+o+"<\/font>"):e}function s(e,t,i,s,a){for(var n,l,r=(i?i:"")+(s?s:""),h=[],c=[],d=0;o.length>d;d++)n=o[d].r,l=o[d].t,r=r.replace(n,function(){return h.push("<"+l+">"),c.push("<\/"+l+">"),""});return r=r.replace(\/\\s+style\\s*=\\s*"\\s*"\/i,""),(r?"<span"+r+">":"")+h.join("")+a+c.join("")+(r?"<\/span>":"")}var a=' class="Apple-style-span"',n=settings.listFontsize;if("write"===t)e=e.replace(\/(<(\\\/?)(\\w+))((?:\\s+[\\w\\-:]+\\s*=\\s*(?:"[^"]*"|'[^']*'|[^>\\s]+))*)\\s*((\\\/?)>)\/g,function(e,t,i,s,n,o,l){s=s.toLowerCase(),isMozilla?"strong"===s?s="b":"em"===s&&(s="i"):isWebkit&&("strong"===s?(s="span",i||(n+=a+' style="font-weight: bold;"')):"em"===s?(s="span",i||(n+=a+' style="font-style: italic;"')):"u"===s?(s="span",i||(n+=a+' style="text-decoration: underline;"')):"strike"===s&&(s="span",i||(n+=a+' style="text-decoration: line-through;"')));var r,h="";if("del"===s)s="strike";else if("img"===s)n=n.replace(\/\\s+emot\\s*=\\s*("[^"]*"|'[^']*'|[^>\\s]+)\/i,function(e,t){return r=t.match(\/^(["']?)(.*)\\1\/)[2],r=r.split(","),r[1]||(r[1]=r[0],r[0]=""),"default"===r[0]&&(r[0]=""),settings.emotMark?e:""});else if("a"===s)!n.match(\/ href=[^ ]\/i)&&n.match(\/ name=[^ ]\/i)&&(h+=" xhe-anchor"),l&&(o="><\/a>");else if("table"===s&&!i){var c=n.match(\/\\s+border\\s*=\\s*("[^"]*"|'[^']*'|[^>\\s]+)\/i);(!c||c[1].match(\/^(["']?)\\s*0\\s*\\1$\/))&&(h+=" xhe-border")}var d;if(n=n.replace(\/\\s+([\\w\\-:]+)\\s*=\\s*("[^"]*"|'[^']*'|[^>\\s]+)\/g,function(e,t,i){return t=t.toLowerCase(),i=i.match(\/^(["']?)(.*)\\1\/)[2],aft="",isIE&&t.match(\/^(disabled|checked|readonly|selected)$\/)&&i.match(\/^(false|0)$\/i)?"":"img"===s&&r&&"src"===t?"":(t.match(\/^(src|href)$\/)&&(aft=" _xhe_"+t+'="'+i+'"',urlBase&&(i=getLocalUrl(i,"abs",urlBase))),h&&"class"===t&&(i+=" "+h,h=""),isWebkit&&"style"===t&&"span"===s&&i.match(\/(^|;)\\s*(font-family|font-size|color|background-color)\\s*:\\s*[^;]+\\s*(;|$)\/i)&&(d=!0)," "+t+'="'+i+'"'+aft)}),r){var u=emotPath+(r[0]?r[0]:"default")+"\/"+r[1]+".gif";n+=' src="'+u+'" _xhe_src="'+u+'"'}return d&&(n+=a),h&&(n+=' class="'+h+'"'),"<"+i+s+n+o}),isIE&&(e=e.replace(\/&apos;\/gi,"&#39;")),isWebkit||(e=e.replace(\/<(span)(\\s+[^>]*?)?\\s+style\\s*=\\s*"((?:[^"]*?;)?\\s*(?:font-family|font-size|color)\\s*:[^"]*)"( [^>]*)?>(((?!<\\1(\\s+[^>]*?)?>)[\\s\\S]|<\\1(\\s+[^>]*?)?>((?!<\\1(\\s+[^>]*?)?>)[\\s\\S]|<\\1(\\s+[^>]*?)?>((?!<\\1(\\s+[^>]*?)?>)[\\s\\S])*?<\\\/\\1>)*?<\\\/\\1>)*?)<\\\/\\1>\/gi,i),e=e.replace(\/<(span)(\\s+[^>]*?)?\\s+style\\s*=\\s*"((?:[^"]*?;)?\\s*(?:font-family|font-size|color)\\s*:[^"]*)"( [^>]*)?>(((?!<\\1(\\s+[^>]*?)?>)[\\s\\S]|<\\1(\\s+[^>]*?)?>((?!<\\1(\\s+[^>]*?)?>)[\\s\\S])*?<\\\/\\1>)*?)<\\\/\\1>\/gi,i),e=e.replace(\/<(span)(\\s+[^>]*?)?\\s+style\\s*=\\s*"((?:[^"]*?;)?\\s*(?:font-family|font-size|color)\\s*:[^"]*)"( [^>]*)?>(((?!<\\1(\\s+[^>]*?)?>)[\\s\\S])*?)<\\\/\\1>\/gi,i)),e=e.replace(\/<(td|th)(\\s+[^>]*?)?>(\\s|&nbsp;)*<\\\/\\1>\/gi,"<$1$2>"+(isIE?"":"<br \/>")+"<\/$1>");else{if(isWebkit)for(var o=[{r:\/font-weight\\s*:\\s*bold;?\/gi,t:"strong"},{r:\/font-style\\s*:\\s*italic;?\/gi,t:"em"},{r:\/text-decoration\\s*:\\s*underline;?\/gi,t:"u"},{r:\/text-decoration\\s*:\\s*line-through;?\/gi,t:"strike"}],l=0;2>l;l++)e=e.replace(\/<(span)(\\s+[^>]*?)?\\s+class\\s*=\\s*"Apple-style-span"(\\s+[^>]*?)?>(((?!<\\1(\\s+[^>]*?)?>)[\\s\\S]|<\\1(\\s+[^>]*?)?>((?!<\\1(\\s+[^>]*?)?>)[\\s\\S]|<\\1(\\s+[^>]*?)?>((?!<\\1(\\s+[^>]*?)?>)[\\s\\S])*?<\\\/\\1>)*?<\\\/\\1>)*?)<\\\/\\1>\/gi,s),e=e.replace(\/<(span)(\\s+[^>]*?)?\\s+class\\s*=\\s*"Apple-style-span"(\\s+[^>]*?)?>(((?!<\\1(\\s+[^>]*?)?>)[\\s\\S]|<\\1(\\s+[^>]*?)?>((?!<\\1(\\s+[^>]*?)?>)[\\s\\S])*?<\\\/\\1>)*?)<\\\/\\1>\/gi,s),e=e.replace(\/<(span)(\\s+[^>]*?)?\\s+class\\s*=\\s*"Apple-style-span"(\\s+[^>]*?)?>(((?!<\\1(\\s+[^>]*?)?>)[\\s\\S])*?)<\\\/\\1>\/gi,s);e=e.replace(\/(<(\\w+))((?:\\s+[\\w\\-:]+\\s*=\\s*(?:"[^"]*"|'[^']*'|[^>\\s]+))*)\\s*(\\\/?>)\/g,function(e,t,i,s,a){i=i.toLowerCase();$/;"	p
var.specialKeys.34	js/xheditor.min.js	/^(function(){var e={};window.XHEDITOR=e})(),function(e,t){e.mapLang={},e.setLang=function(i,s){s===t&&(s=i,i=""),""!==i&&(i+=".");var a,n;for(var o in s)n=s[o],a=i+o,"string"==typeof n||n instanceof Array?e.mapLang[a]=n:e.setLang(a,n)},e.getLang=function(i){var s=e.mapLang[i];if(s===t&&(s=i.replace(\/{#([^{}]+)}\/g,function(t,i){var s=e.mapLang[i];return s?s:i})),"string"==typeof s){var a=arguments;s=s.replace(\/{\\$(\\d+)}\/g,function(e,i){var s=a[parseInt(i,10)+1];return s!==t?s:e})}return s}}(XHEDITOR),function(XHEDITOR,$,undefined){var agent=navigator.userAgent.toLowerCase(),bMobile=\/mobile\/i.test(agent),browser=$.browser,browerVer=parseFloat(browser.version),isIE=browser.msie,isMozilla=browser.mozilla,isWebkit=browser.webkit,isOpera=browser.opera,isChrome=browser.chrome,bAir=agent.indexOf(" adobeair\/")>-1,xCount=0,bShowPanel=!1,bClickCancel=!0,bShowModal=!1,bCheckEscInit=!1,_jPanel,_jShadow,_jCntLine,_jPanelButton,jModal,jModalShadow,layerShadow,jOverlay,jHideSelect,onModalRemove,editorRoot,getLang=XHEDITOR.getLang;if($("script[src*=xheditor]").each(function(){var e=this.src;return e.match(\/xheditor[^\\\/]*\\.js\/i)?(editorRoot=e.replace(\/[\\?#].*$\/,"").replace(\/(^|[\\\/\\\\])[^\\\/]*$\/,"$1"),!1):undefined}),isIE){try{document.execCommand("BackgroundImageCache",!1,!0)}catch(e){}var jqueryVer=$.fn.jquery;jqueryVer&&jqueryVer.match(\/^1\\.[67]\/)&&($.attrHooks.width=$.attrHooks.height=null)}var specialKeys={27:"esc",9:"tab",32:"space",13:"enter",8:"backspace",145:"scroll",20:"capslock",144:"numlock",19:"pause",45:"insert",36:"home",46:"del",35:"end",33:"pageup",34:"pagedown",37:"left",38:"up",39:"right",40:"down",112:"f1",113:"f2",114:"f3",115:"f4",116:"f5",117:"f6",118:"f7",119:"f8",120:"f9",121:"f10",122:"f11",123:"f12"},arrAlign=[{v:"justifyleft"},{v:"justifycenter"},{v:"justifyright"},{v:"justifyfull"}],arrList=[{v:"insertOrderedList"},{v:"insertUnorderedList"}],htmlPastetext='<div><label for="xhePastetextValue">{#PastetextTip}<\/label><\/div><div><textarea id="xhePastetextValue" wrap="soft" spellcheck="false" style="width:300px;height:100px;" \/><\/div><div style="text-align:right;"><input type="button" id="xheSave" value="{#dialogOk}" \/><\/div>',htmlLink='<div><label for="xheLinkUrl">{#link.url}<\/label><input type="text" id="xheLinkUrl" value="http:\/\/" class="xheText" \/><\/div><div><label for="xheLinkTarget">{#link.target}<\/label><select id="xheLinkTarget"><option selected="selected" value="">{#default}<\/option><option value="_blank">{#link.targetBlank}<\/option><option value="_self">{#link.targetSelf}<\/option><option value="_parent">{#link.targetParent}<\/option><\/select><\/div><div style="display:none"><label for="xheLinkText">{#link.linkText}<\/label><input type="text" id="xheLinkText" value="" class="xheText" \/><\/div><div style="text-align:right;"><input type="button" id="xheSave" value="{#dialogOk}" \/><\/div>',htmlAnchor='<div><label for="xheAnchorName">{#anchor.name}<\/label><input type="text" id="xheAnchorName" value="" class="xheText" \/><\/div><div style="text-align:right;"><input type="button" id="xheSave" value="{#dialogOk}" \/><\/div>',htmlImg='<div><label for="xheImgUrl">{#img.url}<\/label><input type="text" id="xheImgUrl" value="http:\/\/" class="xheText" \/><\/div><div><div><label for="xheImgAlt">{#img.alt}<\/label><input type="text" id="xheImgAlt" \/><\/div><div><label for="xheImgAlign">{#img.align}<\/label><select id="xheImgAlign"><option selected="selected" value="">{#default}<\/option><option value="left">{#img.alignLeft}<\/option><option value="right">{#img.alignRight}<\/option><option value="top">{#img.alignTop}<\/option><option value="middle">{#img.alignMiddle}<\/option><option value="baseline">{#img.alignBaseline}<\/option><option value="bottom">{#img.alignBottom}<\/option><\/select><\/div><div><label for="xheImgWidth">{#img.width}<\/label><input type="text" id="xheImgWidth" style="width:40px;" \/> <label for="xheImgHeight">{#img.height}<\/label><input type="text" id="xheImgHeight" style="width:40px;" \/><\/div><div><label for="xheImgBorder">{#img.border}<\/label><input type="text" id="xheImgBorder" style="width:40px;" \/><\/div><div><label for="xheImgHspace">{#img.hspace}<\/label><input type="text" id="xheImgHspace" style="width:40px;" \/> <label for="xheImgVspace">{#img.vspace}<\/label><input type="text" id="xheImgVspace" style="width:40px;" \/><\/div><div style="text-align:right;"><input type="button" id="xheSave" value="{#dialogOk}" \/><\/div>',htmlFlash='<div><label for="xheFlashUrl">{#flash.url}<\/label><input type="text" id="xheFlashUrl" value="http:\/\/" class="xheText" \/><\/div><div><label for="xheFlashWidth">{#flash.width}<\/label><input type="text" id="xheFlashWidth" style="width:40px;" value="480" \/> <label for="xheFlashHeight">{#flash.height}<\/label><input type="text" id="xheFlashHeight" style="width:40px;" value="400" \/><\/div><div style="text-align:right;"><input type="button" id="xheSave" value="{#dialogOk}" \/><\/div>',htmlMedia='<div><label for="xheMediaUrl">{#media.url}<\/label><input type="text" id="xheMediaUrl" value="http:\/\/" class="xheText" \/><\/div><div><label for="xheMediaWidth">{#media.width}<\/label><input type="text" id="xheMediaWidth" style="width:40px;" value="480" \/> <label for="xheMediaHeight">{#media.height}<\/label><input type="text" id="xheMediaHeight" style="width:40px;" value="400" \/><\/div><div style="text-align:right;"><input type="button" id="xheSave" value="{#dialogOk}" \/><\/div>',htmlTable='<div><label for="xheTableRows">{#table.rows}<\/label><input type="text" id="xheTableRows" style="width:40px;" value="3" \/> <label for="xheTableColumns">{#table.columns}<\/label><input type="text" id="xheTableColumns" style="width:40px;" value="2" \/><\/div><div><label for="xheTableHeaders">{#table.headers}<\/label><select id="xheTableHeaders"><option selected="selected" value="">{#none}<\/option><option value="row">{#table.headersRow}<\/option><option value="col">{#table.headersCol}<\/option><option value="both">{#table.headersBoth}<\/option><\/select><\/div><div><label for="xheTableWidth">{#table.width}<\/label><input type="text" id="xheTableWidth" style="width:40px;" value="200" \/> <label for="xheTableHeight">{#table.height}<\/label><input type="text" id="xheTableHeight" style="width:40px;" value="" \/><\/div><div><label for="xheTableBorder">{#table.border}<\/label><input type="text" id="xheTableBorder" style="width:40px;" value="1" \/><\/div><div><label for="xheTableCellSpacing">{#table.cellSpacing}<\/label><input type="text" id="xheTableCellSpacing" style="width:40px;" value="1" \/> <label for="xheTableCellPadding">{#table.cellPadding}<\/label><input type="text" id="xheTableCellPadding" style="width:40px;" value="1" \/><\/div><div><label for="xheTableAlign">{#table.align}<\/label><select id="xheTableAlign"><option selected="selected" value="">{#default}<\/option><option value="left">{#table.alignLeft}<\/option><option value="center">{#table.alignCenter}<\/option><option value="right">{#table.alignRight}<\/option><\/select><\/div><div><label for="xheTableCaption">{#table.caption}<\/label><input type="text" id="xheTableCaption" \/><\/div><div style="text-align:right;"><input type="button" id="xheSave" value="{#dialogOk}" \/><\/div>',htmlAbout='<div style="font:12px Arial;width:245px;word-wrap:break-word;word-break:break-all;outline:none;" role="dialog" tabindex="-1"><p><span style="font-size:20px;color:#1997DF;">xhEditor<\/span><br \/>v1.2.1 (build 130225)<\/p><p>{#aboutXheditor}<\/p><p>Copyright &copy; <a href="http:\/\/xheditor.com\/" target="_blank">xhEditor.com<\/a>. All rights reserved.<\/p><\/div>',itemEmots={"default":{name:"{#default}",width:24,height:24,line:7,list:["smile","tongue","titter","laugh","sad","wronged","fastcry","cry","wail","mad","knock","curse","crazy","angry","ohmy","awkward","panic","shy","cute","envy","proud","struggle","quiet","shutup","doubt","despise","sleep","bye"]}},arrTools={Cut:{t:"Cut"},Copy:{t:"Copy"},Paste:{t:"Paste"},Pastetext:{t:"Pastetext",h:isIE?0:1},Blocktag:{t:"Blocktag",h:1},Fontface:{t:"Fontface",h:1},FontSize:{t:"FontSize",h:1},Bold:{t:"Bold",s:"Ctrl+B"},Italic:{t:"Italic",s:"Ctrl+I"},Underline:{t:"Underline",s:"Ctrl+U"},Strikethrough:{t:"Strikethrough"},FontColor:{t:"FontColor",h:1},BackColor:{t:"BackColor",h:1},SelectAll:{t:"SelectAll"},Removeformat:{t:"Removeformat"},Align:{t:"Align",h:1},List:{t:"List",h:1},Outdent:{t:"Outdent"},Indent:{t:"Indent"},Link:{t:"Link",s:"Ctrl+L",h:1},Unlink:{t:"Unlink"},Anchor:{t:"Anchor",h:1},Img:{t:"Img",h:1},Flash:{t:"Flash",h:1},Media:{t:"Media",h:1},Hr:{t:"Hr"},Emot:{t:"Emot",s:"ctrl+e",h:1},Table:{t:"Table",h:1},Source:{t:"Source"},Preview:{t:"Preview"},Print:{t:"Print",s:"Ctrl+P"},Fullscreen:{t:"Fullscreen",s:"Esc"},About:{t:"About"}},toolsThemes={mini:"Bold,Italic,Underline,Strikethrough,|,Align,List,|,Link,Img",simple:"Blocktag,Fontface,FontSize,Bold,Italic,Underline,Strikethrough,FontColor,BackColor,|,Align,List,Outdent,Indent,|,Link,Img,Emot",full:"Cut,Copy,Paste,Pastetext,|,Blocktag,Fontface,FontSize,Bold,Italic,Underline,Strikethrough,FontColor,BackColor,SelectAll,Removeformat,|,Align,List,Outdent,Indent,|,Link,Unlink,Anchor,Img,Flash,Media,Hr,Emot,Table,|,Source,Preview,Print,Fullscreen"};toolsThemes.mfull=toolsThemes.full.replace(\/\\|(,Align)\/i,"\/$1");var arrDbClick={a:"Link",img:"Img",embed:"Embed"},uploadInputname="filedata",arrEntities={"<":"&lt;",">":"&gt;",'"':"&quot;","\\u00ae":"&reg;","\\u00a9":"&copy;"},regEntities=\/[<>"\\u00ae\\u00a9]\/g,Xheditor=function(textarea,options){function checkDblClick(e){var t=e.target,i=arrDbClick[t.tagName.toLowerCase()];if(i){if("Embed"===i){var s={"application\/x-shockwave-flash":"Flash","application\/x-mplayer2":"Media"};i=s[t.type.toLowerCase()]}_this.exec(i)}}function checkEsc(e){return 27===e.which?(bShowModal?_this.removeModal():bShowPanel&&_this.hidePanel(),!1):undefined}function loadReset(){setTimeout(_this.setSource,10)}function saveResult(){_this.getSource()}function cleanPaste(e){var t,i,s;if(e&&(t=e.originalEvent.clipboardData)&&(i=t.items)&&(s=i[0])&&"file"==s.kind&&s.type.match(\/^image\\\/\/i)){var a=s.getAsFile(),n=new FileReader;return n.onload=function(){var e='<img src="'+event.target.result+'">';e=replaceRemoteImg(e),_this.pasteHTML(e)},n.readAsDataURL(a),!1}var o=settings.cleanPaste;if(0===o||bSource||bCleanPaste)return!0;bCleanPaste=!0,_this.saveBookmark();var l=isIE?"pre":"div",r=$("<"+l+' class="xhe-paste">\\ufeff\\ufeff<\/'+l+">",_doc).appendTo(_doc.body),h=r[0],c=_this.getSel(),d=_this.getRng(!0);r.css("top",_jWin.scrollTop()),isIE?(d.moveToElementText(h),d.select()):(d.selectNodeContents(h),c.removeAllRanges(),c.addRange(d)),setTimeout(function(){var e,t=3===o;if(t)r.html(r.html().replace(\/<br(\\s+[^<>]*)?>\/gi,"\\n")),e=r.text();else{var i=$(".xhe-paste",_doc.body),s=[];i.each(function(e,t){0==$(t).find(".xhe-paste").length&&s.push(t.innerHTML)}),e=s.join("<br \/>")}r.remove(),_this.loadBookmark(),e=e.replace(\/^[\\s\\uFEFF]+|[\\s\\uFEFF]+$\/g,""),e&&(t?_this.pasteText(e):(e=_this.cleanHTML(e),e=_this.cleanWord(e),e=_this.formatXHTML(e),(!settings.onPaste||settings.onPaste&&(e=settings.onPaste(e))!==!1)&&(e=replaceRemoteImg(e),_this.pasteHTML(e)))),bCleanPaste=!1},0)}function replaceRemoteImg(e){var t=settings.localUrlTest,i=settings.remoteImgSaveUrl;if(t&&i){var s=[],a=0;e=e.replace(\/(<img)((?:\\s+[^>]*?)?(?:\\s+src="\\s*([^"]+)\\s*")(?: [^>]*)?)(\\\/?>)\/gi,function(e,i,n,o,l){return!\/^(https?|data:image)\/i.test(o)||\/_xhe_temp\/.test(n)||t.test(o)||(s[a]=o,n=n.replace(\/\\s+(width|height)="[^"]*"\/gi,"").replace(\/\\s+src="[^"]*"\/gi,' src="'+skinPath+'img\/waiting.gif" remoteimg="'+a++ +'"')),i+n+l}),s.length>0&&$.post(i,{urls:s.join("|")},function(e){e=e.split("|"),$("img[remoteimg]",_this.doc).each(function(){var t=$(this);xheAttr(t,"src",e[t.attr("remoteimg")]),t.removeAttr("remoteimg")})})}return e}function setCSS(e){try{_this._exec("styleWithCSS",e,!0)}catch(t){try{_this._exec("useCSS",!e,!0)}catch(t){}}}function setOpts(){if(bInit&&!bSource){setCSS(!1);try{_this._exec("enableObjectResizing",!0,!0)}catch(e){}if(isIE)try{_this._exec("BackgroundImageCache",!0,!0)}catch(e){}}}function forcePtag(e){if(bSource||13!==e.which||e.shiftKey||e.ctrlKey||e.altKey)return!0;var t=_this.getParent("p,h1,h2,h3,h4,h5,h6,pre,address,div,li");return t.is("li")?!0:settings.forcePtag?(0===t.length&&_this._exec("formatblock","<p>"),undefined):(_this.pasteHTML("<br \/>"),isIE&&t.length>0&&2===_this.getRng().parentElement().childNodes.length&&_this.pasteHTML("<br \/>"),!1)}function fixFullHeight(){isMozilla||isWebkit||(bFullscreen&&_jArea.height("100%").css("height",_jArea.outerHeight()-_jTools.outerHeight()),isIE&&_jTools.hide().show())}function fixAppleSel(e){if(e=e.target,e.tagName.match(\/(img|embed)\/i)){var t=_this.getSel(),i=_this.getRng(!0);i.selectNode(e),t.removeAllRanges(),t.addRange(i)}}function xheAttr(e,t,i){if(!t)return!1;var s="_xhe_"+t;return i&&(urlType&&(i=getLocalUrl(i,urlType,urlBase)),e.attr(t,urlBase?getLocalUrl(i,"abs",urlBase):i).removeAttr(s).attr(s,i)),e.attr(s)||e.attr(t)}function clickCancelPanel(){bClickCancel&&_this.hidePanel()}function checkShortcuts(e){if(bSource)return!0;var t=e.which,i=specialKeys[t],s=i?i:String.fromCharCode(t).toLowerCase();sKey="",sKey+=e.ctrlKey?"ctrl+":"",sKey+=e.altKey?"alt+":"",sKey+=e.shiftKey?"shift+":"",sKey+=s;var a,n=arrShortCuts[sKey];for(a in n){if(a=n[a],!$.isFunction(a))return _this.exec(a),!1;if(a.call(_this)===!1)return!1}}function is(e,t){var i=typeof e;return t?"array"===t&&e.hasOwnProperty&&e instanceof Array?!0:i===t:"undefined"!=i}function getLocalUrl(e,t,i){if(e.match(\/^(\\w+):\\\/\\\/\/i)&&!e.match(\/^https?:\/i)||\/^#\/i.test(e)||\/^data:\/i.test(e))return e;var s=i?$('<a href="'+i+'" \/>')[0]:location,a=s.protocol,n=s.host,o=s.hostname,l=s.port,r=s.pathname.replace(\/\\\\\/g,"\/").replace(\/[^\\\/]+$\/i,"");if(""===l&&(l="80"),""===r?r="\/":"\/"!==r.charAt(0)&&(r="\/"+r),e=$.trim(e),"abs"!==t&&(e=e.replace(RegExp(a+"\\\\\/\\\\\/"+o.replace(\/\\.\/g,"\\\\.")+"(?::"+l+")"+("80"===l?"?":"")+"(\/|$)","i"),"\/")),"rel"===t&&(e=e.replace(RegExp("^"+r.replace(\/([\\\/\\.\\+\\[\\]\\(\\)])\/g,"\\\\$1"),"i"),"")),"rel"!==t&&(e.match(\/^(https?:\\\/\\\/|\\\/)\/i)||(e=r+e),"\/"===e.charAt(0))){var h,c,d=[],u=e.split("\/"),p=u.length;for(c=0;p>c;c++)h=u[c],".."===h?d.pop():""!==h&&"."!==h&&d.push(h);""===u[p-1]&&d.push(""),e="\/"+d.join("\/")}return"abs"!==t||e.match(\/^https?:\\\/\\\/\/i)||(e=a+"\/\/"+n+e),e=e.replace(\/(https?:\\\/\\\/[^:\\\/?#]+):80(\\\/|$)\/i,"$1$2")}function checkFileExt(e,t){return"*"===t||e.match(RegExp(".("+t.replace(\/,\/g,"|")+")$","i"))?!0:(alert(getLang("upload.extLimit",t)),!1)}function formatBytes(e){var t=["Byte","KB","MB","GB","TB","PB"],i=Math.floor(Math.log(e)\/Math.log(1024));return(e\/Math.pow(1024,Math.floor(i))).toFixed(2)+t[i]}function returnFalse(){return!1}var _this=this,_text=textarea,_jText=$(_text),_jForm=_jText.closest("form"),_jTools,_jArea,_win,_jWin,_doc,_jDoc,bookmark,bInit=!1,bSource=!1,bFullscreen=!1,bCleanPaste=!1,outerScroll,bShowBlocktag=!1,sLayoutStyle="",ev=null,timer,bDisableHoverExec=!1,bQuickHoverExec=!1,lastPoint=null,lastAngle=null,editorHeight=0,settings=_this.settings=$.extend({},XHEDITOR.settings,options),plugins=settings.plugins,strPlugins=[];if(plugins&&(arrTools=$.extend({},arrTools,plugins),$.each(plugins,function(e){strPlugins.push(e)}),strPlugins=strPlugins.join(",")),settings.tools.match(\/^\\s*(m?full|simple|mini)\\s*$\/i)){var toolsTheme=toolsThemes[$.trim(settings.tools)];settings.tools=settings.tools.match(\/m?full\/i)&&plugins?toolsTheme.replace("Table","Table,"+strPlugins):toolsTheme}settings.tools.match(\/(^|,)\\s*About\\s*(,|$)\/i)||(settings.tools+=",About"),settings.tools=settings.tools.split(","),settings.editorRoot&&(editorRoot=settings.editorRoot),bAir===!1&&(editorRoot=getLocalUrl(editorRoot,"abs")),settings.urlBase&&(settings.urlBase=getLocalUrl(settings.urlBase,"abs"));var idCSS="xheCSS_"+settings.skin,idContainer="xhe"+xCount+"_container",idTools="xhe"+xCount+"_Tool",idIframeArea="xhe"+xCount+"_iframearea",idIframe="xhe"+xCount+"_iframe",idFixFFCursor="xhe"+xCount+"_fixffcursor",headHTML="",bodyClass="",skinPath=editorRoot+"xheditor_skin\/"+settings.skin+"\/",arrEmots=itemEmots,urlType=settings.urlType,urlBase=settings.urlBase,emotPath=settings.emotPath,emotPath=emotPath?emotPath:editorRoot+"xheditor_emot\/",selEmotGroup="";arrEmots=$.extend({},arrEmots,settings.emots),emotPath=getLocalUrl(emotPath,"rel",urlBase?urlBase:null),bShowBlocktag=settings.showBlocktag,bShowBlocktag&&(bodyClass+=" showBlocktag");var arrShortCuts=[];this.init=function(){function e(e){var t,i=$(e.target);(t=i.css("width"))&&i.css("width","").attr("width",t.replace(\/[^0-9%]+\/g,"")),(t=i.css("height"))&&i.css("height","").attr("height",t.replace(\/[^0-9%]+\/g,""))}0===$("#"+idCSS).length&&$("head").append('<link id="'+idCSS+'" rel="stylesheet" type="text\/css" href="'+skinPath+'ui.css" \/>');var t=_jText.outerWidth(),i=_jText.outerHeight(),s=settings.width||_text.style.width||(t>10?t:0);editorHeight=settings.height||_text.style.height||(i>10?i:150),\/^\\d+(?:\\.\\d+)?$\/.test(s)&&(s+="px"),is(editorHeight,"string")&&(editorHeight=editorHeight.replace(\/[^\\d]+\/g,""));var a,n,o=settings.background||_text.style.background,l=['<span class="xheGStart"\/>'],r=\/\\||\\\/\/i;$.each(settings.tools,function(e,t){if(t.match(r)&&l.push('<span class="xheGEnd"\/>'),"|"===t)l.push('<span class="xheSeparator"\/>');else if("\/"===t)l.push("<br \/>");else{if(a=arrTools[t],!a)return;n=a.c?a.c:"xheIcon xheBtn"+t,l.push('<span><a href="#" title="{#'+a.t+'}" cmd="'+t+'" class="xheButton xheEnabled" tabindex="-1" role="button"><span class="'+n+'" unselectable="on" style="font-size:0;color:transparent;text-indent:-999px;">'+a.t+"<\/span><\/a><\/span>"),a.s&&_this.addShortcuts(a.s,t)}t.match(r)&&l.push('<span class="xheGStart"\/>')}),l.push('<span class="xheGEnd"\/><br \/>'),_jText.after($('<input type="text" id="'+idFixFFCursor+'" style="position:absolute;display:none;" \/><span id="'+idContainer+'" class="xhe_'+settings.skin+'" style="display:none"><table cellspacing="0" cellpadding="0" class="xheLayout" style="'+("0px"!=s?"width:"+s+";":"")+"height:"+editorHeight+'px;" role="presentation"><tr><td id="'+idTools+'" class="xheTool" unselectable="on" style="height:1px;" role="presentation"><\/td><\/tr><tr><td id="'+idIframeArea+'" class="xheIframeArea" role="presentation"><iframe frameborder="0" id="'+idIframe+'" src="javascript:;" style="width:100%;"><\/iframe><\/td><\/tr><\/table><\/span>')),_jTools=$("#"+idTools),_jArea=$("#"+idIframeArea),headHTML='<meta http-equiv="Content-Type" content="text\/html; charset=utf-8" \/><link rel="stylesheet" href="'+skinPath+'iframe.css"\/>';var h=settings.loadCSS;if(h)if(is(h,"array"))for(var c in h)headHTML+='<link rel="stylesheet" href="'+h[c]+'"\/>';else headHTML+=h.match(\/\\s*<style(\\s+[^>]*?)?>[\\s\\S]+?<\\\/style>\\s*\/i)?h:'<link rel="stylesheet" href="'+h+'"\/>';var d='<!DOCTYPE html><html xmlns="http:\/\/www.w3.org\/1999\/xhtml"><head>'+headHTML+"<title>{#defaultReadTip} "+(settings.readTip?settings.readTip:"")+"<\/title>";o&&(d+="<style>html{background:"+o+";}<\/style>"),d+='<\/head><body spellcheck="0" class="editMode'+bodyClass+'"><\/body><\/html>',_this.win=_win=$("#"+idIframe)[0].contentWindow,_jWin=$(_win);try{this.doc=_doc=_win.document,_jDoc=$(_doc),_doc.open(),_doc.write(getLang(d)),_doc.close(),isIE?_doc.body.contentEditable="true":_doc.designMode="On"}catch(u){}setTimeout(setOpts,300),_this.setSource(),_win.setInterval=null,_jTools.append(getLang(l.join(""))).bind("mousedown contextmenu",returnFalse).click(function(e){var t=$(e.target).closest("a");return t.is(".xheEnabled")&&(clearTimeout(timer),_jTools.find("a").attr("tabindex","-1"),ev=e,_this.exec(t.attr("cmd"))),!1}),_jTools.find(".xheButton").hover(function(e){var t=$(this),i=settings.hoverExecDelay,s=lastAngle;if(lastAngle=null,-1===i||bDisableHoverExec||!t.is(".xheEnabled"))return!1;if(s&&s>10)return bDisableHoverExec=!0,setTimeout(function(){bDisableHoverExec=!1},100),!1;var a=t.attr("cmd"),n=1===arrTools[a].h;return n?(bQuickHoverExec&&(i=0),i>=0&&(timer=setTimeout(function(){ev=e,lastPoint={x:ev.clientX,y:ev.clientY},_this.exec(a)},i)),undefined):(_this.hidePanel(),!1)},function(){lastPoint=null,timer&&clearTimeout(timer)}).mousemove(function(e){if(lastPoint){var t={x:e.clientX-lastPoint.x,y:e.clientY-lastPoint.y};if(Math.abs(t.x)>1||Math.abs(t.y)>1){if(t.x>0&&t.y>0){var i=Math.round(Math.atan(t.y\/t.x)\/.017453293);lastAngle=lastAngle?(lastAngle+i)\/2:i}else lastAngle=null;lastPoint={x:e.clientX,y:e.clientY}}}}),_jPanel=$("#xhePanel"),_jShadow=$("#xheShadow"),_jCntLine=$("#xheCntLine"),0===_jPanel.length&&(_jPanel=$('<div id="xhePanel"><\/div>').mousedown(function(e){e.stopPropagation()}),_jShadow=$('<div id="xheShadow"><\/div>'),_jCntLine=$('<div id="xheCntLine"><\/div>'),setTimeout(function(){$(document.body).append(_jPanel).append(_jShadow).append(_jCntLine)},10)),$("#"+idContainer).show(),_jText.hide(),_jArea.css("height",editorHeight-_jTools.outerHeight()),isIE&8>browerVer&&setTimeout(function(){_jArea.css("height",editorHeight-_jTools.outerHeight())},1),_jText.focus(_this.focus),_jForm.submit(saveResult).bind("reset",loadReset),settings.submitID&&$("#"+settings.submitID).mousedown(saveResult),$(window).bind("unload beforeunload",saveResult).bind("resize",fixFullHeight),$(document).mousedown(clickCancelPanel),bCheckEscInit||($(document).keydown(checkEsc),bCheckEscInit=!0),_jWin.focus(function(){settings.focus&&settings.focus()}).blur(function(){settings.blur&&settings.blur()}),isWebkit&&_jWin.click(fixAppleSel),_jDoc.mousedown(clickCancelPanel).keydown(checkShortcuts).keypress(forcePtag).dblclick(checkDblClick).bind("mousedown click",function(e){_jText.trigger(e.type)}),isIE&&(_jDoc.keydown(function(e){var t=_this.getRng();return 8===e.which&&t.item?($(t.item(0)).remove(),!1):undefined}),_jDoc.bind("controlselect",function(t){t=t.target,$.nodeName(t,"IMG")&&$(t).unbind("resizeend",e).bind("resizeend",e)})),_jDoc.keydown(function(e){var t=e.which;return e.altKey&&t>=49&&57>=t?(_jTools.find("a").attr("tabindex","0"),_jTools.find(".xheGStart").eq(t-49).next().find("a").focus(),_doc.title="\\ufeff\\ufeff",!1):undefined}).click(function(){_jTools.find("a").attr("tabindex","-1")}),_jTools.keydown(function(e){var t=e.which;if(27==t)_jTools.find("a").attr("tabindex","-1"),_this.focus();else if(e.altKey&&t>=49&&57>=t)return _jTools.find(".xheGStart").eq(t-49).next().find("a").focus(),!1});var p=$(_doc.documentElement);isOpera?p.bind("keydown",function(e){e.ctrlKey&&86===e.which&&cleanPaste()}):p.bind(isIE?"beforepaste":"paste",cleanPaste),settings.disableContextmenu&&p.bind("contextmenu",returnFalse),settings.html5Upload&&p.bind("dragenter dragover",function(e){var t;return(t=e.originalEvent.dataTransfer.types)&&-1!==$.inArray("Files",t)?!1:undefined}).bind("drop",function(e){function t(e){var t,i,s;for(a=0;e.length>a;a++){if(i=e[a].name.replace(\/.+\\.\/,""),!(t=o.match(RegExp("(\\\\w+):[^:]*,"+i+"(?:,|$)","i"))))return 1;if(s){if(s!==t[1])return 2}else s=t[1]}return s}var i,s=e.originalEvent.dataTransfer;if(s&&(i=s.files)&&i.length>0){var a,n,o,l=["Link","Img","Flash","Media"],r=[];for(a in l)n=l[a],settings["up"+n+"Url"]&&settings["up"+n+"Url"].match(\/^[^!].*\/i)&&r.push(n+":,"+settings["up"+n+"Ext"]);return 0===r.length?!1:(o=r.join(","),n=t(i),1===n?alert(getLang("upload.extLimit",o.replace(\/\\w+:,\/g,""))):2===n?alert(getLang("upload.typeLimit")):n&&_this.startUpload(i,settings["up"+n+"Url"],"*",function(e){var t,i=[],s=settings.onUpload;s&&s(e);for(var a=0,o=e.length;o>a;a++)t=e[a],url=is(t,"string")?t:t.url,"!"===url.substr(0,1)&&(url=url.substr(1)),i.push(url);_this.exec(n),$("#xhe"+n+"Url").val(i.join(" ")),$("#xheSave").click()}),!1)}});var g=settings.shortcuts;g&&$.each(g,function(e,t){_this.addShortcuts(e,t)}),xCount++,bInit=!0,settings.fullscreen?_this.toggleFullscreen():settings.sourceMode&&setTimeout(_this.toggleSource,20);var f=settings.plugins;return f&&$.each(f,function(e,t){var i=t.i;i!==undefined&&i(_this)}),!0},this.remove=function(){_this.hidePanel(),saveResult(),_jText.unbind("focus",_this.focus),_jForm.unbind("submit",saveResult).unbind("reset",loadReset),settings.submitID&&$("#"+settings.submitID).unbind("mousedown",saveResult),$(window).unbind("unload beforeunload",saveResult).unbind("resize",fixFullHeight),$(document).unbind("mousedown",clickCancelPanel),$("#"+idContainer).remove(),$("#"+idFixFFCursor).remove(),_jText.show(),bInit=!1},this.saveBookmark=function(){if(!bSource){_this.focus();var e=_this.getRng();e=e.cloneRange?e.cloneRange():e,bookmark={top:_jWin.scrollTop(),rng:e}}},this.loadBookmark=function(){if(!bSource&&bookmark){_this.focus();var e=bookmark.rng;if(isIE)e.select();else{var t=_this.getSel();t.removeAllRanges(),t.addRange(e)}_jWin.scrollTop(bookmark.top),bookmark=null}},this.focus=function(){if(bSource?$("#sourceCode",_doc).focus():_win.focus(),isIE){var e=_this.getRng();e.parentElement&&e.parentElement().ownerDocument!==_doc&&_this.setTextCursor()}return!1},this.setTextCursor=function(e){var t=_this.getRng(!0),i=_doc.body;if(isIE)t.moveToElementText(i);else{for(var s=e?"lastChild":"firstChild";3!=i.nodeType&&i[s];)i=i[s];t.selectNode(i)}if(t.collapse(e?!1:!0),isIE)t.select();else{var a=_this.getSel();a.removeAllRanges(),a.addRange(t)}},this.getSel=function(){return _doc.selection?_doc.selection:_win.getSelection()},this.getRng=function(e){var t,i;try{e||(t=_this.getSel(),i=t.createRange?t.createRange():t.rangeCount>0?t.getRangeAt(0):null),i||(i=_doc.body.createTextRange?_doc.body.createTextRange():_doc.createRange())}catch(s){}return i},this.getParent=function(e){var t,i=_this.getRng();return isIE?t=i.item?i.item(0):i.parentElement():(t=i.commonAncestorContainer,i.collapsed||i.startContainer===i.endContainer&&2>i.startOffset-i.endOffset&&i.startContainer.hasChildNodes()&&(t=i.startContainer.childNodes[i.startOffset])),e=e?e:"*",t=$(t),t.is(e)||(t=$(t).closest(e)),t},this.getSelect=function(e){var t=_this.getSel(),i=_this.getRng(),s=!0;if(s=!i||i.item?!1:!t||0===i.boundingWidth||i.collapsed,"text"===e)return s?"":i.text||(t.toString?""+t:"");var a;if(i.cloneContents){var n,o=$("<div><\/div>");n=i.cloneContents(),n&&o.append(n),a=o.html()}else a=is(i.item)?i.item(0).outerHTML:is(i.htmlText)?i.htmlText:""+i;return s&&(a=""),a=_this.processHTML(a,"read"),a=_this.cleanHTML(a),a=_this.formatXHTML(a)},this.pasteHTML=function(e,t){if(bSource)return!1;_this.focus(),e=_this.processHTML(e,"write");var i=_this.getSel(),s=_this.getRng();if(t!==undefined){if(s.item){var a=s.item(0);s=_this.getRng(!0),s.moveToElementText(a),s.select()}s.collapse(t)}if(e+="<"+(isIE?"img":"span")+' id="_xhe_temp" width="0" height="0" \/>',s.insertNode){if($(s.startContainer).closest("style,script").length>0)return!1;s.deleteContents(),s.insertNode(s.createContextualFragment(e))}else"control"===i.type.toLowerCase()&&(i.clear(),s=_this.getRng()),s.pasteHTML(e);var n=$("#_xhe_temp",_doc),o=n[0];isIE?(s.moveToElementText(o),s.select()):(s.selectNode(o),i.removeAllRanges(),i.addRange(s)),n.remove()},this.pasteText=function(e,t){e||(e=""),e=_this.domEncode(e),e=e.replace(\/\\r?\\n\/g,"<br \/>"),_this.pasteHTML(e,t)},this.appendHTML=function(e){return bSource?!1:(_this.focus(),e=_this.processHTML(e,"write"),$(_doc.body).append(e),_this.setTextCursor(!0),undefined)},this.domEncode=function(e){return e.replace(regEntities,function(e){return arrEntities[e]})},this.setSource=function(e){bookmark=null,"string"!=typeof e&&""!==e&&(e=_text.value),bSource?$("#sourceCode",_doc).val(e):(settings.beforeSetSource&&(e=settings.beforeSetSource(e)),e=_this.cleanHTML(e),e=_this.formatXHTML(e),e=_this.processHTML(e,"write"),isIE?(_doc.body.innerHTML='<img id="_xhe_temp" width="0" height="0" \/>'+e,$("#_xhe_temp",_doc).remove()):_doc.body.innerHTML=e)},this.processHTML=function(e,t){function i(e,t,i,s,a,o){var l,r,h,c,d="";if(l=s.match(\/font-family\\s*:\\s*([^;"]+)\/i),l&&(d+=' face="'+l[1]+'"'),r=s.match(\/font-size\\s*:\\s*([^;"]+)\/i)){r=r[1].toLowerCase();for(var u=0;n.length>u;u++)if(r===n[u].n||r===n[u].s){h=u+1;break}h&&(d+=' size="'+h+'"',s=s.replace(\/(^|;)(\\s*font-size\\s*:\\s*[^;"]+;?)+\/gi,"$1"))}if(c=s.match(\/(?:^|[\\s;])color\\s*:\\s*([^;"]+)\/i)){var p;if(p=c[1].match(\/\\s*rgb\\s*\\(\\s*(\\d+)\\s*,\\s*(\\d+)\\s*,\\s*(\\d+)\\s*\\)\/i)){c[1]="#";for(var g=1;3>=g;g++)c[1]+=("0"+(p[g]-0).toString(16)).slice(-2)}c[1]=c[1].replace(\/^#([0-9a-f])([0-9a-f])([0-9a-f])$\/i,"#$1$1$2$2$3$3"),d+=' color="'+c[1]+'"'}return s=s.replace(\/(^|;)(\\s*(font-family|color)\\s*:\\s*[^;"]+;?)+\/gi,"$1"),""!==d?(s&&(d+=' style="'+s+'"'),"<font"+(i?i:"")+d+(a?a:"")+">"+o+"<\/font>"):e}function s(e,t,i,s,a){for(var n,l,r=(i?i:"")+(s?s:""),h=[],c=[],d=0;o.length>d;d++)n=o[d].r,l=o[d].t,r=r.replace(n,function(){return h.push("<"+l+">"),c.push("<\/"+l+">"),""});return r=r.replace(\/\\s+style\\s*=\\s*"\\s*"\/i,""),(r?"<span"+r+">":"")+h.join("")+a+c.join("")+(r?"<\/span>":"")}var a=' class="Apple-style-span"',n=settings.listFontsize;if("write"===t)e=e.replace(\/(<(\\\/?)(\\w+))((?:\\s+[\\w\\-:]+\\s*=\\s*(?:"[^"]*"|'[^']*'|[^>\\s]+))*)\\s*((\\\/?)>)\/g,function(e,t,i,s,n,o,l){s=s.toLowerCase(),isMozilla?"strong"===s?s="b":"em"===s&&(s="i"):isWebkit&&("strong"===s?(s="span",i||(n+=a+' style="font-weight: bold;"')):"em"===s?(s="span",i||(n+=a+' style="font-style: italic;"')):"u"===s?(s="span",i||(n+=a+' style="text-decoration: underline;"')):"strike"===s&&(s="span",i||(n+=a+' style="text-decoration: line-through;"')));var r,h="";if("del"===s)s="strike";else if("img"===s)n=n.replace(\/\\s+emot\\s*=\\s*("[^"]*"|'[^']*'|[^>\\s]+)\/i,function(e,t){return r=t.match(\/^(["']?)(.*)\\1\/)[2],r=r.split(","),r[1]||(r[1]=r[0],r[0]=""),"default"===r[0]&&(r[0]=""),settings.emotMark?e:""});else if("a"===s)!n.match(\/ href=[^ ]\/i)&&n.match(\/ name=[^ ]\/i)&&(h+=" xhe-anchor"),l&&(o="><\/a>");else if("table"===s&&!i){var c=n.match(\/\\s+border\\s*=\\s*("[^"]*"|'[^']*'|[^>\\s]+)\/i);(!c||c[1].match(\/^(["']?)\\s*0\\s*\\1$\/))&&(h+=" xhe-border")}var d;if(n=n.replace(\/\\s+([\\w\\-:]+)\\s*=\\s*("[^"]*"|'[^']*'|[^>\\s]+)\/g,function(e,t,i){return t=t.toLowerCase(),i=i.match(\/^(["']?)(.*)\\1\/)[2],aft="",isIE&&t.match(\/^(disabled|checked|readonly|selected)$\/)&&i.match(\/^(false|0)$\/i)?"":"img"===s&&r&&"src"===t?"":(t.match(\/^(src|href)$\/)&&(aft=" _xhe_"+t+'="'+i+'"',urlBase&&(i=getLocalUrl(i,"abs",urlBase))),h&&"class"===t&&(i+=" "+h,h=""),isWebkit&&"style"===t&&"span"===s&&i.match(\/(^|;)\\s*(font-family|font-size|color|background-color)\\s*:\\s*[^;]+\\s*(;|$)\/i)&&(d=!0)," "+t+'="'+i+'"'+aft)}),r){var u=emotPath+(r[0]?r[0]:"default")+"\/"+r[1]+".gif";n+=' src="'+u+'" _xhe_src="'+u+'"'}return d&&(n+=a),h&&(n+=' class="'+h+'"'),"<"+i+s+n+o}),isIE&&(e=e.replace(\/&apos;\/gi,"&#39;")),isWebkit||(e=e.replace(\/<(span)(\\s+[^>]*?)?\\s+style\\s*=\\s*"((?:[^"]*?;)?\\s*(?:font-family|font-size|color)\\s*:[^"]*)"( [^>]*)?>(((?!<\\1(\\s+[^>]*?)?>)[\\s\\S]|<\\1(\\s+[^>]*?)?>((?!<\\1(\\s+[^>]*?)?>)[\\s\\S]|<\\1(\\s+[^>]*?)?>((?!<\\1(\\s+[^>]*?)?>)[\\s\\S])*?<\\\/\\1>)*?<\\\/\\1>)*?)<\\\/\\1>\/gi,i),e=e.replace(\/<(span)(\\s+[^>]*?)?\\s+style\\s*=\\s*"((?:[^"]*?;)?\\s*(?:font-family|font-size|color)\\s*:[^"]*)"( [^>]*)?>(((?!<\\1(\\s+[^>]*?)?>)[\\s\\S]|<\\1(\\s+[^>]*?)?>((?!<\\1(\\s+[^>]*?)?>)[\\s\\S])*?<\\\/\\1>)*?)<\\\/\\1>\/gi,i),e=e.replace(\/<(span)(\\s+[^>]*?)?\\s+style\\s*=\\s*"((?:[^"]*?;)?\\s*(?:font-family|font-size|color)\\s*:[^"]*)"( [^>]*)?>(((?!<\\1(\\s+[^>]*?)?>)[\\s\\S])*?)<\\\/\\1>\/gi,i)),e=e.replace(\/<(td|th)(\\s+[^>]*?)?>(\\s|&nbsp;)*<\\\/\\1>\/gi,"<$1$2>"+(isIE?"":"<br \/>")+"<\/$1>");else{if(isWebkit)for(var o=[{r:\/font-weight\\s*:\\s*bold;?\/gi,t:"strong"},{r:\/font-style\\s*:\\s*italic;?\/gi,t:"em"},{r:\/text-decoration\\s*:\\s*underline;?\/gi,t:"u"},{r:\/text-decoration\\s*:\\s*line-through;?\/gi,t:"strike"}],l=0;2>l;l++)e=e.replace(\/<(span)(\\s+[^>]*?)?\\s+class\\s*=\\s*"Apple-style-span"(\\s+[^>]*?)?>(((?!<\\1(\\s+[^>]*?)?>)[\\s\\S]|<\\1(\\s+[^>]*?)?>((?!<\\1(\\s+[^>]*?)?>)[\\s\\S]|<\\1(\\s+[^>]*?)?>((?!<\\1(\\s+[^>]*?)?>)[\\s\\S])*?<\\\/\\1>)*?<\\\/\\1>)*?)<\\\/\\1>\/gi,s),e=e.replace(\/<(span)(\\s+[^>]*?)?\\s+class\\s*=\\s*"Apple-style-span"(\\s+[^>]*?)?>(((?!<\\1(\\s+[^>]*?)?>)[\\s\\S]|<\\1(\\s+[^>]*?)?>((?!<\\1(\\s+[^>]*?)?>)[\\s\\S])*?<\\\/\\1>)*?)<\\\/\\1>\/gi,s),e=e.replace(\/<(span)(\\s+[^>]*?)?\\s+class\\s*=\\s*"Apple-style-span"(\\s+[^>]*?)?>(((?!<\\1(\\s+[^>]*?)?>)[\\s\\S])*?)<\\\/\\1>\/gi,s);e=e.replace(\/(<(\\w+))((?:\\s+[\\w\\-:]+\\s*=\\s*(?:"[^"]*"|'[^']*'|[^>\\s]+))*)\\s*(\\\/?>)\/g,function(e,t,i,s,a){i=i.toLowerCase();$/;"	p
var.specialKeys.35	js/xheditor.min.js	/^(function(){var e={};window.XHEDITOR=e})(),function(e,t){e.mapLang={},e.setLang=function(i,s){s===t&&(s=i,i=""),""!==i&&(i+=".");var a,n;for(var o in s)n=s[o],a=i+o,"string"==typeof n||n instanceof Array?e.mapLang[a]=n:e.setLang(a,n)},e.getLang=function(i){var s=e.mapLang[i];if(s===t&&(s=i.replace(\/{#([^{}]+)}\/g,function(t,i){var s=e.mapLang[i];return s?s:i})),"string"==typeof s){var a=arguments;s=s.replace(\/{\\$(\\d+)}\/g,function(e,i){var s=a[parseInt(i,10)+1];return s!==t?s:e})}return s}}(XHEDITOR),function(XHEDITOR,$,undefined){var agent=navigator.userAgent.toLowerCase(),bMobile=\/mobile\/i.test(agent),browser=$.browser,browerVer=parseFloat(browser.version),isIE=browser.msie,isMozilla=browser.mozilla,isWebkit=browser.webkit,isOpera=browser.opera,isChrome=browser.chrome,bAir=agent.indexOf(" adobeair\/")>-1,xCount=0,bShowPanel=!1,bClickCancel=!0,bShowModal=!1,bCheckEscInit=!1,_jPanel,_jShadow,_jCntLine,_jPanelButton,jModal,jModalShadow,layerShadow,jOverlay,jHideSelect,onModalRemove,editorRoot,getLang=XHEDITOR.getLang;if($("script[src*=xheditor]").each(function(){var e=this.src;return e.match(\/xheditor[^\\\/]*\\.js\/i)?(editorRoot=e.replace(\/[\\?#].*$\/,"").replace(\/(^|[\\\/\\\\])[^\\\/]*$\/,"$1"),!1):undefined}),isIE){try{document.execCommand("BackgroundImageCache",!1,!0)}catch(e){}var jqueryVer=$.fn.jquery;jqueryVer&&jqueryVer.match(\/^1\\.[67]\/)&&($.attrHooks.width=$.attrHooks.height=null)}var specialKeys={27:"esc",9:"tab",32:"space",13:"enter",8:"backspace",145:"scroll",20:"capslock",144:"numlock",19:"pause",45:"insert",36:"home",46:"del",35:"end",33:"pageup",34:"pagedown",37:"left",38:"up",39:"right",40:"down",112:"f1",113:"f2",114:"f3",115:"f4",116:"f5",117:"f6",118:"f7",119:"f8",120:"f9",121:"f10",122:"f11",123:"f12"},arrAlign=[{v:"justifyleft"},{v:"justifycenter"},{v:"justifyright"},{v:"justifyfull"}],arrList=[{v:"insertOrderedList"},{v:"insertUnorderedList"}],htmlPastetext='<div><label for="xhePastetextValue">{#PastetextTip}<\/label><\/div><div><textarea id="xhePastetextValue" wrap="soft" spellcheck="false" style="width:300px;height:100px;" \/><\/div><div style="text-align:right;"><input type="button" id="xheSave" value="{#dialogOk}" \/><\/div>',htmlLink='<div><label for="xheLinkUrl">{#link.url}<\/label><input type="text" id="xheLinkUrl" value="http:\/\/" class="xheText" \/><\/div><div><label for="xheLinkTarget">{#link.target}<\/label><select id="xheLinkTarget"><option selected="selected" value="">{#default}<\/option><option value="_blank">{#link.targetBlank}<\/option><option value="_self">{#link.targetSelf}<\/option><option value="_parent">{#link.targetParent}<\/option><\/select><\/div><div style="display:none"><label for="xheLinkText">{#link.linkText}<\/label><input type="text" id="xheLinkText" value="" class="xheText" \/><\/div><div style="text-align:right;"><input type="button" id="xheSave" value="{#dialogOk}" \/><\/div>',htmlAnchor='<div><label for="xheAnchorName">{#anchor.name}<\/label><input type="text" id="xheAnchorName" value="" class="xheText" \/><\/div><div style="text-align:right;"><input type="button" id="xheSave" value="{#dialogOk}" \/><\/div>',htmlImg='<div><label for="xheImgUrl">{#img.url}<\/label><input type="text" id="xheImgUrl" value="http:\/\/" class="xheText" \/><\/div><div><div><label for="xheImgAlt">{#img.alt}<\/label><input type="text" id="xheImgAlt" \/><\/div><div><label for="xheImgAlign">{#img.align}<\/label><select id="xheImgAlign"><option selected="selected" value="">{#default}<\/option><option value="left">{#img.alignLeft}<\/option><option value="right">{#img.alignRight}<\/option><option value="top">{#img.alignTop}<\/option><option value="middle">{#img.alignMiddle}<\/option><option value="baseline">{#img.alignBaseline}<\/option><option value="bottom">{#img.alignBottom}<\/option><\/select><\/div><div><label for="xheImgWidth">{#img.width}<\/label><input type="text" id="xheImgWidth" style="width:40px;" \/> <label for="xheImgHeight">{#img.height}<\/label><input type="text" id="xheImgHeight" style="width:40px;" \/><\/div><div><label for="xheImgBorder">{#img.border}<\/label><input type="text" id="xheImgBorder" style="width:40px;" \/><\/div><div><label for="xheImgHspace">{#img.hspace}<\/label><input type="text" id="xheImgHspace" style="width:40px;" \/> <label for="xheImgVspace">{#img.vspace}<\/label><input type="text" id="xheImgVspace" style="width:40px;" \/><\/div><div style="text-align:right;"><input type="button" id="xheSave" value="{#dialogOk}" \/><\/div>',htmlFlash='<div><label for="xheFlashUrl">{#flash.url}<\/label><input type="text" id="xheFlashUrl" value="http:\/\/" class="xheText" \/><\/div><div><label for="xheFlashWidth">{#flash.width}<\/label><input type="text" id="xheFlashWidth" style="width:40px;" value="480" \/> <label for="xheFlashHeight">{#flash.height}<\/label><input type="text" id="xheFlashHeight" style="width:40px;" value="400" \/><\/div><div style="text-align:right;"><input type="button" id="xheSave" value="{#dialogOk}" \/><\/div>',htmlMedia='<div><label for="xheMediaUrl">{#media.url}<\/label><input type="text" id="xheMediaUrl" value="http:\/\/" class="xheText" \/><\/div><div><label for="xheMediaWidth">{#media.width}<\/label><input type="text" id="xheMediaWidth" style="width:40px;" value="480" \/> <label for="xheMediaHeight">{#media.height}<\/label><input type="text" id="xheMediaHeight" style="width:40px;" value="400" \/><\/div><div style="text-align:right;"><input type="button" id="xheSave" value="{#dialogOk}" \/><\/div>',htmlTable='<div><label for="xheTableRows">{#table.rows}<\/label><input type="text" id="xheTableRows" style="width:40px;" value="3" \/> <label for="xheTableColumns">{#table.columns}<\/label><input type="text" id="xheTableColumns" style="width:40px;" value="2" \/><\/div><div><label for="xheTableHeaders">{#table.headers}<\/label><select id="xheTableHeaders"><option selected="selected" value="">{#none}<\/option><option value="row">{#table.headersRow}<\/option><option value="col">{#table.headersCol}<\/option><option value="both">{#table.headersBoth}<\/option><\/select><\/div><div><label for="xheTableWidth">{#table.width}<\/label><input type="text" id="xheTableWidth" style="width:40px;" value="200" \/> <label for="xheTableHeight">{#table.height}<\/label><input type="text" id="xheTableHeight" style="width:40px;" value="" \/><\/div><div><label for="xheTableBorder">{#table.border}<\/label><input type="text" id="xheTableBorder" style="width:40px;" value="1" \/><\/div><div><label for="xheTableCellSpacing">{#table.cellSpacing}<\/label><input type="text" id="xheTableCellSpacing" style="width:40px;" value="1" \/> <label for="xheTableCellPadding">{#table.cellPadding}<\/label><input type="text" id="xheTableCellPadding" style="width:40px;" value="1" \/><\/div><div><label for="xheTableAlign">{#table.align}<\/label><select id="xheTableAlign"><option selected="selected" value="">{#default}<\/option><option value="left">{#table.alignLeft}<\/option><option value="center">{#table.alignCenter}<\/option><option value="right">{#table.alignRight}<\/option><\/select><\/div><div><label for="xheTableCaption">{#table.caption}<\/label><input type="text" id="xheTableCaption" \/><\/div><div style="text-align:right;"><input type="button" id="xheSave" value="{#dialogOk}" \/><\/div>',htmlAbout='<div style="font:12px Arial;width:245px;word-wrap:break-word;word-break:break-all;outline:none;" role="dialog" tabindex="-1"><p><span style="font-size:20px;color:#1997DF;">xhEditor<\/span><br \/>v1.2.1 (build 130225)<\/p><p>{#aboutXheditor}<\/p><p>Copyright &copy; <a href="http:\/\/xheditor.com\/" target="_blank">xhEditor.com<\/a>. All rights reserved.<\/p><\/div>',itemEmots={"default":{name:"{#default}",width:24,height:24,line:7,list:["smile","tongue","titter","laugh","sad","wronged","fastcry","cry","wail","mad","knock","curse","crazy","angry","ohmy","awkward","panic","shy","cute","envy","proud","struggle","quiet","shutup","doubt","despise","sleep","bye"]}},arrTools={Cut:{t:"Cut"},Copy:{t:"Copy"},Paste:{t:"Paste"},Pastetext:{t:"Pastetext",h:isIE?0:1},Blocktag:{t:"Blocktag",h:1},Fontface:{t:"Fontface",h:1},FontSize:{t:"FontSize",h:1},Bold:{t:"Bold",s:"Ctrl+B"},Italic:{t:"Italic",s:"Ctrl+I"},Underline:{t:"Underline",s:"Ctrl+U"},Strikethrough:{t:"Strikethrough"},FontColor:{t:"FontColor",h:1},BackColor:{t:"BackColor",h:1},SelectAll:{t:"SelectAll"},Removeformat:{t:"Removeformat"},Align:{t:"Align",h:1},List:{t:"List",h:1},Outdent:{t:"Outdent"},Indent:{t:"Indent"},Link:{t:"Link",s:"Ctrl+L",h:1},Unlink:{t:"Unlink"},Anchor:{t:"Anchor",h:1},Img:{t:"Img",h:1},Flash:{t:"Flash",h:1},Media:{t:"Media",h:1},Hr:{t:"Hr"},Emot:{t:"Emot",s:"ctrl+e",h:1},Table:{t:"Table",h:1},Source:{t:"Source"},Preview:{t:"Preview"},Print:{t:"Print",s:"Ctrl+P"},Fullscreen:{t:"Fullscreen",s:"Esc"},About:{t:"About"}},toolsThemes={mini:"Bold,Italic,Underline,Strikethrough,|,Align,List,|,Link,Img",simple:"Blocktag,Fontface,FontSize,Bold,Italic,Underline,Strikethrough,FontColor,BackColor,|,Align,List,Outdent,Indent,|,Link,Img,Emot",full:"Cut,Copy,Paste,Pastetext,|,Blocktag,Fontface,FontSize,Bold,Italic,Underline,Strikethrough,FontColor,BackColor,SelectAll,Removeformat,|,Align,List,Outdent,Indent,|,Link,Unlink,Anchor,Img,Flash,Media,Hr,Emot,Table,|,Source,Preview,Print,Fullscreen"};toolsThemes.mfull=toolsThemes.full.replace(\/\\|(,Align)\/i,"\/$1");var arrDbClick={a:"Link",img:"Img",embed:"Embed"},uploadInputname="filedata",arrEntities={"<":"&lt;",">":"&gt;",'"':"&quot;","\\u00ae":"&reg;","\\u00a9":"&copy;"},regEntities=\/[<>"\\u00ae\\u00a9]\/g,Xheditor=function(textarea,options){function checkDblClick(e){var t=e.target,i=arrDbClick[t.tagName.toLowerCase()];if(i){if("Embed"===i){var s={"application\/x-shockwave-flash":"Flash","application\/x-mplayer2":"Media"};i=s[t.type.toLowerCase()]}_this.exec(i)}}function checkEsc(e){return 27===e.which?(bShowModal?_this.removeModal():bShowPanel&&_this.hidePanel(),!1):undefined}function loadReset(){setTimeout(_this.setSource,10)}function saveResult(){_this.getSource()}function cleanPaste(e){var t,i,s;if(e&&(t=e.originalEvent.clipboardData)&&(i=t.items)&&(s=i[0])&&"file"==s.kind&&s.type.match(\/^image\\\/\/i)){var a=s.getAsFile(),n=new FileReader;return n.onload=function(){var e='<img src="'+event.target.result+'">';e=replaceRemoteImg(e),_this.pasteHTML(e)},n.readAsDataURL(a),!1}var o=settings.cleanPaste;if(0===o||bSource||bCleanPaste)return!0;bCleanPaste=!0,_this.saveBookmark();var l=isIE?"pre":"div",r=$("<"+l+' class="xhe-paste">\\ufeff\\ufeff<\/'+l+">",_doc).appendTo(_doc.body),h=r[0],c=_this.getSel(),d=_this.getRng(!0);r.css("top",_jWin.scrollTop()),isIE?(d.moveToElementText(h),d.select()):(d.selectNodeContents(h),c.removeAllRanges(),c.addRange(d)),setTimeout(function(){var e,t=3===o;if(t)r.html(r.html().replace(\/<br(\\s+[^<>]*)?>\/gi,"\\n")),e=r.text();else{var i=$(".xhe-paste",_doc.body),s=[];i.each(function(e,t){0==$(t).find(".xhe-paste").length&&s.push(t.innerHTML)}),e=s.join("<br \/>")}r.remove(),_this.loadBookmark(),e=e.replace(\/^[\\s\\uFEFF]+|[\\s\\uFEFF]+$\/g,""),e&&(t?_this.pasteText(e):(e=_this.cleanHTML(e),e=_this.cleanWord(e),e=_this.formatXHTML(e),(!settings.onPaste||settings.onPaste&&(e=settings.onPaste(e))!==!1)&&(e=replaceRemoteImg(e),_this.pasteHTML(e)))),bCleanPaste=!1},0)}function replaceRemoteImg(e){var t=settings.localUrlTest,i=settings.remoteImgSaveUrl;if(t&&i){var s=[],a=0;e=e.replace(\/(<img)((?:\\s+[^>]*?)?(?:\\s+src="\\s*([^"]+)\\s*")(?: [^>]*)?)(\\\/?>)\/gi,function(e,i,n,o,l){return!\/^(https?|data:image)\/i.test(o)||\/_xhe_temp\/.test(n)||t.test(o)||(s[a]=o,n=n.replace(\/\\s+(width|height)="[^"]*"\/gi,"").replace(\/\\s+src="[^"]*"\/gi,' src="'+skinPath+'img\/waiting.gif" remoteimg="'+a++ +'"')),i+n+l}),s.length>0&&$.post(i,{urls:s.join("|")},function(e){e=e.split("|"),$("img[remoteimg]",_this.doc).each(function(){var t=$(this);xheAttr(t,"src",e[t.attr("remoteimg")]),t.removeAttr("remoteimg")})})}return e}function setCSS(e){try{_this._exec("styleWithCSS",e,!0)}catch(t){try{_this._exec("useCSS",!e,!0)}catch(t){}}}function setOpts(){if(bInit&&!bSource){setCSS(!1);try{_this._exec("enableObjectResizing",!0,!0)}catch(e){}if(isIE)try{_this._exec("BackgroundImageCache",!0,!0)}catch(e){}}}function forcePtag(e){if(bSource||13!==e.which||e.shiftKey||e.ctrlKey||e.altKey)return!0;var t=_this.getParent("p,h1,h2,h3,h4,h5,h6,pre,address,div,li");return t.is("li")?!0:settings.forcePtag?(0===t.length&&_this._exec("formatblock","<p>"),undefined):(_this.pasteHTML("<br \/>"),isIE&&t.length>0&&2===_this.getRng().parentElement().childNodes.length&&_this.pasteHTML("<br \/>"),!1)}function fixFullHeight(){isMozilla||isWebkit||(bFullscreen&&_jArea.height("100%").css("height",_jArea.outerHeight()-_jTools.outerHeight()),isIE&&_jTools.hide().show())}function fixAppleSel(e){if(e=e.target,e.tagName.match(\/(img|embed)\/i)){var t=_this.getSel(),i=_this.getRng(!0);i.selectNode(e),t.removeAllRanges(),t.addRange(i)}}function xheAttr(e,t,i){if(!t)return!1;var s="_xhe_"+t;return i&&(urlType&&(i=getLocalUrl(i,urlType,urlBase)),e.attr(t,urlBase?getLocalUrl(i,"abs",urlBase):i).removeAttr(s).attr(s,i)),e.attr(s)||e.attr(t)}function clickCancelPanel(){bClickCancel&&_this.hidePanel()}function checkShortcuts(e){if(bSource)return!0;var t=e.which,i=specialKeys[t],s=i?i:String.fromCharCode(t).toLowerCase();sKey="",sKey+=e.ctrlKey?"ctrl+":"",sKey+=e.altKey?"alt+":"",sKey+=e.shiftKey?"shift+":"",sKey+=s;var a,n=arrShortCuts[sKey];for(a in n){if(a=n[a],!$.isFunction(a))return _this.exec(a),!1;if(a.call(_this)===!1)return!1}}function is(e,t){var i=typeof e;return t?"array"===t&&e.hasOwnProperty&&e instanceof Array?!0:i===t:"undefined"!=i}function getLocalUrl(e,t,i){if(e.match(\/^(\\w+):\\\/\\\/\/i)&&!e.match(\/^https?:\/i)||\/^#\/i.test(e)||\/^data:\/i.test(e))return e;var s=i?$('<a href="'+i+'" \/>')[0]:location,a=s.protocol,n=s.host,o=s.hostname,l=s.port,r=s.pathname.replace(\/\\\\\/g,"\/").replace(\/[^\\\/]+$\/i,"");if(""===l&&(l="80"),""===r?r="\/":"\/"!==r.charAt(0)&&(r="\/"+r),e=$.trim(e),"abs"!==t&&(e=e.replace(RegExp(a+"\\\\\/\\\\\/"+o.replace(\/\\.\/g,"\\\\.")+"(?::"+l+")"+("80"===l?"?":"")+"(\/|$)","i"),"\/")),"rel"===t&&(e=e.replace(RegExp("^"+r.replace(\/([\\\/\\.\\+\\[\\]\\(\\)])\/g,"\\\\$1"),"i"),"")),"rel"!==t&&(e.match(\/^(https?:\\\/\\\/|\\\/)\/i)||(e=r+e),"\/"===e.charAt(0))){var h,c,d=[],u=e.split("\/"),p=u.length;for(c=0;p>c;c++)h=u[c],".."===h?d.pop():""!==h&&"."!==h&&d.push(h);""===u[p-1]&&d.push(""),e="\/"+d.join("\/")}return"abs"!==t||e.match(\/^https?:\\\/\\\/\/i)||(e=a+"\/\/"+n+e),e=e.replace(\/(https?:\\\/\\\/[^:\\\/?#]+):80(\\\/|$)\/i,"$1$2")}function checkFileExt(e,t){return"*"===t||e.match(RegExp(".("+t.replace(\/,\/g,"|")+")$","i"))?!0:(alert(getLang("upload.extLimit",t)),!1)}function formatBytes(e){var t=["Byte","KB","MB","GB","TB","PB"],i=Math.floor(Math.log(e)\/Math.log(1024));return(e\/Math.pow(1024,Math.floor(i))).toFixed(2)+t[i]}function returnFalse(){return!1}var _this=this,_text=textarea,_jText=$(_text),_jForm=_jText.closest("form"),_jTools,_jArea,_win,_jWin,_doc,_jDoc,bookmark,bInit=!1,bSource=!1,bFullscreen=!1,bCleanPaste=!1,outerScroll,bShowBlocktag=!1,sLayoutStyle="",ev=null,timer,bDisableHoverExec=!1,bQuickHoverExec=!1,lastPoint=null,lastAngle=null,editorHeight=0,settings=_this.settings=$.extend({},XHEDITOR.settings,options),plugins=settings.plugins,strPlugins=[];if(plugins&&(arrTools=$.extend({},arrTools,plugins),$.each(plugins,function(e){strPlugins.push(e)}),strPlugins=strPlugins.join(",")),settings.tools.match(\/^\\s*(m?full|simple|mini)\\s*$\/i)){var toolsTheme=toolsThemes[$.trim(settings.tools)];settings.tools=settings.tools.match(\/m?full\/i)&&plugins?toolsTheme.replace("Table","Table,"+strPlugins):toolsTheme}settings.tools.match(\/(^|,)\\s*About\\s*(,|$)\/i)||(settings.tools+=",About"),settings.tools=settings.tools.split(","),settings.editorRoot&&(editorRoot=settings.editorRoot),bAir===!1&&(editorRoot=getLocalUrl(editorRoot,"abs")),settings.urlBase&&(settings.urlBase=getLocalUrl(settings.urlBase,"abs"));var idCSS="xheCSS_"+settings.skin,idContainer="xhe"+xCount+"_container",idTools="xhe"+xCount+"_Tool",idIframeArea="xhe"+xCount+"_iframearea",idIframe="xhe"+xCount+"_iframe",idFixFFCursor="xhe"+xCount+"_fixffcursor",headHTML="",bodyClass="",skinPath=editorRoot+"xheditor_skin\/"+settings.skin+"\/",arrEmots=itemEmots,urlType=settings.urlType,urlBase=settings.urlBase,emotPath=settings.emotPath,emotPath=emotPath?emotPath:editorRoot+"xheditor_emot\/",selEmotGroup="";arrEmots=$.extend({},arrEmots,settings.emots),emotPath=getLocalUrl(emotPath,"rel",urlBase?urlBase:null),bShowBlocktag=settings.showBlocktag,bShowBlocktag&&(bodyClass+=" showBlocktag");var arrShortCuts=[];this.init=function(){function e(e){var t,i=$(e.target);(t=i.css("width"))&&i.css("width","").attr("width",t.replace(\/[^0-9%]+\/g,"")),(t=i.css("height"))&&i.css("height","").attr("height",t.replace(\/[^0-9%]+\/g,""))}0===$("#"+idCSS).length&&$("head").append('<link id="'+idCSS+'" rel="stylesheet" type="text\/css" href="'+skinPath+'ui.css" \/>');var t=_jText.outerWidth(),i=_jText.outerHeight(),s=settings.width||_text.style.width||(t>10?t:0);editorHeight=settings.height||_text.style.height||(i>10?i:150),\/^\\d+(?:\\.\\d+)?$\/.test(s)&&(s+="px"),is(editorHeight,"string")&&(editorHeight=editorHeight.replace(\/[^\\d]+\/g,""));var a,n,o=settings.background||_text.style.background,l=['<span class="xheGStart"\/>'],r=\/\\||\\\/\/i;$.each(settings.tools,function(e,t){if(t.match(r)&&l.push('<span class="xheGEnd"\/>'),"|"===t)l.push('<span class="xheSeparator"\/>');else if("\/"===t)l.push("<br \/>");else{if(a=arrTools[t],!a)return;n=a.c?a.c:"xheIcon xheBtn"+t,l.push('<span><a href="#" title="{#'+a.t+'}" cmd="'+t+'" class="xheButton xheEnabled" tabindex="-1" role="button"><span class="'+n+'" unselectable="on" style="font-size:0;color:transparent;text-indent:-999px;">'+a.t+"<\/span><\/a><\/span>"),a.s&&_this.addShortcuts(a.s,t)}t.match(r)&&l.push('<span class="xheGStart"\/>')}),l.push('<span class="xheGEnd"\/><br \/>'),_jText.after($('<input type="text" id="'+idFixFFCursor+'" style="position:absolute;display:none;" \/><span id="'+idContainer+'" class="xhe_'+settings.skin+'" style="display:none"><table cellspacing="0" cellpadding="0" class="xheLayout" style="'+("0px"!=s?"width:"+s+";":"")+"height:"+editorHeight+'px;" role="presentation"><tr><td id="'+idTools+'" class="xheTool" unselectable="on" style="height:1px;" role="presentation"><\/td><\/tr><tr><td id="'+idIframeArea+'" class="xheIframeArea" role="presentation"><iframe frameborder="0" id="'+idIframe+'" src="javascript:;" style="width:100%;"><\/iframe><\/td><\/tr><\/table><\/span>')),_jTools=$("#"+idTools),_jArea=$("#"+idIframeArea),headHTML='<meta http-equiv="Content-Type" content="text\/html; charset=utf-8" \/><link rel="stylesheet" href="'+skinPath+'iframe.css"\/>';var h=settings.loadCSS;if(h)if(is(h,"array"))for(var c in h)headHTML+='<link rel="stylesheet" href="'+h[c]+'"\/>';else headHTML+=h.match(\/\\s*<style(\\s+[^>]*?)?>[\\s\\S]+?<\\\/style>\\s*\/i)?h:'<link rel="stylesheet" href="'+h+'"\/>';var d='<!DOCTYPE html><html xmlns="http:\/\/www.w3.org\/1999\/xhtml"><head>'+headHTML+"<title>{#defaultReadTip} "+(settings.readTip?settings.readTip:"")+"<\/title>";o&&(d+="<style>html{background:"+o+";}<\/style>"),d+='<\/head><body spellcheck="0" class="editMode'+bodyClass+'"><\/body><\/html>',_this.win=_win=$("#"+idIframe)[0].contentWindow,_jWin=$(_win);try{this.doc=_doc=_win.document,_jDoc=$(_doc),_doc.open(),_doc.write(getLang(d)),_doc.close(),isIE?_doc.body.contentEditable="true":_doc.designMode="On"}catch(u){}setTimeout(setOpts,300),_this.setSource(),_win.setInterval=null,_jTools.append(getLang(l.join(""))).bind("mousedown contextmenu",returnFalse).click(function(e){var t=$(e.target).closest("a");return t.is(".xheEnabled")&&(clearTimeout(timer),_jTools.find("a").attr("tabindex","-1"),ev=e,_this.exec(t.attr("cmd"))),!1}),_jTools.find(".xheButton").hover(function(e){var t=$(this),i=settings.hoverExecDelay,s=lastAngle;if(lastAngle=null,-1===i||bDisableHoverExec||!t.is(".xheEnabled"))return!1;if(s&&s>10)return bDisableHoverExec=!0,setTimeout(function(){bDisableHoverExec=!1},100),!1;var a=t.attr("cmd"),n=1===arrTools[a].h;return n?(bQuickHoverExec&&(i=0),i>=0&&(timer=setTimeout(function(){ev=e,lastPoint={x:ev.clientX,y:ev.clientY},_this.exec(a)},i)),undefined):(_this.hidePanel(),!1)},function(){lastPoint=null,timer&&clearTimeout(timer)}).mousemove(function(e){if(lastPoint){var t={x:e.clientX-lastPoint.x,y:e.clientY-lastPoint.y};if(Math.abs(t.x)>1||Math.abs(t.y)>1){if(t.x>0&&t.y>0){var i=Math.round(Math.atan(t.y\/t.x)\/.017453293);lastAngle=lastAngle?(lastAngle+i)\/2:i}else lastAngle=null;lastPoint={x:e.clientX,y:e.clientY}}}}),_jPanel=$("#xhePanel"),_jShadow=$("#xheShadow"),_jCntLine=$("#xheCntLine"),0===_jPanel.length&&(_jPanel=$('<div id="xhePanel"><\/div>').mousedown(function(e){e.stopPropagation()}),_jShadow=$('<div id="xheShadow"><\/div>'),_jCntLine=$('<div id="xheCntLine"><\/div>'),setTimeout(function(){$(document.body).append(_jPanel).append(_jShadow).append(_jCntLine)},10)),$("#"+idContainer).show(),_jText.hide(),_jArea.css("height",editorHeight-_jTools.outerHeight()),isIE&8>browerVer&&setTimeout(function(){_jArea.css("height",editorHeight-_jTools.outerHeight())},1),_jText.focus(_this.focus),_jForm.submit(saveResult).bind("reset",loadReset),settings.submitID&&$("#"+settings.submitID).mousedown(saveResult),$(window).bind("unload beforeunload",saveResult).bind("resize",fixFullHeight),$(document).mousedown(clickCancelPanel),bCheckEscInit||($(document).keydown(checkEsc),bCheckEscInit=!0),_jWin.focus(function(){settings.focus&&settings.focus()}).blur(function(){settings.blur&&settings.blur()}),isWebkit&&_jWin.click(fixAppleSel),_jDoc.mousedown(clickCancelPanel).keydown(checkShortcuts).keypress(forcePtag).dblclick(checkDblClick).bind("mousedown click",function(e){_jText.trigger(e.type)}),isIE&&(_jDoc.keydown(function(e){var t=_this.getRng();return 8===e.which&&t.item?($(t.item(0)).remove(),!1):undefined}),_jDoc.bind("controlselect",function(t){t=t.target,$.nodeName(t,"IMG")&&$(t).unbind("resizeend",e).bind("resizeend",e)})),_jDoc.keydown(function(e){var t=e.which;return e.altKey&&t>=49&&57>=t?(_jTools.find("a").attr("tabindex","0"),_jTools.find(".xheGStart").eq(t-49).next().find("a").focus(),_doc.title="\\ufeff\\ufeff",!1):undefined}).click(function(){_jTools.find("a").attr("tabindex","-1")}),_jTools.keydown(function(e){var t=e.which;if(27==t)_jTools.find("a").attr("tabindex","-1"),_this.focus();else if(e.altKey&&t>=49&&57>=t)return _jTools.find(".xheGStart").eq(t-49).next().find("a").focus(),!1});var p=$(_doc.documentElement);isOpera?p.bind("keydown",function(e){e.ctrlKey&&86===e.which&&cleanPaste()}):p.bind(isIE?"beforepaste":"paste",cleanPaste),settings.disableContextmenu&&p.bind("contextmenu",returnFalse),settings.html5Upload&&p.bind("dragenter dragover",function(e){var t;return(t=e.originalEvent.dataTransfer.types)&&-1!==$.inArray("Files",t)?!1:undefined}).bind("drop",function(e){function t(e){var t,i,s;for(a=0;e.length>a;a++){if(i=e[a].name.replace(\/.+\\.\/,""),!(t=o.match(RegExp("(\\\\w+):[^:]*,"+i+"(?:,|$)","i"))))return 1;if(s){if(s!==t[1])return 2}else s=t[1]}return s}var i,s=e.originalEvent.dataTransfer;if(s&&(i=s.files)&&i.length>0){var a,n,o,l=["Link","Img","Flash","Media"],r=[];for(a in l)n=l[a],settings["up"+n+"Url"]&&settings["up"+n+"Url"].match(\/^[^!].*\/i)&&r.push(n+":,"+settings["up"+n+"Ext"]);return 0===r.length?!1:(o=r.join(","),n=t(i),1===n?alert(getLang("upload.extLimit",o.replace(\/\\w+:,\/g,""))):2===n?alert(getLang("upload.typeLimit")):n&&_this.startUpload(i,settings["up"+n+"Url"],"*",function(e){var t,i=[],s=settings.onUpload;s&&s(e);for(var a=0,o=e.length;o>a;a++)t=e[a],url=is(t,"string")?t:t.url,"!"===url.substr(0,1)&&(url=url.substr(1)),i.push(url);_this.exec(n),$("#xhe"+n+"Url").val(i.join(" ")),$("#xheSave").click()}),!1)}});var g=settings.shortcuts;g&&$.each(g,function(e,t){_this.addShortcuts(e,t)}),xCount++,bInit=!0,settings.fullscreen?_this.toggleFullscreen():settings.sourceMode&&setTimeout(_this.toggleSource,20);var f=settings.plugins;return f&&$.each(f,function(e,t){var i=t.i;i!==undefined&&i(_this)}),!0},this.remove=function(){_this.hidePanel(),saveResult(),_jText.unbind("focus",_this.focus),_jForm.unbind("submit",saveResult).unbind("reset",loadReset),settings.submitID&&$("#"+settings.submitID).unbind("mousedown",saveResult),$(window).unbind("unload beforeunload",saveResult).unbind("resize",fixFullHeight),$(document).unbind("mousedown",clickCancelPanel),$("#"+idContainer).remove(),$("#"+idFixFFCursor).remove(),_jText.show(),bInit=!1},this.saveBookmark=function(){if(!bSource){_this.focus();var e=_this.getRng();e=e.cloneRange?e.cloneRange():e,bookmark={top:_jWin.scrollTop(),rng:e}}},this.loadBookmark=function(){if(!bSource&&bookmark){_this.focus();var e=bookmark.rng;if(isIE)e.select();else{var t=_this.getSel();t.removeAllRanges(),t.addRange(e)}_jWin.scrollTop(bookmark.top),bookmark=null}},this.focus=function(){if(bSource?$("#sourceCode",_doc).focus():_win.focus(),isIE){var e=_this.getRng();e.parentElement&&e.parentElement().ownerDocument!==_doc&&_this.setTextCursor()}return!1},this.setTextCursor=function(e){var t=_this.getRng(!0),i=_doc.body;if(isIE)t.moveToElementText(i);else{for(var s=e?"lastChild":"firstChild";3!=i.nodeType&&i[s];)i=i[s];t.selectNode(i)}if(t.collapse(e?!1:!0),isIE)t.select();else{var a=_this.getSel();a.removeAllRanges(),a.addRange(t)}},this.getSel=function(){return _doc.selection?_doc.selection:_win.getSelection()},this.getRng=function(e){var t,i;try{e||(t=_this.getSel(),i=t.createRange?t.createRange():t.rangeCount>0?t.getRangeAt(0):null),i||(i=_doc.body.createTextRange?_doc.body.createTextRange():_doc.createRange())}catch(s){}return i},this.getParent=function(e){var t,i=_this.getRng();return isIE?t=i.item?i.item(0):i.parentElement():(t=i.commonAncestorContainer,i.collapsed||i.startContainer===i.endContainer&&2>i.startOffset-i.endOffset&&i.startContainer.hasChildNodes()&&(t=i.startContainer.childNodes[i.startOffset])),e=e?e:"*",t=$(t),t.is(e)||(t=$(t).closest(e)),t},this.getSelect=function(e){var t=_this.getSel(),i=_this.getRng(),s=!0;if(s=!i||i.item?!1:!t||0===i.boundingWidth||i.collapsed,"text"===e)return s?"":i.text||(t.toString?""+t:"");var a;if(i.cloneContents){var n,o=$("<div><\/div>");n=i.cloneContents(),n&&o.append(n),a=o.html()}else a=is(i.item)?i.item(0).outerHTML:is(i.htmlText)?i.htmlText:""+i;return s&&(a=""),a=_this.processHTML(a,"read"),a=_this.cleanHTML(a),a=_this.formatXHTML(a)},this.pasteHTML=function(e,t){if(bSource)return!1;_this.focus(),e=_this.processHTML(e,"write");var i=_this.getSel(),s=_this.getRng();if(t!==undefined){if(s.item){var a=s.item(0);s=_this.getRng(!0),s.moveToElementText(a),s.select()}s.collapse(t)}if(e+="<"+(isIE?"img":"span")+' id="_xhe_temp" width="0" height="0" \/>',s.insertNode){if($(s.startContainer).closest("style,script").length>0)return!1;s.deleteContents(),s.insertNode(s.createContextualFragment(e))}else"control"===i.type.toLowerCase()&&(i.clear(),s=_this.getRng()),s.pasteHTML(e);var n=$("#_xhe_temp",_doc),o=n[0];isIE?(s.moveToElementText(o),s.select()):(s.selectNode(o),i.removeAllRanges(),i.addRange(s)),n.remove()},this.pasteText=function(e,t){e||(e=""),e=_this.domEncode(e),e=e.replace(\/\\r?\\n\/g,"<br \/>"),_this.pasteHTML(e,t)},this.appendHTML=function(e){return bSource?!1:(_this.focus(),e=_this.processHTML(e,"write"),$(_doc.body).append(e),_this.setTextCursor(!0),undefined)},this.domEncode=function(e){return e.replace(regEntities,function(e){return arrEntities[e]})},this.setSource=function(e){bookmark=null,"string"!=typeof e&&""!==e&&(e=_text.value),bSource?$("#sourceCode",_doc).val(e):(settings.beforeSetSource&&(e=settings.beforeSetSource(e)),e=_this.cleanHTML(e),e=_this.formatXHTML(e),e=_this.processHTML(e,"write"),isIE?(_doc.body.innerHTML='<img id="_xhe_temp" width="0" height="0" \/>'+e,$("#_xhe_temp",_doc).remove()):_doc.body.innerHTML=e)},this.processHTML=function(e,t){function i(e,t,i,s,a,o){var l,r,h,c,d="";if(l=s.match(\/font-family\\s*:\\s*([^;"]+)\/i),l&&(d+=' face="'+l[1]+'"'),r=s.match(\/font-size\\s*:\\s*([^;"]+)\/i)){r=r[1].toLowerCase();for(var u=0;n.length>u;u++)if(r===n[u].n||r===n[u].s){h=u+1;break}h&&(d+=' size="'+h+'"',s=s.replace(\/(^|;)(\\s*font-size\\s*:\\s*[^;"]+;?)+\/gi,"$1"))}if(c=s.match(\/(?:^|[\\s;])color\\s*:\\s*([^;"]+)\/i)){var p;if(p=c[1].match(\/\\s*rgb\\s*\\(\\s*(\\d+)\\s*,\\s*(\\d+)\\s*,\\s*(\\d+)\\s*\\)\/i)){c[1]="#";for(var g=1;3>=g;g++)c[1]+=("0"+(p[g]-0).toString(16)).slice(-2)}c[1]=c[1].replace(\/^#([0-9a-f])([0-9a-f])([0-9a-f])$\/i,"#$1$1$2$2$3$3"),d+=' color="'+c[1]+'"'}return s=s.replace(\/(^|;)(\\s*(font-family|color)\\s*:\\s*[^;"]+;?)+\/gi,"$1"),""!==d?(s&&(d+=' style="'+s+'"'),"<font"+(i?i:"")+d+(a?a:"")+">"+o+"<\/font>"):e}function s(e,t,i,s,a){for(var n,l,r=(i?i:"")+(s?s:""),h=[],c=[],d=0;o.length>d;d++)n=o[d].r,l=o[d].t,r=r.replace(n,function(){return h.push("<"+l+">"),c.push("<\/"+l+">"),""});return r=r.replace(\/\\s+style\\s*=\\s*"\\s*"\/i,""),(r?"<span"+r+">":"")+h.join("")+a+c.join("")+(r?"<\/span>":"")}var a=' class="Apple-style-span"',n=settings.listFontsize;if("write"===t)e=e.replace(\/(<(\\\/?)(\\w+))((?:\\s+[\\w\\-:]+\\s*=\\s*(?:"[^"]*"|'[^']*'|[^>\\s]+))*)\\s*((\\\/?)>)\/g,function(e,t,i,s,n,o,l){s=s.toLowerCase(),isMozilla?"strong"===s?s="b":"em"===s&&(s="i"):isWebkit&&("strong"===s?(s="span",i||(n+=a+' style="font-weight: bold;"')):"em"===s?(s="span",i||(n+=a+' style="font-style: italic;"')):"u"===s?(s="span",i||(n+=a+' style="text-decoration: underline;"')):"strike"===s&&(s="span",i||(n+=a+' style="text-decoration: line-through;"')));var r,h="";if("del"===s)s="strike";else if("img"===s)n=n.replace(\/\\s+emot\\s*=\\s*("[^"]*"|'[^']*'|[^>\\s]+)\/i,function(e,t){return r=t.match(\/^(["']?)(.*)\\1\/)[2],r=r.split(","),r[1]||(r[1]=r[0],r[0]=""),"default"===r[0]&&(r[0]=""),settings.emotMark?e:""});else if("a"===s)!n.match(\/ href=[^ ]\/i)&&n.match(\/ name=[^ ]\/i)&&(h+=" xhe-anchor"),l&&(o="><\/a>");else if("table"===s&&!i){var c=n.match(\/\\s+border\\s*=\\s*("[^"]*"|'[^']*'|[^>\\s]+)\/i);(!c||c[1].match(\/^(["']?)\\s*0\\s*\\1$\/))&&(h+=" xhe-border")}var d;if(n=n.replace(\/\\s+([\\w\\-:]+)\\s*=\\s*("[^"]*"|'[^']*'|[^>\\s]+)\/g,function(e,t,i){return t=t.toLowerCase(),i=i.match(\/^(["']?)(.*)\\1\/)[2],aft="",isIE&&t.match(\/^(disabled|checked|readonly|selected)$\/)&&i.match(\/^(false|0)$\/i)?"":"img"===s&&r&&"src"===t?"":(t.match(\/^(src|href)$\/)&&(aft=" _xhe_"+t+'="'+i+'"',urlBase&&(i=getLocalUrl(i,"abs",urlBase))),h&&"class"===t&&(i+=" "+h,h=""),isWebkit&&"style"===t&&"span"===s&&i.match(\/(^|;)\\s*(font-family|font-size|color|background-color)\\s*:\\s*[^;]+\\s*(;|$)\/i)&&(d=!0)," "+t+'="'+i+'"'+aft)}),r){var u=emotPath+(r[0]?r[0]:"default")+"\/"+r[1]+".gif";n+=' src="'+u+'" _xhe_src="'+u+'"'}return d&&(n+=a),h&&(n+=' class="'+h+'"'),"<"+i+s+n+o}),isIE&&(e=e.replace(\/&apos;\/gi,"&#39;")),isWebkit||(e=e.replace(\/<(span)(\\s+[^>]*?)?\\s+style\\s*=\\s*"((?:[^"]*?;)?\\s*(?:font-family|font-size|color)\\s*:[^"]*)"( [^>]*)?>(((?!<\\1(\\s+[^>]*?)?>)[\\s\\S]|<\\1(\\s+[^>]*?)?>((?!<\\1(\\s+[^>]*?)?>)[\\s\\S]|<\\1(\\s+[^>]*?)?>((?!<\\1(\\s+[^>]*?)?>)[\\s\\S])*?<\\\/\\1>)*?<\\\/\\1>)*?)<\\\/\\1>\/gi,i),e=e.replace(\/<(span)(\\s+[^>]*?)?\\s+style\\s*=\\s*"((?:[^"]*?;)?\\s*(?:font-family|font-size|color)\\s*:[^"]*)"( [^>]*)?>(((?!<\\1(\\s+[^>]*?)?>)[\\s\\S]|<\\1(\\s+[^>]*?)?>((?!<\\1(\\s+[^>]*?)?>)[\\s\\S])*?<\\\/\\1>)*?)<\\\/\\1>\/gi,i),e=e.replace(\/<(span)(\\s+[^>]*?)?\\s+style\\s*=\\s*"((?:[^"]*?;)?\\s*(?:font-family|font-size|color)\\s*:[^"]*)"( [^>]*)?>(((?!<\\1(\\s+[^>]*?)?>)[\\s\\S])*?)<\\\/\\1>\/gi,i)),e=e.replace(\/<(td|th)(\\s+[^>]*?)?>(\\s|&nbsp;)*<\\\/\\1>\/gi,"<$1$2>"+(isIE?"":"<br \/>")+"<\/$1>");else{if(isWebkit)for(var o=[{r:\/font-weight\\s*:\\s*bold;?\/gi,t:"strong"},{r:\/font-style\\s*:\\s*italic;?\/gi,t:"em"},{r:\/text-decoration\\s*:\\s*underline;?\/gi,t:"u"},{r:\/text-decoration\\s*:\\s*line-through;?\/gi,t:"strike"}],l=0;2>l;l++)e=e.replace(\/<(span)(\\s+[^>]*?)?\\s+class\\s*=\\s*"Apple-style-span"(\\s+[^>]*?)?>(((?!<\\1(\\s+[^>]*?)?>)[\\s\\S]|<\\1(\\s+[^>]*?)?>((?!<\\1(\\s+[^>]*?)?>)[\\s\\S]|<\\1(\\s+[^>]*?)?>((?!<\\1(\\s+[^>]*?)?>)[\\s\\S])*?<\\\/\\1>)*?<\\\/\\1>)*?)<\\\/\\1>\/gi,s),e=e.replace(\/<(span)(\\s+[^>]*?)?\\s+class\\s*=\\s*"Apple-style-span"(\\s+[^>]*?)?>(((?!<\\1(\\s+[^>]*?)?>)[\\s\\S]|<\\1(\\s+[^>]*?)?>((?!<\\1(\\s+[^>]*?)?>)[\\s\\S])*?<\\\/\\1>)*?)<\\\/\\1>\/gi,s),e=e.replace(\/<(span)(\\s+[^>]*?)?\\s+class\\s*=\\s*"Apple-style-span"(\\s+[^>]*?)?>(((?!<\\1(\\s+[^>]*?)?>)[\\s\\S])*?)<\\\/\\1>\/gi,s);e=e.replace(\/(<(\\w+))((?:\\s+[\\w\\-:]+\\s*=\\s*(?:"[^"]*"|'[^']*'|[^>\\s]+))*)\\s*(\\\/?>)\/g,function(e,t,i,s,a){i=i.toLowerCase();$/;"	p
var.specialKeys.36	js/xheditor.min.js	/^(function(){var e={};window.XHEDITOR=e})(),function(e,t){e.mapLang={},e.setLang=function(i,s){s===t&&(s=i,i=""),""!==i&&(i+=".");var a,n;for(var o in s)n=s[o],a=i+o,"string"==typeof n||n instanceof Array?e.mapLang[a]=n:e.setLang(a,n)},e.getLang=function(i){var s=e.mapLang[i];if(s===t&&(s=i.replace(\/{#([^{}]+)}\/g,function(t,i){var s=e.mapLang[i];return s?s:i})),"string"==typeof s){var a=arguments;s=s.replace(\/{\\$(\\d+)}\/g,function(e,i){var s=a[parseInt(i,10)+1];return s!==t?s:e})}return s}}(XHEDITOR),function(XHEDITOR,$,undefined){var agent=navigator.userAgent.toLowerCase(),bMobile=\/mobile\/i.test(agent),browser=$.browser,browerVer=parseFloat(browser.version),isIE=browser.msie,isMozilla=browser.mozilla,isWebkit=browser.webkit,isOpera=browser.opera,isChrome=browser.chrome,bAir=agent.indexOf(" adobeair\/")>-1,xCount=0,bShowPanel=!1,bClickCancel=!0,bShowModal=!1,bCheckEscInit=!1,_jPanel,_jShadow,_jCntLine,_jPanelButton,jModal,jModalShadow,layerShadow,jOverlay,jHideSelect,onModalRemove,editorRoot,getLang=XHEDITOR.getLang;if($("script[src*=xheditor]").each(function(){var e=this.src;return e.match(\/xheditor[^\\\/]*\\.js\/i)?(editorRoot=e.replace(\/[\\?#].*$\/,"").replace(\/(^|[\\\/\\\\])[^\\\/]*$\/,"$1"),!1):undefined}),isIE){try{document.execCommand("BackgroundImageCache",!1,!0)}catch(e){}var jqueryVer=$.fn.jquery;jqueryVer&&jqueryVer.match(\/^1\\.[67]\/)&&($.attrHooks.width=$.attrHooks.height=null)}var specialKeys={27:"esc",9:"tab",32:"space",13:"enter",8:"backspace",145:"scroll",20:"capslock",144:"numlock",19:"pause",45:"insert",36:"home",46:"del",35:"end",33:"pageup",34:"pagedown",37:"left",38:"up",39:"right",40:"down",112:"f1",113:"f2",114:"f3",115:"f4",116:"f5",117:"f6",118:"f7",119:"f8",120:"f9",121:"f10",122:"f11",123:"f12"},arrAlign=[{v:"justifyleft"},{v:"justifycenter"},{v:"justifyright"},{v:"justifyfull"}],arrList=[{v:"insertOrderedList"},{v:"insertUnorderedList"}],htmlPastetext='<div><label for="xhePastetextValue">{#PastetextTip}<\/label><\/div><div><textarea id="xhePastetextValue" wrap="soft" spellcheck="false" style="width:300px;height:100px;" \/><\/div><div style="text-align:right;"><input type="button" id="xheSave" value="{#dialogOk}" \/><\/div>',htmlLink='<div><label for="xheLinkUrl">{#link.url}<\/label><input type="text" id="xheLinkUrl" value="http:\/\/" class="xheText" \/><\/div><div><label for="xheLinkTarget">{#link.target}<\/label><select id="xheLinkTarget"><option selected="selected" value="">{#default}<\/option><option value="_blank">{#link.targetBlank}<\/option><option value="_self">{#link.targetSelf}<\/option><option value="_parent">{#link.targetParent}<\/option><\/select><\/div><div style="display:none"><label for="xheLinkText">{#link.linkText}<\/label><input type="text" id="xheLinkText" value="" class="xheText" \/><\/div><div style="text-align:right;"><input type="button" id="xheSave" value="{#dialogOk}" \/><\/div>',htmlAnchor='<div><label for="xheAnchorName">{#anchor.name}<\/label><input type="text" id="xheAnchorName" value="" class="xheText" \/><\/div><div style="text-align:right;"><input type="button" id="xheSave" value="{#dialogOk}" \/><\/div>',htmlImg='<div><label for="xheImgUrl">{#img.url}<\/label><input type="text" id="xheImgUrl" value="http:\/\/" class="xheText" \/><\/div><div><div><label for="xheImgAlt">{#img.alt}<\/label><input type="text" id="xheImgAlt" \/><\/div><div><label for="xheImgAlign">{#img.align}<\/label><select id="xheImgAlign"><option selected="selected" value="">{#default}<\/option><option value="left">{#img.alignLeft}<\/option><option value="right">{#img.alignRight}<\/option><option value="top">{#img.alignTop}<\/option><option value="middle">{#img.alignMiddle}<\/option><option value="baseline">{#img.alignBaseline}<\/option><option value="bottom">{#img.alignBottom}<\/option><\/select><\/div><div><label for="xheImgWidth">{#img.width}<\/label><input type="text" id="xheImgWidth" style="width:40px;" \/> <label for="xheImgHeight">{#img.height}<\/label><input type="text" id="xheImgHeight" style="width:40px;" \/><\/div><div><label for="xheImgBorder">{#img.border}<\/label><input type="text" id="xheImgBorder" style="width:40px;" \/><\/div><div><label for="xheImgHspace">{#img.hspace}<\/label><input type="text" id="xheImgHspace" style="width:40px;" \/> <label for="xheImgVspace">{#img.vspace}<\/label><input type="text" id="xheImgVspace" style="width:40px;" \/><\/div><div style="text-align:right;"><input type="button" id="xheSave" value="{#dialogOk}" \/><\/div>',htmlFlash='<div><label for="xheFlashUrl">{#flash.url}<\/label><input type="text" id="xheFlashUrl" value="http:\/\/" class="xheText" \/><\/div><div><label for="xheFlashWidth">{#flash.width}<\/label><input type="text" id="xheFlashWidth" style="width:40px;" value="480" \/> <label for="xheFlashHeight">{#flash.height}<\/label><input type="text" id="xheFlashHeight" style="width:40px;" value="400" \/><\/div><div style="text-align:right;"><input type="button" id="xheSave" value="{#dialogOk}" \/><\/div>',htmlMedia='<div><label for="xheMediaUrl">{#media.url}<\/label><input type="text" id="xheMediaUrl" value="http:\/\/" class="xheText" \/><\/div><div><label for="xheMediaWidth">{#media.width}<\/label><input type="text" id="xheMediaWidth" style="width:40px;" value="480" \/> <label for="xheMediaHeight">{#media.height}<\/label><input type="text" id="xheMediaHeight" style="width:40px;" value="400" \/><\/div><div style="text-align:right;"><input type="button" id="xheSave" value="{#dialogOk}" \/><\/div>',htmlTable='<div><label for="xheTableRows">{#table.rows}<\/label><input type="text" id="xheTableRows" style="width:40px;" value="3" \/> <label for="xheTableColumns">{#table.columns}<\/label><input type="text" id="xheTableColumns" style="width:40px;" value="2" \/><\/div><div><label for="xheTableHeaders">{#table.headers}<\/label><select id="xheTableHeaders"><option selected="selected" value="">{#none}<\/option><option value="row">{#table.headersRow}<\/option><option value="col">{#table.headersCol}<\/option><option value="both">{#table.headersBoth}<\/option><\/select><\/div><div><label for="xheTableWidth">{#table.width}<\/label><input type="text" id="xheTableWidth" style="width:40px;" value="200" \/> <label for="xheTableHeight">{#table.height}<\/label><input type="text" id="xheTableHeight" style="width:40px;" value="" \/><\/div><div><label for="xheTableBorder">{#table.border}<\/label><input type="text" id="xheTableBorder" style="width:40px;" value="1" \/><\/div><div><label for="xheTableCellSpacing">{#table.cellSpacing}<\/label><input type="text" id="xheTableCellSpacing" style="width:40px;" value="1" \/> <label for="xheTableCellPadding">{#table.cellPadding}<\/label><input type="text" id="xheTableCellPadding" style="width:40px;" value="1" \/><\/div><div><label for="xheTableAlign">{#table.align}<\/label><select id="xheTableAlign"><option selected="selected" value="">{#default}<\/option><option value="left">{#table.alignLeft}<\/option><option value="center">{#table.alignCenter}<\/option><option value="right">{#table.alignRight}<\/option><\/select><\/div><div><label for="xheTableCaption">{#table.caption}<\/label><input type="text" id="xheTableCaption" \/><\/div><div style="text-align:right;"><input type="button" id="xheSave" value="{#dialogOk}" \/><\/div>',htmlAbout='<div style="font:12px Arial;width:245px;word-wrap:break-word;word-break:break-all;outline:none;" role="dialog" tabindex="-1"><p><span style="font-size:20px;color:#1997DF;">xhEditor<\/span><br \/>v1.2.1 (build 130225)<\/p><p>{#aboutXheditor}<\/p><p>Copyright &copy; <a href="http:\/\/xheditor.com\/" target="_blank">xhEditor.com<\/a>. All rights reserved.<\/p><\/div>',itemEmots={"default":{name:"{#default}",width:24,height:24,line:7,list:["smile","tongue","titter","laugh","sad","wronged","fastcry","cry","wail","mad","knock","curse","crazy","angry","ohmy","awkward","panic","shy","cute","envy","proud","struggle","quiet","shutup","doubt","despise","sleep","bye"]}},arrTools={Cut:{t:"Cut"},Copy:{t:"Copy"},Paste:{t:"Paste"},Pastetext:{t:"Pastetext",h:isIE?0:1},Blocktag:{t:"Blocktag",h:1},Fontface:{t:"Fontface",h:1},FontSize:{t:"FontSize",h:1},Bold:{t:"Bold",s:"Ctrl+B"},Italic:{t:"Italic",s:"Ctrl+I"},Underline:{t:"Underline",s:"Ctrl+U"},Strikethrough:{t:"Strikethrough"},FontColor:{t:"FontColor",h:1},BackColor:{t:"BackColor",h:1},SelectAll:{t:"SelectAll"},Removeformat:{t:"Removeformat"},Align:{t:"Align",h:1},List:{t:"List",h:1},Outdent:{t:"Outdent"},Indent:{t:"Indent"},Link:{t:"Link",s:"Ctrl+L",h:1},Unlink:{t:"Unlink"},Anchor:{t:"Anchor",h:1},Img:{t:"Img",h:1},Flash:{t:"Flash",h:1},Media:{t:"Media",h:1},Hr:{t:"Hr"},Emot:{t:"Emot",s:"ctrl+e",h:1},Table:{t:"Table",h:1},Source:{t:"Source"},Preview:{t:"Preview"},Print:{t:"Print",s:"Ctrl+P"},Fullscreen:{t:"Fullscreen",s:"Esc"},About:{t:"About"}},toolsThemes={mini:"Bold,Italic,Underline,Strikethrough,|,Align,List,|,Link,Img",simple:"Blocktag,Fontface,FontSize,Bold,Italic,Underline,Strikethrough,FontColor,BackColor,|,Align,List,Outdent,Indent,|,Link,Img,Emot",full:"Cut,Copy,Paste,Pastetext,|,Blocktag,Fontface,FontSize,Bold,Italic,Underline,Strikethrough,FontColor,BackColor,SelectAll,Removeformat,|,Align,List,Outdent,Indent,|,Link,Unlink,Anchor,Img,Flash,Media,Hr,Emot,Table,|,Source,Preview,Print,Fullscreen"};toolsThemes.mfull=toolsThemes.full.replace(\/\\|(,Align)\/i,"\/$1");var arrDbClick={a:"Link",img:"Img",embed:"Embed"},uploadInputname="filedata",arrEntities={"<":"&lt;",">":"&gt;",'"':"&quot;","\\u00ae":"&reg;","\\u00a9":"&copy;"},regEntities=\/[<>"\\u00ae\\u00a9]\/g,Xheditor=function(textarea,options){function checkDblClick(e){var t=e.target,i=arrDbClick[t.tagName.toLowerCase()];if(i){if("Embed"===i){var s={"application\/x-shockwave-flash":"Flash","application\/x-mplayer2":"Media"};i=s[t.type.toLowerCase()]}_this.exec(i)}}function checkEsc(e){return 27===e.which?(bShowModal?_this.removeModal():bShowPanel&&_this.hidePanel(),!1):undefined}function loadReset(){setTimeout(_this.setSource,10)}function saveResult(){_this.getSource()}function cleanPaste(e){var t,i,s;if(e&&(t=e.originalEvent.clipboardData)&&(i=t.items)&&(s=i[0])&&"file"==s.kind&&s.type.match(\/^image\\\/\/i)){var a=s.getAsFile(),n=new FileReader;return n.onload=function(){var e='<img src="'+event.target.result+'">';e=replaceRemoteImg(e),_this.pasteHTML(e)},n.readAsDataURL(a),!1}var o=settings.cleanPaste;if(0===o||bSource||bCleanPaste)return!0;bCleanPaste=!0,_this.saveBookmark();var l=isIE?"pre":"div",r=$("<"+l+' class="xhe-paste">\\ufeff\\ufeff<\/'+l+">",_doc).appendTo(_doc.body),h=r[0],c=_this.getSel(),d=_this.getRng(!0);r.css("top",_jWin.scrollTop()),isIE?(d.moveToElementText(h),d.select()):(d.selectNodeContents(h),c.removeAllRanges(),c.addRange(d)),setTimeout(function(){var e,t=3===o;if(t)r.html(r.html().replace(\/<br(\\s+[^<>]*)?>\/gi,"\\n")),e=r.text();else{var i=$(".xhe-paste",_doc.body),s=[];i.each(function(e,t){0==$(t).find(".xhe-paste").length&&s.push(t.innerHTML)}),e=s.join("<br \/>")}r.remove(),_this.loadBookmark(),e=e.replace(\/^[\\s\\uFEFF]+|[\\s\\uFEFF]+$\/g,""),e&&(t?_this.pasteText(e):(e=_this.cleanHTML(e),e=_this.cleanWord(e),e=_this.formatXHTML(e),(!settings.onPaste||settings.onPaste&&(e=settings.onPaste(e))!==!1)&&(e=replaceRemoteImg(e),_this.pasteHTML(e)))),bCleanPaste=!1},0)}function replaceRemoteImg(e){var t=settings.localUrlTest,i=settings.remoteImgSaveUrl;if(t&&i){var s=[],a=0;e=e.replace(\/(<img)((?:\\s+[^>]*?)?(?:\\s+src="\\s*([^"]+)\\s*")(?: [^>]*)?)(\\\/?>)\/gi,function(e,i,n,o,l){return!\/^(https?|data:image)\/i.test(o)||\/_xhe_temp\/.test(n)||t.test(o)||(s[a]=o,n=n.replace(\/\\s+(width|height)="[^"]*"\/gi,"").replace(\/\\s+src="[^"]*"\/gi,' src="'+skinPath+'img\/waiting.gif" remoteimg="'+a++ +'"')),i+n+l}),s.length>0&&$.post(i,{urls:s.join("|")},function(e){e=e.split("|"),$("img[remoteimg]",_this.doc).each(function(){var t=$(this);xheAttr(t,"src",e[t.attr("remoteimg")]),t.removeAttr("remoteimg")})})}return e}function setCSS(e){try{_this._exec("styleWithCSS",e,!0)}catch(t){try{_this._exec("useCSS",!e,!0)}catch(t){}}}function setOpts(){if(bInit&&!bSource){setCSS(!1);try{_this._exec("enableObjectResizing",!0,!0)}catch(e){}if(isIE)try{_this._exec("BackgroundImageCache",!0,!0)}catch(e){}}}function forcePtag(e){if(bSource||13!==e.which||e.shiftKey||e.ctrlKey||e.altKey)return!0;var t=_this.getParent("p,h1,h2,h3,h4,h5,h6,pre,address,div,li");return t.is("li")?!0:settings.forcePtag?(0===t.length&&_this._exec("formatblock","<p>"),undefined):(_this.pasteHTML("<br \/>"),isIE&&t.length>0&&2===_this.getRng().parentElement().childNodes.length&&_this.pasteHTML("<br \/>"),!1)}function fixFullHeight(){isMozilla||isWebkit||(bFullscreen&&_jArea.height("100%").css("height",_jArea.outerHeight()-_jTools.outerHeight()),isIE&&_jTools.hide().show())}function fixAppleSel(e){if(e=e.target,e.tagName.match(\/(img|embed)\/i)){var t=_this.getSel(),i=_this.getRng(!0);i.selectNode(e),t.removeAllRanges(),t.addRange(i)}}function xheAttr(e,t,i){if(!t)return!1;var s="_xhe_"+t;return i&&(urlType&&(i=getLocalUrl(i,urlType,urlBase)),e.attr(t,urlBase?getLocalUrl(i,"abs",urlBase):i).removeAttr(s).attr(s,i)),e.attr(s)||e.attr(t)}function clickCancelPanel(){bClickCancel&&_this.hidePanel()}function checkShortcuts(e){if(bSource)return!0;var t=e.which,i=specialKeys[t],s=i?i:String.fromCharCode(t).toLowerCase();sKey="",sKey+=e.ctrlKey?"ctrl+":"",sKey+=e.altKey?"alt+":"",sKey+=e.shiftKey?"shift+":"",sKey+=s;var a,n=arrShortCuts[sKey];for(a in n){if(a=n[a],!$.isFunction(a))return _this.exec(a),!1;if(a.call(_this)===!1)return!1}}function is(e,t){var i=typeof e;return t?"array"===t&&e.hasOwnProperty&&e instanceof Array?!0:i===t:"undefined"!=i}function getLocalUrl(e,t,i){if(e.match(\/^(\\w+):\\\/\\\/\/i)&&!e.match(\/^https?:\/i)||\/^#\/i.test(e)||\/^data:\/i.test(e))return e;var s=i?$('<a href="'+i+'" \/>')[0]:location,a=s.protocol,n=s.host,o=s.hostname,l=s.port,r=s.pathname.replace(\/\\\\\/g,"\/").replace(\/[^\\\/]+$\/i,"");if(""===l&&(l="80"),""===r?r="\/":"\/"!==r.charAt(0)&&(r="\/"+r),e=$.trim(e),"abs"!==t&&(e=e.replace(RegExp(a+"\\\\\/\\\\\/"+o.replace(\/\\.\/g,"\\\\.")+"(?::"+l+")"+("80"===l?"?":"")+"(\/|$)","i"),"\/")),"rel"===t&&(e=e.replace(RegExp("^"+r.replace(\/([\\\/\\.\\+\\[\\]\\(\\)])\/g,"\\\\$1"),"i"),"")),"rel"!==t&&(e.match(\/^(https?:\\\/\\\/|\\\/)\/i)||(e=r+e),"\/"===e.charAt(0))){var h,c,d=[],u=e.split("\/"),p=u.length;for(c=0;p>c;c++)h=u[c],".."===h?d.pop():""!==h&&"."!==h&&d.push(h);""===u[p-1]&&d.push(""),e="\/"+d.join("\/")}return"abs"!==t||e.match(\/^https?:\\\/\\\/\/i)||(e=a+"\/\/"+n+e),e=e.replace(\/(https?:\\\/\\\/[^:\\\/?#]+):80(\\\/|$)\/i,"$1$2")}function checkFileExt(e,t){return"*"===t||e.match(RegExp(".("+t.replace(\/,\/g,"|")+")$","i"))?!0:(alert(getLang("upload.extLimit",t)),!1)}function formatBytes(e){var t=["Byte","KB","MB","GB","TB","PB"],i=Math.floor(Math.log(e)\/Math.log(1024));return(e\/Math.pow(1024,Math.floor(i))).toFixed(2)+t[i]}function returnFalse(){return!1}var _this=this,_text=textarea,_jText=$(_text),_jForm=_jText.closest("form"),_jTools,_jArea,_win,_jWin,_doc,_jDoc,bookmark,bInit=!1,bSource=!1,bFullscreen=!1,bCleanPaste=!1,outerScroll,bShowBlocktag=!1,sLayoutStyle="",ev=null,timer,bDisableHoverExec=!1,bQuickHoverExec=!1,lastPoint=null,lastAngle=null,editorHeight=0,settings=_this.settings=$.extend({},XHEDITOR.settings,options),plugins=settings.plugins,strPlugins=[];if(plugins&&(arrTools=$.extend({},arrTools,plugins),$.each(plugins,function(e){strPlugins.push(e)}),strPlugins=strPlugins.join(",")),settings.tools.match(\/^\\s*(m?full|simple|mini)\\s*$\/i)){var toolsTheme=toolsThemes[$.trim(settings.tools)];settings.tools=settings.tools.match(\/m?full\/i)&&plugins?toolsTheme.replace("Table","Table,"+strPlugins):toolsTheme}settings.tools.match(\/(^|,)\\s*About\\s*(,|$)\/i)||(settings.tools+=",About"),settings.tools=settings.tools.split(","),settings.editorRoot&&(editorRoot=settings.editorRoot),bAir===!1&&(editorRoot=getLocalUrl(editorRoot,"abs")),settings.urlBase&&(settings.urlBase=getLocalUrl(settings.urlBase,"abs"));var idCSS="xheCSS_"+settings.skin,idContainer="xhe"+xCount+"_container",idTools="xhe"+xCount+"_Tool",idIframeArea="xhe"+xCount+"_iframearea",idIframe="xhe"+xCount+"_iframe",idFixFFCursor="xhe"+xCount+"_fixffcursor",headHTML="",bodyClass="",skinPath=editorRoot+"xheditor_skin\/"+settings.skin+"\/",arrEmots=itemEmots,urlType=settings.urlType,urlBase=settings.urlBase,emotPath=settings.emotPath,emotPath=emotPath?emotPath:editorRoot+"xheditor_emot\/",selEmotGroup="";arrEmots=$.extend({},arrEmots,settings.emots),emotPath=getLocalUrl(emotPath,"rel",urlBase?urlBase:null),bShowBlocktag=settings.showBlocktag,bShowBlocktag&&(bodyClass+=" showBlocktag");var arrShortCuts=[];this.init=function(){function e(e){var t,i=$(e.target);(t=i.css("width"))&&i.css("width","").attr("width",t.replace(\/[^0-9%]+\/g,"")),(t=i.css("height"))&&i.css("height","").attr("height",t.replace(\/[^0-9%]+\/g,""))}0===$("#"+idCSS).length&&$("head").append('<link id="'+idCSS+'" rel="stylesheet" type="text\/css" href="'+skinPath+'ui.css" \/>');var t=_jText.outerWidth(),i=_jText.outerHeight(),s=settings.width||_text.style.width||(t>10?t:0);editorHeight=settings.height||_text.style.height||(i>10?i:150),\/^\\d+(?:\\.\\d+)?$\/.test(s)&&(s+="px"),is(editorHeight,"string")&&(editorHeight=editorHeight.replace(\/[^\\d]+\/g,""));var a,n,o=settings.background||_text.style.background,l=['<span class="xheGStart"\/>'],r=\/\\||\\\/\/i;$.each(settings.tools,function(e,t){if(t.match(r)&&l.push('<span class="xheGEnd"\/>'),"|"===t)l.push('<span class="xheSeparator"\/>');else if("\/"===t)l.push("<br \/>");else{if(a=arrTools[t],!a)return;n=a.c?a.c:"xheIcon xheBtn"+t,l.push('<span><a href="#" title="{#'+a.t+'}" cmd="'+t+'" class="xheButton xheEnabled" tabindex="-1" role="button"><span class="'+n+'" unselectable="on" style="font-size:0;color:transparent;text-indent:-999px;">'+a.t+"<\/span><\/a><\/span>"),a.s&&_this.addShortcuts(a.s,t)}t.match(r)&&l.push('<span class="xheGStart"\/>')}),l.push('<span class="xheGEnd"\/><br \/>'),_jText.after($('<input type="text" id="'+idFixFFCursor+'" style="position:absolute;display:none;" \/><span id="'+idContainer+'" class="xhe_'+settings.skin+'" style="display:none"><table cellspacing="0" cellpadding="0" class="xheLayout" style="'+("0px"!=s?"width:"+s+";":"")+"height:"+editorHeight+'px;" role="presentation"><tr><td id="'+idTools+'" class="xheTool" unselectable="on" style="height:1px;" role="presentation"><\/td><\/tr><tr><td id="'+idIframeArea+'" class="xheIframeArea" role="presentation"><iframe frameborder="0" id="'+idIframe+'" src="javascript:;" style="width:100%;"><\/iframe><\/td><\/tr><\/table><\/span>')),_jTools=$("#"+idTools),_jArea=$("#"+idIframeArea),headHTML='<meta http-equiv="Content-Type" content="text\/html; charset=utf-8" \/><link rel="stylesheet" href="'+skinPath+'iframe.css"\/>';var h=settings.loadCSS;if(h)if(is(h,"array"))for(var c in h)headHTML+='<link rel="stylesheet" href="'+h[c]+'"\/>';else headHTML+=h.match(\/\\s*<style(\\s+[^>]*?)?>[\\s\\S]+?<\\\/style>\\s*\/i)?h:'<link rel="stylesheet" href="'+h+'"\/>';var d='<!DOCTYPE html><html xmlns="http:\/\/www.w3.org\/1999\/xhtml"><head>'+headHTML+"<title>{#defaultReadTip} "+(settings.readTip?settings.readTip:"")+"<\/title>";o&&(d+="<style>html{background:"+o+";}<\/style>"),d+='<\/head><body spellcheck="0" class="editMode'+bodyClass+'"><\/body><\/html>',_this.win=_win=$("#"+idIframe)[0].contentWindow,_jWin=$(_win);try{this.doc=_doc=_win.document,_jDoc=$(_doc),_doc.open(),_doc.write(getLang(d)),_doc.close(),isIE?_doc.body.contentEditable="true":_doc.designMode="On"}catch(u){}setTimeout(setOpts,300),_this.setSource(),_win.setInterval=null,_jTools.append(getLang(l.join(""))).bind("mousedown contextmenu",returnFalse).click(function(e){var t=$(e.target).closest("a");return t.is(".xheEnabled")&&(clearTimeout(timer),_jTools.find("a").attr("tabindex","-1"),ev=e,_this.exec(t.attr("cmd"))),!1}),_jTools.find(".xheButton").hover(function(e){var t=$(this),i=settings.hoverExecDelay,s=lastAngle;if(lastAngle=null,-1===i||bDisableHoverExec||!t.is(".xheEnabled"))return!1;if(s&&s>10)return bDisableHoverExec=!0,setTimeout(function(){bDisableHoverExec=!1},100),!1;var a=t.attr("cmd"),n=1===arrTools[a].h;return n?(bQuickHoverExec&&(i=0),i>=0&&(timer=setTimeout(function(){ev=e,lastPoint={x:ev.clientX,y:ev.clientY},_this.exec(a)},i)),undefined):(_this.hidePanel(),!1)},function(){lastPoint=null,timer&&clearTimeout(timer)}).mousemove(function(e){if(lastPoint){var t={x:e.clientX-lastPoint.x,y:e.clientY-lastPoint.y};if(Math.abs(t.x)>1||Math.abs(t.y)>1){if(t.x>0&&t.y>0){var i=Math.round(Math.atan(t.y\/t.x)\/.017453293);lastAngle=lastAngle?(lastAngle+i)\/2:i}else lastAngle=null;lastPoint={x:e.clientX,y:e.clientY}}}}),_jPanel=$("#xhePanel"),_jShadow=$("#xheShadow"),_jCntLine=$("#xheCntLine"),0===_jPanel.length&&(_jPanel=$('<div id="xhePanel"><\/div>').mousedown(function(e){e.stopPropagation()}),_jShadow=$('<div id="xheShadow"><\/div>'),_jCntLine=$('<div id="xheCntLine"><\/div>'),setTimeout(function(){$(document.body).append(_jPanel).append(_jShadow).append(_jCntLine)},10)),$("#"+idContainer).show(),_jText.hide(),_jArea.css("height",editorHeight-_jTools.outerHeight()),isIE&8>browerVer&&setTimeout(function(){_jArea.css("height",editorHeight-_jTools.outerHeight())},1),_jText.focus(_this.focus),_jForm.submit(saveResult).bind("reset",loadReset),settings.submitID&&$("#"+settings.submitID).mousedown(saveResult),$(window).bind("unload beforeunload",saveResult).bind("resize",fixFullHeight),$(document).mousedown(clickCancelPanel),bCheckEscInit||($(document).keydown(checkEsc),bCheckEscInit=!0),_jWin.focus(function(){settings.focus&&settings.focus()}).blur(function(){settings.blur&&settings.blur()}),isWebkit&&_jWin.click(fixAppleSel),_jDoc.mousedown(clickCancelPanel).keydown(checkShortcuts).keypress(forcePtag).dblclick(checkDblClick).bind("mousedown click",function(e){_jText.trigger(e.type)}),isIE&&(_jDoc.keydown(function(e){var t=_this.getRng();return 8===e.which&&t.item?($(t.item(0)).remove(),!1):undefined}),_jDoc.bind("controlselect",function(t){t=t.target,$.nodeName(t,"IMG")&&$(t).unbind("resizeend",e).bind("resizeend",e)})),_jDoc.keydown(function(e){var t=e.which;return e.altKey&&t>=49&&57>=t?(_jTools.find("a").attr("tabindex","0"),_jTools.find(".xheGStart").eq(t-49).next().find("a").focus(),_doc.title="\\ufeff\\ufeff",!1):undefined}).click(function(){_jTools.find("a").attr("tabindex","-1")}),_jTools.keydown(function(e){var t=e.which;if(27==t)_jTools.find("a").attr("tabindex","-1"),_this.focus();else if(e.altKey&&t>=49&&57>=t)return _jTools.find(".xheGStart").eq(t-49).next().find("a").focus(),!1});var p=$(_doc.documentElement);isOpera?p.bind("keydown",function(e){e.ctrlKey&&86===e.which&&cleanPaste()}):p.bind(isIE?"beforepaste":"paste",cleanPaste),settings.disableContextmenu&&p.bind("contextmenu",returnFalse),settings.html5Upload&&p.bind("dragenter dragover",function(e){var t;return(t=e.originalEvent.dataTransfer.types)&&-1!==$.inArray("Files",t)?!1:undefined}).bind("drop",function(e){function t(e){var t,i,s;for(a=0;e.length>a;a++){if(i=e[a].name.replace(\/.+\\.\/,""),!(t=o.match(RegExp("(\\\\w+):[^:]*,"+i+"(?:,|$)","i"))))return 1;if(s){if(s!==t[1])return 2}else s=t[1]}return s}var i,s=e.originalEvent.dataTransfer;if(s&&(i=s.files)&&i.length>0){var a,n,o,l=["Link","Img","Flash","Media"],r=[];for(a in l)n=l[a],settings["up"+n+"Url"]&&settings["up"+n+"Url"].match(\/^[^!].*\/i)&&r.push(n+":,"+settings["up"+n+"Ext"]);return 0===r.length?!1:(o=r.join(","),n=t(i),1===n?alert(getLang("upload.extLimit",o.replace(\/\\w+:,\/g,""))):2===n?alert(getLang("upload.typeLimit")):n&&_this.startUpload(i,settings["up"+n+"Url"],"*",function(e){var t,i=[],s=settings.onUpload;s&&s(e);for(var a=0,o=e.length;o>a;a++)t=e[a],url=is(t,"string")?t:t.url,"!"===url.substr(0,1)&&(url=url.substr(1)),i.push(url);_this.exec(n),$("#xhe"+n+"Url").val(i.join(" ")),$("#xheSave").click()}),!1)}});var g=settings.shortcuts;g&&$.each(g,function(e,t){_this.addShortcuts(e,t)}),xCount++,bInit=!0,settings.fullscreen?_this.toggleFullscreen():settings.sourceMode&&setTimeout(_this.toggleSource,20);var f=settings.plugins;return f&&$.each(f,function(e,t){var i=t.i;i!==undefined&&i(_this)}),!0},this.remove=function(){_this.hidePanel(),saveResult(),_jText.unbind("focus",_this.focus),_jForm.unbind("submit",saveResult).unbind("reset",loadReset),settings.submitID&&$("#"+settings.submitID).unbind("mousedown",saveResult),$(window).unbind("unload beforeunload",saveResult).unbind("resize",fixFullHeight),$(document).unbind("mousedown",clickCancelPanel),$("#"+idContainer).remove(),$("#"+idFixFFCursor).remove(),_jText.show(),bInit=!1},this.saveBookmark=function(){if(!bSource){_this.focus();var e=_this.getRng();e=e.cloneRange?e.cloneRange():e,bookmark={top:_jWin.scrollTop(),rng:e}}},this.loadBookmark=function(){if(!bSource&&bookmark){_this.focus();var e=bookmark.rng;if(isIE)e.select();else{var t=_this.getSel();t.removeAllRanges(),t.addRange(e)}_jWin.scrollTop(bookmark.top),bookmark=null}},this.focus=function(){if(bSource?$("#sourceCode",_doc).focus():_win.focus(),isIE){var e=_this.getRng();e.parentElement&&e.parentElement().ownerDocument!==_doc&&_this.setTextCursor()}return!1},this.setTextCursor=function(e){var t=_this.getRng(!0),i=_doc.body;if(isIE)t.moveToElementText(i);else{for(var s=e?"lastChild":"firstChild";3!=i.nodeType&&i[s];)i=i[s];t.selectNode(i)}if(t.collapse(e?!1:!0),isIE)t.select();else{var a=_this.getSel();a.removeAllRanges(),a.addRange(t)}},this.getSel=function(){return _doc.selection?_doc.selection:_win.getSelection()},this.getRng=function(e){var t,i;try{e||(t=_this.getSel(),i=t.createRange?t.createRange():t.rangeCount>0?t.getRangeAt(0):null),i||(i=_doc.body.createTextRange?_doc.body.createTextRange():_doc.createRange())}catch(s){}return i},this.getParent=function(e){var t,i=_this.getRng();return isIE?t=i.item?i.item(0):i.parentElement():(t=i.commonAncestorContainer,i.collapsed||i.startContainer===i.endContainer&&2>i.startOffset-i.endOffset&&i.startContainer.hasChildNodes()&&(t=i.startContainer.childNodes[i.startOffset])),e=e?e:"*",t=$(t),t.is(e)||(t=$(t).closest(e)),t},this.getSelect=function(e){var t=_this.getSel(),i=_this.getRng(),s=!0;if(s=!i||i.item?!1:!t||0===i.boundingWidth||i.collapsed,"text"===e)return s?"":i.text||(t.toString?""+t:"");var a;if(i.cloneContents){var n,o=$("<div><\/div>");n=i.cloneContents(),n&&o.append(n),a=o.html()}else a=is(i.item)?i.item(0).outerHTML:is(i.htmlText)?i.htmlText:""+i;return s&&(a=""),a=_this.processHTML(a,"read"),a=_this.cleanHTML(a),a=_this.formatXHTML(a)},this.pasteHTML=function(e,t){if(bSource)return!1;_this.focus(),e=_this.processHTML(e,"write");var i=_this.getSel(),s=_this.getRng();if(t!==undefined){if(s.item){var a=s.item(0);s=_this.getRng(!0),s.moveToElementText(a),s.select()}s.collapse(t)}if(e+="<"+(isIE?"img":"span")+' id="_xhe_temp" width="0" height="0" \/>',s.insertNode){if($(s.startContainer).closest("style,script").length>0)return!1;s.deleteContents(),s.insertNode(s.createContextualFragment(e))}else"control"===i.type.toLowerCase()&&(i.clear(),s=_this.getRng()),s.pasteHTML(e);var n=$("#_xhe_temp",_doc),o=n[0];isIE?(s.moveToElementText(o),s.select()):(s.selectNode(o),i.removeAllRanges(),i.addRange(s)),n.remove()},this.pasteText=function(e,t){e||(e=""),e=_this.domEncode(e),e=e.replace(\/\\r?\\n\/g,"<br \/>"),_this.pasteHTML(e,t)},this.appendHTML=function(e){return bSource?!1:(_this.focus(),e=_this.processHTML(e,"write"),$(_doc.body).append(e),_this.setTextCursor(!0),undefined)},this.domEncode=function(e){return e.replace(regEntities,function(e){return arrEntities[e]})},this.setSource=function(e){bookmark=null,"string"!=typeof e&&""!==e&&(e=_text.value),bSource?$("#sourceCode",_doc).val(e):(settings.beforeSetSource&&(e=settings.beforeSetSource(e)),e=_this.cleanHTML(e),e=_this.formatXHTML(e),e=_this.processHTML(e,"write"),isIE?(_doc.body.innerHTML='<img id="_xhe_temp" width="0" height="0" \/>'+e,$("#_xhe_temp",_doc).remove()):_doc.body.innerHTML=e)},this.processHTML=function(e,t){function i(e,t,i,s,a,o){var l,r,h,c,d="";if(l=s.match(\/font-family\\s*:\\s*([^;"]+)\/i),l&&(d+=' face="'+l[1]+'"'),r=s.match(\/font-size\\s*:\\s*([^;"]+)\/i)){r=r[1].toLowerCase();for(var u=0;n.length>u;u++)if(r===n[u].n||r===n[u].s){h=u+1;break}h&&(d+=' size="'+h+'"',s=s.replace(\/(^|;)(\\s*font-size\\s*:\\s*[^;"]+;?)+\/gi,"$1"))}if(c=s.match(\/(?:^|[\\s;])color\\s*:\\s*([^;"]+)\/i)){var p;if(p=c[1].match(\/\\s*rgb\\s*\\(\\s*(\\d+)\\s*,\\s*(\\d+)\\s*,\\s*(\\d+)\\s*\\)\/i)){c[1]="#";for(var g=1;3>=g;g++)c[1]+=("0"+(p[g]-0).toString(16)).slice(-2)}c[1]=c[1].replace(\/^#([0-9a-f])([0-9a-f])([0-9a-f])$\/i,"#$1$1$2$2$3$3"),d+=' color="'+c[1]+'"'}return s=s.replace(\/(^|;)(\\s*(font-family|color)\\s*:\\s*[^;"]+;?)+\/gi,"$1"),""!==d?(s&&(d+=' style="'+s+'"'),"<font"+(i?i:"")+d+(a?a:"")+">"+o+"<\/font>"):e}function s(e,t,i,s,a){for(var n,l,r=(i?i:"")+(s?s:""),h=[],c=[],d=0;o.length>d;d++)n=o[d].r,l=o[d].t,r=r.replace(n,function(){return h.push("<"+l+">"),c.push("<\/"+l+">"),""});return r=r.replace(\/\\s+style\\s*=\\s*"\\s*"\/i,""),(r?"<span"+r+">":"")+h.join("")+a+c.join("")+(r?"<\/span>":"")}var a=' class="Apple-style-span"',n=settings.listFontsize;if("write"===t)e=e.replace(\/(<(\\\/?)(\\w+))((?:\\s+[\\w\\-:]+\\s*=\\s*(?:"[^"]*"|'[^']*'|[^>\\s]+))*)\\s*((\\\/?)>)\/g,function(e,t,i,s,n,o,l){s=s.toLowerCase(),isMozilla?"strong"===s?s="b":"em"===s&&(s="i"):isWebkit&&("strong"===s?(s="span",i||(n+=a+' style="font-weight: bold;"')):"em"===s?(s="span",i||(n+=a+' style="font-style: italic;"')):"u"===s?(s="span",i||(n+=a+' style="text-decoration: underline;"')):"strike"===s&&(s="span",i||(n+=a+' style="text-decoration: line-through;"')));var r,h="";if("del"===s)s="strike";else if("img"===s)n=n.replace(\/\\s+emot\\s*=\\s*("[^"]*"|'[^']*'|[^>\\s]+)\/i,function(e,t){return r=t.match(\/^(["']?)(.*)\\1\/)[2],r=r.split(","),r[1]||(r[1]=r[0],r[0]=""),"default"===r[0]&&(r[0]=""),settings.emotMark?e:""});else if("a"===s)!n.match(\/ href=[^ ]\/i)&&n.match(\/ name=[^ ]\/i)&&(h+=" xhe-anchor"),l&&(o="><\/a>");else if("table"===s&&!i){var c=n.match(\/\\s+border\\s*=\\s*("[^"]*"|'[^']*'|[^>\\s]+)\/i);(!c||c[1].match(\/^(["']?)\\s*0\\s*\\1$\/))&&(h+=" xhe-border")}var d;if(n=n.replace(\/\\s+([\\w\\-:]+)\\s*=\\s*("[^"]*"|'[^']*'|[^>\\s]+)\/g,function(e,t,i){return t=t.toLowerCase(),i=i.match(\/^(["']?)(.*)\\1\/)[2],aft="",isIE&&t.match(\/^(disabled|checked|readonly|selected)$\/)&&i.match(\/^(false|0)$\/i)?"":"img"===s&&r&&"src"===t?"":(t.match(\/^(src|href)$\/)&&(aft=" _xhe_"+t+'="'+i+'"',urlBase&&(i=getLocalUrl(i,"abs",urlBase))),h&&"class"===t&&(i+=" "+h,h=""),isWebkit&&"style"===t&&"span"===s&&i.match(\/(^|;)\\s*(font-family|font-size|color|background-color)\\s*:\\s*[^;]+\\s*(;|$)\/i)&&(d=!0)," "+t+'="'+i+'"'+aft)}),r){var u=emotPath+(r[0]?r[0]:"default")+"\/"+r[1]+".gif";n+=' src="'+u+'" _xhe_src="'+u+'"'}return d&&(n+=a),h&&(n+=' class="'+h+'"'),"<"+i+s+n+o}),isIE&&(e=e.replace(\/&apos;\/gi,"&#39;")),isWebkit||(e=e.replace(\/<(span)(\\s+[^>]*?)?\\s+style\\s*=\\s*"((?:[^"]*?;)?\\s*(?:font-family|font-size|color)\\s*:[^"]*)"( [^>]*)?>(((?!<\\1(\\s+[^>]*?)?>)[\\s\\S]|<\\1(\\s+[^>]*?)?>((?!<\\1(\\s+[^>]*?)?>)[\\s\\S]|<\\1(\\s+[^>]*?)?>((?!<\\1(\\s+[^>]*?)?>)[\\s\\S])*?<\\\/\\1>)*?<\\\/\\1>)*?)<\\\/\\1>\/gi,i),e=e.replace(\/<(span)(\\s+[^>]*?)?\\s+style\\s*=\\s*"((?:[^"]*?;)?\\s*(?:font-family|font-size|color)\\s*:[^"]*)"( [^>]*)?>(((?!<\\1(\\s+[^>]*?)?>)[\\s\\S]|<\\1(\\s+[^>]*?)?>((?!<\\1(\\s+[^>]*?)?>)[\\s\\S])*?<\\\/\\1>)*?)<\\\/\\1>\/gi,i),e=e.replace(\/<(span)(\\s+[^>]*?)?\\s+style\\s*=\\s*"((?:[^"]*?;)?\\s*(?:font-family|font-size|color)\\s*:[^"]*)"( [^>]*)?>(((?!<\\1(\\s+[^>]*?)?>)[\\s\\S])*?)<\\\/\\1>\/gi,i)),e=e.replace(\/<(td|th)(\\s+[^>]*?)?>(\\s|&nbsp;)*<\\\/\\1>\/gi,"<$1$2>"+(isIE?"":"<br \/>")+"<\/$1>");else{if(isWebkit)for(var o=[{r:\/font-weight\\s*:\\s*bold;?\/gi,t:"strong"},{r:\/font-style\\s*:\\s*italic;?\/gi,t:"em"},{r:\/text-decoration\\s*:\\s*underline;?\/gi,t:"u"},{r:\/text-decoration\\s*:\\s*line-through;?\/gi,t:"strike"}],l=0;2>l;l++)e=e.replace(\/<(span)(\\s+[^>]*?)?\\s+class\\s*=\\s*"Apple-style-span"(\\s+[^>]*?)?>(((?!<\\1(\\s+[^>]*?)?>)[\\s\\S]|<\\1(\\s+[^>]*?)?>((?!<\\1(\\s+[^>]*?)?>)[\\s\\S]|<\\1(\\s+[^>]*?)?>((?!<\\1(\\s+[^>]*?)?>)[\\s\\S])*?<\\\/\\1>)*?<\\\/\\1>)*?)<\\\/\\1>\/gi,s),e=e.replace(\/<(span)(\\s+[^>]*?)?\\s+class\\s*=\\s*"Apple-style-span"(\\s+[^>]*?)?>(((?!<\\1(\\s+[^>]*?)?>)[\\s\\S]|<\\1(\\s+[^>]*?)?>((?!<\\1(\\s+[^>]*?)?>)[\\s\\S])*?<\\\/\\1>)*?)<\\\/\\1>\/gi,s),e=e.replace(\/<(span)(\\s+[^>]*?)?\\s+class\\s*=\\s*"Apple-style-span"(\\s+[^>]*?)?>(((?!<\\1(\\s+[^>]*?)?>)[\\s\\S])*?)<\\\/\\1>\/gi,s);e=e.replace(\/(<(\\w+))((?:\\s+[\\w\\-:]+\\s*=\\s*(?:"[^"]*"|'[^']*'|[^>\\s]+))*)\\s*(\\\/?>)\/g,function(e,t,i,s,a){i=i.toLowerCase();$/;"	p
var.specialKeys.37	js/xheditor.min.js	/^(function(){var e={};window.XHEDITOR=e})(),function(e,t){e.mapLang={},e.setLang=function(i,s){s===t&&(s=i,i=""),""!==i&&(i+=".");var a,n;for(var o in s)n=s[o],a=i+o,"string"==typeof n||n instanceof Array?e.mapLang[a]=n:e.setLang(a,n)},e.getLang=function(i){var s=e.mapLang[i];if(s===t&&(s=i.replace(\/{#([^{}]+)}\/g,function(t,i){var s=e.mapLang[i];return s?s:i})),"string"==typeof s){var a=arguments;s=s.replace(\/{\\$(\\d+)}\/g,function(e,i){var s=a[parseInt(i,10)+1];return s!==t?s:e})}return s}}(XHEDITOR),function(XHEDITOR,$,undefined){var agent=navigator.userAgent.toLowerCase(),bMobile=\/mobile\/i.test(agent),browser=$.browser,browerVer=parseFloat(browser.version),isIE=browser.msie,isMozilla=browser.mozilla,isWebkit=browser.webkit,isOpera=browser.opera,isChrome=browser.chrome,bAir=agent.indexOf(" adobeair\/")>-1,xCount=0,bShowPanel=!1,bClickCancel=!0,bShowModal=!1,bCheckEscInit=!1,_jPanel,_jShadow,_jCntLine,_jPanelButton,jModal,jModalShadow,layerShadow,jOverlay,jHideSelect,onModalRemove,editorRoot,getLang=XHEDITOR.getLang;if($("script[src*=xheditor]").each(function(){var e=this.src;return e.match(\/xheditor[^\\\/]*\\.js\/i)?(editorRoot=e.replace(\/[\\?#].*$\/,"").replace(\/(^|[\\\/\\\\])[^\\\/]*$\/,"$1"),!1):undefined}),isIE){try{document.execCommand("BackgroundImageCache",!1,!0)}catch(e){}var jqueryVer=$.fn.jquery;jqueryVer&&jqueryVer.match(\/^1\\.[67]\/)&&($.attrHooks.width=$.attrHooks.height=null)}var specialKeys={27:"esc",9:"tab",32:"space",13:"enter",8:"backspace",145:"scroll",20:"capslock",144:"numlock",19:"pause",45:"insert",36:"home",46:"del",35:"end",33:"pageup",34:"pagedown",37:"left",38:"up",39:"right",40:"down",112:"f1",113:"f2",114:"f3",115:"f4",116:"f5",117:"f6",118:"f7",119:"f8",120:"f9",121:"f10",122:"f11",123:"f12"},arrAlign=[{v:"justifyleft"},{v:"justifycenter"},{v:"justifyright"},{v:"justifyfull"}],arrList=[{v:"insertOrderedList"},{v:"insertUnorderedList"}],htmlPastetext='<div><label for="xhePastetextValue">{#PastetextTip}<\/label><\/div><div><textarea id="xhePastetextValue" wrap="soft" spellcheck="false" style="width:300px;height:100px;" \/><\/div><div style="text-align:right;"><input type="button" id="xheSave" value="{#dialogOk}" \/><\/div>',htmlLink='<div><label for="xheLinkUrl">{#link.url}<\/label><input type="text" id="xheLinkUrl" value="http:\/\/" class="xheText" \/><\/div><div><label for="xheLinkTarget">{#link.target}<\/label><select id="xheLinkTarget"><option selected="selected" value="">{#default}<\/option><option value="_blank">{#link.targetBlank}<\/option><option value="_self">{#link.targetSelf}<\/option><option value="_parent">{#link.targetParent}<\/option><\/select><\/div><div style="display:none"><label for="xheLinkText">{#link.linkText}<\/label><input type="text" id="xheLinkText" value="" class="xheText" \/><\/div><div style="text-align:right;"><input type="button" id="xheSave" value="{#dialogOk}" \/><\/div>',htmlAnchor='<div><label for="xheAnchorName">{#anchor.name}<\/label><input type="text" id="xheAnchorName" value="" class="xheText" \/><\/div><div style="text-align:right;"><input type="button" id="xheSave" value="{#dialogOk}" \/><\/div>',htmlImg='<div><label for="xheImgUrl">{#img.url}<\/label><input type="text" id="xheImgUrl" value="http:\/\/" class="xheText" \/><\/div><div><div><label for="xheImgAlt">{#img.alt}<\/label><input type="text" id="xheImgAlt" \/><\/div><div><label for="xheImgAlign">{#img.align}<\/label><select id="xheImgAlign"><option selected="selected" value="">{#default}<\/option><option value="left">{#img.alignLeft}<\/option><option value="right">{#img.alignRight}<\/option><option value="top">{#img.alignTop}<\/option><option value="middle">{#img.alignMiddle}<\/option><option value="baseline">{#img.alignBaseline}<\/option><option value="bottom">{#img.alignBottom}<\/option><\/select><\/div><div><label for="xheImgWidth">{#img.width}<\/label><input type="text" id="xheImgWidth" style="width:40px;" \/> <label for="xheImgHeight">{#img.height}<\/label><input type="text" id="xheImgHeight" style="width:40px;" \/><\/div><div><label for="xheImgBorder">{#img.border}<\/label><input type="text" id="xheImgBorder" style="width:40px;" \/><\/div><div><label for="xheImgHspace">{#img.hspace}<\/label><input type="text" id="xheImgHspace" style="width:40px;" \/> <label for="xheImgVspace">{#img.vspace}<\/label><input type="text" id="xheImgVspace" style="width:40px;" \/><\/div><div style="text-align:right;"><input type="button" id="xheSave" value="{#dialogOk}" \/><\/div>',htmlFlash='<div><label for="xheFlashUrl">{#flash.url}<\/label><input type="text" id="xheFlashUrl" value="http:\/\/" class="xheText" \/><\/div><div><label for="xheFlashWidth">{#flash.width}<\/label><input type="text" id="xheFlashWidth" style="width:40px;" value="480" \/> <label for="xheFlashHeight">{#flash.height}<\/label><input type="text" id="xheFlashHeight" style="width:40px;" value="400" \/><\/div><div style="text-align:right;"><input type="button" id="xheSave" value="{#dialogOk}" \/><\/div>',htmlMedia='<div><label for="xheMediaUrl">{#media.url}<\/label><input type="text" id="xheMediaUrl" value="http:\/\/" class="xheText" \/><\/div><div><label for="xheMediaWidth">{#media.width}<\/label><input type="text" id="xheMediaWidth" style="width:40px;" value="480" \/> <label for="xheMediaHeight">{#media.height}<\/label><input type="text" id="xheMediaHeight" style="width:40px;" value="400" \/><\/div><div style="text-align:right;"><input type="button" id="xheSave" value="{#dialogOk}" \/><\/div>',htmlTable='<div><label for="xheTableRows">{#table.rows}<\/label><input type="text" id="xheTableRows" style="width:40px;" value="3" \/> <label for="xheTableColumns">{#table.columns}<\/label><input type="text" id="xheTableColumns" style="width:40px;" value="2" \/><\/div><div><label for="xheTableHeaders">{#table.headers}<\/label><select id="xheTableHeaders"><option selected="selected" value="">{#none}<\/option><option value="row">{#table.headersRow}<\/option><option value="col">{#table.headersCol}<\/option><option value="both">{#table.headersBoth}<\/option><\/select><\/div><div><label for="xheTableWidth">{#table.width}<\/label><input type="text" id="xheTableWidth" style="width:40px;" value="200" \/> <label for="xheTableHeight">{#table.height}<\/label><input type="text" id="xheTableHeight" style="width:40px;" value="" \/><\/div><div><label for="xheTableBorder">{#table.border}<\/label><input type="text" id="xheTableBorder" style="width:40px;" value="1" \/><\/div><div><label for="xheTableCellSpacing">{#table.cellSpacing}<\/label><input type="text" id="xheTableCellSpacing" style="width:40px;" value="1" \/> <label for="xheTableCellPadding">{#table.cellPadding}<\/label><input type="text" id="xheTableCellPadding" style="width:40px;" value="1" \/><\/div><div><label for="xheTableAlign">{#table.align}<\/label><select id="xheTableAlign"><option selected="selected" value="">{#default}<\/option><option value="left">{#table.alignLeft}<\/option><option value="center">{#table.alignCenter}<\/option><option value="right">{#table.alignRight}<\/option><\/select><\/div><div><label for="xheTableCaption">{#table.caption}<\/label><input type="text" id="xheTableCaption" \/><\/div><div style="text-align:right;"><input type="button" id="xheSave" value="{#dialogOk}" \/><\/div>',htmlAbout='<div style="font:12px Arial;width:245px;word-wrap:break-word;word-break:break-all;outline:none;" role="dialog" tabindex="-1"><p><span style="font-size:20px;color:#1997DF;">xhEditor<\/span><br \/>v1.2.1 (build 130225)<\/p><p>{#aboutXheditor}<\/p><p>Copyright &copy; <a href="http:\/\/xheditor.com\/" target="_blank">xhEditor.com<\/a>. All rights reserved.<\/p><\/div>',itemEmots={"default":{name:"{#default}",width:24,height:24,line:7,list:["smile","tongue","titter","laugh","sad","wronged","fastcry","cry","wail","mad","knock","curse","crazy","angry","ohmy","awkward","panic","shy","cute","envy","proud","struggle","quiet","shutup","doubt","despise","sleep","bye"]}},arrTools={Cut:{t:"Cut"},Copy:{t:"Copy"},Paste:{t:"Paste"},Pastetext:{t:"Pastetext",h:isIE?0:1},Blocktag:{t:"Blocktag",h:1},Fontface:{t:"Fontface",h:1},FontSize:{t:"FontSize",h:1},Bold:{t:"Bold",s:"Ctrl+B"},Italic:{t:"Italic",s:"Ctrl+I"},Underline:{t:"Underline",s:"Ctrl+U"},Strikethrough:{t:"Strikethrough"},FontColor:{t:"FontColor",h:1},BackColor:{t:"BackColor",h:1},SelectAll:{t:"SelectAll"},Removeformat:{t:"Removeformat"},Align:{t:"Align",h:1},List:{t:"List",h:1},Outdent:{t:"Outdent"},Indent:{t:"Indent"},Link:{t:"Link",s:"Ctrl+L",h:1},Unlink:{t:"Unlink"},Anchor:{t:"Anchor",h:1},Img:{t:"Img",h:1},Flash:{t:"Flash",h:1},Media:{t:"Media",h:1},Hr:{t:"Hr"},Emot:{t:"Emot",s:"ctrl+e",h:1},Table:{t:"Table",h:1},Source:{t:"Source"},Preview:{t:"Preview"},Print:{t:"Print",s:"Ctrl+P"},Fullscreen:{t:"Fullscreen",s:"Esc"},About:{t:"About"}},toolsThemes={mini:"Bold,Italic,Underline,Strikethrough,|,Align,List,|,Link,Img",simple:"Blocktag,Fontface,FontSize,Bold,Italic,Underline,Strikethrough,FontColor,BackColor,|,Align,List,Outdent,Indent,|,Link,Img,Emot",full:"Cut,Copy,Paste,Pastetext,|,Blocktag,Fontface,FontSize,Bold,Italic,Underline,Strikethrough,FontColor,BackColor,SelectAll,Removeformat,|,Align,List,Outdent,Indent,|,Link,Unlink,Anchor,Img,Flash,Media,Hr,Emot,Table,|,Source,Preview,Print,Fullscreen"};toolsThemes.mfull=toolsThemes.full.replace(\/\\|(,Align)\/i,"\/$1");var arrDbClick={a:"Link",img:"Img",embed:"Embed"},uploadInputname="filedata",arrEntities={"<":"&lt;",">":"&gt;",'"':"&quot;","\\u00ae":"&reg;","\\u00a9":"&copy;"},regEntities=\/[<>"\\u00ae\\u00a9]\/g,Xheditor=function(textarea,options){function checkDblClick(e){var t=e.target,i=arrDbClick[t.tagName.toLowerCase()];if(i){if("Embed"===i){var s={"application\/x-shockwave-flash":"Flash","application\/x-mplayer2":"Media"};i=s[t.type.toLowerCase()]}_this.exec(i)}}function checkEsc(e){return 27===e.which?(bShowModal?_this.removeModal():bShowPanel&&_this.hidePanel(),!1):undefined}function loadReset(){setTimeout(_this.setSource,10)}function saveResult(){_this.getSource()}function cleanPaste(e){var t,i,s;if(e&&(t=e.originalEvent.clipboardData)&&(i=t.items)&&(s=i[0])&&"file"==s.kind&&s.type.match(\/^image\\\/\/i)){var a=s.getAsFile(),n=new FileReader;return n.onload=function(){var e='<img src="'+event.target.result+'">';e=replaceRemoteImg(e),_this.pasteHTML(e)},n.readAsDataURL(a),!1}var o=settings.cleanPaste;if(0===o||bSource||bCleanPaste)return!0;bCleanPaste=!0,_this.saveBookmark();var l=isIE?"pre":"div",r=$("<"+l+' class="xhe-paste">\\ufeff\\ufeff<\/'+l+">",_doc).appendTo(_doc.body),h=r[0],c=_this.getSel(),d=_this.getRng(!0);r.css("top",_jWin.scrollTop()),isIE?(d.moveToElementText(h),d.select()):(d.selectNodeContents(h),c.removeAllRanges(),c.addRange(d)),setTimeout(function(){var e,t=3===o;if(t)r.html(r.html().replace(\/<br(\\s+[^<>]*)?>\/gi,"\\n")),e=r.text();else{var i=$(".xhe-paste",_doc.body),s=[];i.each(function(e,t){0==$(t).find(".xhe-paste").length&&s.push(t.innerHTML)}),e=s.join("<br \/>")}r.remove(),_this.loadBookmark(),e=e.replace(\/^[\\s\\uFEFF]+|[\\s\\uFEFF]+$\/g,""),e&&(t?_this.pasteText(e):(e=_this.cleanHTML(e),e=_this.cleanWord(e),e=_this.formatXHTML(e),(!settings.onPaste||settings.onPaste&&(e=settings.onPaste(e))!==!1)&&(e=replaceRemoteImg(e),_this.pasteHTML(e)))),bCleanPaste=!1},0)}function replaceRemoteImg(e){var t=settings.localUrlTest,i=settings.remoteImgSaveUrl;if(t&&i){var s=[],a=0;e=e.replace(\/(<img)((?:\\s+[^>]*?)?(?:\\s+src="\\s*([^"]+)\\s*")(?: [^>]*)?)(\\\/?>)\/gi,function(e,i,n,o,l){return!\/^(https?|data:image)\/i.test(o)||\/_xhe_temp\/.test(n)||t.test(o)||(s[a]=o,n=n.replace(\/\\s+(width|height)="[^"]*"\/gi,"").replace(\/\\s+src="[^"]*"\/gi,' src="'+skinPath+'img\/waiting.gif" remoteimg="'+a++ +'"')),i+n+l}),s.length>0&&$.post(i,{urls:s.join("|")},function(e){e=e.split("|"),$("img[remoteimg]",_this.doc).each(function(){var t=$(this);xheAttr(t,"src",e[t.attr("remoteimg")]),t.removeAttr("remoteimg")})})}return e}function setCSS(e){try{_this._exec("styleWithCSS",e,!0)}catch(t){try{_this._exec("useCSS",!e,!0)}catch(t){}}}function setOpts(){if(bInit&&!bSource){setCSS(!1);try{_this._exec("enableObjectResizing",!0,!0)}catch(e){}if(isIE)try{_this._exec("BackgroundImageCache",!0,!0)}catch(e){}}}function forcePtag(e){if(bSource||13!==e.which||e.shiftKey||e.ctrlKey||e.altKey)return!0;var t=_this.getParent("p,h1,h2,h3,h4,h5,h6,pre,address,div,li");return t.is("li")?!0:settings.forcePtag?(0===t.length&&_this._exec("formatblock","<p>"),undefined):(_this.pasteHTML("<br \/>"),isIE&&t.length>0&&2===_this.getRng().parentElement().childNodes.length&&_this.pasteHTML("<br \/>"),!1)}function fixFullHeight(){isMozilla||isWebkit||(bFullscreen&&_jArea.height("100%").css("height",_jArea.outerHeight()-_jTools.outerHeight()),isIE&&_jTools.hide().show())}function fixAppleSel(e){if(e=e.target,e.tagName.match(\/(img|embed)\/i)){var t=_this.getSel(),i=_this.getRng(!0);i.selectNode(e),t.removeAllRanges(),t.addRange(i)}}function xheAttr(e,t,i){if(!t)return!1;var s="_xhe_"+t;return i&&(urlType&&(i=getLocalUrl(i,urlType,urlBase)),e.attr(t,urlBase?getLocalUrl(i,"abs",urlBase):i).removeAttr(s).attr(s,i)),e.attr(s)||e.attr(t)}function clickCancelPanel(){bClickCancel&&_this.hidePanel()}function checkShortcuts(e){if(bSource)return!0;var t=e.which,i=specialKeys[t],s=i?i:String.fromCharCode(t).toLowerCase();sKey="",sKey+=e.ctrlKey?"ctrl+":"",sKey+=e.altKey?"alt+":"",sKey+=e.shiftKey?"shift+":"",sKey+=s;var a,n=arrShortCuts[sKey];for(a in n){if(a=n[a],!$.isFunction(a))return _this.exec(a),!1;if(a.call(_this)===!1)return!1}}function is(e,t){var i=typeof e;return t?"array"===t&&e.hasOwnProperty&&e instanceof Array?!0:i===t:"undefined"!=i}function getLocalUrl(e,t,i){if(e.match(\/^(\\w+):\\\/\\\/\/i)&&!e.match(\/^https?:\/i)||\/^#\/i.test(e)||\/^data:\/i.test(e))return e;var s=i?$('<a href="'+i+'" \/>')[0]:location,a=s.protocol,n=s.host,o=s.hostname,l=s.port,r=s.pathname.replace(\/\\\\\/g,"\/").replace(\/[^\\\/]+$\/i,"");if(""===l&&(l="80"),""===r?r="\/":"\/"!==r.charAt(0)&&(r="\/"+r),e=$.trim(e),"abs"!==t&&(e=e.replace(RegExp(a+"\\\\\/\\\\\/"+o.replace(\/\\.\/g,"\\\\.")+"(?::"+l+")"+("80"===l?"?":"")+"(\/|$)","i"),"\/")),"rel"===t&&(e=e.replace(RegExp("^"+r.replace(\/([\\\/\\.\\+\\[\\]\\(\\)])\/g,"\\\\$1"),"i"),"")),"rel"!==t&&(e.match(\/^(https?:\\\/\\\/|\\\/)\/i)||(e=r+e),"\/"===e.charAt(0))){var h,c,d=[],u=e.split("\/"),p=u.length;for(c=0;p>c;c++)h=u[c],".."===h?d.pop():""!==h&&"."!==h&&d.push(h);""===u[p-1]&&d.push(""),e="\/"+d.join("\/")}return"abs"!==t||e.match(\/^https?:\\\/\\\/\/i)||(e=a+"\/\/"+n+e),e=e.replace(\/(https?:\\\/\\\/[^:\\\/?#]+):80(\\\/|$)\/i,"$1$2")}function checkFileExt(e,t){return"*"===t||e.match(RegExp(".("+t.replace(\/,\/g,"|")+")$","i"))?!0:(alert(getLang("upload.extLimit",t)),!1)}function formatBytes(e){var t=["Byte","KB","MB","GB","TB","PB"],i=Math.floor(Math.log(e)\/Math.log(1024));return(e\/Math.pow(1024,Math.floor(i))).toFixed(2)+t[i]}function returnFalse(){return!1}var _this=this,_text=textarea,_jText=$(_text),_jForm=_jText.closest("form"),_jTools,_jArea,_win,_jWin,_doc,_jDoc,bookmark,bInit=!1,bSource=!1,bFullscreen=!1,bCleanPaste=!1,outerScroll,bShowBlocktag=!1,sLayoutStyle="",ev=null,timer,bDisableHoverExec=!1,bQuickHoverExec=!1,lastPoint=null,lastAngle=null,editorHeight=0,settings=_this.settings=$.extend({},XHEDITOR.settings,options),plugins=settings.plugins,strPlugins=[];if(plugins&&(arrTools=$.extend({},arrTools,plugins),$.each(plugins,function(e){strPlugins.push(e)}),strPlugins=strPlugins.join(",")),settings.tools.match(\/^\\s*(m?full|simple|mini)\\s*$\/i)){var toolsTheme=toolsThemes[$.trim(settings.tools)];settings.tools=settings.tools.match(\/m?full\/i)&&plugins?toolsTheme.replace("Table","Table,"+strPlugins):toolsTheme}settings.tools.match(\/(^|,)\\s*About\\s*(,|$)\/i)||(settings.tools+=",About"),settings.tools=settings.tools.split(","),settings.editorRoot&&(editorRoot=settings.editorRoot),bAir===!1&&(editorRoot=getLocalUrl(editorRoot,"abs")),settings.urlBase&&(settings.urlBase=getLocalUrl(settings.urlBase,"abs"));var idCSS="xheCSS_"+settings.skin,idContainer="xhe"+xCount+"_container",idTools="xhe"+xCount+"_Tool",idIframeArea="xhe"+xCount+"_iframearea",idIframe="xhe"+xCount+"_iframe",idFixFFCursor="xhe"+xCount+"_fixffcursor",headHTML="",bodyClass="",skinPath=editorRoot+"xheditor_skin\/"+settings.skin+"\/",arrEmots=itemEmots,urlType=settings.urlType,urlBase=settings.urlBase,emotPath=settings.emotPath,emotPath=emotPath?emotPath:editorRoot+"xheditor_emot\/",selEmotGroup="";arrEmots=$.extend({},arrEmots,settings.emots),emotPath=getLocalUrl(emotPath,"rel",urlBase?urlBase:null),bShowBlocktag=settings.showBlocktag,bShowBlocktag&&(bodyClass+=" showBlocktag");var arrShortCuts=[];this.init=function(){function e(e){var t,i=$(e.target);(t=i.css("width"))&&i.css("width","").attr("width",t.replace(\/[^0-9%]+\/g,"")),(t=i.css("height"))&&i.css("height","").attr("height",t.replace(\/[^0-9%]+\/g,""))}0===$("#"+idCSS).length&&$("head").append('<link id="'+idCSS+'" rel="stylesheet" type="text\/css" href="'+skinPath+'ui.css" \/>');var t=_jText.outerWidth(),i=_jText.outerHeight(),s=settings.width||_text.style.width||(t>10?t:0);editorHeight=settings.height||_text.style.height||(i>10?i:150),\/^\\d+(?:\\.\\d+)?$\/.test(s)&&(s+="px"),is(editorHeight,"string")&&(editorHeight=editorHeight.replace(\/[^\\d]+\/g,""));var a,n,o=settings.background||_text.style.background,l=['<span class="xheGStart"\/>'],r=\/\\||\\\/\/i;$.each(settings.tools,function(e,t){if(t.match(r)&&l.push('<span class="xheGEnd"\/>'),"|"===t)l.push('<span class="xheSeparator"\/>');else if("\/"===t)l.push("<br \/>");else{if(a=arrTools[t],!a)return;n=a.c?a.c:"xheIcon xheBtn"+t,l.push('<span><a href="#" title="{#'+a.t+'}" cmd="'+t+'" class="xheButton xheEnabled" tabindex="-1" role="button"><span class="'+n+'" unselectable="on" style="font-size:0;color:transparent;text-indent:-999px;">'+a.t+"<\/span><\/a><\/span>"),a.s&&_this.addShortcuts(a.s,t)}t.match(r)&&l.push('<span class="xheGStart"\/>')}),l.push('<span class="xheGEnd"\/><br \/>'),_jText.after($('<input type="text" id="'+idFixFFCursor+'" style="position:absolute;display:none;" \/><span id="'+idContainer+'" class="xhe_'+settings.skin+'" style="display:none"><table cellspacing="0" cellpadding="0" class="xheLayout" style="'+("0px"!=s?"width:"+s+";":"")+"height:"+editorHeight+'px;" role="presentation"><tr><td id="'+idTools+'" class="xheTool" unselectable="on" style="height:1px;" role="presentation"><\/td><\/tr><tr><td id="'+idIframeArea+'" class="xheIframeArea" role="presentation"><iframe frameborder="0" id="'+idIframe+'" src="javascript:;" style="width:100%;"><\/iframe><\/td><\/tr><\/table><\/span>')),_jTools=$("#"+idTools),_jArea=$("#"+idIframeArea),headHTML='<meta http-equiv="Content-Type" content="text\/html; charset=utf-8" \/><link rel="stylesheet" href="'+skinPath+'iframe.css"\/>';var h=settings.loadCSS;if(h)if(is(h,"array"))for(var c in h)headHTML+='<link rel="stylesheet" href="'+h[c]+'"\/>';else headHTML+=h.match(\/\\s*<style(\\s+[^>]*?)?>[\\s\\S]+?<\\\/style>\\s*\/i)?h:'<link rel="stylesheet" href="'+h+'"\/>';var d='<!DOCTYPE html><html xmlns="http:\/\/www.w3.org\/1999\/xhtml"><head>'+headHTML+"<title>{#defaultReadTip} "+(settings.readTip?settings.readTip:"")+"<\/title>";o&&(d+="<style>html{background:"+o+";}<\/style>"),d+='<\/head><body spellcheck="0" class="editMode'+bodyClass+'"><\/body><\/html>',_this.win=_win=$("#"+idIframe)[0].contentWindow,_jWin=$(_win);try{this.doc=_doc=_win.document,_jDoc=$(_doc),_doc.open(),_doc.write(getLang(d)),_doc.close(),isIE?_doc.body.contentEditable="true":_doc.designMode="On"}catch(u){}setTimeout(setOpts,300),_this.setSource(),_win.setInterval=null,_jTools.append(getLang(l.join(""))).bind("mousedown contextmenu",returnFalse).click(function(e){var t=$(e.target).closest("a");return t.is(".xheEnabled")&&(clearTimeout(timer),_jTools.find("a").attr("tabindex","-1"),ev=e,_this.exec(t.attr("cmd"))),!1}),_jTools.find(".xheButton").hover(function(e){var t=$(this),i=settings.hoverExecDelay,s=lastAngle;if(lastAngle=null,-1===i||bDisableHoverExec||!t.is(".xheEnabled"))return!1;if(s&&s>10)return bDisableHoverExec=!0,setTimeout(function(){bDisableHoverExec=!1},100),!1;var a=t.attr("cmd"),n=1===arrTools[a].h;return n?(bQuickHoverExec&&(i=0),i>=0&&(timer=setTimeout(function(){ev=e,lastPoint={x:ev.clientX,y:ev.clientY},_this.exec(a)},i)),undefined):(_this.hidePanel(),!1)},function(){lastPoint=null,timer&&clearTimeout(timer)}).mousemove(function(e){if(lastPoint){var t={x:e.clientX-lastPoint.x,y:e.clientY-lastPoint.y};if(Math.abs(t.x)>1||Math.abs(t.y)>1){if(t.x>0&&t.y>0){var i=Math.round(Math.atan(t.y\/t.x)\/.017453293);lastAngle=lastAngle?(lastAngle+i)\/2:i}else lastAngle=null;lastPoint={x:e.clientX,y:e.clientY}}}}),_jPanel=$("#xhePanel"),_jShadow=$("#xheShadow"),_jCntLine=$("#xheCntLine"),0===_jPanel.length&&(_jPanel=$('<div id="xhePanel"><\/div>').mousedown(function(e){e.stopPropagation()}),_jShadow=$('<div id="xheShadow"><\/div>'),_jCntLine=$('<div id="xheCntLine"><\/div>'),setTimeout(function(){$(document.body).append(_jPanel).append(_jShadow).append(_jCntLine)},10)),$("#"+idContainer).show(),_jText.hide(),_jArea.css("height",editorHeight-_jTools.outerHeight()),isIE&8>browerVer&&setTimeout(function(){_jArea.css("height",editorHeight-_jTools.outerHeight())},1),_jText.focus(_this.focus),_jForm.submit(saveResult).bind("reset",loadReset),settings.submitID&&$("#"+settings.submitID).mousedown(saveResult),$(window).bind("unload beforeunload",saveResult).bind("resize",fixFullHeight),$(document).mousedown(clickCancelPanel),bCheckEscInit||($(document).keydown(checkEsc),bCheckEscInit=!0),_jWin.focus(function(){settings.focus&&settings.focus()}).blur(function(){settings.blur&&settings.blur()}),isWebkit&&_jWin.click(fixAppleSel),_jDoc.mousedown(clickCancelPanel).keydown(checkShortcuts).keypress(forcePtag).dblclick(checkDblClick).bind("mousedown click",function(e){_jText.trigger(e.type)}),isIE&&(_jDoc.keydown(function(e){var t=_this.getRng();return 8===e.which&&t.item?($(t.item(0)).remove(),!1):undefined}),_jDoc.bind("controlselect",function(t){t=t.target,$.nodeName(t,"IMG")&&$(t).unbind("resizeend",e).bind("resizeend",e)})),_jDoc.keydown(function(e){var t=e.which;return e.altKey&&t>=49&&57>=t?(_jTools.find("a").attr("tabindex","0"),_jTools.find(".xheGStart").eq(t-49).next().find("a").focus(),_doc.title="\\ufeff\\ufeff",!1):undefined}).click(function(){_jTools.find("a").attr("tabindex","-1")}),_jTools.keydown(function(e){var t=e.which;if(27==t)_jTools.find("a").attr("tabindex","-1"),_this.focus();else if(e.altKey&&t>=49&&57>=t)return _jTools.find(".xheGStart").eq(t-49).next().find("a").focus(),!1});var p=$(_doc.documentElement);isOpera?p.bind("keydown",function(e){e.ctrlKey&&86===e.which&&cleanPaste()}):p.bind(isIE?"beforepaste":"paste",cleanPaste),settings.disableContextmenu&&p.bind("contextmenu",returnFalse),settings.html5Upload&&p.bind("dragenter dragover",function(e){var t;return(t=e.originalEvent.dataTransfer.types)&&-1!==$.inArray("Files",t)?!1:undefined}).bind("drop",function(e){function t(e){var t,i,s;for(a=0;e.length>a;a++){if(i=e[a].name.replace(\/.+\\.\/,""),!(t=o.match(RegExp("(\\\\w+):[^:]*,"+i+"(?:,|$)","i"))))return 1;if(s){if(s!==t[1])return 2}else s=t[1]}return s}var i,s=e.originalEvent.dataTransfer;if(s&&(i=s.files)&&i.length>0){var a,n,o,l=["Link","Img","Flash","Media"],r=[];for(a in l)n=l[a],settings["up"+n+"Url"]&&settings["up"+n+"Url"].match(\/^[^!].*\/i)&&r.push(n+":,"+settings["up"+n+"Ext"]);return 0===r.length?!1:(o=r.join(","),n=t(i),1===n?alert(getLang("upload.extLimit",o.replace(\/\\w+:,\/g,""))):2===n?alert(getLang("upload.typeLimit")):n&&_this.startUpload(i,settings["up"+n+"Url"],"*",function(e){var t,i=[],s=settings.onUpload;s&&s(e);for(var a=0,o=e.length;o>a;a++)t=e[a],url=is(t,"string")?t:t.url,"!"===url.substr(0,1)&&(url=url.substr(1)),i.push(url);_this.exec(n),$("#xhe"+n+"Url").val(i.join(" ")),$("#xheSave").click()}),!1)}});var g=settings.shortcuts;g&&$.each(g,function(e,t){_this.addShortcuts(e,t)}),xCount++,bInit=!0,settings.fullscreen?_this.toggleFullscreen():settings.sourceMode&&setTimeout(_this.toggleSource,20);var f=settings.plugins;return f&&$.each(f,function(e,t){var i=t.i;i!==undefined&&i(_this)}),!0},this.remove=function(){_this.hidePanel(),saveResult(),_jText.unbind("focus",_this.focus),_jForm.unbind("submit",saveResult).unbind("reset",loadReset),settings.submitID&&$("#"+settings.submitID).unbind("mousedown",saveResult),$(window).unbind("unload beforeunload",saveResult).unbind("resize",fixFullHeight),$(document).unbind("mousedown",clickCancelPanel),$("#"+idContainer).remove(),$("#"+idFixFFCursor).remove(),_jText.show(),bInit=!1},this.saveBookmark=function(){if(!bSource){_this.focus();var e=_this.getRng();e=e.cloneRange?e.cloneRange():e,bookmark={top:_jWin.scrollTop(),rng:e}}},this.loadBookmark=function(){if(!bSource&&bookmark){_this.focus();var e=bookmark.rng;if(isIE)e.select();else{var t=_this.getSel();t.removeAllRanges(),t.addRange(e)}_jWin.scrollTop(bookmark.top),bookmark=null}},this.focus=function(){if(bSource?$("#sourceCode",_doc).focus():_win.focus(),isIE){var e=_this.getRng();e.parentElement&&e.parentElement().ownerDocument!==_doc&&_this.setTextCursor()}return!1},this.setTextCursor=function(e){var t=_this.getRng(!0),i=_doc.body;if(isIE)t.moveToElementText(i);else{for(var s=e?"lastChild":"firstChild";3!=i.nodeType&&i[s];)i=i[s];t.selectNode(i)}if(t.collapse(e?!1:!0),isIE)t.select();else{var a=_this.getSel();a.removeAllRanges(),a.addRange(t)}},this.getSel=function(){return _doc.selection?_doc.selection:_win.getSelection()},this.getRng=function(e){var t,i;try{e||(t=_this.getSel(),i=t.createRange?t.createRange():t.rangeCount>0?t.getRangeAt(0):null),i||(i=_doc.body.createTextRange?_doc.body.createTextRange():_doc.createRange())}catch(s){}return i},this.getParent=function(e){var t,i=_this.getRng();return isIE?t=i.item?i.item(0):i.parentElement():(t=i.commonAncestorContainer,i.collapsed||i.startContainer===i.endContainer&&2>i.startOffset-i.endOffset&&i.startContainer.hasChildNodes()&&(t=i.startContainer.childNodes[i.startOffset])),e=e?e:"*",t=$(t),t.is(e)||(t=$(t).closest(e)),t},this.getSelect=function(e){var t=_this.getSel(),i=_this.getRng(),s=!0;if(s=!i||i.item?!1:!t||0===i.boundingWidth||i.collapsed,"text"===e)return s?"":i.text||(t.toString?""+t:"");var a;if(i.cloneContents){var n,o=$("<div><\/div>");n=i.cloneContents(),n&&o.append(n),a=o.html()}else a=is(i.item)?i.item(0).outerHTML:is(i.htmlText)?i.htmlText:""+i;return s&&(a=""),a=_this.processHTML(a,"read"),a=_this.cleanHTML(a),a=_this.formatXHTML(a)},this.pasteHTML=function(e,t){if(bSource)return!1;_this.focus(),e=_this.processHTML(e,"write");var i=_this.getSel(),s=_this.getRng();if(t!==undefined){if(s.item){var a=s.item(0);s=_this.getRng(!0),s.moveToElementText(a),s.select()}s.collapse(t)}if(e+="<"+(isIE?"img":"span")+' id="_xhe_temp" width="0" height="0" \/>',s.insertNode){if($(s.startContainer).closest("style,script").length>0)return!1;s.deleteContents(),s.insertNode(s.createContextualFragment(e))}else"control"===i.type.toLowerCase()&&(i.clear(),s=_this.getRng()),s.pasteHTML(e);var n=$("#_xhe_temp",_doc),o=n[0];isIE?(s.moveToElementText(o),s.select()):(s.selectNode(o),i.removeAllRanges(),i.addRange(s)),n.remove()},this.pasteText=function(e,t){e||(e=""),e=_this.domEncode(e),e=e.replace(\/\\r?\\n\/g,"<br \/>"),_this.pasteHTML(e,t)},this.appendHTML=function(e){return bSource?!1:(_this.focus(),e=_this.processHTML(e,"write"),$(_doc.body).append(e),_this.setTextCursor(!0),undefined)},this.domEncode=function(e){return e.replace(regEntities,function(e){return arrEntities[e]})},this.setSource=function(e){bookmark=null,"string"!=typeof e&&""!==e&&(e=_text.value),bSource?$("#sourceCode",_doc).val(e):(settings.beforeSetSource&&(e=settings.beforeSetSource(e)),e=_this.cleanHTML(e),e=_this.formatXHTML(e),e=_this.processHTML(e,"write"),isIE?(_doc.body.innerHTML='<img id="_xhe_temp" width="0" height="0" \/>'+e,$("#_xhe_temp",_doc).remove()):_doc.body.innerHTML=e)},this.processHTML=function(e,t){function i(e,t,i,s,a,o){var l,r,h,c,d="";if(l=s.match(\/font-family\\s*:\\s*([^;"]+)\/i),l&&(d+=' face="'+l[1]+'"'),r=s.match(\/font-size\\s*:\\s*([^;"]+)\/i)){r=r[1].toLowerCase();for(var u=0;n.length>u;u++)if(r===n[u].n||r===n[u].s){h=u+1;break}h&&(d+=' size="'+h+'"',s=s.replace(\/(^|;)(\\s*font-size\\s*:\\s*[^;"]+;?)+\/gi,"$1"))}if(c=s.match(\/(?:^|[\\s;])color\\s*:\\s*([^;"]+)\/i)){var p;if(p=c[1].match(\/\\s*rgb\\s*\\(\\s*(\\d+)\\s*,\\s*(\\d+)\\s*,\\s*(\\d+)\\s*\\)\/i)){c[1]="#";for(var g=1;3>=g;g++)c[1]+=("0"+(p[g]-0).toString(16)).slice(-2)}c[1]=c[1].replace(\/^#([0-9a-f])([0-9a-f])([0-9a-f])$\/i,"#$1$1$2$2$3$3"),d+=' color="'+c[1]+'"'}return s=s.replace(\/(^|;)(\\s*(font-family|color)\\s*:\\s*[^;"]+;?)+\/gi,"$1"),""!==d?(s&&(d+=' style="'+s+'"'),"<font"+(i?i:"")+d+(a?a:"")+">"+o+"<\/font>"):e}function s(e,t,i,s,a){for(var n,l,r=(i?i:"")+(s?s:""),h=[],c=[],d=0;o.length>d;d++)n=o[d].r,l=o[d].t,r=r.replace(n,function(){return h.push("<"+l+">"),c.push("<\/"+l+">"),""});return r=r.replace(\/\\s+style\\s*=\\s*"\\s*"\/i,""),(r?"<span"+r+">":"")+h.join("")+a+c.join("")+(r?"<\/span>":"")}var a=' class="Apple-style-span"',n=settings.listFontsize;if("write"===t)e=e.replace(\/(<(\\\/?)(\\w+))((?:\\s+[\\w\\-:]+\\s*=\\s*(?:"[^"]*"|'[^']*'|[^>\\s]+))*)\\s*((\\\/?)>)\/g,function(e,t,i,s,n,o,l){s=s.toLowerCase(),isMozilla?"strong"===s?s="b":"em"===s&&(s="i"):isWebkit&&("strong"===s?(s="span",i||(n+=a+' style="font-weight: bold;"')):"em"===s?(s="span",i||(n+=a+' style="font-style: italic;"')):"u"===s?(s="span",i||(n+=a+' style="text-decoration: underline;"')):"strike"===s&&(s="span",i||(n+=a+' style="text-decoration: line-through;"')));var r,h="";if("del"===s)s="strike";else if("img"===s)n=n.replace(\/\\s+emot\\s*=\\s*("[^"]*"|'[^']*'|[^>\\s]+)\/i,function(e,t){return r=t.match(\/^(["']?)(.*)\\1\/)[2],r=r.split(","),r[1]||(r[1]=r[0],r[0]=""),"default"===r[0]&&(r[0]=""),settings.emotMark?e:""});else if("a"===s)!n.match(\/ href=[^ ]\/i)&&n.match(\/ name=[^ ]\/i)&&(h+=" xhe-anchor"),l&&(o="><\/a>");else if("table"===s&&!i){var c=n.match(\/\\s+border\\s*=\\s*("[^"]*"|'[^']*'|[^>\\s]+)\/i);(!c||c[1].match(\/^(["']?)\\s*0\\s*\\1$\/))&&(h+=" xhe-border")}var d;if(n=n.replace(\/\\s+([\\w\\-:]+)\\s*=\\s*("[^"]*"|'[^']*'|[^>\\s]+)\/g,function(e,t,i){return t=t.toLowerCase(),i=i.match(\/^(["']?)(.*)\\1\/)[2],aft="",isIE&&t.match(\/^(disabled|checked|readonly|selected)$\/)&&i.match(\/^(false|0)$\/i)?"":"img"===s&&r&&"src"===t?"":(t.match(\/^(src|href)$\/)&&(aft=" _xhe_"+t+'="'+i+'"',urlBase&&(i=getLocalUrl(i,"abs",urlBase))),h&&"class"===t&&(i+=" "+h,h=""),isWebkit&&"style"===t&&"span"===s&&i.match(\/(^|;)\\s*(font-family|font-size|color|background-color)\\s*:\\s*[^;]+\\s*(;|$)\/i)&&(d=!0)," "+t+'="'+i+'"'+aft)}),r){var u=emotPath+(r[0]?r[0]:"default")+"\/"+r[1]+".gif";n+=' src="'+u+'" _xhe_src="'+u+'"'}return d&&(n+=a),h&&(n+=' class="'+h+'"'),"<"+i+s+n+o}),isIE&&(e=e.replace(\/&apos;\/gi,"&#39;")),isWebkit||(e=e.replace(\/<(span)(\\s+[^>]*?)?\\s+style\\s*=\\s*"((?:[^"]*?;)?\\s*(?:font-family|font-size|color)\\s*:[^"]*)"( [^>]*)?>(((?!<\\1(\\s+[^>]*?)?>)[\\s\\S]|<\\1(\\s+[^>]*?)?>((?!<\\1(\\s+[^>]*?)?>)[\\s\\S]|<\\1(\\s+[^>]*?)?>((?!<\\1(\\s+[^>]*?)?>)[\\s\\S])*?<\\\/\\1>)*?<\\\/\\1>)*?)<\\\/\\1>\/gi,i),e=e.replace(\/<(span)(\\s+[^>]*?)?\\s+style\\s*=\\s*"((?:[^"]*?;)?\\s*(?:font-family|font-size|color)\\s*:[^"]*)"( [^>]*)?>(((?!<\\1(\\s+[^>]*?)?>)[\\s\\S]|<\\1(\\s+[^>]*?)?>((?!<\\1(\\s+[^>]*?)?>)[\\s\\S])*?<\\\/\\1>)*?)<\\\/\\1>\/gi,i),e=e.replace(\/<(span)(\\s+[^>]*?)?\\s+style\\s*=\\s*"((?:[^"]*?;)?\\s*(?:font-family|font-size|color)\\s*:[^"]*)"( [^>]*)?>(((?!<\\1(\\s+[^>]*?)?>)[\\s\\S])*?)<\\\/\\1>\/gi,i)),e=e.replace(\/<(td|th)(\\s+[^>]*?)?>(\\s|&nbsp;)*<\\\/\\1>\/gi,"<$1$2>"+(isIE?"":"<br \/>")+"<\/$1>");else{if(isWebkit)for(var o=[{r:\/font-weight\\s*:\\s*bold;?\/gi,t:"strong"},{r:\/font-style\\s*:\\s*italic;?\/gi,t:"em"},{r:\/text-decoration\\s*:\\s*underline;?\/gi,t:"u"},{r:\/text-decoration\\s*:\\s*line-through;?\/gi,t:"strike"}],l=0;2>l;l++)e=e.replace(\/<(span)(\\s+[^>]*?)?\\s+class\\s*=\\s*"Apple-style-span"(\\s+[^>]*?)?>(((?!<\\1(\\s+[^>]*?)?>)[\\s\\S]|<\\1(\\s+[^>]*?)?>((?!<\\1(\\s+[^>]*?)?>)[\\s\\S]|<\\1(\\s+[^>]*?)?>((?!<\\1(\\s+[^>]*?)?>)[\\s\\S])*?<\\\/\\1>)*?<\\\/\\1>)*?)<\\\/\\1>\/gi,s),e=e.replace(\/<(span)(\\s+[^>]*?)?\\s+class\\s*=\\s*"Apple-style-span"(\\s+[^>]*?)?>(((?!<\\1(\\s+[^>]*?)?>)[\\s\\S]|<\\1(\\s+[^>]*?)?>((?!<\\1(\\s+[^>]*?)?>)[\\s\\S])*?<\\\/\\1>)*?)<\\\/\\1>\/gi,s),e=e.replace(\/<(span)(\\s+[^>]*?)?\\s+class\\s*=\\s*"Apple-style-span"(\\s+[^>]*?)?>(((?!<\\1(\\s+[^>]*?)?>)[\\s\\S])*?)<\\\/\\1>\/gi,s);e=e.replace(\/(<(\\w+))((?:\\s+[\\w\\-:]+\\s*=\\s*(?:"[^"]*"|'[^']*'|[^>\\s]+))*)\\s*(\\\/?>)\/g,function(e,t,i,s,a){i=i.toLowerCase();$/;"	p
var.specialKeys.38	js/xheditor.min.js	/^(function(){var e={};window.XHEDITOR=e})(),function(e,t){e.mapLang={},e.setLang=function(i,s){s===t&&(s=i,i=""),""!==i&&(i+=".");var a,n;for(var o in s)n=s[o],a=i+o,"string"==typeof n||n instanceof Array?e.mapLang[a]=n:e.setLang(a,n)},e.getLang=function(i){var s=e.mapLang[i];if(s===t&&(s=i.replace(\/{#([^{}]+)}\/g,function(t,i){var s=e.mapLang[i];return s?s:i})),"string"==typeof s){var a=arguments;s=s.replace(\/{\\$(\\d+)}\/g,function(e,i){var s=a[parseInt(i,10)+1];return s!==t?s:e})}return s}}(XHEDITOR),function(XHEDITOR,$,undefined){var agent=navigator.userAgent.toLowerCase(),bMobile=\/mobile\/i.test(agent),browser=$.browser,browerVer=parseFloat(browser.version),isIE=browser.msie,isMozilla=browser.mozilla,isWebkit=browser.webkit,isOpera=browser.opera,isChrome=browser.chrome,bAir=agent.indexOf(" adobeair\/")>-1,xCount=0,bShowPanel=!1,bClickCancel=!0,bShowModal=!1,bCheckEscInit=!1,_jPanel,_jShadow,_jCntLine,_jPanelButton,jModal,jModalShadow,layerShadow,jOverlay,jHideSelect,onModalRemove,editorRoot,getLang=XHEDITOR.getLang;if($("script[src*=xheditor]").each(function(){var e=this.src;return e.match(\/xheditor[^\\\/]*\\.js\/i)?(editorRoot=e.replace(\/[\\?#].*$\/,"").replace(\/(^|[\\\/\\\\])[^\\\/]*$\/,"$1"),!1):undefined}),isIE){try{document.execCommand("BackgroundImageCache",!1,!0)}catch(e){}var jqueryVer=$.fn.jquery;jqueryVer&&jqueryVer.match(\/^1\\.[67]\/)&&($.attrHooks.width=$.attrHooks.height=null)}var specialKeys={27:"esc",9:"tab",32:"space",13:"enter",8:"backspace",145:"scroll",20:"capslock",144:"numlock",19:"pause",45:"insert",36:"home",46:"del",35:"end",33:"pageup",34:"pagedown",37:"left",38:"up",39:"right",40:"down",112:"f1",113:"f2",114:"f3",115:"f4",116:"f5",117:"f6",118:"f7",119:"f8",120:"f9",121:"f10",122:"f11",123:"f12"},arrAlign=[{v:"justifyleft"},{v:"justifycenter"},{v:"justifyright"},{v:"justifyfull"}],arrList=[{v:"insertOrderedList"},{v:"insertUnorderedList"}],htmlPastetext='<div><label for="xhePastetextValue">{#PastetextTip}<\/label><\/div><div><textarea id="xhePastetextValue" wrap="soft" spellcheck="false" style="width:300px;height:100px;" \/><\/div><div style="text-align:right;"><input type="button" id="xheSave" value="{#dialogOk}" \/><\/div>',htmlLink='<div><label for="xheLinkUrl">{#link.url}<\/label><input type="text" id="xheLinkUrl" value="http:\/\/" class="xheText" \/><\/div><div><label for="xheLinkTarget">{#link.target}<\/label><select id="xheLinkTarget"><option selected="selected" value="">{#default}<\/option><option value="_blank">{#link.targetBlank}<\/option><option value="_self">{#link.targetSelf}<\/option><option value="_parent">{#link.targetParent}<\/option><\/select><\/div><div style="display:none"><label for="xheLinkText">{#link.linkText}<\/label><input type="text" id="xheLinkText" value="" class="xheText" \/><\/div><div style="text-align:right;"><input type="button" id="xheSave" value="{#dialogOk}" \/><\/div>',htmlAnchor='<div><label for="xheAnchorName">{#anchor.name}<\/label><input type="text" id="xheAnchorName" value="" class="xheText" \/><\/div><div style="text-align:right;"><input type="button" id="xheSave" value="{#dialogOk}" \/><\/div>',htmlImg='<div><label for="xheImgUrl">{#img.url}<\/label><input type="text" id="xheImgUrl" value="http:\/\/" class="xheText" \/><\/div><div><div><label for="xheImgAlt">{#img.alt}<\/label><input type="text" id="xheImgAlt" \/><\/div><div><label for="xheImgAlign">{#img.align}<\/label><select id="xheImgAlign"><option selected="selected" value="">{#default}<\/option><option value="left">{#img.alignLeft}<\/option><option value="right">{#img.alignRight}<\/option><option value="top">{#img.alignTop}<\/option><option value="middle">{#img.alignMiddle}<\/option><option value="baseline">{#img.alignBaseline}<\/option><option value="bottom">{#img.alignBottom}<\/option><\/select><\/div><div><label for="xheImgWidth">{#img.width}<\/label><input type="text" id="xheImgWidth" style="width:40px;" \/> <label for="xheImgHeight">{#img.height}<\/label><input type="text" id="xheImgHeight" style="width:40px;" \/><\/div><div><label for="xheImgBorder">{#img.border}<\/label><input type="text" id="xheImgBorder" style="width:40px;" \/><\/div><div><label for="xheImgHspace">{#img.hspace}<\/label><input type="text" id="xheImgHspace" style="width:40px;" \/> <label for="xheImgVspace">{#img.vspace}<\/label><input type="text" id="xheImgVspace" style="width:40px;" \/><\/div><div style="text-align:right;"><input type="button" id="xheSave" value="{#dialogOk}" \/><\/div>',htmlFlash='<div><label for="xheFlashUrl">{#flash.url}<\/label><input type="text" id="xheFlashUrl" value="http:\/\/" class="xheText" \/><\/div><div><label for="xheFlashWidth">{#flash.width}<\/label><input type="text" id="xheFlashWidth" style="width:40px;" value="480" \/> <label for="xheFlashHeight">{#flash.height}<\/label><input type="text" id="xheFlashHeight" style="width:40px;" value="400" \/><\/div><div style="text-align:right;"><input type="button" id="xheSave" value="{#dialogOk}" \/><\/div>',htmlMedia='<div><label for="xheMediaUrl">{#media.url}<\/label><input type="text" id="xheMediaUrl" value="http:\/\/" class="xheText" \/><\/div><div><label for="xheMediaWidth">{#media.width}<\/label><input type="text" id="xheMediaWidth" style="width:40px;" value="480" \/> <label for="xheMediaHeight">{#media.height}<\/label><input type="text" id="xheMediaHeight" style="width:40px;" value="400" \/><\/div><div style="text-align:right;"><input type="button" id="xheSave" value="{#dialogOk}" \/><\/div>',htmlTable='<div><label for="xheTableRows">{#table.rows}<\/label><input type="text" id="xheTableRows" style="width:40px;" value="3" \/> <label for="xheTableColumns">{#table.columns}<\/label><input type="text" id="xheTableColumns" style="width:40px;" value="2" \/><\/div><div><label for="xheTableHeaders">{#table.headers}<\/label><select id="xheTableHeaders"><option selected="selected" value="">{#none}<\/option><option value="row">{#table.headersRow}<\/option><option value="col">{#table.headersCol}<\/option><option value="both">{#table.headersBoth}<\/option><\/select><\/div><div><label for="xheTableWidth">{#table.width}<\/label><input type="text" id="xheTableWidth" style="width:40px;" value="200" \/> <label for="xheTableHeight">{#table.height}<\/label><input type="text" id="xheTableHeight" style="width:40px;" value="" \/><\/div><div><label for="xheTableBorder">{#table.border}<\/label><input type="text" id="xheTableBorder" style="width:40px;" value="1" \/><\/div><div><label for="xheTableCellSpacing">{#table.cellSpacing}<\/label><input type="text" id="xheTableCellSpacing" style="width:40px;" value="1" \/> <label for="xheTableCellPadding">{#table.cellPadding}<\/label><input type="text" id="xheTableCellPadding" style="width:40px;" value="1" \/><\/div><div><label for="xheTableAlign">{#table.align}<\/label><select id="xheTableAlign"><option selected="selected" value="">{#default}<\/option><option value="left">{#table.alignLeft}<\/option><option value="center">{#table.alignCenter}<\/option><option value="right">{#table.alignRight}<\/option><\/select><\/div><div><label for="xheTableCaption">{#table.caption}<\/label><input type="text" id="xheTableCaption" \/><\/div><div style="text-align:right;"><input type="button" id="xheSave" value="{#dialogOk}" \/><\/div>',htmlAbout='<div style="font:12px Arial;width:245px;word-wrap:break-word;word-break:break-all;outline:none;" role="dialog" tabindex="-1"><p><span style="font-size:20px;color:#1997DF;">xhEditor<\/span><br \/>v1.2.1 (build 130225)<\/p><p>{#aboutXheditor}<\/p><p>Copyright &copy; <a href="http:\/\/xheditor.com\/" target="_blank">xhEditor.com<\/a>. All rights reserved.<\/p><\/div>',itemEmots={"default":{name:"{#default}",width:24,height:24,line:7,list:["smile","tongue","titter","laugh","sad","wronged","fastcry","cry","wail","mad","knock","curse","crazy","angry","ohmy","awkward","panic","shy","cute","envy","proud","struggle","quiet","shutup","doubt","despise","sleep","bye"]}},arrTools={Cut:{t:"Cut"},Copy:{t:"Copy"},Paste:{t:"Paste"},Pastetext:{t:"Pastetext",h:isIE?0:1},Blocktag:{t:"Blocktag",h:1},Fontface:{t:"Fontface",h:1},FontSize:{t:"FontSize",h:1},Bold:{t:"Bold",s:"Ctrl+B"},Italic:{t:"Italic",s:"Ctrl+I"},Underline:{t:"Underline",s:"Ctrl+U"},Strikethrough:{t:"Strikethrough"},FontColor:{t:"FontColor",h:1},BackColor:{t:"BackColor",h:1},SelectAll:{t:"SelectAll"},Removeformat:{t:"Removeformat"},Align:{t:"Align",h:1},List:{t:"List",h:1},Outdent:{t:"Outdent"},Indent:{t:"Indent"},Link:{t:"Link",s:"Ctrl+L",h:1},Unlink:{t:"Unlink"},Anchor:{t:"Anchor",h:1},Img:{t:"Img",h:1},Flash:{t:"Flash",h:1},Media:{t:"Media",h:1},Hr:{t:"Hr"},Emot:{t:"Emot",s:"ctrl+e",h:1},Table:{t:"Table",h:1},Source:{t:"Source"},Preview:{t:"Preview"},Print:{t:"Print",s:"Ctrl+P"},Fullscreen:{t:"Fullscreen",s:"Esc"},About:{t:"About"}},toolsThemes={mini:"Bold,Italic,Underline,Strikethrough,|,Align,List,|,Link,Img",simple:"Blocktag,Fontface,FontSize,Bold,Italic,Underline,Strikethrough,FontColor,BackColor,|,Align,List,Outdent,Indent,|,Link,Img,Emot",full:"Cut,Copy,Paste,Pastetext,|,Blocktag,Fontface,FontSize,Bold,Italic,Underline,Strikethrough,FontColor,BackColor,SelectAll,Removeformat,|,Align,List,Outdent,Indent,|,Link,Unlink,Anchor,Img,Flash,Media,Hr,Emot,Table,|,Source,Preview,Print,Fullscreen"};toolsThemes.mfull=toolsThemes.full.replace(\/\\|(,Align)\/i,"\/$1");var arrDbClick={a:"Link",img:"Img",embed:"Embed"},uploadInputname="filedata",arrEntities={"<":"&lt;",">":"&gt;",'"':"&quot;","\\u00ae":"&reg;","\\u00a9":"&copy;"},regEntities=\/[<>"\\u00ae\\u00a9]\/g,Xheditor=function(textarea,options){function checkDblClick(e){var t=e.target,i=arrDbClick[t.tagName.toLowerCase()];if(i){if("Embed"===i){var s={"application\/x-shockwave-flash":"Flash","application\/x-mplayer2":"Media"};i=s[t.type.toLowerCase()]}_this.exec(i)}}function checkEsc(e){return 27===e.which?(bShowModal?_this.removeModal():bShowPanel&&_this.hidePanel(),!1):undefined}function loadReset(){setTimeout(_this.setSource,10)}function saveResult(){_this.getSource()}function cleanPaste(e){var t,i,s;if(e&&(t=e.originalEvent.clipboardData)&&(i=t.items)&&(s=i[0])&&"file"==s.kind&&s.type.match(\/^image\\\/\/i)){var a=s.getAsFile(),n=new FileReader;return n.onload=function(){var e='<img src="'+event.target.result+'">';e=replaceRemoteImg(e),_this.pasteHTML(e)},n.readAsDataURL(a),!1}var o=settings.cleanPaste;if(0===o||bSource||bCleanPaste)return!0;bCleanPaste=!0,_this.saveBookmark();var l=isIE?"pre":"div",r=$("<"+l+' class="xhe-paste">\\ufeff\\ufeff<\/'+l+">",_doc).appendTo(_doc.body),h=r[0],c=_this.getSel(),d=_this.getRng(!0);r.css("top",_jWin.scrollTop()),isIE?(d.moveToElementText(h),d.select()):(d.selectNodeContents(h),c.removeAllRanges(),c.addRange(d)),setTimeout(function(){var e,t=3===o;if(t)r.html(r.html().replace(\/<br(\\s+[^<>]*)?>\/gi,"\\n")),e=r.text();else{var i=$(".xhe-paste",_doc.body),s=[];i.each(function(e,t){0==$(t).find(".xhe-paste").length&&s.push(t.innerHTML)}),e=s.join("<br \/>")}r.remove(),_this.loadBookmark(),e=e.replace(\/^[\\s\\uFEFF]+|[\\s\\uFEFF]+$\/g,""),e&&(t?_this.pasteText(e):(e=_this.cleanHTML(e),e=_this.cleanWord(e),e=_this.formatXHTML(e),(!settings.onPaste||settings.onPaste&&(e=settings.onPaste(e))!==!1)&&(e=replaceRemoteImg(e),_this.pasteHTML(e)))),bCleanPaste=!1},0)}function replaceRemoteImg(e){var t=settings.localUrlTest,i=settings.remoteImgSaveUrl;if(t&&i){var s=[],a=0;e=e.replace(\/(<img)((?:\\s+[^>]*?)?(?:\\s+src="\\s*([^"]+)\\s*")(?: [^>]*)?)(\\\/?>)\/gi,function(e,i,n,o,l){return!\/^(https?|data:image)\/i.test(o)||\/_xhe_temp\/.test(n)||t.test(o)||(s[a]=o,n=n.replace(\/\\s+(width|height)="[^"]*"\/gi,"").replace(\/\\s+src="[^"]*"\/gi,' src="'+skinPath+'img\/waiting.gif" remoteimg="'+a++ +'"')),i+n+l}),s.length>0&&$.post(i,{urls:s.join("|")},function(e){e=e.split("|"),$("img[remoteimg]",_this.doc).each(function(){var t=$(this);xheAttr(t,"src",e[t.attr("remoteimg")]),t.removeAttr("remoteimg")})})}return e}function setCSS(e){try{_this._exec("styleWithCSS",e,!0)}catch(t){try{_this._exec("useCSS",!e,!0)}catch(t){}}}function setOpts(){if(bInit&&!bSource){setCSS(!1);try{_this._exec("enableObjectResizing",!0,!0)}catch(e){}if(isIE)try{_this._exec("BackgroundImageCache",!0,!0)}catch(e){}}}function forcePtag(e){if(bSource||13!==e.which||e.shiftKey||e.ctrlKey||e.altKey)return!0;var t=_this.getParent("p,h1,h2,h3,h4,h5,h6,pre,address,div,li");return t.is("li")?!0:settings.forcePtag?(0===t.length&&_this._exec("formatblock","<p>"),undefined):(_this.pasteHTML("<br \/>"),isIE&&t.length>0&&2===_this.getRng().parentElement().childNodes.length&&_this.pasteHTML("<br \/>"),!1)}function fixFullHeight(){isMozilla||isWebkit||(bFullscreen&&_jArea.height("100%").css("height",_jArea.outerHeight()-_jTools.outerHeight()),isIE&&_jTools.hide().show())}function fixAppleSel(e){if(e=e.target,e.tagName.match(\/(img|embed)\/i)){var t=_this.getSel(),i=_this.getRng(!0);i.selectNode(e),t.removeAllRanges(),t.addRange(i)}}function xheAttr(e,t,i){if(!t)return!1;var s="_xhe_"+t;return i&&(urlType&&(i=getLocalUrl(i,urlType,urlBase)),e.attr(t,urlBase?getLocalUrl(i,"abs",urlBase):i).removeAttr(s).attr(s,i)),e.attr(s)||e.attr(t)}function clickCancelPanel(){bClickCancel&&_this.hidePanel()}function checkShortcuts(e){if(bSource)return!0;var t=e.which,i=specialKeys[t],s=i?i:String.fromCharCode(t).toLowerCase();sKey="",sKey+=e.ctrlKey?"ctrl+":"",sKey+=e.altKey?"alt+":"",sKey+=e.shiftKey?"shift+":"",sKey+=s;var a,n=arrShortCuts[sKey];for(a in n){if(a=n[a],!$.isFunction(a))return _this.exec(a),!1;if(a.call(_this)===!1)return!1}}function is(e,t){var i=typeof e;return t?"array"===t&&e.hasOwnProperty&&e instanceof Array?!0:i===t:"undefined"!=i}function getLocalUrl(e,t,i){if(e.match(\/^(\\w+):\\\/\\\/\/i)&&!e.match(\/^https?:\/i)||\/^#\/i.test(e)||\/^data:\/i.test(e))return e;var s=i?$('<a href="'+i+'" \/>')[0]:location,a=s.protocol,n=s.host,o=s.hostname,l=s.port,r=s.pathname.replace(\/\\\\\/g,"\/").replace(\/[^\\\/]+$\/i,"");if(""===l&&(l="80"),""===r?r="\/":"\/"!==r.charAt(0)&&(r="\/"+r),e=$.trim(e),"abs"!==t&&(e=e.replace(RegExp(a+"\\\\\/\\\\\/"+o.replace(\/\\.\/g,"\\\\.")+"(?::"+l+")"+("80"===l?"?":"")+"(\/|$)","i"),"\/")),"rel"===t&&(e=e.replace(RegExp("^"+r.replace(\/([\\\/\\.\\+\\[\\]\\(\\)])\/g,"\\\\$1"),"i"),"")),"rel"!==t&&(e.match(\/^(https?:\\\/\\\/|\\\/)\/i)||(e=r+e),"\/"===e.charAt(0))){var h,c,d=[],u=e.split("\/"),p=u.length;for(c=0;p>c;c++)h=u[c],".."===h?d.pop():""!==h&&"."!==h&&d.push(h);""===u[p-1]&&d.push(""),e="\/"+d.join("\/")}return"abs"!==t||e.match(\/^https?:\\\/\\\/\/i)||(e=a+"\/\/"+n+e),e=e.replace(\/(https?:\\\/\\\/[^:\\\/?#]+):80(\\\/|$)\/i,"$1$2")}function checkFileExt(e,t){return"*"===t||e.match(RegExp(".("+t.replace(\/,\/g,"|")+")$","i"))?!0:(alert(getLang("upload.extLimit",t)),!1)}function formatBytes(e){var t=["Byte","KB","MB","GB","TB","PB"],i=Math.floor(Math.log(e)\/Math.log(1024));return(e\/Math.pow(1024,Math.floor(i))).toFixed(2)+t[i]}function returnFalse(){return!1}var _this=this,_text=textarea,_jText=$(_text),_jForm=_jText.closest("form"),_jTools,_jArea,_win,_jWin,_doc,_jDoc,bookmark,bInit=!1,bSource=!1,bFullscreen=!1,bCleanPaste=!1,outerScroll,bShowBlocktag=!1,sLayoutStyle="",ev=null,timer,bDisableHoverExec=!1,bQuickHoverExec=!1,lastPoint=null,lastAngle=null,editorHeight=0,settings=_this.settings=$.extend({},XHEDITOR.settings,options),plugins=settings.plugins,strPlugins=[];if(plugins&&(arrTools=$.extend({},arrTools,plugins),$.each(plugins,function(e){strPlugins.push(e)}),strPlugins=strPlugins.join(",")),settings.tools.match(\/^\\s*(m?full|simple|mini)\\s*$\/i)){var toolsTheme=toolsThemes[$.trim(settings.tools)];settings.tools=settings.tools.match(\/m?full\/i)&&plugins?toolsTheme.replace("Table","Table,"+strPlugins):toolsTheme}settings.tools.match(\/(^|,)\\s*About\\s*(,|$)\/i)||(settings.tools+=",About"),settings.tools=settings.tools.split(","),settings.editorRoot&&(editorRoot=settings.editorRoot),bAir===!1&&(editorRoot=getLocalUrl(editorRoot,"abs")),settings.urlBase&&(settings.urlBase=getLocalUrl(settings.urlBase,"abs"));var idCSS="xheCSS_"+settings.skin,idContainer="xhe"+xCount+"_container",idTools="xhe"+xCount+"_Tool",idIframeArea="xhe"+xCount+"_iframearea",idIframe="xhe"+xCount+"_iframe",idFixFFCursor="xhe"+xCount+"_fixffcursor",headHTML="",bodyClass="",skinPath=editorRoot+"xheditor_skin\/"+settings.skin+"\/",arrEmots=itemEmots,urlType=settings.urlType,urlBase=settings.urlBase,emotPath=settings.emotPath,emotPath=emotPath?emotPath:editorRoot+"xheditor_emot\/",selEmotGroup="";arrEmots=$.extend({},arrEmots,settings.emots),emotPath=getLocalUrl(emotPath,"rel",urlBase?urlBase:null),bShowBlocktag=settings.showBlocktag,bShowBlocktag&&(bodyClass+=" showBlocktag");var arrShortCuts=[];this.init=function(){function e(e){var t,i=$(e.target);(t=i.css("width"))&&i.css("width","").attr("width",t.replace(\/[^0-9%]+\/g,"")),(t=i.css("height"))&&i.css("height","").attr("height",t.replace(\/[^0-9%]+\/g,""))}0===$("#"+idCSS).length&&$("head").append('<link id="'+idCSS+'" rel="stylesheet" type="text\/css" href="'+skinPath+'ui.css" \/>');var t=_jText.outerWidth(),i=_jText.outerHeight(),s=settings.width||_text.style.width||(t>10?t:0);editorHeight=settings.height||_text.style.height||(i>10?i:150),\/^\\d+(?:\\.\\d+)?$\/.test(s)&&(s+="px"),is(editorHeight,"string")&&(editorHeight=editorHeight.replace(\/[^\\d]+\/g,""));var a,n,o=settings.background||_text.style.background,l=['<span class="xheGStart"\/>'],r=\/\\||\\\/\/i;$.each(settings.tools,function(e,t){if(t.match(r)&&l.push('<span class="xheGEnd"\/>'),"|"===t)l.push('<span class="xheSeparator"\/>');else if("\/"===t)l.push("<br \/>");else{if(a=arrTools[t],!a)return;n=a.c?a.c:"xheIcon xheBtn"+t,l.push('<span><a href="#" title="{#'+a.t+'}" cmd="'+t+'" class="xheButton xheEnabled" tabindex="-1" role="button"><span class="'+n+'" unselectable="on" style="font-size:0;color:transparent;text-indent:-999px;">'+a.t+"<\/span><\/a><\/span>"),a.s&&_this.addShortcuts(a.s,t)}t.match(r)&&l.push('<span class="xheGStart"\/>')}),l.push('<span class="xheGEnd"\/><br \/>'),_jText.after($('<input type="text" id="'+idFixFFCursor+'" style="position:absolute;display:none;" \/><span id="'+idContainer+'" class="xhe_'+settings.skin+'" style="display:none"><table cellspacing="0" cellpadding="0" class="xheLayout" style="'+("0px"!=s?"width:"+s+";":"")+"height:"+editorHeight+'px;" role="presentation"><tr><td id="'+idTools+'" class="xheTool" unselectable="on" style="height:1px;" role="presentation"><\/td><\/tr><tr><td id="'+idIframeArea+'" class="xheIframeArea" role="presentation"><iframe frameborder="0" id="'+idIframe+'" src="javascript:;" style="width:100%;"><\/iframe><\/td><\/tr><\/table><\/span>')),_jTools=$("#"+idTools),_jArea=$("#"+idIframeArea),headHTML='<meta http-equiv="Content-Type" content="text\/html; charset=utf-8" \/><link rel="stylesheet" href="'+skinPath+'iframe.css"\/>';var h=settings.loadCSS;if(h)if(is(h,"array"))for(var c in h)headHTML+='<link rel="stylesheet" href="'+h[c]+'"\/>';else headHTML+=h.match(\/\\s*<style(\\s+[^>]*?)?>[\\s\\S]+?<\\\/style>\\s*\/i)?h:'<link rel="stylesheet" href="'+h+'"\/>';var d='<!DOCTYPE html><html xmlns="http:\/\/www.w3.org\/1999\/xhtml"><head>'+headHTML+"<title>{#defaultReadTip} "+(settings.readTip?settings.readTip:"")+"<\/title>";o&&(d+="<style>html{background:"+o+";}<\/style>"),d+='<\/head><body spellcheck="0" class="editMode'+bodyClass+'"><\/body><\/html>',_this.win=_win=$("#"+idIframe)[0].contentWindow,_jWin=$(_win);try{this.doc=_doc=_win.document,_jDoc=$(_doc),_doc.open(),_doc.write(getLang(d)),_doc.close(),isIE?_doc.body.contentEditable="true":_doc.designMode="On"}catch(u){}setTimeout(setOpts,300),_this.setSource(),_win.setInterval=null,_jTools.append(getLang(l.join(""))).bind("mousedown contextmenu",returnFalse).click(function(e){var t=$(e.target).closest("a");return t.is(".xheEnabled")&&(clearTimeout(timer),_jTools.find("a").attr("tabindex","-1"),ev=e,_this.exec(t.attr("cmd"))),!1}),_jTools.find(".xheButton").hover(function(e){var t=$(this),i=settings.hoverExecDelay,s=lastAngle;if(lastAngle=null,-1===i||bDisableHoverExec||!t.is(".xheEnabled"))return!1;if(s&&s>10)return bDisableHoverExec=!0,setTimeout(function(){bDisableHoverExec=!1},100),!1;var a=t.attr("cmd"),n=1===arrTools[a].h;return n?(bQuickHoverExec&&(i=0),i>=0&&(timer=setTimeout(function(){ev=e,lastPoint={x:ev.clientX,y:ev.clientY},_this.exec(a)},i)),undefined):(_this.hidePanel(),!1)},function(){lastPoint=null,timer&&clearTimeout(timer)}).mousemove(function(e){if(lastPoint){var t={x:e.clientX-lastPoint.x,y:e.clientY-lastPoint.y};if(Math.abs(t.x)>1||Math.abs(t.y)>1){if(t.x>0&&t.y>0){var i=Math.round(Math.atan(t.y\/t.x)\/.017453293);lastAngle=lastAngle?(lastAngle+i)\/2:i}else lastAngle=null;lastPoint={x:e.clientX,y:e.clientY}}}}),_jPanel=$("#xhePanel"),_jShadow=$("#xheShadow"),_jCntLine=$("#xheCntLine"),0===_jPanel.length&&(_jPanel=$('<div id="xhePanel"><\/div>').mousedown(function(e){e.stopPropagation()}),_jShadow=$('<div id="xheShadow"><\/div>'),_jCntLine=$('<div id="xheCntLine"><\/div>'),setTimeout(function(){$(document.body).append(_jPanel).append(_jShadow).append(_jCntLine)},10)),$("#"+idContainer).show(),_jText.hide(),_jArea.css("height",editorHeight-_jTools.outerHeight()),isIE&8>browerVer&&setTimeout(function(){_jArea.css("height",editorHeight-_jTools.outerHeight())},1),_jText.focus(_this.focus),_jForm.submit(saveResult).bind("reset",loadReset),settings.submitID&&$("#"+settings.submitID).mousedown(saveResult),$(window).bind("unload beforeunload",saveResult).bind("resize",fixFullHeight),$(document).mousedown(clickCancelPanel),bCheckEscInit||($(document).keydown(checkEsc),bCheckEscInit=!0),_jWin.focus(function(){settings.focus&&settings.focus()}).blur(function(){settings.blur&&settings.blur()}),isWebkit&&_jWin.click(fixAppleSel),_jDoc.mousedown(clickCancelPanel).keydown(checkShortcuts).keypress(forcePtag).dblclick(checkDblClick).bind("mousedown click",function(e){_jText.trigger(e.type)}),isIE&&(_jDoc.keydown(function(e){var t=_this.getRng();return 8===e.which&&t.item?($(t.item(0)).remove(),!1):undefined}),_jDoc.bind("controlselect",function(t){t=t.target,$.nodeName(t,"IMG")&&$(t).unbind("resizeend",e).bind("resizeend",e)})),_jDoc.keydown(function(e){var t=e.which;return e.altKey&&t>=49&&57>=t?(_jTools.find("a").attr("tabindex","0"),_jTools.find(".xheGStart").eq(t-49).next().find("a").focus(),_doc.title="\\ufeff\\ufeff",!1):undefined}).click(function(){_jTools.find("a").attr("tabindex","-1")}),_jTools.keydown(function(e){var t=e.which;if(27==t)_jTools.find("a").attr("tabindex","-1"),_this.focus();else if(e.altKey&&t>=49&&57>=t)return _jTools.find(".xheGStart").eq(t-49).next().find("a").focus(),!1});var p=$(_doc.documentElement);isOpera?p.bind("keydown",function(e){e.ctrlKey&&86===e.which&&cleanPaste()}):p.bind(isIE?"beforepaste":"paste",cleanPaste),settings.disableContextmenu&&p.bind("contextmenu",returnFalse),settings.html5Upload&&p.bind("dragenter dragover",function(e){var t;return(t=e.originalEvent.dataTransfer.types)&&-1!==$.inArray("Files",t)?!1:undefined}).bind("drop",function(e){function t(e){var t,i,s;for(a=0;e.length>a;a++){if(i=e[a].name.replace(\/.+\\.\/,""),!(t=o.match(RegExp("(\\\\w+):[^:]*,"+i+"(?:,|$)","i"))))return 1;if(s){if(s!==t[1])return 2}else s=t[1]}return s}var i,s=e.originalEvent.dataTransfer;if(s&&(i=s.files)&&i.length>0){var a,n,o,l=["Link","Img","Flash","Media"],r=[];for(a in l)n=l[a],settings["up"+n+"Url"]&&settings["up"+n+"Url"].match(\/^[^!].*\/i)&&r.push(n+":,"+settings["up"+n+"Ext"]);return 0===r.length?!1:(o=r.join(","),n=t(i),1===n?alert(getLang("upload.extLimit",o.replace(\/\\w+:,\/g,""))):2===n?alert(getLang("upload.typeLimit")):n&&_this.startUpload(i,settings["up"+n+"Url"],"*",function(e){var t,i=[],s=settings.onUpload;s&&s(e);for(var a=0,o=e.length;o>a;a++)t=e[a],url=is(t,"string")?t:t.url,"!"===url.substr(0,1)&&(url=url.substr(1)),i.push(url);_this.exec(n),$("#xhe"+n+"Url").val(i.join(" ")),$("#xheSave").click()}),!1)}});var g=settings.shortcuts;g&&$.each(g,function(e,t){_this.addShortcuts(e,t)}),xCount++,bInit=!0,settings.fullscreen?_this.toggleFullscreen():settings.sourceMode&&setTimeout(_this.toggleSource,20);var f=settings.plugins;return f&&$.each(f,function(e,t){var i=t.i;i!==undefined&&i(_this)}),!0},this.remove=function(){_this.hidePanel(),saveResult(),_jText.unbind("focus",_this.focus),_jForm.unbind("submit",saveResult).unbind("reset",loadReset),settings.submitID&&$("#"+settings.submitID).unbind("mousedown",saveResult),$(window).unbind("unload beforeunload",saveResult).unbind("resize",fixFullHeight),$(document).unbind("mousedown",clickCancelPanel),$("#"+idContainer).remove(),$("#"+idFixFFCursor).remove(),_jText.show(),bInit=!1},this.saveBookmark=function(){if(!bSource){_this.focus();var e=_this.getRng();e=e.cloneRange?e.cloneRange():e,bookmark={top:_jWin.scrollTop(),rng:e}}},this.loadBookmark=function(){if(!bSource&&bookmark){_this.focus();var e=bookmark.rng;if(isIE)e.select();else{var t=_this.getSel();t.removeAllRanges(),t.addRange(e)}_jWin.scrollTop(bookmark.top),bookmark=null}},this.focus=function(){if(bSource?$("#sourceCode",_doc).focus():_win.focus(),isIE){var e=_this.getRng();e.parentElement&&e.parentElement().ownerDocument!==_doc&&_this.setTextCursor()}return!1},this.setTextCursor=function(e){var t=_this.getRng(!0),i=_doc.body;if(isIE)t.moveToElementText(i);else{for(var s=e?"lastChild":"firstChild";3!=i.nodeType&&i[s];)i=i[s];t.selectNode(i)}if(t.collapse(e?!1:!0),isIE)t.select();else{var a=_this.getSel();a.removeAllRanges(),a.addRange(t)}},this.getSel=function(){return _doc.selection?_doc.selection:_win.getSelection()},this.getRng=function(e){var t,i;try{e||(t=_this.getSel(),i=t.createRange?t.createRange():t.rangeCount>0?t.getRangeAt(0):null),i||(i=_doc.body.createTextRange?_doc.body.createTextRange():_doc.createRange())}catch(s){}return i},this.getParent=function(e){var t,i=_this.getRng();return isIE?t=i.item?i.item(0):i.parentElement():(t=i.commonAncestorContainer,i.collapsed||i.startContainer===i.endContainer&&2>i.startOffset-i.endOffset&&i.startContainer.hasChildNodes()&&(t=i.startContainer.childNodes[i.startOffset])),e=e?e:"*",t=$(t),t.is(e)||(t=$(t).closest(e)),t},this.getSelect=function(e){var t=_this.getSel(),i=_this.getRng(),s=!0;if(s=!i||i.item?!1:!t||0===i.boundingWidth||i.collapsed,"text"===e)return s?"":i.text||(t.toString?""+t:"");var a;if(i.cloneContents){var n,o=$("<div><\/div>");n=i.cloneContents(),n&&o.append(n),a=o.html()}else a=is(i.item)?i.item(0).outerHTML:is(i.htmlText)?i.htmlText:""+i;return s&&(a=""),a=_this.processHTML(a,"read"),a=_this.cleanHTML(a),a=_this.formatXHTML(a)},this.pasteHTML=function(e,t){if(bSource)return!1;_this.focus(),e=_this.processHTML(e,"write");var i=_this.getSel(),s=_this.getRng();if(t!==undefined){if(s.item){var a=s.item(0);s=_this.getRng(!0),s.moveToElementText(a),s.select()}s.collapse(t)}if(e+="<"+(isIE?"img":"span")+' id="_xhe_temp" width="0" height="0" \/>',s.insertNode){if($(s.startContainer).closest("style,script").length>0)return!1;s.deleteContents(),s.insertNode(s.createContextualFragment(e))}else"control"===i.type.toLowerCase()&&(i.clear(),s=_this.getRng()),s.pasteHTML(e);var n=$("#_xhe_temp",_doc),o=n[0];isIE?(s.moveToElementText(o),s.select()):(s.selectNode(o),i.removeAllRanges(),i.addRange(s)),n.remove()},this.pasteText=function(e,t){e||(e=""),e=_this.domEncode(e),e=e.replace(\/\\r?\\n\/g,"<br \/>"),_this.pasteHTML(e,t)},this.appendHTML=function(e){return bSource?!1:(_this.focus(),e=_this.processHTML(e,"write"),$(_doc.body).append(e),_this.setTextCursor(!0),undefined)},this.domEncode=function(e){return e.replace(regEntities,function(e){return arrEntities[e]})},this.setSource=function(e){bookmark=null,"string"!=typeof e&&""!==e&&(e=_text.value),bSource?$("#sourceCode",_doc).val(e):(settings.beforeSetSource&&(e=settings.beforeSetSource(e)),e=_this.cleanHTML(e),e=_this.formatXHTML(e),e=_this.processHTML(e,"write"),isIE?(_doc.body.innerHTML='<img id="_xhe_temp" width="0" height="0" \/>'+e,$("#_xhe_temp",_doc).remove()):_doc.body.innerHTML=e)},this.processHTML=function(e,t){function i(e,t,i,s,a,o){var l,r,h,c,d="";if(l=s.match(\/font-family\\s*:\\s*([^;"]+)\/i),l&&(d+=' face="'+l[1]+'"'),r=s.match(\/font-size\\s*:\\s*([^;"]+)\/i)){r=r[1].toLowerCase();for(var u=0;n.length>u;u++)if(r===n[u].n||r===n[u].s){h=u+1;break}h&&(d+=' size="'+h+'"',s=s.replace(\/(^|;)(\\s*font-size\\s*:\\s*[^;"]+;?)+\/gi,"$1"))}if(c=s.match(\/(?:^|[\\s;])color\\s*:\\s*([^;"]+)\/i)){var p;if(p=c[1].match(\/\\s*rgb\\s*\\(\\s*(\\d+)\\s*,\\s*(\\d+)\\s*,\\s*(\\d+)\\s*\\)\/i)){c[1]="#";for(var g=1;3>=g;g++)c[1]+=("0"+(p[g]-0).toString(16)).slice(-2)}c[1]=c[1].replace(\/^#([0-9a-f])([0-9a-f])([0-9a-f])$\/i,"#$1$1$2$2$3$3"),d+=' color="'+c[1]+'"'}return s=s.replace(\/(^|;)(\\s*(font-family|color)\\s*:\\s*[^;"]+;?)+\/gi,"$1"),""!==d?(s&&(d+=' style="'+s+'"'),"<font"+(i?i:"")+d+(a?a:"")+">"+o+"<\/font>"):e}function s(e,t,i,s,a){for(var n,l,r=(i?i:"")+(s?s:""),h=[],c=[],d=0;o.length>d;d++)n=o[d].r,l=o[d].t,r=r.replace(n,function(){return h.push("<"+l+">"),c.push("<\/"+l+">"),""});return r=r.replace(\/\\s+style\\s*=\\s*"\\s*"\/i,""),(r?"<span"+r+">":"")+h.join("")+a+c.join("")+(r?"<\/span>":"")}var a=' class="Apple-style-span"',n=settings.listFontsize;if("write"===t)e=e.replace(\/(<(\\\/?)(\\w+))((?:\\s+[\\w\\-:]+\\s*=\\s*(?:"[^"]*"|'[^']*'|[^>\\s]+))*)\\s*((\\\/?)>)\/g,function(e,t,i,s,n,o,l){s=s.toLowerCase(),isMozilla?"strong"===s?s="b":"em"===s&&(s="i"):isWebkit&&("strong"===s?(s="span",i||(n+=a+' style="font-weight: bold;"')):"em"===s?(s="span",i||(n+=a+' style="font-style: italic;"')):"u"===s?(s="span",i||(n+=a+' style="text-decoration: underline;"')):"strike"===s&&(s="span",i||(n+=a+' style="text-decoration: line-through;"')));var r,h="";if("del"===s)s="strike";else if("img"===s)n=n.replace(\/\\s+emot\\s*=\\s*("[^"]*"|'[^']*'|[^>\\s]+)\/i,function(e,t){return r=t.match(\/^(["']?)(.*)\\1\/)[2],r=r.split(","),r[1]||(r[1]=r[0],r[0]=""),"default"===r[0]&&(r[0]=""),settings.emotMark?e:""});else if("a"===s)!n.match(\/ href=[^ ]\/i)&&n.match(\/ name=[^ ]\/i)&&(h+=" xhe-anchor"),l&&(o="><\/a>");else if("table"===s&&!i){var c=n.match(\/\\s+border\\s*=\\s*("[^"]*"|'[^']*'|[^>\\s]+)\/i);(!c||c[1].match(\/^(["']?)\\s*0\\s*\\1$\/))&&(h+=" xhe-border")}var d;if(n=n.replace(\/\\s+([\\w\\-:]+)\\s*=\\s*("[^"]*"|'[^']*'|[^>\\s]+)\/g,function(e,t,i){return t=t.toLowerCase(),i=i.match(\/^(["']?)(.*)\\1\/)[2],aft="",isIE&&t.match(\/^(disabled|checked|readonly|selected)$\/)&&i.match(\/^(false|0)$\/i)?"":"img"===s&&r&&"src"===t?"":(t.match(\/^(src|href)$\/)&&(aft=" _xhe_"+t+'="'+i+'"',urlBase&&(i=getLocalUrl(i,"abs",urlBase))),h&&"class"===t&&(i+=" "+h,h=""),isWebkit&&"style"===t&&"span"===s&&i.match(\/(^|;)\\s*(font-family|font-size|color|background-color)\\s*:\\s*[^;]+\\s*(;|$)\/i)&&(d=!0)," "+t+'="'+i+'"'+aft)}),r){var u=emotPath+(r[0]?r[0]:"default")+"\/"+r[1]+".gif";n+=' src="'+u+'" _xhe_src="'+u+'"'}return d&&(n+=a),h&&(n+=' class="'+h+'"'),"<"+i+s+n+o}),isIE&&(e=e.replace(\/&apos;\/gi,"&#39;")),isWebkit||(e=e.replace(\/<(span)(\\s+[^>]*?)?\\s+style\\s*=\\s*"((?:[^"]*?;)?\\s*(?:font-family|font-size|color)\\s*:[^"]*)"( [^>]*)?>(((?!<\\1(\\s+[^>]*?)?>)[\\s\\S]|<\\1(\\s+[^>]*?)?>((?!<\\1(\\s+[^>]*?)?>)[\\s\\S]|<\\1(\\s+[^>]*?)?>((?!<\\1(\\s+[^>]*?)?>)[\\s\\S])*?<\\\/\\1>)*?<\\\/\\1>)*?)<\\\/\\1>\/gi,i),e=e.replace(\/<(span)(\\s+[^>]*?)?\\s+style\\s*=\\s*"((?:[^"]*?;)?\\s*(?:font-family|font-size|color)\\s*:[^"]*)"( [^>]*)?>(((?!<\\1(\\s+[^>]*?)?>)[\\s\\S]|<\\1(\\s+[^>]*?)?>((?!<\\1(\\s+[^>]*?)?>)[\\s\\S])*?<\\\/\\1>)*?)<\\\/\\1>\/gi,i),e=e.replace(\/<(span)(\\s+[^>]*?)?\\s+style\\s*=\\s*"((?:[^"]*?;)?\\s*(?:font-family|font-size|color)\\s*:[^"]*)"( [^>]*)?>(((?!<\\1(\\s+[^>]*?)?>)[\\s\\S])*?)<\\\/\\1>\/gi,i)),e=e.replace(\/<(td|th)(\\s+[^>]*?)?>(\\s|&nbsp;)*<\\\/\\1>\/gi,"<$1$2>"+(isIE?"":"<br \/>")+"<\/$1>");else{if(isWebkit)for(var o=[{r:\/font-weight\\s*:\\s*bold;?\/gi,t:"strong"},{r:\/font-style\\s*:\\s*italic;?\/gi,t:"em"},{r:\/text-decoration\\s*:\\s*underline;?\/gi,t:"u"},{r:\/text-decoration\\s*:\\s*line-through;?\/gi,t:"strike"}],l=0;2>l;l++)e=e.replace(\/<(span)(\\s+[^>]*?)?\\s+class\\s*=\\s*"Apple-style-span"(\\s+[^>]*?)?>(((?!<\\1(\\s+[^>]*?)?>)[\\s\\S]|<\\1(\\s+[^>]*?)?>((?!<\\1(\\s+[^>]*?)?>)[\\s\\S]|<\\1(\\s+[^>]*?)?>((?!<\\1(\\s+[^>]*?)?>)[\\s\\S])*?<\\\/\\1>)*?<\\\/\\1>)*?)<\\\/\\1>\/gi,s),e=e.replace(\/<(span)(\\s+[^>]*?)?\\s+class\\s*=\\s*"Apple-style-span"(\\s+[^>]*?)?>(((?!<\\1(\\s+[^>]*?)?>)[\\s\\S]|<\\1(\\s+[^>]*?)?>((?!<\\1(\\s+[^>]*?)?>)[\\s\\S])*?<\\\/\\1>)*?)<\\\/\\1>\/gi,s),e=e.replace(\/<(span)(\\s+[^>]*?)?\\s+class\\s*=\\s*"Apple-style-span"(\\s+[^>]*?)?>(((?!<\\1(\\s+[^>]*?)?>)[\\s\\S])*?)<\\\/\\1>\/gi,s);e=e.replace(\/(<(\\w+))((?:\\s+[\\w\\-:]+\\s*=\\s*(?:"[^"]*"|'[^']*'|[^>\\s]+))*)\\s*(\\\/?>)\/g,function(e,t,i,s,a){i=i.toLowerCase();$/;"	p
var.specialKeys.39	js/xheditor.min.js	/^(function(){var e={};window.XHEDITOR=e})(),function(e,t){e.mapLang={},e.setLang=function(i,s){s===t&&(s=i,i=""),""!==i&&(i+=".");var a,n;for(var o in s)n=s[o],a=i+o,"string"==typeof n||n instanceof Array?e.mapLang[a]=n:e.setLang(a,n)},e.getLang=function(i){var s=e.mapLang[i];if(s===t&&(s=i.replace(\/{#([^{}]+)}\/g,function(t,i){var s=e.mapLang[i];return s?s:i})),"string"==typeof s){var a=arguments;s=s.replace(\/{\\$(\\d+)}\/g,function(e,i){var s=a[parseInt(i,10)+1];return s!==t?s:e})}return s}}(XHEDITOR),function(XHEDITOR,$,undefined){var agent=navigator.userAgent.toLowerCase(),bMobile=\/mobile\/i.test(agent),browser=$.browser,browerVer=parseFloat(browser.version),isIE=browser.msie,isMozilla=browser.mozilla,isWebkit=browser.webkit,isOpera=browser.opera,isChrome=browser.chrome,bAir=agent.indexOf(" adobeair\/")>-1,xCount=0,bShowPanel=!1,bClickCancel=!0,bShowModal=!1,bCheckEscInit=!1,_jPanel,_jShadow,_jCntLine,_jPanelButton,jModal,jModalShadow,layerShadow,jOverlay,jHideSelect,onModalRemove,editorRoot,getLang=XHEDITOR.getLang;if($("script[src*=xheditor]").each(function(){var e=this.src;return e.match(\/xheditor[^\\\/]*\\.js\/i)?(editorRoot=e.replace(\/[\\?#].*$\/,"").replace(\/(^|[\\\/\\\\])[^\\\/]*$\/,"$1"),!1):undefined}),isIE){try{document.execCommand("BackgroundImageCache",!1,!0)}catch(e){}var jqueryVer=$.fn.jquery;jqueryVer&&jqueryVer.match(\/^1\\.[67]\/)&&($.attrHooks.width=$.attrHooks.height=null)}var specialKeys={27:"esc",9:"tab",32:"space",13:"enter",8:"backspace",145:"scroll",20:"capslock",144:"numlock",19:"pause",45:"insert",36:"home",46:"del",35:"end",33:"pageup",34:"pagedown",37:"left",38:"up",39:"right",40:"down",112:"f1",113:"f2",114:"f3",115:"f4",116:"f5",117:"f6",118:"f7",119:"f8",120:"f9",121:"f10",122:"f11",123:"f12"},arrAlign=[{v:"justifyleft"},{v:"justifycenter"},{v:"justifyright"},{v:"justifyfull"}],arrList=[{v:"insertOrderedList"},{v:"insertUnorderedList"}],htmlPastetext='<div><label for="xhePastetextValue">{#PastetextTip}<\/label><\/div><div><textarea id="xhePastetextValue" wrap="soft" spellcheck="false" style="width:300px;height:100px;" \/><\/div><div style="text-align:right;"><input type="button" id="xheSave" value="{#dialogOk}" \/><\/div>',htmlLink='<div><label for="xheLinkUrl">{#link.url}<\/label><input type="text" id="xheLinkUrl" value="http:\/\/" class="xheText" \/><\/div><div><label for="xheLinkTarget">{#link.target}<\/label><select id="xheLinkTarget"><option selected="selected" value="">{#default}<\/option><option value="_blank">{#link.targetBlank}<\/option><option value="_self">{#link.targetSelf}<\/option><option value="_parent">{#link.targetParent}<\/option><\/select><\/div><div style="display:none"><label for="xheLinkText">{#link.linkText}<\/label><input type="text" id="xheLinkText" value="" class="xheText" \/><\/div><div style="text-align:right;"><input type="button" id="xheSave" value="{#dialogOk}" \/><\/div>',htmlAnchor='<div><label for="xheAnchorName">{#anchor.name}<\/label><input type="text" id="xheAnchorName" value="" class="xheText" \/><\/div><div style="text-align:right;"><input type="button" id="xheSave" value="{#dialogOk}" \/><\/div>',htmlImg='<div><label for="xheImgUrl">{#img.url}<\/label><input type="text" id="xheImgUrl" value="http:\/\/" class="xheText" \/><\/div><div><div><label for="xheImgAlt">{#img.alt}<\/label><input type="text" id="xheImgAlt" \/><\/div><div><label for="xheImgAlign">{#img.align}<\/label><select id="xheImgAlign"><option selected="selected" value="">{#default}<\/option><option value="left">{#img.alignLeft}<\/option><option value="right">{#img.alignRight}<\/option><option value="top">{#img.alignTop}<\/option><option value="middle">{#img.alignMiddle}<\/option><option value="baseline">{#img.alignBaseline}<\/option><option value="bottom">{#img.alignBottom}<\/option><\/select><\/div><div><label for="xheImgWidth">{#img.width}<\/label><input type="text" id="xheImgWidth" style="width:40px;" \/> <label for="xheImgHeight">{#img.height}<\/label><input type="text" id="xheImgHeight" style="width:40px;" \/><\/div><div><label for="xheImgBorder">{#img.border}<\/label><input type="text" id="xheImgBorder" style="width:40px;" \/><\/div><div><label for="xheImgHspace">{#img.hspace}<\/label><input type="text" id="xheImgHspace" style="width:40px;" \/> <label for="xheImgVspace">{#img.vspace}<\/label><input type="text" id="xheImgVspace" style="width:40px;" \/><\/div><div style="text-align:right;"><input type="button" id="xheSave" value="{#dialogOk}" \/><\/div>',htmlFlash='<div><label for="xheFlashUrl">{#flash.url}<\/label><input type="text" id="xheFlashUrl" value="http:\/\/" class="xheText" \/><\/div><div><label for="xheFlashWidth">{#flash.width}<\/label><input type="text" id="xheFlashWidth" style="width:40px;" value="480" \/> <label for="xheFlashHeight">{#flash.height}<\/label><input type="text" id="xheFlashHeight" style="width:40px;" value="400" \/><\/div><div style="text-align:right;"><input type="button" id="xheSave" value="{#dialogOk}" \/><\/div>',htmlMedia='<div><label for="xheMediaUrl">{#media.url}<\/label><input type="text" id="xheMediaUrl" value="http:\/\/" class="xheText" \/><\/div><div><label for="xheMediaWidth">{#media.width}<\/label><input type="text" id="xheMediaWidth" style="width:40px;" value="480" \/> <label for="xheMediaHeight">{#media.height}<\/label><input type="text" id="xheMediaHeight" style="width:40px;" value="400" \/><\/div><div style="text-align:right;"><input type="button" id="xheSave" value="{#dialogOk}" \/><\/div>',htmlTable='<div><label for="xheTableRows">{#table.rows}<\/label><input type="text" id="xheTableRows" style="width:40px;" value="3" \/> <label for="xheTableColumns">{#table.columns}<\/label><input type="text" id="xheTableColumns" style="width:40px;" value="2" \/><\/div><div><label for="xheTableHeaders">{#table.headers}<\/label><select id="xheTableHeaders"><option selected="selected" value="">{#none}<\/option><option value="row">{#table.headersRow}<\/option><option value="col">{#table.headersCol}<\/option><option value="both">{#table.headersBoth}<\/option><\/select><\/div><div><label for="xheTableWidth">{#table.width}<\/label><input type="text" id="xheTableWidth" style="width:40px;" value="200" \/> <label for="xheTableHeight">{#table.height}<\/label><input type="text" id="xheTableHeight" style="width:40px;" value="" \/><\/div><div><label for="xheTableBorder">{#table.border}<\/label><input type="text" id="xheTableBorder" style="width:40px;" value="1" \/><\/div><div><label for="xheTableCellSpacing">{#table.cellSpacing}<\/label><input type="text" id="xheTableCellSpacing" style="width:40px;" value="1" \/> <label for="xheTableCellPadding">{#table.cellPadding}<\/label><input type="text" id="xheTableCellPadding" style="width:40px;" value="1" \/><\/div><div><label for="xheTableAlign">{#table.align}<\/label><select id="xheTableAlign"><option selected="selected" value="">{#default}<\/option><option value="left">{#table.alignLeft}<\/option><option value="center">{#table.alignCenter}<\/option><option value="right">{#table.alignRight}<\/option><\/select><\/div><div><label for="xheTableCaption">{#table.caption}<\/label><input type="text" id="xheTableCaption" \/><\/div><div style="text-align:right;"><input type="button" id="xheSave" value="{#dialogOk}" \/><\/div>',htmlAbout='<div style="font:12px Arial;width:245px;word-wrap:break-word;word-break:break-all;outline:none;" role="dialog" tabindex="-1"><p><span style="font-size:20px;color:#1997DF;">xhEditor<\/span><br \/>v1.2.1 (build 130225)<\/p><p>{#aboutXheditor}<\/p><p>Copyright &copy; <a href="http:\/\/xheditor.com\/" target="_blank">xhEditor.com<\/a>. All rights reserved.<\/p><\/div>',itemEmots={"default":{name:"{#default}",width:24,height:24,line:7,list:["smile","tongue","titter","laugh","sad","wronged","fastcry","cry","wail","mad","knock","curse","crazy","angry","ohmy","awkward","panic","shy","cute","envy","proud","struggle","quiet","shutup","doubt","despise","sleep","bye"]}},arrTools={Cut:{t:"Cut"},Copy:{t:"Copy"},Paste:{t:"Paste"},Pastetext:{t:"Pastetext",h:isIE?0:1},Blocktag:{t:"Blocktag",h:1},Fontface:{t:"Fontface",h:1},FontSize:{t:"FontSize",h:1},Bold:{t:"Bold",s:"Ctrl+B"},Italic:{t:"Italic",s:"Ctrl+I"},Underline:{t:"Underline",s:"Ctrl+U"},Strikethrough:{t:"Strikethrough"},FontColor:{t:"FontColor",h:1},BackColor:{t:"BackColor",h:1},SelectAll:{t:"SelectAll"},Removeformat:{t:"Removeformat"},Align:{t:"Align",h:1},List:{t:"List",h:1},Outdent:{t:"Outdent"},Indent:{t:"Indent"},Link:{t:"Link",s:"Ctrl+L",h:1},Unlink:{t:"Unlink"},Anchor:{t:"Anchor",h:1},Img:{t:"Img",h:1},Flash:{t:"Flash",h:1},Media:{t:"Media",h:1},Hr:{t:"Hr"},Emot:{t:"Emot",s:"ctrl+e",h:1},Table:{t:"Table",h:1},Source:{t:"Source"},Preview:{t:"Preview"},Print:{t:"Print",s:"Ctrl+P"},Fullscreen:{t:"Fullscreen",s:"Esc"},About:{t:"About"}},toolsThemes={mini:"Bold,Italic,Underline,Strikethrough,|,Align,List,|,Link,Img",simple:"Blocktag,Fontface,FontSize,Bold,Italic,Underline,Strikethrough,FontColor,BackColor,|,Align,List,Outdent,Indent,|,Link,Img,Emot",full:"Cut,Copy,Paste,Pastetext,|,Blocktag,Fontface,FontSize,Bold,Italic,Underline,Strikethrough,FontColor,BackColor,SelectAll,Removeformat,|,Align,List,Outdent,Indent,|,Link,Unlink,Anchor,Img,Flash,Media,Hr,Emot,Table,|,Source,Preview,Print,Fullscreen"};toolsThemes.mfull=toolsThemes.full.replace(\/\\|(,Align)\/i,"\/$1");var arrDbClick={a:"Link",img:"Img",embed:"Embed"},uploadInputname="filedata",arrEntities={"<":"&lt;",">":"&gt;",'"':"&quot;","\\u00ae":"&reg;","\\u00a9":"&copy;"},regEntities=\/[<>"\\u00ae\\u00a9]\/g,Xheditor=function(textarea,options){function checkDblClick(e){var t=e.target,i=arrDbClick[t.tagName.toLowerCase()];if(i){if("Embed"===i){var s={"application\/x-shockwave-flash":"Flash","application\/x-mplayer2":"Media"};i=s[t.type.toLowerCase()]}_this.exec(i)}}function checkEsc(e){return 27===e.which?(bShowModal?_this.removeModal():bShowPanel&&_this.hidePanel(),!1):undefined}function loadReset(){setTimeout(_this.setSource,10)}function saveResult(){_this.getSource()}function cleanPaste(e){var t,i,s;if(e&&(t=e.originalEvent.clipboardData)&&(i=t.items)&&(s=i[0])&&"file"==s.kind&&s.type.match(\/^image\\\/\/i)){var a=s.getAsFile(),n=new FileReader;return n.onload=function(){var e='<img src="'+event.target.result+'">';e=replaceRemoteImg(e),_this.pasteHTML(e)},n.readAsDataURL(a),!1}var o=settings.cleanPaste;if(0===o||bSource||bCleanPaste)return!0;bCleanPaste=!0,_this.saveBookmark();var l=isIE?"pre":"div",r=$("<"+l+' class="xhe-paste">\\ufeff\\ufeff<\/'+l+">",_doc).appendTo(_doc.body),h=r[0],c=_this.getSel(),d=_this.getRng(!0);r.css("top",_jWin.scrollTop()),isIE?(d.moveToElementText(h),d.select()):(d.selectNodeContents(h),c.removeAllRanges(),c.addRange(d)),setTimeout(function(){var e,t=3===o;if(t)r.html(r.html().replace(\/<br(\\s+[^<>]*)?>\/gi,"\\n")),e=r.text();else{var i=$(".xhe-paste",_doc.body),s=[];i.each(function(e,t){0==$(t).find(".xhe-paste").length&&s.push(t.innerHTML)}),e=s.join("<br \/>")}r.remove(),_this.loadBookmark(),e=e.replace(\/^[\\s\\uFEFF]+|[\\s\\uFEFF]+$\/g,""),e&&(t?_this.pasteText(e):(e=_this.cleanHTML(e),e=_this.cleanWord(e),e=_this.formatXHTML(e),(!settings.onPaste||settings.onPaste&&(e=settings.onPaste(e))!==!1)&&(e=replaceRemoteImg(e),_this.pasteHTML(e)))),bCleanPaste=!1},0)}function replaceRemoteImg(e){var t=settings.localUrlTest,i=settings.remoteImgSaveUrl;if(t&&i){var s=[],a=0;e=e.replace(\/(<img)((?:\\s+[^>]*?)?(?:\\s+src="\\s*([^"]+)\\s*")(?: [^>]*)?)(\\\/?>)\/gi,function(e,i,n,o,l){return!\/^(https?|data:image)\/i.test(o)||\/_xhe_temp\/.test(n)||t.test(o)||(s[a]=o,n=n.replace(\/\\s+(width|height)="[^"]*"\/gi,"").replace(\/\\s+src="[^"]*"\/gi,' src="'+skinPath+'img\/waiting.gif" remoteimg="'+a++ +'"')),i+n+l}),s.length>0&&$.post(i,{urls:s.join("|")},function(e){e=e.split("|"),$("img[remoteimg]",_this.doc).each(function(){var t=$(this);xheAttr(t,"src",e[t.attr("remoteimg")]),t.removeAttr("remoteimg")})})}return e}function setCSS(e){try{_this._exec("styleWithCSS",e,!0)}catch(t){try{_this._exec("useCSS",!e,!0)}catch(t){}}}function setOpts(){if(bInit&&!bSource){setCSS(!1);try{_this._exec("enableObjectResizing",!0,!0)}catch(e){}if(isIE)try{_this._exec("BackgroundImageCache",!0,!0)}catch(e){}}}function forcePtag(e){if(bSource||13!==e.which||e.shiftKey||e.ctrlKey||e.altKey)return!0;var t=_this.getParent("p,h1,h2,h3,h4,h5,h6,pre,address,div,li");return t.is("li")?!0:settings.forcePtag?(0===t.length&&_this._exec("formatblock","<p>"),undefined):(_this.pasteHTML("<br \/>"),isIE&&t.length>0&&2===_this.getRng().parentElement().childNodes.length&&_this.pasteHTML("<br \/>"),!1)}function fixFullHeight(){isMozilla||isWebkit||(bFullscreen&&_jArea.height("100%").css("height",_jArea.outerHeight()-_jTools.outerHeight()),isIE&&_jTools.hide().show())}function fixAppleSel(e){if(e=e.target,e.tagName.match(\/(img|embed)\/i)){var t=_this.getSel(),i=_this.getRng(!0);i.selectNode(e),t.removeAllRanges(),t.addRange(i)}}function xheAttr(e,t,i){if(!t)return!1;var s="_xhe_"+t;return i&&(urlType&&(i=getLocalUrl(i,urlType,urlBase)),e.attr(t,urlBase?getLocalUrl(i,"abs",urlBase):i).removeAttr(s).attr(s,i)),e.attr(s)||e.attr(t)}function clickCancelPanel(){bClickCancel&&_this.hidePanel()}function checkShortcuts(e){if(bSource)return!0;var t=e.which,i=specialKeys[t],s=i?i:String.fromCharCode(t).toLowerCase();sKey="",sKey+=e.ctrlKey?"ctrl+":"",sKey+=e.altKey?"alt+":"",sKey+=e.shiftKey?"shift+":"",sKey+=s;var a,n=arrShortCuts[sKey];for(a in n){if(a=n[a],!$.isFunction(a))return _this.exec(a),!1;if(a.call(_this)===!1)return!1}}function is(e,t){var i=typeof e;return t?"array"===t&&e.hasOwnProperty&&e instanceof Array?!0:i===t:"undefined"!=i}function getLocalUrl(e,t,i){if(e.match(\/^(\\w+):\\\/\\\/\/i)&&!e.match(\/^https?:\/i)||\/^#\/i.test(e)||\/^data:\/i.test(e))return e;var s=i?$('<a href="'+i+'" \/>')[0]:location,a=s.protocol,n=s.host,o=s.hostname,l=s.port,r=s.pathname.replace(\/\\\\\/g,"\/").replace(\/[^\\\/]+$\/i,"");if(""===l&&(l="80"),""===r?r="\/":"\/"!==r.charAt(0)&&(r="\/"+r),e=$.trim(e),"abs"!==t&&(e=e.replace(RegExp(a+"\\\\\/\\\\\/"+o.replace(\/\\.\/g,"\\\\.")+"(?::"+l+")"+("80"===l?"?":"")+"(\/|$)","i"),"\/")),"rel"===t&&(e=e.replace(RegExp("^"+r.replace(\/([\\\/\\.\\+\\[\\]\\(\\)])\/g,"\\\\$1"),"i"),"")),"rel"!==t&&(e.match(\/^(https?:\\\/\\\/|\\\/)\/i)||(e=r+e),"\/"===e.charAt(0))){var h,c,d=[],u=e.split("\/"),p=u.length;for(c=0;p>c;c++)h=u[c],".."===h?d.pop():""!==h&&"."!==h&&d.push(h);""===u[p-1]&&d.push(""),e="\/"+d.join("\/")}return"abs"!==t||e.match(\/^https?:\\\/\\\/\/i)||(e=a+"\/\/"+n+e),e=e.replace(\/(https?:\\\/\\\/[^:\\\/?#]+):80(\\\/|$)\/i,"$1$2")}function checkFileExt(e,t){return"*"===t||e.match(RegExp(".("+t.replace(\/,\/g,"|")+")$","i"))?!0:(alert(getLang("upload.extLimit",t)),!1)}function formatBytes(e){var t=["Byte","KB","MB","GB","TB","PB"],i=Math.floor(Math.log(e)\/Math.log(1024));return(e\/Math.pow(1024,Math.floor(i))).toFixed(2)+t[i]}function returnFalse(){return!1}var _this=this,_text=textarea,_jText=$(_text),_jForm=_jText.closest("form"),_jTools,_jArea,_win,_jWin,_doc,_jDoc,bookmark,bInit=!1,bSource=!1,bFullscreen=!1,bCleanPaste=!1,outerScroll,bShowBlocktag=!1,sLayoutStyle="",ev=null,timer,bDisableHoverExec=!1,bQuickHoverExec=!1,lastPoint=null,lastAngle=null,editorHeight=0,settings=_this.settings=$.extend({},XHEDITOR.settings,options),plugins=settings.plugins,strPlugins=[];if(plugins&&(arrTools=$.extend({},arrTools,plugins),$.each(plugins,function(e){strPlugins.push(e)}),strPlugins=strPlugins.join(",")),settings.tools.match(\/^\\s*(m?full|simple|mini)\\s*$\/i)){var toolsTheme=toolsThemes[$.trim(settings.tools)];settings.tools=settings.tools.match(\/m?full\/i)&&plugins?toolsTheme.replace("Table","Table,"+strPlugins):toolsTheme}settings.tools.match(\/(^|,)\\s*About\\s*(,|$)\/i)||(settings.tools+=",About"),settings.tools=settings.tools.split(","),settings.editorRoot&&(editorRoot=settings.editorRoot),bAir===!1&&(editorRoot=getLocalUrl(editorRoot,"abs")),settings.urlBase&&(settings.urlBase=getLocalUrl(settings.urlBase,"abs"));var idCSS="xheCSS_"+settings.skin,idContainer="xhe"+xCount+"_container",idTools="xhe"+xCount+"_Tool",idIframeArea="xhe"+xCount+"_iframearea",idIframe="xhe"+xCount+"_iframe",idFixFFCursor="xhe"+xCount+"_fixffcursor",headHTML="",bodyClass="",skinPath=editorRoot+"xheditor_skin\/"+settings.skin+"\/",arrEmots=itemEmots,urlType=settings.urlType,urlBase=settings.urlBase,emotPath=settings.emotPath,emotPath=emotPath?emotPath:editorRoot+"xheditor_emot\/",selEmotGroup="";arrEmots=$.extend({},arrEmots,settings.emots),emotPath=getLocalUrl(emotPath,"rel",urlBase?urlBase:null),bShowBlocktag=settings.showBlocktag,bShowBlocktag&&(bodyClass+=" showBlocktag");var arrShortCuts=[];this.init=function(){function e(e){var t,i=$(e.target);(t=i.css("width"))&&i.css("width","").attr("width",t.replace(\/[^0-9%]+\/g,"")),(t=i.css("height"))&&i.css("height","").attr("height",t.replace(\/[^0-9%]+\/g,""))}0===$("#"+idCSS).length&&$("head").append('<link id="'+idCSS+'" rel="stylesheet" type="text\/css" href="'+skinPath+'ui.css" \/>');var t=_jText.outerWidth(),i=_jText.outerHeight(),s=settings.width||_text.style.width||(t>10?t:0);editorHeight=settings.height||_text.style.height||(i>10?i:150),\/^\\d+(?:\\.\\d+)?$\/.test(s)&&(s+="px"),is(editorHeight,"string")&&(editorHeight=editorHeight.replace(\/[^\\d]+\/g,""));var a,n,o=settings.background||_text.style.background,l=['<span class="xheGStart"\/>'],r=\/\\||\\\/\/i;$.each(settings.tools,function(e,t){if(t.match(r)&&l.push('<span class="xheGEnd"\/>'),"|"===t)l.push('<span class="xheSeparator"\/>');else if("\/"===t)l.push("<br \/>");else{if(a=arrTools[t],!a)return;n=a.c?a.c:"xheIcon xheBtn"+t,l.push('<span><a href="#" title="{#'+a.t+'}" cmd="'+t+'" class="xheButton xheEnabled" tabindex="-1" role="button"><span class="'+n+'" unselectable="on" style="font-size:0;color:transparent;text-indent:-999px;">'+a.t+"<\/span><\/a><\/span>"),a.s&&_this.addShortcuts(a.s,t)}t.match(r)&&l.push('<span class="xheGStart"\/>')}),l.push('<span class="xheGEnd"\/><br \/>'),_jText.after($('<input type="text" id="'+idFixFFCursor+'" style="position:absolute;display:none;" \/><span id="'+idContainer+'" class="xhe_'+settings.skin+'" style="display:none"><table cellspacing="0" cellpadding="0" class="xheLayout" style="'+("0px"!=s?"width:"+s+";":"")+"height:"+editorHeight+'px;" role="presentation"><tr><td id="'+idTools+'" class="xheTool" unselectable="on" style="height:1px;" role="presentation"><\/td><\/tr><tr><td id="'+idIframeArea+'" class="xheIframeArea" role="presentation"><iframe frameborder="0" id="'+idIframe+'" src="javascript:;" style="width:100%;"><\/iframe><\/td><\/tr><\/table><\/span>')),_jTools=$("#"+idTools),_jArea=$("#"+idIframeArea),headHTML='<meta http-equiv="Content-Type" content="text\/html; charset=utf-8" \/><link rel="stylesheet" href="'+skinPath+'iframe.css"\/>';var h=settings.loadCSS;if(h)if(is(h,"array"))for(var c in h)headHTML+='<link rel="stylesheet" href="'+h[c]+'"\/>';else headHTML+=h.match(\/\\s*<style(\\s+[^>]*?)?>[\\s\\S]+?<\\\/style>\\s*\/i)?h:'<link rel="stylesheet" href="'+h+'"\/>';var d='<!DOCTYPE html><html xmlns="http:\/\/www.w3.org\/1999\/xhtml"><head>'+headHTML+"<title>{#defaultReadTip} "+(settings.readTip?settings.readTip:"")+"<\/title>";o&&(d+="<style>html{background:"+o+";}<\/style>"),d+='<\/head><body spellcheck="0" class="editMode'+bodyClass+'"><\/body><\/html>',_this.win=_win=$("#"+idIframe)[0].contentWindow,_jWin=$(_win);try{this.doc=_doc=_win.document,_jDoc=$(_doc),_doc.open(),_doc.write(getLang(d)),_doc.close(),isIE?_doc.body.contentEditable="true":_doc.designMode="On"}catch(u){}setTimeout(setOpts,300),_this.setSource(),_win.setInterval=null,_jTools.append(getLang(l.join(""))).bind("mousedown contextmenu",returnFalse).click(function(e){var t=$(e.target).closest("a");return t.is(".xheEnabled")&&(clearTimeout(timer),_jTools.find("a").attr("tabindex","-1"),ev=e,_this.exec(t.attr("cmd"))),!1}),_jTools.find(".xheButton").hover(function(e){var t=$(this),i=settings.hoverExecDelay,s=lastAngle;if(lastAngle=null,-1===i||bDisableHoverExec||!t.is(".xheEnabled"))return!1;if(s&&s>10)return bDisableHoverExec=!0,setTimeout(function(){bDisableHoverExec=!1},100),!1;var a=t.attr("cmd"),n=1===arrTools[a].h;return n?(bQuickHoverExec&&(i=0),i>=0&&(timer=setTimeout(function(){ev=e,lastPoint={x:ev.clientX,y:ev.clientY},_this.exec(a)},i)),undefined):(_this.hidePanel(),!1)},function(){lastPoint=null,timer&&clearTimeout(timer)}).mousemove(function(e){if(lastPoint){var t={x:e.clientX-lastPoint.x,y:e.clientY-lastPoint.y};if(Math.abs(t.x)>1||Math.abs(t.y)>1){if(t.x>0&&t.y>0){var i=Math.round(Math.atan(t.y\/t.x)\/.017453293);lastAngle=lastAngle?(lastAngle+i)\/2:i}else lastAngle=null;lastPoint={x:e.clientX,y:e.clientY}}}}),_jPanel=$("#xhePanel"),_jShadow=$("#xheShadow"),_jCntLine=$("#xheCntLine"),0===_jPanel.length&&(_jPanel=$('<div id="xhePanel"><\/div>').mousedown(function(e){e.stopPropagation()}),_jShadow=$('<div id="xheShadow"><\/div>'),_jCntLine=$('<div id="xheCntLine"><\/div>'),setTimeout(function(){$(document.body).append(_jPanel).append(_jShadow).append(_jCntLine)},10)),$("#"+idContainer).show(),_jText.hide(),_jArea.css("height",editorHeight-_jTools.outerHeight()),isIE&8>browerVer&&setTimeout(function(){_jArea.css("height",editorHeight-_jTools.outerHeight())},1),_jText.focus(_this.focus),_jForm.submit(saveResult).bind("reset",loadReset),settings.submitID&&$("#"+settings.submitID).mousedown(saveResult),$(window).bind("unload beforeunload",saveResult).bind("resize",fixFullHeight),$(document).mousedown(clickCancelPanel),bCheckEscInit||($(document).keydown(checkEsc),bCheckEscInit=!0),_jWin.focus(function(){settings.focus&&settings.focus()}).blur(function(){settings.blur&&settings.blur()}),isWebkit&&_jWin.click(fixAppleSel),_jDoc.mousedown(clickCancelPanel).keydown(checkShortcuts).keypress(forcePtag).dblclick(checkDblClick).bind("mousedown click",function(e){_jText.trigger(e.type)}),isIE&&(_jDoc.keydown(function(e){var t=_this.getRng();return 8===e.which&&t.item?($(t.item(0)).remove(),!1):undefined}),_jDoc.bind("controlselect",function(t){t=t.target,$.nodeName(t,"IMG")&&$(t).unbind("resizeend",e).bind("resizeend",e)})),_jDoc.keydown(function(e){var t=e.which;return e.altKey&&t>=49&&57>=t?(_jTools.find("a").attr("tabindex","0"),_jTools.find(".xheGStart").eq(t-49).next().find("a").focus(),_doc.title="\\ufeff\\ufeff",!1):undefined}).click(function(){_jTools.find("a").attr("tabindex","-1")}),_jTools.keydown(function(e){var t=e.which;if(27==t)_jTools.find("a").attr("tabindex","-1"),_this.focus();else if(e.altKey&&t>=49&&57>=t)return _jTools.find(".xheGStart").eq(t-49).next().find("a").focus(),!1});var p=$(_doc.documentElement);isOpera?p.bind("keydown",function(e){e.ctrlKey&&86===e.which&&cleanPaste()}):p.bind(isIE?"beforepaste":"paste",cleanPaste),settings.disableContextmenu&&p.bind("contextmenu",returnFalse),settings.html5Upload&&p.bind("dragenter dragover",function(e){var t;return(t=e.originalEvent.dataTransfer.types)&&-1!==$.inArray("Files",t)?!1:undefined}).bind("drop",function(e){function t(e){var t,i,s;for(a=0;e.length>a;a++){if(i=e[a].name.replace(\/.+\\.\/,""),!(t=o.match(RegExp("(\\\\w+):[^:]*,"+i+"(?:,|$)","i"))))return 1;if(s){if(s!==t[1])return 2}else s=t[1]}return s}var i,s=e.originalEvent.dataTransfer;if(s&&(i=s.files)&&i.length>0){var a,n,o,l=["Link","Img","Flash","Media"],r=[];for(a in l)n=l[a],settings["up"+n+"Url"]&&settings["up"+n+"Url"].match(\/^[^!].*\/i)&&r.push(n+":,"+settings["up"+n+"Ext"]);return 0===r.length?!1:(o=r.join(","),n=t(i),1===n?alert(getLang("upload.extLimit",o.replace(\/\\w+:,\/g,""))):2===n?alert(getLang("upload.typeLimit")):n&&_this.startUpload(i,settings["up"+n+"Url"],"*",function(e){var t,i=[],s=settings.onUpload;s&&s(e);for(var a=0,o=e.length;o>a;a++)t=e[a],url=is(t,"string")?t:t.url,"!"===url.substr(0,1)&&(url=url.substr(1)),i.push(url);_this.exec(n),$("#xhe"+n+"Url").val(i.join(" ")),$("#xheSave").click()}),!1)}});var g=settings.shortcuts;g&&$.each(g,function(e,t){_this.addShortcuts(e,t)}),xCount++,bInit=!0,settings.fullscreen?_this.toggleFullscreen():settings.sourceMode&&setTimeout(_this.toggleSource,20);var f=settings.plugins;return f&&$.each(f,function(e,t){var i=t.i;i!==undefined&&i(_this)}),!0},this.remove=function(){_this.hidePanel(),saveResult(),_jText.unbind("focus",_this.focus),_jForm.unbind("submit",saveResult).unbind("reset",loadReset),settings.submitID&&$("#"+settings.submitID).unbind("mousedown",saveResult),$(window).unbind("unload beforeunload",saveResult).unbind("resize",fixFullHeight),$(document).unbind("mousedown",clickCancelPanel),$("#"+idContainer).remove(),$("#"+idFixFFCursor).remove(),_jText.show(),bInit=!1},this.saveBookmark=function(){if(!bSource){_this.focus();var e=_this.getRng();e=e.cloneRange?e.cloneRange():e,bookmark={top:_jWin.scrollTop(),rng:e}}},this.loadBookmark=function(){if(!bSource&&bookmark){_this.focus();var e=bookmark.rng;if(isIE)e.select();else{var t=_this.getSel();t.removeAllRanges(),t.addRange(e)}_jWin.scrollTop(bookmark.top),bookmark=null}},this.focus=function(){if(bSource?$("#sourceCode",_doc).focus():_win.focus(),isIE){var e=_this.getRng();e.parentElement&&e.parentElement().ownerDocument!==_doc&&_this.setTextCursor()}return!1},this.setTextCursor=function(e){var t=_this.getRng(!0),i=_doc.body;if(isIE)t.moveToElementText(i);else{for(var s=e?"lastChild":"firstChild";3!=i.nodeType&&i[s];)i=i[s];t.selectNode(i)}if(t.collapse(e?!1:!0),isIE)t.select();else{var a=_this.getSel();a.removeAllRanges(),a.addRange(t)}},this.getSel=function(){return _doc.selection?_doc.selection:_win.getSelection()},this.getRng=function(e){var t,i;try{e||(t=_this.getSel(),i=t.createRange?t.createRange():t.rangeCount>0?t.getRangeAt(0):null),i||(i=_doc.body.createTextRange?_doc.body.createTextRange():_doc.createRange())}catch(s){}return i},this.getParent=function(e){var t,i=_this.getRng();return isIE?t=i.item?i.item(0):i.parentElement():(t=i.commonAncestorContainer,i.collapsed||i.startContainer===i.endContainer&&2>i.startOffset-i.endOffset&&i.startContainer.hasChildNodes()&&(t=i.startContainer.childNodes[i.startOffset])),e=e?e:"*",t=$(t),t.is(e)||(t=$(t).closest(e)),t},this.getSelect=function(e){var t=_this.getSel(),i=_this.getRng(),s=!0;if(s=!i||i.item?!1:!t||0===i.boundingWidth||i.collapsed,"text"===e)return s?"":i.text||(t.toString?""+t:"");var a;if(i.cloneContents){var n,o=$("<div><\/div>");n=i.cloneContents(),n&&o.append(n),a=o.html()}else a=is(i.item)?i.item(0).outerHTML:is(i.htmlText)?i.htmlText:""+i;return s&&(a=""),a=_this.processHTML(a,"read"),a=_this.cleanHTML(a),a=_this.formatXHTML(a)},this.pasteHTML=function(e,t){if(bSource)return!1;_this.focus(),e=_this.processHTML(e,"write");var i=_this.getSel(),s=_this.getRng();if(t!==undefined){if(s.item){var a=s.item(0);s=_this.getRng(!0),s.moveToElementText(a),s.select()}s.collapse(t)}if(e+="<"+(isIE?"img":"span")+' id="_xhe_temp" width="0" height="0" \/>',s.insertNode){if($(s.startContainer).closest("style,script").length>0)return!1;s.deleteContents(),s.insertNode(s.createContextualFragment(e))}else"control"===i.type.toLowerCase()&&(i.clear(),s=_this.getRng()),s.pasteHTML(e);var n=$("#_xhe_temp",_doc),o=n[0];isIE?(s.moveToElementText(o),s.select()):(s.selectNode(o),i.removeAllRanges(),i.addRange(s)),n.remove()},this.pasteText=function(e,t){e||(e=""),e=_this.domEncode(e),e=e.replace(\/\\r?\\n\/g,"<br \/>"),_this.pasteHTML(e,t)},this.appendHTML=function(e){return bSource?!1:(_this.focus(),e=_this.processHTML(e,"write"),$(_doc.body).append(e),_this.setTextCursor(!0),undefined)},this.domEncode=function(e){return e.replace(regEntities,function(e){return arrEntities[e]})},this.setSource=function(e){bookmark=null,"string"!=typeof e&&""!==e&&(e=_text.value),bSource?$("#sourceCode",_doc).val(e):(settings.beforeSetSource&&(e=settings.beforeSetSource(e)),e=_this.cleanHTML(e),e=_this.formatXHTML(e),e=_this.processHTML(e,"write"),isIE?(_doc.body.innerHTML='<img id="_xhe_temp" width="0" height="0" \/>'+e,$("#_xhe_temp",_doc).remove()):_doc.body.innerHTML=e)},this.processHTML=function(e,t){function i(e,t,i,s,a,o){var l,r,h,c,d="";if(l=s.match(\/font-family\\s*:\\s*([^;"]+)\/i),l&&(d+=' face="'+l[1]+'"'),r=s.match(\/font-size\\s*:\\s*([^;"]+)\/i)){r=r[1].toLowerCase();for(var u=0;n.length>u;u++)if(r===n[u].n||r===n[u].s){h=u+1;break}h&&(d+=' size="'+h+'"',s=s.replace(\/(^|;)(\\s*font-size\\s*:\\s*[^;"]+;?)+\/gi,"$1"))}if(c=s.match(\/(?:^|[\\s;])color\\s*:\\s*([^;"]+)\/i)){var p;if(p=c[1].match(\/\\s*rgb\\s*\\(\\s*(\\d+)\\s*,\\s*(\\d+)\\s*,\\s*(\\d+)\\s*\\)\/i)){c[1]="#";for(var g=1;3>=g;g++)c[1]+=("0"+(p[g]-0).toString(16)).slice(-2)}c[1]=c[1].replace(\/^#([0-9a-f])([0-9a-f])([0-9a-f])$\/i,"#$1$1$2$2$3$3"),d+=' color="'+c[1]+'"'}return s=s.replace(\/(^|;)(\\s*(font-family|color)\\s*:\\s*[^;"]+;?)+\/gi,"$1"),""!==d?(s&&(d+=' style="'+s+'"'),"<font"+(i?i:"")+d+(a?a:"")+">"+o+"<\/font>"):e}function s(e,t,i,s,a){for(var n,l,r=(i?i:"")+(s?s:""),h=[],c=[],d=0;o.length>d;d++)n=o[d].r,l=o[d].t,r=r.replace(n,function(){return h.push("<"+l+">"),c.push("<\/"+l+">"),""});return r=r.replace(\/\\s+style\\s*=\\s*"\\s*"\/i,""),(r?"<span"+r+">":"")+h.join("")+a+c.join("")+(r?"<\/span>":"")}var a=' class="Apple-style-span"',n=settings.listFontsize;if("write"===t)e=e.replace(\/(<(\\\/?)(\\w+))((?:\\s+[\\w\\-:]+\\s*=\\s*(?:"[^"]*"|'[^']*'|[^>\\s]+))*)\\s*((\\\/?)>)\/g,function(e,t,i,s,n,o,l){s=s.toLowerCase(),isMozilla?"strong"===s?s="b":"em"===s&&(s="i"):isWebkit&&("strong"===s?(s="span",i||(n+=a+' style="font-weight: bold;"')):"em"===s?(s="span",i||(n+=a+' style="font-style: italic;"')):"u"===s?(s="span",i||(n+=a+' style="text-decoration: underline;"')):"strike"===s&&(s="span",i||(n+=a+' style="text-decoration: line-through;"')));var r,h="";if("del"===s)s="strike";else if("img"===s)n=n.replace(\/\\s+emot\\s*=\\s*("[^"]*"|'[^']*'|[^>\\s]+)\/i,function(e,t){return r=t.match(\/^(["']?)(.*)\\1\/)[2],r=r.split(","),r[1]||(r[1]=r[0],r[0]=""),"default"===r[0]&&(r[0]=""),settings.emotMark?e:""});else if("a"===s)!n.match(\/ href=[^ ]\/i)&&n.match(\/ name=[^ ]\/i)&&(h+=" xhe-anchor"),l&&(o="><\/a>");else if("table"===s&&!i){var c=n.match(\/\\s+border\\s*=\\s*("[^"]*"|'[^']*'|[^>\\s]+)\/i);(!c||c[1].match(\/^(["']?)\\s*0\\s*\\1$\/))&&(h+=" xhe-border")}var d;if(n=n.replace(\/\\s+([\\w\\-:]+)\\s*=\\s*("[^"]*"|'[^']*'|[^>\\s]+)\/g,function(e,t,i){return t=t.toLowerCase(),i=i.match(\/^(["']?)(.*)\\1\/)[2],aft="",isIE&&t.match(\/^(disabled|checked|readonly|selected)$\/)&&i.match(\/^(false|0)$\/i)?"":"img"===s&&r&&"src"===t?"":(t.match(\/^(src|href)$\/)&&(aft=" _xhe_"+t+'="'+i+'"',urlBase&&(i=getLocalUrl(i,"abs",urlBase))),h&&"class"===t&&(i+=" "+h,h=""),isWebkit&&"style"===t&&"span"===s&&i.match(\/(^|;)\\s*(font-family|font-size|color|background-color)\\s*:\\s*[^;]+\\s*(;|$)\/i)&&(d=!0)," "+t+'="'+i+'"'+aft)}),r){var u=emotPath+(r[0]?r[0]:"default")+"\/"+r[1]+".gif";n+=' src="'+u+'" _xhe_src="'+u+'"'}return d&&(n+=a),h&&(n+=' class="'+h+'"'),"<"+i+s+n+o}),isIE&&(e=e.replace(\/&apos;\/gi,"&#39;")),isWebkit||(e=e.replace(\/<(span)(\\s+[^>]*?)?\\s+style\\s*=\\s*"((?:[^"]*?;)?\\s*(?:font-family|font-size|color)\\s*:[^"]*)"( [^>]*)?>(((?!<\\1(\\s+[^>]*?)?>)[\\s\\S]|<\\1(\\s+[^>]*?)?>((?!<\\1(\\s+[^>]*?)?>)[\\s\\S]|<\\1(\\s+[^>]*?)?>((?!<\\1(\\s+[^>]*?)?>)[\\s\\S])*?<\\\/\\1>)*?<\\\/\\1>)*?)<\\\/\\1>\/gi,i),e=e.replace(\/<(span)(\\s+[^>]*?)?\\s+style\\s*=\\s*"((?:[^"]*?;)?\\s*(?:font-family|font-size|color)\\s*:[^"]*)"( [^>]*)?>(((?!<\\1(\\s+[^>]*?)?>)[\\s\\S]|<\\1(\\s+[^>]*?)?>((?!<\\1(\\s+[^>]*?)?>)[\\s\\S])*?<\\\/\\1>)*?)<\\\/\\1>\/gi,i),e=e.replace(\/<(span)(\\s+[^>]*?)?\\s+style\\s*=\\s*"((?:[^"]*?;)?\\s*(?:font-family|font-size|color)\\s*:[^"]*)"( [^>]*)?>(((?!<\\1(\\s+[^>]*?)?>)[\\s\\S])*?)<\\\/\\1>\/gi,i)),e=e.replace(\/<(td|th)(\\s+[^>]*?)?>(\\s|&nbsp;)*<\\\/\\1>\/gi,"<$1$2>"+(isIE?"":"<br \/>")+"<\/$1>");else{if(isWebkit)for(var o=[{r:\/font-weight\\s*:\\s*bold;?\/gi,t:"strong"},{r:\/font-style\\s*:\\s*italic;?\/gi,t:"em"},{r:\/text-decoration\\s*:\\s*underline;?\/gi,t:"u"},{r:\/text-decoration\\s*:\\s*line-through;?\/gi,t:"strike"}],l=0;2>l;l++)e=e.replace(\/<(span)(\\s+[^>]*?)?\\s+class\\s*=\\s*"Apple-style-span"(\\s+[^>]*?)?>(((?!<\\1(\\s+[^>]*?)?>)[\\s\\S]|<\\1(\\s+[^>]*?)?>((?!<\\1(\\s+[^>]*?)?>)[\\s\\S]|<\\1(\\s+[^>]*?)?>((?!<\\1(\\s+[^>]*?)?>)[\\s\\S])*?<\\\/\\1>)*?<\\\/\\1>)*?)<\\\/\\1>\/gi,s),e=e.replace(\/<(span)(\\s+[^>]*?)?\\s+class\\s*=\\s*"Apple-style-span"(\\s+[^>]*?)?>(((?!<\\1(\\s+[^>]*?)?>)[\\s\\S]|<\\1(\\s+[^>]*?)?>((?!<\\1(\\s+[^>]*?)?>)[\\s\\S])*?<\\\/\\1>)*?)<\\\/\\1>\/gi,s),e=e.replace(\/<(span)(\\s+[^>]*?)?\\s+class\\s*=\\s*"Apple-style-span"(\\s+[^>]*?)?>(((?!<\\1(\\s+[^>]*?)?>)[\\s\\S])*?)<\\\/\\1>\/gi,s);e=e.replace(\/(<(\\w+))((?:\\s+[\\w\\-:]+\\s*=\\s*(?:"[^"]*"|'[^']*'|[^>\\s]+))*)\\s*(\\\/?>)\/g,function(e,t,i,s,a){i=i.toLowerCase();$/;"	p
var.specialKeys.40	js/xheditor.min.js	/^(function(){var e={};window.XHEDITOR=e})(),function(e,t){e.mapLang={},e.setLang=function(i,s){s===t&&(s=i,i=""),""!==i&&(i+=".");var a,n;for(var o in s)n=s[o],a=i+o,"string"==typeof n||n instanceof Array?e.mapLang[a]=n:e.setLang(a,n)},e.getLang=function(i){var s=e.mapLang[i];if(s===t&&(s=i.replace(\/{#([^{}]+)}\/g,function(t,i){var s=e.mapLang[i];return s?s:i})),"string"==typeof s){var a=arguments;s=s.replace(\/{\\$(\\d+)}\/g,function(e,i){var s=a[parseInt(i,10)+1];return s!==t?s:e})}return s}}(XHEDITOR),function(XHEDITOR,$,undefined){var agent=navigator.userAgent.toLowerCase(),bMobile=\/mobile\/i.test(agent),browser=$.browser,browerVer=parseFloat(browser.version),isIE=browser.msie,isMozilla=browser.mozilla,isWebkit=browser.webkit,isOpera=browser.opera,isChrome=browser.chrome,bAir=agent.indexOf(" adobeair\/")>-1,xCount=0,bShowPanel=!1,bClickCancel=!0,bShowModal=!1,bCheckEscInit=!1,_jPanel,_jShadow,_jCntLine,_jPanelButton,jModal,jModalShadow,layerShadow,jOverlay,jHideSelect,onModalRemove,editorRoot,getLang=XHEDITOR.getLang;if($("script[src*=xheditor]").each(function(){var e=this.src;return e.match(\/xheditor[^\\\/]*\\.js\/i)?(editorRoot=e.replace(\/[\\?#].*$\/,"").replace(\/(^|[\\\/\\\\])[^\\\/]*$\/,"$1"),!1):undefined}),isIE){try{document.execCommand("BackgroundImageCache",!1,!0)}catch(e){}var jqueryVer=$.fn.jquery;jqueryVer&&jqueryVer.match(\/^1\\.[67]\/)&&($.attrHooks.width=$.attrHooks.height=null)}var specialKeys={27:"esc",9:"tab",32:"space",13:"enter",8:"backspace",145:"scroll",20:"capslock",144:"numlock",19:"pause",45:"insert",36:"home",46:"del",35:"end",33:"pageup",34:"pagedown",37:"left",38:"up",39:"right",40:"down",112:"f1",113:"f2",114:"f3",115:"f4",116:"f5",117:"f6",118:"f7",119:"f8",120:"f9",121:"f10",122:"f11",123:"f12"},arrAlign=[{v:"justifyleft"},{v:"justifycenter"},{v:"justifyright"},{v:"justifyfull"}],arrList=[{v:"insertOrderedList"},{v:"insertUnorderedList"}],htmlPastetext='<div><label for="xhePastetextValue">{#PastetextTip}<\/label><\/div><div><textarea id="xhePastetextValue" wrap="soft" spellcheck="false" style="width:300px;height:100px;" \/><\/div><div style="text-align:right;"><input type="button" id="xheSave" value="{#dialogOk}" \/><\/div>',htmlLink='<div><label for="xheLinkUrl">{#link.url}<\/label><input type="text" id="xheLinkUrl" value="http:\/\/" class="xheText" \/><\/div><div><label for="xheLinkTarget">{#link.target}<\/label><select id="xheLinkTarget"><option selected="selected" value="">{#default}<\/option><option value="_blank">{#link.targetBlank}<\/option><option value="_self">{#link.targetSelf}<\/option><option value="_parent">{#link.targetParent}<\/option><\/select><\/div><div style="display:none"><label for="xheLinkText">{#link.linkText}<\/label><input type="text" id="xheLinkText" value="" class="xheText" \/><\/div><div style="text-align:right;"><input type="button" id="xheSave" value="{#dialogOk}" \/><\/div>',htmlAnchor='<div><label for="xheAnchorName">{#anchor.name}<\/label><input type="text" id="xheAnchorName" value="" class="xheText" \/><\/div><div style="text-align:right;"><input type="button" id="xheSave" value="{#dialogOk}" \/><\/div>',htmlImg='<div><label for="xheImgUrl">{#img.url}<\/label><input type="text" id="xheImgUrl" value="http:\/\/" class="xheText" \/><\/div><div><div><label for="xheImgAlt">{#img.alt}<\/label><input type="text" id="xheImgAlt" \/><\/div><div><label for="xheImgAlign">{#img.align}<\/label><select id="xheImgAlign"><option selected="selected" value="">{#default}<\/option><option value="left">{#img.alignLeft}<\/option><option value="right">{#img.alignRight}<\/option><option value="top">{#img.alignTop}<\/option><option value="middle">{#img.alignMiddle}<\/option><option value="baseline">{#img.alignBaseline}<\/option><option value="bottom">{#img.alignBottom}<\/option><\/select><\/div><div><label for="xheImgWidth">{#img.width}<\/label><input type="text" id="xheImgWidth" style="width:40px;" \/> <label for="xheImgHeight">{#img.height}<\/label><input type="text" id="xheImgHeight" style="width:40px;" \/><\/div><div><label for="xheImgBorder">{#img.border}<\/label><input type="text" id="xheImgBorder" style="width:40px;" \/><\/div><div><label for="xheImgHspace">{#img.hspace}<\/label><input type="text" id="xheImgHspace" style="width:40px;" \/> <label for="xheImgVspace">{#img.vspace}<\/label><input type="text" id="xheImgVspace" style="width:40px;" \/><\/div><div style="text-align:right;"><input type="button" id="xheSave" value="{#dialogOk}" \/><\/div>',htmlFlash='<div><label for="xheFlashUrl">{#flash.url}<\/label><input type="text" id="xheFlashUrl" value="http:\/\/" class="xheText" \/><\/div><div><label for="xheFlashWidth">{#flash.width}<\/label><input type="text" id="xheFlashWidth" style="width:40px;" value="480" \/> <label for="xheFlashHeight">{#flash.height}<\/label><input type="text" id="xheFlashHeight" style="width:40px;" value="400" \/><\/div><div style="text-align:right;"><input type="button" id="xheSave" value="{#dialogOk}" \/><\/div>',htmlMedia='<div><label for="xheMediaUrl">{#media.url}<\/label><input type="text" id="xheMediaUrl" value="http:\/\/" class="xheText" \/><\/div><div><label for="xheMediaWidth">{#media.width}<\/label><input type="text" id="xheMediaWidth" style="width:40px;" value="480" \/> <label for="xheMediaHeight">{#media.height}<\/label><input type="text" id="xheMediaHeight" style="width:40px;" value="400" \/><\/div><div style="text-align:right;"><input type="button" id="xheSave" value="{#dialogOk}" \/><\/div>',htmlTable='<div><label for="xheTableRows">{#table.rows}<\/label><input type="text" id="xheTableRows" style="width:40px;" value="3" \/> <label for="xheTableColumns">{#table.columns}<\/label><input type="text" id="xheTableColumns" style="width:40px;" value="2" \/><\/div><div><label for="xheTableHeaders">{#table.headers}<\/label><select id="xheTableHeaders"><option selected="selected" value="">{#none}<\/option><option value="row">{#table.headersRow}<\/option><option value="col">{#table.headersCol}<\/option><option value="both">{#table.headersBoth}<\/option><\/select><\/div><div><label for="xheTableWidth">{#table.width}<\/label><input type="text" id="xheTableWidth" style="width:40px;" value="200" \/> <label for="xheTableHeight">{#table.height}<\/label><input type="text" id="xheTableHeight" style="width:40px;" value="" \/><\/div><div><label for="xheTableBorder">{#table.border}<\/label><input type="text" id="xheTableBorder" style="width:40px;" value="1" \/><\/div><div><label for="xheTableCellSpacing">{#table.cellSpacing}<\/label><input type="text" id="xheTableCellSpacing" style="width:40px;" value="1" \/> <label for="xheTableCellPadding">{#table.cellPadding}<\/label><input type="text" id="xheTableCellPadding" style="width:40px;" value="1" \/><\/div><div><label for="xheTableAlign">{#table.align}<\/label><select id="xheTableAlign"><option selected="selected" value="">{#default}<\/option><option value="left">{#table.alignLeft}<\/option><option value="center">{#table.alignCenter}<\/option><option value="right">{#table.alignRight}<\/option><\/select><\/div><div><label for="xheTableCaption">{#table.caption}<\/label><input type="text" id="xheTableCaption" \/><\/div><div style="text-align:right;"><input type="button" id="xheSave" value="{#dialogOk}" \/><\/div>',htmlAbout='<div style="font:12px Arial;width:245px;word-wrap:break-word;word-break:break-all;outline:none;" role="dialog" tabindex="-1"><p><span style="font-size:20px;color:#1997DF;">xhEditor<\/span><br \/>v1.2.1 (build 130225)<\/p><p>{#aboutXheditor}<\/p><p>Copyright &copy; <a href="http:\/\/xheditor.com\/" target="_blank">xhEditor.com<\/a>. All rights reserved.<\/p><\/div>',itemEmots={"default":{name:"{#default}",width:24,height:24,line:7,list:["smile","tongue","titter","laugh","sad","wronged","fastcry","cry","wail","mad","knock","curse","crazy","angry","ohmy","awkward","panic","shy","cute","envy","proud","struggle","quiet","shutup","doubt","despise","sleep","bye"]}},arrTools={Cut:{t:"Cut"},Copy:{t:"Copy"},Paste:{t:"Paste"},Pastetext:{t:"Pastetext",h:isIE?0:1},Blocktag:{t:"Blocktag",h:1},Fontface:{t:"Fontface",h:1},FontSize:{t:"FontSize",h:1},Bold:{t:"Bold",s:"Ctrl+B"},Italic:{t:"Italic",s:"Ctrl+I"},Underline:{t:"Underline",s:"Ctrl+U"},Strikethrough:{t:"Strikethrough"},FontColor:{t:"FontColor",h:1},BackColor:{t:"BackColor",h:1},SelectAll:{t:"SelectAll"},Removeformat:{t:"Removeformat"},Align:{t:"Align",h:1},List:{t:"List",h:1},Outdent:{t:"Outdent"},Indent:{t:"Indent"},Link:{t:"Link",s:"Ctrl+L",h:1},Unlink:{t:"Unlink"},Anchor:{t:"Anchor",h:1},Img:{t:"Img",h:1},Flash:{t:"Flash",h:1},Media:{t:"Media",h:1},Hr:{t:"Hr"},Emot:{t:"Emot",s:"ctrl+e",h:1},Table:{t:"Table",h:1},Source:{t:"Source"},Preview:{t:"Preview"},Print:{t:"Print",s:"Ctrl+P"},Fullscreen:{t:"Fullscreen",s:"Esc"},About:{t:"About"}},toolsThemes={mini:"Bold,Italic,Underline,Strikethrough,|,Align,List,|,Link,Img",simple:"Blocktag,Fontface,FontSize,Bold,Italic,Underline,Strikethrough,FontColor,BackColor,|,Align,List,Outdent,Indent,|,Link,Img,Emot",full:"Cut,Copy,Paste,Pastetext,|,Blocktag,Fontface,FontSize,Bold,Italic,Underline,Strikethrough,FontColor,BackColor,SelectAll,Removeformat,|,Align,List,Outdent,Indent,|,Link,Unlink,Anchor,Img,Flash,Media,Hr,Emot,Table,|,Source,Preview,Print,Fullscreen"};toolsThemes.mfull=toolsThemes.full.replace(\/\\|(,Align)\/i,"\/$1");var arrDbClick={a:"Link",img:"Img",embed:"Embed"},uploadInputname="filedata",arrEntities={"<":"&lt;",">":"&gt;",'"':"&quot;","\\u00ae":"&reg;","\\u00a9":"&copy;"},regEntities=\/[<>"\\u00ae\\u00a9]\/g,Xheditor=function(textarea,options){function checkDblClick(e){var t=e.target,i=arrDbClick[t.tagName.toLowerCase()];if(i){if("Embed"===i){var s={"application\/x-shockwave-flash":"Flash","application\/x-mplayer2":"Media"};i=s[t.type.toLowerCase()]}_this.exec(i)}}function checkEsc(e){return 27===e.which?(bShowModal?_this.removeModal():bShowPanel&&_this.hidePanel(),!1):undefined}function loadReset(){setTimeout(_this.setSource,10)}function saveResult(){_this.getSource()}function cleanPaste(e){var t,i,s;if(e&&(t=e.originalEvent.clipboardData)&&(i=t.items)&&(s=i[0])&&"file"==s.kind&&s.type.match(\/^image\\\/\/i)){var a=s.getAsFile(),n=new FileReader;return n.onload=function(){var e='<img src="'+event.target.result+'">';e=replaceRemoteImg(e),_this.pasteHTML(e)},n.readAsDataURL(a),!1}var o=settings.cleanPaste;if(0===o||bSource||bCleanPaste)return!0;bCleanPaste=!0,_this.saveBookmark();var l=isIE?"pre":"div",r=$("<"+l+' class="xhe-paste">\\ufeff\\ufeff<\/'+l+">",_doc).appendTo(_doc.body),h=r[0],c=_this.getSel(),d=_this.getRng(!0);r.css("top",_jWin.scrollTop()),isIE?(d.moveToElementText(h),d.select()):(d.selectNodeContents(h),c.removeAllRanges(),c.addRange(d)),setTimeout(function(){var e,t=3===o;if(t)r.html(r.html().replace(\/<br(\\s+[^<>]*)?>\/gi,"\\n")),e=r.text();else{var i=$(".xhe-paste",_doc.body),s=[];i.each(function(e,t){0==$(t).find(".xhe-paste").length&&s.push(t.innerHTML)}),e=s.join("<br \/>")}r.remove(),_this.loadBookmark(),e=e.replace(\/^[\\s\\uFEFF]+|[\\s\\uFEFF]+$\/g,""),e&&(t?_this.pasteText(e):(e=_this.cleanHTML(e),e=_this.cleanWord(e),e=_this.formatXHTML(e),(!settings.onPaste||settings.onPaste&&(e=settings.onPaste(e))!==!1)&&(e=replaceRemoteImg(e),_this.pasteHTML(e)))),bCleanPaste=!1},0)}function replaceRemoteImg(e){var t=settings.localUrlTest,i=settings.remoteImgSaveUrl;if(t&&i){var s=[],a=0;e=e.replace(\/(<img)((?:\\s+[^>]*?)?(?:\\s+src="\\s*([^"]+)\\s*")(?: [^>]*)?)(\\\/?>)\/gi,function(e,i,n,o,l){return!\/^(https?|data:image)\/i.test(o)||\/_xhe_temp\/.test(n)||t.test(o)||(s[a]=o,n=n.replace(\/\\s+(width|height)="[^"]*"\/gi,"").replace(\/\\s+src="[^"]*"\/gi,' src="'+skinPath+'img\/waiting.gif" remoteimg="'+a++ +'"')),i+n+l}),s.length>0&&$.post(i,{urls:s.join("|")},function(e){e=e.split("|"),$("img[remoteimg]",_this.doc).each(function(){var t=$(this);xheAttr(t,"src",e[t.attr("remoteimg")]),t.removeAttr("remoteimg")})})}return e}function setCSS(e){try{_this._exec("styleWithCSS",e,!0)}catch(t){try{_this._exec("useCSS",!e,!0)}catch(t){}}}function setOpts(){if(bInit&&!bSource){setCSS(!1);try{_this._exec("enableObjectResizing",!0,!0)}catch(e){}if(isIE)try{_this._exec("BackgroundImageCache",!0,!0)}catch(e){}}}function forcePtag(e){if(bSource||13!==e.which||e.shiftKey||e.ctrlKey||e.altKey)return!0;var t=_this.getParent("p,h1,h2,h3,h4,h5,h6,pre,address,div,li");return t.is("li")?!0:settings.forcePtag?(0===t.length&&_this._exec("formatblock","<p>"),undefined):(_this.pasteHTML("<br \/>"),isIE&&t.length>0&&2===_this.getRng().parentElement().childNodes.length&&_this.pasteHTML("<br \/>"),!1)}function fixFullHeight(){isMozilla||isWebkit||(bFullscreen&&_jArea.height("100%").css("height",_jArea.outerHeight()-_jTools.outerHeight()),isIE&&_jTools.hide().show())}function fixAppleSel(e){if(e=e.target,e.tagName.match(\/(img|embed)\/i)){var t=_this.getSel(),i=_this.getRng(!0);i.selectNode(e),t.removeAllRanges(),t.addRange(i)}}function xheAttr(e,t,i){if(!t)return!1;var s="_xhe_"+t;return i&&(urlType&&(i=getLocalUrl(i,urlType,urlBase)),e.attr(t,urlBase?getLocalUrl(i,"abs",urlBase):i).removeAttr(s).attr(s,i)),e.attr(s)||e.attr(t)}function clickCancelPanel(){bClickCancel&&_this.hidePanel()}function checkShortcuts(e){if(bSource)return!0;var t=e.which,i=specialKeys[t],s=i?i:String.fromCharCode(t).toLowerCase();sKey="",sKey+=e.ctrlKey?"ctrl+":"",sKey+=e.altKey?"alt+":"",sKey+=e.shiftKey?"shift+":"",sKey+=s;var a,n=arrShortCuts[sKey];for(a in n){if(a=n[a],!$.isFunction(a))return _this.exec(a),!1;if(a.call(_this)===!1)return!1}}function is(e,t){var i=typeof e;return t?"array"===t&&e.hasOwnProperty&&e instanceof Array?!0:i===t:"undefined"!=i}function getLocalUrl(e,t,i){if(e.match(\/^(\\w+):\\\/\\\/\/i)&&!e.match(\/^https?:\/i)||\/^#\/i.test(e)||\/^data:\/i.test(e))return e;var s=i?$('<a href="'+i+'" \/>')[0]:location,a=s.protocol,n=s.host,o=s.hostname,l=s.port,r=s.pathname.replace(\/\\\\\/g,"\/").replace(\/[^\\\/]+$\/i,"");if(""===l&&(l="80"),""===r?r="\/":"\/"!==r.charAt(0)&&(r="\/"+r),e=$.trim(e),"abs"!==t&&(e=e.replace(RegExp(a+"\\\\\/\\\\\/"+o.replace(\/\\.\/g,"\\\\.")+"(?::"+l+")"+("80"===l?"?":"")+"(\/|$)","i"),"\/")),"rel"===t&&(e=e.replace(RegExp("^"+r.replace(\/([\\\/\\.\\+\\[\\]\\(\\)])\/g,"\\\\$1"),"i"),"")),"rel"!==t&&(e.match(\/^(https?:\\\/\\\/|\\\/)\/i)||(e=r+e),"\/"===e.charAt(0))){var h,c,d=[],u=e.split("\/"),p=u.length;for(c=0;p>c;c++)h=u[c],".."===h?d.pop():""!==h&&"."!==h&&d.push(h);""===u[p-1]&&d.push(""),e="\/"+d.join("\/")}return"abs"!==t||e.match(\/^https?:\\\/\\\/\/i)||(e=a+"\/\/"+n+e),e=e.replace(\/(https?:\\\/\\\/[^:\\\/?#]+):80(\\\/|$)\/i,"$1$2")}function checkFileExt(e,t){return"*"===t||e.match(RegExp(".("+t.replace(\/,\/g,"|")+")$","i"))?!0:(alert(getLang("upload.extLimit",t)),!1)}function formatBytes(e){var t=["Byte","KB","MB","GB","TB","PB"],i=Math.floor(Math.log(e)\/Math.log(1024));return(e\/Math.pow(1024,Math.floor(i))).toFixed(2)+t[i]}function returnFalse(){return!1}var _this=this,_text=textarea,_jText=$(_text),_jForm=_jText.closest("form"),_jTools,_jArea,_win,_jWin,_doc,_jDoc,bookmark,bInit=!1,bSource=!1,bFullscreen=!1,bCleanPaste=!1,outerScroll,bShowBlocktag=!1,sLayoutStyle="",ev=null,timer,bDisableHoverExec=!1,bQuickHoverExec=!1,lastPoint=null,lastAngle=null,editorHeight=0,settings=_this.settings=$.extend({},XHEDITOR.settings,options),plugins=settings.plugins,strPlugins=[];if(plugins&&(arrTools=$.extend({},arrTools,plugins),$.each(plugins,function(e){strPlugins.push(e)}),strPlugins=strPlugins.join(",")),settings.tools.match(\/^\\s*(m?full|simple|mini)\\s*$\/i)){var toolsTheme=toolsThemes[$.trim(settings.tools)];settings.tools=settings.tools.match(\/m?full\/i)&&plugins?toolsTheme.replace("Table","Table,"+strPlugins):toolsTheme}settings.tools.match(\/(^|,)\\s*About\\s*(,|$)\/i)||(settings.tools+=",About"),settings.tools=settings.tools.split(","),settings.editorRoot&&(editorRoot=settings.editorRoot),bAir===!1&&(editorRoot=getLocalUrl(editorRoot,"abs")),settings.urlBase&&(settings.urlBase=getLocalUrl(settings.urlBase,"abs"));var idCSS="xheCSS_"+settings.skin,idContainer="xhe"+xCount+"_container",idTools="xhe"+xCount+"_Tool",idIframeArea="xhe"+xCount+"_iframearea",idIframe="xhe"+xCount+"_iframe",idFixFFCursor="xhe"+xCount+"_fixffcursor",headHTML="",bodyClass="",skinPath=editorRoot+"xheditor_skin\/"+settings.skin+"\/",arrEmots=itemEmots,urlType=settings.urlType,urlBase=settings.urlBase,emotPath=settings.emotPath,emotPath=emotPath?emotPath:editorRoot+"xheditor_emot\/",selEmotGroup="";arrEmots=$.extend({},arrEmots,settings.emots),emotPath=getLocalUrl(emotPath,"rel",urlBase?urlBase:null),bShowBlocktag=settings.showBlocktag,bShowBlocktag&&(bodyClass+=" showBlocktag");var arrShortCuts=[];this.init=function(){function e(e){var t,i=$(e.target);(t=i.css("width"))&&i.css("width","").attr("width",t.replace(\/[^0-9%]+\/g,"")),(t=i.css("height"))&&i.css("height","").attr("height",t.replace(\/[^0-9%]+\/g,""))}0===$("#"+idCSS).length&&$("head").append('<link id="'+idCSS+'" rel="stylesheet" type="text\/css" href="'+skinPath+'ui.css" \/>');var t=_jText.outerWidth(),i=_jText.outerHeight(),s=settings.width||_text.style.width||(t>10?t:0);editorHeight=settings.height||_text.style.height||(i>10?i:150),\/^\\d+(?:\\.\\d+)?$\/.test(s)&&(s+="px"),is(editorHeight,"string")&&(editorHeight=editorHeight.replace(\/[^\\d]+\/g,""));var a,n,o=settings.background||_text.style.background,l=['<span class="xheGStart"\/>'],r=\/\\||\\\/\/i;$.each(settings.tools,function(e,t){if(t.match(r)&&l.push('<span class="xheGEnd"\/>'),"|"===t)l.push('<span class="xheSeparator"\/>');else if("\/"===t)l.push("<br \/>");else{if(a=arrTools[t],!a)return;n=a.c?a.c:"xheIcon xheBtn"+t,l.push('<span><a href="#" title="{#'+a.t+'}" cmd="'+t+'" class="xheButton xheEnabled" tabindex="-1" role="button"><span class="'+n+'" unselectable="on" style="font-size:0;color:transparent;text-indent:-999px;">'+a.t+"<\/span><\/a><\/span>"),a.s&&_this.addShortcuts(a.s,t)}t.match(r)&&l.push('<span class="xheGStart"\/>')}),l.push('<span class="xheGEnd"\/><br \/>'),_jText.after($('<input type="text" id="'+idFixFFCursor+'" style="position:absolute;display:none;" \/><span id="'+idContainer+'" class="xhe_'+settings.skin+'" style="display:none"><table cellspacing="0" cellpadding="0" class="xheLayout" style="'+("0px"!=s?"width:"+s+";":"")+"height:"+editorHeight+'px;" role="presentation"><tr><td id="'+idTools+'" class="xheTool" unselectable="on" style="height:1px;" role="presentation"><\/td><\/tr><tr><td id="'+idIframeArea+'" class="xheIframeArea" role="presentation"><iframe frameborder="0" id="'+idIframe+'" src="javascript:;" style="width:100%;"><\/iframe><\/td><\/tr><\/table><\/span>')),_jTools=$("#"+idTools),_jArea=$("#"+idIframeArea),headHTML='<meta http-equiv="Content-Type" content="text\/html; charset=utf-8" \/><link rel="stylesheet" href="'+skinPath+'iframe.css"\/>';var h=settings.loadCSS;if(h)if(is(h,"array"))for(var c in h)headHTML+='<link rel="stylesheet" href="'+h[c]+'"\/>';else headHTML+=h.match(\/\\s*<style(\\s+[^>]*?)?>[\\s\\S]+?<\\\/style>\\s*\/i)?h:'<link rel="stylesheet" href="'+h+'"\/>';var d='<!DOCTYPE html><html xmlns="http:\/\/www.w3.org\/1999\/xhtml"><head>'+headHTML+"<title>{#defaultReadTip} "+(settings.readTip?settings.readTip:"")+"<\/title>";o&&(d+="<style>html{background:"+o+";}<\/style>"),d+='<\/head><body spellcheck="0" class="editMode'+bodyClass+'"><\/body><\/html>',_this.win=_win=$("#"+idIframe)[0].contentWindow,_jWin=$(_win);try{this.doc=_doc=_win.document,_jDoc=$(_doc),_doc.open(),_doc.write(getLang(d)),_doc.close(),isIE?_doc.body.contentEditable="true":_doc.designMode="On"}catch(u){}setTimeout(setOpts,300),_this.setSource(),_win.setInterval=null,_jTools.append(getLang(l.join(""))).bind("mousedown contextmenu",returnFalse).click(function(e){var t=$(e.target).closest("a");return t.is(".xheEnabled")&&(clearTimeout(timer),_jTools.find("a").attr("tabindex","-1"),ev=e,_this.exec(t.attr("cmd"))),!1}),_jTools.find(".xheButton").hover(function(e){var t=$(this),i=settings.hoverExecDelay,s=lastAngle;if(lastAngle=null,-1===i||bDisableHoverExec||!t.is(".xheEnabled"))return!1;if(s&&s>10)return bDisableHoverExec=!0,setTimeout(function(){bDisableHoverExec=!1},100),!1;var a=t.attr("cmd"),n=1===arrTools[a].h;return n?(bQuickHoverExec&&(i=0),i>=0&&(timer=setTimeout(function(){ev=e,lastPoint={x:ev.clientX,y:ev.clientY},_this.exec(a)},i)),undefined):(_this.hidePanel(),!1)},function(){lastPoint=null,timer&&clearTimeout(timer)}).mousemove(function(e){if(lastPoint){var t={x:e.clientX-lastPoint.x,y:e.clientY-lastPoint.y};if(Math.abs(t.x)>1||Math.abs(t.y)>1){if(t.x>0&&t.y>0){var i=Math.round(Math.atan(t.y\/t.x)\/.017453293);lastAngle=lastAngle?(lastAngle+i)\/2:i}else lastAngle=null;lastPoint={x:e.clientX,y:e.clientY}}}}),_jPanel=$("#xhePanel"),_jShadow=$("#xheShadow"),_jCntLine=$("#xheCntLine"),0===_jPanel.length&&(_jPanel=$('<div id="xhePanel"><\/div>').mousedown(function(e){e.stopPropagation()}),_jShadow=$('<div id="xheShadow"><\/div>'),_jCntLine=$('<div id="xheCntLine"><\/div>'),setTimeout(function(){$(document.body).append(_jPanel).append(_jShadow).append(_jCntLine)},10)),$("#"+idContainer).show(),_jText.hide(),_jArea.css("height",editorHeight-_jTools.outerHeight()),isIE&8>browerVer&&setTimeout(function(){_jArea.css("height",editorHeight-_jTools.outerHeight())},1),_jText.focus(_this.focus),_jForm.submit(saveResult).bind("reset",loadReset),settings.submitID&&$("#"+settings.submitID).mousedown(saveResult),$(window).bind("unload beforeunload",saveResult).bind("resize",fixFullHeight),$(document).mousedown(clickCancelPanel),bCheckEscInit||($(document).keydown(checkEsc),bCheckEscInit=!0),_jWin.focus(function(){settings.focus&&settings.focus()}).blur(function(){settings.blur&&settings.blur()}),isWebkit&&_jWin.click(fixAppleSel),_jDoc.mousedown(clickCancelPanel).keydown(checkShortcuts).keypress(forcePtag).dblclick(checkDblClick).bind("mousedown click",function(e){_jText.trigger(e.type)}),isIE&&(_jDoc.keydown(function(e){var t=_this.getRng();return 8===e.which&&t.item?($(t.item(0)).remove(),!1):undefined}),_jDoc.bind("controlselect",function(t){t=t.target,$.nodeName(t,"IMG")&&$(t).unbind("resizeend",e).bind("resizeend",e)})),_jDoc.keydown(function(e){var t=e.which;return e.altKey&&t>=49&&57>=t?(_jTools.find("a").attr("tabindex","0"),_jTools.find(".xheGStart").eq(t-49).next().find("a").focus(),_doc.title="\\ufeff\\ufeff",!1):undefined}).click(function(){_jTools.find("a").attr("tabindex","-1")}),_jTools.keydown(function(e){var t=e.which;if(27==t)_jTools.find("a").attr("tabindex","-1"),_this.focus();else if(e.altKey&&t>=49&&57>=t)return _jTools.find(".xheGStart").eq(t-49).next().find("a").focus(),!1});var p=$(_doc.documentElement);isOpera?p.bind("keydown",function(e){e.ctrlKey&&86===e.which&&cleanPaste()}):p.bind(isIE?"beforepaste":"paste",cleanPaste),settings.disableContextmenu&&p.bind("contextmenu",returnFalse),settings.html5Upload&&p.bind("dragenter dragover",function(e){var t;return(t=e.originalEvent.dataTransfer.types)&&-1!==$.inArray("Files",t)?!1:undefined}).bind("drop",function(e){function t(e){var t,i,s;for(a=0;e.length>a;a++){if(i=e[a].name.replace(\/.+\\.\/,""),!(t=o.match(RegExp("(\\\\w+):[^:]*,"+i+"(?:,|$)","i"))))return 1;if(s){if(s!==t[1])return 2}else s=t[1]}return s}var i,s=e.originalEvent.dataTransfer;if(s&&(i=s.files)&&i.length>0){var a,n,o,l=["Link","Img","Flash","Media"],r=[];for(a in l)n=l[a],settings["up"+n+"Url"]&&settings["up"+n+"Url"].match(\/^[^!].*\/i)&&r.push(n+":,"+settings["up"+n+"Ext"]);return 0===r.length?!1:(o=r.join(","),n=t(i),1===n?alert(getLang("upload.extLimit",o.replace(\/\\w+:,\/g,""))):2===n?alert(getLang("upload.typeLimit")):n&&_this.startUpload(i,settings["up"+n+"Url"],"*",function(e){var t,i=[],s=settings.onUpload;s&&s(e);for(var a=0,o=e.length;o>a;a++)t=e[a],url=is(t,"string")?t:t.url,"!"===url.substr(0,1)&&(url=url.substr(1)),i.push(url);_this.exec(n),$("#xhe"+n+"Url").val(i.join(" ")),$("#xheSave").click()}),!1)}});var g=settings.shortcuts;g&&$.each(g,function(e,t){_this.addShortcuts(e,t)}),xCount++,bInit=!0,settings.fullscreen?_this.toggleFullscreen():settings.sourceMode&&setTimeout(_this.toggleSource,20);var f=settings.plugins;return f&&$.each(f,function(e,t){var i=t.i;i!==undefined&&i(_this)}),!0},this.remove=function(){_this.hidePanel(),saveResult(),_jText.unbind("focus",_this.focus),_jForm.unbind("submit",saveResult).unbind("reset",loadReset),settings.submitID&&$("#"+settings.submitID).unbind("mousedown",saveResult),$(window).unbind("unload beforeunload",saveResult).unbind("resize",fixFullHeight),$(document).unbind("mousedown",clickCancelPanel),$("#"+idContainer).remove(),$("#"+idFixFFCursor).remove(),_jText.show(),bInit=!1},this.saveBookmark=function(){if(!bSource){_this.focus();var e=_this.getRng();e=e.cloneRange?e.cloneRange():e,bookmark={top:_jWin.scrollTop(),rng:e}}},this.loadBookmark=function(){if(!bSource&&bookmark){_this.focus();var e=bookmark.rng;if(isIE)e.select();else{var t=_this.getSel();t.removeAllRanges(),t.addRange(e)}_jWin.scrollTop(bookmark.top),bookmark=null}},this.focus=function(){if(bSource?$("#sourceCode",_doc).focus():_win.focus(),isIE){var e=_this.getRng();e.parentElement&&e.parentElement().ownerDocument!==_doc&&_this.setTextCursor()}return!1},this.setTextCursor=function(e){var t=_this.getRng(!0),i=_doc.body;if(isIE)t.moveToElementText(i);else{for(var s=e?"lastChild":"firstChild";3!=i.nodeType&&i[s];)i=i[s];t.selectNode(i)}if(t.collapse(e?!1:!0),isIE)t.select();else{var a=_this.getSel();a.removeAllRanges(),a.addRange(t)}},this.getSel=function(){return _doc.selection?_doc.selection:_win.getSelection()},this.getRng=function(e){var t,i;try{e||(t=_this.getSel(),i=t.createRange?t.createRange():t.rangeCount>0?t.getRangeAt(0):null),i||(i=_doc.body.createTextRange?_doc.body.createTextRange():_doc.createRange())}catch(s){}return i},this.getParent=function(e){var t,i=_this.getRng();return isIE?t=i.item?i.item(0):i.parentElement():(t=i.commonAncestorContainer,i.collapsed||i.startContainer===i.endContainer&&2>i.startOffset-i.endOffset&&i.startContainer.hasChildNodes()&&(t=i.startContainer.childNodes[i.startOffset])),e=e?e:"*",t=$(t),t.is(e)||(t=$(t).closest(e)),t},this.getSelect=function(e){var t=_this.getSel(),i=_this.getRng(),s=!0;if(s=!i||i.item?!1:!t||0===i.boundingWidth||i.collapsed,"text"===e)return s?"":i.text||(t.toString?""+t:"");var a;if(i.cloneContents){var n,o=$("<div><\/div>");n=i.cloneContents(),n&&o.append(n),a=o.html()}else a=is(i.item)?i.item(0).outerHTML:is(i.htmlText)?i.htmlText:""+i;return s&&(a=""),a=_this.processHTML(a,"read"),a=_this.cleanHTML(a),a=_this.formatXHTML(a)},this.pasteHTML=function(e,t){if(bSource)return!1;_this.focus(),e=_this.processHTML(e,"write");var i=_this.getSel(),s=_this.getRng();if(t!==undefined){if(s.item){var a=s.item(0);s=_this.getRng(!0),s.moveToElementText(a),s.select()}s.collapse(t)}if(e+="<"+(isIE?"img":"span")+' id="_xhe_temp" width="0" height="0" \/>',s.insertNode){if($(s.startContainer).closest("style,script").length>0)return!1;s.deleteContents(),s.insertNode(s.createContextualFragment(e))}else"control"===i.type.toLowerCase()&&(i.clear(),s=_this.getRng()),s.pasteHTML(e);var n=$("#_xhe_temp",_doc),o=n[0];isIE?(s.moveToElementText(o),s.select()):(s.selectNode(o),i.removeAllRanges(),i.addRange(s)),n.remove()},this.pasteText=function(e,t){e||(e=""),e=_this.domEncode(e),e=e.replace(\/\\r?\\n\/g,"<br \/>"),_this.pasteHTML(e,t)},this.appendHTML=function(e){return bSource?!1:(_this.focus(),e=_this.processHTML(e,"write"),$(_doc.body).append(e),_this.setTextCursor(!0),undefined)},this.domEncode=function(e){return e.replace(regEntities,function(e){return arrEntities[e]})},this.setSource=function(e){bookmark=null,"string"!=typeof e&&""!==e&&(e=_text.value),bSource?$("#sourceCode",_doc).val(e):(settings.beforeSetSource&&(e=settings.beforeSetSource(e)),e=_this.cleanHTML(e),e=_this.formatXHTML(e),e=_this.processHTML(e,"write"),isIE?(_doc.body.innerHTML='<img id="_xhe_temp" width="0" height="0" \/>'+e,$("#_xhe_temp",_doc).remove()):_doc.body.innerHTML=e)},this.processHTML=function(e,t){function i(e,t,i,s,a,o){var l,r,h,c,d="";if(l=s.match(\/font-family\\s*:\\s*([^;"]+)\/i),l&&(d+=' face="'+l[1]+'"'),r=s.match(\/font-size\\s*:\\s*([^;"]+)\/i)){r=r[1].toLowerCase();for(var u=0;n.length>u;u++)if(r===n[u].n||r===n[u].s){h=u+1;break}h&&(d+=' size="'+h+'"',s=s.replace(\/(^|;)(\\s*font-size\\s*:\\s*[^;"]+;?)+\/gi,"$1"))}if(c=s.match(\/(?:^|[\\s;])color\\s*:\\s*([^;"]+)\/i)){var p;if(p=c[1].match(\/\\s*rgb\\s*\\(\\s*(\\d+)\\s*,\\s*(\\d+)\\s*,\\s*(\\d+)\\s*\\)\/i)){c[1]="#";for(var g=1;3>=g;g++)c[1]+=("0"+(p[g]-0).toString(16)).slice(-2)}c[1]=c[1].replace(\/^#([0-9a-f])([0-9a-f])([0-9a-f])$\/i,"#$1$1$2$2$3$3"),d+=' color="'+c[1]+'"'}return s=s.replace(\/(^|;)(\\s*(font-family|color)\\s*:\\s*[^;"]+;?)+\/gi,"$1"),""!==d?(s&&(d+=' style="'+s+'"'),"<font"+(i?i:"")+d+(a?a:"")+">"+o+"<\/font>"):e}function s(e,t,i,s,a){for(var n,l,r=(i?i:"")+(s?s:""),h=[],c=[],d=0;o.length>d;d++)n=o[d].r,l=o[d].t,r=r.replace(n,function(){return h.push("<"+l+">"),c.push("<\/"+l+">"),""});return r=r.replace(\/\\s+style\\s*=\\s*"\\s*"\/i,""),(r?"<span"+r+">":"")+h.join("")+a+c.join("")+(r?"<\/span>":"")}var a=' class="Apple-style-span"',n=settings.listFontsize;if("write"===t)e=e.replace(\/(<(\\\/?)(\\w+))((?:\\s+[\\w\\-:]+\\s*=\\s*(?:"[^"]*"|'[^']*'|[^>\\s]+))*)\\s*((\\\/?)>)\/g,function(e,t,i,s,n,o,l){s=s.toLowerCase(),isMozilla?"strong"===s?s="b":"em"===s&&(s="i"):isWebkit&&("strong"===s?(s="span",i||(n+=a+' style="font-weight: bold;"')):"em"===s?(s="span",i||(n+=a+' style="font-style: italic;"')):"u"===s?(s="span",i||(n+=a+' style="text-decoration: underline;"')):"strike"===s&&(s="span",i||(n+=a+' style="text-decoration: line-through;"')));var r,h="";if("del"===s)s="strike";else if("img"===s)n=n.replace(\/\\s+emot\\s*=\\s*("[^"]*"|'[^']*'|[^>\\s]+)\/i,function(e,t){return r=t.match(\/^(["']?)(.*)\\1\/)[2],r=r.split(","),r[1]||(r[1]=r[0],r[0]=""),"default"===r[0]&&(r[0]=""),settings.emotMark?e:""});else if("a"===s)!n.match(\/ href=[^ ]\/i)&&n.match(\/ name=[^ ]\/i)&&(h+=" xhe-anchor"),l&&(o="><\/a>");else if("table"===s&&!i){var c=n.match(\/\\s+border\\s*=\\s*("[^"]*"|'[^']*'|[^>\\s]+)\/i);(!c||c[1].match(\/^(["']?)\\s*0\\s*\\1$\/))&&(h+=" xhe-border")}var d;if(n=n.replace(\/\\s+([\\w\\-:]+)\\s*=\\s*("[^"]*"|'[^']*'|[^>\\s]+)\/g,function(e,t,i){return t=t.toLowerCase(),i=i.match(\/^(["']?)(.*)\\1\/)[2],aft="",isIE&&t.match(\/^(disabled|checked|readonly|selected)$\/)&&i.match(\/^(false|0)$\/i)?"":"img"===s&&r&&"src"===t?"":(t.match(\/^(src|href)$\/)&&(aft=" _xhe_"+t+'="'+i+'"',urlBase&&(i=getLocalUrl(i,"abs",urlBase))),h&&"class"===t&&(i+=" "+h,h=""),isWebkit&&"style"===t&&"span"===s&&i.match(\/(^|;)\\s*(font-family|font-size|color|background-color)\\s*:\\s*[^;]+\\s*(;|$)\/i)&&(d=!0)," "+t+'="'+i+'"'+aft)}),r){var u=emotPath+(r[0]?r[0]:"default")+"\/"+r[1]+".gif";n+=' src="'+u+'" _xhe_src="'+u+'"'}return d&&(n+=a),h&&(n+=' class="'+h+'"'),"<"+i+s+n+o}),isIE&&(e=e.replace(\/&apos;\/gi,"&#39;")),isWebkit||(e=e.replace(\/<(span)(\\s+[^>]*?)?\\s+style\\s*=\\s*"((?:[^"]*?;)?\\s*(?:font-family|font-size|color)\\s*:[^"]*)"( [^>]*)?>(((?!<\\1(\\s+[^>]*?)?>)[\\s\\S]|<\\1(\\s+[^>]*?)?>((?!<\\1(\\s+[^>]*?)?>)[\\s\\S]|<\\1(\\s+[^>]*?)?>((?!<\\1(\\s+[^>]*?)?>)[\\s\\S])*?<\\\/\\1>)*?<\\\/\\1>)*?)<\\\/\\1>\/gi,i),e=e.replace(\/<(span)(\\s+[^>]*?)?\\s+style\\s*=\\s*"((?:[^"]*?;)?\\s*(?:font-family|font-size|color)\\s*:[^"]*)"( [^>]*)?>(((?!<\\1(\\s+[^>]*?)?>)[\\s\\S]|<\\1(\\s+[^>]*?)?>((?!<\\1(\\s+[^>]*?)?>)[\\s\\S])*?<\\\/\\1>)*?)<\\\/\\1>\/gi,i),e=e.replace(\/<(span)(\\s+[^>]*?)?\\s+style\\s*=\\s*"((?:[^"]*?;)?\\s*(?:font-family|font-size|color)\\s*:[^"]*)"( [^>]*)?>(((?!<\\1(\\s+[^>]*?)?>)[\\s\\S])*?)<\\\/\\1>\/gi,i)),e=e.replace(\/<(td|th)(\\s+[^>]*?)?>(\\s|&nbsp;)*<\\\/\\1>\/gi,"<$1$2>"+(isIE?"":"<br \/>")+"<\/$1>");else{if(isWebkit)for(var o=[{r:\/font-weight\\s*:\\s*bold;?\/gi,t:"strong"},{r:\/font-style\\s*:\\s*italic;?\/gi,t:"em"},{r:\/text-decoration\\s*:\\s*underline;?\/gi,t:"u"},{r:\/text-decoration\\s*:\\s*line-through;?\/gi,t:"strike"}],l=0;2>l;l++)e=e.replace(\/<(span)(\\s+[^>]*?)?\\s+class\\s*=\\s*"Apple-style-span"(\\s+[^>]*?)?>(((?!<\\1(\\s+[^>]*?)?>)[\\s\\S]|<\\1(\\s+[^>]*?)?>((?!<\\1(\\s+[^>]*?)?>)[\\s\\S]|<\\1(\\s+[^>]*?)?>((?!<\\1(\\s+[^>]*?)?>)[\\s\\S])*?<\\\/\\1>)*?<\\\/\\1>)*?)<\\\/\\1>\/gi,s),e=e.replace(\/<(span)(\\s+[^>]*?)?\\s+class\\s*=\\s*"Apple-style-span"(\\s+[^>]*?)?>(((?!<\\1(\\s+[^>]*?)?>)[\\s\\S]|<\\1(\\s+[^>]*?)?>((?!<\\1(\\s+[^>]*?)?>)[\\s\\S])*?<\\\/\\1>)*?)<\\\/\\1>\/gi,s),e=e.replace(\/<(span)(\\s+[^>]*?)?\\s+class\\s*=\\s*"Apple-style-span"(\\s+[^>]*?)?>(((?!<\\1(\\s+[^>]*?)?>)[\\s\\S])*?)<\\\/\\1>\/gi,s);e=e.replace(\/(<(\\w+))((?:\\s+[\\w\\-:]+\\s*=\\s*(?:"[^"]*"|'[^']*'|[^>\\s]+))*)\\s*(\\\/?>)\/g,function(e,t,i,s,a){i=i.toLowerCase();$/;"	p
var.specialKeys.45	js/xheditor.min.js	/^(function(){var e={};window.XHEDITOR=e})(),function(e,t){e.mapLang={},e.setLang=function(i,s){s===t&&(s=i,i=""),""!==i&&(i+=".");var a,n;for(var o in s)n=s[o],a=i+o,"string"==typeof n||n instanceof Array?e.mapLang[a]=n:e.setLang(a,n)},e.getLang=function(i){var s=e.mapLang[i];if(s===t&&(s=i.replace(\/{#([^{}]+)}\/g,function(t,i){var s=e.mapLang[i];return s?s:i})),"string"==typeof s){var a=arguments;s=s.replace(\/{\\$(\\d+)}\/g,function(e,i){var s=a[parseInt(i,10)+1];return s!==t?s:e})}return s}}(XHEDITOR),function(XHEDITOR,$,undefined){var agent=navigator.userAgent.toLowerCase(),bMobile=\/mobile\/i.test(agent),browser=$.browser,browerVer=parseFloat(browser.version),isIE=browser.msie,isMozilla=browser.mozilla,isWebkit=browser.webkit,isOpera=browser.opera,isChrome=browser.chrome,bAir=agent.indexOf(" adobeair\/")>-1,xCount=0,bShowPanel=!1,bClickCancel=!0,bShowModal=!1,bCheckEscInit=!1,_jPanel,_jShadow,_jCntLine,_jPanelButton,jModal,jModalShadow,layerShadow,jOverlay,jHideSelect,onModalRemove,editorRoot,getLang=XHEDITOR.getLang;if($("script[src*=xheditor]").each(function(){var e=this.src;return e.match(\/xheditor[^\\\/]*\\.js\/i)?(editorRoot=e.replace(\/[\\?#].*$\/,"").replace(\/(^|[\\\/\\\\])[^\\\/]*$\/,"$1"),!1):undefined}),isIE){try{document.execCommand("BackgroundImageCache",!1,!0)}catch(e){}var jqueryVer=$.fn.jquery;jqueryVer&&jqueryVer.match(\/^1\\.[67]\/)&&($.attrHooks.width=$.attrHooks.height=null)}var specialKeys={27:"esc",9:"tab",32:"space",13:"enter",8:"backspace",145:"scroll",20:"capslock",144:"numlock",19:"pause",45:"insert",36:"home",46:"del",35:"end",33:"pageup",34:"pagedown",37:"left",38:"up",39:"right",40:"down",112:"f1",113:"f2",114:"f3",115:"f4",116:"f5",117:"f6",118:"f7",119:"f8",120:"f9",121:"f10",122:"f11",123:"f12"},arrAlign=[{v:"justifyleft"},{v:"justifycenter"},{v:"justifyright"},{v:"justifyfull"}],arrList=[{v:"insertOrderedList"},{v:"insertUnorderedList"}],htmlPastetext='<div><label for="xhePastetextValue">{#PastetextTip}<\/label><\/div><div><textarea id="xhePastetextValue" wrap="soft" spellcheck="false" style="width:300px;height:100px;" \/><\/div><div style="text-align:right;"><input type="button" id="xheSave" value="{#dialogOk}" \/><\/div>',htmlLink='<div><label for="xheLinkUrl">{#link.url}<\/label><input type="text" id="xheLinkUrl" value="http:\/\/" class="xheText" \/><\/div><div><label for="xheLinkTarget">{#link.target}<\/label><select id="xheLinkTarget"><option selected="selected" value="">{#default}<\/option><option value="_blank">{#link.targetBlank}<\/option><option value="_self">{#link.targetSelf}<\/option><option value="_parent">{#link.targetParent}<\/option><\/select><\/div><div style="display:none"><label for="xheLinkText">{#link.linkText}<\/label><input type="text" id="xheLinkText" value="" class="xheText" \/><\/div><div style="text-align:right;"><input type="button" id="xheSave" value="{#dialogOk}" \/><\/div>',htmlAnchor='<div><label for="xheAnchorName">{#anchor.name}<\/label><input type="text" id="xheAnchorName" value="" class="xheText" \/><\/div><div style="text-align:right;"><input type="button" id="xheSave" value="{#dialogOk}" \/><\/div>',htmlImg='<div><label for="xheImgUrl">{#img.url}<\/label><input type="text" id="xheImgUrl" value="http:\/\/" class="xheText" \/><\/div><div><div><label for="xheImgAlt">{#img.alt}<\/label><input type="text" id="xheImgAlt" \/><\/div><div><label for="xheImgAlign">{#img.align}<\/label><select id="xheImgAlign"><option selected="selected" value="">{#default}<\/option><option value="left">{#img.alignLeft}<\/option><option value="right">{#img.alignRight}<\/option><option value="top">{#img.alignTop}<\/option><option value="middle">{#img.alignMiddle}<\/option><option value="baseline">{#img.alignBaseline}<\/option><option value="bottom">{#img.alignBottom}<\/option><\/select><\/div><div><label for="xheImgWidth">{#img.width}<\/label><input type="text" id="xheImgWidth" style="width:40px;" \/> <label for="xheImgHeight">{#img.height}<\/label><input type="text" id="xheImgHeight" style="width:40px;" \/><\/div><div><label for="xheImgBorder">{#img.border}<\/label><input type="text" id="xheImgBorder" style="width:40px;" \/><\/div><div><label for="xheImgHspace">{#img.hspace}<\/label><input type="text" id="xheImgHspace" style="width:40px;" \/> <label for="xheImgVspace">{#img.vspace}<\/label><input type="text" id="xheImgVspace" style="width:40px;" \/><\/div><div style="text-align:right;"><input type="button" id="xheSave" value="{#dialogOk}" \/><\/div>',htmlFlash='<div><label for="xheFlashUrl">{#flash.url}<\/label><input type="text" id="xheFlashUrl" value="http:\/\/" class="xheText" \/><\/div><div><label for="xheFlashWidth">{#flash.width}<\/label><input type="text" id="xheFlashWidth" style="width:40px;" value="480" \/> <label for="xheFlashHeight">{#flash.height}<\/label><input type="text" id="xheFlashHeight" style="width:40px;" value="400" \/><\/div><div style="text-align:right;"><input type="button" id="xheSave" value="{#dialogOk}" \/><\/div>',htmlMedia='<div><label for="xheMediaUrl">{#media.url}<\/label><input type="text" id="xheMediaUrl" value="http:\/\/" class="xheText" \/><\/div><div><label for="xheMediaWidth">{#media.width}<\/label><input type="text" id="xheMediaWidth" style="width:40px;" value="480" \/> <label for="xheMediaHeight">{#media.height}<\/label><input type="text" id="xheMediaHeight" style="width:40px;" value="400" \/><\/div><div style="text-align:right;"><input type="button" id="xheSave" value="{#dialogOk}" \/><\/div>',htmlTable='<div><label for="xheTableRows">{#table.rows}<\/label><input type="text" id="xheTableRows" style="width:40px;" value="3" \/> <label for="xheTableColumns">{#table.columns}<\/label><input type="text" id="xheTableColumns" style="width:40px;" value="2" \/><\/div><div><label for="xheTableHeaders">{#table.headers}<\/label><select id="xheTableHeaders"><option selected="selected" value="">{#none}<\/option><option value="row">{#table.headersRow}<\/option><option value="col">{#table.headersCol}<\/option><option value="both">{#table.headersBoth}<\/option><\/select><\/div><div><label for="xheTableWidth">{#table.width}<\/label><input type="text" id="xheTableWidth" style="width:40px;" value="200" \/> <label for="xheTableHeight">{#table.height}<\/label><input type="text" id="xheTableHeight" style="width:40px;" value="" \/><\/div><div><label for="xheTableBorder">{#table.border}<\/label><input type="text" id="xheTableBorder" style="width:40px;" value="1" \/><\/div><div><label for="xheTableCellSpacing">{#table.cellSpacing}<\/label><input type="text" id="xheTableCellSpacing" style="width:40px;" value="1" \/> <label for="xheTableCellPadding">{#table.cellPadding}<\/label><input type="text" id="xheTableCellPadding" style="width:40px;" value="1" \/><\/div><div><label for="xheTableAlign">{#table.align}<\/label><select id="xheTableAlign"><option selected="selected" value="">{#default}<\/option><option value="left">{#table.alignLeft}<\/option><option value="center">{#table.alignCenter}<\/option><option value="right">{#table.alignRight}<\/option><\/select><\/div><div><label for="xheTableCaption">{#table.caption}<\/label><input type="text" id="xheTableCaption" \/><\/div><div style="text-align:right;"><input type="button" id="xheSave" value="{#dialogOk}" \/><\/div>',htmlAbout='<div style="font:12px Arial;width:245px;word-wrap:break-word;word-break:break-all;outline:none;" role="dialog" tabindex="-1"><p><span style="font-size:20px;color:#1997DF;">xhEditor<\/span><br \/>v1.2.1 (build 130225)<\/p><p>{#aboutXheditor}<\/p><p>Copyright &copy; <a href="http:\/\/xheditor.com\/" target="_blank">xhEditor.com<\/a>. All rights reserved.<\/p><\/div>',itemEmots={"default":{name:"{#default}",width:24,height:24,line:7,list:["smile","tongue","titter","laugh","sad","wronged","fastcry","cry","wail","mad","knock","curse","crazy","angry","ohmy","awkward","panic","shy","cute","envy","proud","struggle","quiet","shutup","doubt","despise","sleep","bye"]}},arrTools={Cut:{t:"Cut"},Copy:{t:"Copy"},Paste:{t:"Paste"},Pastetext:{t:"Pastetext",h:isIE?0:1},Blocktag:{t:"Blocktag",h:1},Fontface:{t:"Fontface",h:1},FontSize:{t:"FontSize",h:1},Bold:{t:"Bold",s:"Ctrl+B"},Italic:{t:"Italic",s:"Ctrl+I"},Underline:{t:"Underline",s:"Ctrl+U"},Strikethrough:{t:"Strikethrough"},FontColor:{t:"FontColor",h:1},BackColor:{t:"BackColor",h:1},SelectAll:{t:"SelectAll"},Removeformat:{t:"Removeformat"},Align:{t:"Align",h:1},List:{t:"List",h:1},Outdent:{t:"Outdent"},Indent:{t:"Indent"},Link:{t:"Link",s:"Ctrl+L",h:1},Unlink:{t:"Unlink"},Anchor:{t:"Anchor",h:1},Img:{t:"Img",h:1},Flash:{t:"Flash",h:1},Media:{t:"Media",h:1},Hr:{t:"Hr"},Emot:{t:"Emot",s:"ctrl+e",h:1},Table:{t:"Table",h:1},Source:{t:"Source"},Preview:{t:"Preview"},Print:{t:"Print",s:"Ctrl+P"},Fullscreen:{t:"Fullscreen",s:"Esc"},About:{t:"About"}},toolsThemes={mini:"Bold,Italic,Underline,Strikethrough,|,Align,List,|,Link,Img",simple:"Blocktag,Fontface,FontSize,Bold,Italic,Underline,Strikethrough,FontColor,BackColor,|,Align,List,Outdent,Indent,|,Link,Img,Emot",full:"Cut,Copy,Paste,Pastetext,|,Blocktag,Fontface,FontSize,Bold,Italic,Underline,Strikethrough,FontColor,BackColor,SelectAll,Removeformat,|,Align,List,Outdent,Indent,|,Link,Unlink,Anchor,Img,Flash,Media,Hr,Emot,Table,|,Source,Preview,Print,Fullscreen"};toolsThemes.mfull=toolsThemes.full.replace(\/\\|(,Align)\/i,"\/$1");var arrDbClick={a:"Link",img:"Img",embed:"Embed"},uploadInputname="filedata",arrEntities={"<":"&lt;",">":"&gt;",'"':"&quot;","\\u00ae":"&reg;","\\u00a9":"&copy;"},regEntities=\/[<>"\\u00ae\\u00a9]\/g,Xheditor=function(textarea,options){function checkDblClick(e){var t=e.target,i=arrDbClick[t.tagName.toLowerCase()];if(i){if("Embed"===i){var s={"application\/x-shockwave-flash":"Flash","application\/x-mplayer2":"Media"};i=s[t.type.toLowerCase()]}_this.exec(i)}}function checkEsc(e){return 27===e.which?(bShowModal?_this.removeModal():bShowPanel&&_this.hidePanel(),!1):undefined}function loadReset(){setTimeout(_this.setSource,10)}function saveResult(){_this.getSource()}function cleanPaste(e){var t,i,s;if(e&&(t=e.originalEvent.clipboardData)&&(i=t.items)&&(s=i[0])&&"file"==s.kind&&s.type.match(\/^image\\\/\/i)){var a=s.getAsFile(),n=new FileReader;return n.onload=function(){var e='<img src="'+event.target.result+'">';e=replaceRemoteImg(e),_this.pasteHTML(e)},n.readAsDataURL(a),!1}var o=settings.cleanPaste;if(0===o||bSource||bCleanPaste)return!0;bCleanPaste=!0,_this.saveBookmark();var l=isIE?"pre":"div",r=$("<"+l+' class="xhe-paste">\\ufeff\\ufeff<\/'+l+">",_doc).appendTo(_doc.body),h=r[0],c=_this.getSel(),d=_this.getRng(!0);r.css("top",_jWin.scrollTop()),isIE?(d.moveToElementText(h),d.select()):(d.selectNodeContents(h),c.removeAllRanges(),c.addRange(d)),setTimeout(function(){var e,t=3===o;if(t)r.html(r.html().replace(\/<br(\\s+[^<>]*)?>\/gi,"\\n")),e=r.text();else{var i=$(".xhe-paste",_doc.body),s=[];i.each(function(e,t){0==$(t).find(".xhe-paste").length&&s.push(t.innerHTML)}),e=s.join("<br \/>")}r.remove(),_this.loadBookmark(),e=e.replace(\/^[\\s\\uFEFF]+|[\\s\\uFEFF]+$\/g,""),e&&(t?_this.pasteText(e):(e=_this.cleanHTML(e),e=_this.cleanWord(e),e=_this.formatXHTML(e),(!settings.onPaste||settings.onPaste&&(e=settings.onPaste(e))!==!1)&&(e=replaceRemoteImg(e),_this.pasteHTML(e)))),bCleanPaste=!1},0)}function replaceRemoteImg(e){var t=settings.localUrlTest,i=settings.remoteImgSaveUrl;if(t&&i){var s=[],a=0;e=e.replace(\/(<img)((?:\\s+[^>]*?)?(?:\\s+src="\\s*([^"]+)\\s*")(?: [^>]*)?)(\\\/?>)\/gi,function(e,i,n,o,l){return!\/^(https?|data:image)\/i.test(o)||\/_xhe_temp\/.test(n)||t.test(o)||(s[a]=o,n=n.replace(\/\\s+(width|height)="[^"]*"\/gi,"").replace(\/\\s+src="[^"]*"\/gi,' src="'+skinPath+'img\/waiting.gif" remoteimg="'+a++ +'"')),i+n+l}),s.length>0&&$.post(i,{urls:s.join("|")},function(e){e=e.split("|"),$("img[remoteimg]",_this.doc).each(function(){var t=$(this);xheAttr(t,"src",e[t.attr("remoteimg")]),t.removeAttr("remoteimg")})})}return e}function setCSS(e){try{_this._exec("styleWithCSS",e,!0)}catch(t){try{_this._exec("useCSS",!e,!0)}catch(t){}}}function setOpts(){if(bInit&&!bSource){setCSS(!1);try{_this._exec("enableObjectResizing",!0,!0)}catch(e){}if(isIE)try{_this._exec("BackgroundImageCache",!0,!0)}catch(e){}}}function forcePtag(e){if(bSource||13!==e.which||e.shiftKey||e.ctrlKey||e.altKey)return!0;var t=_this.getParent("p,h1,h2,h3,h4,h5,h6,pre,address,div,li");return t.is("li")?!0:settings.forcePtag?(0===t.length&&_this._exec("formatblock","<p>"),undefined):(_this.pasteHTML("<br \/>"),isIE&&t.length>0&&2===_this.getRng().parentElement().childNodes.length&&_this.pasteHTML("<br \/>"),!1)}function fixFullHeight(){isMozilla||isWebkit||(bFullscreen&&_jArea.height("100%").css("height",_jArea.outerHeight()-_jTools.outerHeight()),isIE&&_jTools.hide().show())}function fixAppleSel(e){if(e=e.target,e.tagName.match(\/(img|embed)\/i)){var t=_this.getSel(),i=_this.getRng(!0);i.selectNode(e),t.removeAllRanges(),t.addRange(i)}}function xheAttr(e,t,i){if(!t)return!1;var s="_xhe_"+t;return i&&(urlType&&(i=getLocalUrl(i,urlType,urlBase)),e.attr(t,urlBase?getLocalUrl(i,"abs",urlBase):i).removeAttr(s).attr(s,i)),e.attr(s)||e.attr(t)}function clickCancelPanel(){bClickCancel&&_this.hidePanel()}function checkShortcuts(e){if(bSource)return!0;var t=e.which,i=specialKeys[t],s=i?i:String.fromCharCode(t).toLowerCase();sKey="",sKey+=e.ctrlKey?"ctrl+":"",sKey+=e.altKey?"alt+":"",sKey+=e.shiftKey?"shift+":"",sKey+=s;var a,n=arrShortCuts[sKey];for(a in n){if(a=n[a],!$.isFunction(a))return _this.exec(a),!1;if(a.call(_this)===!1)return!1}}function is(e,t){var i=typeof e;return t?"array"===t&&e.hasOwnProperty&&e instanceof Array?!0:i===t:"undefined"!=i}function getLocalUrl(e,t,i){if(e.match(\/^(\\w+):\\\/\\\/\/i)&&!e.match(\/^https?:\/i)||\/^#\/i.test(e)||\/^data:\/i.test(e))return e;var s=i?$('<a href="'+i+'" \/>')[0]:location,a=s.protocol,n=s.host,o=s.hostname,l=s.port,r=s.pathname.replace(\/\\\\\/g,"\/").replace(\/[^\\\/]+$\/i,"");if(""===l&&(l="80"),""===r?r="\/":"\/"!==r.charAt(0)&&(r="\/"+r),e=$.trim(e),"abs"!==t&&(e=e.replace(RegExp(a+"\\\\\/\\\\\/"+o.replace(\/\\.\/g,"\\\\.")+"(?::"+l+")"+("80"===l?"?":"")+"(\/|$)","i"),"\/")),"rel"===t&&(e=e.replace(RegExp("^"+r.replace(\/([\\\/\\.\\+\\[\\]\\(\\)])\/g,"\\\\$1"),"i"),"")),"rel"!==t&&(e.match(\/^(https?:\\\/\\\/|\\\/)\/i)||(e=r+e),"\/"===e.charAt(0))){var h,c,d=[],u=e.split("\/"),p=u.length;for(c=0;p>c;c++)h=u[c],".."===h?d.pop():""!==h&&"."!==h&&d.push(h);""===u[p-1]&&d.push(""),e="\/"+d.join("\/")}return"abs"!==t||e.match(\/^https?:\\\/\\\/\/i)||(e=a+"\/\/"+n+e),e=e.replace(\/(https?:\\\/\\\/[^:\\\/?#]+):80(\\\/|$)\/i,"$1$2")}function checkFileExt(e,t){return"*"===t||e.match(RegExp(".("+t.replace(\/,\/g,"|")+")$","i"))?!0:(alert(getLang("upload.extLimit",t)),!1)}function formatBytes(e){var t=["Byte","KB","MB","GB","TB","PB"],i=Math.floor(Math.log(e)\/Math.log(1024));return(e\/Math.pow(1024,Math.floor(i))).toFixed(2)+t[i]}function returnFalse(){return!1}var _this=this,_text=textarea,_jText=$(_text),_jForm=_jText.closest("form"),_jTools,_jArea,_win,_jWin,_doc,_jDoc,bookmark,bInit=!1,bSource=!1,bFullscreen=!1,bCleanPaste=!1,outerScroll,bShowBlocktag=!1,sLayoutStyle="",ev=null,timer,bDisableHoverExec=!1,bQuickHoverExec=!1,lastPoint=null,lastAngle=null,editorHeight=0,settings=_this.settings=$.extend({},XHEDITOR.settings,options),plugins=settings.plugins,strPlugins=[];if(plugins&&(arrTools=$.extend({},arrTools,plugins),$.each(plugins,function(e){strPlugins.push(e)}),strPlugins=strPlugins.join(",")),settings.tools.match(\/^\\s*(m?full|simple|mini)\\s*$\/i)){var toolsTheme=toolsThemes[$.trim(settings.tools)];settings.tools=settings.tools.match(\/m?full\/i)&&plugins?toolsTheme.replace("Table","Table,"+strPlugins):toolsTheme}settings.tools.match(\/(^|,)\\s*About\\s*(,|$)\/i)||(settings.tools+=",About"),settings.tools=settings.tools.split(","),settings.editorRoot&&(editorRoot=settings.editorRoot),bAir===!1&&(editorRoot=getLocalUrl(editorRoot,"abs")),settings.urlBase&&(settings.urlBase=getLocalUrl(settings.urlBase,"abs"));var idCSS="xheCSS_"+settings.skin,idContainer="xhe"+xCount+"_container",idTools="xhe"+xCount+"_Tool",idIframeArea="xhe"+xCount+"_iframearea",idIframe="xhe"+xCount+"_iframe",idFixFFCursor="xhe"+xCount+"_fixffcursor",headHTML="",bodyClass="",skinPath=editorRoot+"xheditor_skin\/"+settings.skin+"\/",arrEmots=itemEmots,urlType=settings.urlType,urlBase=settings.urlBase,emotPath=settings.emotPath,emotPath=emotPath?emotPath:editorRoot+"xheditor_emot\/",selEmotGroup="";arrEmots=$.extend({},arrEmots,settings.emots),emotPath=getLocalUrl(emotPath,"rel",urlBase?urlBase:null),bShowBlocktag=settings.showBlocktag,bShowBlocktag&&(bodyClass+=" showBlocktag");var arrShortCuts=[];this.init=function(){function e(e){var t,i=$(e.target);(t=i.css("width"))&&i.css("width","").attr("width",t.replace(\/[^0-9%]+\/g,"")),(t=i.css("height"))&&i.css("height","").attr("height",t.replace(\/[^0-9%]+\/g,""))}0===$("#"+idCSS).length&&$("head").append('<link id="'+idCSS+'" rel="stylesheet" type="text\/css" href="'+skinPath+'ui.css" \/>');var t=_jText.outerWidth(),i=_jText.outerHeight(),s=settings.width||_text.style.width||(t>10?t:0);editorHeight=settings.height||_text.style.height||(i>10?i:150),\/^\\d+(?:\\.\\d+)?$\/.test(s)&&(s+="px"),is(editorHeight,"string")&&(editorHeight=editorHeight.replace(\/[^\\d]+\/g,""));var a,n,o=settings.background||_text.style.background,l=['<span class="xheGStart"\/>'],r=\/\\||\\\/\/i;$.each(settings.tools,function(e,t){if(t.match(r)&&l.push('<span class="xheGEnd"\/>'),"|"===t)l.push('<span class="xheSeparator"\/>');else if("\/"===t)l.push("<br \/>");else{if(a=arrTools[t],!a)return;n=a.c?a.c:"xheIcon xheBtn"+t,l.push('<span><a href="#" title="{#'+a.t+'}" cmd="'+t+'" class="xheButton xheEnabled" tabindex="-1" role="button"><span class="'+n+'" unselectable="on" style="font-size:0;color:transparent;text-indent:-999px;">'+a.t+"<\/span><\/a><\/span>"),a.s&&_this.addShortcuts(a.s,t)}t.match(r)&&l.push('<span class="xheGStart"\/>')}),l.push('<span class="xheGEnd"\/><br \/>'),_jText.after($('<input type="text" id="'+idFixFFCursor+'" style="position:absolute;display:none;" \/><span id="'+idContainer+'" class="xhe_'+settings.skin+'" style="display:none"><table cellspacing="0" cellpadding="0" class="xheLayout" style="'+("0px"!=s?"width:"+s+";":"")+"height:"+editorHeight+'px;" role="presentation"><tr><td id="'+idTools+'" class="xheTool" unselectable="on" style="height:1px;" role="presentation"><\/td><\/tr><tr><td id="'+idIframeArea+'" class="xheIframeArea" role="presentation"><iframe frameborder="0" id="'+idIframe+'" src="javascript:;" style="width:100%;"><\/iframe><\/td><\/tr><\/table><\/span>')),_jTools=$("#"+idTools),_jArea=$("#"+idIframeArea),headHTML='<meta http-equiv="Content-Type" content="text\/html; charset=utf-8" \/><link rel="stylesheet" href="'+skinPath+'iframe.css"\/>';var h=settings.loadCSS;if(h)if(is(h,"array"))for(var c in h)headHTML+='<link rel="stylesheet" href="'+h[c]+'"\/>';else headHTML+=h.match(\/\\s*<style(\\s+[^>]*?)?>[\\s\\S]+?<\\\/style>\\s*\/i)?h:'<link rel="stylesheet" href="'+h+'"\/>';var d='<!DOCTYPE html><html xmlns="http:\/\/www.w3.org\/1999\/xhtml"><head>'+headHTML+"<title>{#defaultReadTip} "+(settings.readTip?settings.readTip:"")+"<\/title>";o&&(d+="<style>html{background:"+o+";}<\/style>"),d+='<\/head><body spellcheck="0" class="editMode'+bodyClass+'"><\/body><\/html>',_this.win=_win=$("#"+idIframe)[0].contentWindow,_jWin=$(_win);try{this.doc=_doc=_win.document,_jDoc=$(_doc),_doc.open(),_doc.write(getLang(d)),_doc.close(),isIE?_doc.body.contentEditable="true":_doc.designMode="On"}catch(u){}setTimeout(setOpts,300),_this.setSource(),_win.setInterval=null,_jTools.append(getLang(l.join(""))).bind("mousedown contextmenu",returnFalse).click(function(e){var t=$(e.target).closest("a");return t.is(".xheEnabled")&&(clearTimeout(timer),_jTools.find("a").attr("tabindex","-1"),ev=e,_this.exec(t.attr("cmd"))),!1}),_jTools.find(".xheButton").hover(function(e){var t=$(this),i=settings.hoverExecDelay,s=lastAngle;if(lastAngle=null,-1===i||bDisableHoverExec||!t.is(".xheEnabled"))return!1;if(s&&s>10)return bDisableHoverExec=!0,setTimeout(function(){bDisableHoverExec=!1},100),!1;var a=t.attr("cmd"),n=1===arrTools[a].h;return n?(bQuickHoverExec&&(i=0),i>=0&&(timer=setTimeout(function(){ev=e,lastPoint={x:ev.clientX,y:ev.clientY},_this.exec(a)},i)),undefined):(_this.hidePanel(),!1)},function(){lastPoint=null,timer&&clearTimeout(timer)}).mousemove(function(e){if(lastPoint){var t={x:e.clientX-lastPoint.x,y:e.clientY-lastPoint.y};if(Math.abs(t.x)>1||Math.abs(t.y)>1){if(t.x>0&&t.y>0){var i=Math.round(Math.atan(t.y\/t.x)\/.017453293);lastAngle=lastAngle?(lastAngle+i)\/2:i}else lastAngle=null;lastPoint={x:e.clientX,y:e.clientY}}}}),_jPanel=$("#xhePanel"),_jShadow=$("#xheShadow"),_jCntLine=$("#xheCntLine"),0===_jPanel.length&&(_jPanel=$('<div id="xhePanel"><\/div>').mousedown(function(e){e.stopPropagation()}),_jShadow=$('<div id="xheShadow"><\/div>'),_jCntLine=$('<div id="xheCntLine"><\/div>'),setTimeout(function(){$(document.body).append(_jPanel).append(_jShadow).append(_jCntLine)},10)),$("#"+idContainer).show(),_jText.hide(),_jArea.css("height",editorHeight-_jTools.outerHeight()),isIE&8>browerVer&&setTimeout(function(){_jArea.css("height",editorHeight-_jTools.outerHeight())},1),_jText.focus(_this.focus),_jForm.submit(saveResult).bind("reset",loadReset),settings.submitID&&$("#"+settings.submitID).mousedown(saveResult),$(window).bind("unload beforeunload",saveResult).bind("resize",fixFullHeight),$(document).mousedown(clickCancelPanel),bCheckEscInit||($(document).keydown(checkEsc),bCheckEscInit=!0),_jWin.focus(function(){settings.focus&&settings.focus()}).blur(function(){settings.blur&&settings.blur()}),isWebkit&&_jWin.click(fixAppleSel),_jDoc.mousedown(clickCancelPanel).keydown(checkShortcuts).keypress(forcePtag).dblclick(checkDblClick).bind("mousedown click",function(e){_jText.trigger(e.type)}),isIE&&(_jDoc.keydown(function(e){var t=_this.getRng();return 8===e.which&&t.item?($(t.item(0)).remove(),!1):undefined}),_jDoc.bind("controlselect",function(t){t=t.target,$.nodeName(t,"IMG")&&$(t).unbind("resizeend",e).bind("resizeend",e)})),_jDoc.keydown(function(e){var t=e.which;return e.altKey&&t>=49&&57>=t?(_jTools.find("a").attr("tabindex","0"),_jTools.find(".xheGStart").eq(t-49).next().find("a").focus(),_doc.title="\\ufeff\\ufeff",!1):undefined}).click(function(){_jTools.find("a").attr("tabindex","-1")}),_jTools.keydown(function(e){var t=e.which;if(27==t)_jTools.find("a").attr("tabindex","-1"),_this.focus();else if(e.altKey&&t>=49&&57>=t)return _jTools.find(".xheGStart").eq(t-49).next().find("a").focus(),!1});var p=$(_doc.documentElement);isOpera?p.bind("keydown",function(e){e.ctrlKey&&86===e.which&&cleanPaste()}):p.bind(isIE?"beforepaste":"paste",cleanPaste),settings.disableContextmenu&&p.bind("contextmenu",returnFalse),settings.html5Upload&&p.bind("dragenter dragover",function(e){var t;return(t=e.originalEvent.dataTransfer.types)&&-1!==$.inArray("Files",t)?!1:undefined}).bind("drop",function(e){function t(e){var t,i,s;for(a=0;e.length>a;a++){if(i=e[a].name.replace(\/.+\\.\/,""),!(t=o.match(RegExp("(\\\\w+):[^:]*,"+i+"(?:,|$)","i"))))return 1;if(s){if(s!==t[1])return 2}else s=t[1]}return s}var i,s=e.originalEvent.dataTransfer;if(s&&(i=s.files)&&i.length>0){var a,n,o,l=["Link","Img","Flash","Media"],r=[];for(a in l)n=l[a],settings["up"+n+"Url"]&&settings["up"+n+"Url"].match(\/^[^!].*\/i)&&r.push(n+":,"+settings["up"+n+"Ext"]);return 0===r.length?!1:(o=r.join(","),n=t(i),1===n?alert(getLang("upload.extLimit",o.replace(\/\\w+:,\/g,""))):2===n?alert(getLang("upload.typeLimit")):n&&_this.startUpload(i,settings["up"+n+"Url"],"*",function(e){var t,i=[],s=settings.onUpload;s&&s(e);for(var a=0,o=e.length;o>a;a++)t=e[a],url=is(t,"string")?t:t.url,"!"===url.substr(0,1)&&(url=url.substr(1)),i.push(url);_this.exec(n),$("#xhe"+n+"Url").val(i.join(" ")),$("#xheSave").click()}),!1)}});var g=settings.shortcuts;g&&$.each(g,function(e,t){_this.addShortcuts(e,t)}),xCount++,bInit=!0,settings.fullscreen?_this.toggleFullscreen():settings.sourceMode&&setTimeout(_this.toggleSource,20);var f=settings.plugins;return f&&$.each(f,function(e,t){var i=t.i;i!==undefined&&i(_this)}),!0},this.remove=function(){_this.hidePanel(),saveResult(),_jText.unbind("focus",_this.focus),_jForm.unbind("submit",saveResult).unbind("reset",loadReset),settings.submitID&&$("#"+settings.submitID).unbind("mousedown",saveResult),$(window).unbind("unload beforeunload",saveResult).unbind("resize",fixFullHeight),$(document).unbind("mousedown",clickCancelPanel),$("#"+idContainer).remove(),$("#"+idFixFFCursor).remove(),_jText.show(),bInit=!1},this.saveBookmark=function(){if(!bSource){_this.focus();var e=_this.getRng();e=e.cloneRange?e.cloneRange():e,bookmark={top:_jWin.scrollTop(),rng:e}}},this.loadBookmark=function(){if(!bSource&&bookmark){_this.focus();var e=bookmark.rng;if(isIE)e.select();else{var t=_this.getSel();t.removeAllRanges(),t.addRange(e)}_jWin.scrollTop(bookmark.top),bookmark=null}},this.focus=function(){if(bSource?$("#sourceCode",_doc).focus():_win.focus(),isIE){var e=_this.getRng();e.parentElement&&e.parentElement().ownerDocument!==_doc&&_this.setTextCursor()}return!1},this.setTextCursor=function(e){var t=_this.getRng(!0),i=_doc.body;if(isIE)t.moveToElementText(i);else{for(var s=e?"lastChild":"firstChild";3!=i.nodeType&&i[s];)i=i[s];t.selectNode(i)}if(t.collapse(e?!1:!0),isIE)t.select();else{var a=_this.getSel();a.removeAllRanges(),a.addRange(t)}},this.getSel=function(){return _doc.selection?_doc.selection:_win.getSelection()},this.getRng=function(e){var t,i;try{e||(t=_this.getSel(),i=t.createRange?t.createRange():t.rangeCount>0?t.getRangeAt(0):null),i||(i=_doc.body.createTextRange?_doc.body.createTextRange():_doc.createRange())}catch(s){}return i},this.getParent=function(e){var t,i=_this.getRng();return isIE?t=i.item?i.item(0):i.parentElement():(t=i.commonAncestorContainer,i.collapsed||i.startContainer===i.endContainer&&2>i.startOffset-i.endOffset&&i.startContainer.hasChildNodes()&&(t=i.startContainer.childNodes[i.startOffset])),e=e?e:"*",t=$(t),t.is(e)||(t=$(t).closest(e)),t},this.getSelect=function(e){var t=_this.getSel(),i=_this.getRng(),s=!0;if(s=!i||i.item?!1:!t||0===i.boundingWidth||i.collapsed,"text"===e)return s?"":i.text||(t.toString?""+t:"");var a;if(i.cloneContents){var n,o=$("<div><\/div>");n=i.cloneContents(),n&&o.append(n),a=o.html()}else a=is(i.item)?i.item(0).outerHTML:is(i.htmlText)?i.htmlText:""+i;return s&&(a=""),a=_this.processHTML(a,"read"),a=_this.cleanHTML(a),a=_this.formatXHTML(a)},this.pasteHTML=function(e,t){if(bSource)return!1;_this.focus(),e=_this.processHTML(e,"write");var i=_this.getSel(),s=_this.getRng();if(t!==undefined){if(s.item){var a=s.item(0);s=_this.getRng(!0),s.moveToElementText(a),s.select()}s.collapse(t)}if(e+="<"+(isIE?"img":"span")+' id="_xhe_temp" width="0" height="0" \/>',s.insertNode){if($(s.startContainer).closest("style,script").length>0)return!1;s.deleteContents(),s.insertNode(s.createContextualFragment(e))}else"control"===i.type.toLowerCase()&&(i.clear(),s=_this.getRng()),s.pasteHTML(e);var n=$("#_xhe_temp",_doc),o=n[0];isIE?(s.moveToElementText(o),s.select()):(s.selectNode(o),i.removeAllRanges(),i.addRange(s)),n.remove()},this.pasteText=function(e,t){e||(e=""),e=_this.domEncode(e),e=e.replace(\/\\r?\\n\/g,"<br \/>"),_this.pasteHTML(e,t)},this.appendHTML=function(e){return bSource?!1:(_this.focus(),e=_this.processHTML(e,"write"),$(_doc.body).append(e),_this.setTextCursor(!0),undefined)},this.domEncode=function(e){return e.replace(regEntities,function(e){return arrEntities[e]})},this.setSource=function(e){bookmark=null,"string"!=typeof e&&""!==e&&(e=_text.value),bSource?$("#sourceCode",_doc).val(e):(settings.beforeSetSource&&(e=settings.beforeSetSource(e)),e=_this.cleanHTML(e),e=_this.formatXHTML(e),e=_this.processHTML(e,"write"),isIE?(_doc.body.innerHTML='<img id="_xhe_temp" width="0" height="0" \/>'+e,$("#_xhe_temp",_doc).remove()):_doc.body.innerHTML=e)},this.processHTML=function(e,t){function i(e,t,i,s,a,o){var l,r,h,c,d="";if(l=s.match(\/font-family\\s*:\\s*([^;"]+)\/i),l&&(d+=' face="'+l[1]+'"'),r=s.match(\/font-size\\s*:\\s*([^;"]+)\/i)){r=r[1].toLowerCase();for(var u=0;n.length>u;u++)if(r===n[u].n||r===n[u].s){h=u+1;break}h&&(d+=' size="'+h+'"',s=s.replace(\/(^|;)(\\s*font-size\\s*:\\s*[^;"]+;?)+\/gi,"$1"))}if(c=s.match(\/(?:^|[\\s;])color\\s*:\\s*([^;"]+)\/i)){var p;if(p=c[1].match(\/\\s*rgb\\s*\\(\\s*(\\d+)\\s*,\\s*(\\d+)\\s*,\\s*(\\d+)\\s*\\)\/i)){c[1]="#";for(var g=1;3>=g;g++)c[1]+=("0"+(p[g]-0).toString(16)).slice(-2)}c[1]=c[1].replace(\/^#([0-9a-f])([0-9a-f])([0-9a-f])$\/i,"#$1$1$2$2$3$3"),d+=' color="'+c[1]+'"'}return s=s.replace(\/(^|;)(\\s*(font-family|color)\\s*:\\s*[^;"]+;?)+\/gi,"$1"),""!==d?(s&&(d+=' style="'+s+'"'),"<font"+(i?i:"")+d+(a?a:"")+">"+o+"<\/font>"):e}function s(e,t,i,s,a){for(var n,l,r=(i?i:"")+(s?s:""),h=[],c=[],d=0;o.length>d;d++)n=o[d].r,l=o[d].t,r=r.replace(n,function(){return h.push("<"+l+">"),c.push("<\/"+l+">"),""});return r=r.replace(\/\\s+style\\s*=\\s*"\\s*"\/i,""),(r?"<span"+r+">":"")+h.join("")+a+c.join("")+(r?"<\/span>":"")}var a=' class="Apple-style-span"',n=settings.listFontsize;if("write"===t)e=e.replace(\/(<(\\\/?)(\\w+))((?:\\s+[\\w\\-:]+\\s*=\\s*(?:"[^"]*"|'[^']*'|[^>\\s]+))*)\\s*((\\\/?)>)\/g,function(e,t,i,s,n,o,l){s=s.toLowerCase(),isMozilla?"strong"===s?s="b":"em"===s&&(s="i"):isWebkit&&("strong"===s?(s="span",i||(n+=a+' style="font-weight: bold;"')):"em"===s?(s="span",i||(n+=a+' style="font-style: italic;"')):"u"===s?(s="span",i||(n+=a+' style="text-decoration: underline;"')):"strike"===s&&(s="span",i||(n+=a+' style="text-decoration: line-through;"')));var r,h="";if("del"===s)s="strike";else if("img"===s)n=n.replace(\/\\s+emot\\s*=\\s*("[^"]*"|'[^']*'|[^>\\s]+)\/i,function(e,t){return r=t.match(\/^(["']?)(.*)\\1\/)[2],r=r.split(","),r[1]||(r[1]=r[0],r[0]=""),"default"===r[0]&&(r[0]=""),settings.emotMark?e:""});else if("a"===s)!n.match(\/ href=[^ ]\/i)&&n.match(\/ name=[^ ]\/i)&&(h+=" xhe-anchor"),l&&(o="><\/a>");else if("table"===s&&!i){var c=n.match(\/\\s+border\\s*=\\s*("[^"]*"|'[^']*'|[^>\\s]+)\/i);(!c||c[1].match(\/^(["']?)\\s*0\\s*\\1$\/))&&(h+=" xhe-border")}var d;if(n=n.replace(\/\\s+([\\w\\-:]+)\\s*=\\s*("[^"]*"|'[^']*'|[^>\\s]+)\/g,function(e,t,i){return t=t.toLowerCase(),i=i.match(\/^(["']?)(.*)\\1\/)[2],aft="",isIE&&t.match(\/^(disabled|checked|readonly|selected)$\/)&&i.match(\/^(false|0)$\/i)?"":"img"===s&&r&&"src"===t?"":(t.match(\/^(src|href)$\/)&&(aft=" _xhe_"+t+'="'+i+'"',urlBase&&(i=getLocalUrl(i,"abs",urlBase))),h&&"class"===t&&(i+=" "+h,h=""),isWebkit&&"style"===t&&"span"===s&&i.match(\/(^|;)\\s*(font-family|font-size|color|background-color)\\s*:\\s*[^;]+\\s*(;|$)\/i)&&(d=!0)," "+t+'="'+i+'"'+aft)}),r){var u=emotPath+(r[0]?r[0]:"default")+"\/"+r[1]+".gif";n+=' src="'+u+'" _xhe_src="'+u+'"'}return d&&(n+=a),h&&(n+=' class="'+h+'"'),"<"+i+s+n+o}),isIE&&(e=e.replace(\/&apos;\/gi,"&#39;")),isWebkit||(e=e.replace(\/<(span)(\\s+[^>]*?)?\\s+style\\s*=\\s*"((?:[^"]*?;)?\\s*(?:font-family|font-size|color)\\s*:[^"]*)"( [^>]*)?>(((?!<\\1(\\s+[^>]*?)?>)[\\s\\S]|<\\1(\\s+[^>]*?)?>((?!<\\1(\\s+[^>]*?)?>)[\\s\\S]|<\\1(\\s+[^>]*?)?>((?!<\\1(\\s+[^>]*?)?>)[\\s\\S])*?<\\\/\\1>)*?<\\\/\\1>)*?)<\\\/\\1>\/gi,i),e=e.replace(\/<(span)(\\s+[^>]*?)?\\s+style\\s*=\\s*"((?:[^"]*?;)?\\s*(?:font-family|font-size|color)\\s*:[^"]*)"( [^>]*)?>(((?!<\\1(\\s+[^>]*?)?>)[\\s\\S]|<\\1(\\s+[^>]*?)?>((?!<\\1(\\s+[^>]*?)?>)[\\s\\S])*?<\\\/\\1>)*?)<\\\/\\1>\/gi,i),e=e.replace(\/<(span)(\\s+[^>]*?)?\\s+style\\s*=\\s*"((?:[^"]*?;)?\\s*(?:font-family|font-size|color)\\s*:[^"]*)"( [^>]*)?>(((?!<\\1(\\s+[^>]*?)?>)[\\s\\S])*?)<\\\/\\1>\/gi,i)),e=e.replace(\/<(td|th)(\\s+[^>]*?)?>(\\s|&nbsp;)*<\\\/\\1>\/gi,"<$1$2>"+(isIE?"":"<br \/>")+"<\/$1>");else{if(isWebkit)for(var o=[{r:\/font-weight\\s*:\\s*bold;?\/gi,t:"strong"},{r:\/font-style\\s*:\\s*italic;?\/gi,t:"em"},{r:\/text-decoration\\s*:\\s*underline;?\/gi,t:"u"},{r:\/text-decoration\\s*:\\s*line-through;?\/gi,t:"strike"}],l=0;2>l;l++)e=e.replace(\/<(span)(\\s+[^>]*?)?\\s+class\\s*=\\s*"Apple-style-span"(\\s+[^>]*?)?>(((?!<\\1(\\s+[^>]*?)?>)[\\s\\S]|<\\1(\\s+[^>]*?)?>((?!<\\1(\\s+[^>]*?)?>)[\\s\\S]|<\\1(\\s+[^>]*?)?>((?!<\\1(\\s+[^>]*?)?>)[\\s\\S])*?<\\\/\\1>)*?<\\\/\\1>)*?)<\\\/\\1>\/gi,s),e=e.replace(\/<(span)(\\s+[^>]*?)?\\s+class\\s*=\\s*"Apple-style-span"(\\s+[^>]*?)?>(((?!<\\1(\\s+[^>]*?)?>)[\\s\\S]|<\\1(\\s+[^>]*?)?>((?!<\\1(\\s+[^>]*?)?>)[\\s\\S])*?<\\\/\\1>)*?)<\\\/\\1>\/gi,s),e=e.replace(\/<(span)(\\s+[^>]*?)?\\s+class\\s*=\\s*"Apple-style-span"(\\s+[^>]*?)?>(((?!<\\1(\\s+[^>]*?)?>)[\\s\\S])*?)<\\\/\\1>\/gi,s);e=e.replace(\/(<(\\w+))((?:\\s+[\\w\\-:]+\\s*=\\s*(?:"[^"]*"|'[^']*'|[^>\\s]+))*)\\s*(\\\/?>)\/g,function(e,t,i,s,a){i=i.toLowerCase();$/;"	p
var.specialKeys.46	js/xheditor.min.js	/^(function(){var e={};window.XHEDITOR=e})(),function(e,t){e.mapLang={},e.setLang=function(i,s){s===t&&(s=i,i=""),""!==i&&(i+=".");var a,n;for(var o in s)n=s[o],a=i+o,"string"==typeof n||n instanceof Array?e.mapLang[a]=n:e.setLang(a,n)},e.getLang=function(i){var s=e.mapLang[i];if(s===t&&(s=i.replace(\/{#([^{}]+)}\/g,function(t,i){var s=e.mapLang[i];return s?s:i})),"string"==typeof s){var a=arguments;s=s.replace(\/{\\$(\\d+)}\/g,function(e,i){var s=a[parseInt(i,10)+1];return s!==t?s:e})}return s}}(XHEDITOR),function(XHEDITOR,$,undefined){var agent=navigator.userAgent.toLowerCase(),bMobile=\/mobile\/i.test(agent),browser=$.browser,browerVer=parseFloat(browser.version),isIE=browser.msie,isMozilla=browser.mozilla,isWebkit=browser.webkit,isOpera=browser.opera,isChrome=browser.chrome,bAir=agent.indexOf(" adobeair\/")>-1,xCount=0,bShowPanel=!1,bClickCancel=!0,bShowModal=!1,bCheckEscInit=!1,_jPanel,_jShadow,_jCntLine,_jPanelButton,jModal,jModalShadow,layerShadow,jOverlay,jHideSelect,onModalRemove,editorRoot,getLang=XHEDITOR.getLang;if($("script[src*=xheditor]").each(function(){var e=this.src;return e.match(\/xheditor[^\\\/]*\\.js\/i)?(editorRoot=e.replace(\/[\\?#].*$\/,"").replace(\/(^|[\\\/\\\\])[^\\\/]*$\/,"$1"),!1):undefined}),isIE){try{document.execCommand("BackgroundImageCache",!1,!0)}catch(e){}var jqueryVer=$.fn.jquery;jqueryVer&&jqueryVer.match(\/^1\\.[67]\/)&&($.attrHooks.width=$.attrHooks.height=null)}var specialKeys={27:"esc",9:"tab",32:"space",13:"enter",8:"backspace",145:"scroll",20:"capslock",144:"numlock",19:"pause",45:"insert",36:"home",46:"del",35:"end",33:"pageup",34:"pagedown",37:"left",38:"up",39:"right",40:"down",112:"f1",113:"f2",114:"f3",115:"f4",116:"f5",117:"f6",118:"f7",119:"f8",120:"f9",121:"f10",122:"f11",123:"f12"},arrAlign=[{v:"justifyleft"},{v:"justifycenter"},{v:"justifyright"},{v:"justifyfull"}],arrList=[{v:"insertOrderedList"},{v:"insertUnorderedList"}],htmlPastetext='<div><label for="xhePastetextValue">{#PastetextTip}<\/label><\/div><div><textarea id="xhePastetextValue" wrap="soft" spellcheck="false" style="width:300px;height:100px;" \/><\/div><div style="text-align:right;"><input type="button" id="xheSave" value="{#dialogOk}" \/><\/div>',htmlLink='<div><label for="xheLinkUrl">{#link.url}<\/label><input type="text" id="xheLinkUrl" value="http:\/\/" class="xheText" \/><\/div><div><label for="xheLinkTarget">{#link.target}<\/label><select id="xheLinkTarget"><option selected="selected" value="">{#default}<\/option><option value="_blank">{#link.targetBlank}<\/option><option value="_self">{#link.targetSelf}<\/option><option value="_parent">{#link.targetParent}<\/option><\/select><\/div><div style="display:none"><label for="xheLinkText">{#link.linkText}<\/label><input type="text" id="xheLinkText" value="" class="xheText" \/><\/div><div style="text-align:right;"><input type="button" id="xheSave" value="{#dialogOk}" \/><\/div>',htmlAnchor='<div><label for="xheAnchorName">{#anchor.name}<\/label><input type="text" id="xheAnchorName" value="" class="xheText" \/><\/div><div style="text-align:right;"><input type="button" id="xheSave" value="{#dialogOk}" \/><\/div>',htmlImg='<div><label for="xheImgUrl">{#img.url}<\/label><input type="text" id="xheImgUrl" value="http:\/\/" class="xheText" \/><\/div><div><div><label for="xheImgAlt">{#img.alt}<\/label><input type="text" id="xheImgAlt" \/><\/div><div><label for="xheImgAlign">{#img.align}<\/label><select id="xheImgAlign"><option selected="selected" value="">{#default}<\/option><option value="left">{#img.alignLeft}<\/option><option value="right">{#img.alignRight}<\/option><option value="top">{#img.alignTop}<\/option><option value="middle">{#img.alignMiddle}<\/option><option value="baseline">{#img.alignBaseline}<\/option><option value="bottom">{#img.alignBottom}<\/option><\/select><\/div><div><label for="xheImgWidth">{#img.width}<\/label><input type="text" id="xheImgWidth" style="width:40px;" \/> <label for="xheImgHeight">{#img.height}<\/label><input type="text" id="xheImgHeight" style="width:40px;" \/><\/div><div><label for="xheImgBorder">{#img.border}<\/label><input type="text" id="xheImgBorder" style="width:40px;" \/><\/div><div><label for="xheImgHspace">{#img.hspace}<\/label><input type="text" id="xheImgHspace" style="width:40px;" \/> <label for="xheImgVspace">{#img.vspace}<\/label><input type="text" id="xheImgVspace" style="width:40px;" \/><\/div><div style="text-align:right;"><input type="button" id="xheSave" value="{#dialogOk}" \/><\/div>',htmlFlash='<div><label for="xheFlashUrl">{#flash.url}<\/label><input type="text" id="xheFlashUrl" value="http:\/\/" class="xheText" \/><\/div><div><label for="xheFlashWidth">{#flash.width}<\/label><input type="text" id="xheFlashWidth" style="width:40px;" value="480" \/> <label for="xheFlashHeight">{#flash.height}<\/label><input type="text" id="xheFlashHeight" style="width:40px;" value="400" \/><\/div><div style="text-align:right;"><input type="button" id="xheSave" value="{#dialogOk}" \/><\/div>',htmlMedia='<div><label for="xheMediaUrl">{#media.url}<\/label><input type="text" id="xheMediaUrl" value="http:\/\/" class="xheText" \/><\/div><div><label for="xheMediaWidth">{#media.width}<\/label><input type="text" id="xheMediaWidth" style="width:40px;" value="480" \/> <label for="xheMediaHeight">{#media.height}<\/label><input type="text" id="xheMediaHeight" style="width:40px;" value="400" \/><\/div><div style="text-align:right;"><input type="button" id="xheSave" value="{#dialogOk}" \/><\/div>',htmlTable='<div><label for="xheTableRows">{#table.rows}<\/label><input type="text" id="xheTableRows" style="width:40px;" value="3" \/> <label for="xheTableColumns">{#table.columns}<\/label><input type="text" id="xheTableColumns" style="width:40px;" value="2" \/><\/div><div><label for="xheTableHeaders">{#table.headers}<\/label><select id="xheTableHeaders"><option selected="selected" value="">{#none}<\/option><option value="row">{#table.headersRow}<\/option><option value="col">{#table.headersCol}<\/option><option value="both">{#table.headersBoth}<\/option><\/select><\/div><div><label for="xheTableWidth">{#table.width}<\/label><input type="text" id="xheTableWidth" style="width:40px;" value="200" \/> <label for="xheTableHeight">{#table.height}<\/label><input type="text" id="xheTableHeight" style="width:40px;" value="" \/><\/div><div><label for="xheTableBorder">{#table.border}<\/label><input type="text" id="xheTableBorder" style="width:40px;" value="1" \/><\/div><div><label for="xheTableCellSpacing">{#table.cellSpacing}<\/label><input type="text" id="xheTableCellSpacing" style="width:40px;" value="1" \/> <label for="xheTableCellPadding">{#table.cellPadding}<\/label><input type="text" id="xheTableCellPadding" style="width:40px;" value="1" \/><\/div><div><label for="xheTableAlign">{#table.align}<\/label><select id="xheTableAlign"><option selected="selected" value="">{#default}<\/option><option value="left">{#table.alignLeft}<\/option><option value="center">{#table.alignCenter}<\/option><option value="right">{#table.alignRight}<\/option><\/select><\/div><div><label for="xheTableCaption">{#table.caption}<\/label><input type="text" id="xheTableCaption" \/><\/div><div style="text-align:right;"><input type="button" id="xheSave" value="{#dialogOk}" \/><\/div>',htmlAbout='<div style="font:12px Arial;width:245px;word-wrap:break-word;word-break:break-all;outline:none;" role="dialog" tabindex="-1"><p><span style="font-size:20px;color:#1997DF;">xhEditor<\/span><br \/>v1.2.1 (build 130225)<\/p><p>{#aboutXheditor}<\/p><p>Copyright &copy; <a href="http:\/\/xheditor.com\/" target="_blank">xhEditor.com<\/a>. All rights reserved.<\/p><\/div>',itemEmots={"default":{name:"{#default}",width:24,height:24,line:7,list:["smile","tongue","titter","laugh","sad","wronged","fastcry","cry","wail","mad","knock","curse","crazy","angry","ohmy","awkward","panic","shy","cute","envy","proud","struggle","quiet","shutup","doubt","despise","sleep","bye"]}},arrTools={Cut:{t:"Cut"},Copy:{t:"Copy"},Paste:{t:"Paste"},Pastetext:{t:"Pastetext",h:isIE?0:1},Blocktag:{t:"Blocktag",h:1},Fontface:{t:"Fontface",h:1},FontSize:{t:"FontSize",h:1},Bold:{t:"Bold",s:"Ctrl+B"},Italic:{t:"Italic",s:"Ctrl+I"},Underline:{t:"Underline",s:"Ctrl+U"},Strikethrough:{t:"Strikethrough"},FontColor:{t:"FontColor",h:1},BackColor:{t:"BackColor",h:1},SelectAll:{t:"SelectAll"},Removeformat:{t:"Removeformat"},Align:{t:"Align",h:1},List:{t:"List",h:1},Outdent:{t:"Outdent"},Indent:{t:"Indent"},Link:{t:"Link",s:"Ctrl+L",h:1},Unlink:{t:"Unlink"},Anchor:{t:"Anchor",h:1},Img:{t:"Img",h:1},Flash:{t:"Flash",h:1},Media:{t:"Media",h:1},Hr:{t:"Hr"},Emot:{t:"Emot",s:"ctrl+e",h:1},Table:{t:"Table",h:1},Source:{t:"Source"},Preview:{t:"Preview"},Print:{t:"Print",s:"Ctrl+P"},Fullscreen:{t:"Fullscreen",s:"Esc"},About:{t:"About"}},toolsThemes={mini:"Bold,Italic,Underline,Strikethrough,|,Align,List,|,Link,Img",simple:"Blocktag,Fontface,FontSize,Bold,Italic,Underline,Strikethrough,FontColor,BackColor,|,Align,List,Outdent,Indent,|,Link,Img,Emot",full:"Cut,Copy,Paste,Pastetext,|,Blocktag,Fontface,FontSize,Bold,Italic,Underline,Strikethrough,FontColor,BackColor,SelectAll,Removeformat,|,Align,List,Outdent,Indent,|,Link,Unlink,Anchor,Img,Flash,Media,Hr,Emot,Table,|,Source,Preview,Print,Fullscreen"};toolsThemes.mfull=toolsThemes.full.replace(\/\\|(,Align)\/i,"\/$1");var arrDbClick={a:"Link",img:"Img",embed:"Embed"},uploadInputname="filedata",arrEntities={"<":"&lt;",">":"&gt;",'"':"&quot;","\\u00ae":"&reg;","\\u00a9":"&copy;"},regEntities=\/[<>"\\u00ae\\u00a9]\/g,Xheditor=function(textarea,options){function checkDblClick(e){var t=e.target,i=arrDbClick[t.tagName.toLowerCase()];if(i){if("Embed"===i){var s={"application\/x-shockwave-flash":"Flash","application\/x-mplayer2":"Media"};i=s[t.type.toLowerCase()]}_this.exec(i)}}function checkEsc(e){return 27===e.which?(bShowModal?_this.removeModal():bShowPanel&&_this.hidePanel(),!1):undefined}function loadReset(){setTimeout(_this.setSource,10)}function saveResult(){_this.getSource()}function cleanPaste(e){var t,i,s;if(e&&(t=e.originalEvent.clipboardData)&&(i=t.items)&&(s=i[0])&&"file"==s.kind&&s.type.match(\/^image\\\/\/i)){var a=s.getAsFile(),n=new FileReader;return n.onload=function(){var e='<img src="'+event.target.result+'">';e=replaceRemoteImg(e),_this.pasteHTML(e)},n.readAsDataURL(a),!1}var o=settings.cleanPaste;if(0===o||bSource||bCleanPaste)return!0;bCleanPaste=!0,_this.saveBookmark();var l=isIE?"pre":"div",r=$("<"+l+' class="xhe-paste">\\ufeff\\ufeff<\/'+l+">",_doc).appendTo(_doc.body),h=r[0],c=_this.getSel(),d=_this.getRng(!0);r.css("top",_jWin.scrollTop()),isIE?(d.moveToElementText(h),d.select()):(d.selectNodeContents(h),c.removeAllRanges(),c.addRange(d)),setTimeout(function(){var e,t=3===o;if(t)r.html(r.html().replace(\/<br(\\s+[^<>]*)?>\/gi,"\\n")),e=r.text();else{var i=$(".xhe-paste",_doc.body),s=[];i.each(function(e,t){0==$(t).find(".xhe-paste").length&&s.push(t.innerHTML)}),e=s.join("<br \/>")}r.remove(),_this.loadBookmark(),e=e.replace(\/^[\\s\\uFEFF]+|[\\s\\uFEFF]+$\/g,""),e&&(t?_this.pasteText(e):(e=_this.cleanHTML(e),e=_this.cleanWord(e),e=_this.formatXHTML(e),(!settings.onPaste||settings.onPaste&&(e=settings.onPaste(e))!==!1)&&(e=replaceRemoteImg(e),_this.pasteHTML(e)))),bCleanPaste=!1},0)}function replaceRemoteImg(e){var t=settings.localUrlTest,i=settings.remoteImgSaveUrl;if(t&&i){var s=[],a=0;e=e.replace(\/(<img)((?:\\s+[^>]*?)?(?:\\s+src="\\s*([^"]+)\\s*")(?: [^>]*)?)(\\\/?>)\/gi,function(e,i,n,o,l){return!\/^(https?|data:image)\/i.test(o)||\/_xhe_temp\/.test(n)||t.test(o)||(s[a]=o,n=n.replace(\/\\s+(width|height)="[^"]*"\/gi,"").replace(\/\\s+src="[^"]*"\/gi,' src="'+skinPath+'img\/waiting.gif" remoteimg="'+a++ +'"')),i+n+l}),s.length>0&&$.post(i,{urls:s.join("|")},function(e){e=e.split("|"),$("img[remoteimg]",_this.doc).each(function(){var t=$(this);xheAttr(t,"src",e[t.attr("remoteimg")]),t.removeAttr("remoteimg")})})}return e}function setCSS(e){try{_this._exec("styleWithCSS",e,!0)}catch(t){try{_this._exec("useCSS",!e,!0)}catch(t){}}}function setOpts(){if(bInit&&!bSource){setCSS(!1);try{_this._exec("enableObjectResizing",!0,!0)}catch(e){}if(isIE)try{_this._exec("BackgroundImageCache",!0,!0)}catch(e){}}}function forcePtag(e){if(bSource||13!==e.which||e.shiftKey||e.ctrlKey||e.altKey)return!0;var t=_this.getParent("p,h1,h2,h3,h4,h5,h6,pre,address,div,li");return t.is("li")?!0:settings.forcePtag?(0===t.length&&_this._exec("formatblock","<p>"),undefined):(_this.pasteHTML("<br \/>"),isIE&&t.length>0&&2===_this.getRng().parentElement().childNodes.length&&_this.pasteHTML("<br \/>"),!1)}function fixFullHeight(){isMozilla||isWebkit||(bFullscreen&&_jArea.height("100%").css("height",_jArea.outerHeight()-_jTools.outerHeight()),isIE&&_jTools.hide().show())}function fixAppleSel(e){if(e=e.target,e.tagName.match(\/(img|embed)\/i)){var t=_this.getSel(),i=_this.getRng(!0);i.selectNode(e),t.removeAllRanges(),t.addRange(i)}}function xheAttr(e,t,i){if(!t)return!1;var s="_xhe_"+t;return i&&(urlType&&(i=getLocalUrl(i,urlType,urlBase)),e.attr(t,urlBase?getLocalUrl(i,"abs",urlBase):i).removeAttr(s).attr(s,i)),e.attr(s)||e.attr(t)}function clickCancelPanel(){bClickCancel&&_this.hidePanel()}function checkShortcuts(e){if(bSource)return!0;var t=e.which,i=specialKeys[t],s=i?i:String.fromCharCode(t).toLowerCase();sKey="",sKey+=e.ctrlKey?"ctrl+":"",sKey+=e.altKey?"alt+":"",sKey+=e.shiftKey?"shift+":"",sKey+=s;var a,n=arrShortCuts[sKey];for(a in n){if(a=n[a],!$.isFunction(a))return _this.exec(a),!1;if(a.call(_this)===!1)return!1}}function is(e,t){var i=typeof e;return t?"array"===t&&e.hasOwnProperty&&e instanceof Array?!0:i===t:"undefined"!=i}function getLocalUrl(e,t,i){if(e.match(\/^(\\w+):\\\/\\\/\/i)&&!e.match(\/^https?:\/i)||\/^#\/i.test(e)||\/^data:\/i.test(e))return e;var s=i?$('<a href="'+i+'" \/>')[0]:location,a=s.protocol,n=s.host,o=s.hostname,l=s.port,r=s.pathname.replace(\/\\\\\/g,"\/").replace(\/[^\\\/]+$\/i,"");if(""===l&&(l="80"),""===r?r="\/":"\/"!==r.charAt(0)&&(r="\/"+r),e=$.trim(e),"abs"!==t&&(e=e.replace(RegExp(a+"\\\\\/\\\\\/"+o.replace(\/\\.\/g,"\\\\.")+"(?::"+l+")"+("80"===l?"?":"")+"(\/|$)","i"),"\/")),"rel"===t&&(e=e.replace(RegExp("^"+r.replace(\/([\\\/\\.\\+\\[\\]\\(\\)])\/g,"\\\\$1"),"i"),"")),"rel"!==t&&(e.match(\/^(https?:\\\/\\\/|\\\/)\/i)||(e=r+e),"\/"===e.charAt(0))){var h,c,d=[],u=e.split("\/"),p=u.length;for(c=0;p>c;c++)h=u[c],".."===h?d.pop():""!==h&&"."!==h&&d.push(h);""===u[p-1]&&d.push(""),e="\/"+d.join("\/")}return"abs"!==t||e.match(\/^https?:\\\/\\\/\/i)||(e=a+"\/\/"+n+e),e=e.replace(\/(https?:\\\/\\\/[^:\\\/?#]+):80(\\\/|$)\/i,"$1$2")}function checkFileExt(e,t){return"*"===t||e.match(RegExp(".("+t.replace(\/,\/g,"|")+")$","i"))?!0:(alert(getLang("upload.extLimit",t)),!1)}function formatBytes(e){var t=["Byte","KB","MB","GB","TB","PB"],i=Math.floor(Math.log(e)\/Math.log(1024));return(e\/Math.pow(1024,Math.floor(i))).toFixed(2)+t[i]}function returnFalse(){return!1}var _this=this,_text=textarea,_jText=$(_text),_jForm=_jText.closest("form"),_jTools,_jArea,_win,_jWin,_doc,_jDoc,bookmark,bInit=!1,bSource=!1,bFullscreen=!1,bCleanPaste=!1,outerScroll,bShowBlocktag=!1,sLayoutStyle="",ev=null,timer,bDisableHoverExec=!1,bQuickHoverExec=!1,lastPoint=null,lastAngle=null,editorHeight=0,settings=_this.settings=$.extend({},XHEDITOR.settings,options),plugins=settings.plugins,strPlugins=[];if(plugins&&(arrTools=$.extend({},arrTools,plugins),$.each(plugins,function(e){strPlugins.push(e)}),strPlugins=strPlugins.join(",")),settings.tools.match(\/^\\s*(m?full|simple|mini)\\s*$\/i)){var toolsTheme=toolsThemes[$.trim(settings.tools)];settings.tools=settings.tools.match(\/m?full\/i)&&plugins?toolsTheme.replace("Table","Table,"+strPlugins):toolsTheme}settings.tools.match(\/(^|,)\\s*About\\s*(,|$)\/i)||(settings.tools+=",About"),settings.tools=settings.tools.split(","),settings.editorRoot&&(editorRoot=settings.editorRoot),bAir===!1&&(editorRoot=getLocalUrl(editorRoot,"abs")),settings.urlBase&&(settings.urlBase=getLocalUrl(settings.urlBase,"abs"));var idCSS="xheCSS_"+settings.skin,idContainer="xhe"+xCount+"_container",idTools="xhe"+xCount+"_Tool",idIframeArea="xhe"+xCount+"_iframearea",idIframe="xhe"+xCount+"_iframe",idFixFFCursor="xhe"+xCount+"_fixffcursor",headHTML="",bodyClass="",skinPath=editorRoot+"xheditor_skin\/"+settings.skin+"\/",arrEmots=itemEmots,urlType=settings.urlType,urlBase=settings.urlBase,emotPath=settings.emotPath,emotPath=emotPath?emotPath:editorRoot+"xheditor_emot\/",selEmotGroup="";arrEmots=$.extend({},arrEmots,settings.emots),emotPath=getLocalUrl(emotPath,"rel",urlBase?urlBase:null),bShowBlocktag=settings.showBlocktag,bShowBlocktag&&(bodyClass+=" showBlocktag");var arrShortCuts=[];this.init=function(){function e(e){var t,i=$(e.target);(t=i.css("width"))&&i.css("width","").attr("width",t.replace(\/[^0-9%]+\/g,"")),(t=i.css("height"))&&i.css("height","").attr("height",t.replace(\/[^0-9%]+\/g,""))}0===$("#"+idCSS).length&&$("head").append('<link id="'+idCSS+'" rel="stylesheet" type="text\/css" href="'+skinPath+'ui.css" \/>');var t=_jText.outerWidth(),i=_jText.outerHeight(),s=settings.width||_text.style.width||(t>10?t:0);editorHeight=settings.height||_text.style.height||(i>10?i:150),\/^\\d+(?:\\.\\d+)?$\/.test(s)&&(s+="px"),is(editorHeight,"string")&&(editorHeight=editorHeight.replace(\/[^\\d]+\/g,""));var a,n,o=settings.background||_text.style.background,l=['<span class="xheGStart"\/>'],r=\/\\||\\\/\/i;$.each(settings.tools,function(e,t){if(t.match(r)&&l.push('<span class="xheGEnd"\/>'),"|"===t)l.push('<span class="xheSeparator"\/>');else if("\/"===t)l.push("<br \/>");else{if(a=arrTools[t],!a)return;n=a.c?a.c:"xheIcon xheBtn"+t,l.push('<span><a href="#" title="{#'+a.t+'}" cmd="'+t+'" class="xheButton xheEnabled" tabindex="-1" role="button"><span class="'+n+'" unselectable="on" style="font-size:0;color:transparent;text-indent:-999px;">'+a.t+"<\/span><\/a><\/span>"),a.s&&_this.addShortcuts(a.s,t)}t.match(r)&&l.push('<span class="xheGStart"\/>')}),l.push('<span class="xheGEnd"\/><br \/>'),_jText.after($('<input type="text" id="'+idFixFFCursor+'" style="position:absolute;display:none;" \/><span id="'+idContainer+'" class="xhe_'+settings.skin+'" style="display:none"><table cellspacing="0" cellpadding="0" class="xheLayout" style="'+("0px"!=s?"width:"+s+";":"")+"height:"+editorHeight+'px;" role="presentation"><tr><td id="'+idTools+'" class="xheTool" unselectable="on" style="height:1px;" role="presentation"><\/td><\/tr><tr><td id="'+idIframeArea+'" class="xheIframeArea" role="presentation"><iframe frameborder="0" id="'+idIframe+'" src="javascript:;" style="width:100%;"><\/iframe><\/td><\/tr><\/table><\/span>')),_jTools=$("#"+idTools),_jArea=$("#"+idIframeArea),headHTML='<meta http-equiv="Content-Type" content="text\/html; charset=utf-8" \/><link rel="stylesheet" href="'+skinPath+'iframe.css"\/>';var h=settings.loadCSS;if(h)if(is(h,"array"))for(var c in h)headHTML+='<link rel="stylesheet" href="'+h[c]+'"\/>';else headHTML+=h.match(\/\\s*<style(\\s+[^>]*?)?>[\\s\\S]+?<\\\/style>\\s*\/i)?h:'<link rel="stylesheet" href="'+h+'"\/>';var d='<!DOCTYPE html><html xmlns="http:\/\/www.w3.org\/1999\/xhtml"><head>'+headHTML+"<title>{#defaultReadTip} "+(settings.readTip?settings.readTip:"")+"<\/title>";o&&(d+="<style>html{background:"+o+";}<\/style>"),d+='<\/head><body spellcheck="0" class="editMode'+bodyClass+'"><\/body><\/html>',_this.win=_win=$("#"+idIframe)[0].contentWindow,_jWin=$(_win);try{this.doc=_doc=_win.document,_jDoc=$(_doc),_doc.open(),_doc.write(getLang(d)),_doc.close(),isIE?_doc.body.contentEditable="true":_doc.designMode="On"}catch(u){}setTimeout(setOpts,300),_this.setSource(),_win.setInterval=null,_jTools.append(getLang(l.join(""))).bind("mousedown contextmenu",returnFalse).click(function(e){var t=$(e.target).closest("a");return t.is(".xheEnabled")&&(clearTimeout(timer),_jTools.find("a").attr("tabindex","-1"),ev=e,_this.exec(t.attr("cmd"))),!1}),_jTools.find(".xheButton").hover(function(e){var t=$(this),i=settings.hoverExecDelay,s=lastAngle;if(lastAngle=null,-1===i||bDisableHoverExec||!t.is(".xheEnabled"))return!1;if(s&&s>10)return bDisableHoverExec=!0,setTimeout(function(){bDisableHoverExec=!1},100),!1;var a=t.attr("cmd"),n=1===arrTools[a].h;return n?(bQuickHoverExec&&(i=0),i>=0&&(timer=setTimeout(function(){ev=e,lastPoint={x:ev.clientX,y:ev.clientY},_this.exec(a)},i)),undefined):(_this.hidePanel(),!1)},function(){lastPoint=null,timer&&clearTimeout(timer)}).mousemove(function(e){if(lastPoint){var t={x:e.clientX-lastPoint.x,y:e.clientY-lastPoint.y};if(Math.abs(t.x)>1||Math.abs(t.y)>1){if(t.x>0&&t.y>0){var i=Math.round(Math.atan(t.y\/t.x)\/.017453293);lastAngle=lastAngle?(lastAngle+i)\/2:i}else lastAngle=null;lastPoint={x:e.clientX,y:e.clientY}}}}),_jPanel=$("#xhePanel"),_jShadow=$("#xheShadow"),_jCntLine=$("#xheCntLine"),0===_jPanel.length&&(_jPanel=$('<div id="xhePanel"><\/div>').mousedown(function(e){e.stopPropagation()}),_jShadow=$('<div id="xheShadow"><\/div>'),_jCntLine=$('<div id="xheCntLine"><\/div>'),setTimeout(function(){$(document.body).append(_jPanel).append(_jShadow).append(_jCntLine)},10)),$("#"+idContainer).show(),_jText.hide(),_jArea.css("height",editorHeight-_jTools.outerHeight()),isIE&8>browerVer&&setTimeout(function(){_jArea.css("height",editorHeight-_jTools.outerHeight())},1),_jText.focus(_this.focus),_jForm.submit(saveResult).bind("reset",loadReset),settings.submitID&&$("#"+settings.submitID).mousedown(saveResult),$(window).bind("unload beforeunload",saveResult).bind("resize",fixFullHeight),$(document).mousedown(clickCancelPanel),bCheckEscInit||($(document).keydown(checkEsc),bCheckEscInit=!0),_jWin.focus(function(){settings.focus&&settings.focus()}).blur(function(){settings.blur&&settings.blur()}),isWebkit&&_jWin.click(fixAppleSel),_jDoc.mousedown(clickCancelPanel).keydown(checkShortcuts).keypress(forcePtag).dblclick(checkDblClick).bind("mousedown click",function(e){_jText.trigger(e.type)}),isIE&&(_jDoc.keydown(function(e){var t=_this.getRng();return 8===e.which&&t.item?($(t.item(0)).remove(),!1):undefined}),_jDoc.bind("controlselect",function(t){t=t.target,$.nodeName(t,"IMG")&&$(t).unbind("resizeend",e).bind("resizeend",e)})),_jDoc.keydown(function(e){var t=e.which;return e.altKey&&t>=49&&57>=t?(_jTools.find("a").attr("tabindex","0"),_jTools.find(".xheGStart").eq(t-49).next().find("a").focus(),_doc.title="\\ufeff\\ufeff",!1):undefined}).click(function(){_jTools.find("a").attr("tabindex","-1")}),_jTools.keydown(function(e){var t=e.which;if(27==t)_jTools.find("a").attr("tabindex","-1"),_this.focus();else if(e.altKey&&t>=49&&57>=t)return _jTools.find(".xheGStart").eq(t-49).next().find("a").focus(),!1});var p=$(_doc.documentElement);isOpera?p.bind("keydown",function(e){e.ctrlKey&&86===e.which&&cleanPaste()}):p.bind(isIE?"beforepaste":"paste",cleanPaste),settings.disableContextmenu&&p.bind("contextmenu",returnFalse),settings.html5Upload&&p.bind("dragenter dragover",function(e){var t;return(t=e.originalEvent.dataTransfer.types)&&-1!==$.inArray("Files",t)?!1:undefined}).bind("drop",function(e){function t(e){var t,i,s;for(a=0;e.length>a;a++){if(i=e[a].name.replace(\/.+\\.\/,""),!(t=o.match(RegExp("(\\\\w+):[^:]*,"+i+"(?:,|$)","i"))))return 1;if(s){if(s!==t[1])return 2}else s=t[1]}return s}var i,s=e.originalEvent.dataTransfer;if(s&&(i=s.files)&&i.length>0){var a,n,o,l=["Link","Img","Flash","Media"],r=[];for(a in l)n=l[a],settings["up"+n+"Url"]&&settings["up"+n+"Url"].match(\/^[^!].*\/i)&&r.push(n+":,"+settings["up"+n+"Ext"]);return 0===r.length?!1:(o=r.join(","),n=t(i),1===n?alert(getLang("upload.extLimit",o.replace(\/\\w+:,\/g,""))):2===n?alert(getLang("upload.typeLimit")):n&&_this.startUpload(i,settings["up"+n+"Url"],"*",function(e){var t,i=[],s=settings.onUpload;s&&s(e);for(var a=0,o=e.length;o>a;a++)t=e[a],url=is(t,"string")?t:t.url,"!"===url.substr(0,1)&&(url=url.substr(1)),i.push(url);_this.exec(n),$("#xhe"+n+"Url").val(i.join(" ")),$("#xheSave").click()}),!1)}});var g=settings.shortcuts;g&&$.each(g,function(e,t){_this.addShortcuts(e,t)}),xCount++,bInit=!0,settings.fullscreen?_this.toggleFullscreen():settings.sourceMode&&setTimeout(_this.toggleSource,20);var f=settings.plugins;return f&&$.each(f,function(e,t){var i=t.i;i!==undefined&&i(_this)}),!0},this.remove=function(){_this.hidePanel(),saveResult(),_jText.unbind("focus",_this.focus),_jForm.unbind("submit",saveResult).unbind("reset",loadReset),settings.submitID&&$("#"+settings.submitID).unbind("mousedown",saveResult),$(window).unbind("unload beforeunload",saveResult).unbind("resize",fixFullHeight),$(document).unbind("mousedown",clickCancelPanel),$("#"+idContainer).remove(),$("#"+idFixFFCursor).remove(),_jText.show(),bInit=!1},this.saveBookmark=function(){if(!bSource){_this.focus();var e=_this.getRng();e=e.cloneRange?e.cloneRange():e,bookmark={top:_jWin.scrollTop(),rng:e}}},this.loadBookmark=function(){if(!bSource&&bookmark){_this.focus();var e=bookmark.rng;if(isIE)e.select();else{var t=_this.getSel();t.removeAllRanges(),t.addRange(e)}_jWin.scrollTop(bookmark.top),bookmark=null}},this.focus=function(){if(bSource?$("#sourceCode",_doc).focus():_win.focus(),isIE){var e=_this.getRng();e.parentElement&&e.parentElement().ownerDocument!==_doc&&_this.setTextCursor()}return!1},this.setTextCursor=function(e){var t=_this.getRng(!0),i=_doc.body;if(isIE)t.moveToElementText(i);else{for(var s=e?"lastChild":"firstChild";3!=i.nodeType&&i[s];)i=i[s];t.selectNode(i)}if(t.collapse(e?!1:!0),isIE)t.select();else{var a=_this.getSel();a.removeAllRanges(),a.addRange(t)}},this.getSel=function(){return _doc.selection?_doc.selection:_win.getSelection()},this.getRng=function(e){var t,i;try{e||(t=_this.getSel(),i=t.createRange?t.createRange():t.rangeCount>0?t.getRangeAt(0):null),i||(i=_doc.body.createTextRange?_doc.body.createTextRange():_doc.createRange())}catch(s){}return i},this.getParent=function(e){var t,i=_this.getRng();return isIE?t=i.item?i.item(0):i.parentElement():(t=i.commonAncestorContainer,i.collapsed||i.startContainer===i.endContainer&&2>i.startOffset-i.endOffset&&i.startContainer.hasChildNodes()&&(t=i.startContainer.childNodes[i.startOffset])),e=e?e:"*",t=$(t),t.is(e)||(t=$(t).closest(e)),t},this.getSelect=function(e){var t=_this.getSel(),i=_this.getRng(),s=!0;if(s=!i||i.item?!1:!t||0===i.boundingWidth||i.collapsed,"text"===e)return s?"":i.text||(t.toString?""+t:"");var a;if(i.cloneContents){var n,o=$("<div><\/div>");n=i.cloneContents(),n&&o.append(n),a=o.html()}else a=is(i.item)?i.item(0).outerHTML:is(i.htmlText)?i.htmlText:""+i;return s&&(a=""),a=_this.processHTML(a,"read"),a=_this.cleanHTML(a),a=_this.formatXHTML(a)},this.pasteHTML=function(e,t){if(bSource)return!1;_this.focus(),e=_this.processHTML(e,"write");var i=_this.getSel(),s=_this.getRng();if(t!==undefined){if(s.item){var a=s.item(0);s=_this.getRng(!0),s.moveToElementText(a),s.select()}s.collapse(t)}if(e+="<"+(isIE?"img":"span")+' id="_xhe_temp" width="0" height="0" \/>',s.insertNode){if($(s.startContainer).closest("style,script").length>0)return!1;s.deleteContents(),s.insertNode(s.createContextualFragment(e))}else"control"===i.type.toLowerCase()&&(i.clear(),s=_this.getRng()),s.pasteHTML(e);var n=$("#_xhe_temp",_doc),o=n[0];isIE?(s.moveToElementText(o),s.select()):(s.selectNode(o),i.removeAllRanges(),i.addRange(s)),n.remove()},this.pasteText=function(e,t){e||(e=""),e=_this.domEncode(e),e=e.replace(\/\\r?\\n\/g,"<br \/>"),_this.pasteHTML(e,t)},this.appendHTML=function(e){return bSource?!1:(_this.focus(),e=_this.processHTML(e,"write"),$(_doc.body).append(e),_this.setTextCursor(!0),undefined)},this.domEncode=function(e){return e.replace(regEntities,function(e){return arrEntities[e]})},this.setSource=function(e){bookmark=null,"string"!=typeof e&&""!==e&&(e=_text.value),bSource?$("#sourceCode",_doc).val(e):(settings.beforeSetSource&&(e=settings.beforeSetSource(e)),e=_this.cleanHTML(e),e=_this.formatXHTML(e),e=_this.processHTML(e,"write"),isIE?(_doc.body.innerHTML='<img id="_xhe_temp" width="0" height="0" \/>'+e,$("#_xhe_temp",_doc).remove()):_doc.body.innerHTML=e)},this.processHTML=function(e,t){function i(e,t,i,s,a,o){var l,r,h,c,d="";if(l=s.match(\/font-family\\s*:\\s*([^;"]+)\/i),l&&(d+=' face="'+l[1]+'"'),r=s.match(\/font-size\\s*:\\s*([^;"]+)\/i)){r=r[1].toLowerCase();for(var u=0;n.length>u;u++)if(r===n[u].n||r===n[u].s){h=u+1;break}h&&(d+=' size="'+h+'"',s=s.replace(\/(^|;)(\\s*font-size\\s*:\\s*[^;"]+;?)+\/gi,"$1"))}if(c=s.match(\/(?:^|[\\s;])color\\s*:\\s*([^;"]+)\/i)){var p;if(p=c[1].match(\/\\s*rgb\\s*\\(\\s*(\\d+)\\s*,\\s*(\\d+)\\s*,\\s*(\\d+)\\s*\\)\/i)){c[1]="#";for(var g=1;3>=g;g++)c[1]+=("0"+(p[g]-0).toString(16)).slice(-2)}c[1]=c[1].replace(\/^#([0-9a-f])([0-9a-f])([0-9a-f])$\/i,"#$1$1$2$2$3$3"),d+=' color="'+c[1]+'"'}return s=s.replace(\/(^|;)(\\s*(font-family|color)\\s*:\\s*[^;"]+;?)+\/gi,"$1"),""!==d?(s&&(d+=' style="'+s+'"'),"<font"+(i?i:"")+d+(a?a:"")+">"+o+"<\/font>"):e}function s(e,t,i,s,a){for(var n,l,r=(i?i:"")+(s?s:""),h=[],c=[],d=0;o.length>d;d++)n=o[d].r,l=o[d].t,r=r.replace(n,function(){return h.push("<"+l+">"),c.push("<\/"+l+">"),""});return r=r.replace(\/\\s+style\\s*=\\s*"\\s*"\/i,""),(r?"<span"+r+">":"")+h.join("")+a+c.join("")+(r?"<\/span>":"")}var a=' class="Apple-style-span"',n=settings.listFontsize;if("write"===t)e=e.replace(\/(<(\\\/?)(\\w+))((?:\\s+[\\w\\-:]+\\s*=\\s*(?:"[^"]*"|'[^']*'|[^>\\s]+))*)\\s*((\\\/?)>)\/g,function(e,t,i,s,n,o,l){s=s.toLowerCase(),isMozilla?"strong"===s?s="b":"em"===s&&(s="i"):isWebkit&&("strong"===s?(s="span",i||(n+=a+' style="font-weight: bold;"')):"em"===s?(s="span",i||(n+=a+' style="font-style: italic;"')):"u"===s?(s="span",i||(n+=a+' style="text-decoration: underline;"')):"strike"===s&&(s="span",i||(n+=a+' style="text-decoration: line-through;"')));var r,h="";if("del"===s)s="strike";else if("img"===s)n=n.replace(\/\\s+emot\\s*=\\s*("[^"]*"|'[^']*'|[^>\\s]+)\/i,function(e,t){return r=t.match(\/^(["']?)(.*)\\1\/)[2],r=r.split(","),r[1]||(r[1]=r[0],r[0]=""),"default"===r[0]&&(r[0]=""),settings.emotMark?e:""});else if("a"===s)!n.match(\/ href=[^ ]\/i)&&n.match(\/ name=[^ ]\/i)&&(h+=" xhe-anchor"),l&&(o="><\/a>");else if("table"===s&&!i){var c=n.match(\/\\s+border\\s*=\\s*("[^"]*"|'[^']*'|[^>\\s]+)\/i);(!c||c[1].match(\/^(["']?)\\s*0\\s*\\1$\/))&&(h+=" xhe-border")}var d;if(n=n.replace(\/\\s+([\\w\\-:]+)\\s*=\\s*("[^"]*"|'[^']*'|[^>\\s]+)\/g,function(e,t,i){return t=t.toLowerCase(),i=i.match(\/^(["']?)(.*)\\1\/)[2],aft="",isIE&&t.match(\/^(disabled|checked|readonly|selected)$\/)&&i.match(\/^(false|0)$\/i)?"":"img"===s&&r&&"src"===t?"":(t.match(\/^(src|href)$\/)&&(aft=" _xhe_"+t+'="'+i+'"',urlBase&&(i=getLocalUrl(i,"abs",urlBase))),h&&"class"===t&&(i+=" "+h,h=""),isWebkit&&"style"===t&&"span"===s&&i.match(\/(^|;)\\s*(font-family|font-size|color|background-color)\\s*:\\s*[^;]+\\s*(;|$)\/i)&&(d=!0)," "+t+'="'+i+'"'+aft)}),r){var u=emotPath+(r[0]?r[0]:"default")+"\/"+r[1]+".gif";n+=' src="'+u+'" _xhe_src="'+u+'"'}return d&&(n+=a),h&&(n+=' class="'+h+'"'),"<"+i+s+n+o}),isIE&&(e=e.replace(\/&apos;\/gi,"&#39;")),isWebkit||(e=e.replace(\/<(span)(\\s+[^>]*?)?\\s+style\\s*=\\s*"((?:[^"]*?;)?\\s*(?:font-family|font-size|color)\\s*:[^"]*)"( [^>]*)?>(((?!<\\1(\\s+[^>]*?)?>)[\\s\\S]|<\\1(\\s+[^>]*?)?>((?!<\\1(\\s+[^>]*?)?>)[\\s\\S]|<\\1(\\s+[^>]*?)?>((?!<\\1(\\s+[^>]*?)?>)[\\s\\S])*?<\\\/\\1>)*?<\\\/\\1>)*?)<\\\/\\1>\/gi,i),e=e.replace(\/<(span)(\\s+[^>]*?)?\\s+style\\s*=\\s*"((?:[^"]*?;)?\\s*(?:font-family|font-size|color)\\s*:[^"]*)"( [^>]*)?>(((?!<\\1(\\s+[^>]*?)?>)[\\s\\S]|<\\1(\\s+[^>]*?)?>((?!<\\1(\\s+[^>]*?)?>)[\\s\\S])*?<\\\/\\1>)*?)<\\\/\\1>\/gi,i),e=e.replace(\/<(span)(\\s+[^>]*?)?\\s+style\\s*=\\s*"((?:[^"]*?;)?\\s*(?:font-family|font-size|color)\\s*:[^"]*)"( [^>]*)?>(((?!<\\1(\\s+[^>]*?)?>)[\\s\\S])*?)<\\\/\\1>\/gi,i)),e=e.replace(\/<(td|th)(\\s+[^>]*?)?>(\\s|&nbsp;)*<\\\/\\1>\/gi,"<$1$2>"+(isIE?"":"<br \/>")+"<\/$1>");else{if(isWebkit)for(var o=[{r:\/font-weight\\s*:\\s*bold;?\/gi,t:"strong"},{r:\/font-style\\s*:\\s*italic;?\/gi,t:"em"},{r:\/text-decoration\\s*:\\s*underline;?\/gi,t:"u"},{r:\/text-decoration\\s*:\\s*line-through;?\/gi,t:"strike"}],l=0;2>l;l++)e=e.replace(\/<(span)(\\s+[^>]*?)?\\s+class\\s*=\\s*"Apple-style-span"(\\s+[^>]*?)?>(((?!<\\1(\\s+[^>]*?)?>)[\\s\\S]|<\\1(\\s+[^>]*?)?>((?!<\\1(\\s+[^>]*?)?>)[\\s\\S]|<\\1(\\s+[^>]*?)?>((?!<\\1(\\s+[^>]*?)?>)[\\s\\S])*?<\\\/\\1>)*?<\\\/\\1>)*?)<\\\/\\1>\/gi,s),e=e.replace(\/<(span)(\\s+[^>]*?)?\\s+class\\s*=\\s*"Apple-style-span"(\\s+[^>]*?)?>(((?!<\\1(\\s+[^>]*?)?>)[\\s\\S]|<\\1(\\s+[^>]*?)?>((?!<\\1(\\s+[^>]*?)?>)[\\s\\S])*?<\\\/\\1>)*?)<\\\/\\1>\/gi,s),e=e.replace(\/<(span)(\\s+[^>]*?)?\\s+class\\s*=\\s*"Apple-style-span"(\\s+[^>]*?)?>(((?!<\\1(\\s+[^>]*?)?>)[\\s\\S])*?)<\\\/\\1>\/gi,s);e=e.replace(\/(<(\\w+))((?:\\s+[\\w\\-:]+\\s*=\\s*(?:"[^"]*"|'[^']*'|[^>\\s]+))*)\\s*(\\\/?>)\/g,function(e,t,i,s,a){i=i.toLowerCase();$/;"	p
var.specialKeys.8	js/xheditor.min.js	/^(function(){var e={};window.XHEDITOR=e})(),function(e,t){e.mapLang={},e.setLang=function(i,s){s===t&&(s=i,i=""),""!==i&&(i+=".");var a,n;for(var o in s)n=s[o],a=i+o,"string"==typeof n||n instanceof Array?e.mapLang[a]=n:e.setLang(a,n)},e.getLang=function(i){var s=e.mapLang[i];if(s===t&&(s=i.replace(\/{#([^{}]+)}\/g,function(t,i){var s=e.mapLang[i];return s?s:i})),"string"==typeof s){var a=arguments;s=s.replace(\/{\\$(\\d+)}\/g,function(e,i){var s=a[parseInt(i,10)+1];return s!==t?s:e})}return s}}(XHEDITOR),function(XHEDITOR,$,undefined){var agent=navigator.userAgent.toLowerCase(),bMobile=\/mobile\/i.test(agent),browser=$.browser,browerVer=parseFloat(browser.version),isIE=browser.msie,isMozilla=browser.mozilla,isWebkit=browser.webkit,isOpera=browser.opera,isChrome=browser.chrome,bAir=agent.indexOf(" adobeair\/")>-1,xCount=0,bShowPanel=!1,bClickCancel=!0,bShowModal=!1,bCheckEscInit=!1,_jPanel,_jShadow,_jCntLine,_jPanelButton,jModal,jModalShadow,layerShadow,jOverlay,jHideSelect,onModalRemove,editorRoot,getLang=XHEDITOR.getLang;if($("script[src*=xheditor]").each(function(){var e=this.src;return e.match(\/xheditor[^\\\/]*\\.js\/i)?(editorRoot=e.replace(\/[\\?#].*$\/,"").replace(\/(^|[\\\/\\\\])[^\\\/]*$\/,"$1"),!1):undefined}),isIE){try{document.execCommand("BackgroundImageCache",!1,!0)}catch(e){}var jqueryVer=$.fn.jquery;jqueryVer&&jqueryVer.match(\/^1\\.[67]\/)&&($.attrHooks.width=$.attrHooks.height=null)}var specialKeys={27:"esc",9:"tab",32:"space",13:"enter",8:"backspace",145:"scroll",20:"capslock",144:"numlock",19:"pause",45:"insert",36:"home",46:"del",35:"end",33:"pageup",34:"pagedown",37:"left",38:"up",39:"right",40:"down",112:"f1",113:"f2",114:"f3",115:"f4",116:"f5",117:"f6",118:"f7",119:"f8",120:"f9",121:"f10",122:"f11",123:"f12"},arrAlign=[{v:"justifyleft"},{v:"justifycenter"},{v:"justifyright"},{v:"justifyfull"}],arrList=[{v:"insertOrderedList"},{v:"insertUnorderedList"}],htmlPastetext='<div><label for="xhePastetextValue">{#PastetextTip}<\/label><\/div><div><textarea id="xhePastetextValue" wrap="soft" spellcheck="false" style="width:300px;height:100px;" \/><\/div><div style="text-align:right;"><input type="button" id="xheSave" value="{#dialogOk}" \/><\/div>',htmlLink='<div><label for="xheLinkUrl">{#link.url}<\/label><input type="text" id="xheLinkUrl" value="http:\/\/" class="xheText" \/><\/div><div><label for="xheLinkTarget">{#link.target}<\/label><select id="xheLinkTarget"><option selected="selected" value="">{#default}<\/option><option value="_blank">{#link.targetBlank}<\/option><option value="_self">{#link.targetSelf}<\/option><option value="_parent">{#link.targetParent}<\/option><\/select><\/div><div style="display:none"><label for="xheLinkText">{#link.linkText}<\/label><input type="text" id="xheLinkText" value="" class="xheText" \/><\/div><div style="text-align:right;"><input type="button" id="xheSave" value="{#dialogOk}" \/><\/div>',htmlAnchor='<div><label for="xheAnchorName">{#anchor.name}<\/label><input type="text" id="xheAnchorName" value="" class="xheText" \/><\/div><div style="text-align:right;"><input type="button" id="xheSave" value="{#dialogOk}" \/><\/div>',htmlImg='<div><label for="xheImgUrl">{#img.url}<\/label><input type="text" id="xheImgUrl" value="http:\/\/" class="xheText" \/><\/div><div><div><label for="xheImgAlt">{#img.alt}<\/label><input type="text" id="xheImgAlt" \/><\/div><div><label for="xheImgAlign">{#img.align}<\/label><select id="xheImgAlign"><option selected="selected" value="">{#default}<\/option><option value="left">{#img.alignLeft}<\/option><option value="right">{#img.alignRight}<\/option><option value="top">{#img.alignTop}<\/option><option value="middle">{#img.alignMiddle}<\/option><option value="baseline">{#img.alignBaseline}<\/option><option value="bottom">{#img.alignBottom}<\/option><\/select><\/div><div><label for="xheImgWidth">{#img.width}<\/label><input type="text" id="xheImgWidth" style="width:40px;" \/> <label for="xheImgHeight">{#img.height}<\/label><input type="text" id="xheImgHeight" style="width:40px;" \/><\/div><div><label for="xheImgBorder">{#img.border}<\/label><input type="text" id="xheImgBorder" style="width:40px;" \/><\/div><div><label for="xheImgHspace">{#img.hspace}<\/label><input type="text" id="xheImgHspace" style="width:40px;" \/> <label for="xheImgVspace">{#img.vspace}<\/label><input type="text" id="xheImgVspace" style="width:40px;" \/><\/div><div style="text-align:right;"><input type="button" id="xheSave" value="{#dialogOk}" \/><\/div>',htmlFlash='<div><label for="xheFlashUrl">{#flash.url}<\/label><input type="text" id="xheFlashUrl" value="http:\/\/" class="xheText" \/><\/div><div><label for="xheFlashWidth">{#flash.width}<\/label><input type="text" id="xheFlashWidth" style="width:40px;" value="480" \/> <label for="xheFlashHeight">{#flash.height}<\/label><input type="text" id="xheFlashHeight" style="width:40px;" value="400" \/><\/div><div style="text-align:right;"><input type="button" id="xheSave" value="{#dialogOk}" \/><\/div>',htmlMedia='<div><label for="xheMediaUrl">{#media.url}<\/label><input type="text" id="xheMediaUrl" value="http:\/\/" class="xheText" \/><\/div><div><label for="xheMediaWidth">{#media.width}<\/label><input type="text" id="xheMediaWidth" style="width:40px;" value="480" \/> <label for="xheMediaHeight">{#media.height}<\/label><input type="text" id="xheMediaHeight" style="width:40px;" value="400" \/><\/div><div style="text-align:right;"><input type="button" id="xheSave" value="{#dialogOk}" \/><\/div>',htmlTable='<div><label for="xheTableRows">{#table.rows}<\/label><input type="text" id="xheTableRows" style="width:40px;" value="3" \/> <label for="xheTableColumns">{#table.columns}<\/label><input type="text" id="xheTableColumns" style="width:40px;" value="2" \/><\/div><div><label for="xheTableHeaders">{#table.headers}<\/label><select id="xheTableHeaders"><option selected="selected" value="">{#none}<\/option><option value="row">{#table.headersRow}<\/option><option value="col">{#table.headersCol}<\/option><option value="both">{#table.headersBoth}<\/option><\/select><\/div><div><label for="xheTableWidth">{#table.width}<\/label><input type="text" id="xheTableWidth" style="width:40px;" value="200" \/> <label for="xheTableHeight">{#table.height}<\/label><input type="text" id="xheTableHeight" style="width:40px;" value="" \/><\/div><div><label for="xheTableBorder">{#table.border}<\/label><input type="text" id="xheTableBorder" style="width:40px;" value="1" \/><\/div><div><label for="xheTableCellSpacing">{#table.cellSpacing}<\/label><input type="text" id="xheTableCellSpacing" style="width:40px;" value="1" \/> <label for="xheTableCellPadding">{#table.cellPadding}<\/label><input type="text" id="xheTableCellPadding" style="width:40px;" value="1" \/><\/div><div><label for="xheTableAlign">{#table.align}<\/label><select id="xheTableAlign"><option selected="selected" value="">{#default}<\/option><option value="left">{#table.alignLeft}<\/option><option value="center">{#table.alignCenter}<\/option><option value="right">{#table.alignRight}<\/option><\/select><\/div><div><label for="xheTableCaption">{#table.caption}<\/label><input type="text" id="xheTableCaption" \/><\/div><div style="text-align:right;"><input type="button" id="xheSave" value="{#dialogOk}" \/><\/div>',htmlAbout='<div style="font:12px Arial;width:245px;word-wrap:break-word;word-break:break-all;outline:none;" role="dialog" tabindex="-1"><p><span style="font-size:20px;color:#1997DF;">xhEditor<\/span><br \/>v1.2.1 (build 130225)<\/p><p>{#aboutXheditor}<\/p><p>Copyright &copy; <a href="http:\/\/xheditor.com\/" target="_blank">xhEditor.com<\/a>. All rights reserved.<\/p><\/div>',itemEmots={"default":{name:"{#default}",width:24,height:24,line:7,list:["smile","tongue","titter","laugh","sad","wronged","fastcry","cry","wail","mad","knock","curse","crazy","angry","ohmy","awkward","panic","shy","cute","envy","proud","struggle","quiet","shutup","doubt","despise","sleep","bye"]}},arrTools={Cut:{t:"Cut"},Copy:{t:"Copy"},Paste:{t:"Paste"},Pastetext:{t:"Pastetext",h:isIE?0:1},Blocktag:{t:"Blocktag",h:1},Fontface:{t:"Fontface",h:1},FontSize:{t:"FontSize",h:1},Bold:{t:"Bold",s:"Ctrl+B"},Italic:{t:"Italic",s:"Ctrl+I"},Underline:{t:"Underline",s:"Ctrl+U"},Strikethrough:{t:"Strikethrough"},FontColor:{t:"FontColor",h:1},BackColor:{t:"BackColor",h:1},SelectAll:{t:"SelectAll"},Removeformat:{t:"Removeformat"},Align:{t:"Align",h:1},List:{t:"List",h:1},Outdent:{t:"Outdent"},Indent:{t:"Indent"},Link:{t:"Link",s:"Ctrl+L",h:1},Unlink:{t:"Unlink"},Anchor:{t:"Anchor",h:1},Img:{t:"Img",h:1},Flash:{t:"Flash",h:1},Media:{t:"Media",h:1},Hr:{t:"Hr"},Emot:{t:"Emot",s:"ctrl+e",h:1},Table:{t:"Table",h:1},Source:{t:"Source"},Preview:{t:"Preview"},Print:{t:"Print",s:"Ctrl+P"},Fullscreen:{t:"Fullscreen",s:"Esc"},About:{t:"About"}},toolsThemes={mini:"Bold,Italic,Underline,Strikethrough,|,Align,List,|,Link,Img",simple:"Blocktag,Fontface,FontSize,Bold,Italic,Underline,Strikethrough,FontColor,BackColor,|,Align,List,Outdent,Indent,|,Link,Img,Emot",full:"Cut,Copy,Paste,Pastetext,|,Blocktag,Fontface,FontSize,Bold,Italic,Underline,Strikethrough,FontColor,BackColor,SelectAll,Removeformat,|,Align,List,Outdent,Indent,|,Link,Unlink,Anchor,Img,Flash,Media,Hr,Emot,Table,|,Source,Preview,Print,Fullscreen"};toolsThemes.mfull=toolsThemes.full.replace(\/\\|(,Align)\/i,"\/$1");var arrDbClick={a:"Link",img:"Img",embed:"Embed"},uploadInputname="filedata",arrEntities={"<":"&lt;",">":"&gt;",'"':"&quot;","\\u00ae":"&reg;","\\u00a9":"&copy;"},regEntities=\/[<>"\\u00ae\\u00a9]\/g,Xheditor=function(textarea,options){function checkDblClick(e){var t=e.target,i=arrDbClick[t.tagName.toLowerCase()];if(i){if("Embed"===i){var s={"application\/x-shockwave-flash":"Flash","application\/x-mplayer2":"Media"};i=s[t.type.toLowerCase()]}_this.exec(i)}}function checkEsc(e){return 27===e.which?(bShowModal?_this.removeModal():bShowPanel&&_this.hidePanel(),!1):undefined}function loadReset(){setTimeout(_this.setSource,10)}function saveResult(){_this.getSource()}function cleanPaste(e){var t,i,s;if(e&&(t=e.originalEvent.clipboardData)&&(i=t.items)&&(s=i[0])&&"file"==s.kind&&s.type.match(\/^image\\\/\/i)){var a=s.getAsFile(),n=new FileReader;return n.onload=function(){var e='<img src="'+event.target.result+'">';e=replaceRemoteImg(e),_this.pasteHTML(e)},n.readAsDataURL(a),!1}var o=settings.cleanPaste;if(0===o||bSource||bCleanPaste)return!0;bCleanPaste=!0,_this.saveBookmark();var l=isIE?"pre":"div",r=$("<"+l+' class="xhe-paste">\\ufeff\\ufeff<\/'+l+">",_doc).appendTo(_doc.body),h=r[0],c=_this.getSel(),d=_this.getRng(!0);r.css("top",_jWin.scrollTop()),isIE?(d.moveToElementText(h),d.select()):(d.selectNodeContents(h),c.removeAllRanges(),c.addRange(d)),setTimeout(function(){var e,t=3===o;if(t)r.html(r.html().replace(\/<br(\\s+[^<>]*)?>\/gi,"\\n")),e=r.text();else{var i=$(".xhe-paste",_doc.body),s=[];i.each(function(e,t){0==$(t).find(".xhe-paste").length&&s.push(t.innerHTML)}),e=s.join("<br \/>")}r.remove(),_this.loadBookmark(),e=e.replace(\/^[\\s\\uFEFF]+|[\\s\\uFEFF]+$\/g,""),e&&(t?_this.pasteText(e):(e=_this.cleanHTML(e),e=_this.cleanWord(e),e=_this.formatXHTML(e),(!settings.onPaste||settings.onPaste&&(e=settings.onPaste(e))!==!1)&&(e=replaceRemoteImg(e),_this.pasteHTML(e)))),bCleanPaste=!1},0)}function replaceRemoteImg(e){var t=settings.localUrlTest,i=settings.remoteImgSaveUrl;if(t&&i){var s=[],a=0;e=e.replace(\/(<img)((?:\\s+[^>]*?)?(?:\\s+src="\\s*([^"]+)\\s*")(?: [^>]*)?)(\\\/?>)\/gi,function(e,i,n,o,l){return!\/^(https?|data:image)\/i.test(o)||\/_xhe_temp\/.test(n)||t.test(o)||(s[a]=o,n=n.replace(\/\\s+(width|height)="[^"]*"\/gi,"").replace(\/\\s+src="[^"]*"\/gi,' src="'+skinPath+'img\/waiting.gif" remoteimg="'+a++ +'"')),i+n+l}),s.length>0&&$.post(i,{urls:s.join("|")},function(e){e=e.split("|"),$("img[remoteimg]",_this.doc).each(function(){var t=$(this);xheAttr(t,"src",e[t.attr("remoteimg")]),t.removeAttr("remoteimg")})})}return e}function setCSS(e){try{_this._exec("styleWithCSS",e,!0)}catch(t){try{_this._exec("useCSS",!e,!0)}catch(t){}}}function setOpts(){if(bInit&&!bSource){setCSS(!1);try{_this._exec("enableObjectResizing",!0,!0)}catch(e){}if(isIE)try{_this._exec("BackgroundImageCache",!0,!0)}catch(e){}}}function forcePtag(e){if(bSource||13!==e.which||e.shiftKey||e.ctrlKey||e.altKey)return!0;var t=_this.getParent("p,h1,h2,h3,h4,h5,h6,pre,address,div,li");return t.is("li")?!0:settings.forcePtag?(0===t.length&&_this._exec("formatblock","<p>"),undefined):(_this.pasteHTML("<br \/>"),isIE&&t.length>0&&2===_this.getRng().parentElement().childNodes.length&&_this.pasteHTML("<br \/>"),!1)}function fixFullHeight(){isMozilla||isWebkit||(bFullscreen&&_jArea.height("100%").css("height",_jArea.outerHeight()-_jTools.outerHeight()),isIE&&_jTools.hide().show())}function fixAppleSel(e){if(e=e.target,e.tagName.match(\/(img|embed)\/i)){var t=_this.getSel(),i=_this.getRng(!0);i.selectNode(e),t.removeAllRanges(),t.addRange(i)}}function xheAttr(e,t,i){if(!t)return!1;var s="_xhe_"+t;return i&&(urlType&&(i=getLocalUrl(i,urlType,urlBase)),e.attr(t,urlBase?getLocalUrl(i,"abs",urlBase):i).removeAttr(s).attr(s,i)),e.attr(s)||e.attr(t)}function clickCancelPanel(){bClickCancel&&_this.hidePanel()}function checkShortcuts(e){if(bSource)return!0;var t=e.which,i=specialKeys[t],s=i?i:String.fromCharCode(t).toLowerCase();sKey="",sKey+=e.ctrlKey?"ctrl+":"",sKey+=e.altKey?"alt+":"",sKey+=e.shiftKey?"shift+":"",sKey+=s;var a,n=arrShortCuts[sKey];for(a in n){if(a=n[a],!$.isFunction(a))return _this.exec(a),!1;if(a.call(_this)===!1)return!1}}function is(e,t){var i=typeof e;return t?"array"===t&&e.hasOwnProperty&&e instanceof Array?!0:i===t:"undefined"!=i}function getLocalUrl(e,t,i){if(e.match(\/^(\\w+):\\\/\\\/\/i)&&!e.match(\/^https?:\/i)||\/^#\/i.test(e)||\/^data:\/i.test(e))return e;var s=i?$('<a href="'+i+'" \/>')[0]:location,a=s.protocol,n=s.host,o=s.hostname,l=s.port,r=s.pathname.replace(\/\\\\\/g,"\/").replace(\/[^\\\/]+$\/i,"");if(""===l&&(l="80"),""===r?r="\/":"\/"!==r.charAt(0)&&(r="\/"+r),e=$.trim(e),"abs"!==t&&(e=e.replace(RegExp(a+"\\\\\/\\\\\/"+o.replace(\/\\.\/g,"\\\\.")+"(?::"+l+")"+("80"===l?"?":"")+"(\/|$)","i"),"\/")),"rel"===t&&(e=e.replace(RegExp("^"+r.replace(\/([\\\/\\.\\+\\[\\]\\(\\)])\/g,"\\\\$1"),"i"),"")),"rel"!==t&&(e.match(\/^(https?:\\\/\\\/|\\\/)\/i)||(e=r+e),"\/"===e.charAt(0))){var h,c,d=[],u=e.split("\/"),p=u.length;for(c=0;p>c;c++)h=u[c],".."===h?d.pop():""!==h&&"."!==h&&d.push(h);""===u[p-1]&&d.push(""),e="\/"+d.join("\/")}return"abs"!==t||e.match(\/^https?:\\\/\\\/\/i)||(e=a+"\/\/"+n+e),e=e.replace(\/(https?:\\\/\\\/[^:\\\/?#]+):80(\\\/|$)\/i,"$1$2")}function checkFileExt(e,t){return"*"===t||e.match(RegExp(".("+t.replace(\/,\/g,"|")+")$","i"))?!0:(alert(getLang("upload.extLimit",t)),!1)}function formatBytes(e){var t=["Byte","KB","MB","GB","TB","PB"],i=Math.floor(Math.log(e)\/Math.log(1024));return(e\/Math.pow(1024,Math.floor(i))).toFixed(2)+t[i]}function returnFalse(){return!1}var _this=this,_text=textarea,_jText=$(_text),_jForm=_jText.closest("form"),_jTools,_jArea,_win,_jWin,_doc,_jDoc,bookmark,bInit=!1,bSource=!1,bFullscreen=!1,bCleanPaste=!1,outerScroll,bShowBlocktag=!1,sLayoutStyle="",ev=null,timer,bDisableHoverExec=!1,bQuickHoverExec=!1,lastPoint=null,lastAngle=null,editorHeight=0,settings=_this.settings=$.extend({},XHEDITOR.settings,options),plugins=settings.plugins,strPlugins=[];if(plugins&&(arrTools=$.extend({},arrTools,plugins),$.each(plugins,function(e){strPlugins.push(e)}),strPlugins=strPlugins.join(",")),settings.tools.match(\/^\\s*(m?full|simple|mini)\\s*$\/i)){var toolsTheme=toolsThemes[$.trim(settings.tools)];settings.tools=settings.tools.match(\/m?full\/i)&&plugins?toolsTheme.replace("Table","Table,"+strPlugins):toolsTheme}settings.tools.match(\/(^|,)\\s*About\\s*(,|$)\/i)||(settings.tools+=",About"),settings.tools=settings.tools.split(","),settings.editorRoot&&(editorRoot=settings.editorRoot),bAir===!1&&(editorRoot=getLocalUrl(editorRoot,"abs")),settings.urlBase&&(settings.urlBase=getLocalUrl(settings.urlBase,"abs"));var idCSS="xheCSS_"+settings.skin,idContainer="xhe"+xCount+"_container",idTools="xhe"+xCount+"_Tool",idIframeArea="xhe"+xCount+"_iframearea",idIframe="xhe"+xCount+"_iframe",idFixFFCursor="xhe"+xCount+"_fixffcursor",headHTML="",bodyClass="",skinPath=editorRoot+"xheditor_skin\/"+settings.skin+"\/",arrEmots=itemEmots,urlType=settings.urlType,urlBase=settings.urlBase,emotPath=settings.emotPath,emotPath=emotPath?emotPath:editorRoot+"xheditor_emot\/",selEmotGroup="";arrEmots=$.extend({},arrEmots,settings.emots),emotPath=getLocalUrl(emotPath,"rel",urlBase?urlBase:null),bShowBlocktag=settings.showBlocktag,bShowBlocktag&&(bodyClass+=" showBlocktag");var arrShortCuts=[];this.init=function(){function e(e){var t,i=$(e.target);(t=i.css("width"))&&i.css("width","").attr("width",t.replace(\/[^0-9%]+\/g,"")),(t=i.css("height"))&&i.css("height","").attr("height",t.replace(\/[^0-9%]+\/g,""))}0===$("#"+idCSS).length&&$("head").append('<link id="'+idCSS+'" rel="stylesheet" type="text\/css" href="'+skinPath+'ui.css" \/>');var t=_jText.outerWidth(),i=_jText.outerHeight(),s=settings.width||_text.style.width||(t>10?t:0);editorHeight=settings.height||_text.style.height||(i>10?i:150),\/^\\d+(?:\\.\\d+)?$\/.test(s)&&(s+="px"),is(editorHeight,"string")&&(editorHeight=editorHeight.replace(\/[^\\d]+\/g,""));var a,n,o=settings.background||_text.style.background,l=['<span class="xheGStart"\/>'],r=\/\\||\\\/\/i;$.each(settings.tools,function(e,t){if(t.match(r)&&l.push('<span class="xheGEnd"\/>'),"|"===t)l.push('<span class="xheSeparator"\/>');else if("\/"===t)l.push("<br \/>");else{if(a=arrTools[t],!a)return;n=a.c?a.c:"xheIcon xheBtn"+t,l.push('<span><a href="#" title="{#'+a.t+'}" cmd="'+t+'" class="xheButton xheEnabled" tabindex="-1" role="button"><span class="'+n+'" unselectable="on" style="font-size:0;color:transparent;text-indent:-999px;">'+a.t+"<\/span><\/a><\/span>"),a.s&&_this.addShortcuts(a.s,t)}t.match(r)&&l.push('<span class="xheGStart"\/>')}),l.push('<span class="xheGEnd"\/><br \/>'),_jText.after($('<input type="text" id="'+idFixFFCursor+'" style="position:absolute;display:none;" \/><span id="'+idContainer+'" class="xhe_'+settings.skin+'" style="display:none"><table cellspacing="0" cellpadding="0" class="xheLayout" style="'+("0px"!=s?"width:"+s+";":"")+"height:"+editorHeight+'px;" role="presentation"><tr><td id="'+idTools+'" class="xheTool" unselectable="on" style="height:1px;" role="presentation"><\/td><\/tr><tr><td id="'+idIframeArea+'" class="xheIframeArea" role="presentation"><iframe frameborder="0" id="'+idIframe+'" src="javascript:;" style="width:100%;"><\/iframe><\/td><\/tr><\/table><\/span>')),_jTools=$("#"+idTools),_jArea=$("#"+idIframeArea),headHTML='<meta http-equiv="Content-Type" content="text\/html; charset=utf-8" \/><link rel="stylesheet" href="'+skinPath+'iframe.css"\/>';var h=settings.loadCSS;if(h)if(is(h,"array"))for(var c in h)headHTML+='<link rel="stylesheet" href="'+h[c]+'"\/>';else headHTML+=h.match(\/\\s*<style(\\s+[^>]*?)?>[\\s\\S]+?<\\\/style>\\s*\/i)?h:'<link rel="stylesheet" href="'+h+'"\/>';var d='<!DOCTYPE html><html xmlns="http:\/\/www.w3.org\/1999\/xhtml"><head>'+headHTML+"<title>{#defaultReadTip} "+(settings.readTip?settings.readTip:"")+"<\/title>";o&&(d+="<style>html{background:"+o+";}<\/style>"),d+='<\/head><body spellcheck="0" class="editMode'+bodyClass+'"><\/body><\/html>',_this.win=_win=$("#"+idIframe)[0].contentWindow,_jWin=$(_win);try{this.doc=_doc=_win.document,_jDoc=$(_doc),_doc.open(),_doc.write(getLang(d)),_doc.close(),isIE?_doc.body.contentEditable="true":_doc.designMode="On"}catch(u){}setTimeout(setOpts,300),_this.setSource(),_win.setInterval=null,_jTools.append(getLang(l.join(""))).bind("mousedown contextmenu",returnFalse).click(function(e){var t=$(e.target).closest("a");return t.is(".xheEnabled")&&(clearTimeout(timer),_jTools.find("a").attr("tabindex","-1"),ev=e,_this.exec(t.attr("cmd"))),!1}),_jTools.find(".xheButton").hover(function(e){var t=$(this),i=settings.hoverExecDelay,s=lastAngle;if(lastAngle=null,-1===i||bDisableHoverExec||!t.is(".xheEnabled"))return!1;if(s&&s>10)return bDisableHoverExec=!0,setTimeout(function(){bDisableHoverExec=!1},100),!1;var a=t.attr("cmd"),n=1===arrTools[a].h;return n?(bQuickHoverExec&&(i=0),i>=0&&(timer=setTimeout(function(){ev=e,lastPoint={x:ev.clientX,y:ev.clientY},_this.exec(a)},i)),undefined):(_this.hidePanel(),!1)},function(){lastPoint=null,timer&&clearTimeout(timer)}).mousemove(function(e){if(lastPoint){var t={x:e.clientX-lastPoint.x,y:e.clientY-lastPoint.y};if(Math.abs(t.x)>1||Math.abs(t.y)>1){if(t.x>0&&t.y>0){var i=Math.round(Math.atan(t.y\/t.x)\/.017453293);lastAngle=lastAngle?(lastAngle+i)\/2:i}else lastAngle=null;lastPoint={x:e.clientX,y:e.clientY}}}}),_jPanel=$("#xhePanel"),_jShadow=$("#xheShadow"),_jCntLine=$("#xheCntLine"),0===_jPanel.length&&(_jPanel=$('<div id="xhePanel"><\/div>').mousedown(function(e){e.stopPropagation()}),_jShadow=$('<div id="xheShadow"><\/div>'),_jCntLine=$('<div id="xheCntLine"><\/div>'),setTimeout(function(){$(document.body).append(_jPanel).append(_jShadow).append(_jCntLine)},10)),$("#"+idContainer).show(),_jText.hide(),_jArea.css("height",editorHeight-_jTools.outerHeight()),isIE&8>browerVer&&setTimeout(function(){_jArea.css("height",editorHeight-_jTools.outerHeight())},1),_jText.focus(_this.focus),_jForm.submit(saveResult).bind("reset",loadReset),settings.submitID&&$("#"+settings.submitID).mousedown(saveResult),$(window).bind("unload beforeunload",saveResult).bind("resize",fixFullHeight),$(document).mousedown(clickCancelPanel),bCheckEscInit||($(document).keydown(checkEsc),bCheckEscInit=!0),_jWin.focus(function(){settings.focus&&settings.focus()}).blur(function(){settings.blur&&settings.blur()}),isWebkit&&_jWin.click(fixAppleSel),_jDoc.mousedown(clickCancelPanel).keydown(checkShortcuts).keypress(forcePtag).dblclick(checkDblClick).bind("mousedown click",function(e){_jText.trigger(e.type)}),isIE&&(_jDoc.keydown(function(e){var t=_this.getRng();return 8===e.which&&t.item?($(t.item(0)).remove(),!1):undefined}),_jDoc.bind("controlselect",function(t){t=t.target,$.nodeName(t,"IMG")&&$(t).unbind("resizeend",e).bind("resizeend",e)})),_jDoc.keydown(function(e){var t=e.which;return e.altKey&&t>=49&&57>=t?(_jTools.find("a").attr("tabindex","0"),_jTools.find(".xheGStart").eq(t-49).next().find("a").focus(),_doc.title="\\ufeff\\ufeff",!1):undefined}).click(function(){_jTools.find("a").attr("tabindex","-1")}),_jTools.keydown(function(e){var t=e.which;if(27==t)_jTools.find("a").attr("tabindex","-1"),_this.focus();else if(e.altKey&&t>=49&&57>=t)return _jTools.find(".xheGStart").eq(t-49).next().find("a").focus(),!1});var p=$(_doc.documentElement);isOpera?p.bind("keydown",function(e){e.ctrlKey&&86===e.which&&cleanPaste()}):p.bind(isIE?"beforepaste":"paste",cleanPaste),settings.disableContextmenu&&p.bind("contextmenu",returnFalse),settings.html5Upload&&p.bind("dragenter dragover",function(e){var t;return(t=e.originalEvent.dataTransfer.types)&&-1!==$.inArray("Files",t)?!1:undefined}).bind("drop",function(e){function t(e){var t,i,s;for(a=0;e.length>a;a++){if(i=e[a].name.replace(\/.+\\.\/,""),!(t=o.match(RegExp("(\\\\w+):[^:]*,"+i+"(?:,|$)","i"))))return 1;if(s){if(s!==t[1])return 2}else s=t[1]}return s}var i,s=e.originalEvent.dataTransfer;if(s&&(i=s.files)&&i.length>0){var a,n,o,l=["Link","Img","Flash","Media"],r=[];for(a in l)n=l[a],settings["up"+n+"Url"]&&settings["up"+n+"Url"].match(\/^[^!].*\/i)&&r.push(n+":,"+settings["up"+n+"Ext"]);return 0===r.length?!1:(o=r.join(","),n=t(i),1===n?alert(getLang("upload.extLimit",o.replace(\/\\w+:,\/g,""))):2===n?alert(getLang("upload.typeLimit")):n&&_this.startUpload(i,settings["up"+n+"Url"],"*",function(e){var t,i=[],s=settings.onUpload;s&&s(e);for(var a=0,o=e.length;o>a;a++)t=e[a],url=is(t,"string")?t:t.url,"!"===url.substr(0,1)&&(url=url.substr(1)),i.push(url);_this.exec(n),$("#xhe"+n+"Url").val(i.join(" ")),$("#xheSave").click()}),!1)}});var g=settings.shortcuts;g&&$.each(g,function(e,t){_this.addShortcuts(e,t)}),xCount++,bInit=!0,settings.fullscreen?_this.toggleFullscreen():settings.sourceMode&&setTimeout(_this.toggleSource,20);var f=settings.plugins;return f&&$.each(f,function(e,t){var i=t.i;i!==undefined&&i(_this)}),!0},this.remove=function(){_this.hidePanel(),saveResult(),_jText.unbind("focus",_this.focus),_jForm.unbind("submit",saveResult).unbind("reset",loadReset),settings.submitID&&$("#"+settings.submitID).unbind("mousedown",saveResult),$(window).unbind("unload beforeunload",saveResult).unbind("resize",fixFullHeight),$(document).unbind("mousedown",clickCancelPanel),$("#"+idContainer).remove(),$("#"+idFixFFCursor).remove(),_jText.show(),bInit=!1},this.saveBookmark=function(){if(!bSource){_this.focus();var e=_this.getRng();e=e.cloneRange?e.cloneRange():e,bookmark={top:_jWin.scrollTop(),rng:e}}},this.loadBookmark=function(){if(!bSource&&bookmark){_this.focus();var e=bookmark.rng;if(isIE)e.select();else{var t=_this.getSel();t.removeAllRanges(),t.addRange(e)}_jWin.scrollTop(bookmark.top),bookmark=null}},this.focus=function(){if(bSource?$("#sourceCode",_doc).focus():_win.focus(),isIE){var e=_this.getRng();e.parentElement&&e.parentElement().ownerDocument!==_doc&&_this.setTextCursor()}return!1},this.setTextCursor=function(e){var t=_this.getRng(!0),i=_doc.body;if(isIE)t.moveToElementText(i);else{for(var s=e?"lastChild":"firstChild";3!=i.nodeType&&i[s];)i=i[s];t.selectNode(i)}if(t.collapse(e?!1:!0),isIE)t.select();else{var a=_this.getSel();a.removeAllRanges(),a.addRange(t)}},this.getSel=function(){return _doc.selection?_doc.selection:_win.getSelection()},this.getRng=function(e){var t,i;try{e||(t=_this.getSel(),i=t.createRange?t.createRange():t.rangeCount>0?t.getRangeAt(0):null),i||(i=_doc.body.createTextRange?_doc.body.createTextRange():_doc.createRange())}catch(s){}return i},this.getParent=function(e){var t,i=_this.getRng();return isIE?t=i.item?i.item(0):i.parentElement():(t=i.commonAncestorContainer,i.collapsed||i.startContainer===i.endContainer&&2>i.startOffset-i.endOffset&&i.startContainer.hasChildNodes()&&(t=i.startContainer.childNodes[i.startOffset])),e=e?e:"*",t=$(t),t.is(e)||(t=$(t).closest(e)),t},this.getSelect=function(e){var t=_this.getSel(),i=_this.getRng(),s=!0;if(s=!i||i.item?!1:!t||0===i.boundingWidth||i.collapsed,"text"===e)return s?"":i.text||(t.toString?""+t:"");var a;if(i.cloneContents){var n,o=$("<div><\/div>");n=i.cloneContents(),n&&o.append(n),a=o.html()}else a=is(i.item)?i.item(0).outerHTML:is(i.htmlText)?i.htmlText:""+i;return s&&(a=""),a=_this.processHTML(a,"read"),a=_this.cleanHTML(a),a=_this.formatXHTML(a)},this.pasteHTML=function(e,t){if(bSource)return!1;_this.focus(),e=_this.processHTML(e,"write");var i=_this.getSel(),s=_this.getRng();if(t!==undefined){if(s.item){var a=s.item(0);s=_this.getRng(!0),s.moveToElementText(a),s.select()}s.collapse(t)}if(e+="<"+(isIE?"img":"span")+' id="_xhe_temp" width="0" height="0" \/>',s.insertNode){if($(s.startContainer).closest("style,script").length>0)return!1;s.deleteContents(),s.insertNode(s.createContextualFragment(e))}else"control"===i.type.toLowerCase()&&(i.clear(),s=_this.getRng()),s.pasteHTML(e);var n=$("#_xhe_temp",_doc),o=n[0];isIE?(s.moveToElementText(o),s.select()):(s.selectNode(o),i.removeAllRanges(),i.addRange(s)),n.remove()},this.pasteText=function(e,t){e||(e=""),e=_this.domEncode(e),e=e.replace(\/\\r?\\n\/g,"<br \/>"),_this.pasteHTML(e,t)},this.appendHTML=function(e){return bSource?!1:(_this.focus(),e=_this.processHTML(e,"write"),$(_doc.body).append(e),_this.setTextCursor(!0),undefined)},this.domEncode=function(e){return e.replace(regEntities,function(e){return arrEntities[e]})},this.setSource=function(e){bookmark=null,"string"!=typeof e&&""!==e&&(e=_text.value),bSource?$("#sourceCode",_doc).val(e):(settings.beforeSetSource&&(e=settings.beforeSetSource(e)),e=_this.cleanHTML(e),e=_this.formatXHTML(e),e=_this.processHTML(e,"write"),isIE?(_doc.body.innerHTML='<img id="_xhe_temp" width="0" height="0" \/>'+e,$("#_xhe_temp",_doc).remove()):_doc.body.innerHTML=e)},this.processHTML=function(e,t){function i(e,t,i,s,a,o){var l,r,h,c,d="";if(l=s.match(\/font-family\\s*:\\s*([^;"]+)\/i),l&&(d+=' face="'+l[1]+'"'),r=s.match(\/font-size\\s*:\\s*([^;"]+)\/i)){r=r[1].toLowerCase();for(var u=0;n.length>u;u++)if(r===n[u].n||r===n[u].s){h=u+1;break}h&&(d+=' size="'+h+'"',s=s.replace(\/(^|;)(\\s*font-size\\s*:\\s*[^;"]+;?)+\/gi,"$1"))}if(c=s.match(\/(?:^|[\\s;])color\\s*:\\s*([^;"]+)\/i)){var p;if(p=c[1].match(\/\\s*rgb\\s*\\(\\s*(\\d+)\\s*,\\s*(\\d+)\\s*,\\s*(\\d+)\\s*\\)\/i)){c[1]="#";for(var g=1;3>=g;g++)c[1]+=("0"+(p[g]-0).toString(16)).slice(-2)}c[1]=c[1].replace(\/^#([0-9a-f])([0-9a-f])([0-9a-f])$\/i,"#$1$1$2$2$3$3"),d+=' color="'+c[1]+'"'}return s=s.replace(\/(^|;)(\\s*(font-family|color)\\s*:\\s*[^;"]+;?)+\/gi,"$1"),""!==d?(s&&(d+=' style="'+s+'"'),"<font"+(i?i:"")+d+(a?a:"")+">"+o+"<\/font>"):e}function s(e,t,i,s,a){for(var n,l,r=(i?i:"")+(s?s:""),h=[],c=[],d=0;o.length>d;d++)n=o[d].r,l=o[d].t,r=r.replace(n,function(){return h.push("<"+l+">"),c.push("<\/"+l+">"),""});return r=r.replace(\/\\s+style\\s*=\\s*"\\s*"\/i,""),(r?"<span"+r+">":"")+h.join("")+a+c.join("")+(r?"<\/span>":"")}var a=' class="Apple-style-span"',n=settings.listFontsize;if("write"===t)e=e.replace(\/(<(\\\/?)(\\w+))((?:\\s+[\\w\\-:]+\\s*=\\s*(?:"[^"]*"|'[^']*'|[^>\\s]+))*)\\s*((\\\/?)>)\/g,function(e,t,i,s,n,o,l){s=s.toLowerCase(),isMozilla?"strong"===s?s="b":"em"===s&&(s="i"):isWebkit&&("strong"===s?(s="span",i||(n+=a+' style="font-weight: bold;"')):"em"===s?(s="span",i||(n+=a+' style="font-style: italic;"')):"u"===s?(s="span",i||(n+=a+' style="text-decoration: underline;"')):"strike"===s&&(s="span",i||(n+=a+' style="text-decoration: line-through;"')));var r,h="";if("del"===s)s="strike";else if("img"===s)n=n.replace(\/\\s+emot\\s*=\\s*("[^"]*"|'[^']*'|[^>\\s]+)\/i,function(e,t){return r=t.match(\/^(["']?)(.*)\\1\/)[2],r=r.split(","),r[1]||(r[1]=r[0],r[0]=""),"default"===r[0]&&(r[0]=""),settings.emotMark?e:""});else if("a"===s)!n.match(\/ href=[^ ]\/i)&&n.match(\/ name=[^ ]\/i)&&(h+=" xhe-anchor"),l&&(o="><\/a>");else if("table"===s&&!i){var c=n.match(\/\\s+border\\s*=\\s*("[^"]*"|'[^']*'|[^>\\s]+)\/i);(!c||c[1].match(\/^(["']?)\\s*0\\s*\\1$\/))&&(h+=" xhe-border")}var d;if(n=n.replace(\/\\s+([\\w\\-:]+)\\s*=\\s*("[^"]*"|'[^']*'|[^>\\s]+)\/g,function(e,t,i){return t=t.toLowerCase(),i=i.match(\/^(["']?)(.*)\\1\/)[2],aft="",isIE&&t.match(\/^(disabled|checked|readonly|selected)$\/)&&i.match(\/^(false|0)$\/i)?"":"img"===s&&r&&"src"===t?"":(t.match(\/^(src|href)$\/)&&(aft=" _xhe_"+t+'="'+i+'"',urlBase&&(i=getLocalUrl(i,"abs",urlBase))),h&&"class"===t&&(i+=" "+h,h=""),isWebkit&&"style"===t&&"span"===s&&i.match(\/(^|;)\\s*(font-family|font-size|color|background-color)\\s*:\\s*[^;]+\\s*(;|$)\/i)&&(d=!0)," "+t+'="'+i+'"'+aft)}),r){var u=emotPath+(r[0]?r[0]:"default")+"\/"+r[1]+".gif";n+=' src="'+u+'" _xhe_src="'+u+'"'}return d&&(n+=a),h&&(n+=' class="'+h+'"'),"<"+i+s+n+o}),isIE&&(e=e.replace(\/&apos;\/gi,"&#39;")),isWebkit||(e=e.replace(\/<(span)(\\s+[^>]*?)?\\s+style\\s*=\\s*"((?:[^"]*?;)?\\s*(?:font-family|font-size|color)\\s*:[^"]*)"( [^>]*)?>(((?!<\\1(\\s+[^>]*?)?>)[\\s\\S]|<\\1(\\s+[^>]*?)?>((?!<\\1(\\s+[^>]*?)?>)[\\s\\S]|<\\1(\\s+[^>]*?)?>((?!<\\1(\\s+[^>]*?)?>)[\\s\\S])*?<\\\/\\1>)*?<\\\/\\1>)*?)<\\\/\\1>\/gi,i),e=e.replace(\/<(span)(\\s+[^>]*?)?\\s+style\\s*=\\s*"((?:[^"]*?;)?\\s*(?:font-family|font-size|color)\\s*:[^"]*)"( [^>]*)?>(((?!<\\1(\\s+[^>]*?)?>)[\\s\\S]|<\\1(\\s+[^>]*?)?>((?!<\\1(\\s+[^>]*?)?>)[\\s\\S])*?<\\\/\\1>)*?)<\\\/\\1>\/gi,i),e=e.replace(\/<(span)(\\s+[^>]*?)?\\s+style\\s*=\\s*"((?:[^"]*?;)?\\s*(?:font-family|font-size|color)\\s*:[^"]*)"( [^>]*)?>(((?!<\\1(\\s+[^>]*?)?>)[\\s\\S])*?)<\\\/\\1>\/gi,i)),e=e.replace(\/<(td|th)(\\s+[^>]*?)?>(\\s|&nbsp;)*<\\\/\\1>\/gi,"<$1$2>"+(isIE?"":"<br \/>")+"<\/$1>");else{if(isWebkit)for(var o=[{r:\/font-weight\\s*:\\s*bold;?\/gi,t:"strong"},{r:\/font-style\\s*:\\s*italic;?\/gi,t:"em"},{r:\/text-decoration\\s*:\\s*underline;?\/gi,t:"u"},{r:\/text-decoration\\s*:\\s*line-through;?\/gi,t:"strike"}],l=0;2>l;l++)e=e.replace(\/<(span)(\\s+[^>]*?)?\\s+class\\s*=\\s*"Apple-style-span"(\\s+[^>]*?)?>(((?!<\\1(\\s+[^>]*?)?>)[\\s\\S]|<\\1(\\s+[^>]*?)?>((?!<\\1(\\s+[^>]*?)?>)[\\s\\S]|<\\1(\\s+[^>]*?)?>((?!<\\1(\\s+[^>]*?)?>)[\\s\\S])*?<\\\/\\1>)*?<\\\/\\1>)*?)<\\\/\\1>\/gi,s),e=e.replace(\/<(span)(\\s+[^>]*?)?\\s+class\\s*=\\s*"Apple-style-span"(\\s+[^>]*?)?>(((?!<\\1(\\s+[^>]*?)?>)[\\s\\S]|<\\1(\\s+[^>]*?)?>((?!<\\1(\\s+[^>]*?)?>)[\\s\\S])*?<\\\/\\1>)*?)<\\\/\\1>\/gi,s),e=e.replace(\/<(span)(\\s+[^>]*?)?\\s+class\\s*=\\s*"Apple-style-span"(\\s+[^>]*?)?>(((?!<\\1(\\s+[^>]*?)?>)[\\s\\S])*?)<\\\/\\1>\/gi,s);e=e.replace(\/(<(\\w+))((?:\\s+[\\w\\-:]+\\s*=\\s*(?:"[^"]*"|'[^']*'|[^>\\s]+))*)\\s*(\\\/?>)\/g,function(e,t,i,s,a){i=i.toLowerCase();$/;"	p
var.specialKeys.9	js/xheditor.min.js	/^(function(){var e={};window.XHEDITOR=e})(),function(e,t){e.mapLang={},e.setLang=function(i,s){s===t&&(s=i,i=""),""!==i&&(i+=".");var a,n;for(var o in s)n=s[o],a=i+o,"string"==typeof n||n instanceof Array?e.mapLang[a]=n:e.setLang(a,n)},e.getLang=function(i){var s=e.mapLang[i];if(s===t&&(s=i.replace(\/{#([^{}]+)}\/g,function(t,i){var s=e.mapLang[i];return s?s:i})),"string"==typeof s){var a=arguments;s=s.replace(\/{\\$(\\d+)}\/g,function(e,i){var s=a[parseInt(i,10)+1];return s!==t?s:e})}return s}}(XHEDITOR),function(XHEDITOR,$,undefined){var agent=navigator.userAgent.toLowerCase(),bMobile=\/mobile\/i.test(agent),browser=$.browser,browerVer=parseFloat(browser.version),isIE=browser.msie,isMozilla=browser.mozilla,isWebkit=browser.webkit,isOpera=browser.opera,isChrome=browser.chrome,bAir=agent.indexOf(" adobeair\/")>-1,xCount=0,bShowPanel=!1,bClickCancel=!0,bShowModal=!1,bCheckEscInit=!1,_jPanel,_jShadow,_jCntLine,_jPanelButton,jModal,jModalShadow,layerShadow,jOverlay,jHideSelect,onModalRemove,editorRoot,getLang=XHEDITOR.getLang;if($("script[src*=xheditor]").each(function(){var e=this.src;return e.match(\/xheditor[^\\\/]*\\.js\/i)?(editorRoot=e.replace(\/[\\?#].*$\/,"").replace(\/(^|[\\\/\\\\])[^\\\/]*$\/,"$1"),!1):undefined}),isIE){try{document.execCommand("BackgroundImageCache",!1,!0)}catch(e){}var jqueryVer=$.fn.jquery;jqueryVer&&jqueryVer.match(\/^1\\.[67]\/)&&($.attrHooks.width=$.attrHooks.height=null)}var specialKeys={27:"esc",9:"tab",32:"space",13:"enter",8:"backspace",145:"scroll",20:"capslock",144:"numlock",19:"pause",45:"insert",36:"home",46:"del",35:"end",33:"pageup",34:"pagedown",37:"left",38:"up",39:"right",40:"down",112:"f1",113:"f2",114:"f3",115:"f4",116:"f5",117:"f6",118:"f7",119:"f8",120:"f9",121:"f10",122:"f11",123:"f12"},arrAlign=[{v:"justifyleft"},{v:"justifycenter"},{v:"justifyright"},{v:"justifyfull"}],arrList=[{v:"insertOrderedList"},{v:"insertUnorderedList"}],htmlPastetext='<div><label for="xhePastetextValue">{#PastetextTip}<\/label><\/div><div><textarea id="xhePastetextValue" wrap="soft" spellcheck="false" style="width:300px;height:100px;" \/><\/div><div style="text-align:right;"><input type="button" id="xheSave" value="{#dialogOk}" \/><\/div>',htmlLink='<div><label for="xheLinkUrl">{#link.url}<\/label><input type="text" id="xheLinkUrl" value="http:\/\/" class="xheText" \/><\/div><div><label for="xheLinkTarget">{#link.target}<\/label><select id="xheLinkTarget"><option selected="selected" value="">{#default}<\/option><option value="_blank">{#link.targetBlank}<\/option><option value="_self">{#link.targetSelf}<\/option><option value="_parent">{#link.targetParent}<\/option><\/select><\/div><div style="display:none"><label for="xheLinkText">{#link.linkText}<\/label><input type="text" id="xheLinkText" value="" class="xheText" \/><\/div><div style="text-align:right;"><input type="button" id="xheSave" value="{#dialogOk}" \/><\/div>',htmlAnchor='<div><label for="xheAnchorName">{#anchor.name}<\/label><input type="text" id="xheAnchorName" value="" class="xheText" \/><\/div><div style="text-align:right;"><input type="button" id="xheSave" value="{#dialogOk}" \/><\/div>',htmlImg='<div><label for="xheImgUrl">{#img.url}<\/label><input type="text" id="xheImgUrl" value="http:\/\/" class="xheText" \/><\/div><div><div><label for="xheImgAlt">{#img.alt}<\/label><input type="text" id="xheImgAlt" \/><\/div><div><label for="xheImgAlign">{#img.align}<\/label><select id="xheImgAlign"><option selected="selected" value="">{#default}<\/option><option value="left">{#img.alignLeft}<\/option><option value="right">{#img.alignRight}<\/option><option value="top">{#img.alignTop}<\/option><option value="middle">{#img.alignMiddle}<\/option><option value="baseline">{#img.alignBaseline}<\/option><option value="bottom">{#img.alignBottom}<\/option><\/select><\/div><div><label for="xheImgWidth">{#img.width}<\/label><input type="text" id="xheImgWidth" style="width:40px;" \/> <label for="xheImgHeight">{#img.height}<\/label><input type="text" id="xheImgHeight" style="width:40px;" \/><\/div><div><label for="xheImgBorder">{#img.border}<\/label><input type="text" id="xheImgBorder" style="width:40px;" \/><\/div><div><label for="xheImgHspace">{#img.hspace}<\/label><input type="text" id="xheImgHspace" style="width:40px;" \/> <label for="xheImgVspace">{#img.vspace}<\/label><input type="text" id="xheImgVspace" style="width:40px;" \/><\/div><div style="text-align:right;"><input type="button" id="xheSave" value="{#dialogOk}" \/><\/div>',htmlFlash='<div><label for="xheFlashUrl">{#flash.url}<\/label><input type="text" id="xheFlashUrl" value="http:\/\/" class="xheText" \/><\/div><div><label for="xheFlashWidth">{#flash.width}<\/label><input type="text" id="xheFlashWidth" style="width:40px;" value="480" \/> <label for="xheFlashHeight">{#flash.height}<\/label><input type="text" id="xheFlashHeight" style="width:40px;" value="400" \/><\/div><div style="text-align:right;"><input type="button" id="xheSave" value="{#dialogOk}" \/><\/div>',htmlMedia='<div><label for="xheMediaUrl">{#media.url}<\/label><input type="text" id="xheMediaUrl" value="http:\/\/" class="xheText" \/><\/div><div><label for="xheMediaWidth">{#media.width}<\/label><input type="text" id="xheMediaWidth" style="width:40px;" value="480" \/> <label for="xheMediaHeight">{#media.height}<\/label><input type="text" id="xheMediaHeight" style="width:40px;" value="400" \/><\/div><div style="text-align:right;"><input type="button" id="xheSave" value="{#dialogOk}" \/><\/div>',htmlTable='<div><label for="xheTableRows">{#table.rows}<\/label><input type="text" id="xheTableRows" style="width:40px;" value="3" \/> <label for="xheTableColumns">{#table.columns}<\/label><input type="text" id="xheTableColumns" style="width:40px;" value="2" \/><\/div><div><label for="xheTableHeaders">{#table.headers}<\/label><select id="xheTableHeaders"><option selected="selected" value="">{#none}<\/option><option value="row">{#table.headersRow}<\/option><option value="col">{#table.headersCol}<\/option><option value="both">{#table.headersBoth}<\/option><\/select><\/div><div><label for="xheTableWidth">{#table.width}<\/label><input type="text" id="xheTableWidth" style="width:40px;" value="200" \/> <label for="xheTableHeight">{#table.height}<\/label><input type="text" id="xheTableHeight" style="width:40px;" value="" \/><\/div><div><label for="xheTableBorder">{#table.border}<\/label><input type="text" id="xheTableBorder" style="width:40px;" value="1" \/><\/div><div><label for="xheTableCellSpacing">{#table.cellSpacing}<\/label><input type="text" id="xheTableCellSpacing" style="width:40px;" value="1" \/> <label for="xheTableCellPadding">{#table.cellPadding}<\/label><input type="text" id="xheTableCellPadding" style="width:40px;" value="1" \/><\/div><div><label for="xheTableAlign">{#table.align}<\/label><select id="xheTableAlign"><option selected="selected" value="">{#default}<\/option><option value="left">{#table.alignLeft}<\/option><option value="center">{#table.alignCenter}<\/option><option value="right">{#table.alignRight}<\/option><\/select><\/div><div><label for="xheTableCaption">{#table.caption}<\/label><input type="text" id="xheTableCaption" \/><\/div><div style="text-align:right;"><input type="button" id="xheSave" value="{#dialogOk}" \/><\/div>',htmlAbout='<div style="font:12px Arial;width:245px;word-wrap:break-word;word-break:break-all;outline:none;" role="dialog" tabindex="-1"><p><span style="font-size:20px;color:#1997DF;">xhEditor<\/span><br \/>v1.2.1 (build 130225)<\/p><p>{#aboutXheditor}<\/p><p>Copyright &copy; <a href="http:\/\/xheditor.com\/" target="_blank">xhEditor.com<\/a>. All rights reserved.<\/p><\/div>',itemEmots={"default":{name:"{#default}",width:24,height:24,line:7,list:["smile","tongue","titter","laugh","sad","wronged","fastcry","cry","wail","mad","knock","curse","crazy","angry","ohmy","awkward","panic","shy","cute","envy","proud","struggle","quiet","shutup","doubt","despise","sleep","bye"]}},arrTools={Cut:{t:"Cut"},Copy:{t:"Copy"},Paste:{t:"Paste"},Pastetext:{t:"Pastetext",h:isIE?0:1},Blocktag:{t:"Blocktag",h:1},Fontface:{t:"Fontface",h:1},FontSize:{t:"FontSize",h:1},Bold:{t:"Bold",s:"Ctrl+B"},Italic:{t:"Italic",s:"Ctrl+I"},Underline:{t:"Underline",s:"Ctrl+U"},Strikethrough:{t:"Strikethrough"},FontColor:{t:"FontColor",h:1},BackColor:{t:"BackColor",h:1},SelectAll:{t:"SelectAll"},Removeformat:{t:"Removeformat"},Align:{t:"Align",h:1},List:{t:"List",h:1},Outdent:{t:"Outdent"},Indent:{t:"Indent"},Link:{t:"Link",s:"Ctrl+L",h:1},Unlink:{t:"Unlink"},Anchor:{t:"Anchor",h:1},Img:{t:"Img",h:1},Flash:{t:"Flash",h:1},Media:{t:"Media",h:1},Hr:{t:"Hr"},Emot:{t:"Emot",s:"ctrl+e",h:1},Table:{t:"Table",h:1},Source:{t:"Source"},Preview:{t:"Preview"},Print:{t:"Print",s:"Ctrl+P"},Fullscreen:{t:"Fullscreen",s:"Esc"},About:{t:"About"}},toolsThemes={mini:"Bold,Italic,Underline,Strikethrough,|,Align,List,|,Link,Img",simple:"Blocktag,Fontface,FontSize,Bold,Italic,Underline,Strikethrough,FontColor,BackColor,|,Align,List,Outdent,Indent,|,Link,Img,Emot",full:"Cut,Copy,Paste,Pastetext,|,Blocktag,Fontface,FontSize,Bold,Italic,Underline,Strikethrough,FontColor,BackColor,SelectAll,Removeformat,|,Align,List,Outdent,Indent,|,Link,Unlink,Anchor,Img,Flash,Media,Hr,Emot,Table,|,Source,Preview,Print,Fullscreen"};toolsThemes.mfull=toolsThemes.full.replace(\/\\|(,Align)\/i,"\/$1");var arrDbClick={a:"Link",img:"Img",embed:"Embed"},uploadInputname="filedata",arrEntities={"<":"&lt;",">":"&gt;",'"':"&quot;","\\u00ae":"&reg;","\\u00a9":"&copy;"},regEntities=\/[<>"\\u00ae\\u00a9]\/g,Xheditor=function(textarea,options){function checkDblClick(e){var t=e.target,i=arrDbClick[t.tagName.toLowerCase()];if(i){if("Embed"===i){var s={"application\/x-shockwave-flash":"Flash","application\/x-mplayer2":"Media"};i=s[t.type.toLowerCase()]}_this.exec(i)}}function checkEsc(e){return 27===e.which?(bShowModal?_this.removeModal():bShowPanel&&_this.hidePanel(),!1):undefined}function loadReset(){setTimeout(_this.setSource,10)}function saveResult(){_this.getSource()}function cleanPaste(e){var t,i,s;if(e&&(t=e.originalEvent.clipboardData)&&(i=t.items)&&(s=i[0])&&"file"==s.kind&&s.type.match(\/^image\\\/\/i)){var a=s.getAsFile(),n=new FileReader;return n.onload=function(){var e='<img src="'+event.target.result+'">';e=replaceRemoteImg(e),_this.pasteHTML(e)},n.readAsDataURL(a),!1}var o=settings.cleanPaste;if(0===o||bSource||bCleanPaste)return!0;bCleanPaste=!0,_this.saveBookmark();var l=isIE?"pre":"div",r=$("<"+l+' class="xhe-paste">\\ufeff\\ufeff<\/'+l+">",_doc).appendTo(_doc.body),h=r[0],c=_this.getSel(),d=_this.getRng(!0);r.css("top",_jWin.scrollTop()),isIE?(d.moveToElementText(h),d.select()):(d.selectNodeContents(h),c.removeAllRanges(),c.addRange(d)),setTimeout(function(){var e,t=3===o;if(t)r.html(r.html().replace(\/<br(\\s+[^<>]*)?>\/gi,"\\n")),e=r.text();else{var i=$(".xhe-paste",_doc.body),s=[];i.each(function(e,t){0==$(t).find(".xhe-paste").length&&s.push(t.innerHTML)}),e=s.join("<br \/>")}r.remove(),_this.loadBookmark(),e=e.replace(\/^[\\s\\uFEFF]+|[\\s\\uFEFF]+$\/g,""),e&&(t?_this.pasteText(e):(e=_this.cleanHTML(e),e=_this.cleanWord(e),e=_this.formatXHTML(e),(!settings.onPaste||settings.onPaste&&(e=settings.onPaste(e))!==!1)&&(e=replaceRemoteImg(e),_this.pasteHTML(e)))),bCleanPaste=!1},0)}function replaceRemoteImg(e){var t=settings.localUrlTest,i=settings.remoteImgSaveUrl;if(t&&i){var s=[],a=0;e=e.replace(\/(<img)((?:\\s+[^>]*?)?(?:\\s+src="\\s*([^"]+)\\s*")(?: [^>]*)?)(\\\/?>)\/gi,function(e,i,n,o,l){return!\/^(https?|data:image)\/i.test(o)||\/_xhe_temp\/.test(n)||t.test(o)||(s[a]=o,n=n.replace(\/\\s+(width|height)="[^"]*"\/gi,"").replace(\/\\s+src="[^"]*"\/gi,' src="'+skinPath+'img\/waiting.gif" remoteimg="'+a++ +'"')),i+n+l}),s.length>0&&$.post(i,{urls:s.join("|")},function(e){e=e.split("|"),$("img[remoteimg]",_this.doc).each(function(){var t=$(this);xheAttr(t,"src",e[t.attr("remoteimg")]),t.removeAttr("remoteimg")})})}return e}function setCSS(e){try{_this._exec("styleWithCSS",e,!0)}catch(t){try{_this._exec("useCSS",!e,!0)}catch(t){}}}function setOpts(){if(bInit&&!bSource){setCSS(!1);try{_this._exec("enableObjectResizing",!0,!0)}catch(e){}if(isIE)try{_this._exec("BackgroundImageCache",!0,!0)}catch(e){}}}function forcePtag(e){if(bSource||13!==e.which||e.shiftKey||e.ctrlKey||e.altKey)return!0;var t=_this.getParent("p,h1,h2,h3,h4,h5,h6,pre,address,div,li");return t.is("li")?!0:settings.forcePtag?(0===t.length&&_this._exec("formatblock","<p>"),undefined):(_this.pasteHTML("<br \/>"),isIE&&t.length>0&&2===_this.getRng().parentElement().childNodes.length&&_this.pasteHTML("<br \/>"),!1)}function fixFullHeight(){isMozilla||isWebkit||(bFullscreen&&_jArea.height("100%").css("height",_jArea.outerHeight()-_jTools.outerHeight()),isIE&&_jTools.hide().show())}function fixAppleSel(e){if(e=e.target,e.tagName.match(\/(img|embed)\/i)){var t=_this.getSel(),i=_this.getRng(!0);i.selectNode(e),t.removeAllRanges(),t.addRange(i)}}function xheAttr(e,t,i){if(!t)return!1;var s="_xhe_"+t;return i&&(urlType&&(i=getLocalUrl(i,urlType,urlBase)),e.attr(t,urlBase?getLocalUrl(i,"abs",urlBase):i).removeAttr(s).attr(s,i)),e.attr(s)||e.attr(t)}function clickCancelPanel(){bClickCancel&&_this.hidePanel()}function checkShortcuts(e){if(bSource)return!0;var t=e.which,i=specialKeys[t],s=i?i:String.fromCharCode(t).toLowerCase();sKey="",sKey+=e.ctrlKey?"ctrl+":"",sKey+=e.altKey?"alt+":"",sKey+=e.shiftKey?"shift+":"",sKey+=s;var a,n=arrShortCuts[sKey];for(a in n){if(a=n[a],!$.isFunction(a))return _this.exec(a),!1;if(a.call(_this)===!1)return!1}}function is(e,t){var i=typeof e;return t?"array"===t&&e.hasOwnProperty&&e instanceof Array?!0:i===t:"undefined"!=i}function getLocalUrl(e,t,i){if(e.match(\/^(\\w+):\\\/\\\/\/i)&&!e.match(\/^https?:\/i)||\/^#\/i.test(e)||\/^data:\/i.test(e))return e;var s=i?$('<a href="'+i+'" \/>')[0]:location,a=s.protocol,n=s.host,o=s.hostname,l=s.port,r=s.pathname.replace(\/\\\\\/g,"\/").replace(\/[^\\\/]+$\/i,"");if(""===l&&(l="80"),""===r?r="\/":"\/"!==r.charAt(0)&&(r="\/"+r),e=$.trim(e),"abs"!==t&&(e=e.replace(RegExp(a+"\\\\\/\\\\\/"+o.replace(\/\\.\/g,"\\\\.")+"(?::"+l+")"+("80"===l?"?":"")+"(\/|$)","i"),"\/")),"rel"===t&&(e=e.replace(RegExp("^"+r.replace(\/([\\\/\\.\\+\\[\\]\\(\\)])\/g,"\\\\$1"),"i"),"")),"rel"!==t&&(e.match(\/^(https?:\\\/\\\/|\\\/)\/i)||(e=r+e),"\/"===e.charAt(0))){var h,c,d=[],u=e.split("\/"),p=u.length;for(c=0;p>c;c++)h=u[c],".."===h?d.pop():""!==h&&"."!==h&&d.push(h);""===u[p-1]&&d.push(""),e="\/"+d.join("\/")}return"abs"!==t||e.match(\/^https?:\\\/\\\/\/i)||(e=a+"\/\/"+n+e),e=e.replace(\/(https?:\\\/\\\/[^:\\\/?#]+):80(\\\/|$)\/i,"$1$2")}function checkFileExt(e,t){return"*"===t||e.match(RegExp(".("+t.replace(\/,\/g,"|")+")$","i"))?!0:(alert(getLang("upload.extLimit",t)),!1)}function formatBytes(e){var t=["Byte","KB","MB","GB","TB","PB"],i=Math.floor(Math.log(e)\/Math.log(1024));return(e\/Math.pow(1024,Math.floor(i))).toFixed(2)+t[i]}function returnFalse(){return!1}var _this=this,_text=textarea,_jText=$(_text),_jForm=_jText.closest("form"),_jTools,_jArea,_win,_jWin,_doc,_jDoc,bookmark,bInit=!1,bSource=!1,bFullscreen=!1,bCleanPaste=!1,outerScroll,bShowBlocktag=!1,sLayoutStyle="",ev=null,timer,bDisableHoverExec=!1,bQuickHoverExec=!1,lastPoint=null,lastAngle=null,editorHeight=0,settings=_this.settings=$.extend({},XHEDITOR.settings,options),plugins=settings.plugins,strPlugins=[];if(plugins&&(arrTools=$.extend({},arrTools,plugins),$.each(plugins,function(e){strPlugins.push(e)}),strPlugins=strPlugins.join(",")),settings.tools.match(\/^\\s*(m?full|simple|mini)\\s*$\/i)){var toolsTheme=toolsThemes[$.trim(settings.tools)];settings.tools=settings.tools.match(\/m?full\/i)&&plugins?toolsTheme.replace("Table","Table,"+strPlugins):toolsTheme}settings.tools.match(\/(^|,)\\s*About\\s*(,|$)\/i)||(settings.tools+=",About"),settings.tools=settings.tools.split(","),settings.editorRoot&&(editorRoot=settings.editorRoot),bAir===!1&&(editorRoot=getLocalUrl(editorRoot,"abs")),settings.urlBase&&(settings.urlBase=getLocalUrl(settings.urlBase,"abs"));var idCSS="xheCSS_"+settings.skin,idContainer="xhe"+xCount+"_container",idTools="xhe"+xCount+"_Tool",idIframeArea="xhe"+xCount+"_iframearea",idIframe="xhe"+xCount+"_iframe",idFixFFCursor="xhe"+xCount+"_fixffcursor",headHTML="",bodyClass="",skinPath=editorRoot+"xheditor_skin\/"+settings.skin+"\/",arrEmots=itemEmots,urlType=settings.urlType,urlBase=settings.urlBase,emotPath=settings.emotPath,emotPath=emotPath?emotPath:editorRoot+"xheditor_emot\/",selEmotGroup="";arrEmots=$.extend({},arrEmots,settings.emots),emotPath=getLocalUrl(emotPath,"rel",urlBase?urlBase:null),bShowBlocktag=settings.showBlocktag,bShowBlocktag&&(bodyClass+=" showBlocktag");var arrShortCuts=[];this.init=function(){function e(e){var t,i=$(e.target);(t=i.css("width"))&&i.css("width","").attr("width",t.replace(\/[^0-9%]+\/g,"")),(t=i.css("height"))&&i.css("height","").attr("height",t.replace(\/[^0-9%]+\/g,""))}0===$("#"+idCSS).length&&$("head").append('<link id="'+idCSS+'" rel="stylesheet" type="text\/css" href="'+skinPath+'ui.css" \/>');var t=_jText.outerWidth(),i=_jText.outerHeight(),s=settings.width||_text.style.width||(t>10?t:0);editorHeight=settings.height||_text.style.height||(i>10?i:150),\/^\\d+(?:\\.\\d+)?$\/.test(s)&&(s+="px"),is(editorHeight,"string")&&(editorHeight=editorHeight.replace(\/[^\\d]+\/g,""));var a,n,o=settings.background||_text.style.background,l=['<span class="xheGStart"\/>'],r=\/\\||\\\/\/i;$.each(settings.tools,function(e,t){if(t.match(r)&&l.push('<span class="xheGEnd"\/>'),"|"===t)l.push('<span class="xheSeparator"\/>');else if("\/"===t)l.push("<br \/>");else{if(a=arrTools[t],!a)return;n=a.c?a.c:"xheIcon xheBtn"+t,l.push('<span><a href="#" title="{#'+a.t+'}" cmd="'+t+'" class="xheButton xheEnabled" tabindex="-1" role="button"><span class="'+n+'" unselectable="on" style="font-size:0;color:transparent;text-indent:-999px;">'+a.t+"<\/span><\/a><\/span>"),a.s&&_this.addShortcuts(a.s,t)}t.match(r)&&l.push('<span class="xheGStart"\/>')}),l.push('<span class="xheGEnd"\/><br \/>'),_jText.after($('<input type="text" id="'+idFixFFCursor+'" style="position:absolute;display:none;" \/><span id="'+idContainer+'" class="xhe_'+settings.skin+'" style="display:none"><table cellspacing="0" cellpadding="0" class="xheLayout" style="'+("0px"!=s?"width:"+s+";":"")+"height:"+editorHeight+'px;" role="presentation"><tr><td id="'+idTools+'" class="xheTool" unselectable="on" style="height:1px;" role="presentation"><\/td><\/tr><tr><td id="'+idIframeArea+'" class="xheIframeArea" role="presentation"><iframe frameborder="0" id="'+idIframe+'" src="javascript:;" style="width:100%;"><\/iframe><\/td><\/tr><\/table><\/span>')),_jTools=$("#"+idTools),_jArea=$("#"+idIframeArea),headHTML='<meta http-equiv="Content-Type" content="text\/html; charset=utf-8" \/><link rel="stylesheet" href="'+skinPath+'iframe.css"\/>';var h=settings.loadCSS;if(h)if(is(h,"array"))for(var c in h)headHTML+='<link rel="stylesheet" href="'+h[c]+'"\/>';else headHTML+=h.match(\/\\s*<style(\\s+[^>]*?)?>[\\s\\S]+?<\\\/style>\\s*\/i)?h:'<link rel="stylesheet" href="'+h+'"\/>';var d='<!DOCTYPE html><html xmlns="http:\/\/www.w3.org\/1999\/xhtml"><head>'+headHTML+"<title>{#defaultReadTip} "+(settings.readTip?settings.readTip:"")+"<\/title>";o&&(d+="<style>html{background:"+o+";}<\/style>"),d+='<\/head><body spellcheck="0" class="editMode'+bodyClass+'"><\/body><\/html>',_this.win=_win=$("#"+idIframe)[0].contentWindow,_jWin=$(_win);try{this.doc=_doc=_win.document,_jDoc=$(_doc),_doc.open(),_doc.write(getLang(d)),_doc.close(),isIE?_doc.body.contentEditable="true":_doc.designMode="On"}catch(u){}setTimeout(setOpts,300),_this.setSource(),_win.setInterval=null,_jTools.append(getLang(l.join(""))).bind("mousedown contextmenu",returnFalse).click(function(e){var t=$(e.target).closest("a");return t.is(".xheEnabled")&&(clearTimeout(timer),_jTools.find("a").attr("tabindex","-1"),ev=e,_this.exec(t.attr("cmd"))),!1}),_jTools.find(".xheButton").hover(function(e){var t=$(this),i=settings.hoverExecDelay,s=lastAngle;if(lastAngle=null,-1===i||bDisableHoverExec||!t.is(".xheEnabled"))return!1;if(s&&s>10)return bDisableHoverExec=!0,setTimeout(function(){bDisableHoverExec=!1},100),!1;var a=t.attr("cmd"),n=1===arrTools[a].h;return n?(bQuickHoverExec&&(i=0),i>=0&&(timer=setTimeout(function(){ev=e,lastPoint={x:ev.clientX,y:ev.clientY},_this.exec(a)},i)),undefined):(_this.hidePanel(),!1)},function(){lastPoint=null,timer&&clearTimeout(timer)}).mousemove(function(e){if(lastPoint){var t={x:e.clientX-lastPoint.x,y:e.clientY-lastPoint.y};if(Math.abs(t.x)>1||Math.abs(t.y)>1){if(t.x>0&&t.y>0){var i=Math.round(Math.atan(t.y\/t.x)\/.017453293);lastAngle=lastAngle?(lastAngle+i)\/2:i}else lastAngle=null;lastPoint={x:e.clientX,y:e.clientY}}}}),_jPanel=$("#xhePanel"),_jShadow=$("#xheShadow"),_jCntLine=$("#xheCntLine"),0===_jPanel.length&&(_jPanel=$('<div id="xhePanel"><\/div>').mousedown(function(e){e.stopPropagation()}),_jShadow=$('<div id="xheShadow"><\/div>'),_jCntLine=$('<div id="xheCntLine"><\/div>'),setTimeout(function(){$(document.body).append(_jPanel).append(_jShadow).append(_jCntLine)},10)),$("#"+idContainer).show(),_jText.hide(),_jArea.css("height",editorHeight-_jTools.outerHeight()),isIE&8>browerVer&&setTimeout(function(){_jArea.css("height",editorHeight-_jTools.outerHeight())},1),_jText.focus(_this.focus),_jForm.submit(saveResult).bind("reset",loadReset),settings.submitID&&$("#"+settings.submitID).mousedown(saveResult),$(window).bind("unload beforeunload",saveResult).bind("resize",fixFullHeight),$(document).mousedown(clickCancelPanel),bCheckEscInit||($(document).keydown(checkEsc),bCheckEscInit=!0),_jWin.focus(function(){settings.focus&&settings.focus()}).blur(function(){settings.blur&&settings.blur()}),isWebkit&&_jWin.click(fixAppleSel),_jDoc.mousedown(clickCancelPanel).keydown(checkShortcuts).keypress(forcePtag).dblclick(checkDblClick).bind("mousedown click",function(e){_jText.trigger(e.type)}),isIE&&(_jDoc.keydown(function(e){var t=_this.getRng();return 8===e.which&&t.item?($(t.item(0)).remove(),!1):undefined}),_jDoc.bind("controlselect",function(t){t=t.target,$.nodeName(t,"IMG")&&$(t).unbind("resizeend",e).bind("resizeend",e)})),_jDoc.keydown(function(e){var t=e.which;return e.altKey&&t>=49&&57>=t?(_jTools.find("a").attr("tabindex","0"),_jTools.find(".xheGStart").eq(t-49).next().find("a").focus(),_doc.title="\\ufeff\\ufeff",!1):undefined}).click(function(){_jTools.find("a").attr("tabindex","-1")}),_jTools.keydown(function(e){var t=e.which;if(27==t)_jTools.find("a").attr("tabindex","-1"),_this.focus();else if(e.altKey&&t>=49&&57>=t)return _jTools.find(".xheGStart").eq(t-49).next().find("a").focus(),!1});var p=$(_doc.documentElement);isOpera?p.bind("keydown",function(e){e.ctrlKey&&86===e.which&&cleanPaste()}):p.bind(isIE?"beforepaste":"paste",cleanPaste),settings.disableContextmenu&&p.bind("contextmenu",returnFalse),settings.html5Upload&&p.bind("dragenter dragover",function(e){var t;return(t=e.originalEvent.dataTransfer.types)&&-1!==$.inArray("Files",t)?!1:undefined}).bind("drop",function(e){function t(e){var t,i,s;for(a=0;e.length>a;a++){if(i=e[a].name.replace(\/.+\\.\/,""),!(t=o.match(RegExp("(\\\\w+):[^:]*,"+i+"(?:,|$)","i"))))return 1;if(s){if(s!==t[1])return 2}else s=t[1]}return s}var i,s=e.originalEvent.dataTransfer;if(s&&(i=s.files)&&i.length>0){var a,n,o,l=["Link","Img","Flash","Media"],r=[];for(a in l)n=l[a],settings["up"+n+"Url"]&&settings["up"+n+"Url"].match(\/^[^!].*\/i)&&r.push(n+":,"+settings["up"+n+"Ext"]);return 0===r.length?!1:(o=r.join(","),n=t(i),1===n?alert(getLang("upload.extLimit",o.replace(\/\\w+:,\/g,""))):2===n?alert(getLang("upload.typeLimit")):n&&_this.startUpload(i,settings["up"+n+"Url"],"*",function(e){var t,i=[],s=settings.onUpload;s&&s(e);for(var a=0,o=e.length;o>a;a++)t=e[a],url=is(t,"string")?t:t.url,"!"===url.substr(0,1)&&(url=url.substr(1)),i.push(url);_this.exec(n),$("#xhe"+n+"Url").val(i.join(" ")),$("#xheSave").click()}),!1)}});var g=settings.shortcuts;g&&$.each(g,function(e,t){_this.addShortcuts(e,t)}),xCount++,bInit=!0,settings.fullscreen?_this.toggleFullscreen():settings.sourceMode&&setTimeout(_this.toggleSource,20);var f=settings.plugins;return f&&$.each(f,function(e,t){var i=t.i;i!==undefined&&i(_this)}),!0},this.remove=function(){_this.hidePanel(),saveResult(),_jText.unbind("focus",_this.focus),_jForm.unbind("submit",saveResult).unbind("reset",loadReset),settings.submitID&&$("#"+settings.submitID).unbind("mousedown",saveResult),$(window).unbind("unload beforeunload",saveResult).unbind("resize",fixFullHeight),$(document).unbind("mousedown",clickCancelPanel),$("#"+idContainer).remove(),$("#"+idFixFFCursor).remove(),_jText.show(),bInit=!1},this.saveBookmark=function(){if(!bSource){_this.focus();var e=_this.getRng();e=e.cloneRange?e.cloneRange():e,bookmark={top:_jWin.scrollTop(),rng:e}}},this.loadBookmark=function(){if(!bSource&&bookmark){_this.focus();var e=bookmark.rng;if(isIE)e.select();else{var t=_this.getSel();t.removeAllRanges(),t.addRange(e)}_jWin.scrollTop(bookmark.top),bookmark=null}},this.focus=function(){if(bSource?$("#sourceCode",_doc).focus():_win.focus(),isIE){var e=_this.getRng();e.parentElement&&e.parentElement().ownerDocument!==_doc&&_this.setTextCursor()}return!1},this.setTextCursor=function(e){var t=_this.getRng(!0),i=_doc.body;if(isIE)t.moveToElementText(i);else{for(var s=e?"lastChild":"firstChild";3!=i.nodeType&&i[s];)i=i[s];t.selectNode(i)}if(t.collapse(e?!1:!0),isIE)t.select();else{var a=_this.getSel();a.removeAllRanges(),a.addRange(t)}},this.getSel=function(){return _doc.selection?_doc.selection:_win.getSelection()},this.getRng=function(e){var t,i;try{e||(t=_this.getSel(),i=t.createRange?t.createRange():t.rangeCount>0?t.getRangeAt(0):null),i||(i=_doc.body.createTextRange?_doc.body.createTextRange():_doc.createRange())}catch(s){}return i},this.getParent=function(e){var t,i=_this.getRng();return isIE?t=i.item?i.item(0):i.parentElement():(t=i.commonAncestorContainer,i.collapsed||i.startContainer===i.endContainer&&2>i.startOffset-i.endOffset&&i.startContainer.hasChildNodes()&&(t=i.startContainer.childNodes[i.startOffset])),e=e?e:"*",t=$(t),t.is(e)||(t=$(t).closest(e)),t},this.getSelect=function(e){var t=_this.getSel(),i=_this.getRng(),s=!0;if(s=!i||i.item?!1:!t||0===i.boundingWidth||i.collapsed,"text"===e)return s?"":i.text||(t.toString?""+t:"");var a;if(i.cloneContents){var n,o=$("<div><\/div>");n=i.cloneContents(),n&&o.append(n),a=o.html()}else a=is(i.item)?i.item(0).outerHTML:is(i.htmlText)?i.htmlText:""+i;return s&&(a=""),a=_this.processHTML(a,"read"),a=_this.cleanHTML(a),a=_this.formatXHTML(a)},this.pasteHTML=function(e,t){if(bSource)return!1;_this.focus(),e=_this.processHTML(e,"write");var i=_this.getSel(),s=_this.getRng();if(t!==undefined){if(s.item){var a=s.item(0);s=_this.getRng(!0),s.moveToElementText(a),s.select()}s.collapse(t)}if(e+="<"+(isIE?"img":"span")+' id="_xhe_temp" width="0" height="0" \/>',s.insertNode){if($(s.startContainer).closest("style,script").length>0)return!1;s.deleteContents(),s.insertNode(s.createContextualFragment(e))}else"control"===i.type.toLowerCase()&&(i.clear(),s=_this.getRng()),s.pasteHTML(e);var n=$("#_xhe_temp",_doc),o=n[0];isIE?(s.moveToElementText(o),s.select()):(s.selectNode(o),i.removeAllRanges(),i.addRange(s)),n.remove()},this.pasteText=function(e,t){e||(e=""),e=_this.domEncode(e),e=e.replace(\/\\r?\\n\/g,"<br \/>"),_this.pasteHTML(e,t)},this.appendHTML=function(e){return bSource?!1:(_this.focus(),e=_this.processHTML(e,"write"),$(_doc.body).append(e),_this.setTextCursor(!0),undefined)},this.domEncode=function(e){return e.replace(regEntities,function(e){return arrEntities[e]})},this.setSource=function(e){bookmark=null,"string"!=typeof e&&""!==e&&(e=_text.value),bSource?$("#sourceCode",_doc).val(e):(settings.beforeSetSource&&(e=settings.beforeSetSource(e)),e=_this.cleanHTML(e),e=_this.formatXHTML(e),e=_this.processHTML(e,"write"),isIE?(_doc.body.innerHTML='<img id="_xhe_temp" width="0" height="0" \/>'+e,$("#_xhe_temp",_doc).remove()):_doc.body.innerHTML=e)},this.processHTML=function(e,t){function i(e,t,i,s,a,o){var l,r,h,c,d="";if(l=s.match(\/font-family\\s*:\\s*([^;"]+)\/i),l&&(d+=' face="'+l[1]+'"'),r=s.match(\/font-size\\s*:\\s*([^;"]+)\/i)){r=r[1].toLowerCase();for(var u=0;n.length>u;u++)if(r===n[u].n||r===n[u].s){h=u+1;break}h&&(d+=' size="'+h+'"',s=s.replace(\/(^|;)(\\s*font-size\\s*:\\s*[^;"]+;?)+\/gi,"$1"))}if(c=s.match(\/(?:^|[\\s;])color\\s*:\\s*([^;"]+)\/i)){var p;if(p=c[1].match(\/\\s*rgb\\s*\\(\\s*(\\d+)\\s*,\\s*(\\d+)\\s*,\\s*(\\d+)\\s*\\)\/i)){c[1]="#";for(var g=1;3>=g;g++)c[1]+=("0"+(p[g]-0).toString(16)).slice(-2)}c[1]=c[1].replace(\/^#([0-9a-f])([0-9a-f])([0-9a-f])$\/i,"#$1$1$2$2$3$3"),d+=' color="'+c[1]+'"'}return s=s.replace(\/(^|;)(\\s*(font-family|color)\\s*:\\s*[^;"]+;?)+\/gi,"$1"),""!==d?(s&&(d+=' style="'+s+'"'),"<font"+(i?i:"")+d+(a?a:"")+">"+o+"<\/font>"):e}function s(e,t,i,s,a){for(var n,l,r=(i?i:"")+(s?s:""),h=[],c=[],d=0;o.length>d;d++)n=o[d].r,l=o[d].t,r=r.replace(n,function(){return h.push("<"+l+">"),c.push("<\/"+l+">"),""});return r=r.replace(\/\\s+style\\s*=\\s*"\\s*"\/i,""),(r?"<span"+r+">":"")+h.join("")+a+c.join("")+(r?"<\/span>":"")}var a=' class="Apple-style-span"',n=settings.listFontsize;if("write"===t)e=e.replace(\/(<(\\\/?)(\\w+))((?:\\s+[\\w\\-:]+\\s*=\\s*(?:"[^"]*"|'[^']*'|[^>\\s]+))*)\\s*((\\\/?)>)\/g,function(e,t,i,s,n,o,l){s=s.toLowerCase(),isMozilla?"strong"===s?s="b":"em"===s&&(s="i"):isWebkit&&("strong"===s?(s="span",i||(n+=a+' style="font-weight: bold;"')):"em"===s?(s="span",i||(n+=a+' style="font-style: italic;"')):"u"===s?(s="span",i||(n+=a+' style="text-decoration: underline;"')):"strike"===s&&(s="span",i||(n+=a+' style="text-decoration: line-through;"')));var r,h="";if("del"===s)s="strike";else if("img"===s)n=n.replace(\/\\s+emot\\s*=\\s*("[^"]*"|'[^']*'|[^>\\s]+)\/i,function(e,t){return r=t.match(\/^(["']?)(.*)\\1\/)[2],r=r.split(","),r[1]||(r[1]=r[0],r[0]=""),"default"===r[0]&&(r[0]=""),settings.emotMark?e:""});else if("a"===s)!n.match(\/ href=[^ ]\/i)&&n.match(\/ name=[^ ]\/i)&&(h+=" xhe-anchor"),l&&(o="><\/a>");else if("table"===s&&!i){var c=n.match(\/\\s+border\\s*=\\s*("[^"]*"|'[^']*'|[^>\\s]+)\/i);(!c||c[1].match(\/^(["']?)\\s*0\\s*\\1$\/))&&(h+=" xhe-border")}var d;if(n=n.replace(\/\\s+([\\w\\-:]+)\\s*=\\s*("[^"]*"|'[^']*'|[^>\\s]+)\/g,function(e,t,i){return t=t.toLowerCase(),i=i.match(\/^(["']?)(.*)\\1\/)[2],aft="",isIE&&t.match(\/^(disabled|checked|readonly|selected)$\/)&&i.match(\/^(false|0)$\/i)?"":"img"===s&&r&&"src"===t?"":(t.match(\/^(src|href)$\/)&&(aft=" _xhe_"+t+'="'+i+'"',urlBase&&(i=getLocalUrl(i,"abs",urlBase))),h&&"class"===t&&(i+=" "+h,h=""),isWebkit&&"style"===t&&"span"===s&&i.match(\/(^|;)\\s*(font-family|font-size|color|background-color)\\s*:\\s*[^;]+\\s*(;|$)\/i)&&(d=!0)," "+t+'="'+i+'"'+aft)}),r){var u=emotPath+(r[0]?r[0]:"default")+"\/"+r[1]+".gif";n+=' src="'+u+'" _xhe_src="'+u+'"'}return d&&(n+=a),h&&(n+=' class="'+h+'"'),"<"+i+s+n+o}),isIE&&(e=e.replace(\/&apos;\/gi,"&#39;")),isWebkit||(e=e.replace(\/<(span)(\\s+[^>]*?)?\\s+style\\s*=\\s*"((?:[^"]*?;)?\\s*(?:font-family|font-size|color)\\s*:[^"]*)"( [^>]*)?>(((?!<\\1(\\s+[^>]*?)?>)[\\s\\S]|<\\1(\\s+[^>]*?)?>((?!<\\1(\\s+[^>]*?)?>)[\\s\\S]|<\\1(\\s+[^>]*?)?>((?!<\\1(\\s+[^>]*?)?>)[\\s\\S])*?<\\\/\\1>)*?<\\\/\\1>)*?)<\\\/\\1>\/gi,i),e=e.replace(\/<(span)(\\s+[^>]*?)?\\s+style\\s*=\\s*"((?:[^"]*?;)?\\s*(?:font-family|font-size|color)\\s*:[^"]*)"( [^>]*)?>(((?!<\\1(\\s+[^>]*?)?>)[\\s\\S]|<\\1(\\s+[^>]*?)?>((?!<\\1(\\s+[^>]*?)?>)[\\s\\S])*?<\\\/\\1>)*?)<\\\/\\1>\/gi,i),e=e.replace(\/<(span)(\\s+[^>]*?)?\\s+style\\s*=\\s*"((?:[^"]*?;)?\\s*(?:font-family|font-size|color)\\s*:[^"]*)"( [^>]*)?>(((?!<\\1(\\s+[^>]*?)?>)[\\s\\S])*?)<\\\/\\1>\/gi,i)),e=e.replace(\/<(td|th)(\\s+[^>]*?)?>(\\s|&nbsp;)*<\\\/\\1>\/gi,"<$1$2>"+(isIE?"":"<br \/>")+"<\/$1>");else{if(isWebkit)for(var o=[{r:\/font-weight\\s*:\\s*bold;?\/gi,t:"strong"},{r:\/font-style\\s*:\\s*italic;?\/gi,t:"em"},{r:\/text-decoration\\s*:\\s*underline;?\/gi,t:"u"},{r:\/text-decoration\\s*:\\s*line-through;?\/gi,t:"strike"}],l=0;2>l;l++)e=e.replace(\/<(span)(\\s+[^>]*?)?\\s+class\\s*=\\s*"Apple-style-span"(\\s+[^>]*?)?>(((?!<\\1(\\s+[^>]*?)?>)[\\s\\S]|<\\1(\\s+[^>]*?)?>((?!<\\1(\\s+[^>]*?)?>)[\\s\\S]|<\\1(\\s+[^>]*?)?>((?!<\\1(\\s+[^>]*?)?>)[\\s\\S])*?<\\\/\\1>)*?<\\\/\\1>)*?)<\\\/\\1>\/gi,s),e=e.replace(\/<(span)(\\s+[^>]*?)?\\s+class\\s*=\\s*"Apple-style-span"(\\s+[^>]*?)?>(((?!<\\1(\\s+[^>]*?)?>)[\\s\\S]|<\\1(\\s+[^>]*?)?>((?!<\\1(\\s+[^>]*?)?>)[\\s\\S])*?<\\\/\\1>)*?)<\\\/\\1>\/gi,s),e=e.replace(\/<(span)(\\s+[^>]*?)?\\s+class\\s*=\\s*"Apple-style-span"(\\s+[^>]*?)?>(((?!<\\1(\\s+[^>]*?)?>)[\\s\\S])*?)<\\\/\\1>\/gi,s);e=e.replace(\/(<(\\w+))((?:\\s+[\\w\\-:]+\\s*=\\s*(?:"[^"]*"|'[^']*'|[^>\\s]+))*)\\s*(\\\/?>)\/g,function(e,t,i,s,a){i=i.toLowerCase();$/;"	p
variable	system/core/Config.php	/^	 * Sets the $config data from the primary config.php file as a class variable$/;"	c
variables	system/core/Controller.php	/^		\/\/ bootstrap file (CodeIgniter.php) to local class variables$/;"	c
variables	system/core/Loader.php	/^	 * Takes an object as input and converts the class variables to array key\/vals$/;"	c
variables	system/database/DB_active_rec.php	/^	 * Takes an object as input and converts the class variables to array key\/vals$/;"	c
variables	system/libraries/Image_lib.php	/^		 * Convert array elements into class variables$/;"	c
variables	system/libraries/Upload.php	/^		\/\/ Set the uploaded data as class variables$/;"	c
vars	system/core/Loader.php	/^			$vars = array($vars => $val);$/;"	v
vars	system/core/Loader.php	/^		$vars = $this->_ci_object_to_array($vars);$/;"	v
vars	system/core/Loader.php	/^	public function vars($vars = array(), $val = '')$/;"	f
vars	system/core/Loader.php	/^	public function view($view, $vars = array(), $return = FALSE)$/;"	v
ver	system/database/drivers/mssql/mssql_driver.php	/^		$ver = self::_parse_major_version($this->version());$/;"	v
version	system/core/Common.php	/^		$version = (string)$version;$/;"	v
version	system/database/DB_driver.php	/^	function version()$/;"	f
version	system/libraries/Migration.php	/^		$version = $i + ($step == 1 ? -1 : 0);$/;"	v
version	system/libraries/Migration.php	/^	public function version($target_version)$/;"	f
version	system/libraries/User_agent.php	/^					$this->version = $match[1];$/;"	v
version	system/libraries/User_agent.php	/^	public function version()$/;"	f
version	system/libraries/User_agent.php	/^	var $version	= '';$/;"	v
via	system/libraries/Driver.php	/^ * to extend the capabilities of a class via additional driver objects$/;"	c
view	system/core/Loader.php	/^	public function view($view, $vars = array(), $return = FALSE)$/;"	f
view_cascade	system/core/Loader.php	/^	public function add_package_path($path, $view_cascade=TRUE)$/;"	v
view_file	system/core/Loader.php	/^			foreach ($this->_ci_view_paths as $view_file => $cascade)$/;"	v
void	system/core/Loader.php	/^			$void = array_shift($config->_config_paths);$/;"	v
void	system/core/Loader.php	/^			$void = array_shift($this->_ci_helper_paths);$/;"	v
void	system/core/Loader.php	/^			$void = array_shift($this->_ci_library_paths);$/;"	v
void	system/core/Loader.php	/^			$void = array_shift($this->_ci_model_paths);$/;"	v
void	system/core/Loader.php	/^			$void = array_shift($this->_ci_view_paths);$/;"	v
wanted	system/libraries/Xmlrpcs.php	/^							$wanted = $current_sig[$n+1];$/;"	v
was	system/core/Security.php	/^	 * This function was based in part on some code and ideas I$/;"	f
was	system/helpers/form_helper.php	/^ * Determines what the form validation class was instantiated as, fetches$/;"	c
watermark	system/libraries/Image_lib.php	/^	function watermark()$/;"	f
we	system/database/DB_active_rec.php	/^				\/\/ is because until the user calls the from() function we don't know if there are aliases$/;"	f
weeks	system/helpers/date_helper.php	/^		$weeks = floor($seconds \/ 604800);$/;"	v
when	index.php	/^ * config class when initialized. This allows you to set custom config$/;"	c
when	system/database/drivers/odbc/odbc_result.php	/^	 * subsititutes the odbc_fetch_array function when$/;"	f
when	system/database/drivers/odbc/odbc_result.php	/^	 * subsititutes the odbc_fetch_object function when$/;"	f
where	system/core/URI.php	/^	function _slash_segment($n, $where = 'trailing', $which = 'segment')$/;"	v
where	system/core/URI.php	/^	function slash_rsegment($n, $where = 'trailing')$/;"	v
where	system/core/URI.php	/^	function slash_segment($n, $where = 'trailing')$/;"	v
where	system/database/DB_active_rec.php	/^	public function delete($table = '', $where = '', $limit = NULL, $reset_data = TRUE)$/;"	v
where	system/database/DB_active_rec.php	/^	public function get_where($table = '', $where = null, $limit = null, $offset = null)$/;"	v
where	system/database/DB_active_rec.php	/^	public function where($key, $value = NULL, $escape = TRUE)$/;"	f
where	system/database/drivers/cubrid/cubrid_driver.php	/^		$where = ($where != '' AND count($where) >=1) ? implode(" ", $where).' AND ' : '';$/;"	v
where	system/database/drivers/cubrid/cubrid_driver.php	/^	function _delete($table, $where = array(), $like = array(), $limit = FALSE)$/;"	v
where	system/database/drivers/cubrid/cubrid_driver.php	/^	function _update_batch($table, $values, $index, $where = NULL)$/;"	v
where	system/database/drivers/mssql/mssql_driver.php	/^	function _delete($table, $where = array(), $like = array(), $limit = FALSE)$/;"	v
where	system/database/drivers/mysql/mysql_driver.php	/^		$where = ($where != '' AND count($where) >=1) ? implode(" ", $where).' AND ' : '';$/;"	v
where	system/database/drivers/mysql/mysql_driver.php	/^	function _delete($table, $where = array(), $like = array(), $limit = FALSE)$/;"	v
where	system/database/drivers/mysql/mysql_driver.php	/^	function _update_batch($table, $values, $index, $where = NULL)$/;"	v
where	system/database/drivers/mysqli/mysqli_driver.php	/^		$where = ($where != '' AND count($where) >=1) ? implode(" ", $where).' AND ' : '';$/;"	v
where	system/database/drivers/mysqli/mysqli_driver.php	/^	function _delete($table, $where = array(), $like = array(), $limit = FALSE)$/;"	v
where	system/database/drivers/mysqli/mysqli_driver.php	/^	function _update_batch($table, $values, $index, $where = NULL)$/;"	v
where	system/database/drivers/oci8/oci8_driver.php	/^	protected function _delete($table, $where = array(), $like = array(), $limit = FALSE)$/;"	v
where	system/database/drivers/odbc/odbc_driver.php	/^	function _delete($table, $where = array(), $like = array(), $limit = FALSE)$/;"	v
where	system/database/drivers/pdo/pdo_driver.php	/^		$where = ($where != '' AND count($where) >=1) ? implode(" ", $where).' AND ' : '';$/;"	v
where	system/database/drivers/pdo/pdo_driver.php	/^	function _delete($table, $where = array(), $like = array(), $limit = FALSE)$/;"	v
where	system/database/drivers/pdo/pdo_driver.php	/^	function _update_batch($table, $values, $index, $where = NULL)$/;"	v
where	system/database/drivers/postgre/postgre_driver.php	/^	function _delete($table, $where = array(), $like = array(), $limit = FALSE)$/;"	v
where	system/database/drivers/sqlite/sqlite_driver.php	/^	function _delete($table, $where = array(), $like = array(), $limit = FALSE)$/;"	v
where_in	system/database/DB_active_rec.php	/^		$where_in = $prefix . $this->_protect_identifiers($key) . $not . " IN (" . implode(", ", $this->ar_wherein) . ") ";$/;"	v
where_in	system/database/DB_active_rec.php	/^	public function where_in($key = NULL, $values = NULL)$/;"	f
where_not_in	system/database/DB_active_rec.php	/^	public function where_not_in($key = NULL, $values = NULL)$/;"	f
which	system/core/Input.php	/^				$which = 'ipv4';$/;"	v
which	system/core/Input.php	/^				$which = 'ipv6';$/;"	v
which	system/core/Input.php	/^		$which = strtolower($which);$/;"	v
which	system/core/Input.php	/^	public function valid_ip($ip, $which = '')$/;"	v
which	system/libraries/Form_validation.php	/^	public function valid_ip($ip, $which = '')$/;"	v
white	system/libraries/Image_lib.php	/^		$white	= imagecolorallocate($src_img, 255, 255, 255);$/;"	v
width	application/controllers/checkcode.php	/^			$width  = $this->width \/ 2.66 + rand(3, 60);$/;"	v
width	application/controllers/checkcode.php	/^   public $width=130;$/;"	v
width	system/libraries/Image_lib.php	/^				$this->width = $new_width;$/;"	v
width	system/libraries/Image_lib.php	/^			$this->width	= $this->orig_height;$/;"	v
width	system/libraries/Image_lib.php	/^			$this->width	= $this->orig_width;$/;"	v
width	system/libraries/Image_lib.php	/^			$this->width = $this->orig_width;$/;"	v
width	system/libraries/Image_lib.php	/^		$width  = $this->orig_width;$/;"	v
width	system/libraries/Image_lib.php	/^		if ( ! is_numeric($this->width) OR ! is_numeric($this->height) OR $this->width == 0 OR $this->height == 0)$/;"	v
width	system/libraries/Image_lib.php	/^	var $width				= '';$/;"	v
will	application/config/config.php	/^| the output class will test whether your server supports Gzip.$/;"	c
will	system/core/Benchmark.php	/^	 * The output class will swap the real value for this variable.$/;"	c
will	system/core/Benchmark.php	/^	 * execution time to be shown in a template. The output class will$/;"	c
will	system/core/Common.php	/^* This function will send the error page directly to the$/;"	f
will	system/core/URI.php	/^	 * This function will detect the URI automatically and fix the query string$/;"	f
will	system/database/DB_driver.php	/^		\/\/ The query() function will set this flag to FALSE in the event that a query failed$/;"	f
will	system/database/DB_driver.php	/^ * This class will not be called directly. Rather, the adapter$/;"	c
will	system/database/DB_result.php	/^ * This class will not be called directly. Rather, the adapter$/;"	c
will	system/database/drivers/cubrid/cubrid_driver.php	/^	 * @cubrid_connect function will establish persisten connection$/;"	f
will	system/helpers/text_helper.php	/^ * This function will strip tags from a string, split it at its max_length and ellipsize$/;"	f
will	system/libraries/Driver.php	/^		\/\/ The class will be prefixed with the parent lib$/;"	c
will	system/libraries/Image_lib.php	/^	 * This function will flip horizontal or vertical$/;"	f
will	system/libraries/Image_lib.php	/^	 * This function will resize or crop$/;"	f
will	system/libraries/Image_lib.php	/^	 * This function will resize, crop or rotate$/;"	f
will	system/libraries/Log.php	/^	 * Generally this function will be called using the global log_message() function$/;"	f
will	system/libraries/Session.php	/^		\/\/ Note the function will return FALSE if the $key$/;"	f
will	system/libraries/Session.php	/^		\/\/ _set_cookie() function. Normally that function will store $this->userdata, but$/;"	f
will	system/libraries/ckeditor.php	/^	 * Note: this function will have no effect if the event handler has been already printed\/returned.$/;"	f
will	system/libraries/ckeditor.php	/^	 * Note: this function will have no effect on already created editor instances.$/;"	f
wm_font_color	system/libraries/Image_lib.php	/^				$this->wm_font_color = '#'.$this->wm_font_color;$/;"	v
wm_font_color	system/libraries/Image_lib.php	/^		$this->wm_font_color	= str_replace('#', '', $this->wm_font_color);$/;"	v
wm_font_color	system/libraries/Image_lib.php	/^	var $wm_font_color		= '#ffffff';	\/\/ Text color$/;"	v
wm_font_path	system/libraries/Image_lib.php	/^	var $wm_font_path		= '';			\/\/ TT font$/;"	v
wm_font_size	system/libraries/Image_lib.php	/^				$this->wm_font_size = '17';$/;"	v
wm_font_size	system/libraries/Image_lib.php	/^	var $wm_font_size		= 17;			\/\/ Font size (different versions of GD will either use points or pixels)$/;"	v
wm_height	system/libraries/Image_lib.php	/^		$wm_height		= $props['height'];$/;"	v
wm_hor_alignment	system/libraries/Image_lib.php	/^		$this->wm_hor_alignment = strtoupper(substr($this->wm_hor_alignment, 0, 1));$/;"	v
wm_hor_alignment	system/libraries/Image_lib.php	/^	var $wm_hor_alignment	= 'C';			\/\/ Horizontal alignment: L R C$/;"	v
wm_hor_offset	system/libraries/Image_lib.php	/^			$this->wm_hor_offset = $this->wm_hor_offset * -1;$/;"	v
wm_hor_offset	system/libraries/Image_lib.php	/^	var $wm_hor_offset		= 0;			\/\/ Lets you push text to the right$/;"	v
wm_img	system/libraries/Image_lib.php	/^		$wm_img  = $this->image_create_gd($this->wm_overlay_path, $wm_img_type);$/;"	v
wm_img_type	system/libraries/Image_lib.php	/^		$wm_img_type	= $props['image_type'];$/;"	v
wm_opacity	system/libraries/Image_lib.php	/^	var $wm_opacity			= 50;			\/\/ Image opacity: 1 - 100  Only works with image$/;"	v
wm_overlay_path	system/libraries/Image_lib.php	/^			$this->wm_overlay_path = str_replace("\\\\", "\/", realpath($this->wm_overlay_path));$/;"	v
wm_overlay_path	system/libraries/Image_lib.php	/^	var $wm_overlay_path	= '';			\/\/ Watermark image path$/;"	v
wm_padding	system/libraries/Image_lib.php	/^	var $wm_padding			= 0;			\/\/ Padding around text$/;"	v
wm_shadow_color	system/libraries/Image_lib.php	/^				$this->wm_shadow_color = '#'.$this->wm_shadow_color;$/;"	v
wm_shadow_color	system/libraries/Image_lib.php	/^		$this->wm_shadow_color	= str_replace('#', '', $this->wm_shadow_color);$/;"	v
wm_shadow_color	system/libraries/Image_lib.php	/^	var $wm_shadow_color	= '';			\/\/ Dropshadow color$/;"	v
wm_shadow_distance	system/libraries/Image_lib.php	/^			$this->wm_shadow_distance = 0;$/;"	v
wm_shadow_distance	system/libraries/Image_lib.php	/^	var $wm_shadow_distance	= 2;			\/\/ Dropshadow distance$/;"	v
wm_text	system/libraries/Image_lib.php	/^	var $wm_text			= '';			\/\/ Watermark text if graphic is not used$/;"	v
wm_type	system/libraries/Image_lib.php	/^	var $wm_type			= 'text';		\/\/ Type of watermarking.  Options:  text\/overlay$/;"	v
wm_use_drop_shadow	system/libraries/Image_lib.php	/^			$this->wm_use_drop_shadow = TRUE;$/;"	v
wm_use_drop_shadow	system/libraries/Image_lib.php	/^	var $wm_use_drop_shadow	= FALSE;$/;"	v
wm_use_truetype	system/libraries/Image_lib.php	/^			$this->wm_use_truetype = TRUE;$/;"	v
wm_use_truetype	system/libraries/Image_lib.php	/^	var $wm_use_truetype	= FALSE;$/;"	v
wm_vrt_alignment	system/libraries/Image_lib.php	/^		$this->wm_vrt_alignment = strtoupper(substr($this->wm_vrt_alignment, 0, 1));$/;"	v
wm_vrt_alignment	system/libraries/Image_lib.php	/^	var $wm_vrt_alignment	= 'B';			\/\/ Vertical alignment:   T M B$/;"	v
wm_vrt_offset	system/libraries/Image_lib.php	/^			$this->wm_vrt_offset = $this->wm_vrt_offset * -1;$/;"	v
wm_vrt_offset	system/libraries/Image_lib.php	/^	var $wm_vrt_offset		= 0;			\/\/ Lets you push  text down$/;"	v
wm_width	system/libraries/Image_lib.php	/^		$wm_width		= $props['width'];$/;"	v
wm_x_transp	system/libraries/Image_lib.php	/^	var $wm_x_transp		= 4;$/;"	v
wm_y_transp	system/libraries/Image_lib.php	/^	var $wm_y_transp		= 4;$/;"	v
word	system/helpers/captcha_helper.php	/^			$word = $str;$/;"	v
word_censor	system/helpers/text_helper.php	/^	function word_censor($str, $censored, $replacement = '')$/;"	f
word_limiter	system/helpers/text_helper.php	/^	function word_limiter($str, $limit = 100, $end_char = '&#8230;')$/;"	f
word_wrap	system/helpers/text_helper.php	/^	function word_wrap($str, $charlim = '76')$/;"	f
word_wrap	system/libraries/Email.php	/^	public function word_wrap($str, $charlim = '')$/;"	f
wordlen	system/core/Security.php	/^			for ($i = 0, $wordlen = strlen($word); $i < $wordlen; $i++)$/;"	v
words	system/core/Security.php	/^		$words = array($/;"	v
wordwrap	system/libraries/Email.php	/^		$this->wordwrap = ($wordwrap === FALSE) ? FALSE : TRUE;$/;"	v
wordwrap	system/libraries/Email.php	/^	var	$wordwrap		= TRUE;		\/\/ TRUE\/FALSE  Turns word-wrap on\/off$/;"	v
work	application/controllers/reg.php	/^        $work = preg_split("\/[^\\x{4e00}-\\x{9fa5}0-9a-zA-Z]+\/u",$work);\/\/以非汉字，数字，字母为分界点开始分割;$/;"	v
work	application/controllers/reg.php	/^        $work = trim($this->input->post("work"));$/;"	v
work2	application/views/userSpace.php	/^                    $work2 = explode(";",$work);$/;"	v
wrapchars	system/libraries/Email.php	/^	var	$wrapchars		= "76";		\/\/ Number of characters to wrap at.$/;"	v
write	application/controllers/message.php	/^	public function write($id = -1)$/;"	f
write	system/database/DB_cache.php	/^	function write($sql, $object)$/;"	f
write_file	system/helpers/file_helper.php	/^	function write_file($path, $data, $mode = FOPEN_WRITE_CREATE_DESTRUCTIVE)$/;"	f
write_log	system/libraries/Log.php	/^	public function write_log($level = 'error', $msg, $php_error = FALSE)$/;"	f
wrong	application/controllers/bg/wrong.php	/^        $wrong = $this->mwrong->getAll();$/;"	v
x	application/controllers/checkcode.php	/^       $x = ($this->width-10)\/$this->code_len;$/;"	v
x	js/art.js	/^    var sp = {x:0,y:0},ep = {x:0,y:0};$/;"	p
x	js/mainpage2.js	/^    var sp = {x:0,y:0},ep = {x:0,y:0},doc = document;$/;"	p
x	js/phone.js	/^    var sp = {x:0,y:0},ep = {x:0,y:0},doc = document;$/;"	p
x	system/core/CodeIgniter.php	/^				$x = explode('\/', $RTR->routes['404_override']);$/;"	v
x	system/core/CodeIgniter.php	/^			$x = explode('\/', $RTR->routes['404_override']);$/;"	v
x	system/core/Config.php	/^		$x = explode("\/", preg_replace("|\/*(.+?)\/*$|", "\\\\1", BASEPATH));$/;"	v
x	system/core/Exceptions.php	/^			$x = explode('\/', $filepath);$/;"	v
x	system/core/Input.php	/^			$x = explode(',', $this->ip_address);$/;"	v
x	system/core/Router.php	/^						$x = explode('\/', $this->routes['404_override']);$/;"	v
x	system/core/Router.php	/^					$x = explode('\/', $this->default_controller);$/;"	v
x	system/core/Router.php	/^			$x = explode('\/', $this->default_controller);$/;"	v
x	system/core/Router.php	/^			$x = explode('\/', $this->routes['404_override']);$/;"	v
x	system/helpers/captcha_helper.php	/^			$x = ($rad * cos($theta)) + $x_axis;$/;"	v
x	system/helpers/captcha_helper.php	/^			$x = rand(0, $img_width\/($length\/1.5));$/;"	v
x	system/helpers/captcha_helper.php	/^			$x = rand(0, $img_width\/($length\/3));$/;"	v
x	system/helpers/download_helper.php	/^		$x = explode('.', $filename);$/;"	v
x	system/helpers/url_helper.php	/^		$x = array_reverse($x);$/;"	v
x	system/libraries/Email.php	/^			$x = explode(',', $this->_IP);$/;"	v
x	system/libraries/Form_validation.php	/^			$x = explode('[', $field);$/;"	v
x	system/libraries/Ftp.php	/^		$x = explode('.', $filename);$/;"	v
x	system/libraries/Image_lib.php	/^					$x = explode('\/', $full_dest_path);$/;"	v
x	system/libraries/Image_lib.php	/^		$x = explode('\/', $full_source_path);$/;"	v
x	system/libraries/Upload.php	/^		$x = explode('.', $filename);$/;"	v
x1	system/helpers/captcha_helper.php	/^			$x1 = ($rad1 * cos($theta)) + $x_axis;$/;"	v
x_axis	system/helpers/captcha_helper.php	/^		$x_axis	= rand(6, (360\/$length)-16);$/;"	v
x_axis	system/libraries/Image_lib.php	/^			$this->x_axis = 0;$/;"	v
x_axis	system/libraries/Image_lib.php	/^		$this->x_axis = ($this->x_axis == '' OR ! is_numeric($this->x_axis)) ? 0 : $this->x_axis;$/;"	v
x_axis	system/libraries/Image_lib.php	/^		$x_axis = $this->wm_hor_offset + $this->wm_padding;$/;"	v
x_axis	system/libraries/Image_lib.php	/^	var $x_axis				= '';$/;"	v
x_shad	system/libraries/Image_lib.php	/^		$x_shad = $x_axis + $this->wm_shadow_distance;$/;"	v
x_start	application/controllers/checkcode.php	/^   private $x_start;$/;"	v
xh	system/libraries/Xmlrpc.php	/^	var $xh				= array();$/;"	v
xheAttr	js/xheditor.min.js	/^(function(){var e={};window.XHEDITOR=e})(),function(e,t){e.mapLang={},e.setLang=function(i,s){s===t&&(s=i,i=""),""!==i&&(i+=".");var a,n;for(var o in s)n=s[o],a=i+o,"string"==typeof n||n instanceof Array?e.mapLang[a]=n:e.setLang(a,n)},e.getLang=function(i){var s=e.mapLang[i];if(s===t&&(s=i.replace(\/{#([^{}]+)}\/g,function(t,i){var s=e.mapLang[i];return s?s:i})),"string"==typeof s){var a=arguments;s=s.replace(\/{\\$(\\d+)}\/g,function(e,i){var s=a[parseInt(i,10)+1];return s!==t?s:e})}return s}}(XHEDITOR),function(XHEDITOR,$,undefined){var agent=navigator.userAgent.toLowerCase(),bMobile=\/mobile\/i.test(agent),browser=$.browser,browerVer=parseFloat(browser.version),isIE=browser.msie,isMozilla=browser.mozilla,isWebkit=browser.webkit,isOpera=browser.opera,isChrome=browser.chrome,bAir=agent.indexOf(" adobeair\/")>-1,xCount=0,bShowPanel=!1,bClickCancel=!0,bShowModal=!1,bCheckEscInit=!1,_jPanel,_jShadow,_jCntLine,_jPanelButton,jModal,jModalShadow,layerShadow,jOverlay,jHideSelect,onModalRemove,editorRoot,getLang=XHEDITOR.getLang;if($("script[src*=xheditor]").each(function(){var e=this.src;return e.match(\/xheditor[^\\\/]*\\.js\/i)?(editorRoot=e.replace(\/[\\?#].*$\/,"").replace(\/(^|[\\\/\\\\])[^\\\/]*$\/,"$1"),!1):undefined}),isIE){try{document.execCommand("BackgroundImageCache",!1,!0)}catch(e){}var jqueryVer=$.fn.jquery;jqueryVer&&jqueryVer.match(\/^1\\.[67]\/)&&($.attrHooks.width=$.attrHooks.height=null)}var specialKeys={27:"esc",9:"tab",32:"space",13:"enter",8:"backspace",145:"scroll",20:"capslock",144:"numlock",19:"pause",45:"insert",36:"home",46:"del",35:"end",33:"pageup",34:"pagedown",37:"left",38:"up",39:"right",40:"down",112:"f1",113:"f2",114:"f3",115:"f4",116:"f5",117:"f6",118:"f7",119:"f8",120:"f9",121:"f10",122:"f11",123:"f12"},arrAlign=[{v:"justifyleft"},{v:"justifycenter"},{v:"justifyright"},{v:"justifyfull"}],arrList=[{v:"insertOrderedList"},{v:"insertUnorderedList"}],htmlPastetext='<div><label for="xhePastetextValue">{#PastetextTip}<\/label><\/div><div><textarea id="xhePastetextValue" wrap="soft" spellcheck="false" style="width:300px;height:100px;" \/><\/div><div style="text-align:right;"><input type="button" id="xheSave" value="{#dialogOk}" \/><\/div>',htmlLink='<div><label for="xheLinkUrl">{#link.url}<\/label><input type="text" id="xheLinkUrl" value="http:\/\/" class="xheText" \/><\/div><div><label for="xheLinkTarget">{#link.target}<\/label><select id="xheLinkTarget"><option selected="selected" value="">{#default}<\/option><option value="_blank">{#link.targetBlank}<\/option><option value="_self">{#link.targetSelf}<\/option><option value="_parent">{#link.targetParent}<\/option><\/select><\/div><div style="display:none"><label for="xheLinkText">{#link.linkText}<\/label><input type="text" id="xheLinkText" value="" class="xheText" \/><\/div><div style="text-align:right;"><input type="button" id="xheSave" value="{#dialogOk}" \/><\/div>',htmlAnchor='<div><label for="xheAnchorName">{#anchor.name}<\/label><input type="text" id="xheAnchorName" value="" class="xheText" \/><\/div><div style="text-align:right;"><input type="button" id="xheSave" value="{#dialogOk}" \/><\/div>',htmlImg='<div><label for="xheImgUrl">{#img.url}<\/label><input type="text" id="xheImgUrl" value="http:\/\/" class="xheText" \/><\/div><div><div><label for="xheImgAlt">{#img.alt}<\/label><input type="text" id="xheImgAlt" \/><\/div><div><label for="xheImgAlign">{#img.align}<\/label><select id="xheImgAlign"><option selected="selected" value="">{#default}<\/option><option value="left">{#img.alignLeft}<\/option><option value="right">{#img.alignRight}<\/option><option value="top">{#img.alignTop}<\/option><option value="middle">{#img.alignMiddle}<\/option><option value="baseline">{#img.alignBaseline}<\/option><option value="bottom">{#img.alignBottom}<\/option><\/select><\/div><div><label for="xheImgWidth">{#img.width}<\/label><input type="text" id="xheImgWidth" style="width:40px;" \/> <label for="xheImgHeight">{#img.height}<\/label><input type="text" id="xheImgHeight" style="width:40px;" \/><\/div><div><label for="xheImgBorder">{#img.border}<\/label><input type="text" id="xheImgBorder" style="width:40px;" \/><\/div><div><label for="xheImgHspace">{#img.hspace}<\/label><input type="text" id="xheImgHspace" style="width:40px;" \/> <label for="xheImgVspace">{#img.vspace}<\/label><input type="text" id="xheImgVspace" style="width:40px;" \/><\/div><div style="text-align:right;"><input type="button" id="xheSave" value="{#dialogOk}" \/><\/div>',htmlFlash='<div><label for="xheFlashUrl">{#flash.url}<\/label><input type="text" id="xheFlashUrl" value="http:\/\/" class="xheText" \/><\/div><div><label for="xheFlashWidth">{#flash.width}<\/label><input type="text" id="xheFlashWidth" style="width:40px;" value="480" \/> <label for="xheFlashHeight">{#flash.height}<\/label><input type="text" id="xheFlashHeight" style="width:40px;" value="400" \/><\/div><div style="text-align:right;"><input type="button" id="xheSave" value="{#dialogOk}" \/><\/div>',htmlMedia='<div><label for="xheMediaUrl">{#media.url}<\/label><input type="text" id="xheMediaUrl" value="http:\/\/" class="xheText" \/><\/div><div><label for="xheMediaWidth">{#media.width}<\/label><input type="text" id="xheMediaWidth" style="width:40px;" value="480" \/> <label for="xheMediaHeight">{#media.height}<\/label><input type="text" id="xheMediaHeight" style="width:40px;" value="400" \/><\/div><div style="text-align:right;"><input type="button" id="xheSave" value="{#dialogOk}" \/><\/div>',htmlTable='<div><label for="xheTableRows">{#table.rows}<\/label><input type="text" id="xheTableRows" style="width:40px;" value="3" \/> <label for="xheTableColumns">{#table.columns}<\/label><input type="text" id="xheTableColumns" style="width:40px;" value="2" \/><\/div><div><label for="xheTableHeaders">{#table.headers}<\/label><select id="xheTableHeaders"><option selected="selected" value="">{#none}<\/option><option value="row">{#table.headersRow}<\/option><option value="col">{#table.headersCol}<\/option><option value="both">{#table.headersBoth}<\/option><\/select><\/div><div><label for="xheTableWidth">{#table.width}<\/label><input type="text" id="xheTableWidth" style="width:40px;" value="200" \/> <label for="xheTableHeight">{#table.height}<\/label><input type="text" id="xheTableHeight" style="width:40px;" value="" \/><\/div><div><label for="xheTableBorder">{#table.border}<\/label><input type="text" id="xheTableBorder" style="width:40px;" value="1" \/><\/div><div><label for="xheTableCellSpacing">{#table.cellSpacing}<\/label><input type="text" id="xheTableCellSpacing" style="width:40px;" value="1" \/> <label for="xheTableCellPadding">{#table.cellPadding}<\/label><input type="text" id="xheTableCellPadding" style="width:40px;" value="1" \/><\/div><div><label for="xheTableAlign">{#table.align}<\/label><select id="xheTableAlign"><option selected="selected" value="">{#default}<\/option><option value="left">{#table.alignLeft}<\/option><option value="center">{#table.alignCenter}<\/option><option value="right">{#table.alignRight}<\/option><\/select><\/div><div><label for="xheTableCaption">{#table.caption}<\/label><input type="text" id="xheTableCaption" \/><\/div><div style="text-align:right;"><input type="button" id="xheSave" value="{#dialogOk}" \/><\/div>',htmlAbout='<div style="font:12px Arial;width:245px;word-wrap:break-word;word-break:break-all;outline:none;" role="dialog" tabindex="-1"><p><span style="font-size:20px;color:#1997DF;">xhEditor<\/span><br \/>v1.2.1 (build 130225)<\/p><p>{#aboutXheditor}<\/p><p>Copyright &copy; <a href="http:\/\/xheditor.com\/" target="_blank">xhEditor.com<\/a>. All rights reserved.<\/p><\/div>',itemEmots={"default":{name:"{#default}",width:24,height:24,line:7,list:["smile","tongue","titter","laugh","sad","wronged","fastcry","cry","wail","mad","knock","curse","crazy","angry","ohmy","awkward","panic","shy","cute","envy","proud","struggle","quiet","shutup","doubt","despise","sleep","bye"]}},arrTools={Cut:{t:"Cut"},Copy:{t:"Copy"},Paste:{t:"Paste"},Pastetext:{t:"Pastetext",h:isIE?0:1},Blocktag:{t:"Blocktag",h:1},Fontface:{t:"Fontface",h:1},FontSize:{t:"FontSize",h:1},Bold:{t:"Bold",s:"Ctrl+B"},Italic:{t:"Italic",s:"Ctrl+I"},Underline:{t:"Underline",s:"Ctrl+U"},Strikethrough:{t:"Strikethrough"},FontColor:{t:"FontColor",h:1},BackColor:{t:"BackColor",h:1},SelectAll:{t:"SelectAll"},Removeformat:{t:"Removeformat"},Align:{t:"Align",h:1},List:{t:"List",h:1},Outdent:{t:"Outdent"},Indent:{t:"Indent"},Link:{t:"Link",s:"Ctrl+L",h:1},Unlink:{t:"Unlink"},Anchor:{t:"Anchor",h:1},Img:{t:"Img",h:1},Flash:{t:"Flash",h:1},Media:{t:"Media",h:1},Hr:{t:"Hr"},Emot:{t:"Emot",s:"ctrl+e",h:1},Table:{t:"Table",h:1},Source:{t:"Source"},Preview:{t:"Preview"},Print:{t:"Print",s:"Ctrl+P"},Fullscreen:{t:"Fullscreen",s:"Esc"},About:{t:"About"}},toolsThemes={mini:"Bold,Italic,Underline,Strikethrough,|,Align,List,|,Link,Img",simple:"Blocktag,Fontface,FontSize,Bold,Italic,Underline,Strikethrough,FontColor,BackColor,|,Align,List,Outdent,Indent,|,Link,Img,Emot",full:"Cut,Copy,Paste,Pastetext,|,Blocktag,Fontface,FontSize,Bold,Italic,Underline,Strikethrough,FontColor,BackColor,SelectAll,Removeformat,|,Align,List,Outdent,Indent,|,Link,Unlink,Anchor,Img,Flash,Media,Hr,Emot,Table,|,Source,Preview,Print,Fullscreen"};toolsThemes.mfull=toolsThemes.full.replace(\/\\|(,Align)\/i,"\/$1");var arrDbClick={a:"Link",img:"Img",embed:"Embed"},uploadInputname="filedata",arrEntities={"<":"&lt;",">":"&gt;",'"':"&quot;","\\u00ae":"&reg;","\\u00a9":"&copy;"},regEntities=\/[<>"\\u00ae\\u00a9]\/g,Xheditor=function(textarea,options){function checkDblClick(e){var t=e.target,i=arrDbClick[t.tagName.toLowerCase()];if(i){if("Embed"===i){var s={"application\/x-shockwave-flash":"Flash","application\/x-mplayer2":"Media"};i=s[t.type.toLowerCase()]}_this.exec(i)}}function checkEsc(e){return 27===e.which?(bShowModal?_this.removeModal():bShowPanel&&_this.hidePanel(),!1):undefined}function loadReset(){setTimeout(_this.setSource,10)}function saveResult(){_this.getSource()}function cleanPaste(e){var t,i,s;if(e&&(t=e.originalEvent.clipboardData)&&(i=t.items)&&(s=i[0])&&"file"==s.kind&&s.type.match(\/^image\\\/\/i)){var a=s.getAsFile(),n=new FileReader;return n.onload=function(){var e='<img src="'+event.target.result+'">';e=replaceRemoteImg(e),_this.pasteHTML(e)},n.readAsDataURL(a),!1}var o=settings.cleanPaste;if(0===o||bSource||bCleanPaste)return!0;bCleanPaste=!0,_this.saveBookmark();var l=isIE?"pre":"div",r=$("<"+l+' class="xhe-paste">\\ufeff\\ufeff<\/'+l+">",_doc).appendTo(_doc.body),h=r[0],c=_this.getSel(),d=_this.getRng(!0);r.css("top",_jWin.scrollTop()),isIE?(d.moveToElementText(h),d.select()):(d.selectNodeContents(h),c.removeAllRanges(),c.addRange(d)),setTimeout(function(){var e,t=3===o;if(t)r.html(r.html().replace(\/<br(\\s+[^<>]*)?>\/gi,"\\n")),e=r.text();else{var i=$(".xhe-paste",_doc.body),s=[];i.each(function(e,t){0==$(t).find(".xhe-paste").length&&s.push(t.innerHTML)}),e=s.join("<br \/>")}r.remove(),_this.loadBookmark(),e=e.replace(\/^[\\s\\uFEFF]+|[\\s\\uFEFF]+$\/g,""),e&&(t?_this.pasteText(e):(e=_this.cleanHTML(e),e=_this.cleanWord(e),e=_this.formatXHTML(e),(!settings.onPaste||settings.onPaste&&(e=settings.onPaste(e))!==!1)&&(e=replaceRemoteImg(e),_this.pasteHTML(e)))),bCleanPaste=!1},0)}function replaceRemoteImg(e){var t=settings.localUrlTest,i=settings.remoteImgSaveUrl;if(t&&i){var s=[],a=0;e=e.replace(\/(<img)((?:\\s+[^>]*?)?(?:\\s+src="\\s*([^"]+)\\s*")(?: [^>]*)?)(\\\/?>)\/gi,function(e,i,n,o,l){return!\/^(https?|data:image)\/i.test(o)||\/_xhe_temp\/.test(n)||t.test(o)||(s[a]=o,n=n.replace(\/\\s+(width|height)="[^"]*"\/gi,"").replace(\/\\s+src="[^"]*"\/gi,' src="'+skinPath+'img\/waiting.gif" remoteimg="'+a++ +'"')),i+n+l}),s.length>0&&$.post(i,{urls:s.join("|")},function(e){e=e.split("|"),$("img[remoteimg]",_this.doc).each(function(){var t=$(this);xheAttr(t,"src",e[t.attr("remoteimg")]),t.removeAttr("remoteimg")})})}return e}function setCSS(e){try{_this._exec("styleWithCSS",e,!0)}catch(t){try{_this._exec("useCSS",!e,!0)}catch(t){}}}function setOpts(){if(bInit&&!bSource){setCSS(!1);try{_this._exec("enableObjectResizing",!0,!0)}catch(e){}if(isIE)try{_this._exec("BackgroundImageCache",!0,!0)}catch(e){}}}function forcePtag(e){if(bSource||13!==e.which||e.shiftKey||e.ctrlKey||e.altKey)return!0;var t=_this.getParent("p,h1,h2,h3,h4,h5,h6,pre,address,div,li");return t.is("li")?!0:settings.forcePtag?(0===t.length&&_this._exec("formatblock","<p>"),undefined):(_this.pasteHTML("<br \/>"),isIE&&t.length>0&&2===_this.getRng().parentElement().childNodes.length&&_this.pasteHTML("<br \/>"),!1)}function fixFullHeight(){isMozilla||isWebkit||(bFullscreen&&_jArea.height("100%").css("height",_jArea.outerHeight()-_jTools.outerHeight()),isIE&&_jTools.hide().show())}function fixAppleSel(e){if(e=e.target,e.tagName.match(\/(img|embed)\/i)){var t=_this.getSel(),i=_this.getRng(!0);i.selectNode(e),t.removeAllRanges(),t.addRange(i)}}function xheAttr(e,t,i){if(!t)return!1;var s="_xhe_"+t;return i&&(urlType&&(i=getLocalUrl(i,urlType,urlBase)),e.attr(t,urlBase?getLocalUrl(i,"abs",urlBase):i).removeAttr(s).attr(s,i)),e.attr(s)||e.attr(t)}function clickCancelPanel(){bClickCancel&&_this.hidePanel()}function checkShortcuts(e){if(bSource)return!0;var t=e.which,i=specialKeys[t],s=i?i:String.fromCharCode(t).toLowerCase();sKey="",sKey+=e.ctrlKey?"ctrl+":"",sKey+=e.altKey?"alt+":"",sKey+=e.shiftKey?"shift+":"",sKey+=s;var a,n=arrShortCuts[sKey];for(a in n){if(a=n[a],!$.isFunction(a))return _this.exec(a),!1;if(a.call(_this)===!1)return!1}}function is(e,t){var i=typeof e;return t?"array"===t&&e.hasOwnProperty&&e instanceof Array?!0:i===t:"undefined"!=i}function getLocalUrl(e,t,i){if(e.match(\/^(\\w+):\\\/\\\/\/i)&&!e.match(\/^https?:\/i)||\/^#\/i.test(e)||\/^data:\/i.test(e))return e;var s=i?$('<a href="'+i+'" \/>')[0]:location,a=s.protocol,n=s.host,o=s.hostname,l=s.port,r=s.pathname.replace(\/\\\\\/g,"\/").replace(\/[^\\\/]+$\/i,"");if(""===l&&(l="80"),""===r?r="\/":"\/"!==r.charAt(0)&&(r="\/"+r),e=$.trim(e),"abs"!==t&&(e=e.replace(RegExp(a+"\\\\\/\\\\\/"+o.replace(\/\\.\/g,"\\\\.")+"(?::"+l+")"+("80"===l?"?":"")+"(\/|$)","i"),"\/")),"rel"===t&&(e=e.replace(RegExp("^"+r.replace(\/([\\\/\\.\\+\\[\\]\\(\\)])\/g,"\\\\$1"),"i"),"")),"rel"!==t&&(e.match(\/^(https?:\\\/\\\/|\\\/)\/i)||(e=r+e),"\/"===e.charAt(0))){var h,c,d=[],u=e.split("\/"),p=u.length;for(c=0;p>c;c++)h=u[c],".."===h?d.pop():""!==h&&"."!==h&&d.push(h);""===u[p-1]&&d.push(""),e="\/"+d.join("\/")}return"abs"!==t||e.match(\/^https?:\\\/\\\/\/i)||(e=a+"\/\/"+n+e),e=e.replace(\/(https?:\\\/\\\/[^:\\\/?#]+):80(\\\/|$)\/i,"$1$2")}function checkFileExt(e,t){return"*"===t||e.match(RegExp(".("+t.replace(\/,\/g,"|")+")$","i"))?!0:(alert(getLang("upload.extLimit",t)),!1)}function formatBytes(e){var t=["Byte","KB","MB","GB","TB","PB"],i=Math.floor(Math.log(e)\/Math.log(1024));return(e\/Math.pow(1024,Math.floor(i))).toFixed(2)+t[i]}function returnFalse(){return!1}var _this=this,_text=textarea,_jText=$(_text),_jForm=_jText.closest("form"),_jTools,_jArea,_win,_jWin,_doc,_jDoc,bookmark,bInit=!1,bSource=!1,bFullscreen=!1,bCleanPaste=!1,outerScroll,bShowBlocktag=!1,sLayoutStyle="",ev=null,timer,bDisableHoverExec=!1,bQuickHoverExec=!1,lastPoint=null,lastAngle=null,editorHeight=0,settings=_this.settings=$.extend({},XHEDITOR.settings,options),plugins=settings.plugins,strPlugins=[];if(plugins&&(arrTools=$.extend({},arrTools,plugins),$.each(plugins,function(e){strPlugins.push(e)}),strPlugins=strPlugins.join(",")),settings.tools.match(\/^\\s*(m?full|simple|mini)\\s*$\/i)){var toolsTheme=toolsThemes[$.trim(settings.tools)];settings.tools=settings.tools.match(\/m?full\/i)&&plugins?toolsTheme.replace("Table","Table,"+strPlugins):toolsTheme}settings.tools.match(\/(^|,)\\s*About\\s*(,|$)\/i)||(settings.tools+=",About"),settings.tools=settings.tools.split(","),settings.editorRoot&&(editorRoot=settings.editorRoot),bAir===!1&&(editorRoot=getLocalUrl(editorRoot,"abs")),settings.urlBase&&(settings.urlBase=getLocalUrl(settings.urlBase,"abs"));var idCSS="xheCSS_"+settings.skin,idContainer="xhe"+xCount+"_container",idTools="xhe"+xCount+"_Tool",idIframeArea="xhe"+xCount+"_iframearea",idIframe="xhe"+xCount+"_iframe",idFixFFCursor="xhe"+xCount+"_fixffcursor",headHTML="",bodyClass="",skinPath=editorRoot+"xheditor_skin\/"+settings.skin+"\/",arrEmots=itemEmots,urlType=settings.urlType,urlBase=settings.urlBase,emotPath=settings.emotPath,emotPath=emotPath?emotPath:editorRoot+"xheditor_emot\/",selEmotGroup="";arrEmots=$.extend({},arrEmots,settings.emots),emotPath=getLocalUrl(emotPath,"rel",urlBase?urlBase:null),bShowBlocktag=settings.showBlocktag,bShowBlocktag&&(bodyClass+=" showBlocktag");var arrShortCuts=[];this.init=function(){function e(e){var t,i=$(e.target);(t=i.css("width"))&&i.css("width","").attr("width",t.replace(\/[^0-9%]+\/g,"")),(t=i.css("height"))&&i.css("height","").attr("height",t.replace(\/[^0-9%]+\/g,""))}0===$("#"+idCSS).length&&$("head").append('<link id="'+idCSS+'" rel="stylesheet" type="text\/css" href="'+skinPath+'ui.css" \/>');var t=_jText.outerWidth(),i=_jText.outerHeight(),s=settings.width||_text.style.width||(t>10?t:0);editorHeight=settings.height||_text.style.height||(i>10?i:150),\/^\\d+(?:\\.\\d+)?$\/.test(s)&&(s+="px"),is(editorHeight,"string")&&(editorHeight=editorHeight.replace(\/[^\\d]+\/g,""));var a,n,o=settings.background||_text.style.background,l=['<span class="xheGStart"\/>'],r=\/\\||\\\/\/i;$.each(settings.tools,function(e,t){if(t.match(r)&&l.push('<span class="xheGEnd"\/>'),"|"===t)l.push('<span class="xheSeparator"\/>');else if("\/"===t)l.push("<br \/>");else{if(a=arrTools[t],!a)return;n=a.c?a.c:"xheIcon xheBtn"+t,l.push('<span><a href="#" title="{#'+a.t+'}" cmd="'+t+'" class="xheButton xheEnabled" tabindex="-1" role="button"><span class="'+n+'" unselectable="on" style="font-size:0;color:transparent;text-indent:-999px;">'+a.t+"<\/span><\/a><\/span>"),a.s&&_this.addShortcuts(a.s,t)}t.match(r)&&l.push('<span class="xheGStart"\/>')}),l.push('<span class="xheGEnd"\/><br \/>'),_jText.after($('<input type="text" id="'+idFixFFCursor+'" style="position:absolute;display:none;" \/><span id="'+idContainer+'" class="xhe_'+settings.skin+'" style="display:none"><table cellspacing="0" cellpadding="0" class="xheLayout" style="'+("0px"!=s?"width:"+s+";":"")+"height:"+editorHeight+'px;" role="presentation"><tr><td id="'+idTools+'" class="xheTool" unselectable="on" style="height:1px;" role="presentation"><\/td><\/tr><tr><td id="'+idIframeArea+'" class="xheIframeArea" role="presentation"><iframe frameborder="0" id="'+idIframe+'" src="javascript:;" style="width:100%;"><\/iframe><\/td><\/tr><\/table><\/span>')),_jTools=$("#"+idTools),_jArea=$("#"+idIframeArea),headHTML='<meta http-equiv="Content-Type" content="text\/html; charset=utf-8" \/><link rel="stylesheet" href="'+skinPath+'iframe.css"\/>';var h=settings.loadCSS;if(h)if(is(h,"array"))for(var c in h)headHTML+='<link rel="stylesheet" href="'+h[c]+'"\/>';else headHTML+=h.match(\/\\s*<style(\\s+[^>]*?)?>[\\s\\S]+?<\\\/style>\\s*\/i)?h:'<link rel="stylesheet" href="'+h+'"\/>';var d='<!DOCTYPE html><html xmlns="http:\/\/www.w3.org\/1999\/xhtml"><head>'+headHTML+"<title>{#defaultReadTip} "+(settings.readTip?settings.readTip:"")+"<\/title>";o&&(d+="<style>html{background:"+o+";}<\/style>"),d+='<\/head><body spellcheck="0" class="editMode'+bodyClass+'"><\/body><\/html>',_this.win=_win=$("#"+idIframe)[0].contentWindow,_jWin=$(_win);try{this.doc=_doc=_win.document,_jDoc=$(_doc),_doc.open(),_doc.write(getLang(d)),_doc.close(),isIE?_doc.body.contentEditable="true":_doc.designMode="On"}catch(u){}setTimeout(setOpts,300),_this.setSource(),_win.setInterval=null,_jTools.append(getLang(l.join(""))).bind("mousedown contextmenu",returnFalse).click(function(e){var t=$(e.target).closest("a");return t.is(".xheEnabled")&&(clearTimeout(timer),_jTools.find("a").attr("tabindex","-1"),ev=e,_this.exec(t.attr("cmd"))),!1}),_jTools.find(".xheButton").hover(function(e){var t=$(this),i=settings.hoverExecDelay,s=lastAngle;if(lastAngle=null,-1===i||bDisableHoverExec||!t.is(".xheEnabled"))return!1;if(s&&s>10)return bDisableHoverExec=!0,setTimeout(function(){bDisableHoverExec=!1},100),!1;var a=t.attr("cmd"),n=1===arrTools[a].h;return n?(bQuickHoverExec&&(i=0),i>=0&&(timer=setTimeout(function(){ev=e,lastPoint={x:ev.clientX,y:ev.clientY},_this.exec(a)},i)),undefined):(_this.hidePanel(),!1)},function(){lastPoint=null,timer&&clearTimeout(timer)}).mousemove(function(e){if(lastPoint){var t={x:e.clientX-lastPoint.x,y:e.clientY-lastPoint.y};if(Math.abs(t.x)>1||Math.abs(t.y)>1){if(t.x>0&&t.y>0){var i=Math.round(Math.atan(t.y\/t.x)\/.017453293);lastAngle=lastAngle?(lastAngle+i)\/2:i}else lastAngle=null;lastPoint={x:e.clientX,y:e.clientY}}}}),_jPanel=$("#xhePanel"),_jShadow=$("#xheShadow"),_jCntLine=$("#xheCntLine"),0===_jPanel.length&&(_jPanel=$('<div id="xhePanel"><\/div>').mousedown(function(e){e.stopPropagation()}),_jShadow=$('<div id="xheShadow"><\/div>'),_jCntLine=$('<div id="xheCntLine"><\/div>'),setTimeout(function(){$(document.body).append(_jPanel).append(_jShadow).append(_jCntLine)},10)),$("#"+idContainer).show(),_jText.hide(),_jArea.css("height",editorHeight-_jTools.outerHeight()),isIE&8>browerVer&&setTimeout(function(){_jArea.css("height",editorHeight-_jTools.outerHeight())},1),_jText.focus(_this.focus),_jForm.submit(saveResult).bind("reset",loadReset),settings.submitID&&$("#"+settings.submitID).mousedown(saveResult),$(window).bind("unload beforeunload",saveResult).bind("resize",fixFullHeight),$(document).mousedown(clickCancelPanel),bCheckEscInit||($(document).keydown(checkEsc),bCheckEscInit=!0),_jWin.focus(function(){settings.focus&&settings.focus()}).blur(function(){settings.blur&&settings.blur()}),isWebkit&&_jWin.click(fixAppleSel),_jDoc.mousedown(clickCancelPanel).keydown(checkShortcuts).keypress(forcePtag).dblclick(checkDblClick).bind("mousedown click",function(e){_jText.trigger(e.type)}),isIE&&(_jDoc.keydown(function(e){var t=_this.getRng();return 8===e.which&&t.item?($(t.item(0)).remove(),!1):undefined}),_jDoc.bind("controlselect",function(t){t=t.target,$.nodeName(t,"IMG")&&$(t).unbind("resizeend",e).bind("resizeend",e)})),_jDoc.keydown(function(e){var t=e.which;return e.altKey&&t>=49&&57>=t?(_jTools.find("a").attr("tabindex","0"),_jTools.find(".xheGStart").eq(t-49).next().find("a").focus(),_doc.title="\\ufeff\\ufeff",!1):undefined}).click(function(){_jTools.find("a").attr("tabindex","-1")}),_jTools.keydown(function(e){var t=e.which;if(27==t)_jTools.find("a").attr("tabindex","-1"),_this.focus();else if(e.altKey&&t>=49&&57>=t)return _jTools.find(".xheGStart").eq(t-49).next().find("a").focus(),!1});var p=$(_doc.documentElement);isOpera?p.bind("keydown",function(e){e.ctrlKey&&86===e.which&&cleanPaste()}):p.bind(isIE?"beforepaste":"paste",cleanPaste),settings.disableContextmenu&&p.bind("contextmenu",returnFalse),settings.html5Upload&&p.bind("dragenter dragover",function(e){var t;return(t=e.originalEvent.dataTransfer.types)&&-1!==$.inArray("Files",t)?!1:undefined}).bind("drop",function(e){function t(e){var t,i,s;for(a=0;e.length>a;a++){if(i=e[a].name.replace(\/.+\\.\/,""),!(t=o.match(RegExp("(\\\\w+):[^:]*,"+i+"(?:,|$)","i"))))return 1;if(s){if(s!==t[1])return 2}else s=t[1]}return s}var i,s=e.originalEvent.dataTransfer;if(s&&(i=s.files)&&i.length>0){var a,n,o,l=["Link","Img","Flash","Media"],r=[];for(a in l)n=l[a],settings["up"+n+"Url"]&&settings["up"+n+"Url"].match(\/^[^!].*\/i)&&r.push(n+":,"+settings["up"+n+"Ext"]);return 0===r.length?!1:(o=r.join(","),n=t(i),1===n?alert(getLang("upload.extLimit",o.replace(\/\\w+:,\/g,""))):2===n?alert(getLang("upload.typeLimit")):n&&_this.startUpload(i,settings["up"+n+"Url"],"*",function(e){var t,i=[],s=settings.onUpload;s&&s(e);for(var a=0,o=e.length;o>a;a++)t=e[a],url=is(t,"string")?t:t.url,"!"===url.substr(0,1)&&(url=url.substr(1)),i.push(url);_this.exec(n),$("#xhe"+n+"Url").val(i.join(" ")),$("#xheSave").click()}),!1)}});var g=settings.shortcuts;g&&$.each(g,function(e,t){_this.addShortcuts(e,t)}),xCount++,bInit=!0,settings.fullscreen?_this.toggleFullscreen():settings.sourceMode&&setTimeout(_this.toggleSource,20);var f=settings.plugins;return f&&$.each(f,function(e,t){var i=t.i;i!==undefined&&i(_this)}),!0},this.remove=function(){_this.hidePanel(),saveResult(),_jText.unbind("focus",_this.focus),_jForm.unbind("submit",saveResult).unbind("reset",loadReset),settings.submitID&&$("#"+settings.submitID).unbind("mousedown",saveResult),$(window).unbind("unload beforeunload",saveResult).unbind("resize",fixFullHeight),$(document).unbind("mousedown",clickCancelPanel),$("#"+idContainer).remove(),$("#"+idFixFFCursor).remove(),_jText.show(),bInit=!1},this.saveBookmark=function(){if(!bSource){_this.focus();var e=_this.getRng();e=e.cloneRange?e.cloneRange():e,bookmark={top:_jWin.scrollTop(),rng:e}}},this.loadBookmark=function(){if(!bSource&&bookmark){_this.focus();var e=bookmark.rng;if(isIE)e.select();else{var t=_this.getSel();t.removeAllRanges(),t.addRange(e)}_jWin.scrollTop(bookmark.top),bookmark=null}},this.focus=function(){if(bSource?$("#sourceCode",_doc).focus():_win.focus(),isIE){var e=_this.getRng();e.parentElement&&e.parentElement().ownerDocument!==_doc&&_this.setTextCursor()}return!1},this.setTextCursor=function(e){var t=_this.getRng(!0),i=_doc.body;if(isIE)t.moveToElementText(i);else{for(var s=e?"lastChild":"firstChild";3!=i.nodeType&&i[s];)i=i[s];t.selectNode(i)}if(t.collapse(e?!1:!0),isIE)t.select();else{var a=_this.getSel();a.removeAllRanges(),a.addRange(t)}},this.getSel=function(){return _doc.selection?_doc.selection:_win.getSelection()},this.getRng=function(e){var t,i;try{e||(t=_this.getSel(),i=t.createRange?t.createRange():t.rangeCount>0?t.getRangeAt(0):null),i||(i=_doc.body.createTextRange?_doc.body.createTextRange():_doc.createRange())}catch(s){}return i},this.getParent=function(e){var t,i=_this.getRng();return isIE?t=i.item?i.item(0):i.parentElement():(t=i.commonAncestorContainer,i.collapsed||i.startContainer===i.endContainer&&2>i.startOffset-i.endOffset&&i.startContainer.hasChildNodes()&&(t=i.startContainer.childNodes[i.startOffset])),e=e?e:"*",t=$(t),t.is(e)||(t=$(t).closest(e)),t},this.getSelect=function(e){var t=_this.getSel(),i=_this.getRng(),s=!0;if(s=!i||i.item?!1:!t||0===i.boundingWidth||i.collapsed,"text"===e)return s?"":i.text||(t.toString?""+t:"");var a;if(i.cloneContents){var n,o=$("<div><\/div>");n=i.cloneContents(),n&&o.append(n),a=o.html()}else a=is(i.item)?i.item(0).outerHTML:is(i.htmlText)?i.htmlText:""+i;return s&&(a=""),a=_this.processHTML(a,"read"),a=_this.cleanHTML(a),a=_this.formatXHTML(a)},this.pasteHTML=function(e,t){if(bSource)return!1;_this.focus(),e=_this.processHTML(e,"write");var i=_this.getSel(),s=_this.getRng();if(t!==undefined){if(s.item){var a=s.item(0);s=_this.getRng(!0),s.moveToElementText(a),s.select()}s.collapse(t)}if(e+="<"+(isIE?"img":"span")+' id="_xhe_temp" width="0" height="0" \/>',s.insertNode){if($(s.startContainer).closest("style,script").length>0)return!1;s.deleteContents(),s.insertNode(s.createContextualFragment(e))}else"control"===i.type.toLowerCase()&&(i.clear(),s=_this.getRng()),s.pasteHTML(e);var n=$("#_xhe_temp",_doc),o=n[0];isIE?(s.moveToElementText(o),s.select()):(s.selectNode(o),i.removeAllRanges(),i.addRange(s)),n.remove()},this.pasteText=function(e,t){e||(e=""),e=_this.domEncode(e),e=e.replace(\/\\r?\\n\/g,"<br \/>"),_this.pasteHTML(e,t)},this.appendHTML=function(e){return bSource?!1:(_this.focus(),e=_this.processHTML(e,"write"),$(_doc.body).append(e),_this.setTextCursor(!0),undefined)},this.domEncode=function(e){return e.replace(regEntities,function(e){return arrEntities[e]})},this.setSource=function(e){bookmark=null,"string"!=typeof e&&""!==e&&(e=_text.value),bSource?$("#sourceCode",_doc).val(e):(settings.beforeSetSource&&(e=settings.beforeSetSource(e)),e=_this.cleanHTML(e),e=_this.formatXHTML(e),e=_this.processHTML(e,"write"),isIE?(_doc.body.innerHTML='<img id="_xhe_temp" width="0" height="0" \/>'+e,$("#_xhe_temp",_doc).remove()):_doc.body.innerHTML=e)},this.processHTML=function(e,t){function i(e,t,i,s,a,o){var l,r,h,c,d="";if(l=s.match(\/font-family\\s*:\\s*([^;"]+)\/i),l&&(d+=' face="'+l[1]+'"'),r=s.match(\/font-size\\s*:\\s*([^;"]+)\/i)){r=r[1].toLowerCase();for(var u=0;n.length>u;u++)if(r===n[u].n||r===n[u].s){h=u+1;break}h&&(d+=' size="'+h+'"',s=s.replace(\/(^|;)(\\s*font-size\\s*:\\s*[^;"]+;?)+\/gi,"$1"))}if(c=s.match(\/(?:^|[\\s;])color\\s*:\\s*([^;"]+)\/i)){var p;if(p=c[1].match(\/\\s*rgb\\s*\\(\\s*(\\d+)\\s*,\\s*(\\d+)\\s*,\\s*(\\d+)\\s*\\)\/i)){c[1]="#";for(var g=1;3>=g;g++)c[1]+=("0"+(p[g]-0).toString(16)).slice(-2)}c[1]=c[1].replace(\/^#([0-9a-f])([0-9a-f])([0-9a-f])$\/i,"#$1$1$2$2$3$3"),d+=' color="'+c[1]+'"'}return s=s.replace(\/(^|;)(\\s*(font-family|color)\\s*:\\s*[^;"]+;?)+\/gi,"$1"),""!==d?(s&&(d+=' style="'+s+'"'),"<font"+(i?i:"")+d+(a?a:"")+">"+o+"<\/font>"):e}function s(e,t,i,s,a){for(var n,l,r=(i?i:"")+(s?s:""),h=[],c=[],d=0;o.length>d;d++)n=o[d].r,l=o[d].t,r=r.replace(n,function(){return h.push("<"+l+">"),c.push("<\/"+l+">"),""});return r=r.replace(\/\\s+style\\s*=\\s*"\\s*"\/i,""),(r?"<span"+r+">":"")+h.join("")+a+c.join("")+(r?"<\/span>":"")}var a=' class="Apple-style-span"',n=settings.listFontsize;if("write"===t)e=e.replace(\/(<(\\\/?)(\\w+))((?:\\s+[\\w\\-:]+\\s*=\\s*(?:"[^"]*"|'[^']*'|[^>\\s]+))*)\\s*((\\\/?)>)\/g,function(e,t,i,s,n,o,l){s=s.toLowerCase(),isMozilla?"strong"===s?s="b":"em"===s&&(s="i"):isWebkit&&("strong"===s?(s="span",i||(n+=a+' style="font-weight: bold;"')):"em"===s?(s="span",i||(n+=a+' style="font-style: italic;"')):"u"===s?(s="span",i||(n+=a+' style="text-decoration: underline;"')):"strike"===s&&(s="span",i||(n+=a+' style="text-decoration: line-through;"')));var r,h="";if("del"===s)s="strike";else if("img"===s)n=n.replace(\/\\s+emot\\s*=\\s*("[^"]*"|'[^']*'|[^>\\s]+)\/i,function(e,t){return r=t.match(\/^(["']?)(.*)\\1\/)[2],r=r.split(","),r[1]||(r[1]=r[0],r[0]=""),"default"===r[0]&&(r[0]=""),settings.emotMark?e:""});else if("a"===s)!n.match(\/ href=[^ ]\/i)&&n.match(\/ name=[^ ]\/i)&&(h+=" xhe-anchor"),l&&(o="><\/a>");else if("table"===s&&!i){var c=n.match(\/\\s+border\\s*=\\s*("[^"]*"|'[^']*'|[^>\\s]+)\/i);(!c||c[1].match(\/^(["']?)\\s*0\\s*\\1$\/))&&(h+=" xhe-border")}var d;if(n=n.replace(\/\\s+([\\w\\-:]+)\\s*=\\s*("[^"]*"|'[^']*'|[^>\\s]+)\/g,function(e,t,i){return t=t.toLowerCase(),i=i.match(\/^(["']?)(.*)\\1\/)[2],aft="",isIE&&t.match(\/^(disabled|checked|readonly|selected)$\/)&&i.match(\/^(false|0)$\/i)?"":"img"===s&&r&&"src"===t?"":(t.match(\/^(src|href)$\/)&&(aft=" _xhe_"+t+'="'+i+'"',urlBase&&(i=getLocalUrl(i,"abs",urlBase))),h&&"class"===t&&(i+=" "+h,h=""),isWebkit&&"style"===t&&"span"===s&&i.match(\/(^|;)\\s*(font-family|font-size|color|background-color)\\s*:\\s*[^;]+\\s*(;|$)\/i)&&(d=!0)," "+t+'="'+i+'"'+aft)}),r){var u=emotPath+(r[0]?r[0]:"default")+"\/"+r[1]+".gif";n+=' src="'+u+'" _xhe_src="'+u+'"'}return d&&(n+=a),h&&(n+=' class="'+h+'"'),"<"+i+s+n+o}),isIE&&(e=e.replace(\/&apos;\/gi,"&#39;")),isWebkit||(e=e.replace(\/<(span)(\\s+[^>]*?)?\\s+style\\s*=\\s*"((?:[^"]*?;)?\\s*(?:font-family|font-size|color)\\s*:[^"]*)"( [^>]*)?>(((?!<\\1(\\s+[^>]*?)?>)[\\s\\S]|<\\1(\\s+[^>]*?)?>((?!<\\1(\\s+[^>]*?)?>)[\\s\\S]|<\\1(\\s+[^>]*?)?>((?!<\\1(\\s+[^>]*?)?>)[\\s\\S])*?<\\\/\\1>)*?<\\\/\\1>)*?)<\\\/\\1>\/gi,i),e=e.replace(\/<(span)(\\s+[^>]*?)?\\s+style\\s*=\\s*"((?:[^"]*?;)?\\s*(?:font-family|font-size|color)\\s*:[^"]*)"( [^>]*)?>(((?!<\\1(\\s+[^>]*?)?>)[\\s\\S]|<\\1(\\s+[^>]*?)?>((?!<\\1(\\s+[^>]*?)?>)[\\s\\S])*?<\\\/\\1>)*?)<\\\/\\1>\/gi,i),e=e.replace(\/<(span)(\\s+[^>]*?)?\\s+style\\s*=\\s*"((?:[^"]*?;)?\\s*(?:font-family|font-size|color)\\s*:[^"]*)"( [^>]*)?>(((?!<\\1(\\s+[^>]*?)?>)[\\s\\S])*?)<\\\/\\1>\/gi,i)),e=e.replace(\/<(td|th)(\\s+[^>]*?)?>(\\s|&nbsp;)*<\\\/\\1>\/gi,"<$1$2>"+(isIE?"":"<br \/>")+"<\/$1>");else{if(isWebkit)for(var o=[{r:\/font-weight\\s*:\\s*bold;?\/gi,t:"strong"},{r:\/font-style\\s*:\\s*italic;?\/gi,t:"em"},{r:\/text-decoration\\s*:\\s*underline;?\/gi,t:"u"},{r:\/text-decoration\\s*:\\s*line-through;?\/gi,t:"strike"}],l=0;2>l;l++)e=e.replace(\/<(span)(\\s+[^>]*?)?\\s+class\\s*=\\s*"Apple-style-span"(\\s+[^>]*?)?>(((?!<\\1(\\s+[^>]*?)?>)[\\s\\S]|<\\1(\\s+[^>]*?)?>((?!<\\1(\\s+[^>]*?)?>)[\\s\\S]|<\\1(\\s+[^>]*?)?>((?!<\\1(\\s+[^>]*?)?>)[\\s\\S])*?<\\\/\\1>)*?<\\\/\\1>)*?)<\\\/\\1>\/gi,s),e=e.replace(\/<(span)(\\s+[^>]*?)?\\s+class\\s*=\\s*"Apple-style-span"(\\s+[^>]*?)?>(((?!<\\1(\\s+[^>]*?)?>)[\\s\\S]|<\\1(\\s+[^>]*?)?>((?!<\\1(\\s+[^>]*?)?>)[\\s\\S])*?<\\\/\\1>)*?)<\\\/\\1>\/gi,s),e=e.replace(\/<(span)(\\s+[^>]*?)?\\s+class\\s*=\\s*"Apple-style-span"(\\s+[^>]*?)?>(((?!<\\1(\\s+[^>]*?)?>)[\\s\\S])*?)<\\\/\\1>\/gi,s);e=e.replace(\/(<(\\w+))((?:\\s+[\\w\\-:]+\\s*=\\s*(?:"[^"]*"|'[^']*'|[^>\\s]+))*)\\s*(\\\/?>)\/g,function(e,t,i,s,a){i=i.toLowerCase();$/;"	f
xml	application/controllers/checkcode.php	/^        $xml = "<?xml version='1.0' encoding='UTF-8' ?>".$/;"	v
xml	application/controllers/checkcode.php	/^        $xml = file_get_contents("php:\/\/input","r");$/;"	v
xml	system/database/DB_utility.php	/^		$xml = "<{$root}>".$newline;$/;"	v
xmlData	application/controllers/home.php	/^    private function xmlData($ans){$/;"	f
xmlData	application/controllers/mainpage.php	/^    private function xmlData($ans){$/;"	f
xml_convert	system/helpers/xml_helper.php	/^	function xml_convert($str, $protect_all = FALSE)$/;"	f
xml_from_result	system/database/DB_utility.php	/^	function xml_from_result($query, $params = array())$/;"	f
xmlrpcArray	system/libraries/Xmlrpc.php	/^			$this->xmlrpcArray		=> '2',$/;"	v
xmlrpcArray	system/libraries/Xmlrpc.php	/^	var $xmlrpcArray	= 'array';$/;"	v
xmlrpcBase64	system/libraries/Xmlrpc.php	/^			$this->xmlrpcBase64		=> '1',$/;"	v
xmlrpcBase64	system/libraries/Xmlrpc.php	/^	var $xmlrpcBase64	= 'base64';$/;"	v
xmlrpcBoolean	system/libraries/Xmlrpc.php	/^			$this->xmlrpcBoolean	=> '1',$/;"	v
xmlrpcBoolean	system/libraries/Xmlrpc.php	/^	var $xmlrpcBoolean	= 'boolean';$/;"	v
xmlrpcDateTime	system/libraries/Xmlrpc.php	/^			$this->xmlrpcDateTime	=> '1',$/;"	v
xmlrpcDateTime	system/libraries/Xmlrpc.php	/^	var $xmlrpcDateTime	= 'dateTime.iso8601';$/;"	v
xmlrpcDouble	system/libraries/Xmlrpc.php	/^			$this->xmlrpcDouble		=> '1',$/;"	v
xmlrpcDouble	system/libraries/Xmlrpc.php	/^	var $xmlrpcDouble	= 'double';$/;"	v
xmlrpcI4	system/libraries/Xmlrpc.php	/^			$this->xmlrpcI4	 		=> '1',$/;"	v
xmlrpcI4	system/libraries/Xmlrpc.php	/^	var $xmlrpcI4		= 'i4';$/;"	v
xmlrpcInt	system/libraries/Xmlrpc.php	/^			$this->xmlrpcInt		=> '1',$/;"	v
xmlrpcInt	system/libraries/Xmlrpc.php	/^	var $xmlrpcInt		= 'int';$/;"	v
xmlrpcName	system/libraries/Xmlrpc.php	/^		$this->xmlrpcName		= $this->xmlrpcName;$/;"	v
xmlrpcName	system/libraries/Xmlrpc.php	/^	var $xmlrpcName			= 'XML-RPC for CodeIgniter';$/;"	v
xmlrpcString	system/libraries/Xmlrpc.php	/^			$this->xmlrpcString		=> '1',$/;"	v
xmlrpcString	system/libraries/Xmlrpc.php	/^	var $xmlrpcString	= 'string';$/;"	v
xmlrpcStruct	system/libraries/Xmlrpc.php	/^			$this->xmlrpcStruct		=> '3'$/;"	v
xmlrpcStruct	system/libraries/Xmlrpc.php	/^	var $xmlrpcStruct	= 'struct';$/;"	v
xmlrpcTypes	system/libraries/Xmlrpc.php	/^		$this->xmlrpcTypes = array($/;"	v
xmlrpcTypes	system/libraries/Xmlrpc.php	/^	var $xmlrpcTypes	= array();$/;"	v
xmlrpcVersion	system/libraries/Xmlrpc.php	/^	var $xmlrpcVersion		= '1.1';$/;"	v
xmlrpc_backslash	system/libraries/Xmlrpc.php	/^		$this->xmlrpc_backslash = chr(92).chr(92);$/;"	v
xmlrpc_backslash	system/libraries/Xmlrpc.php	/^	var $xmlrpc_backslash	= ''; \/\/ formulate backslashes for escaping regexp$/;"	v
xmlrpc_decoder	system/libraries/Xmlrpc.php	/^	function xmlrpc_decoder($xmlrpc_val)$/;"	f
xmlrpc_defencoding	system/libraries/Xmlrpc.php	/^	var $xmlrpc_defencoding = 'UTF-8';$/;"	v
xmlrpcerr	system/libraries/Xmlrpc.php	/^	var $xmlrpcerr		= array();	\/\/ Response numbers$/;"	v
xmlrpcerruser	system/libraries/Xmlrpc.php	/^	var $xmlrpcerruser		= 800; \/\/ Start of user errors$/;"	v
xmlrpcerrxml	system/libraries/Xmlrpc.php	/^	var $xmlrpcerrxml		= 100; \/\/ Start of XML Parse errors$/;"	v
xmlrpcstr	system/libraries/Xmlrpc.php	/^	var $xmlrpcstr		= array();  \/\/ Response strings$/;"	v
xp	system/libraries/Image_lib.php	/^		$xp	= $this->explode_name($this->dest_image);$/;"	v
xss_clean	system/core/Input.php	/^	function cookie($index = '', $xss_clean = FALSE)$/;"	v
xss_clean	system/core/Input.php	/^	function get($index = NULL, $xss_clean = FALSE)$/;"	v
xss_clean	system/core/Input.php	/^	function get_post($index = '', $xss_clean = FALSE)$/;"	v
xss_clean	system/core/Input.php	/^	function post($index = NULL, $xss_clean = FALSE)$/;"	v
xss_clean	system/core/Input.php	/^	function server($index = '', $xss_clean = FALSE)$/;"	v
xss_clean	system/core/Input.php	/^	public function get_request_header($index, $xss_clean = FALSE)$/;"	v
xss_clean	system/core/Security.php	/^	public function xss_clean($str, $is_image = FALSE)$/;"	f
xss_clean	system/helpers/cookie_helper.php	/^	function get_cookie($index = '', $xss_clean = FALSE)$/;"	v
xss_clean	system/helpers/security_helper.php	/^	function xss_clean($str, $is_image = FALSE)$/;"	f
xss_clean	system/libraries/Form_validation.php	/^	public function xss_clean($str)$/;"	f
xss_clean	system/libraries/Upload.php	/^		$this->xss_clean = ($flag == TRUE) ? TRUE : FALSE;$/;"	v
xss_clean	system/libraries/Upload.php	/^	public $xss_clean				= FALSE;$/;"	v
xss_clean	system/libraries/Xmlrpc.php	/^					$array[$key] = ($key == 'bits' OR $this->xss_clean == FALSE) ? $array[$key] : $CI->security->xss_clean($array[$key]);$/;"	v
xss_clean	system/libraries/Xmlrpc.php	/^	var $xss_clean			= TRUE;$/;"	v
xss_clean	system/libraries/Xmlrpc.php	/^	var $xss_clean = TRUE;$/;"	v
xss_clean	system/libraries/Xmlrpcs.php	/^			$this->xss_clean = $config['xss_clean'];$/;"	v
xss_hash	system/core/Security.php	/^	public function xss_hash()$/;"	f
y	js/art.js	/^    var sp = {x:0,y:0},ep = {x:0,y:0};$/;"	p
y	js/mainpage2.js	/^    var sp = {x:0,y:0},ep = {x:0,y:0},doc = document;$/;"	p
y	js/phone.js	/^    var sp = {x:0,y:0},ep = {x:0,y:0},doc = document;$/;"	p
y	system/helpers/captcha_helper.php	/^				$y = rand($img_height\/2, $img_height-3);$/;"	v
y	system/helpers/captcha_helper.php	/^				$y = rand(0 , $img_height\/2);$/;"	v
y	system/helpers/captcha_helper.php	/^			$y = $font_size+2;$/;"	v
y	system/helpers/captcha_helper.php	/^			$y = ($rad * sin($theta)) + $y_axis;$/;"	v
y	system/helpers/captcha_helper.php	/^			$y = 0;$/;"	v
y1	system/helpers/captcha_helper.php	/^			$y1 = ($rad1 * sin($theta )) + $y_axis;$/;"	v
y_axis	system/helpers/captcha_helper.php	/^		$y_axis = ($angle >= 0 ) ? rand($img_height, $img_width) : rand(6, $img_height);$/;"	v
y_axis	system/libraries/Image_lib.php	/^			$this->y_axis = 0;$/;"	v
y_axis	system/libraries/Image_lib.php	/^		$this->y_axis = ($this->y_axis == '' OR ! is_numeric($this->y_axis)) ? 0 : $this->y_axis;$/;"	v
y_axis	system/libraries/Image_lib.php	/^		$y_axis = $this->wm_vrt_offset + $this->wm_padding;$/;"	v
y_axis	system/libraries/Image_lib.php	/^	var	$y_axis				= '';$/;"	v
y_shad	system/libraries/Image_lib.php	/^		$y_shad = $y_axis + $this->wm_shadow_distance;$/;"	v
year	system/helpers/date_helper.php	/^			$year = date('Y');$/;"	v
year	system/helpers/date_helper.php	/^		$year  = (strlen($ex['0']) == 2) ? '20'.$ex['0'] : $ex['0'];$/;"	v
year	system/helpers/date_helper.php	/^	function days_in_month($month = 0, $year = '')$/;"	v
year	system/libraries/Calendar.php	/^			$year  = date("Y", $this->local_time);$/;"	v
year	system/libraries/Calendar.php	/^			$year = '20'.$year;$/;"	v
year	system/libraries/Calendar.php	/^			$year = '200'.$year;$/;"	v
year	system/libraries/Calendar.php	/^		$year	= $adjusted_date['year'];$/;"	v
years	system/helpers/date_helper.php	/^		$years = floor($seconds \/ 31536000);$/;"	v
you	index.php	/^	\/\/ The controller function you wish to be called.$/;"	f
you	system/libraries/Session.php	/^			show_error('In order to use the Session class you are required to set an encryption key in your config file.');$/;"	c
ypos	application/controllers/checkcode.php	/^			 $ypos  = $this->height \/ 2 + rand(10, 30);$/;"	v
ypos	application/controllers/checkcode.php	/^		        $ypos  = $this->height \/ 2 - rand(10, 30);$/;"	v
z	system/libraries/Email.php	/^		$z = 0;$/;"	v
zebra	system/libraries/javascript/Jquery.php	/^		$zebra  = "\\t\\$(\\"table{$class} tbody tr:nth-child(even)\\").addClass(\\"{$odd}\\");";$/;"	v
zhuxiao	application/controllers/destory.php	/^	public function zhuxiao()$/;"	f
zip_content	system/libraries/Zip.php	/^		$zip_content =& $get_zip;$/;"	v
zip_data	system/libraries/Zip.php	/^		$zip_data = $this->zipdata;$/;"	v
zipdata	system/libraries/Zip.php	/^		$this->zipdata		= '';$/;"	v
zipdata	system/libraries/Zip.php	/^	var $zipdata	= '';$/;"	v
zones	system/helpers/date_helper.php	/^		$zones = array($/;"	v
